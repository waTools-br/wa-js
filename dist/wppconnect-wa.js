/*! wppconnect-team/wa-js v3.18.7 */

/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  var i
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),

/***/ "./node_modules/buffer/index.js":
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



const base64 = __webpack_require__(/*! base64-js */ "./node_modules/base64-js/index.js")
const ieee754 = __webpack_require__(/*! ieee754 */ "./node_modules/ieee754/index.js")
const customInspectSymbol =
  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation
    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation
    : null

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

const K_MAX_LENGTH = 0x7fffffff
exports.kMaxLength = K_MAX_LENGTH

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Print warning and recommend using `buffer` v4.x which has an Object
 *               implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * We report that the browser does not support typed arrays if the are not subclassable
 * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`
 * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support
 * for __proto__ and has a buggy typed array implementation.
 */
Buffer.TYPED_ARRAY_SUPPORT = typedArraySupport()

if (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&
    typeof console.error === 'function') {
  console.error(
    'This browser lacks typed array (Uint8Array) support which is required by ' +
    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'
  )
}

function typedArraySupport () {
  // Can typed array instances can be augmented?
  try {
    const arr = new Uint8Array(1)
    const proto = { foo: function () { return 42 } }
    Object.setPrototypeOf(proto, Uint8Array.prototype)
    Object.setPrototypeOf(arr, proto)
    return arr.foo() === 42
  } catch (e) {
    return false
  }
}

Object.defineProperty(Buffer.prototype, 'parent', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.buffer
  }
})

Object.defineProperty(Buffer.prototype, 'offset', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.byteOffset
  }
})

function createBuffer (length) {
  if (length > K_MAX_LENGTH) {
    throw new RangeError('The value "' + length + '" is invalid for option "size"')
  }
  // Return an augmented `Uint8Array` instance
  const buf = new Uint8Array(length)
  Object.setPrototypeOf(buf, Buffer.prototype)
  return buf
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new TypeError(
        'The "string" argument must be of type string. Received type number'
      )
    }
    return allocUnsafe(arg)
  }
  return from(arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

function from (value, encodingOrOffset, length) {
  if (typeof value === 'string') {
    return fromString(value, encodingOrOffset)
  }

  if (ArrayBuffer.isView(value)) {
    return fromArrayView(value)
  }

  if (value == null) {
    throw new TypeError(
      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
      'or Array-like Object. Received type ' + (typeof value)
    )
  }

  if (isInstance(value, ArrayBuffer) ||
      (value && isInstance(value.buffer, ArrayBuffer))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof SharedArrayBuffer !== 'undefined' &&
      (isInstance(value, SharedArrayBuffer) ||
      (value && isInstance(value.buffer, SharedArrayBuffer)))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof value === 'number') {
    throw new TypeError(
      'The "value" argument must not be of type number. Received type number'
    )
  }

  const valueOf = value.valueOf && value.valueOf()
  if (valueOf != null && valueOf !== value) {
    return Buffer.from(valueOf, encodingOrOffset, length)
  }

  const b = fromObject(value)
  if (b) return b

  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&
      typeof value[Symbol.toPrimitive] === 'function') {
    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)
  }

  throw new TypeError(
    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
    'or Array-like Object. Received type ' + (typeof value)
  )
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(value, encodingOrOffset, length)
}

// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:
// https://github.com/feross/buffer/pull/148
Object.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)
Object.setPrototypeOf(Buffer, Uint8Array)

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be of type number')
  } else if (size < 0) {
    throw new RangeError('The value "' + size + '" is invalid for option "size"')
  }
}

function alloc (size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpreted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(size).fill(fill, encoding)
      : createBuffer(size).fill(fill)
  }
  return createBuffer(size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(size, fill, encoding)
}

function allocUnsafe (size) {
  assertSize(size)
  return createBuffer(size < 0 ? 0 : checked(size) | 0)
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(size)
}

function fromString (string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('Unknown encoding: ' + encoding)
  }

  const length = byteLength(string, encoding) | 0
  let buf = createBuffer(length)

  const actual = buf.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    buf = buf.slice(0, actual)
  }

  return buf
}

function fromArrayLike (array) {
  const length = array.length < 0 ? 0 : checked(array.length) | 0
  const buf = createBuffer(length)
  for (let i = 0; i < length; i += 1) {
    buf[i] = array[i] & 255
  }
  return buf
}

function fromArrayView (arrayView) {
  if (isInstance(arrayView, Uint8Array)) {
    const copy = new Uint8Array(arrayView)
    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)
  }
  return fromArrayLike(arrayView)
}

function fromArrayBuffer (array, byteOffset, length) {
  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('"offset" is outside of buffer bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('"length" is outside of buffer bounds')
  }

  let buf
  if (byteOffset === undefined && length === undefined) {
    buf = new Uint8Array(array)
  } else if (length === undefined) {
    buf = new Uint8Array(array, byteOffset)
  } else {
    buf = new Uint8Array(array, byteOffset, length)
  }

  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(buf, Buffer.prototype)

  return buf
}

function fromObject (obj) {
  if (Buffer.isBuffer(obj)) {
    const len = checked(obj.length) | 0
    const buf = createBuffer(len)

    if (buf.length === 0) {
      return buf
    }

    obj.copy(buf, 0, 0, len)
    return buf
  }

  if (obj.length !== undefined) {
    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {
      return createBuffer(0)
    }
    return fromArrayLike(obj)
  }

  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {
    return fromArrayLike(obj.data)
  }
}

function checked (length) {
  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= K_MAX_LENGTH) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return b != null && b._isBuffer === true &&
    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false
}

Buffer.compare = function compare (a, b) {
  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)
  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError(
      'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
    )
  }

  if (a === b) return 0

  let x = a.length
  let y = b.length

  for (let i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!Array.isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  let i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  const buffer = Buffer.allocUnsafe(length)
  let pos = 0
  for (i = 0; i < list.length; ++i) {
    let buf = list[i]
    if (isInstance(buf, Uint8Array)) {
      if (pos + buf.length > buffer.length) {
        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)
        buf.copy(buffer, pos)
      } else {
        Uint8Array.prototype.set.call(
          buffer,
          buf,
          pos
        )
      }
    } else if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    } else {
      buf.copy(buffer, pos)
    }
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    throw new TypeError(
      'The "string" argument must be one of type string, Buffer, or ArrayBuffer. ' +
      'Received type ' + typeof string
    )
  }

  const len = string.length
  const mustMatch = (arguments.length > 2 && arguments[2] === true)
  if (!mustMatch && len === 0) return 0

  // Use a for loop to avoid recursion
  let loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) {
          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8
        }
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  let loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)
// to detect a Buffer instance. It's not possible to use `instanceof Buffer`
// reliably in a browserify context because there could be multiple different
// copies of the 'buffer' package in use. This method works even for Buffer
// instances that were created from another copy of the `buffer` package.
// See: https://github.com/feross/buffer/issues/154
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  const i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  const len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (let i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  const len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (let i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  const len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (let i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  const length = this.length
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.toLocaleString = Buffer.prototype.toString

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  let str = ''
  const max = exports.INSPECT_MAX_BYTES
  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()
  if (this.length > max) str += ' ... '
  return '<Buffer ' + str + '>'
}
if (customInspectSymbol) {
  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (isInstance(target, Uint8Array)) {
    target = Buffer.from(target, target.offset, target.byteLength)
  }
  if (!Buffer.isBuffer(target)) {
    throw new TypeError(
      'The "target" argument must be one of type Buffer or Uint8Array. ' +
      'Received type ' + (typeof target)
    )
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  let x = thisEnd - thisStart
  let y = end - start
  const len = Math.min(x, y)

  const thisCopy = this.slice(thisStart, thisEnd)
  const targetCopy = target.slice(start, end)

  for (let i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset // Coerce to Number.
  if (numberIsNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  let indexSize = 1
  let arrLength = arr.length
  let valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  let i
  if (dir) {
    let foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      let found = true
      for (let j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  const remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  const strLen = string.length

  if (length > strLen / 2) {
    length = strLen / 2
  }
  let i
  for (i = 0; i < length; ++i) {
    const parsed = parseInt(string.substr(i * 2, 2), 16)
    if (numberIsNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset >>> 0
    if (isFinite(length)) {
      length = length >>> 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  const remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  let loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
      case 'latin1':
      case 'binary':
        return asciiWrite(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  const res = []

  let i = start
  while (i < end) {
    const firstByte = buf[i]
    let codePoint = null
    let bytesPerSequence = (firstByte > 0xEF)
      ? 4
      : (firstByte > 0xDF)
          ? 3
          : (firstByte > 0xBF)
              ? 2
              : 1

    if (i + bytesPerSequence <= end) {
      let secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
const MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  const len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  let res = ''
  let i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  let ret = ''
  end = Math.min(buf.length, end)

  for (let i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  let ret = ''
  end = Math.min(buf.length, end)

  for (let i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  const len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  let out = ''
  for (let i = start; i < end; ++i) {
    out += hexSliceLookupTable[buf[i]]
  }
  return out
}

function utf16leSlice (buf, start, end) {
  const bytes = buf.slice(start, end)
  let res = ''
  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)
  for (let i = 0; i < bytes.length - 1; i += 2) {
    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  const len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  const newBuf = this.subarray(start, end)
  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(newBuf, Buffer.prototype)

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUintLE =
Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let val = this[offset]
  let mul = 1
  let i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUintBE =
Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  let val = this[offset + --byteLength]
  let mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUint8 =
Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUint16LE =
Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUint16BE =
Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUint32LE =
Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUint32BE =
Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const lo = first +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 24

  const hi = this[++offset] +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    last * 2 ** 24

  return BigInt(lo) + (BigInt(hi) << BigInt(32))
})

Buffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const hi = first * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    this[++offset]

  const lo = this[++offset] * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    last

  return (BigInt(hi) << BigInt(32)) + BigInt(lo)
})

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let val = this[offset]
  let mul = 1
  let i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let i = byteLength
  let mul = 1
  let val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  const val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  const val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const val = this[offset + 4] +
    this[offset + 5] * 2 ** 8 +
    this[offset + 6] * 2 ** 16 +
    (last << 24) // Overflow

  return (BigInt(val) << BigInt(32)) +
    BigInt(first +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 24)
})

Buffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const val = (first << 24) + // Overflow
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    this[++offset]

  return (BigInt(val) << BigInt(32)) +
    BigInt(this[++offset] * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    last)
})

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUintLE =
Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    const maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  let mul = 1
  let i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUintBE =
Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    const maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  let i = byteLength - 1
  let mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUint8 =
Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeUint16LE =
Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeUint16BE =
Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeUint32LE =
Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset + 3] = (value >>> 24)
  this[offset + 2] = (value >>> 16)
  this[offset + 1] = (value >>> 8)
  this[offset] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeUint32BE =
Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

function wrtBigUInt64LE (buf, value, offset, min, max) {
  checkIntBI(value, min, max, buf, offset, 7)

  let lo = Number(value & BigInt(0xffffffff))
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  return offset
}

function wrtBigUInt64BE (buf, value, offset, min, max) {
  checkIntBI(value, min, max, buf, offset, 7)

  let lo = Number(value & BigInt(0xffffffff))
  buf[offset + 7] = lo
  lo = lo >> 8
  buf[offset + 6] = lo
  lo = lo >> 8
  buf[offset + 5] = lo
  lo = lo >> 8
  buf[offset + 4] = lo
  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))
  buf[offset + 3] = hi
  hi = hi >> 8
  buf[offset + 2] = hi
  hi = hi >> 8
  buf[offset + 1] = hi
  hi = hi >> 8
  buf[offset] = hi
  return offset + 8
}

Buffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {
  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))
})

Buffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {
  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))
})

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    const limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  let i = 0
  let mul = 1
  let sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    const limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  let i = byteLength - 1
  let mul = 1
  let sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  this[offset + 2] = (value >>> 16)
  this[offset + 3] = (value >>> 24)
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {
  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))
})

Buffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {
  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))
})

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  const len = end - start

  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {
    // Use built-in when available, missing from IE11
    this.copyWithin(targetStart, start, end)
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, end),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
    if (val.length === 1) {
      const code = val.charCodeAt(0)
      if ((encoding === 'utf8' && code < 128) ||
          encoding === 'latin1') {
        // Fast path: If `val` fits into a single byte, use that numeric value.
        val = code
      }
    }
  } else if (typeof val === 'number') {
    val = val & 255
  } else if (typeof val === 'boolean') {
    val = Number(val)
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  let i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    const bytes = Buffer.isBuffer(val)
      ? val
      : Buffer.from(val, encoding)
    const len = bytes.length
    if (len === 0) {
      throw new TypeError('The value "' + val +
        '" is invalid for argument "value"')
    }
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// CUSTOM ERRORS
// =============

// Simplified versions from Node, changed for Buffer-only usage
const errors = {}
function E (sym, getMessage, Base) {
  errors[sym] = class NodeError extends Base {
    constructor () {
      super()

      Object.defineProperty(this, 'message', {
        value: getMessage.apply(this, arguments),
        writable: true,
        configurable: true
      })

      // Add the error code to the name to include it in the stack trace.
      this.name = `${this.name} [${sym}]`
      // Access the stack to generate the error message including the error code
      // from the name.
      this.stack // eslint-disable-line no-unused-expressions
      // Reset the name to the actual name.
      delete this.name
    }

    get code () {
      return sym
    }

    set code (value) {
      Object.defineProperty(this, 'code', {
        configurable: true,
        enumerable: true,
        value,
        writable: true
      })
    }

    toString () {
      return `${this.name} [${sym}]: ${this.message}`
    }
  }
}

E('ERR_BUFFER_OUT_OF_BOUNDS',
  function (name) {
    if (name) {
      return `${name} is outside of buffer bounds`
    }

    return 'Attempt to access memory outside buffer bounds'
  }, RangeError)
E('ERR_INVALID_ARG_TYPE',
  function (name, actual) {
    return `The "${name}" argument must be of type number. Received type ${typeof actual}`
  }, TypeError)
E('ERR_OUT_OF_RANGE',
  function (str, range, input) {
    let msg = `The value of "${str}" is out of range.`
    let received = input
    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {
      received = addNumericalSeparator(String(input))
    } else if (typeof input === 'bigint') {
      received = String(input)
      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {
        received = addNumericalSeparator(received)
      }
      received += 'n'
    }
    msg += ` It must be ${range}. Received ${received}`
    return msg
  }, RangeError)

function addNumericalSeparator (val) {
  let res = ''
  let i = val.length
  const start = val[0] === '-' ? 1 : 0
  for (; i >= start + 4; i -= 3) {
    res = `_${val.slice(i - 3, i)}${res}`
  }
  return `${val.slice(0, i)}${res}`
}

// CHECK FUNCTIONS
// ===============

function checkBounds (buf, offset, byteLength) {
  validateNumber(offset, 'offset')
  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {
    boundsError(offset, buf.length - (byteLength + 1))
  }
}

function checkIntBI (value, min, max, buf, offset, byteLength) {
  if (value > max || value < min) {
    const n = typeof min === 'bigint' ? 'n' : ''
    let range
    if (byteLength > 3) {
      if (min === 0 || min === BigInt(0)) {
        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`
      } else {
        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +
                `${(byteLength + 1) * 8 - 1}${n}`
      }
    } else {
      range = `>= ${min}${n} and <= ${max}${n}`
    }
    throw new errors.ERR_OUT_OF_RANGE('value', range, value)
  }
  checkBounds(buf, offset, byteLength)
}

function validateNumber (value, name) {
  if (typeof value !== 'number') {
    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)
  }
}

function boundsError (value, length, type) {
  if (Math.floor(value) !== value) {
    validateNumber(value, type)
    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)
  }

  if (length < 0) {
    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()
  }

  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',
                                    `>= ${type ? 1 : 0} and <= ${length}`,
                                    value)
}

// HELPER FUNCTIONS
// ================

const INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node takes equal signs as end of the Base64 encoding
  str = str.split('=')[0]
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = str.trim().replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  let codePoint
  const length = string.length
  let leadSurrogate = null
  const bytes = []

  for (let i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  const byteArray = []
  for (let i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  let c, hi, lo
  const byteArray = []
  for (let i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  let i
  for (i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass
// the `instanceof` check but they should be treated as of that type.
// See: https://github.com/feross/buffer/issues/166
function isInstance (obj, type) {
  return obj instanceof type ||
    (obj != null && obj.constructor != null && obj.constructor.name != null &&
      obj.constructor.name === type.name)
}
function numberIsNaN (obj) {
  // For IE11 support
  return obj !== obj // eslint-disable-line no-self-compare
}

// Create lookup table for `toString('hex')`
// See: https://github.com/feross/buffer/issues/219
const hexSliceLookupTable = (function () {
  const alphabet = '0123456789abcdef'
  const table = new Array(256)
  for (let i = 0; i < 16; ++i) {
    const i16 = i * 16
    for (let j = 0; j < 16; ++j) {
      table[i16 + j] = alphabet[i] + alphabet[j]
    }
  }
  return table
})()

// Return not function with Error if BigInt not supported
function defineBigIntMethod (fn) {
  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn
}

function BufferBigIntNotDefined () {
  throw new Error('BigInt not supported')
}


/***/ }),

/***/ "./node_modules/compare-versions/lib/esm/compare.js":
/*!**********************************************************!*\
  !*** ./node_modules/compare-versions/lib/esm/compare.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   compare: () => (/* binding */ compare)
/* harmony export */ });
/* harmony import */ var _compareVersions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compareVersions.js */ "./node_modules/compare-versions/lib/esm/compareVersions.js");

/**
 * Compare [semver](https://semver.org/) version strings using the specified operator.
 *
 * @param v1 First version to compare
 * @param v2 Second version to compare
 * @param operator Allowed arithmetic operator to use
 * @returns `true` if the comparison between the firstVersion and the secondVersion satisfies the operator, `false` otherwise.
 *
 * @example
 * ```
 * compare('10.1.8', '10.0.4', '>'); // return true
 * compare('10.0.1', '10.0.1', '='); // return true
 * compare('10.1.1', '10.2.2', '<'); // return true
 * compare('10.1.1', '10.2.2', '<='); // return true
 * compare('10.1.1', '10.2.2', '>='); // return false
 * ```
 */
const compare = (v1, v2, operator) => {
    // validate input operator
    assertValidOperator(operator);
    // since result of compareVersions can only be -1 or 0 or 1
    // a simple map can be used to replace switch
    const res = (0,_compareVersions_js__WEBPACK_IMPORTED_MODULE_0__.compareVersions)(v1, v2);
    return operatorResMap[operator].includes(res);
};
const operatorResMap = {
    '>': [1],
    '>=': [0, 1],
    '=': [0],
    '<=': [-1, 0],
    '<': [-1],
    '!=': [-1, 1],
};
const allowedOperators = Object.keys(operatorResMap);
const assertValidOperator = (op) => {
    if (typeof op !== 'string') {
        throw new TypeError(`Invalid operator type, expected string but got ${typeof op}`);
    }
    if (allowedOperators.indexOf(op) === -1) {
        throw new Error(`Invalid operator, expected one of ${allowedOperators.join('|')}`);
    }
};
//# sourceMappingURL=compare.js.map

/***/ }),

/***/ "./node_modules/compare-versions/lib/esm/compareVersions.js":
/*!******************************************************************!*\
  !*** ./node_modules/compare-versions/lib/esm/compareVersions.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   compareVersions: () => (/* binding */ compareVersions)
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/compare-versions/lib/esm/utils.js");

/**
 * Compare [semver](https://semver.org/) version strings to find greater, equal or lesser.
 * This library supports the full semver specification, including comparing versions with different number of digits like `1.0.0`, `1.0`, `1`, and pre-release versions like `1.0.0-alpha`.
 * @param v1 - First version to compare
 * @param v2 - Second version to compare
 * @returns Numeric value compatible with the [Array.sort(fn) interface](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#Parameters).
 */
const compareVersions = (v1, v2) => {
    // validate input and split into segments
    const n1 = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.validateAndParse)(v1);
    const n2 = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.validateAndParse)(v2);
    // pop off the patch
    const p1 = n1.pop();
    const p2 = n2.pop();
    // validate numbers
    const r = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.compareSegments)(n1, n2);
    if (r !== 0)
        return r;
    // validate pre-release
    if (p1 && p2) {
        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.compareSegments)(p1.split('.'), p2.split('.'));
    }
    else if (p1 || p2) {
        return p1 ? -1 : 1;
    }
    return 0;
};
//# sourceMappingURL=compareVersions.js.map

/***/ }),

/***/ "./node_modules/compare-versions/lib/esm/index.js":
/*!********************************************************!*\
  !*** ./node_modules/compare-versions/lib/esm/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   compare: () => (/* reexport safe */ _compare_js__WEBPACK_IMPORTED_MODULE_0__.compare),
/* harmony export */   compareVersions: () => (/* reexport safe */ _compareVersions_js__WEBPACK_IMPORTED_MODULE_1__.compareVersions),
/* harmony export */   satisfies: () => (/* reexport safe */ _satisfies_js__WEBPACK_IMPORTED_MODULE_2__.satisfies),
/* harmony export */   validate: () => (/* reexport safe */ _validate_js__WEBPACK_IMPORTED_MODULE_3__.validate),
/* harmony export */   validateStrict: () => (/* reexport safe */ _validate_js__WEBPACK_IMPORTED_MODULE_3__.validateStrict)
/* harmony export */ });
/* harmony import */ var _compare_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compare.js */ "./node_modules/compare-versions/lib/esm/compare.js");
/* harmony import */ var _compareVersions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./compareVersions.js */ "./node_modules/compare-versions/lib/esm/compareVersions.js");
/* harmony import */ var _satisfies_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./satisfies.js */ "./node_modules/compare-versions/lib/esm/satisfies.js");
/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./validate.js */ "./node_modules/compare-versions/lib/esm/validate.js");




//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/compare-versions/lib/esm/satisfies.js":
/*!************************************************************!*\
  !*** ./node_modules/compare-versions/lib/esm/satisfies.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   satisfies: () => (/* binding */ satisfies)
/* harmony export */ });
/* harmony import */ var _compare_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compare.js */ "./node_modules/compare-versions/lib/esm/compare.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ "./node_modules/compare-versions/lib/esm/utils.js");


/**
 * Match [npm semver](https://docs.npmjs.com/cli/v6/using-npm/semver) version range.
 *
 * @param version Version number to match
 * @param range Range pattern for version
 * @returns `true` if the version number is within the range, `false` otherwise.
 *
 * @example
 * ```
 * satisfies('1.1.0', '^1.0.0'); // return true
 * satisfies('1.1.0', '~1.0.0'); // return false
 * ```
 */
const satisfies = (version, range) => {
    // clean input
    range = range.replace(/([><=]+)\s+/g, '$1');
    // handle multiple comparators
    if (range.includes('||')) {
        return range.split('||').some((r) => satisfies(version, r));
    }
    else if (range.includes(' - ')) {
        const [a, b] = range.split(' - ', 2);
        return satisfies(version, `>=${a} <=${b}`);
    }
    else if (range.includes(' ')) {
        return range
            .trim()
            .replace(/\s{2,}/g, ' ')
            .split(' ')
            .every((r) => satisfies(version, r));
    }
    // if no range operator then "="
    const m = range.match(/^([<>=~^]+)/);
    const op = m ? m[1] : '=';
    // if gt/lt/eq then operator compare
    if (op !== '^' && op !== '~')
        return (0,_compare_js__WEBPACK_IMPORTED_MODULE_0__.compare)(version, range, op);
    // else range of either "~" or "^" is assumed
    const [v1, v2, v3, , vp] = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateAndParse)(version);
    const [r1, r2, r3, , rp] = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateAndParse)(range);
    const v = [v1, v2, v3];
    const r = [r1, r2 !== null && r2 !== void 0 ? r2 : 'x', r3 !== null && r3 !== void 0 ? r3 : 'x'];
    // validate pre-release
    if (rp) {
        if (!vp)
            return false;
        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.compareSegments)(v, r) !== 0)
            return false;
        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.compareSegments)(vp.split('.'), rp.split('.')) === -1)
            return false;
    }
    // first non-zero number
    const nonZero = r.findIndex((v) => v !== '0') + 1;
    // pointer to where segments can be >=
    const i = op === '~' ? 2 : nonZero > 1 ? nonZero : 1;
    // before pointer must be equal
    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.compareSegments)(v.slice(0, i), r.slice(0, i)) !== 0)
        return false;
    // after pointer must be >=
    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.compareSegments)(v.slice(i), r.slice(i)) === -1)
        return false;
    return true;
};
//# sourceMappingURL=satisfies.js.map

/***/ }),

/***/ "./node_modules/compare-versions/lib/esm/utils.js":
/*!********************************************************!*\
  !*** ./node_modules/compare-versions/lib/esm/utils.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   compareSegments: () => (/* binding */ compareSegments),
/* harmony export */   semver: () => (/* binding */ semver),
/* harmony export */   validateAndParse: () => (/* binding */ validateAndParse)
/* harmony export */ });
const semver = /^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;
const validateAndParse = (version) => {
    if (typeof version !== 'string') {
        throw new TypeError('Invalid argument expected string');
    }
    const match = version.match(semver);
    if (!match) {
        throw new Error(`Invalid argument not valid semver ('${version}' received)`);
    }
    match.shift();
    return match;
};
const isWildcard = (s) => s === '*' || s === 'x' || s === 'X';
const tryParse = (v) => {
    const n = parseInt(v, 10);
    return isNaN(n) ? v : n;
};
const forceType = (a, b) => typeof a !== typeof b ? [String(a), String(b)] : [a, b];
const compareStrings = (a, b) => {
    if (isWildcard(a) || isWildcard(b))
        return 0;
    const [ap, bp] = forceType(tryParse(a), tryParse(b));
    if (ap > bp)
        return 1;
    if (ap < bp)
        return -1;
    return 0;
};
const compareSegments = (a, b) => {
    for (let i = 0; i < Math.max(a.length, b.length); i++) {
        const r = compareStrings(a[i] || '0', b[i] || '0');
        if (r !== 0)
            return r;
    }
    return 0;
};
//# sourceMappingURL=utils.js.map

/***/ }),

/***/ "./node_modules/compare-versions/lib/esm/validate.js":
/*!***********************************************************!*\
  !*** ./node_modules/compare-versions/lib/esm/validate.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   validate: () => (/* binding */ validate),
/* harmony export */   validateStrict: () => (/* binding */ validateStrict)
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/compare-versions/lib/esm/utils.js");

/**
 * Validate [semver](https://semver.org/) version strings.
 *
 * @param version Version number to validate
 * @returns `true` if the version number is a valid semver version number, `false` otherwise.
 *
 * @example
 * ```
 * validate('1.0.0-rc.1'); // return true
 * validate('1.0-rc.1'); // return false
 * validate('foo'); // return false
 * ```
 */
const validate = (version) => typeof version === 'string' && /^[v\d]/.test(version) && _utils_js__WEBPACK_IMPORTED_MODULE_0__.semver.test(version);
/**
 * Validate [semver](https://semver.org/) version strings strictly. Will not accept wildcards and version ranges.
 *
 * @param version Version number to validate
 * @returns `true` if the version number is a valid semver version number `false` otherwise
 *
 * @example
 * ```
 * validate('1.0.0-rc.1'); // return true
 * validate('1.0-rc.1'); // return false
 * validate('foo'); // return false
 * ```
 */
const validateStrict = (version) => typeof version === 'string' &&
    /^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(version);
//# sourceMappingURL=validate.js.map

/***/ }),

/***/ "./node_modules/compressorjs/dist/compressor.js":
/*!******************************************************!*\
  !*** ./node_modules/compressorjs/dist/compressor.js ***!
  \******************************************************/
/***/ (function(module) {

/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */

(function (global, factory) {
   true ? module.exports = factory() :
  0;
})(this, (function () { 'use strict';

  function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);
    if (Object.getOwnPropertySymbols) {
      var symbols = Object.getOwnPropertySymbols(object);
      enumerableOnly && (symbols = symbols.filter(function (sym) {
        return Object.getOwnPropertyDescriptor(object, sym).enumerable;
      })), keys.push.apply(keys, symbols);
    }
    return keys;
  }
  function _objectSpread2(target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = null != arguments[i] ? arguments[i] : {};
      i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {
        _defineProperty(target, key, source[key]);
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
    return target;
  }
  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }
  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
    }
  }
  function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    Object.defineProperty(Constructor, "prototype", {
      writable: false
    });
    return Constructor;
  }
  function _defineProperty(obj, key, value) {
    key = _toPropertyKey(key);
    if (key in obj) {
      Object.defineProperty(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    } else {
      obj[key] = value;
    }
    return obj;
  }
  function _extends() {
    _extends = Object.assign ? Object.assign.bind() : function (target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i];
        for (var key in source) {
          if (Object.prototype.hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }
      return target;
    };
    return _extends.apply(this, arguments);
  }
  function _toPrimitive(input, hint) {
    if (typeof input !== "object" || input === null) return input;
    var prim = input[Symbol.toPrimitive];
    if (prim !== undefined) {
      var res = prim.call(input, hint || "default");
      if (typeof res !== "object") return res;
      throw new TypeError("@@toPrimitive must return a primitive value.");
    }
    return (hint === "string" ? String : Number)(input);
  }
  function _toPropertyKey(arg) {
    var key = _toPrimitive(arg, "string");
    return typeof key === "symbol" ? key : String(key);
  }

  var canvasToBlob = {exports: {}};

  /*
   * JavaScript Canvas to Blob
   * https://github.com/blueimp/JavaScript-Canvas-to-Blob
   *
   * Copyright 2012, Sebastian Tschan
   * https://blueimp.net
   *
   * Licensed under the MIT license:
   * https://opensource.org/licenses/MIT
   *
   * Based on stackoverflow user Stoive's code snippet:
   * http://stackoverflow.com/q/4998908
   */
  (function (module) {
  if (typeof window === 'undefined') {
    return;
  }
    (function (window) {

      var CanvasPrototype = window.HTMLCanvasElement && window.HTMLCanvasElement.prototype;
      var hasBlobConstructor = window.Blob && function () {
        try {
          return Boolean(new Blob());
        } catch (e) {
          return false;
        }
      }();
      var hasArrayBufferViewSupport = hasBlobConstructor && window.Uint8Array && function () {
        try {
          return new Blob([new Uint8Array(100)]).size === 100;
        } catch (e) {
          return false;
        }
      }();
      var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;
      var dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/;
      var dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window.atob && window.ArrayBuffer && window.Uint8Array && function (dataURI) {
        var matches, mediaType, isBase64, dataString, byteString, arrayBuffer, intArray, i, bb;
        // Parse the dataURI components as per RFC 2397
        matches = dataURI.match(dataURIPattern);
        if (!matches) {
          throw new Error('invalid data URI');
        }
        // Default to text/plain;charset=US-ASCII
        mediaType = matches[2] ? matches[1] : 'text/plain' + (matches[3] || ';charset=US-ASCII');
        isBase64 = !!matches[4];
        dataString = dataURI.slice(matches[0].length);
        if (isBase64) {
          // Convert base64 to raw binary data held in a string:
          byteString = atob(dataString);
        } else {
          // Convert base64/URLEncoded data component to raw binary:
          byteString = decodeURIComponent(dataString);
        }
        // Write the bytes of the string to an ArrayBuffer:
        arrayBuffer = new ArrayBuffer(byteString.length);
        intArray = new Uint8Array(arrayBuffer);
        for (i = 0; i < byteString.length; i += 1) {
          intArray[i] = byteString.charCodeAt(i);
        }
        // Write the ArrayBuffer (or ArrayBufferView) to a blob:
        if (hasBlobConstructor) {
          return new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], {
            type: mediaType
          });
        }
        bb = new BlobBuilder();
        bb.append(arrayBuffer);
        return bb.getBlob(mediaType);
      };
      if (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {
        if (CanvasPrototype.mozGetAsFile) {
          CanvasPrototype.toBlob = function (callback, type, quality) {
            var self = this;
            setTimeout(function () {
              if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {
                callback(dataURLtoBlob(self.toDataURL(type, quality)));
              } else {
                callback(self.mozGetAsFile('blob', type));
              }
            });
          };
        } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {
          if (CanvasPrototype.msToBlob) {
            CanvasPrototype.toBlob = function (callback, type, quality) {
              var self = this;
              setTimeout(function () {
                if ((type && type !== 'image/png' || quality) && CanvasPrototype.toDataURL && dataURLtoBlob) {
                  callback(dataURLtoBlob(self.toDataURL(type, quality)));
                } else {
                  callback(self.msToBlob(type));
                }
              });
            };
          } else {
            CanvasPrototype.toBlob = function (callback, type, quality) {
              var self = this;
              setTimeout(function () {
                callback(dataURLtoBlob(self.toDataURL(type, quality)));
              });
            };
          }
        }
      }
      if (module.exports) {
        module.exports = dataURLtoBlob;
      } else {
        window.dataURLtoBlob = dataURLtoBlob;
      }
    })(window);
  })(canvasToBlob);
  var toBlob = canvasToBlob.exports;

  var isBlob = function isBlob(value) {
    if (typeof Blob === 'undefined') {
      return false;
    }
    return value instanceof Blob || Object.prototype.toString.call(value) === '[object Blob]';
  };

  var DEFAULTS = {
    /**
     * Indicates if output the original image instead of the compressed one
     * when the size of the compressed image is greater than the original one's
     * @type {boolean}
     */
    strict: true,
    /**
     * Indicates if read the image's Exif Orientation information,
     * and then rotate or flip the image automatically.
     * @type {boolean}
     */
    checkOrientation: true,
    /**
     * Indicates if retain the image's Exif information after compressed.
     * @type {boolean}
    */
    retainExif: false,
    /**
     * The max width of the output image.
     * @type {number}
     */
    maxWidth: Infinity,
    /**
     * The max height of the output image.
     * @type {number}
     */
    maxHeight: Infinity,
    /**
     * The min width of the output image.
     * @type {number}
     */
    minWidth: 0,
    /**
     * The min height of the output image.
     * @type {number}
     */
    minHeight: 0,
    /**
     * The width of the output image.
     * If not specified, the natural width of the source image will be used.
     * @type {number}
     */
    width: undefined,
    /**
     * The height of the output image.
     * If not specified, the natural height of the source image will be used.
     * @type {number}
     */
    height: undefined,
    /**
     * Sets how the size of the image should be resized to the container
     * specified by the `width` and `height` options.
     * @type {string}
     */
    resize: 'none',
    /**
     * The quality of the output image.
     * It must be a number between `0` and `1`,
     * and only available for `image/jpeg` and `image/webp` images.
     * Check out {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob canvas.toBlob}.
     * @type {number}
     */
    quality: 0.8,
    /**
     * The mime type of the output image.
     * By default, the original mime type of the source image file will be used.
     * @type {string}
     */
    mimeType: 'auto',
    /**
     * Files whose file type is included in this list,
     * and whose file size exceeds the `convertSize` value will be converted to JPEGs.
     * @type {stringArray}
     */
    convertTypes: ['image/png'],
    /**
     * PNG files over this size (5 MB by default) will be converted to JPEGs.
     * To disable this, just set the value to `Infinity`.
     * @type {number}
     */
    convertSize: 5000000,
    /**
     * The hook function to execute before draw the image into the canvas for compression.
     * @type {Function}
     * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.
     * @param {HTMLCanvasElement} canvas - The canvas for compression.
     * @example
     * function (context, canvas) {
     *   context.fillStyle = '#fff';
     * }
     */
    beforeDraw: null,
    /**
     * The hook function to execute after drew the image into the canvas for compression.
     * @type {Function}
     * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.
     * @param {HTMLCanvasElement} canvas - The canvas for compression.
     * @example
     * function (context, canvas) {
     *   context.filter = 'grayscale(100%)';
     * }
     */
    drew: null,
    /**
     * The hook function to execute when success to compress the image.
     * @type {Function}
     * @param {File} file - The compressed image File object.
     * @example
     * function (file) {
     *   console.log(file);
     * }
     */
    success: null,
    /**
     * The hook function to execute when fail to compress the image.
     * @type {Function}
     * @param {Error} err - An Error object.
     * @example
     * function (err) {
     *   console.log(err.message);
     * }
     */
    error: null
  };

  var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';
  var WINDOW = IS_BROWSER ? window : {};

  /**
   * Check if the given value is a positive number.
   * @param {*} value - The value to check.
   * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.
   */
  var isPositiveNumber = function isPositiveNumber(value) {
    return value > 0 && value < Infinity;
  };
  var slice = Array.prototype.slice;

  /**
   * Convert array-like or iterable object to an array.
   * @param {*} value - The value to convert.
   * @returns {Array} Returns a new array.
   */
  function toArray(value) {
    return Array.from ? Array.from(value) : slice.call(value);
  }
  var REGEXP_IMAGE_TYPE = /^image\/.+$/;

  /**
   * Check if the given value is a mime type of image.
   * @param {*} value - The value to check.
   * @returns {boolean} Returns `true` if the given is a mime type of image, else `false`.
   */
  function isImageType(value) {
    return REGEXP_IMAGE_TYPE.test(value);
  }

  /**
   * Convert image type to extension.
   * @param {string} value - The image type to convert.
   * @returns {boolean} Returns the image extension.
   */
  function imageTypeToExtension(value) {
    var extension = isImageType(value) ? value.substr(6) : '';
    if (extension === 'jpeg') {
      extension = 'jpg';
    }
    return ".".concat(extension);
  }
  var fromCharCode = String.fromCharCode;

  /**
   * Get string from char code in data view.
   * @param {DataView} dataView - The data view for read.
   * @param {number} start - The start index.
   * @param {number} length - The read length.
   * @returns {string} The read result.
   */
  function getStringFromCharCode(dataView, start, length) {
    var str = '';
    var i;
    length += start;
    for (i = start; i < length; i += 1) {
      str += fromCharCode(dataView.getUint8(i));
    }
    return str;
  }
  var btoa = WINDOW.btoa;

  /**
   * Transform array buffer to Data URL.
   * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.
   * @param {string} mimeType - The mime type of the Data URL.
   * @returns {string} The result Data URL.
   */
  function arrayBufferToDataURL(arrayBuffer, mimeType) {
    var chunks = [];
    var chunkSize = 8192;
    var uint8 = new Uint8Array(arrayBuffer);
    while (uint8.length > 0) {
      // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9
      // eslint-disable-next-line prefer-spread
      chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));
      uint8 = uint8.subarray(chunkSize);
    }
    return "data:".concat(mimeType, ";base64,").concat(btoa(chunks.join('')));
  }

  /**
   * Get orientation value from given array buffer.
   * @param {ArrayBuffer} arrayBuffer - The array buffer to read.
   * @returns {number} The read orientation value.
   */
  function resetAndGetOrientation(arrayBuffer) {
    var dataView = new DataView(arrayBuffer);
    var orientation;

    // Ignores range error when the image does not have correct Exif information
    try {
      var littleEndian;
      var app1Start;
      var ifdStart;

      // Only handle JPEG image (start by 0xFFD8)
      if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {
        var length = dataView.byteLength;
        var offset = 2;
        while (offset + 1 < length) {
          if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {
            app1Start = offset;
            break;
          }
          offset += 1;
        }
      }
      if (app1Start) {
        var exifIDCode = app1Start + 4;
        var tiffOffset = app1Start + 10;
        if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {
          var endianness = dataView.getUint16(tiffOffset);
          littleEndian = endianness === 0x4949;
          if (littleEndian || endianness === 0x4D4D /* bigEndian */) {
            if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {
              var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);
              if (firstIFDOffset >= 0x00000008) {
                ifdStart = tiffOffset + firstIFDOffset;
              }
            }
          }
        }
      }
      if (ifdStart) {
        var _length = dataView.getUint16(ifdStart, littleEndian);
        var _offset;
        var i;
        for (i = 0; i < _length; i += 1) {
          _offset = ifdStart + i * 12 + 2;
          if (dataView.getUint16(_offset, littleEndian) === 0x0112 /* Orientation */) {
            // 8 is the offset of the current tag's value
            _offset += 8;

            // Get the original orientation value
            orientation = dataView.getUint16(_offset, littleEndian);

            // Override the orientation with its default value
            dataView.setUint16(_offset, 1, littleEndian);
            break;
          }
        }
      }
    } catch (e) {
      orientation = 1;
    }
    return orientation;
  }

  /**
   * Parse Exif Orientation value.
   * @param {number} orientation - The orientation to parse.
   * @returns {Object} The parsed result.
   */
  function parseOrientation(orientation) {
    var rotate = 0;
    var scaleX = 1;
    var scaleY = 1;
    switch (orientation) {
      // Flip horizontal
      case 2:
        scaleX = -1;
        break;

      // Rotate left 180
      case 3:
        rotate = -180;
        break;

      // Flip vertical
      case 4:
        scaleY = -1;
        break;

      // Flip vertical and rotate right 90
      case 5:
        rotate = 90;
        scaleY = -1;
        break;

      // Rotate right 90
      case 6:
        rotate = 90;
        break;

      // Flip horizontal and rotate right 90
      case 7:
        rotate = 90;
        scaleX = -1;
        break;

      // Rotate left 90
      case 8:
        rotate = -90;
        break;
    }
    return {
      rotate: rotate,
      scaleX: scaleX,
      scaleY: scaleY
    };
  }
  var REGEXP_DECIMALS = /\.\d*(?:0|9){12}\d*$/;

  /**
   * Normalize decimal number.
   * Check out {@link https://0.30000000000000004.com/}
   * @param {number} value - The value to normalize.
   * @param {number} [times=100000000000] - The times for normalizing.
   * @returns {number} Returns the normalized number.
   */
  function normalizeDecimalNumber(value) {
    var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;
    return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;
  }

  /**
   * Get the max sizes in a rectangle under the given aspect ratio.
   * @param {Object} data - The original sizes.
   * @param {string} [type='contain'] - The adjust type.
   * @returns {Object} The result sizes.
   */
  function getAdjustedSizes(_ref) {
    var aspectRatio = _ref.aspectRatio,
      height = _ref.height,
      width = _ref.width;
    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'none';
    var isValidWidth = isPositiveNumber(width);
    var isValidHeight = isPositiveNumber(height);
    if (isValidWidth && isValidHeight) {
      var adjustedWidth = height * aspectRatio;
      if ((type === 'contain' || type === 'none') && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {
        height = width / aspectRatio;
      } else {
        width = height * aspectRatio;
      }
    } else if (isValidWidth) {
      height = width / aspectRatio;
    } else if (isValidHeight) {
      width = height * aspectRatio;
    }
    return {
      width: width,
      height: height
    };
  }

  /**
   * Get Exif information from the given array buffer.
   * @param {ArrayBuffer} arrayBuffer - The array buffer to read.
   * @returns {Array} The read Exif information.
   */
  function getExif(arrayBuffer) {
    var array = toArray(new Uint8Array(arrayBuffer));
    var length = array.length;
    var segments = [];
    var start = 0;
    while (start + 3 < length) {
      var value = array[start];
      var next = array[start + 1];

      // SOS (Start of Scan)
      if (value === 0xFF && next === 0xDA) {
        break;
      }

      // SOI (Start of Image)
      if (value === 0xFF && next === 0xD8) {
        start += 2;
      } else {
        var offset = array[start + 2] * 256 + array[start + 3];
        var end = start + offset + 2;
        var segment = array.slice(start, end);
        segments.push(segment);
        start = end;
      }
    }
    return segments.reduce(function (exifArray, current) {
      if (current[0] === 0xFF && current[1] === 0xE1) {
        return exifArray.concat(current);
      }
      return exifArray;
    }, []);
  }

  /**
   * Insert Exif information into the given array buffer.
   * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.
   * @param {Array} exifArray - The Exif information to insert.
   * @returns {ArrayBuffer} The transformed array buffer.
   */
  function insertExif(arrayBuffer, exifArray) {
    var array = toArray(new Uint8Array(arrayBuffer));
    if (array[2] !== 0xFF || array[3] !== 0xE0) {
      return arrayBuffer;
    }
    var app0Length = array[4] * 256 + array[5];
    var newArrayBuffer = [0xFF, 0xD8].concat(exifArray, array.slice(4 + app0Length));
    return new Uint8Array(newArrayBuffer);
  }

  var ArrayBuffer$1 = WINDOW.ArrayBuffer,
    FileReader = WINDOW.FileReader;
  var URL = WINDOW.URL || WINDOW.webkitURL;
  var REGEXP_EXTENSION = /\.\w+$/;
  var AnotherCompressor = WINDOW.Compressor;

  /**
   * Creates a new image compressor.
   * @class
   */
  var Compressor = /*#__PURE__*/function () {
    /**
     * The constructor of Compressor.
     * @param {File|Blob} file - The target image file for compressing.
     * @param {Object} [options] - The options for compressing.
     */
    function Compressor(file, options) {
      _classCallCheck(this, Compressor);
      this.file = file;
      this.exif = [];
      this.image = new Image();
      this.options = _objectSpread2(_objectSpread2({}, DEFAULTS), options);
      this.aborted = false;
      this.result = null;
      this.init();
    }
    _createClass(Compressor, [{
      key: "init",
      value: function init() {
        var _this = this;
        var file = this.file,
          options = this.options;
        if (!isBlob(file)) {
          this.fail(new Error('The first argument must be a File or Blob object.'));
          return;
        }
        var mimeType = file.type;
        if (!isImageType(mimeType)) {
          this.fail(new Error('The first argument must be an image File or Blob object.'));
          return;
        }
        if (!URL || !FileReader) {
          this.fail(new Error('The current browser does not support image compression.'));
          return;
        }
        if (!ArrayBuffer$1) {
          options.checkOrientation = false;
          options.retainExif = false;
        }
        var isJPEGImage = mimeType === 'image/jpeg';
        var checkOrientation = isJPEGImage && options.checkOrientation;
        var retainExif = isJPEGImage && options.retainExif;
        if (URL && !checkOrientation && !retainExif) {
          this.load({
            url: URL.createObjectURL(file)
          });
        } else {
          var reader = new FileReader();
          this.reader = reader;
          reader.onload = function (_ref) {
            var target = _ref.target;
            var result = target.result;
            var data = {};
            var orientation = 1;
            if (checkOrientation) {
              // Reset the orientation value to its default value 1
              // as some iOS browsers will render image with its orientation
              orientation = resetAndGetOrientation(result);
              if (orientation > 1) {
                _extends(data, parseOrientation(orientation));
              }
            }
            if (retainExif) {
              _this.exif = getExif(result);
            }
            if (checkOrientation || retainExif) {
              if (!URL

              // Generate a new URL with the default orientation value 1.
              || orientation > 1) {
                data.url = arrayBufferToDataURL(result, mimeType);
              } else {
                data.url = URL.createObjectURL(file);
              }
            } else {
              data.url = result;
            }
            _this.load(data);
          };
          reader.onabort = function () {
            _this.fail(new Error('Aborted to read the image with FileReader.'));
          };
          reader.onerror = function () {
            _this.fail(new Error('Failed to read the image with FileReader.'));
          };
          reader.onloadend = function () {
            _this.reader = null;
          };
          if (checkOrientation || retainExif) {
            reader.readAsArrayBuffer(file);
          } else {
            reader.readAsDataURL(file);
          }
        }
      }
    }, {
      key: "load",
      value: function load(data) {
        var _this2 = this;
        var file = this.file,
          image = this.image;
        image.onload = function () {
          _this2.draw(_objectSpread2(_objectSpread2({}, data), {}, {
            naturalWidth: image.naturalWidth,
            naturalHeight: image.naturalHeight
          }));
        };
        image.onabort = function () {
          _this2.fail(new Error('Aborted to load the image.'));
        };
        image.onerror = function () {
          _this2.fail(new Error('Failed to load the image.'));
        };

        // Match all browsers that use WebKit as the layout engine in iOS devices,
        // such as Safari for iOS, Chrome for iOS, and in-app browsers.
        if (WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent)) {
          // Fix the `The operation is insecure` error (#57)
          image.crossOrigin = 'anonymous';
        }
        image.alt = file.name;
        image.src = data.url;
      }
    }, {
      key: "draw",
      value: function draw(_ref2) {
        var _this3 = this;
        var naturalWidth = _ref2.naturalWidth,
          naturalHeight = _ref2.naturalHeight,
          _ref2$rotate = _ref2.rotate,
          rotate = _ref2$rotate === void 0 ? 0 : _ref2$rotate,
          _ref2$scaleX = _ref2.scaleX,
          scaleX = _ref2$scaleX === void 0 ? 1 : _ref2$scaleX,
          _ref2$scaleY = _ref2.scaleY,
          scaleY = _ref2$scaleY === void 0 ? 1 : _ref2$scaleY;
        var file = this.file,
          image = this.image,
          options = this.options;
        var canvas = document.createElement('canvas');
        var context = canvas.getContext('2d');
        var is90DegreesRotated = Math.abs(rotate) % 180 === 90;
        var resizable = (options.resize === 'contain' || options.resize === 'cover') && isPositiveNumber(options.width) && isPositiveNumber(options.height);
        var maxWidth = Math.max(options.maxWidth, 0) || Infinity;
        var maxHeight = Math.max(options.maxHeight, 0) || Infinity;
        var minWidth = Math.max(options.minWidth, 0) || 0;
        var minHeight = Math.max(options.minHeight, 0) || 0;
        var aspectRatio = naturalWidth / naturalHeight;
        var width = options.width,
          height = options.height;
        if (is90DegreesRotated) {
          var _ref3 = [maxHeight, maxWidth];
          maxWidth = _ref3[0];
          maxHeight = _ref3[1];
          var _ref4 = [minHeight, minWidth];
          minWidth = _ref4[0];
          minHeight = _ref4[1];
          var _ref5 = [height, width];
          width = _ref5[0];
          height = _ref5[1];
        }
        if (resizable) {
          aspectRatio = width / height;
        }
        var _getAdjustedSizes = getAdjustedSizes({
          aspectRatio: aspectRatio,
          width: maxWidth,
          height: maxHeight
        }, 'contain');
        maxWidth = _getAdjustedSizes.width;
        maxHeight = _getAdjustedSizes.height;
        var _getAdjustedSizes2 = getAdjustedSizes({
          aspectRatio: aspectRatio,
          width: minWidth,
          height: minHeight
        }, 'cover');
        minWidth = _getAdjustedSizes2.width;
        minHeight = _getAdjustedSizes2.height;
        if (resizable) {
          var _getAdjustedSizes3 = getAdjustedSizes({
            aspectRatio: aspectRatio,
            width: width,
            height: height
          }, options.resize);
          width = _getAdjustedSizes3.width;
          height = _getAdjustedSizes3.height;
        } else {
          var _getAdjustedSizes4 = getAdjustedSizes({
            aspectRatio: aspectRatio,
            width: width,
            height: height
          });
          var _getAdjustedSizes4$wi = _getAdjustedSizes4.width;
          width = _getAdjustedSizes4$wi === void 0 ? naturalWidth : _getAdjustedSizes4$wi;
          var _getAdjustedSizes4$he = _getAdjustedSizes4.height;
          height = _getAdjustedSizes4$he === void 0 ? naturalHeight : _getAdjustedSizes4$he;
        }
        width = Math.floor(normalizeDecimalNumber(Math.min(Math.max(width, minWidth), maxWidth)));
        height = Math.floor(normalizeDecimalNumber(Math.min(Math.max(height, minHeight), maxHeight)));
        var destX = -width / 2;
        var destY = -height / 2;
        var destWidth = width;
        var destHeight = height;
        var params = [];
        if (resizable) {
          var srcX = 0;
          var srcY = 0;
          var srcWidth = naturalWidth;
          var srcHeight = naturalHeight;
          var _getAdjustedSizes5 = getAdjustedSizes({
            aspectRatio: aspectRatio,
            width: naturalWidth,
            height: naturalHeight
          }, {
            contain: 'cover',
            cover: 'contain'
          }[options.resize]);
          srcWidth = _getAdjustedSizes5.width;
          srcHeight = _getAdjustedSizes5.height;
          srcX = (naturalWidth - srcWidth) / 2;
          srcY = (naturalHeight - srcHeight) / 2;
          params.push(srcX, srcY, srcWidth, srcHeight);
        }
        params.push(destX, destY, destWidth, destHeight);
        if (is90DegreesRotated) {
          var _ref6 = [height, width];
          width = _ref6[0];
          height = _ref6[1];
        }
        canvas.width = width;
        canvas.height = height;
        if (!isImageType(options.mimeType)) {
          options.mimeType = file.type;
        }
        var fillStyle = 'transparent';

        // Converts PNG files over the `convertSize` to JPEGs.
        if (file.size > options.convertSize && options.convertTypes.indexOf(options.mimeType) >= 0) {
          options.mimeType = 'image/jpeg';
        }
        var isJPEGImage = options.mimeType === 'image/jpeg';
        if (isJPEGImage) {
          fillStyle = '#fff';
        }

        // Override the default fill color (#000, black)
        context.fillStyle = fillStyle;
        context.fillRect(0, 0, width, height);
        if (options.beforeDraw) {
          options.beforeDraw.call(this, context, canvas);
        }
        if (this.aborted) {
          return;
        }
        context.save();
        context.translate(width / 2, height / 2);
        context.rotate(rotate * Math.PI / 180);
        context.scale(scaleX, scaleY);
        context.drawImage.apply(context, [image].concat(params));
        context.restore();
        if (options.drew) {
          options.drew.call(this, context, canvas);
        }
        if (this.aborted) {
          return;
        }
        var callback = function callback(blob) {
          if (!_this3.aborted) {
            var done = function done(result) {
              return _this3.done({
                naturalWidth: naturalWidth,
                naturalHeight: naturalHeight,
                result: result
              });
            };
            if (blob && isJPEGImage && options.retainExif && _this3.exif && _this3.exif.length > 0) {
              var next = function next(arrayBuffer) {
                return done(toBlob(arrayBufferToDataURL(insertExif(arrayBuffer, _this3.exif), options.mimeType)));
              };
              if (blob.arrayBuffer) {
                blob.arrayBuffer().then(next).catch(function () {
                  _this3.fail(new Error('Failed to read the compressed image with Blob.arrayBuffer().'));
                });
              } else {
                var reader = new FileReader();
                _this3.reader = reader;
                reader.onload = function (_ref7) {
                  var target = _ref7.target;
                  next(target.result);
                };
                reader.onabort = function () {
                  _this3.fail(new Error('Aborted to read the compressed image with FileReader.'));
                };
                reader.onerror = function () {
                  _this3.fail(new Error('Failed to read the compressed image with FileReader.'));
                };
                reader.onloadend = function () {
                  _this3.reader = null;
                };
                reader.readAsArrayBuffer(blob);
              }
            } else {
              done(blob);
            }
          }
        };
        if (canvas.toBlob) {
          canvas.toBlob(callback, options.mimeType, options.quality);
        } else {
          callback(toBlob(canvas.toDataURL(options.mimeType, options.quality)));
        }
      }
    }, {
      key: "done",
      value: function done(_ref8) {
        var naturalWidth = _ref8.naturalWidth,
          naturalHeight = _ref8.naturalHeight,
          result = _ref8.result;
        var file = this.file,
          image = this.image,
          options = this.options;
        if (URL && image.src.indexOf('blob:') === 0) {
          URL.revokeObjectURL(image.src);
        }
        if (result) {
          // Returns original file if the result is greater than it and without size related options
          if (options.strict && !options.retainExif && result.size > file.size && options.mimeType === file.type && !(options.width > naturalWidth || options.height > naturalHeight || options.minWidth > naturalWidth || options.minHeight > naturalHeight || options.maxWidth < naturalWidth || options.maxHeight < naturalHeight)) {
            result = file;
          } else {
            var date = new Date();
            result.lastModified = date.getTime();
            result.lastModifiedDate = date;
            result.name = file.name;

            // Convert the extension to match its type
            if (result.name && result.type !== file.type) {
              result.name = result.name.replace(REGEXP_EXTENSION, imageTypeToExtension(result.type));
            }
          }
        } else {
          // Returns original file if the result is null in some cases.
          result = file;
        }
        this.result = result;
        if (options.success) {
          options.success.call(this, result);
        }
      }
    }, {
      key: "fail",
      value: function fail(err) {
        var options = this.options;
        if (options.error) {
          options.error.call(this, err);
        } else {
          throw err;
        }
      }
    }, {
      key: "abort",
      value: function abort() {
        if (!this.aborted) {
          this.aborted = true;
          if (this.reader) {
            this.reader.abort();
          } else if (!this.image.complete) {
            this.image.onload = null;
            this.image.onabort();
          } else {
            this.fail(new Error('The compression process has been aborted.'));
          }
        }
      }

      /**
       * Get the no conflict compressor class.
       * @returns {Compressor} The compressor class.
       */
    }], [{
      key: "noConflict",
      value: function noConflict() {
        window.Compressor = AnotherCompressor;
        return Compressor;
      }

      /**
       * Change the default options.
       * @param {Object} options - The new default options.
       */
    }, {
      key: "setDefaults",
      value: function setDefaults(options) {
        _extends(DEFAULTS, options);
      }
    }]);
    return Compressor;
  }();

  return Compressor;

}));


/***/ }),

/***/ "./node_modules/debug/src/browser.js":
/*!*******************************************!*\
  !*** ./node_modules/debug/src/browser.js ***!
  \*******************************************/
/***/ ((module, exports, __webpack_require__) => {

/* eslint-env browser */

/**
 * This is the web browser implementation of `debug()`.
 */

exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = localstorage();
exports.destroy = (() => {
	let warned = false;

	return () => {
		if (!warned) {
			warned = true;
			console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');
		}
	};
})();

/**
 * Colors.
 */

exports.colors = [
	'#0000CC',
	'#0000FF',
	'#0033CC',
	'#0033FF',
	'#0066CC',
	'#0066FF',
	'#0099CC',
	'#0099FF',
	'#00CC00',
	'#00CC33',
	'#00CC66',
	'#00CC99',
	'#00CCCC',
	'#00CCFF',
	'#3300CC',
	'#3300FF',
	'#3333CC',
	'#3333FF',
	'#3366CC',
	'#3366FF',
	'#3399CC',
	'#3399FF',
	'#33CC00',
	'#33CC33',
	'#33CC66',
	'#33CC99',
	'#33CCCC',
	'#33CCFF',
	'#6600CC',
	'#6600FF',
	'#6633CC',
	'#6633FF',
	'#66CC00',
	'#66CC33',
	'#9900CC',
	'#9900FF',
	'#9933CC',
	'#9933FF',
	'#99CC00',
	'#99CC33',
	'#CC0000',
	'#CC0033',
	'#CC0066',
	'#CC0099',
	'#CC00CC',
	'#CC00FF',
	'#CC3300',
	'#CC3333',
	'#CC3366',
	'#CC3399',
	'#CC33CC',
	'#CC33FF',
	'#CC6600',
	'#CC6633',
	'#CC9900',
	'#CC9933',
	'#CCCC00',
	'#CCCC33',
	'#FF0000',
	'#FF0033',
	'#FF0066',
	'#FF0099',
	'#FF00CC',
	'#FF00FF',
	'#FF3300',
	'#FF3333',
	'#FF3366',
	'#FF3399',
	'#FF33CC',
	'#FF33FF',
	'#FF6600',
	'#FF6633',
	'#FF9900',
	'#FF9933',
	'#FFCC00',
	'#FFCC33'
];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

// eslint-disable-next-line complexity
function useColors() {
	// NB: In an Electron preload script, document will be defined but not fully
	// initialized. Since we know we're in Chrome, we'll just detect this case
	// explicitly
	if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {
		return true;
	}

	// Internet Explorer and Edge do not support colors.
	if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) {
		return false;
	}

	let m;

	// Is webkit? http://stackoverflow.com/a/16459606/376773
	// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632
	// eslint-disable-next-line no-return-assign
	return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
		// Is firebug? http://stackoverflow.com/a/398120/376773
		(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
		// Is firefox >= v31?
		// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
		(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)) && parseInt(m[1], 10) >= 31) ||
		// Double check webkit in userAgent just in case we are in a worker
		(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}

/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

function formatArgs(args) {
	args[0] = (this.useColors ? '%c' : '') +
		this.namespace +
		(this.useColors ? ' %c' : ' ') +
		args[0] +
		(this.useColors ? '%c ' : ' ') +
		'+' + module.exports.humanize(this.diff);

	if (!this.useColors) {
		return;
	}

	const c = 'color: ' + this.color;
	args.splice(1, 0, c, 'color: inherit');

	// The final "%c" is somewhat tricky, because there could be other
	// arguments passed either before or after the %c, so we need to
	// figure out the correct index to insert the CSS into
	let index = 0;
	let lastC = 0;
	args[0].replace(/%[a-zA-Z%]/g, match => {
		if (match === '%%') {
			return;
		}
		index++;
		if (match === '%c') {
			// We only are interested in the *last* %c
			// (the user may have provided their own)
			lastC = index;
		}
	});

	args.splice(lastC, 0, c);
}

/**
 * Invokes `console.debug()` when available.
 * No-op when `console.debug` is not a "function".
 * If `console.debug` is not available, falls back
 * to `console.log`.
 *
 * @api public
 */
exports.log = console.debug || console.log || (() => {});

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */
function save(namespaces) {
	try {
		if (namespaces) {
			exports.storage.setItem('debug', namespaces);
		} else {
			exports.storage.removeItem('debug');
		}
	} catch (error) {
		// Swallow
		// XXX (@Qix-) should we be logging these?
	}
}

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */
function load() {
	let r;
	try {
		r = exports.storage.getItem('debug') || exports.storage.getItem('DEBUG') ;
	} catch (error) {
		// Swallow
		// XXX (@Qix-) should we be logging these?
	}

	// If debug isn't set in LS, and we're in Electron, try to load $DEBUG
	if (!r && typeof process !== 'undefined' && 'env' in process) {
		r = process.env.DEBUG;
	}

	return r;
}

/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */

function localstorage() {
	try {
		// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context
		// The Browser also has localStorage in the global context.
		return localStorage;
	} catch (error) {
		// Swallow
		// XXX (@Qix-) should we be logging these?
	}
}

module.exports = __webpack_require__(/*! ./common */ "./node_modules/debug/src/common.js")(exports);

const {formatters} = module.exports;

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

formatters.j = function (v) {
	try {
		return JSON.stringify(v);
	} catch (error) {
		return '[UnexpectedJSONParseError]: ' + error.message;
	}
};


/***/ }),

/***/ "./node_modules/debug/src/common.js":
/*!******************************************!*\
  !*** ./node_modules/debug/src/common.js ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {


/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 */

function setup(env) {
	createDebug.debug = createDebug;
	createDebug.default = createDebug;
	createDebug.coerce = coerce;
	createDebug.disable = disable;
	createDebug.enable = enable;
	createDebug.enabled = enabled;
	createDebug.humanize = __webpack_require__(/*! ms */ "./node_modules/ms/index.js");
	createDebug.destroy = destroy;

	Object.keys(env).forEach(key => {
		createDebug[key] = env[key];
	});

	/**
	* The currently active debug mode names, and names to skip.
	*/

	createDebug.names = [];
	createDebug.skips = [];

	/**
	* Map of special "%n" handling functions, for the debug "format" argument.
	*
	* Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
	*/
	createDebug.formatters = {};

	/**
	* Selects a color for a debug namespace
	* @param {String} namespace The namespace string for the debug instance to be colored
	* @return {Number|String} An ANSI color code for the given namespace
	* @api private
	*/
	function selectColor(namespace) {
		let hash = 0;

		for (let i = 0; i < namespace.length; i++) {
			hash = ((hash << 5) - hash) + namespace.charCodeAt(i);
			hash |= 0; // Convert to 32bit integer
		}

		return createDebug.colors[Math.abs(hash) % createDebug.colors.length];
	}
	createDebug.selectColor = selectColor;

	/**
	* Create a debugger with the given `namespace`.
	*
	* @param {String} namespace
	* @return {Function}
	* @api public
	*/
	function createDebug(namespace) {
		let prevTime;
		let enableOverride = null;
		let namespacesCache;
		let enabledCache;

		function debug(...args) {
			// Disabled?
			if (!debug.enabled) {
				return;
			}

			const self = debug;

			// Set `diff` timestamp
			const curr = Number(new Date());
			const ms = curr - (prevTime || curr);
			self.diff = ms;
			self.prev = prevTime;
			self.curr = curr;
			prevTime = curr;

			args[0] = createDebug.coerce(args[0]);

			if (typeof args[0] !== 'string') {
				// Anything else let's inspect with %O
				args.unshift('%O');
			}

			// Apply any `formatters` transformations
			let index = 0;
			args[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {
				// If we encounter an escaped % then don't increase the array index
				if (match === '%%') {
					return '%';
				}
				index++;
				const formatter = createDebug.formatters[format];
				if (typeof formatter === 'function') {
					const val = args[index];
					match = formatter.call(self, val);

					// Now we need to remove `args[index]` since it's inlined in the `format`
					args.splice(index, 1);
					index--;
				}
				return match;
			});

			// Apply env-specific formatting (colors, etc.)
			createDebug.formatArgs.call(self, args);

			const logFn = self.log || createDebug.log;
			logFn.apply(self, args);
		}

		debug.namespace = namespace;
		debug.useColors = createDebug.useColors();
		debug.color = createDebug.selectColor(namespace);
		debug.extend = extend;
		debug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.

		Object.defineProperty(debug, 'enabled', {
			enumerable: true,
			configurable: false,
			get: () => {
				if (enableOverride !== null) {
					return enableOverride;
				}
				if (namespacesCache !== createDebug.namespaces) {
					namespacesCache = createDebug.namespaces;
					enabledCache = createDebug.enabled(namespace);
				}

				return enabledCache;
			},
			set: v => {
				enableOverride = v;
			}
		});

		// Env-specific initialization logic for debug instances
		if (typeof createDebug.init === 'function') {
			createDebug.init(debug);
		}

		return debug;
	}

	function extend(namespace, delimiter) {
		const newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);
		newDebug.log = this.log;
		return newDebug;
	}

	/**
	* Enables a debug mode by namespaces. This can include modes
	* separated by a colon and wildcards.
	*
	* @param {String} namespaces
	* @api public
	*/
	function enable(namespaces) {
		createDebug.save(namespaces);
		createDebug.namespaces = namespaces;

		createDebug.names = [];
		createDebug.skips = [];

		const split = (typeof namespaces === 'string' ? namespaces : '')
			.trim()
			.replace(/\s+/g, ',')
			.split(',')
			.filter(Boolean);

		for (const ns of split) {
			if (ns[0] === '-') {
				createDebug.skips.push(ns.slice(1));
			} else {
				createDebug.names.push(ns);
			}
		}
	}

	/**
	 * Checks if the given string matches a namespace template, honoring
	 * asterisks as wildcards.
	 *
	 * @param {String} search
	 * @param {String} template
	 * @return {Boolean}
	 */
	function matchesTemplate(search, template) {
		let searchIndex = 0;
		let templateIndex = 0;
		let starIndex = -1;
		let matchIndex = 0;

		while (searchIndex < search.length) {
			if (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {
				// Match character or proceed with wildcard
				if (template[templateIndex] === '*') {
					starIndex = templateIndex;
					matchIndex = searchIndex;
					templateIndex++; // Skip the '*'
				} else {
					searchIndex++;
					templateIndex++;
				}
			} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition
				// Backtrack to the last '*' and try to match more characters
				templateIndex = starIndex + 1;
				matchIndex++;
				searchIndex = matchIndex;
			} else {
				return false; // No match
			}
		}

		// Handle trailing '*' in template
		while (templateIndex < template.length && template[templateIndex] === '*') {
			templateIndex++;
		}

		return templateIndex === template.length;
	}

	/**
	* Disable debug output.
	*
	* @return {String} namespaces
	* @api public
	*/
	function disable() {
		const namespaces = [
			...createDebug.names,
			...createDebug.skips.map(namespace => '-' + namespace)
		].join(',');
		createDebug.enable('');
		return namespaces;
	}

	/**
	* Returns true if the given mode name is enabled, false otherwise.
	*
	* @param {String} name
	* @return {Boolean}
	* @api public
	*/
	function enabled(name) {
		for (const skip of createDebug.skips) {
			if (matchesTemplate(name, skip)) {
				return false;
			}
		}

		for (const ns of createDebug.names) {
			if (matchesTemplate(name, ns)) {
				return true;
			}
		}

		return false;
	}

	/**
	* Coerce `val`.
	*
	* @param {Mixed} val
	* @return {Mixed}
	* @api private
	*/
	function coerce(val) {
		if (val instanceof Error) {
			return val.stack || val.message;
		}
		return val;
	}

	/**
	* XXX DO NOT USE. This is a temporary stub function.
	* XXX It WILL be removed in the next major release.
	*/
	function destroy() {
		console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');
	}

	createDebug.enable(createDebug.load());

	return createDebug;
}

module.exports = setup;


/***/ }),

/***/ "./node_modules/eventemitter2/lib/eventemitter2.js":
/*!*********************************************************!*\
  !*** ./node_modules/eventemitter2/lib/eventemitter2.js ***!
  \*********************************************************/
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */
;!function(undefined) {
  var hasOwnProperty= Object.hasOwnProperty;
  var isArray = Array.isArray ? Array.isArray : function _isArray(obj) {
    return Object.prototype.toString.call(obj) === "[object Array]";
  };
  var defaultMaxListeners = 10;
  var nextTickSupported= typeof process=='object' && typeof process.nextTick=='function';
  var symbolsSupported= typeof Symbol==='function';
  var reflectSupported= typeof Reflect === 'object';
  var setImmediateSupported= typeof setImmediate === 'function';
  var _setImmediate= setImmediateSupported ? setImmediate : setTimeout;
  var ownKeys= symbolsSupported? (reflectSupported && typeof Reflect.ownKeys==='function'? Reflect.ownKeys : function(obj){
    var arr= Object.getOwnPropertyNames(obj);
    arr.push.apply(arr, Object.getOwnPropertySymbols(obj));
    return arr;
  }) : Object.keys;

  function init() {
    this._events = {};
    if (this._conf) {
      configure.call(this, this._conf);
    }
  }

  function configure(conf) {
    if (conf) {
      this._conf = conf;

      conf.delimiter && (this.delimiter = conf.delimiter);

      if(conf.maxListeners!==undefined){
          this._maxListeners= conf.maxListeners;
      }

      conf.wildcard && (this.wildcard = conf.wildcard);
      conf.newListener && (this._newListener = conf.newListener);
      conf.removeListener && (this._removeListener = conf.removeListener);
      conf.verboseMemoryLeak && (this.verboseMemoryLeak = conf.verboseMemoryLeak);
      conf.ignoreErrors && (this.ignoreErrors = conf.ignoreErrors);

      if (this.wildcard) {
        this.listenerTree = {};
      }
    }
  }

  function logPossibleMemoryLeak(count, eventName) {
    var errorMsg = '(node) warning: possible EventEmitter memory ' +
        'leak detected. ' + count + ' listeners added. ' +
        'Use emitter.setMaxListeners() to increase limit.';

    if(this.verboseMemoryLeak){
      errorMsg += ' Event name: ' + eventName + '.';
    }

    if(typeof process !== 'undefined' && process.emitWarning){
      var e = new Error(errorMsg);
      e.name = 'MaxListenersExceededWarning';
      e.emitter = this;
      e.count = count;
      process.emitWarning(e);
    } else {
      console.error(errorMsg);

      if (console.trace){
        console.trace();
      }
    }
  }

  var toArray = function (a, b, c) {
    var n = arguments.length;
    switch (n) {
      case 0:
        return [];
      case 1:
        return [a];
      case 2:
        return [a, b];
      case 3:
        return [a, b, c];
      default:
        var arr = new Array(n);
        while (n--) {
          arr[n] = arguments[n];
        }
        return arr;
    }
  };

  function toObject(keys, values) {
    var obj = {};
    var key;
    var len = keys.length;
    var valuesCount = values ? values.length : 0;
    for (var i = 0; i < len; i++) {
      key = keys[i];
      obj[key] = i < valuesCount ? values[i] : undefined;
    }
    return obj;
  }

  function TargetObserver(emitter, target, options) {
    this._emitter = emitter;
    this._target = target;
    this._listeners = {};
    this._listenersCount = 0;

    var on, off;

    if (options.on || options.off) {
      on = options.on;
      off = options.off;
    }

    if (target.addEventListener) {
      on = target.addEventListener;
      off = target.removeEventListener;
    } else if (target.addListener) {
      on = target.addListener;
      off = target.removeListener;
    } else if (target.on) {
      on = target.on;
      off = target.off;
    }

    if (!on && !off) {
      throw Error('target does not implement any known event API');
    }

    if (typeof on !== 'function') {
      throw TypeError('on method must be a function');
    }

    if (typeof off !== 'function') {
      throw TypeError('off method must be a function');
    }

    this._on = on;
    this._off = off;

    var _observers= emitter._observers;
    if(_observers){
      _observers.push(this);
    }else{
      emitter._observers= [this];
    }
  }

  Object.assign(TargetObserver.prototype, {
    subscribe: function(event, localEvent, reducer){
      var observer= this;
      var target= this._target;
      var emitter= this._emitter;
      var listeners= this._listeners;
      var handler= function(){
        var args= toArray.apply(null, arguments);
        var eventObj= {
          data: args,
          name: localEvent,
          original: event
        };
        if(reducer){
          var result= reducer.call(target, eventObj);
          if(result!==false){
            emitter.emit.apply(emitter, [eventObj.name].concat(args))
          }
          return;
        }
        emitter.emit.apply(emitter, [localEvent].concat(args));
      };


      if(listeners[event]){
        throw Error('Event \'' + event + '\' is already listening');
      }

      this._listenersCount++;

      if(emitter._newListener && emitter._removeListener && !observer._onNewListener){

        this._onNewListener = function (_event) {
          if (_event === localEvent && listeners[event] === null) {
            listeners[event] = handler;
            observer._on.call(target, event, handler);
          }
        };

        emitter.on('newListener', this._onNewListener);

        this._onRemoveListener= function(_event){
          if(_event === localEvent && !emitter.hasListeners(_event) && listeners[event]){
            listeners[event]= null;
            observer._off.call(target, event, handler);
          }
        };

        listeners[event]= null;

        emitter.on('removeListener', this._onRemoveListener);
      }else{
        listeners[event]= handler;
        observer._on.call(target, event, handler);
      }
    },

    unsubscribe: function(event){
      var observer= this;
      var listeners= this._listeners;
      var emitter= this._emitter;
      var handler;
      var events;
      var off= this._off;
      var target= this._target;
      var i;

      if(event && typeof event!=='string'){
        throw TypeError('event must be a string');
      }

      function clearRefs(){
        if(observer._onNewListener){
          emitter.off('newListener', observer._onNewListener);
          emitter.off('removeListener', observer._onRemoveListener);
          observer._onNewListener= null;
          observer._onRemoveListener= null;
        }
        var index= findTargetIndex.call(emitter, observer);
        emitter._observers.splice(index, 1);
      }

      if(event){
        handler= listeners[event];
        if(!handler) return;
        off.call(target, event, handler);
        delete listeners[event];
        if(!--this._listenersCount){
          clearRefs();
        }
      }else{
        events= ownKeys(listeners);
        i= events.length;
        while(i-->0){
          event= events[i];
          off.call(target, event, listeners[event]);
        }
        this._listeners= {};
        this._listenersCount= 0;
        clearRefs();
      }
    }
  });

  function resolveOptions(options, schema, reducers, allowUnknown) {
    var computedOptions = Object.assign({}, schema);

    if (!options) return computedOptions;

    if (typeof options !== 'object') {
      throw TypeError('options must be an object')
    }

    var keys = Object.keys(options);
    var length = keys.length;
    var option, value;
    var reducer;

    function reject(reason) {
      throw Error('Invalid "' + option + '" option value' + (reason ? '. Reason: ' + reason : ''))
    }

    for (var i = 0; i < length; i++) {
      option = keys[i];
      if (!allowUnknown && !hasOwnProperty.call(schema, option)) {
        throw Error('Unknown "' + option + '" option');
      }
      value = options[option];
      if (value !== undefined) {
        reducer = reducers[option];
        computedOptions[option] = reducer ? reducer(value, reject) : value;
      }
    }
    return computedOptions;
  }

  function constructorReducer(value, reject) {
    if (typeof value !== 'function' || !value.hasOwnProperty('prototype')) {
      reject('value must be a constructor');
    }
    return value;
  }

  function makeTypeReducer(types) {
    var message= 'value must be type of ' + types.join('|');
    var len= types.length;
    var firstType= types[0];
    var secondType= types[1];

    if (len === 1) {
      return function (v, reject) {
        if (typeof v === firstType) {
          return v;
        }
        reject(message);
      }
    }

    if (len === 2) {
      return function (v, reject) {
        var kind= typeof v;
        if (kind === firstType || kind === secondType) return v;
        reject(message);
      }
    }

    return function (v, reject) {
      var kind = typeof v;
      var i = len;
      while (i-- > 0) {
        if (kind === types[i]) return v;
      }
      reject(message);
    }
  }

  var functionReducer= makeTypeReducer(['function']);

  var objectFunctionReducer= makeTypeReducer(['object', 'function']);

  function makeCancelablePromise(Promise, executor, options) {
    var isCancelable;
    var callbacks;
    var timer= 0;
    var subscriptionClosed;

    var promise = new Promise(function (resolve, reject, onCancel) {
      options= resolveOptions(options, {
        timeout: 0,
        overload: false
      }, {
        timeout: function(value, reject){
          value*= 1;
          if (typeof value !== 'number' || value < 0 || !Number.isFinite(value)) {
            reject('timeout must be a positive number');
          }
          return value;
        }
      });

      isCancelable = !options.overload && typeof Promise.prototype.cancel === 'function' && typeof onCancel === 'function';

      function cleanup() {
        if (callbacks) {
          callbacks = null;
        }
        if (timer) {
          clearTimeout(timer);
          timer = 0;
        }
      }

      var _resolve= function(value){
        cleanup();
        resolve(value);
      };

      var _reject= function(err){
        cleanup();
        reject(err);
      };

      if (isCancelable) {
        executor(_resolve, _reject, onCancel);
      } else {
        callbacks = [function(reason){
          _reject(reason || Error('canceled'));
        }];
        executor(_resolve, _reject, function (cb) {
          if (subscriptionClosed) {
            throw Error('Unable to subscribe on cancel event asynchronously')
          }
          if (typeof cb !== 'function') {
            throw TypeError('onCancel callback must be a function');
          }
          callbacks.push(cb);
        });
        subscriptionClosed= true;
      }

      if (options.timeout > 0) {
        timer= setTimeout(function(){
          var reason= Error('timeout');
          reason.code = 'ETIMEDOUT'
          timer= 0;
          promise.cancel(reason);
          reject(reason);
        }, options.timeout);
      }
    });

    if (!isCancelable) {
      promise.cancel = function (reason) {
        if (!callbacks) {
          return;
        }
        var length = callbacks.length;
        for (var i = 1; i < length; i++) {
          callbacks[i](reason);
        }
        // internal callback to reject the promise
        callbacks[0](reason);
        callbacks = null;
      };
    }

    return promise;
  }

  function findTargetIndex(observer) {
    var observers = this._observers;
    if(!observers){
      return -1;
    }
    var len = observers.length;
    for (var i = 0; i < len; i++) {
      if (observers[i]._target === observer) return i;
    }
    return -1;
  }

  // Attention, function return type now is array, always !
  // It has zero elements if no any matches found and one or more
  // elements (leafs) if there are matches
  //
  function searchListenerTree(handlers, type, tree, i, typeLength) {
    if (!tree) {
      return null;
    }

    if (i === 0) {
      var kind = typeof type;
      if (kind === 'string') {
        var ns, n, l = 0, j = 0, delimiter = this.delimiter, dl = delimiter.length;
        if ((n = type.indexOf(delimiter)) !== -1) {
          ns = new Array(5);
          do {
            ns[l++] = type.slice(j, n);
            j = n + dl;
          } while ((n = type.indexOf(delimiter, j)) !== -1);

          ns[l++] = type.slice(j);
          type = ns;
          typeLength = l;
        } else {
          type = [type];
          typeLength = 1;
        }
      } else if (kind === 'object') {
        typeLength = type.length;
      } else {
        type = [type];
        typeLength = 1;
      }
    }

    var listeners= null, branch, xTree, xxTree, isolatedBranch, endReached, currentType = type[i],
        nextType = type[i + 1], branches, _listeners;

    if (i === typeLength) {
      //
      // If at the end of the event(s) list and the tree has listeners
      // invoke those listeners.
      //

      if(tree._listeners) {
        if (typeof tree._listeners === 'function') {
          handlers && handlers.push(tree._listeners);
          listeners = [tree];
        } else {
          handlers && handlers.push.apply(handlers, tree._listeners);
          listeners = [tree];
        }
      }
    } else {

      if (currentType === '*') {
        //
        // If the event emitted is '*' at this part
        // or there is a concrete match at this patch
        //
        branches = ownKeys(tree);
        n = branches.length;
        while (n-- > 0) {
          branch = branches[n];
          if (branch !== '_listeners') {
            _listeners = searchListenerTree(handlers, type, tree[branch], i + 1, typeLength);
            if (_listeners) {
              if (listeners) {
                listeners.push.apply(listeners, _listeners);
              } else {
                listeners = _listeners;
              }
            }
          }
        }
        return listeners;
      } else if (currentType === '**') {
        endReached = (i + 1 === typeLength || (i + 2 === typeLength && nextType === '*'));
        if (endReached && tree._listeners) {
          // The next element has a _listeners, add it to the handlers.
          listeners = searchListenerTree(handlers, type, tree, typeLength, typeLength);
        }

        branches = ownKeys(tree);
        n = branches.length;
        while (n-- > 0) {
          branch = branches[n];
          if (branch !== '_listeners') {
            if (branch === '*' || branch === '**') {
              if (tree[branch]._listeners && !endReached) {
                _listeners = searchListenerTree(handlers, type, tree[branch], typeLength, typeLength);
                if (_listeners) {
                  if (listeners) {
                    listeners.push.apply(listeners, _listeners);
                  } else {
                    listeners = _listeners;
                  }
                }
              }
              _listeners = searchListenerTree(handlers, type, tree[branch], i, typeLength);
            } else if (branch === nextType) {
              _listeners = searchListenerTree(handlers, type, tree[branch], i + 2, typeLength);
            } else {
              // No match on this one, shift into the tree but not in the type array.
              _listeners = searchListenerTree(handlers, type, tree[branch], i, typeLength);
            }
            if (_listeners) {
              if (listeners) {
                listeners.push.apply(listeners, _listeners);
              } else {
                listeners = _listeners;
              }
            }
          }
        }
        return listeners;
      } else if (tree[currentType]) {
        listeners = searchListenerTree(handlers, type, tree[currentType], i + 1, typeLength);
      }
    }

      xTree = tree['*'];
    if (xTree) {
      //
      // If the listener tree will allow any match for this part,
      // then recursively explore all branches of the tree
      //
      searchListenerTree(handlers, type, xTree, i + 1, typeLength);
    }

    xxTree = tree['**'];
    if (xxTree) {
      if (i < typeLength) {
        if (xxTree._listeners) {
          // If we have a listener on a '**', it will catch all, so add its handler.
          searchListenerTree(handlers, type, xxTree, typeLength, typeLength);
        }

        // Build arrays of matching next branches and others.
        branches= ownKeys(xxTree);
        n= branches.length;
        while(n-->0){
          branch= branches[n];
          if (branch !== '_listeners') {
            if (branch === nextType) {
              // We know the next element will match, so jump twice.
              searchListenerTree(handlers, type, xxTree[branch], i + 2, typeLength);
            } else if (branch === currentType) {
              // Current node matches, move into the tree.
              searchListenerTree(handlers, type, xxTree[branch], i + 1, typeLength);
            } else {
              isolatedBranch = {};
              isolatedBranch[branch] = xxTree[branch];
              searchListenerTree(handlers, type, {'**': isolatedBranch}, i + 1, typeLength);
            }
          }
        }
      } else if (xxTree._listeners) {
        // We have reached the end and still on a '**'
        searchListenerTree(handlers, type, xxTree, typeLength, typeLength);
      } else if (xxTree['*'] && xxTree['*']._listeners) {
        searchListenerTree(handlers, type, xxTree['*'], typeLength, typeLength);
      }
    }

    return listeners;
  }

  function growListenerTree(type, listener, prepend) {
    var len = 0, j = 0, i, delimiter = this.delimiter, dl= delimiter.length, ns;

    if(typeof type==='string') {
      if ((i = type.indexOf(delimiter)) !== -1) {
        ns = new Array(5);
        do {
          ns[len++] = type.slice(j, i);
          j = i + dl;
        } while ((i = type.indexOf(delimiter, j)) !== -1);

        ns[len++] = type.slice(j);
      }else{
        ns= [type];
        len= 1;
      }
    }else{
      ns= type;
      len= type.length;
    }

    //
    // Looks for two consecutive '**', if so, don't add the event at all.
    //
    if (len > 1) {
      for (i = 0; i + 1 < len; i++) {
        if (ns[i] === '**' && ns[i + 1] === '**') {
          return;
        }
      }
    }



    var tree = this.listenerTree, name;

    for (i = 0; i < len; i++) {
      name = ns[i];

      tree = tree[name] || (tree[name] = {});

      if (i === len - 1) {
        if (!tree._listeners) {
          tree._listeners = listener;
        } else {
          if (typeof tree._listeners === 'function') {
            tree._listeners = [tree._listeners];
          }

          if (prepend) {
            tree._listeners.unshift(listener);
          } else {
            tree._listeners.push(listener);
          }

          if (
              !tree._listeners.warned &&
              this._maxListeners > 0 &&
              tree._listeners.length > this._maxListeners
          ) {
            tree._listeners.warned = true;
            logPossibleMemoryLeak.call(this, tree._listeners.length, name);
          }
        }
        return true;
      }
    }

    return true;
  }

  function collectTreeEvents(tree, events, root, asArray){
     var branches= ownKeys(tree);
     var i= branches.length;
     var branch, branchName, path;
     var hasListeners= tree['_listeners'];
     var isArrayPath;

     while(i-->0){
         branchName= branches[i];

         branch= tree[branchName];

         if(branchName==='_listeners'){
             path= root;
         }else {
             path = root ? root.concat(branchName) : [branchName];
         }

         isArrayPath= asArray || typeof branchName==='symbol';

         hasListeners && events.push(isArrayPath? path : path.join(this.delimiter));

         if(typeof branch==='object'){
             collectTreeEvents.call(this, branch, events, path, isArrayPath);
         }
     }

     return events;
  }

  function recursivelyGarbageCollect(root) {
    var keys = ownKeys(root);
    var i= keys.length;
    var obj, key, flag;
    while(i-->0){
      key = keys[i];
      obj = root[key];

      if(obj){
          flag= true;
          if(key !== '_listeners' && !recursivelyGarbageCollect(obj)){
             delete root[key];
          }
      }
    }

    return flag;
  }

  function Listener(emitter, event, listener){
    this.emitter= emitter;
    this.event= event;
    this.listener= listener;
  }

  Listener.prototype.off= function(){
    this.emitter.off(this.event, this.listener);
    return this;
  };

  function setupListener(event, listener, options){
      if (options === true) {
        promisify = true;
      } else if (options === false) {
        async = true;
      } else {
        if (!options || typeof options !== 'object') {
          throw TypeError('options should be an object or true');
        }
        var async = options.async;
        var promisify = options.promisify;
        var nextTick = options.nextTick;
        var objectify = options.objectify;
      }

      if (async || nextTick || promisify) {
        var _listener = listener;
        var _origin = listener._origin || listener;

        if (nextTick && !nextTickSupported) {
          throw Error('process.nextTick is not supported');
        }

        if (promisify === undefined) {
          promisify = listener.constructor.name === 'AsyncFunction';
        }

        listener = function () {
          var args = arguments;
          var context = this;
          var event = this.event;

          return promisify ? (nextTick ? Promise.resolve() : new Promise(function (resolve) {
            _setImmediate(resolve);
          }).then(function () {
            context.event = event;
            return _listener.apply(context, args)
          })) : (nextTick ? process.nextTick : _setImmediate)(function () {
            context.event = event;
            _listener.apply(context, args)
          });
        };

        listener._async = true;
        listener._origin = _origin;
      }

    return [listener, objectify? new Listener(this, event, listener): this];
  }

  function EventEmitter(conf) {
    this._events = {};
    this._newListener = false;
    this._removeListener = false;
    this.verboseMemoryLeak = false;
    configure.call(this, conf);
  }

  EventEmitter.EventEmitter2 = EventEmitter; // backwards compatibility for exporting EventEmitter property

  EventEmitter.prototype.listenTo= function(target, events, options){
    if(typeof target!=='object'){
      throw TypeError('target musts be an object');
    }

    var emitter= this;

    options = resolveOptions(options, {
      on: undefined,
      off: undefined,
      reducers: undefined
    }, {
      on: functionReducer,
      off: functionReducer,
      reducers: objectFunctionReducer
    });

    function listen(events){
      if(typeof events!=='object'){
        throw TypeError('events must be an object');
      }

      var reducers= options.reducers;
      var index= findTargetIndex.call(emitter, target);
      var observer;

      if(index===-1){
        observer= new TargetObserver(emitter, target, options);
      }else{
        observer= emitter._observers[index];
      }

      var keys= ownKeys(events);
      var len= keys.length;
      var event;
      var isSingleReducer= typeof reducers==='function';

      for(var i=0; i<len; i++){
        event= keys[i];
        observer.subscribe(
            event,
            events[event] || event,
            isSingleReducer ? reducers : reducers && reducers[event]
        );
      }
    }

    isArray(events)?
        listen(toObject(events)) :
        (typeof events==='string'? listen(toObject(events.split(/\s+/))): listen(events));

    return this;
  };

  EventEmitter.prototype.stopListeningTo = function (target, event) {
    var observers = this._observers;

    if(!observers){
      return false;
    }

    var i = observers.length;
    var observer;
    var matched= false;

    if(target && typeof target!=='object'){
      throw TypeError('target should be an object');
    }

    while (i-- > 0) {
      observer = observers[i];
      if (!target || observer._target === target) {
        observer.unsubscribe(event);
        matched= true;
      }
    }

    return matched;
  };

  // By default EventEmitters will print a warning if more than
  // 10 listeners are added to it. This is a useful default which
  // helps finding memory leaks.
  //
  // Obviously not all Emitters should be limited to 10. This function allows
  // that to be increased. Set to zero for unlimited.

  EventEmitter.prototype.delimiter = '.';

  EventEmitter.prototype.setMaxListeners = function(n) {
    if (n !== undefined) {
      this._maxListeners = n;
      if (!this._conf) this._conf = {};
      this._conf.maxListeners = n;
    }
  };

  EventEmitter.prototype.getMaxListeners = function() {
    return this._maxListeners;
  };

  EventEmitter.prototype.event = '';

  EventEmitter.prototype.once = function(event, fn, options) {
    return this._once(event, fn, false, options);
  };

  EventEmitter.prototype.prependOnceListener = function(event, fn, options) {
    return this._once(event, fn, true, options);
  };

  EventEmitter.prototype._once = function(event, fn, prepend, options) {
    return this._many(event, 1, fn, prepend, options);
  };

  EventEmitter.prototype.many = function(event, ttl, fn, options) {
    return this._many(event, ttl, fn, false, options);
  };

  EventEmitter.prototype.prependMany = function(event, ttl, fn, options) {
    return this._many(event, ttl, fn, true, options);
  };

  EventEmitter.prototype._many = function(event, ttl, fn, prepend, options) {
    var self = this;

    if (typeof fn !== 'function') {
      throw new Error('many only accepts instances of Function');
    }

    function listener() {
      if (--ttl === 0) {
        self.off(event, listener);
      }
      return fn.apply(this, arguments);
    }

    listener._origin = fn;

    return this._on(event, listener, prepend, options);
  };

  EventEmitter.prototype.emit = function() {
    if (!this._events && !this._all) {
      return false;
    }

    this._events || init.call(this);

    var type = arguments[0], ns, wildcard= this.wildcard;
    var args,l,i,j, containsSymbol;

    if (type === 'newListener' && !this._newListener) {
      if (!this._events.newListener) {
        return false;
      }
    }

    if (wildcard) {
      ns= type;
      if(type!=='newListener' && type!=='removeListener'){
        if (typeof type === 'object') {
          l = type.length;
          if (symbolsSupported) {
            for (i = 0; i < l; i++) {
              if (typeof type[i] === 'symbol') {
                containsSymbol = true;
                break;
              }
            }
          }
          if (!containsSymbol) {
            type = type.join(this.delimiter);
          }
        }
      }
    }

    var al = arguments.length;
    var handler;

    if (this._all && this._all.length) {
      handler = this._all.slice();

      for (i = 0, l = handler.length; i < l; i++) {
        this.event = type;
        switch (al) {
        case 1:
          handler[i].call(this, type);
          break;
        case 2:
          handler[i].call(this, type, arguments[1]);
          break;
        case 3:
          handler[i].call(this, type, arguments[1], arguments[2]);
          break;
        default:
          handler[i].apply(this, arguments);
        }
      }
    }

    if (wildcard) {
      handler = [];
      searchListenerTree.call(this, handler, ns, this.listenerTree, 0, l);
    } else {
      handler = this._events[type];
      if (typeof handler === 'function') {
        this.event = type;
        switch (al) {
        case 1:
          handler.call(this);
          break;
        case 2:
          handler.call(this, arguments[1]);
          break;
        case 3:
          handler.call(this, arguments[1], arguments[2]);
          break;
        default:
          args = new Array(al - 1);
          for (j = 1; j < al; j++) args[j - 1] = arguments[j];
          handler.apply(this, args);
        }
        return true;
      } else if (handler) {
        // need to make copy of handlers because list can change in the middle
        // of emit call
        handler = handler.slice();
      }
    }

    if (handler && handler.length) {
      if (al > 3) {
        args = new Array(al - 1);
        for (j = 1; j < al; j++) args[j - 1] = arguments[j];
      }
      for (i = 0, l = handler.length; i < l; i++) {
        this.event = type;
        switch (al) {
        case 1:
          handler[i].call(this);
          break;
        case 2:
          handler[i].call(this, arguments[1]);
          break;
        case 3:
          handler[i].call(this, arguments[1], arguments[2]);
          break;
        default:
          handler[i].apply(this, args);
        }
      }
      return true;
    } else if (!this.ignoreErrors && !this._all && type === 'error') {
      if (arguments[1] instanceof Error) {
        throw arguments[1]; // Unhandled 'error' event
      } else {
        throw new Error("Uncaught, unspecified 'error' event.");
      }
    }

    return !!this._all;
  };

  EventEmitter.prototype.emitAsync = function() {
    if (!this._events && !this._all) {
      return false;
    }

    this._events || init.call(this);

    var type = arguments[0], wildcard= this.wildcard, ns, containsSymbol;
    var args,l,i,j;

    if (type === 'newListener' && !this._newListener) {
        if (!this._events.newListener) { return Promise.resolve([false]); }
    }

    if (wildcard) {
      ns= type;
      if(type!=='newListener' && type!=='removeListener'){
        if (typeof type === 'object') {
          l = type.length;
          if (symbolsSupported) {
            for (i = 0; i < l; i++) {
              if (typeof type[i] === 'symbol') {
                containsSymbol = true;
                break;
              }
            }
          }
          if (!containsSymbol) {
            type = type.join(this.delimiter);
          }
        }
      }
    }

    var promises= [];

    var al = arguments.length;
    var handler;

    if (this._all) {
      for (i = 0, l = this._all.length; i < l; i++) {
        this.event = type;
        switch (al) {
        case 1:
          promises.push(this._all[i].call(this, type));
          break;
        case 2:
          promises.push(this._all[i].call(this, type, arguments[1]));
          break;
        case 3:
          promises.push(this._all[i].call(this, type, arguments[1], arguments[2]));
          break;
        default:
          promises.push(this._all[i].apply(this, arguments));
        }
      }
    }

    if (wildcard) {
      handler = [];
      searchListenerTree.call(this, handler, ns, this.listenerTree, 0);
    } else {
      handler = this._events[type];
    }

    if (typeof handler === 'function') {
      this.event = type;
      switch (al) {
      case 1:
        promises.push(handler.call(this));
        break;
      case 2:
        promises.push(handler.call(this, arguments[1]));
        break;
      case 3:
        promises.push(handler.call(this, arguments[1], arguments[2]));
        break;
      default:
        args = new Array(al - 1);
        for (j = 1; j < al; j++) args[j - 1] = arguments[j];
        promises.push(handler.apply(this, args));
      }
    } else if (handler && handler.length) {
      handler = handler.slice();
      if (al > 3) {
        args = new Array(al - 1);
        for (j = 1; j < al; j++) args[j - 1] = arguments[j];
      }
      for (i = 0, l = handler.length; i < l; i++) {
        this.event = type;
        switch (al) {
        case 1:
          promises.push(handler[i].call(this));
          break;
        case 2:
          promises.push(handler[i].call(this, arguments[1]));
          break;
        case 3:
          promises.push(handler[i].call(this, arguments[1], arguments[2]));
          break;
        default:
          promises.push(handler[i].apply(this, args));
        }
      }
    } else if (!this.ignoreErrors && !this._all && type === 'error') {
      if (arguments[1] instanceof Error) {
        return Promise.reject(arguments[1]); // Unhandled 'error' event
      } else {
        return Promise.reject("Uncaught, unspecified 'error' event.");
      }
    }

    return Promise.all(promises);
  };

  EventEmitter.prototype.on = function(type, listener, options) {
    return this._on(type, listener, false, options);
  };

  EventEmitter.prototype.prependListener = function(type, listener, options) {
    return this._on(type, listener, true, options);
  };

  EventEmitter.prototype.onAny = function(fn) {
    return this._onAny(fn, false);
  };

  EventEmitter.prototype.prependAny = function(fn) {
    return this._onAny(fn, true);
  };

  EventEmitter.prototype.addListener = EventEmitter.prototype.on;

  EventEmitter.prototype._onAny = function(fn, prepend){
    if (typeof fn !== 'function') {
      throw new Error('onAny only accepts instances of Function');
    }

    if (!this._all) {
      this._all = [];
    }

    // Add the function to the event listener collection.
    if(prepend){
      this._all.unshift(fn);
    }else{
      this._all.push(fn);
    }

    return this;
  };

  EventEmitter.prototype._on = function(type, listener, prepend, options) {
    if (typeof type === 'function') {
      this._onAny(type, listener);
      return this;
    }

    if (typeof listener !== 'function') {
      throw new Error('on only accepts instances of Function');
    }
    this._events || init.call(this);

    var returnValue= this, temp;

    if (options !== undefined) {
      temp = setupListener.call(this, type, listener, options);
      listener = temp[0];
      returnValue = temp[1];
    }

    // To avoid recursion in the case that type == "newListeners"! Before
    // adding it to the listeners, first emit "newListeners".
    if (this._newListener) {
      this.emit('newListener', type, listener);
    }

    if (this.wildcard) {
      growListenerTree.call(this, type, listener, prepend);
      return returnValue;
    }

    if (!this._events[type]) {
      // Optimize the case of one listener. Don't need the extra array object.
      this._events[type] = listener;
    } else {
      if (typeof this._events[type] === 'function') {
        // Change to array.
        this._events[type] = [this._events[type]];
      }

      // If we've already got an array, just add
      if(prepend){
        this._events[type].unshift(listener);
      }else{
        this._events[type].push(listener);
      }

      // Check for listener leak
      if (
        !this._events[type].warned &&
        this._maxListeners > 0 &&
        this._events[type].length > this._maxListeners
      ) {
        this._events[type].warned = true;
        logPossibleMemoryLeak.call(this, this._events[type].length, type);
      }
    }

    return returnValue;
  };

  EventEmitter.prototype.off = function(type, listener) {
    if (typeof listener !== 'function') {
      throw new Error('removeListener only takes instances of Function');
    }

    var handlers,leafs=[];

    if(this.wildcard) {
      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();
      leafs = searchListenerTree.call(this, null, ns, this.listenerTree, 0);
      if(!leafs) return this;
    } else {
      // does not use listeners(), so no side effect of creating _events[type]
      if (!this._events[type]) return this;
      handlers = this._events[type];
      leafs.push({_listeners:handlers});
    }

    for (var iLeaf=0; iLeaf<leafs.length; iLeaf++) {
      var leaf = leafs[iLeaf];
      handlers = leaf._listeners;
      if (isArray(handlers)) {

        var position = -1;

        for (var i = 0, length = handlers.length; i < length; i++) {
          if (handlers[i] === listener ||
            (handlers[i].listener && handlers[i].listener === listener) ||
            (handlers[i]._origin && handlers[i]._origin === listener)) {
            position = i;
            break;
          }
        }

        if (position < 0) {
          continue;
        }

        if(this.wildcard) {
          leaf._listeners.splice(position, 1);
        }
        else {
          this._events[type].splice(position, 1);
        }

        if (handlers.length === 0) {
          if(this.wildcard) {
            delete leaf._listeners;
          }
          else {
            delete this._events[type];
          }
        }
        if (this._removeListener)
          this.emit("removeListener", type, listener);

        return this;
      }
      else if (handlers === listener ||
        (handlers.listener && handlers.listener === listener) ||
        (handlers._origin && handlers._origin === listener)) {
        if(this.wildcard) {
          delete leaf._listeners;
        }
        else {
          delete this._events[type];
        }
        if (this._removeListener)
          this.emit("removeListener", type, listener);
      }
    }

    this.listenerTree && recursivelyGarbageCollect(this.listenerTree);

    return this;
  };

  EventEmitter.prototype.offAny = function(fn) {
    var i = 0, l = 0, fns;
    if (fn && this._all && this._all.length > 0) {
      fns = this._all;
      for(i = 0, l = fns.length; i < l; i++) {
        if(fn === fns[i]) {
          fns.splice(i, 1);
          if (this._removeListener)
            this.emit("removeListenerAny", fn);
          return this;
        }
      }
    } else {
      fns = this._all;
      if (this._removeListener) {
        for(i = 0, l = fns.length; i < l; i++)
          this.emit("removeListenerAny", fns[i]);
      }
      this._all = [];
    }
    return this;
  };

  EventEmitter.prototype.removeListener = EventEmitter.prototype.off;

  EventEmitter.prototype.removeAllListeners = function (type) {
    if (type === undefined) {
      !this._events || init.call(this);
      return this;
    }

    if (this.wildcard) {
      var leafs = searchListenerTree.call(this, null, type, this.listenerTree, 0), leaf, i;
      if (!leafs) return this;
      for (i = 0; i < leafs.length; i++) {
        leaf = leafs[i];
        leaf._listeners = null;
      }
      this.listenerTree && recursivelyGarbageCollect(this.listenerTree);
    } else if (this._events) {
      this._events[type] = null;
    }
    return this;
  };

  EventEmitter.prototype.listeners = function (type) {
    var _events = this._events;
    var keys, listeners, allListeners;
    var i;
    var listenerTree;

    if (type === undefined) {
      if (this.wildcard) {
        throw Error('event name required for wildcard emitter');
      }

      if (!_events) {
        return [];
      }

      keys = ownKeys(_events);
      i = keys.length;
      allListeners = [];
      while (i-- > 0) {
        listeners = _events[keys[i]];
        if (typeof listeners === 'function') {
          allListeners.push(listeners);
        } else {
          allListeners.push.apply(allListeners, listeners);
        }
      }
      return allListeners;
    } else {
      if (this.wildcard) {
        listenerTree= this.listenerTree;
        if(!listenerTree) return [];
        var handlers = [];
        var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();
        searchListenerTree.call(this, handlers, ns, listenerTree, 0);
        return handlers;
      }

      if (!_events) {
        return [];
      }

      listeners = _events[type];

      if (!listeners) {
        return [];
      }
      return typeof listeners === 'function' ? [listeners] : listeners;
    }
  };

  EventEmitter.prototype.eventNames = function(nsAsArray){
    var _events= this._events;
    return this.wildcard? collectTreeEvents.call(this, this.listenerTree, [], null, nsAsArray) : (_events? ownKeys(_events) : []);
  };

  EventEmitter.prototype.listenerCount = function(type) {
    return this.listeners(type).length;
  };

  EventEmitter.prototype.hasListeners = function (type) {
    if (this.wildcard) {
      var handlers = [];
      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();
      searchListenerTree.call(this, handlers, ns, this.listenerTree, 0);
      return handlers.length > 0;
    }

    var _events = this._events;
    var _all = this._all;

    return !!(_all && _all.length || _events && (type === undefined ? ownKeys(_events).length : _events[type]));
  };

  EventEmitter.prototype.listenersAny = function() {

    if(this._all) {
      return this._all;
    }
    else {
      return [];
    }

  };

  EventEmitter.prototype.waitFor = function (event, options) {
    var self = this;
    var type = typeof options;
    if (type === 'number') {
      options = {timeout: options};
    } else if (type === 'function') {
      options = {filter: options};
    }

    options= resolveOptions(options, {
      timeout: 0,
      filter: undefined,
      handleError: false,
      Promise: Promise,
      overload: false
    }, {
      filter: functionReducer,
      Promise: constructorReducer
    });

    return makeCancelablePromise(options.Promise, function (resolve, reject, onCancel) {
      function listener() {
        var filter= options.filter;
        if (filter && !filter.apply(self, arguments)) {
          return;
        }
        self.off(event, listener);
        if (options.handleError) {
          var err = arguments[0];
          err ? reject(err) : resolve(toArray.apply(null, arguments).slice(1));
        } else {
          resolve(toArray.apply(null, arguments));
        }
      }

      onCancel(function(){
        self.off(event, listener);
      });

      self._on(event, listener, false);
    }, {
      timeout: options.timeout,
      overload: options.overload
    })
  };

  function once(emitter, name, options) {
    options= resolveOptions(options, {
      Promise: Promise,
      timeout: 0,
      overload: false
    }, {
      Promise: constructorReducer
    });

    var _Promise= options.Promise;

    return makeCancelablePromise(_Promise, function(resolve, reject, onCancel){
      var handler;
      if (typeof emitter.addEventListener === 'function') {
        handler=  function () {
          resolve(toArray.apply(null, arguments));
        };

        onCancel(function(){
          emitter.removeEventListener(name, handler);
        });

        emitter.addEventListener(
            name,
            handler,
            {once: true}
        );
        return;
      }

      var eventListener = function(){
        errorListener && emitter.removeListener('error', errorListener);
        resolve(toArray.apply(null, arguments));
      };

      var errorListener;

      if (name !== 'error') {
        errorListener = function (err){
          emitter.removeListener(name, eventListener);
          reject(err);
        };

        emitter.once('error', errorListener);
      }

      onCancel(function(){
        errorListener && emitter.removeListener('error', errorListener);
        emitter.removeListener(name, eventListener);
      });

      emitter.once(name, eventListener);
    }, {
      timeout: options.timeout,
      overload: options.overload
    });
  }

  var prototype= EventEmitter.prototype;

  Object.defineProperties(EventEmitter, {
    defaultMaxListeners: {
      get: function () {
        return prototype._maxListeners;
      },
      set: function (n) {
        if (typeof n !== 'number' || n < 0 || Number.isNaN(n)) {
          throw TypeError('n must be a non-negative number')
        }
        prototype._maxListeners = n;
      },
      enumerable: true
    },
    once: {
      value: once,
      writable: true,
      configurable: true
    }
  });

  Object.defineProperties(prototype, {
      _maxListeners: {
          value: defaultMaxListeners,
          writable: true,
          configurable: true
      },
      _observers: {value: null, writable: true, configurable: true}
  });

  if (true) {
     // AMD. Register as an anonymous module.
    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {
      return EventEmitter;
    }).call(exports, __webpack_require__, exports, module),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else // removed by dead control flow
{ var _global; }
}();


/***/ }),

/***/ "./node_modules/file-type/core.js":
/*!****************************************!*\
  !*** ./node_modules/file-type/core.js ***!
  \****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

const Token = __webpack_require__(/*! token-types */ "./node_modules/token-types/lib/index.js");
const strtok3 = __webpack_require__(/*! strtok3/lib/core */ "./node_modules/strtok3/lib/core.js");
const {
	stringToBytes,
	tarHeaderChecksumMatches,
	uint32SyncSafeToken
} = __webpack_require__(/*! ./util */ "./node_modules/file-type/util.js");
const supported = __webpack_require__(/*! ./supported */ "./node_modules/file-type/supported.js");

const minimumBytes = 4100; // A fair amount of file-types are detectable within this range

async function fromStream(stream) {
	const tokenizer = await strtok3.fromStream(stream);
	try {
		return await fromTokenizer(tokenizer);
	} finally {
		await tokenizer.close();
	}
}

async function fromBuffer(input) {
	if (!(input instanceof Uint8Array || input instanceof ArrayBuffer || Buffer.isBuffer(input))) {
		throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof input}\``);
	}

	const buffer = input instanceof Buffer ? input : Buffer.from(input);

	if (!(buffer && buffer.length > 1)) {
		return;
	}

	const tokenizer = strtok3.fromBuffer(buffer);
	return fromTokenizer(tokenizer);
}

function _check(buffer, headers, options) {
	options = {
		offset: 0,
		...options
	};

	for (const [index, header] of headers.entries()) {
		// If a bitmask is set
		if (options.mask) {
			// If header doesn't equal `buf` with bits masked off
			if (header !== (options.mask[index] & buffer[index + options.offset])) {
				return false;
			}
		} else if (header !== buffer[index + options.offset]) {
			return false;
		}
	}

	return true;
}

async function fromTokenizer(tokenizer) {
	try {
		return _fromTokenizer(tokenizer);
	} catch (error) {
		if (!(error instanceof strtok3.EndOfStreamError)) {
			throw error;
		}
	}
}

async function _fromTokenizer(tokenizer) {
	let buffer = Buffer.alloc(minimumBytes);
	const bytesRead = 12;
	const check = (header, options) => _check(buffer, header, options);
	const checkString = (header, options) => check(stringToBytes(header), options);

	// Keep reading until EOF if the file size is unknown.
	if (!tokenizer.fileInfo.size) {
		tokenizer.fileInfo.size = Number.MAX_SAFE_INTEGER;
	}

	await tokenizer.peekBuffer(buffer, {length: bytesRead, mayBeLess: true});

	// -- 2-byte signatures --

	if (check([0x42, 0x4D])) {
		return {
			ext: 'bmp',
			mime: 'image/bmp'
		};
	}

	if (check([0x0B, 0x77])) {
		return {
			ext: 'ac3',
			mime: 'audio/vnd.dolby.dd-raw'
		};
	}

	if (check([0x78, 0x01])) {
		return {
			ext: 'dmg',
			mime: 'application/x-apple-diskimage'
		};
	}

	if (check([0x4D, 0x5A])) {
		return {
			ext: 'exe',
			mime: 'application/x-msdownload'
		};
	}

	if (check([0x25, 0x21])) {
		await tokenizer.peekBuffer(buffer, {length: 24, mayBeLess: true});

		if (checkString('PS-Adobe-', {offset: 2}) &&
			checkString(' EPSF-', {offset: 14})) {
			return {
				ext: 'eps',
				mime: 'application/eps'
			};
		}

		return {
			ext: 'ps',
			mime: 'application/postscript'
		};
	}

	if (
		check([0x1F, 0xA0]) ||
		check([0x1F, 0x9D])
	) {
		return {
			ext: 'Z',
			mime: 'application/x-compress'
		};
	}

	// -- 3-byte signatures --

	if (check([0xFF, 0xD8, 0xFF])) {
		return {
			ext: 'jpg',
			mime: 'image/jpeg'
		};
	}

	if (check([0x49, 0x49, 0xBC])) {
		return {
			ext: 'jxr',
			mime: 'image/vnd.ms-photo'
		};
	}

	if (check([0x1F, 0x8B, 0x8])) {
		return {
			ext: 'gz',
			mime: 'application/gzip'
		};
	}

	if (check([0x42, 0x5A, 0x68])) {
		return {
			ext: 'bz2',
			mime: 'application/x-bzip2'
		};
	}

	if (checkString('ID3')) {
		await tokenizer.ignore(6); // Skip ID3 header until the header size
		const id3HeaderLen = await tokenizer.readToken(uint32SyncSafeToken);
		if (tokenizer.position + id3HeaderLen > tokenizer.fileInfo.size) {
			// Guess file type based on ID3 header for backward compatibility
			return {
				ext: 'mp3',
				mime: 'audio/mpeg'
			};
		}

		await tokenizer.ignore(id3HeaderLen);
		return fromTokenizer(tokenizer); // Skip ID3 header, recursion
	}

	// Musepack, SV7
	if (checkString('MP+')) {
		return {
			ext: 'mpc',
			mime: 'audio/x-musepack'
		};
	}

	if (
		(buffer[0] === 0x43 || buffer[0] === 0x46) &&
		check([0x57, 0x53], {offset: 1})
	) {
		return {
			ext: 'swf',
			mime: 'application/x-shockwave-flash'
		};
	}

	// -- 4-byte signatures --

	if (check([0x47, 0x49, 0x46])) {
		return {
			ext: 'gif',
			mime: 'image/gif'
		};
	}

	if (checkString('FLIF')) {
		return {
			ext: 'flif',
			mime: 'image/flif'
		};
	}

	if (checkString('8BPS')) {
		return {
			ext: 'psd',
			mime: 'image/vnd.adobe.photoshop'
		};
	}

	if (checkString('WEBP', {offset: 8})) {
		return {
			ext: 'webp',
			mime: 'image/webp'
		};
	}

	// Musepack, SV8
	if (checkString('MPCK')) {
		return {
			ext: 'mpc',
			mime: 'audio/x-musepack'
		};
	}

	if (checkString('FORM')) {
		return {
			ext: 'aif',
			mime: 'audio/aiff'
		};
	}

	if (checkString('icns', {offset: 0})) {
		return {
			ext: 'icns',
			mime: 'image/icns'
		};
	}

	// Zip-based file formats
	// Need to be before the `zip` check
	if (check([0x50, 0x4B, 0x3, 0x4])) { // Local file header signature
		try {
			while (tokenizer.position + 30 < tokenizer.fileInfo.size) {
				await tokenizer.readBuffer(buffer, {length: 30});

				// https://en.wikipedia.org/wiki/Zip_(file_format)#File_headers
				const zipHeader = {
					compressedSize: buffer.readUInt32LE(18),
					uncompressedSize: buffer.readUInt32LE(22),
					filenameLength: buffer.readUInt16LE(26),
					extraFieldLength: buffer.readUInt16LE(28)
				};

				zipHeader.filename = await tokenizer.readToken(new Token.StringType(zipHeader.filenameLength, 'utf-8'));
				await tokenizer.ignore(zipHeader.extraFieldLength);

				// Assumes signed `.xpi` from addons.mozilla.org
				if (zipHeader.filename === 'META-INF/mozilla.rsa') {
					return {
						ext: 'xpi',
						mime: 'application/x-xpinstall'
					};
				}

				if (zipHeader.filename.endsWith('.rels') || zipHeader.filename.endsWith('.xml')) {
					const type = zipHeader.filename.split('/')[0];
					switch (type) {
						case '_rels':
							break;
						case 'word':
							return {
								ext: 'docx',
								mime: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'
							};
						case 'ppt':
							return {
								ext: 'pptx',
								mime: 'application/vnd.openxmlformats-officedocument.presentationml.presentation'
							};
						case 'xl':
							return {
								ext: 'xlsx',
								mime: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'
							};
						default:
							break;
					}
				}

				if (zipHeader.filename.startsWith('xl/')) {
					return {
						ext: 'xlsx',
						mime: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'
					};
				}

				if (zipHeader.filename.startsWith('3D/') && zipHeader.filename.endsWith('.model')) {
					return {
						ext: '3mf',
						mime: 'model/3mf'
					};
				}

				// The docx, xlsx and pptx file types extend the Office Open XML file format:
				// https://en.wikipedia.org/wiki/Office_Open_XML_file_formats
				// We look for:
				// - one entry named '[Content_Types].xml' or '_rels/.rels',
				// - one entry indicating specific type of file.
				// MS Office, OpenOffice and LibreOffice may put the parts in different order, so the check should not rely on it.
				if (zipHeader.filename === 'mimetype' && zipHeader.compressedSize === zipHeader.uncompressedSize) {
					const mimeType = await tokenizer.readToken(new Token.StringType(zipHeader.compressedSize, 'utf-8'));

					switch (mimeType) {
						case 'application/epub+zip':
							return {
								ext: 'epub',
								mime: 'application/epub+zip'
							};
						case 'application/vnd.oasis.opendocument.text':
							return {
								ext: 'odt',
								mime: 'application/vnd.oasis.opendocument.text'
							};
						case 'application/vnd.oasis.opendocument.spreadsheet':
							return {
								ext: 'ods',
								mime: 'application/vnd.oasis.opendocument.spreadsheet'
							};
						case 'application/vnd.oasis.opendocument.presentation':
							return {
								ext: 'odp',
								mime: 'application/vnd.oasis.opendocument.presentation'
							};
						default:
					}
				}

				// Try to find next header manually when current one is corrupted
				if (zipHeader.compressedSize === 0) {
					let nextHeaderIndex = -1;

					while (nextHeaderIndex < 0 && (tokenizer.position < tokenizer.fileInfo.size)) {
						await tokenizer.peekBuffer(buffer, {mayBeLess: true});

						nextHeaderIndex = buffer.indexOf('504B0304', 0, 'hex');
						// Move position to the next header if found, skip the whole buffer otherwise
						await tokenizer.ignore(nextHeaderIndex >= 0 ? nextHeaderIndex : buffer.length);
					}
				} else {
					await tokenizer.ignore(zipHeader.compressedSize);
				}
			}
		} catch (error) {
			if (!(error instanceof strtok3.EndOfStreamError)) {
				throw error;
			}
		}

		return {
			ext: 'zip',
			mime: 'application/zip'
		};
	}

	if (checkString('OggS')) {
		// This is an OGG container
		await tokenizer.ignore(28);
		const type = Buffer.alloc(8);
		await tokenizer.readBuffer(type);

		// Needs to be before `ogg` check
		if (_check(type, [0x4F, 0x70, 0x75, 0x73, 0x48, 0x65, 0x61, 0x64])) {
			return {
				ext: 'opus',
				mime: 'audio/opus'
			};
		}

		// If ' theora' in header.
		if (_check(type, [0x80, 0x74, 0x68, 0x65, 0x6F, 0x72, 0x61])) {
			return {
				ext: 'ogv',
				mime: 'video/ogg'
			};
		}

		// If '\x01video' in header.
		if (_check(type, [0x01, 0x76, 0x69, 0x64, 0x65, 0x6F, 0x00])) {
			return {
				ext: 'ogm',
				mime: 'video/ogg'
			};
		}

		// If ' FLAC' in header  https://xiph.org/flac/faq.html
		if (_check(type, [0x7F, 0x46, 0x4C, 0x41, 0x43])) {
			return {
				ext: 'oga',
				mime: 'audio/ogg'
			};
		}

		// 'Speex  ' in header https://en.wikipedia.org/wiki/Speex
		if (_check(type, [0x53, 0x70, 0x65, 0x65, 0x78, 0x20, 0x20])) {
			return {
				ext: 'spx',
				mime: 'audio/ogg'
			};
		}

		// If '\x01vorbis' in header
		if (_check(type, [0x01, 0x76, 0x6F, 0x72, 0x62, 0x69, 0x73])) {
			return {
				ext: 'ogg',
				mime: 'audio/ogg'
			};
		}

		// Default OGG container https://www.iana.org/assignments/media-types/application/ogg
		return {
			ext: 'ogx',
			mime: 'application/ogg'
		};
	}

	if (
		check([0x50, 0x4B]) &&
		(buffer[2] === 0x3 || buffer[2] === 0x5 || buffer[2] === 0x7) &&
		(buffer[3] === 0x4 || buffer[3] === 0x6 || buffer[3] === 0x8)
	) {
		return {
			ext: 'zip',
			mime: 'application/zip'
		};
	}

	//

	// File Type Box (https://en.wikipedia.org/wiki/ISO_base_media_file_format)
	// It's not required to be first, but it's recommended to be. Almost all ISO base media files start with `ftyp` box.
	// `ftyp` box must contain a brand major identifier, which must consist of ISO 8859-1 printable characters.
	// Here we check for 8859-1 printable characters (for simplicity, it's a mask which also catches one non-printable character).
	if (
		checkString('ftyp', {offset: 4}) &&
		(buffer[8] & 0x60) !== 0x00 // Brand major, first character ASCII?
	) {
		// They all can have MIME `video/mp4` except `application/mp4` special-case which is hard to detect.
		// For some cases, we're specific, everything else falls to `video/mp4` with `mp4` extension.
		const brandMajor = buffer.toString('binary', 8, 12).replace('\0', ' ').trim();
		switch (brandMajor) {
			case 'avif':
				return {ext: 'avif', mime: 'image/avif'};
			case 'mif1':
				return {ext: 'heic', mime: 'image/heif'};
			case 'msf1':
				return {ext: 'heic', mime: 'image/heif-sequence'};
			case 'heic':
			case 'heix':
				return {ext: 'heic', mime: 'image/heic'};
			case 'hevc':
			case 'hevx':
				return {ext: 'heic', mime: 'image/heic-sequence'};
			case 'qt':
				return {ext: 'mov', mime: 'video/quicktime'};
			case 'M4V':
			case 'M4VH':
			case 'M4VP':
				return {ext: 'm4v', mime: 'video/x-m4v'};
			case 'M4P':
				return {ext: 'm4p', mime: 'video/mp4'};
			case 'M4B':
				return {ext: 'm4b', mime: 'audio/mp4'};
			case 'M4A':
				return {ext: 'm4a', mime: 'audio/x-m4a'};
			case 'F4V':
				return {ext: 'f4v', mime: 'video/mp4'};
			case 'F4P':
				return {ext: 'f4p', mime: 'video/mp4'};
			case 'F4A':
				return {ext: 'f4a', mime: 'audio/mp4'};
			case 'F4B':
				return {ext: 'f4b', mime: 'audio/mp4'};
			case 'crx':
				return {ext: 'cr3', mime: 'image/x-canon-cr3'};
			default:
				if (brandMajor.startsWith('3g')) {
					if (brandMajor.startsWith('3g2')) {
						return {ext: '3g2', mime: 'video/3gpp2'};
					}

					return {ext: '3gp', mime: 'video/3gpp'};
				}

				return {ext: 'mp4', mime: 'video/mp4'};
		}
	}

	if (checkString('MThd')) {
		return {
			ext: 'mid',
			mime: 'audio/midi'
		};
	}

	if (
		checkString('wOFF') &&
		(
			check([0x00, 0x01, 0x00, 0x00], {offset: 4}) ||
			checkString('OTTO', {offset: 4})
		)
	) {
		return {
			ext: 'woff',
			mime: 'font/woff'
		};
	}

	if (
		checkString('wOF2') &&
		(
			check([0x00, 0x01, 0x00, 0x00], {offset: 4}) ||
			checkString('OTTO', {offset: 4})
		)
	) {
		return {
			ext: 'woff2',
			mime: 'font/woff2'
		};
	}

	if (check([0xD4, 0xC3, 0xB2, 0xA1]) || check([0xA1, 0xB2, 0xC3, 0xD4])) {
		return {
			ext: 'pcap',
			mime: 'application/vnd.tcpdump.pcap'
		};
	}

	// Sony DSD Stream File (DSF)
	if (checkString('DSD ')) {
		return {
			ext: 'dsf',
			mime: 'audio/x-dsf' // Non-standard
		};
	}

	if (checkString('LZIP')) {
		return {
			ext: 'lz',
			mime: 'application/x-lzip'
		};
	}

	if (checkString('fLaC')) {
		return {
			ext: 'flac',
			mime: 'audio/x-flac'
		};
	}

	if (check([0x42, 0x50, 0x47, 0xFB])) {
		return {
			ext: 'bpg',
			mime: 'image/bpg'
		};
	}

	if (checkString('wvpk')) {
		return {
			ext: 'wv',
			mime: 'audio/wavpack'
		};
	}

	if (checkString('%PDF')) {
		await tokenizer.ignore(1350);
		const maxBufferSize = 10 * 1024 * 1024;
		const buffer = Buffer.alloc(Math.min(maxBufferSize, tokenizer.fileInfo.size));
		await tokenizer.readBuffer(buffer, {mayBeLess: true});

		// Check if this is an Adobe Illustrator file
		if (buffer.includes(Buffer.from('AIPrivateData'))) {
			return {
				ext: 'ai',
				mime: 'application/postscript'
			};
		}

		// Assume this is just a normal PDF
		return {
			ext: 'pdf',
			mime: 'application/pdf'
		};
	}

	if (check([0x00, 0x61, 0x73, 0x6D])) {
		return {
			ext: 'wasm',
			mime: 'application/wasm'
		};
	}

	// TIFF, little-endian type
	if (check([0x49, 0x49, 0x2A, 0x0])) {
		if (checkString('CR', {offset: 8})) {
			return {
				ext: 'cr2',
				mime: 'image/x-canon-cr2'
			};
		}

		if (check([0x1C, 0x00, 0xFE, 0x00], {offset: 8}) || check([0x1F, 0x00, 0x0B, 0x00], {offset: 8})) {
			return {
				ext: 'nef',
				mime: 'image/x-nikon-nef'
			};
		}

		if (
			check([0x08, 0x00, 0x00, 0x00], {offset: 4}) &&
			(check([0x2D, 0x00, 0xFE, 0x00], {offset: 8}) ||
				check([0x27, 0x00, 0xFE, 0x00], {offset: 8}))
		) {
			return {
				ext: 'dng',
				mime: 'image/x-adobe-dng'
			};
		}

		buffer = Buffer.alloc(24);
		await tokenizer.peekBuffer(buffer);
		if (
			(check([0x10, 0xFB, 0x86, 0x01], {offset: 4}) || check([0x08, 0x00, 0x00, 0x00], {offset: 4})) &&
			// This pattern differentiates ARW from other TIFF-ish file types:
			check([0x00, 0xFE, 0x00, 0x04, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x03, 0x01], {offset: 9})
		) {
			return {
				ext: 'arw',
				mime: 'image/x-sony-arw'
			};
		}

		return {
			ext: 'tif',
			mime: 'image/tiff'
		};
	}

	// TIFF, big-endian type
	if (check([0x4D, 0x4D, 0x0, 0x2A])) {
		return {
			ext: 'tif',
			mime: 'image/tiff'
		};
	}

	if (checkString('MAC ')) {
		return {
			ext: 'ape',
			mime: 'audio/ape'
		};
	}

	// https://github.com/threatstack/libmagic/blob/master/magic/Magdir/matroska
	if (check([0x1A, 0x45, 0xDF, 0xA3])) { // Root element: EBML
		async function readField() {
			const msb = await tokenizer.peekNumber(Token.UINT8);
			let mask = 0x80;
			let ic = 0; // 0 = A, 1 = B, 2 = C, 3 = D

			while ((msb & mask) === 0 && mask !== 0) {
				++ic;
				mask >>= 1;
			}

			const id = Buffer.alloc(ic + 1);
			await tokenizer.readBuffer(id);
			return id;
		}

		async function readElement() {
			const id = await readField();
			const lenField = await readField();
			lenField[0] ^= 0x80 >> (lenField.length - 1);
			const nrLen = Math.min(6, lenField.length); // JavaScript can max read 6 bytes integer
			return {
				id: id.readUIntBE(0, id.length),
				len: lenField.readUIntBE(lenField.length - nrLen, nrLen)
			};
		}

		async function readChildren(level, children) {
			while (children > 0) {
				const e = await readElement();
				if (e.id === 0x4282) {
					return tokenizer.readToken(new Token.StringType(e.len, 'utf-8')); // Return DocType
				}

				await tokenizer.ignore(e.len); // ignore payload
				--children;
			}
		}

		const re = await readElement();
		const docType = await readChildren(1, re.len);

		switch (docType) {
			case 'webm':
				return {
					ext: 'webm',
					mime: 'video/webm'
				};

			case 'matroska':
				return {
					ext: 'mkv',
					mime: 'video/x-matroska'
				};

			default:
				return;
		}
	}

	// RIFF file format which might be AVI, WAV, QCP, etc
	if (check([0x52, 0x49, 0x46, 0x46])) {
		if (check([0x41, 0x56, 0x49], {offset: 8})) {
			return {
				ext: 'avi',
				mime: 'video/vnd.avi'
			};
		}

		if (check([0x57, 0x41, 0x56, 0x45], {offset: 8})) {
			return {
				ext: 'wav',
				mime: 'audio/vnd.wave'
			};
		}

		// QLCM, QCP file
		if (check([0x51, 0x4C, 0x43, 0x4D], {offset: 8})) {
			return {
				ext: 'qcp',
				mime: 'audio/qcelp'
			};
		}
	}

	if (checkString('SQLi')) {
		return {
			ext: 'sqlite',
			mime: 'application/x-sqlite3'
		};
	}

	if (check([0x4E, 0x45, 0x53, 0x1A])) {
		return {
			ext: 'nes',
			mime: 'application/x-nintendo-nes-rom'
		};
	}

	if (checkString('Cr24')) {
		return {
			ext: 'crx',
			mime: 'application/x-google-chrome-extension'
		};
	}

	if (
		checkString('MSCF') ||
		checkString('ISc(')
	) {
		return {
			ext: 'cab',
			mime: 'application/vnd.ms-cab-compressed'
		};
	}

	if (check([0xED, 0xAB, 0xEE, 0xDB])) {
		return {
			ext: 'rpm',
			mime: 'application/x-rpm'
		};
	}

	if (check([0xC5, 0xD0, 0xD3, 0xC6])) {
		return {
			ext: 'eps',
			mime: 'application/eps'
		};
	}

	if (check([0x28, 0xB5, 0x2F, 0xFD])) {
		return {
			ext: 'zst',
			mime: 'application/zstd'
		};
	}

	// -- 5-byte signatures --

	if (check([0x4F, 0x54, 0x54, 0x4F, 0x00])) {
		return {
			ext: 'otf',
			mime: 'font/otf'
		};
	}

	if (checkString('#!AMR')) {
		return {
			ext: 'amr',
			mime: 'audio/amr'
		};
	}

	if (checkString('{\\rtf')) {
		return {
			ext: 'rtf',
			mime: 'application/rtf'
		};
	}

	if (check([0x46, 0x4C, 0x56, 0x01])) {
		return {
			ext: 'flv',
			mime: 'video/x-flv'
		};
	}

	if (checkString('IMPM')) {
		return {
			ext: 'it',
			mime: 'audio/x-it'
		};
	}

	if (
		checkString('-lh0-', {offset: 2}) ||
		checkString('-lh1-', {offset: 2}) ||
		checkString('-lh2-', {offset: 2}) ||
		checkString('-lh3-', {offset: 2}) ||
		checkString('-lh4-', {offset: 2}) ||
		checkString('-lh5-', {offset: 2}) ||
		checkString('-lh6-', {offset: 2}) ||
		checkString('-lh7-', {offset: 2}) ||
		checkString('-lzs-', {offset: 2}) ||
		checkString('-lz4-', {offset: 2}) ||
		checkString('-lz5-', {offset: 2}) ||
		checkString('-lhd-', {offset: 2})
	) {
		return {
			ext: 'lzh',
			mime: 'application/x-lzh-compressed'
		};
	}

	// MPEG program stream (PS or MPEG-PS)
	if (check([0x00, 0x00, 0x01, 0xBA])) {
		//  MPEG-PS, MPEG-1 Part 1
		if (check([0x21], {offset: 4, mask: [0xF1]})) {
			return {
				ext: 'mpg', // May also be .ps, .mpeg
				mime: 'video/MP1S'
			};
		}

		// MPEG-PS, MPEG-2 Part 1
		if (check([0x44], {offset: 4, mask: [0xC4]})) {
			return {
				ext: 'mpg', // May also be .mpg, .m2p, .vob or .sub
				mime: 'video/MP2P'
			};
		}
	}

	if (checkString('ITSF')) {
		return {
			ext: 'chm',
			mime: 'application/vnd.ms-htmlhelp'
		};
	}

	// -- 6-byte signatures --

	if (check([0xFD, 0x37, 0x7A, 0x58, 0x5A, 0x00])) {
		return {
			ext: 'xz',
			mime: 'application/x-xz'
		};
	}

	if (checkString('<?xml ')) {
		return {
			ext: 'xml',
			mime: 'application/xml'
		};
	}

	if (check([0x37, 0x7A, 0xBC, 0xAF, 0x27, 0x1C])) {
		return {
			ext: '7z',
			mime: 'application/x-7z-compressed'
		};
	}

	if (
		check([0x52, 0x61, 0x72, 0x21, 0x1A, 0x7]) &&
		(buffer[6] === 0x0 || buffer[6] === 0x1)
	) {
		return {
			ext: 'rar',
			mime: 'application/x-rar-compressed'
		};
	}

	if (checkString('solid ')) {
		return {
			ext: 'stl',
			mime: 'model/stl'
		};
	}

	// -- 7-byte signatures --

	if (checkString('BLENDER')) {
		return {
			ext: 'blend',
			mime: 'application/x-blender'
		};
	}

	if (checkString('!<arch>')) {
		await tokenizer.ignore(8);
		const str = await tokenizer.readToken(new Token.StringType(13, 'ascii'));
		if (str === 'debian-binary') {
			return {
				ext: 'deb',
				mime: 'application/x-deb'
			};
		}

		return {
			ext: 'ar',
			mime: 'application/x-unix-archive'
		};
	}

	// -- 8-byte signatures --

	if (check([0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A])) {
		// APNG format (https://wiki.mozilla.org/APNG_Specification)
		// 1. Find the first IDAT (image data) chunk (49 44 41 54)
		// 2. Check if there is an "acTL" chunk before the IDAT one (61 63 54 4C)

		// Offset calculated as follows:
		// - 8 bytes: PNG signature
		// - 4 (length) + 4 (chunk type) + 13 (chunk data) + 4 (CRC): IHDR chunk

		await tokenizer.ignore(8); // ignore PNG signature

		async function readChunkHeader() {
			return {
				length: await tokenizer.readToken(Token.INT32_BE),
				type: await tokenizer.readToken(new Token.StringType(4, 'binary'))
			};
		}

		do {
			const chunk = await readChunkHeader();
			if (chunk.length < 0) {
				return; // Invalid chunk length
			}

			switch (chunk.type) {
				case 'IDAT':
					return {
						ext: 'png',
						mime: 'image/png'
					};
				case 'acTL':
					return {
						ext: 'apng',
						mime: 'image/apng'
					};
				default:
					await tokenizer.ignore(chunk.length + 4); // Ignore chunk-data + CRC
			}
		} while (tokenizer.position + 8 < tokenizer.fileInfo.size);

		return {
			ext: 'png',
			mime: 'image/png'
		};
	}

	if (check([0x41, 0x52, 0x52, 0x4F, 0x57, 0x31, 0x00, 0x00])) {
		return {
			ext: 'arrow',
			mime: 'application/x-apache-arrow'
		};
	}

	if (check([0x67, 0x6C, 0x54, 0x46, 0x02, 0x00, 0x00, 0x00])) {
		return {
			ext: 'glb',
			mime: 'model/gltf-binary'
		};
	}

	// `mov` format variants
	if (
		check([0x66, 0x72, 0x65, 0x65], {offset: 4}) || // `free`
		check([0x6D, 0x64, 0x61, 0x74], {offset: 4}) || // `mdat` MJPEG
		check([0x6D, 0x6F, 0x6F, 0x76], {offset: 4}) || // `moov`
		check([0x77, 0x69, 0x64, 0x65], {offset: 4}) // `wide`
	) {
		return {
			ext: 'mov',
			mime: 'video/quicktime'
		};
	}

	// -- 9-byte signatures --

	if (check([0x49, 0x49, 0x52, 0x4F, 0x08, 0x00, 0x00, 0x00, 0x18])) {
		return {
			ext: 'orf',
			mime: 'image/x-olympus-orf'
		};
	}

	if (checkString('gimp xcf ')) {
		return {
			ext: 'xcf',
			mime: 'image/x-xcf'
		};
	}

	// -- 12-byte signatures --

	if (check([0x49, 0x49, 0x55, 0x00, 0x18, 0x00, 0x00, 0x00, 0x88, 0xE7, 0x74, 0xD8])) {
		return {
			ext: 'rw2',
			mime: 'image/x-panasonic-rw2'
		};
	}

	// ASF_Header_Object first 80 bytes
	if (check([0x30, 0x26, 0xB2, 0x75, 0x8E, 0x66, 0xCF, 0x11, 0xA6, 0xD9])) {
		async function readHeader() {
			const guid = Buffer.alloc(16);
			await tokenizer.readBuffer(guid);
			return {
				id: guid,
				size: Number(await tokenizer.readToken(Token.UINT64_LE))
			};
		}

		await tokenizer.ignore(30);
		// Search for header should be in first 1KB of file.
		while (tokenizer.position + 24 < tokenizer.fileInfo.size) {
			const header = await readHeader();
			let payload = header.size - 24;
			if (_check(header.id, [0x91, 0x07, 0xDC, 0xB7, 0xB7, 0xA9, 0xCF, 0x11, 0x8E, 0xE6, 0x00, 0xC0, 0x0C, 0x20, 0x53, 0x65])) {
				// Sync on Stream-Properties-Object (B7DC0791-A9B7-11CF-8EE6-00C00C205365)
				const typeId = Buffer.alloc(16);
				payload -= await tokenizer.readBuffer(typeId);

				if (_check(typeId, [0x40, 0x9E, 0x69, 0xF8, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B])) {
					// Found audio:
					return {
						ext: 'asf',
						mime: 'audio/x-ms-asf'
					};
				}

				if (_check(typeId, [0xC0, 0xEF, 0x19, 0xBC, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B])) {
					// Found video:
					return {
						ext: 'asf',
						mime: 'video/x-ms-asf'
					};
				}

				break;
			}

			await tokenizer.ignore(payload);
		}

		// Default to ASF generic extension
		return {
			ext: 'asf',
			mime: 'application/vnd.ms-asf'
		};
	}

	if (check([0xAB, 0x4B, 0x54, 0x58, 0x20, 0x31, 0x31, 0xBB, 0x0D, 0x0A, 0x1A, 0x0A])) {
		return {
			ext: 'ktx',
			mime: 'image/ktx'
		};
	}

	if ((check([0x7E, 0x10, 0x04]) || check([0x7E, 0x18, 0x04])) && check([0x30, 0x4D, 0x49, 0x45], {offset: 4})) {
		return {
			ext: 'mie',
			mime: 'application/x-mie'
		};
	}

	if (check([0x27, 0x0A, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00], {offset: 2})) {
		return {
			ext: 'shp',
			mime: 'application/x-esri-shape'
		};
	}

	if (check([0x00, 0x00, 0x00, 0x0C, 0x6A, 0x50, 0x20, 0x20, 0x0D, 0x0A, 0x87, 0x0A])) {
		// JPEG-2000 family

		await tokenizer.ignore(20);
		const type = await tokenizer.readToken(new Token.StringType(4, 'ascii'));
		switch (type) {
			case 'jp2 ':
				return {
					ext: 'jp2',
					mime: 'image/jp2'
				};
			case 'jpx ':
				return {
					ext: 'jpx',
					mime: 'image/jpx'
				};
			case 'jpm ':
				return {
					ext: 'jpm',
					mime: 'image/jpm'
				};
			case 'mjp2':
				return {
					ext: 'mj2',
					mime: 'image/mj2'
				};
			default:
				return;
		}
	}

	if (
		check([0xFF, 0x0A]) ||
		check([0x00, 0x00, 0x00, 0x0C, 0x4A, 0x58, 0x4C, 0x20, 0x0D, 0x0A, 0x87, 0x0A])
	) {
		return {
			ext: 'jxl',
			mime: 'image/jxl'
		};
	}

	// -- Unsafe signatures --

	if (
		check([0x0, 0x0, 0x1, 0xBA]) ||
		check([0x0, 0x0, 0x1, 0xB3])
	) {
		return {
			ext: 'mpg',
			mime: 'video/mpeg'
		};
	}

	if (check([0x00, 0x01, 0x00, 0x00, 0x00])) {
		return {
			ext: 'ttf',
			mime: 'font/ttf'
		};
	}

	if (check([0x00, 0x00, 0x01, 0x00])) {
		return {
			ext: 'ico',
			mime: 'image/x-icon'
		};
	}

	if (check([0x00, 0x00, 0x02, 0x00])) {
		return {
			ext: 'cur',
			mime: 'image/x-icon'
		};
	}

	if (check([0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1])) {
		// Detected Microsoft Compound File Binary File (MS-CFB) Format.
		return {
			ext: 'cfb',
			mime: 'application/x-cfb'
		};
	}

	// Increase sample size from 12 to 256.
	await tokenizer.peekBuffer(buffer, {length: Math.min(256, tokenizer.fileInfo.size), mayBeLess: true});

	// -- 15-byte signatures --

	if (checkString('BEGIN:')) {
		if (checkString('VCARD', {offset: 6})) {
			return {
				ext: 'vcf',
				mime: 'text/vcard'
			};
		}

		if (checkString('VCALENDAR', {offset: 6})) {
			return {
				ext: 'ics',
				mime: 'text/calendar'
			};
		}
	}

	// `raf` is here just to keep all the raw image detectors together.
	if (checkString('FUJIFILMCCD-RAW')) {
		return {
			ext: 'raf',
			mime: 'image/x-fujifilm-raf'
		};
	}

	if (checkString('Extended Module:')) {
		return {
			ext: 'xm',
			mime: 'audio/x-xm'
		};
	}

	if (checkString('Creative Voice File')) {
		return {
			ext: 'voc',
			mime: 'audio/x-voc'
		};
	}

	if (check([0x04, 0x00, 0x00, 0x00]) && buffer.length >= 16) { // Rough & quick check Pickle/ASAR
		const jsonSize = buffer.readUInt32LE(12);
		if (jsonSize > 12 && buffer.length >= jsonSize + 16) {
			try {
				const header = buffer.slice(16, jsonSize + 16).toString();
				const json = JSON.parse(header);
				// Check if Pickle is ASAR
				if (json.files) { // Final check, assuring Pickle/ASAR format
					return {
						ext: 'asar',
						mime: 'application/x-asar'
					};
				}
			} catch (_) {
			}
		}
	}

	if (check([0x06, 0x0E, 0x2B, 0x34, 0x02, 0x05, 0x01, 0x01, 0x0D, 0x01, 0x02, 0x01, 0x01, 0x02])) {
		return {
			ext: 'mxf',
			mime: 'application/mxf'
		};
	}

	if (checkString('SCRM', {offset: 44})) {
		return {
			ext: 's3m',
			mime: 'audio/x-s3m'
		};
	}

	if (check([0x47], {offset: 4}) && (check([0x47], {offset: 192}) || check([0x47], {offset: 196}))) {
		return {
			ext: 'mts',
			mime: 'video/mp2t'
		};
	}

	if (check([0x42, 0x4F, 0x4F, 0x4B, 0x4D, 0x4F, 0x42, 0x49], {offset: 60})) {
		return {
			ext: 'mobi',
			mime: 'application/x-mobipocket-ebook'
		};
	}

	if (check([0x44, 0x49, 0x43, 0x4D], {offset: 128})) {
		return {
			ext: 'dcm',
			mime: 'application/dicom'
		};
	}

	if (check([0x4C, 0x00, 0x00, 0x00, 0x01, 0x14, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x46])) {
		return {
			ext: 'lnk',
			mime: 'application/x.ms.shortcut' // Invented by us
		};
	}

	if (check([0x62, 0x6F, 0x6F, 0x6B, 0x00, 0x00, 0x00, 0x00, 0x6D, 0x61, 0x72, 0x6B, 0x00, 0x00, 0x00, 0x00])) {
		return {
			ext: 'alias',
			mime: 'application/x.apple.alias' // Invented by us
		};
	}

	if (
		check([0x4C, 0x50], {offset: 34}) &&
		(
			check([0x00, 0x00, 0x01], {offset: 8}) ||
			check([0x01, 0x00, 0x02], {offset: 8}) ||
			check([0x02, 0x00, 0x02], {offset: 8})
		)
	) {
		return {
			ext: 'eot',
			mime: 'application/vnd.ms-fontobject'
		};
	}

	if (check([0x06, 0x06, 0xED, 0xF5, 0xD8, 0x1D, 0x46, 0xE5, 0xBD, 0x31, 0xEF, 0xE7, 0xFE, 0x74, 0xB7, 0x1D])) {
		return {
			ext: 'indd',
			mime: 'application/x-indesign'
		};
	}

	// Increase sample size from 256 to 512
	await tokenizer.peekBuffer(buffer, {length: Math.min(512, tokenizer.fileInfo.size), mayBeLess: true});

	// Requires a buffer size of 512 bytes
	if (tarHeaderChecksumMatches(buffer)) {
		return {
			ext: 'tar',
			mime: 'application/x-tar'
		};
	}

	if (check([0xFF, 0xFE, 0xFF, 0x0E, 0x53, 0x00, 0x6B, 0x00, 0x65, 0x00, 0x74, 0x00, 0x63, 0x00, 0x68, 0x00, 0x55, 0x00, 0x70, 0x00, 0x20, 0x00, 0x4D, 0x00, 0x6F, 0x00, 0x64, 0x00, 0x65, 0x00, 0x6C, 0x00])) {
		return {
			ext: 'skp',
			mime: 'application/vnd.sketchup.skp'
		};
	}

	if (checkString('-----BEGIN PGP MESSAGE-----')) {
		return {
			ext: 'pgp',
			mime: 'application/pgp-encrypted'
		};
	}

	// Check MPEG 1 or 2 Layer 3 header, or 'layer 0' for ADTS (MPEG sync-word 0xFFE)
	if (buffer.length >= 2 && check([0xFF, 0xE0], {offset: 0, mask: [0xFF, 0xE0]})) {
		if (check([0x10], {offset: 1, mask: [0x16]})) {
			// Check for (ADTS) MPEG-2
			if (check([0x08], {offset: 1, mask: [0x08]})) {
				return {
					ext: 'aac',
					mime: 'audio/aac'
				};
			}

			// Must be (ADTS) MPEG-4
			return {
				ext: 'aac',
				mime: 'audio/aac'
			};
		}

		// MPEG 1 or 2 Layer 3 header
		// Check for MPEG layer 3
		if (check([0x02], {offset: 1, mask: [0x06]})) {
			return {
				ext: 'mp3',
				mime: 'audio/mpeg'
			};
		}

		// Check for MPEG layer 2
		if (check([0x04], {offset: 1, mask: [0x06]})) {
			return {
				ext: 'mp2',
				mime: 'audio/mpeg'
			};
		}

		// Check for MPEG layer 1
		if (check([0x06], {offset: 1, mask: [0x06]})) {
			return {
				ext: 'mp1',
				mime: 'audio/mpeg'
			};
		}
	}
}

const stream = readableStream => new Promise((resolve, reject) => {
	// Using `eval` to work around issues when bundling with Webpack
	const stream = eval('require')('stream'); // eslint-disable-line no-eval

	readableStream.on('error', reject);
	readableStream.once('readable', async () => {
		// Set up output stream
		const pass = new stream.PassThrough();
		let outputStream;
		if (stream.pipeline) {
			outputStream = stream.pipeline(readableStream, pass, () => {
			});
		} else {
			outputStream = readableStream.pipe(pass);
		}

		// Read the input stream and detect the filetype
		const chunk = readableStream.read(minimumBytes) || readableStream.read() || Buffer.alloc(0);
		try {
			const fileType = await fromBuffer(chunk);
			pass.fileType = fileType;
		} catch (error) {
			reject(error);
		}

		resolve(outputStream);
	});
});

const fileType = {
	fromStream,
	fromTokenizer,
	fromBuffer,
	stream
};

Object.defineProperty(fileType, 'extensions', {
	get() {
		return new Set(supported.extensions);
	}
});

Object.defineProperty(fileType, 'mimeTypes', {
	get() {
		return new Set(supported.mimeTypes);
	}
});

module.exports = fileType;


/***/ }),

/***/ "./node_modules/file-type/index.js":
/*!*****************************************!*\
  !*** ./node_modules/file-type/index.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

const strtok3 = __webpack_require__(/*! strtok3 */ "./node_modules/strtok3/lib/index.js");
const core = __webpack_require__(/*! ./core */ "./node_modules/file-type/core.js");

async function fromFile(path) {
	const tokenizer = await strtok3.fromFile(path);
	try {
		return await core.fromTokenizer(tokenizer);
	} finally {
		await tokenizer.close();
	}
}

const fileType = {
	fromFile
};

Object.assign(fileType, core);

Object.defineProperty(fileType, 'extensions', {
	get() {
		return core.extensions;
	}
});

Object.defineProperty(fileType, 'mimeTypes', {
	get() {
		return core.mimeTypes;
	}
});

module.exports = fileType;


/***/ }),

/***/ "./node_modules/file-type/supported.js":
/*!*********************************************!*\
  !*** ./node_modules/file-type/supported.js ***!
  \*********************************************/
/***/ ((module) => {

"use strict";


module.exports = {
	extensions: [
		'jpg',
		'png',
		'apng',
		'gif',
		'webp',
		'flif',
		'xcf',
		'cr2',
		'cr3',
		'orf',
		'arw',
		'dng',
		'nef',
		'rw2',
		'raf',
		'tif',
		'bmp',
		'icns',
		'jxr',
		'psd',
		'indd',
		'zip',
		'tar',
		'rar',
		'gz',
		'bz2',
		'7z',
		'dmg',
		'mp4',
		'mid',
		'mkv',
		'webm',
		'mov',
		'avi',
		'mpg',
		'mp2',
		'mp3',
		'm4a',
		'oga',
		'ogg',
		'ogv',
		'opus',
		'flac',
		'wav',
		'spx',
		'amr',
		'pdf',
		'epub',
		'exe',
		'swf',
		'rtf',
		'wasm',
		'woff',
		'woff2',
		'eot',
		'ttf',
		'otf',
		'ico',
		'flv',
		'ps',
		'xz',
		'sqlite',
		'nes',
		'crx',
		'xpi',
		'cab',
		'deb',
		'ar',
		'rpm',
		'Z',
		'lz',
		'cfb',
		'mxf',
		'mts',
		'blend',
		'bpg',
		'docx',
		'pptx',
		'xlsx',
		'3gp',
		'3g2',
		'jp2',
		'jpm',
		'jpx',
		'mj2',
		'aif',
		'qcp',
		'odt',
		'ods',
		'odp',
		'xml',
		'mobi',
		'heic',
		'cur',
		'ktx',
		'ape',
		'wv',
		'dcm',
		'ics',
		'glb',
		'pcap',
		'dsf',
		'lnk',
		'alias',
		'voc',
		'ac3',
		'm4v',
		'm4p',
		'm4b',
		'f4v',
		'f4p',
		'f4b',
		'f4a',
		'mie',
		'asf',
		'ogm',
		'ogx',
		'mpc',
		'arrow',
		'shp',
		'aac',
		'mp1',
		'it',
		's3m',
		'xm',
		'ai',
		'skp',
		'avif',
		'eps',
		'lzh',
		'pgp',
		'asar',
		'stl',
		'chm',
		'3mf',
		'zst',
		'jxl',
		'vcf'
	],
	mimeTypes: [
		'image/jpeg',
		'image/png',
		'image/gif',
		'image/webp',
		'image/flif',
		'image/x-xcf',
		'image/x-canon-cr2',
		'image/x-canon-cr3',
		'image/tiff',
		'image/bmp',
		'image/vnd.ms-photo',
		'image/vnd.adobe.photoshop',
		'application/x-indesign',
		'application/epub+zip',
		'application/x-xpinstall',
		'application/vnd.oasis.opendocument.text',
		'application/vnd.oasis.opendocument.spreadsheet',
		'application/vnd.oasis.opendocument.presentation',
		'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
		'application/vnd.openxmlformats-officedocument.presentationml.presentation',
		'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
		'application/zip',
		'application/x-tar',
		'application/x-rar-compressed',
		'application/gzip',
		'application/x-bzip2',
		'application/x-7z-compressed',
		'application/x-apple-diskimage',
		'application/x-apache-arrow',
		'video/mp4',
		'audio/midi',
		'video/x-matroska',
		'video/webm',
		'video/quicktime',
		'video/vnd.avi',
		'audio/vnd.wave',
		'audio/qcelp',
		'audio/x-ms-asf',
		'video/x-ms-asf',
		'application/vnd.ms-asf',
		'video/mpeg',
		'video/3gpp',
		'audio/mpeg',
		'audio/mp4', // RFC 4337
		'audio/opus',
		'video/ogg',
		'audio/ogg',
		'application/ogg',
		'audio/x-flac',
		'audio/ape',
		'audio/wavpack',
		'audio/amr',
		'application/pdf',
		'application/x-msdownload',
		'application/x-shockwave-flash',
		'application/rtf',
		'application/wasm',
		'font/woff',
		'font/woff2',
		'application/vnd.ms-fontobject',
		'font/ttf',
		'font/otf',
		'image/x-icon',
		'video/x-flv',
		'application/postscript',
		'application/eps',
		'application/x-xz',
		'application/x-sqlite3',
		'application/x-nintendo-nes-rom',
		'application/x-google-chrome-extension',
		'application/vnd.ms-cab-compressed',
		'application/x-deb',
		'application/x-unix-archive',
		'application/x-rpm',
		'application/x-compress',
		'application/x-lzip',
		'application/x-cfb',
		'application/x-mie',
		'application/mxf',
		'video/mp2t',
		'application/x-blender',
		'image/bpg',
		'image/jp2',
		'image/jpx',
		'image/jpm',
		'image/mj2',
		'audio/aiff',
		'application/xml',
		'application/x-mobipocket-ebook',
		'image/heif',
		'image/heif-sequence',
		'image/heic',
		'image/heic-sequence',
		'image/icns',
		'image/ktx',
		'application/dicom',
		'audio/x-musepack',
		'text/calendar',
		'text/vcard',
		'model/gltf-binary',
		'application/vnd.tcpdump.pcap',
		'audio/x-dsf', // Non-standard
		'application/x.ms.shortcut', // Invented by us
		'application/x.apple.alias', // Invented by us
		'audio/x-voc',
		'audio/vnd.dolby.dd-raw',
		'audio/x-m4a',
		'image/apng',
		'image/x-olympus-orf',
		'image/x-sony-arw',
		'image/x-adobe-dng',
		'image/x-nikon-nef',
		'image/x-panasonic-rw2',
		'image/x-fujifilm-raf',
		'video/x-m4v',
		'video/3gpp2',
		'application/x-esri-shape',
		'audio/aac',
		'audio/x-it',
		'audio/x-s3m',
		'audio/x-xm',
		'video/MP1S',
		'video/MP2P',
		'application/vnd.sketchup.skp',
		'image/avif',
		'application/x-lzh-compressed',
		'application/pgp-encrypted',
		'application/x-asar',
		'model/stl',
		'application/vnd.ms-htmlhelp',
		'model/3mf',
		'image/jxl',
		'application/zstd'
	]
};


/***/ }),

/***/ "./node_modules/file-type/util.js":
/*!****************************************!*\
  !*** ./node_modules/file-type/util.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


exports.stringToBytes = string => [...string].map(character => character.charCodeAt(0));

/**
Checks whether the TAR checksum is valid.

@param {Buffer} buffer - The TAR header `[offset ... offset + 512]`.
@param {number} offset - TAR header offset.
@returns {boolean} `true` if the TAR checksum is valid, otherwise `false`.
*/
exports.tarHeaderChecksumMatches = (buffer, offset = 0) => {
	const readSum = parseInt(buffer.toString('utf8', 148, 154).replace(/\0.*$/, '').trim(), 8); // Read sum in header
	if (isNaN(readSum)) {
		return false;
	}

	let sum = 8 * 0x20; // Initialize signed bit sum

	for (let i = offset; i < offset + 148; i++) {
		sum += buffer[i];
	}

	for (let i = offset + 156; i < offset + 512; i++) {
		sum += buffer[i];
	}

	return readSum === sum;
};

/**
ID3 UINT32 sync-safe tokenizer token.
28 bits (representing up to 256MB) integer, the msb is 0 to avoid "false syncsignals".
*/
exports.uint32SyncSafeToken = {
	get: (buffer, offset) => {
		return (buffer[offset + 3] & 0x7F) | ((buffer[offset + 2]) << 7) | ((buffer[offset + 1]) << 14) | ((buffer[offset]) << 21);
	},
	len: 4
};


/***/ }),

/***/ "./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),

/***/ "./node_modules/ms/index.js":
/*!**********************************!*\
  !*** ./node_modules/ms/index.js ***!
  \**********************************/
/***/ ((module) => {

/**
 * Helpers.
 */

var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var w = d * 7;
var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} [options]
 * @throws {Error} throw an error if val is not a non-empty string or a number
 * @return {String|Number}
 * @api public
 */

module.exports = function (val, options) {
  options = options || {};
  var type = typeof val;
  if (type === 'string' && val.length > 0) {
    return parse(val);
  } else if (type === 'number' && isFinite(val)) {
    return options.long ? fmtLong(val) : fmtShort(val);
  }
  throw new Error(
    'val is not a non-empty string or a valid number. val=' +
      JSON.stringify(val)
  );
};

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

function parse(str) {
  str = String(str);
  if (str.length > 100) {
    return;
  }
  var match = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
    str
  );
  if (!match) {
    return;
  }
  var n = parseFloat(match[1]);
  var type = (match[2] || 'ms').toLowerCase();
  switch (type) {
    case 'years':
    case 'year':
    case 'yrs':
    case 'yr':
    case 'y':
      return n * y;
    case 'weeks':
    case 'week':
    case 'w':
      return n * w;
    case 'days':
    case 'day':
    case 'd':
      return n * d;
    case 'hours':
    case 'hour':
    case 'hrs':
    case 'hr':
    case 'h':
      return n * h;
    case 'minutes':
    case 'minute':
    case 'mins':
    case 'min':
    case 'm':
      return n * m;
    case 'seconds':
    case 'second':
    case 'secs':
    case 'sec':
    case 's':
      return n * s;
    case 'milliseconds':
    case 'millisecond':
    case 'msecs':
    case 'msec':
    case 'ms':
      return n;
    default:
      return undefined;
  }
}

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtShort(ms) {
  var msAbs = Math.abs(ms);
  if (msAbs >= d) {
    return Math.round(ms / d) + 'd';
  }
  if (msAbs >= h) {
    return Math.round(ms / h) + 'h';
  }
  if (msAbs >= m) {
    return Math.round(ms / m) + 'm';
  }
  if (msAbs >= s) {
    return Math.round(ms / s) + 's';
  }
  return ms + 'ms';
}

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtLong(ms) {
  var msAbs = Math.abs(ms);
  if (msAbs >= d) {
    return plural(ms, msAbs, d, 'day');
  }
  if (msAbs >= h) {
    return plural(ms, msAbs, h, 'hour');
  }
  if (msAbs >= m) {
    return plural(ms, msAbs, m, 'minute');
  }
  if (msAbs >= s) {
    return plural(ms, msAbs, s, 'second');
  }
  return ms + ' ms';
}

/**
 * Pluralization helper.
 */

function plural(ms, msAbs, n, name) {
  var isPlural = msAbs >= n * 1.5;
  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');
}


/***/ }),

/***/ "./node_modules/parse-data-url/index.js":
/*!**********************************************!*\
  !*** ./node_modules/parse-data-url/index.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];


const validDataUrl = __webpack_require__(/*! valid-data-url */ "./node_modules/valid-data-url/index.js");

module.exports = (s) => {
  if (!validDataUrl(s)) {
    return false;
  }

  const parts = s.trim().match(validDataUrl.regex);
  const parsed = {};

  if (parts[1]) {
    parsed.mediaType = parts[1].toLowerCase();

    const mediaTypeParts = parts[1].split(';').map(x => x.toLowerCase());

    parsed.contentType = mediaTypeParts[0];

    mediaTypeParts.slice(1).forEach((attribute) => {
      const p = attribute.split('=');
      parsed[p[0]] = p[1];
    });
  }

  parsed.base64 = !!parts[parts.length - 2];
  parsed.data = parts[parts.length - 1] || '';

  parsed.toBuffer = () => {
    const encoding = parsed.base64 ? 'base64' : 'utf8';

    return Buffer.from(parsed.base64 ? parsed.data : decodeURIComponent(parsed.data), encoding);
  };

  return parsed;
};


/***/ }),

/***/ "./node_modules/peek-readable/lib/Deferred.js":
/*!****************************************************!*\
  !*** ./node_modules/peek-readable/lib/Deferred.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Deferred = void 0;
class Deferred {
    constructor() {
        this.resolve = () => null;
        this.reject = () => null;
        this.promise = new Promise((resolve, reject) => {
            this.reject = reject;
            this.resolve = resolve;
        });
    }
}
exports.Deferred = Deferred;


/***/ }),

/***/ "./node_modules/peek-readable/lib/EndOfFileStream.js":
/*!***********************************************************!*\
  !*** ./node_modules/peek-readable/lib/EndOfFileStream.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EndOfStreamError = exports.defaultMessages = void 0;
exports.defaultMessages = 'End-Of-Stream';
/**
 * Thrown on read operation of the end of file or stream has been reached
 */
class EndOfStreamError extends Error {
    constructor() {
        super(exports.defaultMessages);
    }
}
exports.EndOfStreamError = EndOfStreamError;


/***/ }),

/***/ "./node_modules/peek-readable/lib/StreamReader.js":
/*!********************************************************!*\
  !*** ./node_modules/peek-readable/lib/StreamReader.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StreamReader = exports.EndOfStreamError = void 0;
const EndOfFileStream_1 = __webpack_require__(/*! ./EndOfFileStream */ "./node_modules/peek-readable/lib/EndOfFileStream.js");
const Deferred_1 = __webpack_require__(/*! ./Deferred */ "./node_modules/peek-readable/lib/Deferred.js");
var EndOfFileStream_2 = __webpack_require__(/*! ./EndOfFileStream */ "./node_modules/peek-readable/lib/EndOfFileStream.js");
Object.defineProperty(exports, "EndOfStreamError", ({ enumerable: true, get: function () { return EndOfFileStream_2.EndOfStreamError; } }));
const maxStreamReadSize = 1 * 1024 * 1024; // Maximum request length on read-stream operation
class StreamReader {
    constructor(s) {
        this.s = s;
        /**
         * Deferred used for postponed read request (as not data is yet available to read)
         */
        this.deferred = null;
        this.endOfStream = false;
        /**
         * Store peeked data
         * @type {Array}
         */
        this.peekQueue = [];
        if (!s.read || !s.once) {
            throw new Error('Expected an instance of stream.Readable');
        }
        this.s.once('end', () => this.reject(new EndOfFileStream_1.EndOfStreamError()));
        this.s.once('error', err => this.reject(err));
        this.s.once('close', () => this.reject(new Error('Stream closed')));
    }
    /**
     * Read ahead (peek) from stream. Subsequent read or peeks will return the same data
     * @param uint8Array - Uint8Array (or Buffer) to store data read from stream in
     * @param offset - Offset target
     * @param length - Number of bytes to read
     * @returns Number of bytes peeked
     */
    async peek(uint8Array, offset, length) {
        const bytesRead = await this.read(uint8Array, offset, length);
        this.peekQueue.push(uint8Array.subarray(offset, offset + bytesRead)); // Put read data back to peek buffer
        return bytesRead;
    }
    /**
     * Read chunk from stream
     * @param buffer - Target Uint8Array (or Buffer) to store data read from stream in
     * @param offset - Offset target
     * @param length - Number of bytes to read
     * @returns Number of bytes read
     */
    async read(buffer, offset, length) {
        if (length === 0) {
            return 0;
        }
        if (this.peekQueue.length === 0 && this.endOfStream) {
            throw new EndOfFileStream_1.EndOfStreamError();
        }
        let remaining = length;
        let bytesRead = 0;
        // consume peeked data first
        while (this.peekQueue.length > 0 && remaining > 0) {
            const peekData = this.peekQueue.pop(); // Front of queue
            if (!peekData)
                throw new Error('peekData should be defined');
            const lenCopy = Math.min(peekData.length, remaining);
            buffer.set(peekData.subarray(0, lenCopy), offset + bytesRead);
            bytesRead += lenCopy;
            remaining -= lenCopy;
            if (lenCopy < peekData.length) {
                // remainder back to queue
                this.peekQueue.push(peekData.subarray(lenCopy));
            }
        }
        // continue reading from stream if required
        while (remaining > 0 && !this.endOfStream) {
            const reqLen = Math.min(remaining, maxStreamReadSize);
            const chunkLen = await this.readFromStream(buffer, offset + bytesRead, reqLen);
            bytesRead += chunkLen;
            if (chunkLen < reqLen)
                break;
            remaining -= chunkLen;
        }
        return bytesRead;
    }
    /**
     * Read chunk from stream
     * @param buffer Target Uint8Array (or Buffer) to store data read from stream in
     * @param offset Offset target
     * @param length Number of bytes to read
     * @returns Number of bytes read
     */
    async readFromStream(buffer, offset, length) {
        const readBuffer = this.s.read(length);
        if (readBuffer) {
            buffer.set(readBuffer, offset);
            return readBuffer.length;
        }
        else {
            const request = {
                buffer,
                offset,
                length,
                deferred: new Deferred_1.Deferred()
            };
            this.deferred = request.deferred;
            this.s.once('readable', () => {
                this.readDeferred(request);
            });
            return request.deferred.promise;
        }
    }
    /**
     * Process deferred read request
     * @param request Deferred read request
     */
    readDeferred(request) {
        const readBuffer = this.s.read(request.length);
        if (readBuffer) {
            request.buffer.set(readBuffer, request.offset);
            request.deferred.resolve(readBuffer.length);
            this.deferred = null;
        }
        else {
            this.s.once('readable', () => {
                this.readDeferred(request);
            });
        }
    }
    reject(err) {
        this.endOfStream = true;
        if (this.deferred) {
            this.deferred.reject(err);
            this.deferred = null;
        }
    }
}
exports.StreamReader = StreamReader;


/***/ }),

/***/ "./node_modules/peek-readable/lib/index.js":
/*!*************************************************!*\
  !*** ./node_modules/peek-readable/lib/index.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StreamReader = exports.EndOfStreamError = void 0;
var EndOfFileStream_1 = __webpack_require__(/*! ./EndOfFileStream */ "./node_modules/peek-readable/lib/EndOfFileStream.js");
Object.defineProperty(exports, "EndOfStreamError", ({ enumerable: true, get: function () { return EndOfFileStream_1.EndOfStreamError; } }));
var StreamReader_1 = __webpack_require__(/*! ./StreamReader */ "./node_modules/peek-readable/lib/StreamReader.js");
Object.defineProperty(exports, "StreamReader", ({ enumerable: true, get: function () { return StreamReader_1.StreamReader; } }));


/***/ }),

/***/ "./node_modules/strtok3/lib/AbstractTokenizer.js":
/*!*******************************************************!*\
  !*** ./node_modules/strtok3/lib/AbstractTokenizer.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AbstractTokenizer = void 0;
const peek_readable_1 = __webpack_require__(/*! peek-readable */ "./node_modules/peek-readable/lib/index.js");
/**
 * Core tokenizer
 */
class AbstractTokenizer {
    constructor(fileInfo) {
        /**
         * Tokenizer-stream position
         */
        this.position = 0;
        this.numBuffer = new Uint8Array(8);
        this.fileInfo = fileInfo ? fileInfo : {};
    }
    /**
     * Read a token from the tokenizer-stream
     * @param token - The token to read
     * @param position - If provided, the desired position in the tokenizer-stream
     * @returns Promise with token data
     */
    async readToken(token, position = this.position) {
        const uint8Array = Buffer.alloc(token.len);
        const len = await this.readBuffer(uint8Array, { position });
        if (len < token.len)
            throw new peek_readable_1.EndOfStreamError();
        return token.get(uint8Array, 0);
    }
    /**
     * Peek a token from the tokenizer-stream.
     * @param token - Token to peek from the tokenizer-stream.
     * @param position - Offset where to begin reading within the file. If position is null, data will be read from the current file position.
     * @returns Promise with token data
     */
    async peekToken(token, position = this.position) {
        const uint8Array = Buffer.alloc(token.len);
        const len = await this.peekBuffer(uint8Array, { position });
        if (len < token.len)
            throw new peek_readable_1.EndOfStreamError();
        return token.get(uint8Array, 0);
    }
    /**
     * Read a numeric token from the stream
     * @param token - Numeric token
     * @returns Promise with number
     */
    async readNumber(token) {
        const len = await this.readBuffer(this.numBuffer, { length: token.len });
        if (len < token.len)
            throw new peek_readable_1.EndOfStreamError();
        return token.get(this.numBuffer, 0);
    }
    /**
     * Read a numeric token from the stream
     * @param token - Numeric token
     * @returns Promise with number
     */
    async peekNumber(token) {
        const len = await this.peekBuffer(this.numBuffer, { length: token.len });
        if (len < token.len)
            throw new peek_readable_1.EndOfStreamError();
        return token.get(this.numBuffer, 0);
    }
    /**
     * Ignore number of bytes, advances the pointer in under tokenizer-stream.
     * @param length - Number of bytes to ignore
     * @return resolves the number of bytes ignored, equals length if this available, otherwise the number of bytes available
     */
    async ignore(length) {
        if (this.fileInfo.size !== undefined) {
            const bytesLeft = this.fileInfo.size - this.position;
            if (length > bytesLeft) {
                this.position += bytesLeft;
                return bytesLeft;
            }
        }
        this.position += length;
        return length;
    }
    async close() {
        // empty
    }
    normalizeOptions(uint8Array, options) {
        if (options && options.position !== undefined && options.position < this.position) {
            throw new Error('`options.position` must be equal or greater than `tokenizer.position`');
        }
        if (options) {
            return {
                mayBeLess: options.mayBeLess === true,
                offset: options.offset ? options.offset : 0,
                length: options.length ? options.length : (uint8Array.length - (options.offset ? options.offset : 0)),
                position: options.position ? options.position : this.position
            };
        }
        return {
            mayBeLess: false,
            offset: 0,
            length: uint8Array.length,
            position: this.position
        };
    }
}
exports.AbstractTokenizer = AbstractTokenizer;


/***/ }),

/***/ "./node_modules/strtok3/lib/BufferTokenizer.js":
/*!*****************************************************!*\
  !*** ./node_modules/strtok3/lib/BufferTokenizer.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BufferTokenizer = void 0;
const peek_readable_1 = __webpack_require__(/*! peek-readable */ "./node_modules/peek-readable/lib/index.js");
const AbstractTokenizer_1 = __webpack_require__(/*! ./AbstractTokenizer */ "./node_modules/strtok3/lib/AbstractTokenizer.js");
class BufferTokenizer extends AbstractTokenizer_1.AbstractTokenizer {
    /**
     * Construct BufferTokenizer
     * @param uint8Array - Uint8Array to tokenize
     * @param fileInfo - Pass additional file information to the tokenizer
     */
    constructor(uint8Array, fileInfo) {
        super(fileInfo);
        this.uint8Array = uint8Array;
        this.fileInfo.size = this.fileInfo.size ? this.fileInfo.size : uint8Array.length;
    }
    /**
     * Read buffer from tokenizer
     * @param uint8Array - Uint8Array to tokenize
     * @param options - Read behaviour options
     * @returns {Promise<number>}
     */
    async readBuffer(uint8Array, options) {
        if (options && options.position) {
            if (options.position < this.position) {
                throw new Error('`options.position` must be equal or greater than `tokenizer.position`');
            }
            this.position = options.position;
        }
        const bytesRead = await this.peekBuffer(uint8Array, options);
        this.position += bytesRead;
        return bytesRead;
    }
    /**
     * Peek (read ahead) buffer from tokenizer
     * @param uint8Array
     * @param options - Read behaviour options
     * @returns {Promise<number>}
     */
    async peekBuffer(uint8Array, options) {
        const normOptions = this.normalizeOptions(uint8Array, options);
        const bytes2read = Math.min(this.uint8Array.length - normOptions.position, normOptions.length);
        if ((!normOptions.mayBeLess) && bytes2read < normOptions.length) {
            throw new peek_readable_1.EndOfStreamError();
        }
        else {
            uint8Array.set(this.uint8Array.subarray(normOptions.position, normOptions.position + bytes2read), normOptions.offset);
            return bytes2read;
        }
    }
    async close() {
        // empty
    }
}
exports.BufferTokenizer = BufferTokenizer;


/***/ }),

/***/ "./node_modules/strtok3/lib/FileTokenizer.js":
/*!***************************************************!*\
  !*** ./node_modules/strtok3/lib/FileTokenizer.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.fromFile = exports.FileTokenizer = void 0;
const AbstractTokenizer_1 = __webpack_require__(/*! ./AbstractTokenizer */ "./node_modules/strtok3/lib/AbstractTokenizer.js");
const peek_readable_1 = __webpack_require__(/*! peek-readable */ "./node_modules/peek-readable/lib/index.js");
const fs = __webpack_require__(/*! ./FsPromise */ "./node_modules/strtok3/lib/FsPromise.js");
class FileTokenizer extends AbstractTokenizer_1.AbstractTokenizer {
    constructor(fd, fileInfo) {
        super(fileInfo);
        this.fd = fd;
    }
    /**
     * Read buffer from file
     * @param uint8Array - Uint8Array to write result to
     * @param options - Read behaviour options
     * @returns Promise number of bytes read
     */
    async readBuffer(uint8Array, options) {
        const normOptions = this.normalizeOptions(uint8Array, options);
        this.position = normOptions.position;
        const res = await fs.read(this.fd, uint8Array, normOptions.offset, normOptions.length, normOptions.position);
        this.position += res.bytesRead;
        if (res.bytesRead < normOptions.length && (!options || !options.mayBeLess)) {
            throw new peek_readable_1.EndOfStreamError();
        }
        return res.bytesRead;
    }
    /**
     * Peek buffer from file
     * @param uint8Array - Uint8Array (or Buffer) to write data to
     * @param options - Read behaviour options
     * @returns Promise number of bytes read
     */
    async peekBuffer(uint8Array, options) {
        const normOptions = this.normalizeOptions(uint8Array, options);
        const res = await fs.read(this.fd, uint8Array, normOptions.offset, normOptions.length, normOptions.position);
        if ((!normOptions.mayBeLess) && res.bytesRead < normOptions.length) {
            throw new peek_readable_1.EndOfStreamError();
        }
        return res.bytesRead;
    }
    async close() {
        return fs.close(this.fd);
    }
}
exports.FileTokenizer = FileTokenizer;
async function fromFile(sourceFilePath) {
    const stat = await fs.stat(sourceFilePath);
    if (!stat.isFile) {
        throw new Error(`File not a file: ${sourceFilePath}`);
    }
    const fd = await fs.open(sourceFilePath, 'r');
    return new FileTokenizer(fd, { path: sourceFilePath, size: stat.size });
}
exports.fromFile = fromFile;


/***/ }),

/***/ "./node_modules/strtok3/lib/FsPromise.js":
/*!***********************************************!*\
  !*** ./node_modules/strtok3/lib/FsPromise.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/**
 * Module convert fs functions to promise based functions
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.readFile = exports.writeFileSync = exports.writeFile = exports.read = exports.open = exports.close = exports.stat = exports.createReadStream = exports.pathExists = void 0;
const fs = __webpack_require__(/*! fs */ "?15b5");
exports.pathExists = fs.existsSync;
exports.createReadStream = fs.createReadStream;
async function stat(path) {
    return new Promise((resolve, reject) => {
        fs.stat(path, (err, stats) => {
            if (err)
                reject(err);
            else
                resolve(stats);
        });
    });
}
exports.stat = stat;
async function close(fd) {
    return new Promise((resolve, reject) => {
        fs.close(fd, err => {
            if (err)
                reject(err);
            else
                resolve();
        });
    });
}
exports.close = close;
async function open(path, mode) {
    return new Promise((resolve, reject) => {
        fs.open(path, mode, (err, fd) => {
            if (err)
                reject(err);
            else
                resolve(fd);
        });
    });
}
exports.open = open;
async function read(fd, buffer, offset, length, position) {
    return new Promise((resolve, reject) => {
        fs.read(fd, buffer, offset, length, position, (err, bytesRead, _buffer) => {
            if (err)
                reject(err);
            else
                resolve({ bytesRead, buffer: _buffer });
        });
    });
}
exports.read = read;
async function writeFile(path, data) {
    return new Promise((resolve, reject) => {
        fs.writeFile(path, data, err => {
            if (err)
                reject(err);
            else
                resolve();
        });
    });
}
exports.writeFile = writeFile;
function writeFileSync(path, data) {
    fs.writeFileSync(path, data);
}
exports.writeFileSync = writeFileSync;
async function readFile(path) {
    return new Promise((resolve, reject) => {
        fs.readFile(path, (err, buffer) => {
            if (err)
                reject(err);
            else
                resolve(buffer);
        });
    });
}
exports.readFile = readFile;


/***/ }),

/***/ "./node_modules/strtok3/lib/ReadStreamTokenizer.js":
/*!*********************************************************!*\
  !*** ./node_modules/strtok3/lib/ReadStreamTokenizer.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ReadStreamTokenizer = void 0;
const AbstractTokenizer_1 = __webpack_require__(/*! ./AbstractTokenizer */ "./node_modules/strtok3/lib/AbstractTokenizer.js");
const peek_readable_1 = __webpack_require__(/*! peek-readable */ "./node_modules/peek-readable/lib/index.js");
const maxBufferSize = 256000;
class ReadStreamTokenizer extends AbstractTokenizer_1.AbstractTokenizer {
    constructor(stream, fileInfo) {
        super(fileInfo);
        this.streamReader = new peek_readable_1.StreamReader(stream);
    }
    /**
     * Get file information, an HTTP-client may implement this doing a HEAD request
     * @return Promise with file information
     */
    async getFileInfo() {
        return this.fileInfo;
    }
    /**
     * Read buffer from tokenizer
     * @param uint8Array - Target Uint8Array to fill with data read from the tokenizer-stream
     * @param options - Read behaviour options
     * @returns Promise with number of bytes read
     */
    async readBuffer(uint8Array, options) {
        const normOptions = this.normalizeOptions(uint8Array, options);
        const skipBytes = normOptions.position - this.position;
        if (skipBytes > 0) {
            await this.ignore(skipBytes);
            return this.readBuffer(uint8Array, options);
        }
        else if (skipBytes < 0) {
            throw new Error('`options.position` must be equal or greater than `tokenizer.position`');
        }
        if (normOptions.length === 0) {
            return 0;
        }
        const bytesRead = await this.streamReader.read(uint8Array, normOptions.offset, normOptions.length);
        this.position += bytesRead;
        if ((!options || !options.mayBeLess) && bytesRead < normOptions.length) {
            throw new peek_readable_1.EndOfStreamError();
        }
        return bytesRead;
    }
    /**
     * Peek (read ahead) buffer from tokenizer
     * @param uint8Array - Uint8Array (or Buffer) to write data to
     * @param options - Read behaviour options
     * @returns Promise with number of bytes peeked
     */
    async peekBuffer(uint8Array, options) {
        const normOptions = this.normalizeOptions(uint8Array, options);
        let bytesRead = 0;
        if (normOptions.position) {
            const skipBytes = normOptions.position - this.position;
            if (skipBytes > 0) {
                const skipBuffer = new Uint8Array(normOptions.length + skipBytes);
                bytesRead = await this.peekBuffer(skipBuffer, { mayBeLess: normOptions.mayBeLess });
                uint8Array.set(skipBuffer.subarray(skipBytes), normOptions.offset);
                return bytesRead - skipBytes;
            }
            else if (skipBytes < 0) {
                throw new Error('Cannot peek from a negative offset in a stream');
            }
        }
        if (normOptions.length > 0) {
            try {
                bytesRead = await this.streamReader.peek(uint8Array, normOptions.offset, normOptions.length);
            }
            catch (err) {
                if (options && options.mayBeLess && err instanceof peek_readable_1.EndOfStreamError) {
                    return 0;
                }
                throw err;
            }
            if ((!normOptions.mayBeLess) && bytesRead < normOptions.length) {
                throw new peek_readable_1.EndOfStreamError();
            }
        }
        return bytesRead;
    }
    async ignore(length) {
        // debug(`ignore ${this.position}...${this.position + length - 1}`);
        const bufSize = Math.min(maxBufferSize, length);
        const buf = new Uint8Array(bufSize);
        let totBytesRead = 0;
        while (totBytesRead < length) {
            const remaining = length - totBytesRead;
            const bytesRead = await this.readBuffer(buf, { length: Math.min(bufSize, remaining) });
            if (bytesRead < 0) {
                return bytesRead;
            }
            totBytesRead += bytesRead;
        }
        return totBytesRead;
    }
}
exports.ReadStreamTokenizer = ReadStreamTokenizer;


/***/ }),

/***/ "./node_modules/strtok3/lib/core.js":
/*!******************************************!*\
  !*** ./node_modules/strtok3/lib/core.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.fromBuffer = exports.fromStream = exports.EndOfStreamError = void 0;
const ReadStreamTokenizer_1 = __webpack_require__(/*! ./ReadStreamTokenizer */ "./node_modules/strtok3/lib/ReadStreamTokenizer.js");
const BufferTokenizer_1 = __webpack_require__(/*! ./BufferTokenizer */ "./node_modules/strtok3/lib/BufferTokenizer.js");
var peek_readable_1 = __webpack_require__(/*! peek-readable */ "./node_modules/peek-readable/lib/index.js");
Object.defineProperty(exports, "EndOfStreamError", ({ enumerable: true, get: function () { return peek_readable_1.EndOfStreamError; } }));
/**
 * Construct ReadStreamTokenizer from given Stream.
 * Will set fileSize, if provided given Stream has set the .path property/
 * @param stream - Read from Node.js Stream.Readable
 * @param fileInfo - Pass the file information, like size and MIME-type of the corresponding stream.
 * @returns ReadStreamTokenizer
 */
function fromStream(stream, fileInfo) {
    fileInfo = fileInfo ? fileInfo : {};
    return new ReadStreamTokenizer_1.ReadStreamTokenizer(stream, fileInfo);
}
exports.fromStream = fromStream;
/**
 * Construct ReadStreamTokenizer from given Buffer.
 * @param uint8Array - Uint8Array to tokenize
 * @param fileInfo - Pass additional file information to the tokenizer
 * @returns BufferTokenizer
 */
function fromBuffer(uint8Array, fileInfo) {
    return new BufferTokenizer_1.BufferTokenizer(uint8Array, fileInfo);
}
exports.fromBuffer = fromBuffer;


/***/ }),

/***/ "./node_modules/strtok3/lib/index.js":
/*!*******************************************!*\
  !*** ./node_modules/strtok3/lib/index.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.fromStream = exports.fromBuffer = exports.EndOfStreamError = exports.fromFile = void 0;
const fs = __webpack_require__(/*! ./FsPromise */ "./node_modules/strtok3/lib/FsPromise.js");
const core = __webpack_require__(/*! ./core */ "./node_modules/strtok3/lib/core.js");
var FileTokenizer_1 = __webpack_require__(/*! ./FileTokenizer */ "./node_modules/strtok3/lib/FileTokenizer.js");
Object.defineProperty(exports, "fromFile", ({ enumerable: true, get: function () { return FileTokenizer_1.fromFile; } }));
var core_1 = __webpack_require__(/*! ./core */ "./node_modules/strtok3/lib/core.js");
Object.defineProperty(exports, "EndOfStreamError", ({ enumerable: true, get: function () { return core_1.EndOfStreamError; } }));
Object.defineProperty(exports, "fromBuffer", ({ enumerable: true, get: function () { return core_1.fromBuffer; } }));
/**
 * Construct ReadStreamTokenizer from given Stream.
 * Will set fileSize, if provided given Stream has set the .path property.
 * @param stream - Node.js Stream.Readable
 * @param fileInfo - Pass additional file information to the tokenizer
 * @returns Tokenizer
 */
async function fromStream(stream, fileInfo) {
    fileInfo = fileInfo ? fileInfo : {};
    if (stream.path) {
        const stat = await fs.stat(stream.path);
        fileInfo.path = stream.path;
        fileInfo.size = stat.size;
    }
    return core.fromStream(stream, fileInfo);
}
exports.fromStream = fromStream;


/***/ }),

/***/ "./node_modules/token-types/lib/index.js":
/*!***********************************************!*\
  !*** ./node_modules/token-types/lib/index.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AnsiStringType = exports.StringType = exports.BufferType = exports.Uint8ArrayType = exports.IgnoreType = exports.Float80_LE = exports.Float80_BE = exports.Float64_LE = exports.Float64_BE = exports.Float32_LE = exports.Float32_BE = exports.Float16_LE = exports.Float16_BE = exports.INT64_BE = exports.UINT64_BE = exports.INT64_LE = exports.UINT64_LE = exports.INT32_LE = exports.INT32_BE = exports.INT24_BE = exports.INT24_LE = exports.INT16_LE = exports.INT16_BE = exports.INT8 = exports.UINT32_BE = exports.UINT32_LE = exports.UINT24_BE = exports.UINT24_LE = exports.UINT16_BE = exports.UINT16_LE = exports.UINT8 = void 0;
const ieee754 = __webpack_require__(/*! ieee754 */ "./node_modules/ieee754/index.js");
// Primitive types
function dv(array) {
    return new DataView(array.buffer, array.byteOffset);
}
/**
 * 8-bit unsigned integer
 */
exports.UINT8 = {
    len: 1,
    get(array, offset) {
        return dv(array).getUint8(offset);
    },
    put(array, offset, value) {
        dv(array).setUint8(offset, value);
        return offset + 1;
    }
};
/**
 * 16-bit unsigned integer, Little Endian byte order
 */
exports.UINT16_LE = {
    len: 2,
    get(array, offset) {
        return dv(array).getUint16(offset, true);
    },
    put(array, offset, value) {
        dv(array).setUint16(offset, value, true);
        return offset + 2;
    }
};
/**
 * 16-bit unsigned integer, Big Endian byte order
 */
exports.UINT16_BE = {
    len: 2,
    get(array, offset) {
        return dv(array).getUint16(offset);
    },
    put(array, offset, value) {
        dv(array).setUint16(offset, value);
        return offset + 2;
    }
};
/**
 * 24-bit unsigned integer, Little Endian byte order
 */
exports.UINT24_LE = {
    len: 3,
    get(array, offset) {
        const dataView = dv(array);
        return dataView.getUint8(offset) + (dataView.getUint16(offset + 1, true) << 8);
    },
    put(array, offset, value) {
        const dataView = dv(array);
        dataView.setUint8(offset, value & 0xff);
        dataView.setUint16(offset + 1, value >> 8, true);
        return offset + 3;
    }
};
/**
 * 24-bit unsigned integer, Big Endian byte order
 */
exports.UINT24_BE = {
    len: 3,
    get(array, offset) {
        const dataView = dv(array);
        return (dataView.getUint16(offset) << 8) + dataView.getUint8(offset + 2);
    },
    put(array, offset, value) {
        const dataView = dv(array);
        dataView.setUint16(offset, value >> 8);
        dataView.setUint8(offset + 2, value & 0xff);
        return offset + 3;
    }
};
/**
 * 32-bit unsigned integer, Little Endian byte order
 */
exports.UINT32_LE = {
    len: 4,
    get(array, offset) {
        return dv(array).getUint32(offset, true);
    },
    put(array, offset, value) {
        dv(array).setUint32(offset, value, true);
        return offset + 4;
    }
};
/**
 * 32-bit unsigned integer, Big Endian byte order
 */
exports.UINT32_BE = {
    len: 4,
    get(array, offset) {
        return dv(array).getUint32(offset);
    },
    put(array, offset, value) {
        dv(array).setUint32(offset, value);
        return offset + 4;
    }
};
/**
 * 8-bit signed integer
 */
exports.INT8 = {
    len: 1,
    get(array, offset) {
        return dv(array).getInt8(offset);
    },
    put(array, offset, value) {
        dv(array).setInt8(offset, value);
        return offset + 1;
    }
};
/**
 * 16-bit signed integer, Big Endian byte order
 */
exports.INT16_BE = {
    len: 2,
    get(array, offset) {
        return dv(array).getInt16(offset);
    },
    put(array, offset, value) {
        dv(array).setInt16(offset, value);
        return offset + 2;
    }
};
/**
 * 16-bit signed integer, Little Endian byte order
 */
exports.INT16_LE = {
    len: 2,
    get(array, offset) {
        return dv(array).getInt16(offset, true);
    },
    put(array, offset, value) {
        dv(array).setInt16(offset, value, true);
        return offset + 2;
    }
};
/**
 * 24-bit signed integer, Little Endian byte order
 */
exports.INT24_LE = {
    len: 3,
    get(array, offset) {
        const unsigned = exports.UINT24_LE.get(array, offset);
        return unsigned > 0x7fffff ? unsigned - 0x1000000 : unsigned;
    },
    put(array, offset, value) {
        const dataView = dv(array);
        dataView.setUint8(offset, value & 0xff);
        dataView.setUint16(offset + 1, value >> 8, true);
        return offset + 3;
    }
};
/**
 * 24-bit signed integer, Big Endian byte order
 */
exports.INT24_BE = {
    len: 3,
    get(array, offset) {
        const unsigned = exports.UINT24_BE.get(array, offset);
        return unsigned > 0x7fffff ? unsigned - 0x1000000 : unsigned;
    },
    put(array, offset, value) {
        const dataView = dv(array);
        dataView.setUint16(offset, value >> 8);
        dataView.setUint8(offset + 2, value & 0xff);
        return offset + 3;
    }
};
/**
 * 32-bit signed integer, Big Endian byte order
 */
exports.INT32_BE = {
    len: 4,
    get(array, offset) {
        return dv(array).getInt32(offset);
    },
    put(array, offset, value) {
        dv(array).setInt32(offset, value);
        return offset + 4;
    }
};
/**
 * 32-bit signed integer, Big Endian byte order
 */
exports.INT32_LE = {
    len: 4,
    get(array, offset) {
        return dv(array).getInt32(offset, true);
    },
    put(array, offset, value) {
        dv(array).setInt32(offset, value, true);
        return offset + 4;
    }
};
/**
 * 64-bit unsigned integer, Little Endian byte order
 */
exports.UINT64_LE = {
    len: 8,
    get(array, offset) {
        return dv(array).getBigUint64(offset, true);
    },
    put(array, offset, value) {
        dv(array).setBigUint64(offset, value, true);
        return offset + 8;
    }
};
/**
 * 64-bit signed integer, Little Endian byte order
 */
exports.INT64_LE = {
    len: 8,
    get(array, offset) {
        return dv(array).getBigInt64(offset, true);
    },
    put(array, offset, value) {
        dv(array).setBigInt64(offset, value, true);
        return offset + 8;
    }
};
/**
 * 64-bit unsigned integer, Big Endian byte order
 */
exports.UINT64_BE = {
    len: 8,
    get(array, offset) {
        return dv(array).getBigUint64(offset);
    },
    put(array, offset, value) {
        dv(array).setBigUint64(offset, value);
        return offset + 8;
    }
};
/**
 * 64-bit signed integer, Big Endian byte order
 */
exports.INT64_BE = {
    len: 8,
    get(array, offset) {
        return dv(array).getBigInt64(offset);
    },
    put(array, offset, value) {
        dv(array).setBigInt64(offset, value);
        return offset + 8;
    }
};
/**
 * IEEE 754 16-bit (half precision) float, big endian
 */
exports.Float16_BE = {
    len: 2,
    get(dataView, offset) {
        return ieee754.read(dataView, offset, false, 10, this.len);
    },
    put(dataView, offset, value) {
        ieee754.write(dataView, value, offset, false, 10, this.len);
        return offset + this.len;
    }
};
/**
 * IEEE 754 16-bit (half precision) float, little endian
 */
exports.Float16_LE = {
    len: 2,
    get(array, offset) {
        return ieee754.read(array, offset, true, 10, this.len);
    },
    put(array, offset, value) {
        ieee754.write(array, value, offset, true, 10, this.len);
        return offset + this.len;
    }
};
/**
 * IEEE 754 32-bit (single precision) float, big endian
 */
exports.Float32_BE = {
    len: 4,
    get(array, offset) {
        return dv(array).getFloat32(offset);
    },
    put(array, offset, value) {
        dv(array).setFloat32(offset, value);
        return offset + 4;
    }
};
/**
 * IEEE 754 32-bit (single precision) float, little endian
 */
exports.Float32_LE = {
    len: 4,
    get(array, offset) {
        return dv(array).getFloat32(offset, true);
    },
    put(array, offset, value) {
        dv(array).setFloat32(offset, value, true);
        return offset + 4;
    }
};
/**
 * IEEE 754 64-bit (double precision) float, big endian
 */
exports.Float64_BE = {
    len: 8,
    get(array, offset) {
        return dv(array).getFloat64(offset);
    },
    put(array, offset, value) {
        dv(array).setFloat64(offset, value);
        return offset + 8;
    }
};
/**
 * IEEE 754 64-bit (double precision) float, little endian
 */
exports.Float64_LE = {
    len: 8,
    get(array, offset) {
        return dv(array).getFloat64(offset, true);
    },
    put(array, offset, value) {
        dv(array).setFloat64(offset, value, true);
        return offset + 8;
    }
};
/**
 * IEEE 754 80-bit (extended precision) float, big endian
 */
exports.Float80_BE = {
    len: 10,
    get(array, offset) {
        return ieee754.read(array, offset, false, 63, this.len);
    },
    put(array, offset, value) {
        ieee754.write(array, value, offset, false, 63, this.len);
        return offset + this.len;
    }
};
/**
 * IEEE 754 80-bit (extended precision) float, little endian
 */
exports.Float80_LE = {
    len: 10,
    get(array, offset) {
        return ieee754.read(array, offset, true, 63, this.len);
    },
    put(array, offset, value) {
        ieee754.write(array, value, offset, true, 63, this.len);
        return offset + this.len;
    }
};
/**
 * Ignore a given number of bytes
 */
class IgnoreType {
    /**
     * @param len number of bytes to ignore
     */
    constructor(len) {
        this.len = len;
    }
    // ToDo: don't read, but skip data
    get(array, off) {
    }
}
exports.IgnoreType = IgnoreType;
class Uint8ArrayType {
    constructor(len) {
        this.len = len;
    }
    get(array, offset) {
        return array.subarray(offset, offset + this.len);
    }
}
exports.Uint8ArrayType = Uint8ArrayType;
class BufferType {
    constructor(len) {
        this.len = len;
    }
    get(uint8Array, off) {
        return Buffer.from(uint8Array.subarray(off, off + this.len));
    }
}
exports.BufferType = BufferType;
/**
 * Consume a fixed number of bytes from the stream and return a string with a specified encoding.
 */
class StringType {
    constructor(len, encoding) {
        this.len = len;
        this.encoding = encoding;
    }
    get(uint8Array, offset) {
        return Buffer.from(uint8Array).toString(this.encoding, offset, offset + this.len);
    }
}
exports.StringType = StringType;
/**
 * ANSI Latin 1 String
 * Using windows-1252 / ISO 8859-1 decoding
 */
class AnsiStringType {
    constructor(len) {
        this.len = len;
    }
    static decode(buffer, offset, until) {
        let str = '';
        for (let i = offset; i < until; ++i) {
            str += AnsiStringType.codePointToString(AnsiStringType.singleByteDecoder(buffer[i]));
        }
        return str;
    }
    static inRange(a, min, max) {
        return min <= a && a <= max;
    }
    static codePointToString(cp) {
        if (cp <= 0xFFFF) {
            return String.fromCharCode(cp);
        }
        else {
            cp -= 0x10000;
            return String.fromCharCode((cp >> 10) + 0xD800, (cp & 0x3FF) + 0xDC00);
        }
    }
    static singleByteDecoder(bite) {
        if (AnsiStringType.inRange(bite, 0x00, 0x7F)) {
            return bite;
        }
        const codePoint = AnsiStringType.windows1252[bite - 0x80];
        if (codePoint === null) {
            throw Error('invaliding encoding');
        }
        return codePoint;
    }
    get(buffer, offset = 0) {
        return AnsiStringType.decode(buffer, offset, offset + this.len);
    }
}
exports.AnsiStringType = AnsiStringType;
AnsiStringType.windows1252 = [8364, 129, 8218, 402, 8222, 8230, 8224, 8225, 710, 8240, 352,
    8249, 338, 141, 381, 143, 144, 8216, 8217, 8220, 8221, 8226, 8211, 8212, 732,
    8482, 353, 8250, 339, 157, 382, 376, 160, 161, 162, 163, 164, 165, 166, 167, 168,
    169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184,
    185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200,
    201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216,
    217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232,
    233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247,
    248, 249, 250, 251, 252, 253, 254, 255];


/***/ }),

/***/ "./node_modules/typescript-debounce-decorator/index.min.js":
/*!*****************************************************************!*\
  !*** ./node_modules/typescript-debounce-decorator/index.min.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
function cancel(e){e&&e.options&&clearTimeout(e.options.timer)}function getWrapper(o,n,i,e){var a={timer:void 0,lastArgs:[]},t=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];a.lastArgs=t,a.timer?clearTimeout(a.timer):n&&i.apply(this,a.lastArgs),a.timer=setTimeout(function(){n||i.apply(e,a.lastArgs),a.timer=void 0},o)};return e&&(t=t.bind(e)),t.options=a,t}function defineProperty(t,r,e,o){var n;Object.defineProperty(e,o,{configurable:!0,enumerable:!1,get:function(){return n},set:function(e){n=getWrapper(t,r,e,this)}})}function modifyDescriptor(e,t,r){var o=r.value;return r.value=getWrapper(e,t,o),r}function createDebounce(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(0===r.length)throw new Error("function applied debounce decorator should be a method");if(1===r.length)throw new Error("method applied debounce decorator should have valid name");var n=r[0],i=r[1],a=3===r.length&&r[2]?r[2]:Object.getOwnPropertyDescriptor(n,i);if(a)return modifyDescriptor(e,t,a);defineProperty(e,t,n,i)}function debounce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=500,o=!1;if(e.length&&("number"==typeof e[0]||"object"==typeof e[0]&&void 0!==e[0].leading)){"number"==typeof e[0]&&(r=e[0]);var n=void 0;return"object"==typeof e[0]&&void 0!==e[0].leading&&(n=e[0]),1<e.length&&"object"==typeof e[1]&&void 0!==e[1].leading&&(n=e[1]),n&&(o=n.leading),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return createDebounce.apply(void 0,[r,o].concat(e))}}return createDebounce.apply(void 0,[r,o].concat(e))}Object.defineProperty(exports, "__esModule", ({value:!0})),exports.cancel=cancel,exports.debounce=debounce;


/***/ }),

/***/ "./node_modules/valid-data-url/index.js":
/*!**********************************************!*\
  !*** ./node_modules/valid-data-url/index.js ***!
  \**********************************************/
/***/ (function(module, exports) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*global define */

// Detecting data URLs
// data URI - MDN https://developer.mozilla.org/en-US/docs/data_URIs
// The "data" URL scheme: http://tools.ietf.org/html/rfc2397
// Valid URL Characters: http://tools.ietf.org/html/rfc2396#section2

(function (root, factory) {
  // https://github.com/gotwarlost/istanbul/blob/master/ignoring-code-for-coverage.md#ignore-a-umd-wrapper
  /* istanbul ignore next */
  if (true) {
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else // removed by dead control flow
{}
}(this, function () {
  'use strict';

  function validDataUrl(s) {
    return validDataUrl.regex.test((s || '').trim());
  }
  validDataUrl.regex = /^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i;

  return validDataUrl;
}));


/***/ }),

/***/ "./src/assert/assertChat.ts":
/*!**********************************!*\
  !*** ./src/assert/assertChat.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InvalidChat = void 0;
exports.assertFindChat = assertFindChat;
exports.assertGetChat = assertGetChat;
const __1 = __webpack_require__(/*! ../ */ "./src/index.ts");
const util_1 = __webpack_require__(/*! ../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../whatsapp */ "./src/whatsapp/index.ts");
class InvalidChat extends util_1.WPPError {
    constructor(id) {
        super('chat_not_found', `Chat not found for ${id}`);
        this.id = id;
    }
}
exports.InvalidChat = InvalidChat;
async function assertFindChat(id) {
    const chat = await __1.chat.find(id);
    if (!chat) {
        throw new InvalidChat(id);
    }
    return chat;
}
function assertGetChat(id) {
    let chat = null;
    if (id.toString().includes('newsletter')) {
        chat = whatsapp_1.NewsletterStore.get(id);
    }
    else {
        chat = __1.chat.get(id);
    }
    if (!chat) {
        throw new InvalidChat(id);
    }
    return chat;
}


/***/ }),

/***/ "./src/assert/assertColor.ts":
/*!***********************************!*\
  !*** ./src/assert/assertColor.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InvalidColor = void 0;
exports.assertColor = assertColor;
const util_1 = __webpack_require__(/*! ../util */ "./src/util/index.ts");
class InvalidColor extends util_1.WPPError {
    constructor(color) {
        super('invalid_color', `Invalid Color value for ${color}`);
        this.color = color;
    }
}
exports.InvalidColor = InvalidColor;
/**
 * Return the color  in positive decimal
 * @example
 * ```javascript
 * assertColor('#dfaef0');  //Result: 4292849392
 * assertColor('dfaef0');   //Result: 4292849392
 * assertColor(-2117904);   //Result: 4292849392
 * assertColor(4292849392); //Result: 4292849392
 * ```
 */
function assertColor(color) {
    let assertedColor;
    if (typeof color === 'number') {
        assertedColor = color > 0 ? color : 0xffffffff + Number(color) + 1;
    }
    else if (typeof color === 'string') {
        let hex = color.trim().replace('#', '');
        if (hex.length <= 6) {
            hex = 'FF' + hex.padStart(6, '0');
        }
        assertedColor = parseInt(hex, 16);
    }
    else {
        throw new InvalidColor(color);
    }
    return assertedColor;
}


/***/ }),

/***/ "./src/assert/assertIsBusiness.ts":
/*!****************************************!*\
  !*** ./src/assert/assertIsBusiness.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NotIsBusinessError = void 0;
exports.assertIsBusiness = assertIsBusiness;
const util_1 = __webpack_require__(/*! ../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../whatsapp */ "./src/whatsapp/index.ts");
class NotIsBusinessError extends util_1.WPPError {
    constructor() {
        super('is_not_business', `This account is not a business version`);
    }
}
exports.NotIsBusinessError = NotIsBusinessError;
function assertIsBusiness() {
    if (!whatsapp_1.Conn.isSMB) {
        throw new NotIsBusinessError();
    }
}


/***/ }),

/***/ "./src/assert/assertProduct.ts":
/*!*************************************!*\
  !*** ./src/assert/assertProduct.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InvalidProduct = void 0;
exports.assertGetProduct = assertGetProduct;
const getMyUserWid_1 = __webpack_require__(/*! ../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const util_1 = __webpack_require__(/*! ../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../whatsapp */ "./src/whatsapp/index.ts");
class InvalidProduct extends util_1.WPPError {
    constructor(id) {
        super('product_not_found', `Product not found for ${id}`);
        this.id = id;
    }
}
exports.InvalidProduct = InvalidProduct;
async function assertGetProduct(productId) {
    const product = await whatsapp_1.CatalogStore.findProduct({
        catalogWid: (0, getMyUserWid_1.getMyUserWid)(),
        productId: productId,
    });
    const Product = product[0].msgProductCollection._index[productId];
    if (!Product) {
        throw new InvalidProduct(productId);
    }
    return Product;
}


/***/ }),

/***/ "./src/assert/assertWid.ts":
/*!*********************************!*\
  !*** ./src/assert/assertWid.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InvalidWid = void 0;
exports.assertWid = assertWid;
const util_1 = __webpack_require__(/*! ../util */ "./src/util/index.ts");
class InvalidWid extends util_1.WPPError {
    constructor(id) {
        super('invalid_wid', `Invalid WID value for ${id}`);
        this.id = id;
    }
}
exports.InvalidWid = InvalidWid;
function assertWid(id) {
    const wid = (0, util_1.createWid)(id);
    if (!wid) {
        throw new InvalidWid(id);
    }
    return wid;
}


/***/ }),

/***/ "./src/assert/index.ts":
/*!*****************************!*\
  !*** ./src/assert/index.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./assertChat */ "./src/assert/assertChat.ts"), exports);
__exportStar(__webpack_require__(/*! ./assertColor */ "./src/assert/assertColor.ts"), exports);
__exportStar(__webpack_require__(/*! ./assertIsBusiness */ "./src/assert/assertIsBusiness.ts"), exports);
__exportStar(__webpack_require__(/*! ./assertProduct */ "./src/assert/assertProduct.ts"), exports);
__exportStar(__webpack_require__(/*! ./assertWid */ "./src/assert/assertWid.ts"), exports);


/***/ }),

/***/ "./src/blocklist/events/index.ts":
/*!***************************************!*\
  !*** ./src/blocklist/events/index.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
__webpack_require__(/*! ./registerSyncedEvent */ "./src/blocklist/events/registerSyncedEvent.ts");


/***/ }),

/***/ "./src/blocklist/events/registerSyncedEvent.ts":
/*!*****************************************************!*\
  !*** ./src/blocklist/events/registerSyncedEvent.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
webpack.onInjected(() => registerSyncedEvent());
function registerSyncedEvent() {
    whatsapp_1.BlocklistStore.on('sort', () => {
        eventEmitter_1.internalEv.emit('blocklist.sync');
    });
}


/***/ }),

/***/ "./src/blocklist/functions/all.ts":
/*!****************************************!*\
  !*** ./src/blocklist/functions/all.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.all = all;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
function all() {
    return whatsapp_1.BlocklistStore.getModelsArray().map((b) => b.id);
}


/***/ }),

/***/ "./src/blocklist/functions/blockContact.ts":
/*!*************************************************!*\
  !*** ./src/blocklist/functions/blockContact.ts ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.blockContact = blockContact;
const compare_versions_1 = __webpack_require__(/*! compare-versions */ "./node_modules/compare-versions/lib/esm/index.js");
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const contants_1 = __webpack_require__(/*! ../../whatsapp/contants */ "./src/whatsapp/contants/index.ts");
const wa_functions = __importStar(__webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts"));
const isBlocked_1 = __webpack_require__(/*! ./isBlocked */ "./src/blocklist/functions/isBlocked.ts");
async function blockContact(chatId) {
    const wid = (0, assert_1.assertWid)(chatId);
    const contact = whatsapp_1.ContactStore.get(wid) || new whatsapp_1.ContactModel({ id: wid });
    if ((0, compare_versions_1.compare)(contants_1.SANITIZED_VERSION_STR, '2.2323.4', '>=')) {
        await wa_functions.blockContact({
            contact,
            blockEntryPoint: 'block_list',
            bizOptOutArgs: null,
        });
    }
    else {
        await wa_functions.blockContact(contact);
    }
    return {
        wid,
        isBlocked: (0, isBlocked_1.isBlocked)(wid),
    };
}


/***/ }),

/***/ "./src/blocklist/functions/index.ts":
/*!******************************************!*\
  !*** ./src/blocklist/functions/index.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.unblockContact = exports.isBlocked = exports.blockContact = exports.all = void 0;
var all_1 = __webpack_require__(/*! ./all */ "./src/blocklist/functions/all.ts");
Object.defineProperty(exports, "all", ({ enumerable: true, get: function () { return all_1.all; } }));
var blockContact_1 = __webpack_require__(/*! ./blockContact */ "./src/blocklist/functions/blockContact.ts");
Object.defineProperty(exports, "blockContact", ({ enumerable: true, get: function () { return blockContact_1.blockContact; } }));
var isBlocked_1 = __webpack_require__(/*! ./isBlocked */ "./src/blocklist/functions/isBlocked.ts");
Object.defineProperty(exports, "isBlocked", ({ enumerable: true, get: function () { return isBlocked_1.isBlocked; } }));
var unblockContact_1 = __webpack_require__(/*! ./unblockContact */ "./src/blocklist/functions/unblockContact.ts");
Object.defineProperty(exports, "unblockContact", ({ enumerable: true, get: function () { return unblockContact_1.unblockContact; } }));


/***/ }),

/***/ "./src/blocklist/functions/isBlocked.ts":
/*!**********************************************!*\
  !*** ./src/blocklist/functions/isBlocked.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isBlocked = isBlocked;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
function isBlocked(chatId) {
    const wid = (0, assert_1.assertWid)(chatId);
    const contact = whatsapp_1.BlocklistStore.get(wid);
    return !!contact;
}


/***/ }),

/***/ "./src/blocklist/functions/unblockContact.ts":
/*!***************************************************!*\
  !*** ./src/blocklist/functions/unblockContact.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.unblockContact = unblockContact;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const wa_functions = __importStar(__webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts"));
const isBlocked_1 = __webpack_require__(/*! ./isBlocked */ "./src/blocklist/functions/isBlocked.ts");
async function unblockContact(chatId) {
    const wid = (0, assert_1.assertWid)(chatId);
    const contact = whatsapp_1.ContactStore.get(wid) || new whatsapp_1.ContactModel({ id: wid });
    await wa_functions.unblockContact(contact);
    return {
        wid,
        isBlocked: (0, isBlocked_1.isBlocked)(wid),
    };
}


/***/ }),

/***/ "./src/blocklist/index.ts":
/*!********************************!*\
  !*** ./src/blocklist/index.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__webpack_require__(/*! ./events */ "./src/blocklist/events/index.ts");
__exportStar(__webpack_require__(/*! ./functions */ "./src/blocklist/functions/index.ts"), exports);


/***/ }),

/***/ "./src/call/events/index.ts":
/*!**********************************!*\
  !*** ./src/call/events/index.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
__webpack_require__(/*! ./registerIncomingCallEvent */ "./src/call/events/registerIncomingCallEvent.ts");


/***/ }),

/***/ "./src/call/events/registerIncomingCallEvent.ts":
/*!******************************************************!*\
  !*** ./src/call/events/registerIncomingCallEvent.ts ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2025 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const createWid_1 = __webpack_require__(/*! ../../util/createWid */ "./src/util/createWid.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const enums_1 = __webpack_require__(/*! ../../whatsapp/enums */ "./src/whatsapp/enums/index.ts");
webpack.onInjected(() => register());
function register() {
    whatsapp_1.CallStore.on('add', (call) => {
        if (call.isGroup) {
            eventEmitter_1.internalEv.emit('call.incoming_call', {
                id: call.id,
                isGroup: call.isGroup,
                isVideo: call.isVideo,
                offerTime: call.offerTime,
                sender: (0, createWid_1.createWid)(call.peerJid),
                peerJid: call.peerJid,
            });
        }
    });
    whatsapp_1.CallStore.on('change', (call) => {
        if (
        // Fix for mantain compatibility with older versions of whatsapp web
        call.getState() === enums_1.CALL_STATES.INCOMING_RING ||
            // >= 2.3000.10213.x
            call.getState() === enums_1.CALL_STATES.ReceivedCall) {
            eventEmitter_1.internalEv.emit('call.incoming_call', {
                id: call.id,
                isGroup: call.isGroup,
                isVideo: call.isVideo,
                offerTime: call.offerTime,
                sender: (0, createWid_1.createWid)(call.peerJid),
                peerJid: call.peerJid,
            });
        }
    });
}


/***/ }),

/***/ "./src/call/functions/accept.ts":
/*!**************************************!*\
  !*** ./src/call/functions/accept.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.accept = accept;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const enums_1 = __webpack_require__(/*! ../../whatsapp/enums */ "./src/whatsapp/enums/index.ts");
/**
 * Accept a incoming call
 *
 * @example
 * ```javascript
 * // Accept any incoming call
 * WPP.call.accept();
 *
 * // Accept specific call id
 * WPP.call.accept(callId);
 *
 * // Accept any incoming call
 * WPP.on('call.incoming_call', (call) => {
 *   setTimeout(() => {
 *     WPP.call.accept(call.id);
 *   }, 1000);
 * });
 * ```
 *
 * @param   {string}  callId  The call ID, empty to accept the first one
 * @return  {[type]}          [return description]
 */
async function accept(callId) {
    let call = undefined;
    if (callId) {
        call = whatsapp_1.CallStore.get(callId);
    }
    else {
        // First incoming ring or call group
        call = whatsapp_1.CallStore.findFirst((c) => c.getState() === enums_1.CALL_STATES.INCOMING_RING || c.isGroup);
    }
    if (!call) {
        throw new util_1.WPPError('call_not_found', `Call ${callId || '<empty>'} not found`, {
            callId,
        });
    }
    if (call.getState() !== 'INCOMING_RING' && !call.isGroup) {
        throw new util_1.WPPError('call_is_not_incoming_ring', `Call ${callId || '<empty>'} is not incoming ring`, {
            callId,
            state: call.getState(),
        });
    }
    if (!call.peerJid.isGroupCall()) {
        await whatsapp_1.websocket.ensureE2ESessions([call.peerJid]);
    }
    const content = [
        whatsapp_1.websocket.smax('audio', { enc: 'opus', rate: '16000' }, null),
        whatsapp_1.websocket.smax('audio', { enc: 'opus', rate: '8000' }, null),
    ];
    if (call.isVideo) {
        content.push(whatsapp_1.websocket.smax('video', {
            orientation: '0',
            screen_width: '1920',
            screen_height: '1080',
            device_orientation: '0',
            enc: 'vp8',
            dec: 'vp8',
        }, null));
    }
    content.push(...[
        whatsapp_1.websocket.smax('net', { medium: '3' }, null),
        whatsapp_1.websocket.smax('encopt', { keygen: '2' }, null),
    ]);
    const node = whatsapp_1.websocket.smax('call', {
        to: call.peerJid.toString({ legacy: true }),
        id: whatsapp_1.websocket.generateId(),
    }, [
        whatsapp_1.websocket.smax('accept', {
            'call-id': call.id,
            'call-creator': call.peerJid.toString({ legacy: true }),
        }, content),
    ]);
    await whatsapp_1.websocket.sendSmaxStanza(node);
    return true;
}


/***/ }),

/***/ "./src/call/functions/end.ts":
/*!***********************************!*\
  !*** ./src/call/functions/end.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.end = end;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const enums_1 = __webpack_require__(/*! ../../whatsapp/enums */ "./src/whatsapp/enums/index.ts");
/**
 * End a call
 *
 * @example
 * ```javascript
 * // End any call
 * WPP.call.end();
 *
 * // End specific call id
 * WPP.call.end(callId);
 *
 * // End any incoming call
 * WPP.on('call.incoming_call', (call) => {
 *   WPP.call.end(call.id);
 * });
 * ```
 *
 * @param   {string}  callId  The call ID, empty to end the first one
 * @return  {[type]}          [return description]
 */
async function end(callId) {
    var _a;
    const callOut = [
        enums_1.CALL_STATES.ACTIVE,
        enums_1.CALL_STATES.OUTGOING_CALLING,
        enums_1.CALL_STATES.OUTGOING_RING,
        enums_1.CALL_STATES.CallActive,
    ];
    let call = undefined;
    if (callId) {
        call = whatsapp_1.CallStore.get(callId);
    }
    else {
        call = (_a = whatsapp_1.CallStore.activeCall) !== null && _a !== void 0 ? _a : undefined;
    }
    if (!call) {
        throw new util_1.WPPError('call_not_found', `Call ${callId || '<empty>'} not found`, {
            callId,
        });
    }
    if (!callOut.includes(call.getState()) && !call.isGroup) {
        throw new util_1.WPPError('call_is_not_outcoming_calling', `Call ${callId || '<empty>'} is not incoming calling`, {
            callId,
            state: call.getState(),
        });
    }
    if (!call.peerJid.isGroupCall()) {
        await whatsapp_1.websocket.ensureE2ESessions([call.peerJid]);
    }
    const node = whatsapp_1.websocket.smax('call', {
        to: call.peerJid.toString({ legacy: true }),
        id: whatsapp_1.websocket.generateId(),
    }, [
        whatsapp_1.websocket.smax('terminate', {
            'call-id': call.id,
            'call-creator': call.peerJid.toString({ legacy: true }),
            // count: '0',
        }, null),
    ]);
    await whatsapp_1.websocket.sendSmaxStanza(node);
    return true;
}


/***/ }),

/***/ "./src/call/functions/index.ts":
/*!*************************************!*\
  !*** ./src/call/functions/index.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.rejectCall = exports.reject = exports.offer = exports.end = exports.accept = void 0;
var accept_1 = __webpack_require__(/*! ./accept */ "./src/call/functions/accept.ts");
Object.defineProperty(exports, "accept", ({ enumerable: true, get: function () { return accept_1.accept; } }));
var end_1 = __webpack_require__(/*! ./end */ "./src/call/functions/end.ts");
Object.defineProperty(exports, "end", ({ enumerable: true, get: function () { return end_1.end; } }));
var offer_1 = __webpack_require__(/*! ./offer */ "./src/call/functions/offer.ts");
Object.defineProperty(exports, "offer", ({ enumerable: true, get: function () { return offer_1.offer; } }));
var reject_1 = __webpack_require__(/*! ./reject */ "./src/call/functions/reject.ts");
Object.defineProperty(exports, "reject", ({ enumerable: true, get: function () { return reject_1.reject; } }));
Object.defineProperty(exports, "rejectCall", ({ enumerable: true, get: function () { return reject_1.reject; } }));


/***/ }),

/***/ "./src/call/functions/offer.ts":
/*!*************************************!*\
  !*** ./src/call/functions/offer.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.offer = offer;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const conn_1 = __webpack_require__(/*! ../../conn */ "./src/conn/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const enums_1 = __webpack_require__(/*! ../../whatsapp/enums */ "./src/whatsapp/enums/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const parseRelayResponse_1 = __webpack_require__(/*! ./parseRelayResponse */ "./src/call/functions/parseRelayResponse.ts");
const prepareDestination_1 = __webpack_require__(/*! ./prepareDestination */ "./src/call/functions/prepareDestination.ts");
/**
 * Send a call offer
 *
 * This method only will send a call offer, but there are no audio/video
 *
 * @example
 * ```javascript
 * // Send a call offer
 * WPP.call.offer('[number]@c.us');
 * // Send a video call offer
 * WPP.call.offer('[number]@c.us', {isVideo: true});
 * ```
 */
async function offer(to, options = {}) {
    options = Object.assign({ isVideo: false }, options);
    const toWid = (0, assert_1.assertWid)(to);
    if (!toWid.isUser()) {
        throw new util_1.WPPError('call_is_not_user', `The ${toWid} is not a user to call`, {
            to,
        });
    }
    const callId = whatsapp_1.functions.randomHex(16).substr(0, 64);
    const me = (0, conn_1.getMyUserId)();
    if (!me) {
        throw new util_1.WPPError('user_id_is_null', 'My user id is null or undefined');
    }
    const content = [
        whatsapp_1.websocket.smax('audio', { enc: 'opus', rate: '16000' }, null),
        whatsapp_1.websocket.smax('audio', { enc: 'opus', rate: '8000' }, null),
    ];
    if (options.isVideo) {
        content.push(whatsapp_1.websocket.smax('video', {
            orientation: '0',
            screen_width: '1920',
            screen_height: '1080',
            device_orientation: '0',
            enc: 'vp8',
            dec: 'vp8',
        }, null));
    }
    content.push(...[
        whatsapp_1.websocket.smax('net', { medium: '3' }, null),
        whatsapp_1.websocket.smax('capability', { ver: '1' }, new Uint8Array([1, 4, 255, 131, 207, 4])),
        whatsapp_1.websocket.smax('encopt', { keygen: '2' }, null),
    ]);
    const encKey = self.crypto.getRandomValues(new Uint8Array(32)).buffer;
    content.push(...(await (0, prepareDestination_1.prepareDestionation)([toWid], encKey)));
    const node = whatsapp_1.websocket.smax('call', {
        to: toWid.toString({ legacy: true }),
        id: whatsapp_1.functions.randomHex(8),
    }, [
        whatsapp_1.websocket.smax('offer', {
            'call-id': callId,
            'call-creator': me.toString({ legacy: true }),
        }, content),
    ]);
    const model = new whatsapp_1.CallModel({
        id: callId,
        peerJid: toWid,
        isVideo: options.isVideo,
        isGroup: false,
        outgoing: true,
        offerTime: (0, functions_1.unixTime)(),
        webClientShouldHandle: false,
        canHandleLocally: true,
    });
    whatsapp_1.CallStore.add(model);
    whatsapp_1.CallStore.setActiveCall(whatsapp_1.CallStore.assertGet(callId));
    model.setState(enums_1.CALL_STATES.OUTGOING_CALLING);
    const response = await whatsapp_1.websocket.sendSmaxStanza(node);
    console.info(response);
    console.info((0, parseRelayResponse_1.parseRelayResponse)(response));
    return model;
}


/***/ }),

/***/ "./src/call/functions/parseRelayResponse.ts":
/*!**************************************************!*\
  !*** ./src/call/functions/parseRelayResponse.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.parseRelayResponse = parseRelayResponse;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
function extractIpPort(data) {
    const e = new Uint8Array(data);
    if (6 !== e.length) {
        return null;
    }
    const t = new DataView(e.buffer);
    const host = {
        ip: [t.getUint8(0), t.getUint8(1), t.getUint8(2), t.getUint8(3)],
        port: t.getUint16(4),
    };
    return host;
}
function parseRelayResponse(response) {
    const rteNode = response.content.find((c) => c.tag === 'rte');
    const rte = extractIpPort(rteNode.content);
    const relayNode = response.content.find((c) => c.tag === 'relay');
    const keyNode = relayNode.content.find((c) => c.tag === 'key');
    const textDecoder = new TextDecoder();
    const key = textDecoder.decode(new Uint8Array(keyNode.content));
    const tokens = {};
    const tokensNodes = relayNode.content.filter((c) => c.tag === 'token');
    tokensNodes.forEach((c) => {
        const token = whatsapp_1.Base64.encodeB64(new Uint8Array(c.content));
        tokens[c.attrs.id || '0'] = token;
    });
    const relays = {};
    const hostsNodes = relayNode.content.filter((c) => c.tag === 'te2');
    hostsNodes.forEach((c) => {
        const host = extractIpPort(c.content);
        if (host) {
            const relay_id = c.attrs.relay_id || '0';
            const token_id = c.attrs.token_id || '0';
            const token = tokens[token_id];
            relays[relay_id] = Object.assign(Object.assign({}, host), { relay_id, token });
        }
    });
    return { rte, key, relays };
}


/***/ }),

/***/ "./src/call/functions/prepareDestination.ts":
/*!**************************************************!*\
  !*** ./src/call/functions/prepareDestination.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.prepareDestionation = prepareDestionation;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
async function prepareDestionation(wids, encKey) {
    const fanList = await whatsapp_1.functions.getFanOutList({ wids });
    await whatsapp_1.websocket.ensureE2ESessions(fanList);
    let shouldHaveIdentity = false;
    const destination = await Promise.all(fanList.map(async (wid) => {
        const { type, ciphertext } = await whatsapp_1.functions.encryptMsgProtobuf(wid, 0, {
            call: {
                callKey: new Uint8Array(encKey),
            },
        });
        shouldHaveIdentity = shouldHaveIdentity || type === 'pkmsg';
        return whatsapp_1.websocket.smax('to', {
            jid: wid.toString({ legacy: true }),
        }, [
            whatsapp_1.websocket.smax('enc', {
                v: '2',
                type: type,
                count: '0',
            }, ciphertext),
        ]);
    }));
    const content = [];
    content.push(whatsapp_1.websocket.smax('destination', {}, destination));
    if (shouldHaveIdentity) {
        const identity = await whatsapp_1.multidevice.adv.getADVEncodedIdentity();
        content.push(whatsapp_1.websocket.smax('device-identity', undefined, identity));
    }
    return content;
}


/***/ }),

/***/ "./src/call/functions/reject.ts":
/*!**************************************!*\
  !*** ./src/call/functions/reject.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.reject = reject;
const getMyUserWid_1 = __webpack_require__(/*! ../../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const enums_1 = __webpack_require__(/*! ../../whatsapp/enums */ "./src/whatsapp/enums/index.ts");
/**
 * Reject a incoming call
 *
 * @example
 * ```javascript
 * // Reject any incoming call
 * WPP.call.reject();
 *
 * // Reject specific call id
 * WPP.call.reject(callId);
 *
 * // Reject any incoming call
 * WPP.on('call.incoming_call', (call) => {
 *   WPP.call.reject(call.id);
 * });
 * ```
 *
 * @param   {string}  callId  The call ID, empty to reject the first one
 * @return  {[type]}          [return description]
 */
async function reject(callId) {
    let call = undefined;
    if (callId) {
        call = whatsapp_1.CallStore.get(callId);
    }
    else {
        // First incoming ring or call group
        call = whatsapp_1.CallStore.findFirst((c) => 
        // Fix for mantain compatibility with older versions of whatsapp web
        c.getState() === enums_1.CALL_STATES.INCOMING_RING ||
            c.isGroup ||
            // >= 2.3000.10213.x
            c.getState() === enums_1.CALL_STATES.ReceivedCall ||
            c.isGroup);
    }
    if (!call) {
        throw new util_1.WPPError('call_not_found', `Call ${callId || '<empty>'} not found`, {
            callId,
        });
    }
    if (call.getState() !== enums_1.CALL_STATES.INCOMING_RING &&
        call.getState() !== enums_1.CALL_STATES.ReceivedCall &&
        !call.isGroup) {
        throw new util_1.WPPError('call_is_not_incoming_ring', `Call ${callId || '<empty>'} is not incoming ring`, {
            callId,
            state: call.getState(),
        });
    }
    if (!call.peerJid.isGroupCall()) {
        await whatsapp_1.websocket.ensureE2ESessions([call.peerJid]);
    }
    const node = whatsapp_1.websocket.smax('call', {
        from: (0, getMyUserWid_1.getMyUserWid)().toString({ legacy: true }),
        to: call.peerJid.toString({ legacy: true }),
        id: whatsapp_1.websocket.generateId(),
    }, [
        whatsapp_1.websocket.smax('reject', {
            'call-id': call.id,
            'call-creator': call.peerJid.toString({ legacy: true }),
            count: '0',
        }, null),
    ]);
    await whatsapp_1.websocket.sendSmaxStanza(node);
    return true;
}


/***/ }),

/***/ "./src/call/index.ts":
/*!***************************!*\
  !*** ./src/call/index.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__webpack_require__(/*! ./events */ "./src/call/events/index.ts");
__exportStar(__webpack_require__(/*! ./functions */ "./src/call/functions/index.ts"), exports);


/***/ }),

/***/ "./src/cart/functions/add.ts":
/*!***********************************!*\
  !*** ./src/cart/functions/add.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.add = add;
/**
 * Add product in cart
 *
 * @example
 * ```javascript
 * const cart = WPP.cart.add('[number]@c.us', [
 *   { id: 'productId', qnt: 2 },
 * ]);
 * ```
 *
 * @category Cart
 */
const catalog_1 = __webpack_require__(/*! ../../catalog */ "./src/catalog/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
async function add(chatId, products) {
    if (!chatId || !products) {
        throw new util_1.WPPError('send_required_params', `For add item in cart send chatId and products array`);
    }
    for (const product of products) {
        const get = await (0, catalog_1.getProductById)(chatId, product.id);
        if (get) {
            const prod = new whatsapp_1.ProductModel({
                id: get.id,
                isHidden: get.is_hidden || false,
                catalogWid: chatId,
                url: get.url,
                name: get.name,
                description: get.description,
                availability: get.availability,
                maxAvailable: get === null || get === void 0 ? void 0 : get.maxAvailable,
                reviewStatus: get === null || get === void 0 ? void 0 : get.capability_to_review_status[0].value,
                currency: get.currency,
                priceAmount1000: get.price,
                salePriceAmount1000: null,
                retailerId: get.retailer_id,
                imageCount: get.image_cdn_urls.length + get.additional_image_cdn_urls.length,
                additionalImageCdnUrl: get.additional_image_cdn_urls,
                additionalImageHashes: get.image_hashes_for_whatsapp,
                imageCdnUrl: get.image_cdn_urls[0].value,
                imageHash: get.image_hashes_for_whatsapp[0],
            });
            await (0, functions_1.addProductToCart)(prod);
            await (0, functions_1.updateProductQuantityCart)(prod, product.qnt);
        }
    }
    return whatsapp_1.CartStore.findCart(chatId);
}


/***/ }),

/***/ "./src/cart/functions/clear.ts":
/*!*************************************!*\
  !*** ./src/cart/functions/clear.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.clear = clear;
/**
 * Clear all items of cart
 *
 * @example
 * ```javascript
 * const cart = WPP.cart.add('[number]@c.us', [
 *   { id: 'productId', qnt: 2 },
 * ]);
 * ```
 *
 * @category Cart
 */
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
async function clear(wid) {
    var _a, _b;
    const cart = whatsapp_1.CartStore.findCart(wid);
    if (!cart || !((_a = cart === null || cart === void 0 ? void 0 : cart.cartItemCollection) === null || _a === void 0 ? void 0 : _a.length)) {
        throw new util_1.WPPError('cart_not_have_products', `Cart from  ${wid || '<empty>'} not have products`, {
            wid,
        });
    }
    (_b = cart.cartItemCollection) === null || _b === void 0 ? void 0 : _b.reset();
    cart.set('message', '');
    cart.trigger('change:cartItemCollection');
    (0, functions_1.updateCart)(cart);
}


/***/ }),

/***/ "./src/cart/functions/get.ts":
/*!***********************************!*\
  !*** ./src/cart/functions/get.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.get = get;
/**
 * Get products in cart chat
 *
 * @example
 * ```javascript
 * const cart = WPP.cart.get('[number]@c.us');
 * ```
 *
 * @category Cart
 */
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
function get(wid) {
    return whatsapp_1.CartStore.get(wid);
}


/***/ }),

/***/ "./src/cart/functions/getThumbFromCart.ts":
/*!************************************************!*\
  !*** ./src/cart/functions/getThumbFromCart.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getThumbFromCart = getThumbFromCart;
/**
 * Get thumb of a cart
 *
 * @example
 * ```javascript
 * const cart = WPP.cart.getThumbFromCart('[number]@c.us');
 * ```
 *
 * @category Cart
 */
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
async function getThumbFromCart(wid) {
    var _a, _b;
    const cart = await whatsapp_1.CartStore.findCart(wid);
    const item = (_a = cart === null || cart === void 0 ? void 0 : cart.cartItemCollection) === null || _a === void 0 ? void 0 : _a.at(0);
    if (!item || !cart)
        return '';
    const catalog = whatsapp_1.CatalogStore.get((0, util_1.createWid)(wid));
    if (!catalog)
        return '';
    const product = catalog.productCollection.get(item.id);
    if (!product)
        return '';
    const productImage = await (product === null || product === void 0 ? void 0 : product.getProductImageCollectionHead());
    if (!productImage)
        return '';
    const mediaData = productImage === null || productImage === void 0 ? void 0 : productImage.mediaData;
    if (mediaData == null)
        return '';
    if (mediaData.preview) {
        const base64 = await ((_b = mediaData === null || mediaData === void 0 ? void 0 : mediaData.preview) === null || _b === void 0 ? void 0 : _b.getBase64());
        if (base64 != null)
            return base64;
    }
    return '';
}


/***/ }),

/***/ "./src/cart/functions/index.ts":
/*!*************************************!*\
  !*** ./src/cart/functions/index.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.update = exports.submit = exports.remove = exports.getThumbFromCart = exports.get = exports.clear = exports.add = void 0;
var add_1 = __webpack_require__(/*! ./add */ "./src/cart/functions/add.ts");
Object.defineProperty(exports, "add", ({ enumerable: true, get: function () { return add_1.add; } }));
var clear_1 = __webpack_require__(/*! ./clear */ "./src/cart/functions/clear.ts");
Object.defineProperty(exports, "clear", ({ enumerable: true, get: function () { return clear_1.clear; } }));
var get_1 = __webpack_require__(/*! ./get */ "./src/cart/functions/get.ts");
Object.defineProperty(exports, "get", ({ enumerable: true, get: function () { return get_1.get; } }));
var getThumbFromCart_1 = __webpack_require__(/*! ./getThumbFromCart */ "./src/cart/functions/getThumbFromCart.ts");
Object.defineProperty(exports, "getThumbFromCart", ({ enumerable: true, get: function () { return getThumbFromCart_1.getThumbFromCart; } }));
var remove_1 = __webpack_require__(/*! ./remove */ "./src/cart/functions/remove.ts");
Object.defineProperty(exports, "remove", ({ enumerable: true, get: function () { return remove_1.remove; } }));
var submit_1 = __webpack_require__(/*! ./submit */ "./src/cart/functions/submit.ts");
Object.defineProperty(exports, "submit", ({ enumerable: true, get: function () { return submit_1.submit; } }));
var update_1 = __webpack_require__(/*! ./update */ "./src/cart/functions/update.ts");
Object.defineProperty(exports, "update", ({ enumerable: true, get: function () { return update_1.update; } }));


/***/ }),

/***/ "./src/cart/functions/remove.ts":
/*!**************************************!*\
  !*** ./src/cart/functions/remove.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.remove = remove;
/**
 * Remove a product in cart
 *
 * @example
 * ```javascript
 * const cart = WPP.cart.remove('[number]@c.us', '6987301181294productId');
 * ```
 *
 * @category Cart
 */
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
async function remove(chatId, productId) {
    if (!chatId || !productId) {
        throw new util_1.WPPError('send_required_params', `For update item in cart send chatId and productId`);
    }
    await (0, functions_1.deleteProductFromCart)(chatId, productId);
    return whatsapp_1.CartStore.findCart(chatId);
}


/***/ }),

/***/ "./src/cart/functions/submit.ts":
/*!**************************************!*\
  !*** ./src/cart/functions/submit.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.submit = submit;
/**
 * Send a request order to business chat
 *
 * @example
 * ```javascript
 * const cart = WPP.cart.submit('[number]@c.us');
 * ```
 *
 * @example
 * ```javascript
 * // Send cart with a custom message
 * const cart = WPP.cart.submit('[number]@c.us', 'Custom message here');
 * ```
 *
 * @category Cart
 */
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const chat_1 = __webpack_require__(/*! ../../chat */ "./src/chat/index.ts");
const conn_1 = __webpack_require__(/*! ../../conn */ "./src/conn/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const _1 = __webpack_require__(/*! ./ */ "./src/cart/functions/index.ts");
async function submit(wid, msg, options) {
    var _a, _b, _c;
    if (wid.toString() == ((_a = (0, conn_1.getMyUserId)()) === null || _a === void 0 ? void 0 : _a.toString())) {
        throw new util_1.WPPError('can_not_submit_order_to_yourself', `You can not submit order to yourself`);
    }
    const cart = whatsapp_1.CartStore.findCart(wid);
    if (!cart || !((_b = cart === null || cart === void 0 ? void 0 : cart.cartItemCollection) === null || _b === void 0 ? void 0 : _b.length)) {
        throw new util_1.WPPError('cart_not_have_products', `Cart from  ${wid || '<empty>'} not have products`, {
            wid,
        });
    }
    const chat = await (0, assert_1.assertFindChat)((0, util_1.createWid)(wid));
    const order = await (0, functions_1.createOrder)(chat.id, cart.cartItemCollection.toArray());
    const totalPrice = (_c = order.price) === null || _c === void 0 ? void 0 : _c.total;
    const message = await (0, chat_1.prepareRawMessage)(chat, {
        type: 'order',
        orderId: order.id,
        token: order.token,
        orderTitle: chat.name || chat.formattedTitle,
        sellerJid: chat.id.toString({
            legacy: !0,
        }),
        status: 1,
        messageVersion: 2,
        thumbnail: await (0, _1.getThumbFromCart)(wid),
        itemCount: cart.itemCount,
        message: msg || cart.message,
        totalAmount1000: totalPrice && totalPrice.length > 0 ? parseInt(totalPrice, 10) : void 0,
        totalCurrencyCode: order.price.currency && order.price.currency.length > 0
            ? order.price.currency
            : 0,
    }, options);
    await (0, functions_1.addAndSendMsgToChat)(chat, message);
    (0, functions_1.updateCart)(cart);
    await (0, _1.clear)(wid);
    if (!order.id) {
        throw new util_1.WPPError('error_send_order_request', `Error when sending order request`);
    }
    return await (0, chat_1.getMessageById)(message.id);
}


/***/ }),

/***/ "./src/cart/functions/update.ts":
/*!**************************************!*\
  !*** ./src/cart/functions/update.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.update = update;
/**
 * Update product in cart
 *
 * @example
 * ```javascript
 * const cart = WPP.cart.update('[number]@c.us', '6987301181294productId', { quantity: 12 });
 * ```
 *
 * @category Cart
 */
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const add_1 = __webpack_require__(/*! ./add */ "./src/cart/functions/add.ts");
async function update(chatId, productId, options) {
    if (!chatId || !productId || !options.quantity) {
        throw new util_1.WPPError('send_required_params', `For update item in cart send chatId, productId and options`);
    }
    return (0, add_1.add)(chatId, [{ id: productId, qnt: options.quantity }]);
}


/***/ }),

/***/ "./src/cart/index.ts":
/*!***************************!*\
  !*** ./src/cart/index.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./functions */ "./src/cart/functions/index.ts"), exports);


/***/ }),

/***/ "./src/catalog/functions/addProductImage.ts":
/*!**************************************************!*\
  !*** ./src/catalog/functions/addProductImage.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.addProductImage = addProductImage;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Add image on product
 * This function include additional images on product
 * for change main image use @changeProductImage
 *
 * @example
 * ```javascript
 * await WPP.catalog.addProductImage('686859858689', 'data:image/jpeg;base64,.....');
 * ```
 *
 * @category Catalog
 */
async function addProductImage(productId, content) {
    const file = await (0, util_1.convertToFile)(content);
    const opaqueData = await whatsapp_1.OpaqueData.createFromData(file, file.type);
    const filehash = await (0, functions_1.calculateFilehashFromBlob)(file);
    const url = await (0, functions_1.uploadProductImage)(opaqueData, filehash);
    const product = await (0, assert_1.assertGetProduct)(productId);
    product.additionalImageCdnUrl.push(url);
    return (0, functions_1.editProduct)(product);
}


/***/ }),

/***/ "./src/catalog/functions/changeProductImage.ts":
/*!*****************************************************!*\
  !*** ./src/catalog/functions/changeProductImage.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.changeProductImage = changeProductImage;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Add image on product
 * This function change main image of product
 * for change additional images use @addProductImage
 *
 * @example
 * ```javascript
 * await WPP.catalog.changeProductImage('686859858689', 'data:image/jpeg;base64,.....');
 * ```
 *
 * @category Catalog
 */
async function changeProductImage(productId, content) {
    const file = await (0, util_1.convertToFile)(content);
    const opaqueData = await whatsapp_1.OpaqueData.createFromData(file, file.type);
    const filehash = await (0, functions_1.calculateFilehashFromBlob)(file);
    const url = await (0, functions_1.uploadProductImage)(opaqueData, filehash);
    const product = await (0, assert_1.assertGetProduct)(productId);
    product.imageCdnUrl = url;
    return (0, functions_1.editProduct)(product);
}


/***/ }),

/***/ "./src/catalog/functions/createCollection.ts":
/*!***************************************************!*\
  !*** ./src/catalog/functions/createCollection.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createCollection = createCollection;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Create new collection
 *
 * @example
 * ```javascript
 * const myCatalog = await WPP.catalog.createCollection('Collection Name', ['565656589898']);
 * ```
 *
 * @return Return collection created
 */
async function createCollection(collectionName, productsId) {
    const { sessionId } = new whatsapp_1.ProductCatalogSession(true);
    return await (0, functions_1.createCollection)(collectionName, productsId, `${sessionId}`);
}


/***/ }),

/***/ "./src/catalog/functions/createProduct.ts":
/*!************************************************!*\
  !*** ./src/catalog/functions/createProduct.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createProduct = createProduct;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
async function createProduct(params) {
    const file = await (0, util_1.convertToFile)(params.image);
    const opaqueData = await whatsapp_1.OpaqueData.createFromData(file, file.type);
    const filehash = await (0, functions_1.calculateFilehashFromBlob)(file);
    const url = await (0, functions_1.uploadProductImage)(opaqueData, filehash);
    const Product = new whatsapp_1.ProductModel();
    Product.name = params.name.toString();
    Product.catalogWid = whatsapp_1.UserPrefs.getMeUser();
    Product.imageCdnUrl = url;
    Product.productImageCollection = new whatsapp_1.ProductImageModel({
        mediaUrl: url,
    });
    if (params.description)
        Product.description = params.description;
    if (params.price) {
        Product.priceAmount1000 = params.price * 10000;
        Product.currency = params.currency || 'BRL';
    }
    if (params.isHidden)
        Product.isHidden = params.isHidden;
    if (params.url)
        Product.url = params.url;
    if (params.retailerId)
        Product.retailerId = params.retailerId;
    return await (0, functions_1.addProduct)(Product, 100, 100);
    /*const catalog = CatalogStore.get(UserPrefs.getMeUser());
    return catalog?.addProduct(Product)*/
}


/***/ }),

/***/ "./src/catalog/functions/deleteCollection.ts":
/*!***************************************************!*\
  !*** ./src/catalog/functions/deleteCollection.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.deleteCollection = deleteCollection;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Delete a collection
 *
 * @example
 * ```javascript
 * const myCatalog = await WPP.catalog.deleteCollection("377095767832354");
 * ```
 *
 * @return Return sucess or error
 */
async function deleteCollection(collectionId) {
    const { sessionId } = new whatsapp_1.ProductCatalogSession(true);
    await (0, functions_1.deleteCollection)(collectionId, `${sessionId}`);
    return 'Collection deleted sucessful';
}


/***/ }),

/***/ "./src/catalog/functions/deleteProduct.ts":
/*!************************************************!*\
  !*** ./src/catalog/functions/deleteProduct.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.delProducts = delProducts;
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Get your current catalog
 *
 * @example
 * ```javascript
 * // Delete product by id
 * const myCatalog = await WPP.catalog.delProducts('6104203702939361');
 *
 * // Delete various products
 * const myCatalog = await WPP.catalog.delProducts(['6104203702939361', '6104289702939361']);
 * ```
 *
 * @return Return sucess or error of product deleted
 */
async function delProducts(productsIds) {
    let status = 200;
    try {
        if (Array.isArray(productsIds)) {
            await (0, functions_1.deleteProducts)(productsIds);
        }
        else {
            await (0, functions_1.deleteProducts)([productsIds]);
        }
    }
    catch (error) {
        status = 500;
    }
    return {
        productsIds,
        status,
    };
}


/***/ }),

/***/ "./src/catalog/functions/editCollection.ts":
/*!*************************************************!*\
  !*** ./src/catalog/functions/editCollection.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.editCollection = editCollection;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
async function editCollection(collectionId, params) {
    const { sessionId } = new whatsapp_1.ProductCatalogSession(true);
    return await (0, functions_1.editCollection)(collectionId, params.name, false, params.productsToAdd || [], params.productsToRemove || [], `${sessionId}`);
}


/***/ }),

/***/ "./src/catalog/functions/editProduct.ts":
/*!**********************************************!*\
  !*** ./src/catalog/functions/editProduct.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.editProduct = editProduct;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
async function editProduct(productId, params) {
    const produto = await (0, assert_1.assertGetProduct)(productId);
    Object.keys(params).forEach((key) => params[key] === undefined && delete params[key]);
    const editedProduct = Object.assign(produto, params);
    return await (0, functions_1.editProduct)(editedProduct);
}


/***/ }),

/***/ "./src/catalog/functions/getCollections.ts":
/*!*************************************************!*\
  !*** ./src/catalog/functions/getCollections.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getCollections = getCollections;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Get collections of catalog
 *
 * @example
 * ```javascript
 * // Retrieve 20 collections of chat
 * const myCatalog = await WPP.catalog.getCollections('552198554578@c.us', '20');
 *
 * // Retrieve 20 collections of chat and products arrays limit with 10 products
 * const myCatalog = await WPP.catalog.getCollections('552198554578@c.us', '20', '10');
 * ```
 *
 * @return Your collections of products
 */
async function getCollections(chatId, qnt, productsCount) {
    const { collections } = await (0, functions_1.queryCollectionsIQ)({
        afterCursor: '',
        catalogWid: (0, util_1.createWid)(chatId),
        height: 100,
        width: 100,
        limit: qnt || 10,
        productsCount: productsCount || 10,
    });
    return collections;
}


/***/ }),

/***/ "./src/catalog/functions/getMyCatalog.ts":
/*!***********************************************!*\
  !*** ./src/catalog/functions/getMyCatalog.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getMyCatalog = getMyCatalog;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Get your current catalog
 *
 * @example
 * ```javascript
 * // Get your current catalog
 * const myCatalog = await WPP.catalog.getMyCatalog();
 * ```
 *
 * @return Your current catalog
 */
async function getMyCatalog() {
    return whatsapp_1.CatalogStore.get(whatsapp_1.UserPrefs.getMaybeMePnUser());
}


/***/ }),

/***/ "./src/catalog/functions/getProductById.ts":
/*!*************************************************!*\
  !*** ./src/catalog/functions/getProductById.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getProductById = getProductById;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Retrieves product by id
 *
 * @example
 * ```javascript
 * // Retrieve data of product
 * await WPP.catalog.getProductById('5521985565656@c.us', '68685985868923');
 * ```
 *
 * @category Catalog
 */
async function getProductById(chatId, productId) {
    const wid = (0, util_1.createWid)(chatId);
    const { data } = await (0, functions_1.queryProduct)(wid, productId);
    return data;
}


/***/ }),

/***/ "./src/catalog/functions/getProducts.ts":
/*!**********************************************!*\
  !*** ./src/catalog/functions/getProducts.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getProducts = getProducts;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Retrieves product by contact id
 *
 * @example
 * Get products of catalogs
 * ```javascript
 * await WPP.catalog.getProducts('5521985625689@c.us', 10);
 * ```
 * @return A array with products
 * @category Catalog
 */
async function getProducts(chatId, qnt) {
    const { data } = await (0, functions_1.queryCatalog)((0, util_1.createWid)(chatId), undefined, qnt || 10, 100, 100);
    return data;
}


/***/ }),

/***/ "./src/catalog/functions/index.ts":
/*!****************************************!*\
  !*** ./src/catalog/functions/index.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.updateCartEnabled = exports.setProductVisibility = exports.removeProductImage = exports.getProducts = exports.getProductById = exports.getMyCatalog = exports.getCollections = exports.editProduct = exports.editCollection = exports.delProducts = exports.deleteCollection = exports.createProduct = exports.createCollection = exports.changeProductImage = exports.addProductImage = void 0;
var addProductImage_1 = __webpack_require__(/*! ./addProductImage */ "./src/catalog/functions/addProductImage.ts");
Object.defineProperty(exports, "addProductImage", ({ enumerable: true, get: function () { return addProductImage_1.addProductImage; } }));
var changeProductImage_1 = __webpack_require__(/*! ./changeProductImage */ "./src/catalog/functions/changeProductImage.ts");
Object.defineProperty(exports, "changeProductImage", ({ enumerable: true, get: function () { return changeProductImage_1.changeProductImage; } }));
var createCollection_1 = __webpack_require__(/*! ./createCollection */ "./src/catalog/functions/createCollection.ts");
Object.defineProperty(exports, "createCollection", ({ enumerable: true, get: function () { return createCollection_1.createCollection; } }));
var createProduct_1 = __webpack_require__(/*! ./createProduct */ "./src/catalog/functions/createProduct.ts");
Object.defineProperty(exports, "createProduct", ({ enumerable: true, get: function () { return createProduct_1.createProduct; } }));
var deleteCollection_1 = __webpack_require__(/*! ./deleteCollection */ "./src/catalog/functions/deleteCollection.ts");
Object.defineProperty(exports, "deleteCollection", ({ enumerable: true, get: function () { return deleteCollection_1.deleteCollection; } }));
var deleteProduct_1 = __webpack_require__(/*! ./deleteProduct */ "./src/catalog/functions/deleteProduct.ts");
Object.defineProperty(exports, "delProducts", ({ enumerable: true, get: function () { return deleteProduct_1.delProducts; } }));
var editCollection_1 = __webpack_require__(/*! ./editCollection */ "./src/catalog/functions/editCollection.ts");
Object.defineProperty(exports, "editCollection", ({ enumerable: true, get: function () { return editCollection_1.editCollection; } }));
var editProduct_1 = __webpack_require__(/*! ./editProduct */ "./src/catalog/functions/editProduct.ts");
Object.defineProperty(exports, "editProduct", ({ enumerable: true, get: function () { return editProduct_1.editProduct; } }));
var getCollections_1 = __webpack_require__(/*! ./getCollections */ "./src/catalog/functions/getCollections.ts");
Object.defineProperty(exports, "getCollections", ({ enumerable: true, get: function () { return getCollections_1.getCollections; } }));
var getMyCatalog_1 = __webpack_require__(/*! ./getMyCatalog */ "./src/catalog/functions/getMyCatalog.ts");
Object.defineProperty(exports, "getMyCatalog", ({ enumerable: true, get: function () { return getMyCatalog_1.getMyCatalog; } }));
var getProductById_1 = __webpack_require__(/*! ./getProductById */ "./src/catalog/functions/getProductById.ts");
Object.defineProperty(exports, "getProductById", ({ enumerable: true, get: function () { return getProductById_1.getProductById; } }));
var getProducts_1 = __webpack_require__(/*! ./getProducts */ "./src/catalog/functions/getProducts.ts");
Object.defineProperty(exports, "getProducts", ({ enumerable: true, get: function () { return getProducts_1.getProducts; } }));
var removeProductImage_1 = __webpack_require__(/*! ./removeProductImage */ "./src/catalog/functions/removeProductImage.ts");
Object.defineProperty(exports, "removeProductImage", ({ enumerable: true, get: function () { return removeProductImage_1.removeProductImage; } }));
var setProductVisibility_1 = __webpack_require__(/*! ./setProductVisibility */ "./src/catalog/functions/setProductVisibility.ts");
Object.defineProperty(exports, "setProductVisibility", ({ enumerable: true, get: function () { return setProductVisibility_1.setProductVisibility; } }));
var updateCartEnabled_1 = __webpack_require__(/*! ./updateCartEnabled */ "./src/catalog/functions/updateCartEnabled.ts");
Object.defineProperty(exports, "updateCartEnabled", ({ enumerable: true, get: function () { return updateCartEnabled_1.updateCartEnabled; } }));


/***/ }),

/***/ "./src/catalog/functions/removeProductImage.ts":
/*!*****************************************************!*\
  !*** ./src/catalog/functions/removeProductImage.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.removeProductImage = removeProductImage;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Remove image on product
 * This function remove additional images of product
 * for change main image use @changeProductImage
 *
 * @example
 * ```javascript
 * await WPP.catalog.removeProductImage('68685985868923', '0');
 * ```
 * @param index - Index of array additionalImageCdnUrl
 * @category Catalog
 */
async function removeProductImage(productId, index) {
    const product = await (0, assert_1.assertGetProduct)(productId);
    product.additionalImageCdnUrl.splice(index, 1);
    return (0, functions_1.editProduct)(product);
}


/***/ }),

/***/ "./src/catalog/functions/setProductVisibility.ts":
/*!*******************************************************!*\
  !*** ./src/catalog/functions/setProductVisibility.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setProductVisibility = setProductVisibility;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Get your current catalog
 *
 * @example
 * ```javascript
 * // Set product visibility hidden
 * const myCatalog = await WPP.catalog.setProductVisibility(54985569989897, true);
 * ```
 * // Set product visible
 * const myCatalog = await WPP.catalog.setProductVisibility(54985569989897, false);
 * ```
 *
 * @return Return sucess of product visibility set
 */
async function setProductVisibility(productId, isHidden) {
    await (0, functions_1.productVisibilitySet)(productId, isHidden);
    return await (0, assert_1.assertGetProduct)(productId);
}


/***/ }),

/***/ "./src/catalog/functions/updateCartEnabled.ts":
/*!****************************************************!*\
  !*** ./src/catalog/functions/updateCartEnabled.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.updateCartEnabled = updateCartEnabled;
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Get your current catalog
 *
 * @example
 * ```javascript
 * // Set product visibility hidden
 * const myCatalog = await WPP.catalog.setProductVisibility(54985569989897, true);
 * ```
 * // Set product visible
 * const myCatalog = await WPP.catalog.setProductVisibility(54985569989897, false);
 * ```
 *
 * @return Return sucess of product visibility set
 */
async function updateCartEnabled(enabled) {
    return await (0, functions_1.updateCartEnabled)(enabled);
}


/***/ }),

/***/ "./src/catalog/index.ts":
/*!******************************!*\
  !*** ./src/catalog/index.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./functions */ "./src/catalog/functions/index.ts"), exports);


/***/ }),

/***/ "./src/chat/defaultSendMessageOptions.ts":
/*!***********************************************!*\
  !*** ./src/chat/defaultSendMessageOptions.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.defaultSendMessageOptions = void 0;
exports.defaultSendMessageOptions = {
    createChat: false,
    detectMentioned: true,
    linkPreview: true,
    markIsRead: true,
    waitForAck: true,
    delay: 0,
};


/***/ }),

/***/ "./src/chat/events/index.ts":
/*!**********************************!*\
  !*** ./src/chat/events/index.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
__webpack_require__(/*! ./registerAckMessageEvent */ "./src/chat/events/registerAckMessageEvent.ts");
__webpack_require__(/*! ./registerActiveChatEvent */ "./src/chat/events/registerActiveChatEvent.ts");
__webpack_require__(/*! ./registerLiveLocationUpdateEvent */ "./src/chat/events/registerLiveLocationUpdateEvent.ts");
__webpack_require__(/*! ./registerNewMessageEvent */ "./src/chat/events/registerNewMessageEvent.ts");
__webpack_require__(/*! ./registerPollEvent */ "./src/chat/events/registerPollEvent.ts");
__webpack_require__(/*! ./registerPresenceChange */ "./src/chat/events/registerPresenceChange.ts");
__webpack_require__(/*! ./registerReactionsEvent */ "./src/chat/events/registerReactionsEvent.ts");
__webpack_require__(/*! ./registerRevokeMessageEvent */ "./src/chat/events/registerRevokeMessageEvent.ts");
__webpack_require__(/*! ./registerLabelEvent */ "./src/chat/events/registerLabelEvent.ts");
__webpack_require__(/*! ./registerEditedMessageEvent */ "./src/chat/events/registerEditedMessageEvent.ts");
__webpack_require__(/*! ./registerUnreadCountEvent */ "./src/chat/events/registerUnreadCountEvent.ts");


/***/ }),

/***/ "./src/chat/events/registerAckMessageEvent.ts":
/*!****************************************************!*\
  !*** ./src/chat/events/registerAckMessageEvent.ts ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const exportModule_1 = __webpack_require__(/*! ../../whatsapp/exportModule */ "./src/whatsapp/exportModule.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
webpack.onFullReady(registerAckMessageEvent);
function registerAckMessageEvent() {
    whatsapp_1.MsgStore.on('change:ack', (msg) => {
        if (msg.ack === 1) {
            queueMicrotask(() => {
                eventEmitter_1.internalEv.emit('chat.msg_ack_change', {
                    ack: msg.ack,
                    chat: msg.to,
                    ids: [msg.id],
                });
            });
        }
    });
    function processSimpleACK(ackData) {
        var _a;
        if (ackData.ack < 2 || ackData.ackString === 'sender') {
            return;
        }
        const chatId = ackData.from;
        const sender = ackData.participant || undefined;
        const remote = ackData.from;
        const fromMe = !ackData.recipient ||
            ((_a = whatsapp_1.UserPrefs.getMeUser) === null || _a === void 0 ? void 0 : _a.call(whatsapp_1.UserPrefs).equals(ackData.recipient)) ||
            whatsapp_1.UserPrefs.getMaybeMePnUser().equals(ackData.recipient);
        // Ignore non my messages ACK events
        if (!fromMe) {
            return;
        }
        const keys = ackData.externalIds.map((id) => new whatsapp_1.MsgKey({
            id,
            remote,
            fromMe,
            participant: ackData.participant,
        }));
        eventEmitter_1.internalEv.emit('chat.msg_ack_change', {
            ack: ackData.ack,
            chat: chatId,
            sender: sender,
            ids: keys,
        });
    }
    (0, exportModule_1.wrapModuleFunction)(functions_1.handleChatSimpleReceipt, (func, ...args) => {
        const [ackData] = args;
        queueMicrotask(() => {
            processSimpleACK(ackData);
        });
        return func(...args);
    });
    (0, exportModule_1.wrapModuleFunction)(functions_1.handleGroupSimpleReceipt, (func, ...args) => {
        const [ackData] = args;
        queueMicrotask(() => {
            processSimpleACK(ackData);
        });
        return func(...args);
    });
    (0, exportModule_1.wrapModuleFunction)(functions_1.handleStatusSimpleReceipt, (func, ...args) => {
        const [ackData] = args;
        queueMicrotask(() => {
            processSimpleACK(ackData);
        });
        return func(...args);
    });
}


/***/ }),

/***/ "./src/chat/events/registerActiveChatEvent.ts":
/*!****************************************************!*\
  !*** ./src/chat/events/registerActiveChatEvent.ts ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
webpack.onInjected(() => register());
let emitTimeout = null;
function register() {
    whatsapp_1.ChatStore.on('change:active', (chat) => {
        if (emitTimeout) {
            clearTimeout(emitTimeout);
        }
        emitTimeout = setTimeout(() => {
            eventEmitter_1.internalEv.emit('chat.active_chat', chat.active ? chat : null);
        }, 50);
    });
}


/***/ }),

/***/ "./src/chat/events/registerEditedMessageEvent.ts":
/*!*******************************************************!*\
  !*** ./src/chat/events/registerEditedMessageEvent.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
webpack.onFullReady(registerAckMessageEvent);
function registerAckMessageEvent() {
    whatsapp_1.MsgStore.on('change:latestEditMsgKey', (msg) => {
        queueMicrotask(() => {
            eventEmitter_1.internalEv.emit('chat.msg_edited', {
                chat: msg.to,
                id: msg.id.toString(),
                msg: msg,
            });
        });
    });
}


/***/ }),

/***/ "./src/chat/events/registerLabelEvent.ts":
/*!***********************************************!*\
  !*** ./src/chat/events/registerLabelEvent.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const conn_1 = __webpack_require__(/*! ../../conn */ "./src/conn/index.ts");
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const labels_1 = __webpack_require__(/*! ../../labels */ "./src/labels/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const exportModule_1 = __webpack_require__(/*! ../../whatsapp/exportModule */ "./src/whatsapp/exportModule.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const functions_2 = __webpack_require__(/*! ../functions/ */ "./src/chat/functions/index.ts");
webpack.onFullReady(register);
function register() {
    async function processLabelEvent(event, ...args) {
        const data = args[0];
        const ids = Array.isArray(data[1]) ? data[1] : [data[1]];
        const chatId = data[0];
        if ((0, conn_1.isMainReady)()) {
            const labels = [];
            for (const id of ids) {
                labels.push(await (0, labels_1.getLabelById)(id));
            }
            eventEmitter_1.internalEv.emit('chat.update_label', {
                chat: (0, functions_2.get)(chatId),
                ids: ids,
                labels: labels,
                type: event,
            });
        }
    }
    (0, exportModule_1.wrapModuleFunction)(functions_1.addToLabelCollection, async (func, ...args) => {
        queueMicrotask(() => {
            processLabelEvent('add', args);
        });
        return func(...args);
    });
    (0, exportModule_1.wrapModuleFunction)(functions_1.removeLabelFromCollection, async (func, ...args) => {
        queueMicrotask(() => {
            processLabelEvent('remove', args);
        });
        return func(...args);
    });
}


/***/ }),

/***/ "./src/chat/events/registerLiveLocationUpdateEvent.ts":
/*!************************************************************!*\
  !*** ./src/chat/events/registerLiveLocationUpdateEvent.ts ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
webpack.onInjected(() => registerLiveLocationUpdateEvent());
function registerLiveLocationUpdateEvent() {
    /**
     * For each new live detection, fecth initial data and start update handler
     */
    whatsapp_1.MsgStore.on('add', (msg) => {
        if (!msg.isNewMsg || !msg.isLive) {
            return;
        }
        queueMicrotask(() => {
            eventEmitter_1.internalEv.emit('chat.live_location_start', {
                id: msg.sender,
                msgId: msg.id,
                chat: msg.chat.id,
                lat: msg.lat,
                lng: msg.lng,
                accuracy: msg.accuracy,
                speed: msg.speed,
                degrees: msg.degrees,
                shareDuration: msg.shareDuration,
            });
        });
    });
}


/***/ }),

/***/ "./src/chat/events/registerNewMessageEvent.ts":
/*!****************************************************!*\
  !*** ./src/chat/events/registerNewMessageEvent.ts ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const functions_2 = __webpack_require__(/*! ../functions/ */ "./src/chat/functions/index.ts");
webpack.onInjected(() => register());
function register() {
    whatsapp_1.MsgStore.on('add', (msg) => {
        if (msg.isNewMsg) {
            queueMicrotask(async () => {
                msg = await addAttributesMsg(msg);
                if (msg.type === 'ciphertext') {
                    msg.once('change:type', () => {
                        queueMicrotask(() => {
                            eventEmitter_1.internalEv.emit('chat.new_message', msg);
                        });
                    });
                }
                eventEmitter_1.internalEv.emit('chat.new_message', msg);
            });
        }
    });
    if (typeof whatsapp_1.MsgModel.prototype.chat === 'undefined') {
        Object.defineProperty(whatsapp_1.MsgModel.prototype, 'chat', {
            get: function () {
                var _a;
                return whatsapp_1.ChatStore.get(((_a = this.id) === null || _a === void 0 ? void 0 : _a.fromMe) ? this.to : this.from);
            },
            configurable: true,
        });
    }
    if (typeof whatsapp_1.MsgModel.prototype.isGroupMsg === 'undefined') {
        Object.defineProperty(whatsapp_1.MsgModel.prototype, 'isGroupMsg', {
            get: function () {
                var _a;
                return (_a = this === null || this === void 0 ? void 0 : this.chat) === null || _a === void 0 ? void 0 : _a.isGroup;
            },
            configurable: true,
        });
    }
    if (typeof whatsapp_1.MsgModel.prototype.quotedMsgId === 'undefined') {
        Object.defineProperty(whatsapp_1.MsgModel.prototype, 'quotedMsgId', {
            get: function () {
                const quotedMsgId = (0, functions_2.getQuotedMsgKey)(this);
                return quotedMsgId;
            },
            configurable: true,
        });
    }
}
async function addAttributesMsg(msg) {
    /**
     * @todo, remove this
     */
    if (!(typeof msg.quotedStanzaID === 'undefined')) {
        const quotedMsg = (0, functions_1.getQuotedMsgObj)(msg);
        if (!quotedMsg)
            return msg;
        Object.defineProperties(msg, {
            _quotedMsgObj: {
                value: quotedMsg,
                writable: false,
            },
            // Fixed quotedMsgId when receive messages from @lid
            quotedMsgId: {
                value: quotedMsg.id,
                writable: false,
            },
        });
    }
    return msg;
}


/***/ }),

/***/ "./src/chat/events/registerPollEvent.ts":
/*!**********************************************!*\
  !*** ./src/chat/events/registerPollEvent.ts ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const exportModule_1 = __webpack_require__(/*! ../../whatsapp/exportModule */ "./src/whatsapp/exportModule.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const functions_2 = __webpack_require__(/*! ../functions */ "./src/chat/functions/index.ts");
webpack.onFullReady(register);
const now = Date.now();
function register() {
    (0, exportModule_1.wrapModuleFunction)(functions_1.upsertVotes, async (func, ...args) => {
        const [data] = args;
        for (const d of data) {
            try {
                if (d.senderTimestampMs < now) {
                    continue;
                }
                const msg = await (0, functions_2.getMessageById)(d.parentMsgKey);
                const selectedOptions = [];
                for (const opt of d.selectedOptionLocalIds) {
                    selectedOptions[opt] = msg.pollOptions.filter((i) => i.localId == opt)[0];
                }
                eventEmitter_1.internalEv
                    .emitAsync('chat.poll_response', {
                    msgId: d.parentMsgKey,
                    chatId: d.parentMsgKey.remote,
                    selectedOptions: selectedOptions,
                    timestamp: d.senderTimestampMs,
                    sender: d.sender,
                })
                    .catch(() => null);
            }
            catch (error) { }
        }
        return func(...args);
    });
}


/***/ }),

/***/ "./src/chat/events/registerPresenceChange.ts":
/*!***************************************************!*\
  !*** ./src/chat/events/registerPresenceChange.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
eventEmitter_1.internalEv.on('conn.main_ready', async () => {
    const promises = whatsapp_1.ChatStore.map((c) => c.presence.subscribe());
    await Promise.all(promises);
    register();
});
function register() {
    whatsapp_1.PresenceStore.on('change:chatstate.type', (chatstate) => {
        var _a;
        // Search presence model from chatstate
        const presence = whatsapp_1.PresenceStore.getModelsArray().find((m) => m.chatstate === chatstate);
        // Ignore not initialized presences
        if (!presence || !presence.hasData || !((_a = presence.chatstate) === null || _a === void 0 ? void 0 : _a.type)) {
            return;
        }
        queueMicrotask(() => {
            var _a, _b;
            const contact = whatsapp_1.ContactStore.get(presence.id);
            const data = {
                id: presence.id,
                isOnline: presence.isOnline,
                isGroup: presence.isGroup,
                isUser: presence.isUser,
                shortName: contact ? contact.formattedShortName : '',
                state: (_a = presence.chatstate) === null || _a === void 0 ? void 0 : _a.type,
                t: Date.now(),
            };
            if (presence.isUser) {
                data.isContact = !((_b = presence.chatstate) === null || _b === void 0 ? void 0 : _b.deny);
            }
            if (presence.isGroup) {
                data.participants = presence.chatstates
                    .getModelsArray()
                    .filter((c) => !!c.type)
                    .map((c) => {
                    const contact = whatsapp_1.ContactStore.get(c.id);
                    return {
                        id: c.id.toString(),
                        state: c.type,
                        shortName: contact ? contact.formattedShortName : '',
                    };
                });
            }
            eventEmitter_1.internalEv.emit('chat.presence_change', data);
        });
    });
}


/***/ }),

/***/ "./src/chat/events/registerReactionsEvent.ts":
/*!***************************************************!*\
  !*** ./src/chat/events/registerReactionsEvent.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const exportModule_1 = __webpack_require__(/*! ../../whatsapp/exportModule */ "./src/whatsapp/exportModule.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
webpack.onFullReady(register);
const reactions = [];
function register() {
    (0, exportModule_1.wrapModuleFunction)(functions_1.createOrUpdateReactions, (func, ...args) => {
        const [data] = args;
        const now = Date.now();
        if (Array.isArray(data)) {
            for (const d of data) {
                try {
                    if (d.t < now) {
                        continue;
                    }
                    eventEmitter_1.internalEv.emitAsync('chat.new_reaction', {
                        id: whatsapp_1.MsgKey.fromString(d.id),
                        orphan: d.orphan,
                        orphanReason: d.orphanReason,
                        msgId: whatsapp_1.MsgKey.fromString(d.reactionParentKey),
                        reactionText: d.reactionText,
                        read: d.read,
                        sender: (0, util_1.createWid)(d.from),
                        timestamp: d.t,
                    });
                }
                catch (error) { }
            }
        }
        else {
            try {
                const inNewReaction = args[1];
                if (inNewReaction) {
                    if (reactions[data.msgKey])
                        return func(...args);
                    reactions[data.msgKey] = data;
                    eventEmitter_1.internalEv.emitAsync('chat.new_reaction', {
                        id: whatsapp_1.MsgKey.fromString(data.msgKey),
                        orphan: data.orphan,
                        orphanReason: null,
                        msgId: whatsapp_1.MsgKey.fromString(data.parentMsgKey),
                        reactionText: data.reactionText,
                        read: data.read,
                        sender: (0, util_1.createWid)(data.senderUserJid),
                        timestamp: data.t,
                    });
                    setTimeout(() => {
                        delete reactions[data.msgKey];
                    }, 10000);
                }
            }
            catch (error) { }
        }
        return func(...args);
    });
}


/***/ }),

/***/ "./src/chat/events/registerRevokeMessageEvent.ts":
/*!*******************************************************!*\
  !*** ./src/chat/events/registerRevokeMessageEvent.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
webpack.onInjected(() => registerRevokeMessageEvent());
function registerRevokeMessageEvent() {
    /**
     * processMultipleMessages receive all msgs events before the screen processing,
     * so for some events, like revoke, is called here and not in MsgStore,
     * because the message is not in MsgStore
     */
    const processMultipleMessages = whatsapp_1.MsgStore.processMultipleMessages;
    const revokeTypes = ['revoke', 'sender_revoke', 'admin_revoke'];
    whatsapp_1.MsgStore.processMultipleMessages = (chatId, msgs, ...args) => {
        return new Promise((resolve, reject) => {
            // try...catch to avoid screen block
            try {
                for (const msg of msgs) {
                    if (!msg.isNewMsg) {
                        continue;
                    }
                    if (msg.type === 'protocol' && revokeTypes.includes(msg.subtype)) {
                        eventEmitter_1.internalEv.emit('chat.msg_revoke', {
                            author: msg.author,
                            from: msg.from,
                            id: msg.id,
                            refId: msg.protocolMessageKey,
                            to: msg.to,
                            type: msg.subtype,
                        });
                    }
                }
            }
            catch (error) { }
            // Call the original method
            processMultipleMessages
                .call(whatsapp_1.MsgStore, chatId, msgs, ...args)
                .then(resolve, reject);
        });
    };
}


/***/ }),

/***/ "./src/chat/events/registerUnreadCountEvent.ts":
/*!*****************************************************!*\
  !*** ./src/chat/events/registerUnreadCountEvent.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
webpack.onInjected(() => register());
let emitTimeout = null;
function register() {
    whatsapp_1.ChatStore.on('change:unreadCount', (chat, unreadCount, previousUnreadCount) => {
        if (emitTimeout) {
            clearTimeout(emitTimeout);
        }
        emitTimeout = setTimeout(() => {
            eventEmitter_1.internalEv.emit('chat.unread_count_changed', {
                chat,
                unreadCount,
                previousUnreadCount,
            });
        }, 50);
    });
}


/***/ }),

/***/ "./src/chat/functions/archive.ts":
/*!***************************************!*\
  !*** ./src/chat/functions/archive.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.archive = archive;
exports.unarchive = unarchive;
const compare_versions_1 = __webpack_require__(/*! compare-versions */ "./node_modules/compare-versions/lib/esm/index.js");
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Archive a chat
 *
 * @example
 * ```javascript
 * // Archive a chat
 * WPP.chat.archive('[number]@c.us');
 *
 * // Unarchive a chat
 * WPP.chat.archive('[number]@c.us', false);
 * // or
 * WPP.chat.unarchive('[number]@c.us');
 * ```
 * @category Chat
 */
async function archive(chatId, archive = true) {
    const wid = (0, assert_1.assertWid)(chatId);
    const chat = (0, assert_1.assertGetChat)(wid);
    if (chat.archive === archive) {
        throw new util_1.WPPError(`${archive ? 'archive' : 'unarchive'}_error`, `The chat ${wid.toString()} is already ${archive ? 'archived' : 'unarchived'}`, { wid, archive });
    }
    if ((0, compare_versions_1.compare)(self.Debug.VERSION, '2.3000.0', '>=')) {
        whatsapp_1.Cmd.archiveChat(chat, archive);
    }
    else {
        await (0, functions_1.setArchive)(chat, archive);
    }
    return {
        wid,
        archive,
    };
}
/**
 * Unarchive a chat
 *
 * @alias archive
 *
 * @example
 * ```javascript
 * // Unarchive a chat
 * WPP.chat.unarchive('[number]@c.us');
 *
 * // Alias for
 * WPP.chat.archive('[number]@c.us', false);
 * ```
 * @category Chat
 */
async function unarchive(chatId) {
    return archive(chatId, false);
}


/***/ }),

/***/ "./src/chat/functions/buttonsParser.ts":
/*!*********************************************!*\
  !*** ./src/chat/functions/buttonsParser.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.encryptAndParserMsgButtons = encryptAndParserMsgButtons;
function parserButtons(proto, devices) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j;
    const mobileDevices = devices.filter((p) => !p.device);
    const webDevices = devices.filter((p) => p.device);
    const interactiveMessage = (_b = (_a = proto.viewOnceMessage) === null || _a === void 0 ? void 0 : _a.message) === null || _b === void 0 ? void 0 : _b.interactiveMessage;
    let useTemplateMessage = false;
    const protoForWeb = JSON.parse(JSON.stringify(proto));
    if (interactiveMessage) {
        const mediaPart = [
            'documentMessage',
            'documentWithCaptionMessage',
            'imageMessage',
            'videoMessage',
        ];
        let header = undefined;
        let headerType = 1;
        for (let part of mediaPart) {
            if (part in interactiveMessage.header) {
                const partName = part;
                if (part === 'documentWithCaptionMessage')
                    part = 'documentMessage';
                header = { [partName]: interactiveMessage.header[partName] };
                headerType =
                    partName == 'imageMessage'
                        ? 4
                        : partName.includes('document')
                            ? 3
                            : partName == 'videoMessage'
                                ? 5
                                : 1;
                break;
            }
        }
        const buttonsMessage = {
            message: {
                buttonsMessage: Object.assign(Object.assign({ headerType, contentText: ((_c = interactiveMessage === null || interactiveMessage === void 0 ? void 0 : interactiveMessage.body) === null || _c === void 0 ? void 0 : _c.text) || ' ', footerText: ((_d = interactiveMessage === null || interactiveMessage === void 0 ? void 0 : interactiveMessage.footer) === null || _d === void 0 ? void 0 : _d.text) || ' ' }, header), { buttons: (_e = interactiveMessage === null || interactiveMessage === void 0 ? void 0 : interactiveMessage.nativeFlowMessage) === null || _e === void 0 ? void 0 : _e.buttons.map((button, index) => {
                        var _a, _b;
                        if (button.name == 'quick_reply') {
                            return {
                                type: 1,
                                buttonId: ((_a = JSON.parse(button.buttonParamsJson)) === null || _a === void 0 ? void 0 : _a.id) || `${index}`,
                                buttonText: {
                                    displayText: ((_b = JSON.parse(button.buttonParamsJson)) === null || _b === void 0 ? void 0 : _b.display_text) || ' ',
                                },
                            };
                        }
                        else {
                            useTemplateMessage = true;
                            return null;
                        }
                    }).filter((i) => i != null) }),
            },
        };
        const templateMessage = {
            message: {
                templateMessage: {
                    hydratedTemplate: Object.assign(Object.assign(Object.assign({ hydratedButtons: (_f = interactiveMessage === null || interactiveMessage === void 0 ? void 0 : interactiveMessage.nativeFlowMessage) === null || _f === void 0 ? void 0 : _f.buttons.map((button, index) => {
                            var _a, _b, _c, _d, _e, _f, _g, _h;
                            if (button.name == 'quick_reply') {
                                return {
                                    index: index,
                                    quickReplyButton: {
                                        displayText: ((_a = JSON.parse(button.buttonParamsJson)) === null || _a === void 0 ? void 0 : _a.display_text) ||
                                            ' ',
                                        id: ((_b = JSON.parse(button.buttonParamsJson)) === null || _b === void 0 ? void 0 : _b.id) || `${index}`,
                                    },
                                };
                            }
                            else if (button.name == 'cta_url') {
                                return {
                                    index: index,
                                    urlButton: {
                                        displayText: ((_c = JSON.parse(button.buttonParamsJson)) === null || _c === void 0 ? void 0 : _c.display_text) ||
                                            ' ',
                                        url: (_d = JSON.parse(button.buttonParamsJson)) === null || _d === void 0 ? void 0 : _d.url,
                                    },
                                };
                            }
                            else if (button.name == 'cta_copy') {
                                return {
                                    index: index,
                                    urlButton: {
                                        displayText: ((_e = JSON.parse(button.buttonParamsJson)) === null || _e === void 0 ? void 0 : _e.display_text) ||
                                            ' ',
                                        url: `https://www.whatsapp.com/otp/code/?otp_type=COPY_CODE&code=otp${(_f = JSON.parse(button.buttonParamsJson)) === null || _f === void 0 ? void 0 : _f.copy_code}`,
                                    },
                                };
                            }
                            else if (button.name == 'cta_call') {
                                return {
                                    index: index,
                                    callButton: {
                                        displayText: ((_g = JSON.parse(button.buttonParamsJson)) === null || _g === void 0 ? void 0 : _g.display_text) ||
                                            ' ',
                                        phoneNumber: (_h = JSON.parse(button.buttonParamsJson)) === null || _h === void 0 ? void 0 : _h.phone_number,
                                    },
                                };
                            }
                            else {
                                return null;
                            }
                        }).filter((i) => i != null) }, header), (headerType == 1
                        ? { hydratedTitleText: ((_g = interactiveMessage.header) === null || _g === void 0 ? void 0 : _g.title) || ' ' }
                        : undefined)), { hydratedContentText: ((_h = interactiveMessage === null || interactiveMessage === void 0 ? void 0 : interactiveMessage.body) === null || _h === void 0 ? void 0 : _h.text) || ' ', hydratedFooterText: ((_j = interactiveMessage === null || interactiveMessage === void 0 ? void 0 : interactiveMessage.footer) === null || _j === void 0 ? void 0 : _j.text) || ' ' }),
                },
            },
        };
        delete protoForWeb.viewOnceMessage;
        protoForWeb.documentWithCaptionMessage = useTemplateMessage
            ? templateMessage
            : buttonsMessage;
        protoForWeb.messageContextInfo = proto.messageContextInfo;
    }
    return [
        { proto: proto, devices: mobileDevices },
        { proto: protoForWeb, devices: webDevices },
    ];
}
async function encryptAndParserMsgButtons(message, proto, devices, options, reporter, groupData, func) {
    var _a, _b;
    if (typeof groupData === 'function') {
        func = groupData;
    }
    const parts = [];
    if ((_b = (_a = proto === null || proto === void 0 ? void 0 : proto.viewOnceMessage) === null || _a === void 0 ? void 0 : _a.message) === null || _b === void 0 ? void 0 : _b.interactiveMessage) {
        const buttons = parserButtons(proto, devices);
        buttons.map(async (btn) => {
            const result = await func(message, btn.proto, btn.devices, options, reporter, typeof groupData !== 'function' ? groupData : undefined);
            parts.push(...result.stanza.content[0].content);
        });
    }
    const node = await func(message, proto, devices, options, reporter, typeof groupData !== 'function' ? groupData : undefined);
    if (parts.length > 0)
        node.stanza.content[0].content = parts;
    return node;
}


/***/ }),

/***/ "./src/chat/functions/canMarkPlayed.ts":
/*!*********************************************!*\
  !*** ./src/chat/functions/canMarkPlayed.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.canMarkPlayed = canMarkPlayed;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const getMessageById_1 = __webpack_require__(/*! ./getMessageById */ "./src/chat/functions/getMessageById.ts");
/**
 * Get if message can played
 *
 * @example
 * ```javascript
 * WPP.chat.canMarkPlayed('[message_id]');
 * ```
 * @category Message
 */
async function canMarkPlayed(messageId) {
    if (!(messageId instanceof whatsapp_1.MsgModel) &&
        typeof messageId !== 'string' &&
        typeof messageId.toString === 'function') {
        messageId = messageId.toString();
    }
    const msg = messageId instanceof whatsapp_1.MsgModel
        ? messageId
        : await (0, getMessageById_1.getMessageById)(messageId.toString());
    return (0, functions_1.canMarkPlayed)(msg);
}


/***/ }),

/***/ "./src/chat/functions/canMute.ts":
/*!***************************************!*\
  !*** ./src/chat/functions/canMute.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.canMute = canMute;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
/**
 * Check if is possible to mute this chat
 *
 * @example
 * ```javascript
 * const canMute = WPP.chat.canMute('[number]@c.us');
 * ```
 *
 * @category Chat
 */
function canMute(chatId) {
    const wid = (0, assert_1.assertWid)(chatId);
    const chat = (0, assert_1.assertGetChat)(wid);
    return chat.mute.canMute();
}


/***/ }),

/***/ "./src/chat/functions/canReply.ts":
/*!****************************************!*\
  !*** ./src/chat/functions/canReply.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.canReply = canReply;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const getMessageById_1 = __webpack_require__(/*! ./getMessageById */ "./src/chat/functions/getMessageById.ts");
/**
 * Get if message can reply
 *
 * @example
 * ```javascript
 * WPP.chat.canReply('[message_id]');
 * ```
 * @category Message
 */
async function canReply(messageId) {
    if (!(messageId instanceof whatsapp_1.MsgModel) &&
        typeof messageId !== 'string' &&
        typeof messageId.toString === 'function') {
        messageId = messageId.toString();
    }
    const msg = messageId instanceof whatsapp_1.MsgModel
        ? messageId
        : await (0, getMessageById_1.getMessageById)(messageId.toString());
    return (0, functions_1.canReplyMsg)(msg);
}


/***/ }),

/***/ "./src/chat/functions/clear.ts":
/*!*************************************!*\
  !*** ./src/chat/functions/clear.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.clear = clear;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Clear a chat message
 *
 * @category Chat
 */
async function clear(chatId, keepStarred = true) {
    const wid = (0, assert_1.assertWid)(chatId);
    const chat = (0, assert_1.assertGetChat)(wid);
    (0, functions_1.sendClear)(chat, keepStarred);
    let status = 200;
    if (chat.promises.sendClear) {
        const result = await chat.promises.sendClear.catch(() => ({
            status: 500,
        }));
        status = result.status || status;
    }
    return {
        wid,
        status,
        keepStarred,
    };
}


/***/ }),

/***/ "./src/chat/functions/closeChat.ts":
/*!*****************************************!*\
  !*** ./src/chat/functions/closeChat.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.closeChat = closeChat;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Close the chat tab
 *
 * @example
 * ```javascript
 * await WPP.chat.closeChat();
 * ```
 *
 * @category Chat
 */
async function closeChat() {
    const active = (0, _1.getActiveChat)();
    if (!active)
        return false;
    whatsapp_1.Cmd.closeChat(active);
    return true;
}


/***/ }),

/***/ "./src/chat/functions/delete.ts":
/*!**************************************!*\
  !*** ./src/chat/functions/delete.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports["delete"] = _delete;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Delete a chat
 *
 * @category Chat
 */
async function _delete(chatId) {
    const wid = (0, assert_1.assertWid)(chatId);
    const chat = (0, assert_1.assertGetChat)(wid);
    (0, functions_1.sendDelete)(chat);
    let status = 200;
    if (chat.promises.sendDelete) {
        const result = await chat.promises.sendDelete.catch(() => ({
            status: 500,
        }));
        status = result.status || status;
    }
    return {
        wid,
        status,
    };
}


/***/ }),

/***/ "./src/chat/functions/deleteMessage.ts":
/*!*********************************************!*\
  !*** ./src/chat/functions/deleteMessage.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.deleteMessage = deleteMessage;
const compare_versions_1 = __webpack_require__(/*! compare-versions */ "./node_modules/compare-versions/lib/esm/index.js");
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const group_1 = __webpack_require__(/*! ../../group */ "./src/group/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const enums_1 = __webpack_require__(/*! ../../whatsapp/enums */ "./src/whatsapp/enums/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Delete a message
 *
 * @example
 * ```javascript
 * // Delete a message
 * WPP.chat.deleteMessage('[number]@c.us', 'msgid');
 * // Delete a list of messages
 * WPP.chat.deleteMessage('[number]@c.us', ['msgid1', 'msgid2]);
 * // Delete a message and delete media
 * WPP.chat.deleteMessage('[number]@c.us', 'msgid', true);
 * // Revoke a message
 * WPP.chat.deleteMessage('[number]@c.us', 'msgid', true, true);
 * ```
 *
 * @category Message
 */
async function deleteMessage(chatId, ids, deleteMediaInDevice = false, revoke = false) {
    const chat = (0, assert_1.assertGetChat)(chatId);
    let isSingle = false;
    if (!Array.isArray(ids)) {
        isSingle = true;
        ids = [ids];
    }
    const msgs = await (0, _1.getMessageById)(ids);
    const results = [];
    for (const msg of msgs) {
        let sendMsgResult = enums_1.SendMsgResult.ERROR_UNKNOWN;
        let isRevoked = false;
        let isDeleted = false;
        const isSentByMe = msg.senderObj.isMe;
        let imAdmin = false;
        if (chat.isGroup)
            imAdmin = await (0, group_1.iAmAdmin)(chatId);
        const canRevoke = isSentByMe || imAdmin;
        if (msg.type === enums_1.MSG_TYPE.REVOKED && revoke) {
            sendMsgResult = enums_1.SendMsgResult.ERROR_UNKNOWN;
            isRevoked = true;
        }
        else if (revoke && canRevoke) {
            if (msg.type === 'list') {
                msg.__x_isUserCreatedType = true;
            }
            if ((0, compare_versions_1.compare)(self.Debug.VERSION, '2.3000.0', '>=')) {
                await whatsapp_1.Cmd.sendRevokeMsgs(chat, {
                    type: 'message',
                    list: [msg],
                }, { clearMedia: deleteMediaInDevice });
            }
            else {
                await whatsapp_1.Cmd.sendRevokeMsgs(chat, [msg], {
                    clearMedia: deleteMediaInDevice,
                });
            }
            sendMsgResult = enums_1.SendMsgResult.OK;
            isRevoked = true;
        }
        else {
            if ((0, compare_versions_1.compare)(self.Debug.VERSION, '2.3000.0', '>=')) {
                await whatsapp_1.Cmd.sendDeleteMsgs(chat, {
                    type: 'message',
                    list: [msg],
                }, deleteMediaInDevice);
            }
            else {
                await whatsapp_1.Cmd.sendDeleteMsgs(chat, [msg], {
                    clearMedia: deleteMediaInDevice,
                });
            }
            sendMsgResult = enums_1.SendMsgResult.OK;
            isDeleted = !chat.msgs.get(msg.id);
        }
        results.push({
            id: msg.id.toString(),
            sendMsgResult,
            isRevoked,
            isDeleted,
            isSentByMe,
        });
    }
    return isSingle ? results[0] : results;
}


/***/ }),

/***/ "./src/chat/functions/downloadMedia.ts":
/*!*********************************************!*\
  !*** ./src/chat/functions/downloadMedia.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.downloadMedia = downloadMedia;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Download the blob of a media message
 *
 * ```javascript
 * // Get a blob file
 * await WPP.chat.downloadMedia('true_[number]@c.us_ABCDEF');
 *
 * // Get a base64Content
 * await WPP.chat.downloadMedia('true_[number]@c.us_ABCDEF').then(WPP.util.blobToBase64);
 * ```
 *
 * @category Message
 */
async function downloadMedia(id) {
    var _a;
    const msg = await (0, _1.getMessageById)(id);
    if (!msg.mediaData) {
        throw new util_1.WPPError('message_not_contains_media', `Message ${id} not contains media`, {
            id,
        });
    }
    await msg.downloadMedia({
        downloadEvenIfExpensive: true,
        rmrReason: 1,
        isUserInitiated: true,
    });
    let blob = null;
    if (msg.mediaData.filehash) {
        blob = whatsapp_1.MediaBlobCache.get(msg.mediaData.filehash);
    }
    if (!blob && msg.mediaData.mediaBlob) {
        blob = msg.mediaData.mediaBlob.forceToBlob();
    }
    if (!blob && ((_a = msg.mediaObject) === null || _a === void 0 ? void 0 : _a.type) === 'VIDEO') {
        try {
            msg.type = 'document';
            msg.mediaObject.type = 'DOCUMENT';
            return await downloadMedia(id);
        }
        finally {
            msg.type = 'video';
            msg.mediaObject.type = 'VIDEO';
        }
    }
    if (!blob) {
        throw {
            error: true,
            code: 'media_not_found',
            message: 'Media not found',
        };
    }
    return blob;
}


/***/ }),

/***/ "./src/chat/functions/editMessage.ts":
/*!*******************************************!*\
  !*** ./src/chat/functions/editMessage.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.editMessage = editMessage;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/chat/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Send a text message
 *
 * @example
 * WPP.chat.editMessage('[number]@c.us', 'New text for message', {
 *   linkPreview: true,
 *   mentionedJidList: ['5521985232287@c.us']
 * });
 * ```
 * @category Message
 */
async function editMessage(msgId, newText, options = {}) {
    var _a;
    options = Object.assign(Object.assign({}, __1.defaultSendMessageOptions), options);
    const msg = await (0, _1.getMessageById)(msgId);
    const canEdit = (0, functions_1.canEditMsg)(msg);
    const canEditCaptionMessage = (0, functions_1.canEditCaption)(msg);
    if (!canEdit && !canEditCaptionMessage) {
        throw new util_1.WPPError(`edit_message_error`, `Cannot edit this message`);
    }
    let rawMessage = {
        type: 'protocol',
        subtype: 'message_edit',
        protocolMessageKey: msg.id,
        body: newText.trim(),
        caption: newText.trim(),
        editMsgType: msg.type,
    };
    rawMessage = await (0, _1.prepareRawMessage)(msg.chat, rawMessage, options);
    rawMessage.latestEditMsgKey = rawMessage.id;
    rawMessage.latestEditSenderTimestampMs = rawMessage.t;
    return await (0, _1.sendRawMessage)((_a = msg.chat) === null || _a === void 0 ? void 0 : _a.id, rawMessage, options);
}


/***/ }),

/***/ "./src/chat/functions/find.ts":
/*!************************************!*\
  !*** ./src/chat/functions/find.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2025 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.find = find;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Find a chat by id
 *
 * This create a new chat if no one was found
 *
 * @category Chat
 */
async function find(chatId) {
    const wid = (0, assert_1.assertWid)(chatId);
    const chat = await (0, functions_1.findChat)(wid, wid.isLid() ? 'username_contactless_search' : 'createChat');
    if (chat.isGroup) {
        await whatsapp_1.GroupMetadataStore.find(chat.id);
    }
    return chat;
}


/***/ }),

/***/ "./src/chat/functions/forwardMessage.ts":
/*!**********************************************!*\
  !*** ./src/chat/functions/forwardMessage.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.forwardMessage = forwardMessage;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/chat/index.ts");
/**
 * Forward message to a chat
 *
 * @example
 * ```javascript
 * // Forward message
 * WPP.chat.forwardMessage('[number]@c.us', 'true_[number]@c.us_ABCDEF');
 * ```
 * @category Message
 * @return  {any} Any
 */
async function forwardMessage(toChatId, msgId, options = {}) {
    const chat = await (0, assert_1.assertFindChat)(toChatId);
    const msg = await (0, __1.getMessageById)(msgId);
    return await (0, functions_1.forwardMessagesToChats)([msg], [chat], options.displayCaptionText);
}


/***/ }),

/***/ "./src/chat/functions/forwardMessages.ts":
/*!***********************************************!*\
  !*** ./src/chat/functions/forwardMessages.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.forwardMessages = forwardMessages;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const getMessageById_1 = __webpack_require__(/*! ./getMessageById */ "./src/chat/functions/getMessageById.ts");
/**
 * Forward many messages to a chat
 *
 * @example
 * ```javascript
 * // Forward messages
 * WPP.chat.forwardMessagesWhatsApp('[number]@c.us', ['true_[number]@c.us_ABCDEF', ...]);
 * ```
 * @category Message
 * @return  {any} Any
 */
async function forwardMessages(toChatId, msgsId, options = {}) {
    var _a, _b, _c;
    const chat = await (0, assert_1.assertFindChat)(toChatId);
    const msgs = [];
    for (const msg of msgsId) {
        if (msg instanceof whatsapp_1.MsgModel) {
            msgs.push(msg);
        }
        else {
            msgs.push(await (0, getMessageById_1.getMessageById)(msg));
        }
    }
    return await (0, functions_1.forwardMessages)({
        chat,
        msgs,
        multicast: (_a = options.multicast) !== null && _a !== void 0 ? _a : false,
        includeCaption: (_b = options.displayCaptionText) !== null && _b !== void 0 ? _b : false,
        appendedText: (_c = options.appendedText) !== null && _c !== void 0 ? _c : false,
    });
}


/***/ }),

/***/ "./src/chat/functions/generateMessageID.ts":
/*!*************************************************!*\
  !*** ./src/chat/functions/generateMessageID.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.generateMessageID = generateMessageID;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const getMyUserWid_1 = __webpack_require__(/*! ../../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Generate a new message ID
 *
 * @category Message
 */
async function generateMessageID(chat) {
    const from = (0, getMyUserWid_1.getMyUserWid)();
    let to;
    if (chat instanceof whatsapp_1.Wid) {
        to = chat;
    }
    else if (chat instanceof whatsapp_1.ChatModel) {
        to = chat.id;
    }
    else {
        to = (0, assert_1.assertWid)(chat);
    }
    let participant = undefined;
    if (to.isGroup()) {
        const toUserWid = (whatsapp_1.WidFactory === null || whatsapp_1.WidFactory === void 0 ? void 0 : whatsapp_1.WidFactory.toUserWid) ||
            (whatsapp_1.WidFactory === null || whatsapp_1.WidFactory === void 0 ? void 0 : whatsapp_1.WidFactory.toUserWidOrThrow) ||
            (whatsapp_1.WidFactory === null || whatsapp_1.WidFactory === void 0 ? void 0 : whatsapp_1.WidFactory.createWid); // maintain compatibility with older versions of WhatsApp Web
        participant = toUserWid(from);
    }
    return new whatsapp_1.MsgKey({
        from,
        to,
        id: await Promise.resolve((0, functions_1.randomMessageId)()),
        participant,
        selfDir: 'out',
    });
}


/***/ }),

/***/ "./src/chat/functions/get.ts":
/*!***********************************!*\
  !*** ./src/chat/functions/get.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.get = get;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Find a chat by id
 *
 * @category Chat
 */
function get(chatId) {
    const wid = (0, assert_1.assertWid)(chatId);
    if (wid.server === 'newsletter') {
        return whatsapp_1.NewsletterStore.get(wid);
    }
    else {
        return whatsapp_1.ChatStore.get(wid);
    }
}


/***/ }),

/***/ "./src/chat/functions/getActiveChat.ts":
/*!*********************************************!*\
  !*** ./src/chat/functions/getActiveChat.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getActiveChat = getActiveChat;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Return the current active chat
 *
 * @returns The currenct active chat or undefined for none
 *
 * @example
 * ```javascript
 * // Get active chat
 * const chat = WPP.chat.getActiveChat();
 *
 * WPP.chat.sendTextMessage(chat.id, 'Hi');
 * ```
 * @category Chat
 */
function getActiveChat() {
    const chat = whatsapp_1.ChatStore.findFirst((c) => c.active) ||
        whatsapp_1.NewsletterStore.findFirst((c) => c.active);
    return chat;
}


/***/ }),

/***/ "./src/chat/functions/getLastSeen.ts":
/*!*******************************************!*\
  !*** ./src/chat/functions/getLastSeen.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getLastSeen = getLastSeen;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Get timestamp of last seen
 * @example
 * ```javascript
 * WPP.chat.getLastSeen('[number]@c.us');
 * ```
 * @category Chat
 */
async function getLastSeen(chatId) {
    const wid = (0, assert_1.assertWid)(chatId);
    const chat = await whatsapp_1.ChatStore.get(wid);
    if (!chat) {
        return false;
    }
    if (!chat.presence.hasData) {
        await chat.presence.subscribe();
        await new Promise((resolve) => setTimeout(resolve, 100));
    }
    return chat.presence.chatstate.t || false;
}


/***/ }),

/***/ "./src/chat/functions/getMessageACK.ts":
/*!*********************************************!*\
  !*** ./src/chat/functions/getMessageACK.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getMessageACK = getMessageACK;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/chat/index.ts");
/**
 * Get message ACK from a message
 *
 * @example
 * ```javascript
 * // Get message ACK
 * const ackInfo = await WPP.chat.getMessageACK('true_[number]@c.us_ABCDEF');
 *
 * console.log(ackInfo.deliveryRemaining); // Delivery Remaining
 * console.log(ackInfo.readRemaining); // Read Remaining
 * console.log(ackInfo.playedRemaining); // PlayedRemaining, for audio(ptt) only
 *
 * console.log(ackInfo.participants[0].deliveredAt); // Delivered At, in timestamp format
 * console.log(ackInfo.participants[0].readAt); // Read At, in timestamp format
 * console.log(ackInfo.participants[0].playedAt); // Played At, in timestamp format, for audio(ptt) only
 *
 * //To get only how was received
 * const received = ackInfo.participants.filter(p => p.deliveredAt || p.readAt || p.playedAt);
 *
 * //To get only how was read
 * const read = ackInfo.participants.filter(p => p.readAt || p.playedAt);
 *
 * //To get only how was played
 * const played = ackInfo.participants.filter(p => p.playedAt);
 * ```
 * @category Message
 * @return  {any} Any
 */
async function getMessageACK(msgId) {
    const msg = await (0, __1.getMessageById)(msgId);
    const info = await whatsapp_1.MsgInfoStore.find(msg.id);
    const participants = new Map();
    const callback = (m, type) => {
        const id = m.id.toString();
        const status = participants.get(id) || { id, wid: m.id };
        status[type] = m.t;
        participants.set(id, status);
    };
    info === null || info === void 0 ? void 0 : info.delivery.forEach((p) => callback(p, 'deliveredAt'));
    info === null || info === void 0 ? void 0 : info.read.forEach((p) => callback(p, 'readAt'));
    info === null || info === void 0 ? void 0 : info.played.forEach((p) => callback(p, 'playedAt'));
    return {
        ack: msg.ack,
        fromMe: msg.id.fromMe,
        deliveryRemaining: (info === null || info === void 0 ? void 0 : info.deliveryRemaining) || 0,
        readRemaining: (info === null || info === void 0 ? void 0 : info.readRemaining) || 0,
        playedRemaining: (info === null || info === void 0 ? void 0 : info.playedRemaining) || 0,
        participants: Array.from(participants.values()),
    };
}


/***/ }),

/***/ "./src/chat/functions/getMessageById.ts":
/*!**********************************************!*\
  !*** ./src/chat/functions/getMessageById.ts ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getMessageById = getMessageById;
const debug_1 = __importDefault(__webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js"));
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const debug = (0, debug_1.default)('WA-JS:message:getMessageById');
async function getMessageById(ids) {
    var _a, _b, _c, _d;
    let isSingle = false;
    if (!Array.isArray(ids)) {
        isSingle = true;
        ids = [ids];
    }
    const msgsKeys = ids.map((id) => whatsapp_1.MsgKey.fromString(id.toString()));
    let msgs = [];
    for (const msgKey of msgsKeys) {
        let msg = whatsapp_1.MsgStore.get(msgKey);
        const isStatus = typeof ((_a = msgKey.remote) === null || _a === void 0 ? void 0 : _a.isStatusV3) == 'function'
            ? (_b = msgKey.remote) === null || _b === void 0 ? void 0 : _b.isStatusV3()
            : (_d = (_c = msgKey.remote) === null || _c === void 0 ? void 0 : _c.toString()) === null || _d === void 0 ? void 0 : _d.includes('status@broadcast');
        if (!msg) {
            if (isStatus) {
                msg = whatsapp_1.StatusV3Store.getMyStatus().msgs.get(msgKey);
            }
            else {
                const chat = (0, assert_1.assertGetChat)(msgKey.remote);
                msg = chat.msgs.get(msgKey);
                if (!msg) {
                    debug(`searching remote message with id ${msgKey.toString()}`);
                    const result = (0, functions_1.getSearchContext)(chat, msgKey);
                    await result.collection.loadAroundPromise;
                    msg = chat.msgs.get(msgKey) || result.collection.get(msgKey);
                }
            }
        }
        if (!msg) {
            debug(`message id ${msgKey.toString()} not found`);
            throw new util_1.WPPError('msg_not_found', `Message ${msgKey.toString()} not found`, {
                id: msgKey.toString(),
            });
        }
        msgs.push(msg);
    }
    msgs = msgs.map((m) => {
        if (m instanceof whatsapp_1.MsgModel) {
            return m;
        }
        return whatsapp_1.MsgStore.get(m) || new whatsapp_1.MsgModel(m);
    });
    if (isSingle) {
        return msgs[0];
    }
    return msgs;
}


/***/ }),

/***/ "./src/chat/functions/getMessages.ts":
/*!*******************************************!*\
  !*** ./src/chat/functions/getMessages.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getMessages = getMessages;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const conn_1 = __webpack_require__(/*! ../../conn */ "./src/conn/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Fetch messages from a chat
 *
 * @example
 * ```javascript
 * // Some messages
 * WPP.chat.getMessages('[number]@c.us', {
 *   count: 20,
 * });
 *
 * // All messages
 * WPP.chat.getMessages('[number]@c.us', {
 *   count: -1,
 * });
 *
 * // Last 20 unread messages
 * WPP.chat.getMessages('[number]@c.us', {
 *   count: 20,
 *   onlyUnread: true,
 * });
 *
 * // All unread messages
 * WPP.chat.getMessages('[number]@c.us', {
 *   count: -1,
 *   onlyUnread: true,
 * });
 *
 * // 20 messages before specific message
 * WPP.chat.getMessages('[number]@c.us', {
 *   count: 20,
 *   direction: 'before',
 *   id: '<full message id>'
 * });
 *
 * // Only media messages (url, document and links)
 * WPP.chat.getMessages('[number]@c.us', {
 *   count: 20,
 *   media: 'all',
 * });
 *
 * // Only image messages
 * WPP.chat.getMessages('[number]@c.us', {
 *   count: 20,
 *   media: 'image',
 * });
 *
 * // Only document messages
 * WPP.chat.getMessages('[number]@c.us', {
 *   count: 20,
 *   media: 'document',
 * });
 *
 * // Only link (url) messages
 * WPP.chat.getMessages('[number]@c.us', {
 *   count: 20,
 *   media: 'url',
 * });
 * ```
 * @category Message
 * @return  {RawMessage[]} List of raw messages
 */
async function getMessages(chatId, options = {}) {
    var _a;
    const chat = (0, assert_1.assertGetChat)(chatId);
    let count = options.count || 20;
    const direction = options.direction === 'after' ? 'after' : 'before';
    const id = options.id || ((_a = chat.lastReceivedKey) === null || _a === void 0 ? void 0 : _a.toString());
    if (options.onlyUnread) {
        if (!chat.hasUnread) {
            return [];
        }
        // If marked as unread, return last 2 messages
        const unreadCount = chat.unreadCount < 0 ? 2 : chat.unreadCount;
        if (count < 0) {
            count = unreadCount;
        }
        else {
            count = Math.min(count, unreadCount);
        }
    }
    // Fix for multidevice
    if (count === -1 && (0, conn_1.isMultiDevice)()) {
        count = Infinity;
    }
    if (!options.id && id) {
        count--;
    }
    const params = id
        ? whatsapp_1.MsgKey.fromString(id)
        : {
            remote: chat.id,
        };
    params.count = count;
    params.direction = direction;
    let msgs = [];
    if (options.media === 'all') {
        const { messages } = await (0, functions_1.msgFindQuery)('media', params);
        if (Array.isArray(messages)) {
            msgs.push(...messages);
        }
    }
    else if (options.media === 'image') {
        const { messages } = await (0, functions_1.msgFindQuery)('media', params);
        for (const Msg of messages) {
            if (Msg.type === 'image') {
                msgs.push(Msg);
            }
        }
    }
    else if (options.media !== undefined) {
        params.media = options.media;
        const { messages } = await (0, functions_1.msgFindQuery)('media', params);
        if (Array.isArray(messages)) {
            msgs.push(...messages);
        }
    }
    else {
        msgs = await (0, functions_1.msgFindQuery)(direction, params);
    }
    if (!options.id && id) {
        const msg = whatsapp_1.MsgStore.get(id);
        if (msg) {
            msgs.push(msg.attributes);
        }
    }
    msgs = msgs.map((m) => {
        if (options === null || options === void 0 ? void 0 : options.onlyUnread)
            m.isNewMsg = true;
        if (m instanceof whatsapp_1.MsgModel) {
            return m;
        }
        return whatsapp_1.MsgStore.get(m) || new whatsapp_1.MsgModel(m);
    });
    return msgs;
}


/***/ }),

/***/ "./src/chat/functions/getNotes.ts":
/*!****************************************!*\
  !*** ./src/chat/functions/getNotes.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getNotes = getNotes;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const profile_1 = __webpack_require__(/*! ../../profile */ "./src/profile/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const addOrEditNoteAction_1 = __webpack_require__(/*! ../../whatsapp/functions/addOrEditNoteAction */ "./src/whatsapp/functions/addOrEditNoteAction.ts");
/**
 * Get notes from a contact
 * Only when are connected with business device
 * @example
 * ```javascript
 * WPP.chat.getNotes('[number]@c.us', 'Text for your notes');
 * ```
 * @category Chat
 */
async function getNotes(chatId) {
    const chat = (0, assert_1.assertGetChat)(chatId);
    if (!(0, profile_1.isBusiness)()) {
        throw new util_1.WPPError('connected_device_not_is_business', `Connected device not is business account`);
    }
    else if (chat.isGroup) {
        throw new util_1.WPPError('can_not_get_notes_for_groups', `You can not get notes for groups. ChatId: ${chatId}`);
    }
    return await (0, addOrEditNoteAction_1.retrieveOnlyNoteForChatJid)(chat.id.toJid());
}


/***/ }),

/***/ "./src/chat/functions/getPlatformFromMessage.ts":
/*!******************************************************!*\
  !*** ./src/chat/functions/getPlatformFromMessage.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getPlatformFromMessage = getPlatformFromMessage;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Get the platform message from message ID
 *
 * The platform can be:
 * * android
 * * iphone
 * * web
 * * unknown
 *
 * @example
 * ```javascript
 * // to get platform from a message
 * const platform = WPP.chat.getPlatformFromMessage('[message_id]');
 * ```
 * @category Message
 */
function getPlatformFromMessage(messageId) {
    if (!(messageId instanceof whatsapp_1.MsgModel) &&
        typeof messageId !== 'string' &&
        typeof messageId.toString === 'function') {
        messageId = messageId.toString();
    }
    if (messageId instanceof whatsapp_1.MsgModel) {
        messageId = messageId.id;
    }
    /**
     * Based Bailyes
     * @see https://github.com/adiwajshing/Baileys/blob/19484e5cfced4c2d229687e74f714534375a57a3/src/Utils/messages.ts#L600
     */
    const msgKey = whatsapp_1.MsgKey.fromString(messageId.toString());
    if (msgKey.id.length > 21) {
        return 'android';
    }
    if (msgKey.id.startsWith('3A')) {
        return 'iphone';
    }
    if (msgKey.id.startsWith('3EB0')) {
        return 'web';
    }
    return 'unknown';
}


/***/ }),

/***/ "./src/chat/functions/getQuotedMsg.ts":
/*!********************************************!*\
  !*** ./src/chat/functions/getQuotedMsg.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getQuotedMsg = getQuotedMsg;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const getMessageById_1 = __webpack_require__(/*! ./getMessageById */ "./src/chat/functions/getMessageById.ts");
const getQuotedMsgKey_1 = __webpack_require__(/*! ./getQuotedMsgKey */ "./src/chat/functions/getQuotedMsgKey.ts");
/**
 * Get a quoted message
 *
 * @category Chat
 */
async function getQuotedMsg(id) {
    const msg = await (0, getMessageById_1.getMessageById)(id);
    if (!msg.quotedStanzaID) {
        throw new util_1.WPPError('message_not_have_a_reply', `Message ${id} does not have a reply`, {
            id,
        });
    }
    const quotedMsgId = (0, getQuotedMsgKey_1.getQuotedMsgKey)(msg);
    return await (0, getMessageById_1.getMessageById)(quotedMsgId);
}


/***/ }),

/***/ "./src/chat/functions/getQuotedMsgKey.ts":
/*!***********************************************!*\
  !*** ./src/chat/functions/getQuotedMsgKey.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getQuotedMsgKey = getQuotedMsgKey;
const conn_1 = __webpack_require__(/*! ../../conn */ "./src/conn/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Get a quoted message
 *
 * @category Chat
 */
function getQuotedMsgKey(msg) {
    var _a;
    if (!msg.quotedStanzaID) {
        throw new util_1.WPPError('message_not_have_a_reply', `Message ${msg.id} does not have a reply`, {
            id: msg.id,
        });
    }
    const remote = msg.quotedRemoteJid ? msg.quotedRemoteJid : msg.id.remote;
    const fromMe = ((_a = (0, conn_1.getMyUserId)()) === null || _a === void 0 ? void 0 : _a.equals(msg.quotedParticipant)) || false;
    const isStatus = typeof whatsapp_1.Wid.isStatusV3 === 'function'
        ? whatsapp_1.Wid.isStatusV3(remote)
        : whatsapp_1.Wid.isStatus(remote);
    const quotedMsgId = new whatsapp_1.MsgKey({
        id: msg.quotedStanzaID,
        fromMe: fromMe,
        remote: remote,
        participant: whatsapp_1.Wid.isGroup(msg.from) || whatsapp_1.Wid.isGroup(msg.to) || isStatus
            ? msg.quotedParticipant
            : undefined,
    });
    return quotedMsgId;
}


/***/ }),

/***/ "./src/chat/functions/getReactions.ts":
/*!********************************************!*\
  !*** ./src/chat/functions/getReactions.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getReactions = getReactions;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Get all reactions in a message
 * @example
 * ```javascript
 * WPP.chat.getReactions('true_[number]@c.us_ABCDEF');
 * ```
 * @category Chat
 */
async function getReactions(msgId) {
    const reactions = await (0, functions_1.getReactions)(msgId);
    const returnData = [];
    for (const d of reactions.reactions) {
        const data = {
            aggregateEmoji: d.aggregateEmoji,
            hasReactionByMe: d.hasReactionByMe,
            senders: [],
        };
        for (const e of d.senders) {
            data.senders.push({
                id: e.msgKey,
                msgId: e.parentMsgKey,
                reactionText: e.reactionText,
                read: e.read,
                sender: (0, util_1.createWid)(e.senderUserJid),
                orphan: e.orphan,
                timestamp: e.timestamp,
            });
        }
        returnData.push(data);
    }
    return {
        reactionByMe: reactions.reactionByMe
            ? {
                id: reactions.reactionByMe.msgKey,
                orphan: reactions.reactionByMe.orphan,
                msgId: reactions.reactionByMe.parentMsgKey,
                reactionText: reactions.reactionByMe.reactionText,
                read: reactions.reactionByMe.read,
                senderUserJid: (0, util_1.createWid)(reactions.reactionByMe.senderUserJid),
                timestamp: reactions.reactionByMe.timestamp,
            }
            : undefined,
        reactions: returnData,
    };
}


/***/ }),

/***/ "./src/chat/functions/getUnreadChats.ts":
/*!**********************************************!*\
  !*** ./src/chat/functions/getUnreadChats.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getUnreadChats = getUnreadChats;
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const list_1 = __webpack_require__(/*! ./list */ "./src/chat/functions/list.ts");
let unreadChats = [];
(0, eventEmitter_1.on)('chat.unread_count_changed', (params) => {
    if (params.unreadCount > 0) {
        if (!unreadChats.find((chat) => { var _a; return chat.id === ((_a = params.chat) === null || _a === void 0 ? void 0 : _a.id); })) {
            unreadChats.push(params.chat);
        }
    }
    else {
        unreadChats = unreadChats.filter((chat) => { var _a; return chat.id != ((_a = params.chat) === null || _a === void 0 ? void 0 : _a.id); });
    }
});
/**
 * Get all chats that have unread messages
 *
 * @category Chat
 *
 */
async function getUnreadChats(onlyNewUnreads) {
    if (onlyNewUnreads) {
        return unreadChats;
    }
    else {
        return await (0, list_1.list)({ onlyWithUnreadMessage: true });
    }
}


/***/ }),

/***/ "./src/chat/functions/getVotes.ts":
/*!****************************************!*\
  !*** ./src/chat/functions/getVotes.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getVotes = getVotes;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const getMessageById_1 = __webpack_require__(/*! ./getMessageById */ "./src/chat/functions/getMessageById.ts");
/**
 * Get votes of a poll
 * @example
 * ```javascript
 * WPP.chat.getVotes('true_[number]@c.us_ABCDEF');
 * ```
 * @category Chat
 */
async function getVotes(id) {
    const msgKey = whatsapp_1.MsgKey.fromString(id.toString());
    const msg = await (0, getMessageById_1.getMessageById)(msgKey);
    if (msg.type != 'poll_creation') {
        throw new util_1.WPPError('msg_not_found', `Message ${msgKey.toString()} not a poll`, {
            id: msgKey.toString(),
        });
    }
    const votes = await (0, functions_1.getVotes)([msgKey]);
    const returnData = {
        msgId: msgKey,
        chatId: msgKey.remote,
        votes: [],
    };
    for (const vote of votes) {
        const arr = {
            selectedOptions: [],
            timestamp: vote.senderTimestampMs,
            sender: vote.sender,
        };
        for (const d of vote.selectedOptionLocalIds) {
            arr.selectedOptions[d] = msg.pollOptions.filter((i) => i.localId == d)[0];
        }
        returnData.votes.push(arr);
    }
    return returnData;
}


/***/ }),

/***/ "./src/chat/functions/index.ts":
/*!*************************************!*\
  !*** ./src/chat/functions/index.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendChargeMessage = exports.sendCatalogMessage = exports.requestPhoneNumber = exports.prepareRawMessage = exports.prepareMessageButtons = exports.prepareLinkPreview = exports.unpinMsg = exports.pinMsg = exports.unpin = exports.pin = exports.openChatFromUnread = exports.openChatBottom = exports.openChatAt = exports.mute = exports.markPlayed = exports.markIsUnread = exports.markIsRecording = exports.markIsRead = exports.markIsPaused = exports.markIsComposing = exports.list = exports.keepMessage = exports.getVotes = exports.getUnreadChats = exports.getReactions = exports.getQuotedMsgKey = exports.getQuotedMsg = exports.getPlatformFromMessage = exports.getNotes = exports.getMessages = exports.getMessageById = exports.getMessageACK = exports.getLastSeen = exports.getActiveChat = exports.get = exports.generateMessageID = exports.forwardMessages = exports.forwardMessage = exports.find = exports.editMessage = exports.downloadMedia = exports.deleteMessage = exports["delete"] = exports.closeChat = exports.clear = exports.canReply = exports.canMute = exports.canMarkPlayed = exports.unarchive = exports.archive = void 0;
exports.unmute = exports.starMessage = exports.setNotes = exports.setInputText = exports.setChatList = exports.sendVCardContactMessage = exports.sendTextMessage = exports.sendScheduledCallMessage = exports.sendReactionToMessage = exports.sendRawMessage = exports.sendPixKeyMessage = exports.sendLocationMessage = exports.sendListMessage = exports.sendGroupInviteMessage = exports.sendFileMessage = exports.sendEventMessage = exports.sendCreatePollMessage = void 0;
var archive_1 = __webpack_require__(/*! ./archive */ "./src/chat/functions/archive.ts");
Object.defineProperty(exports, "archive", ({ enumerable: true, get: function () { return archive_1.archive; } }));
Object.defineProperty(exports, "unarchive", ({ enumerable: true, get: function () { return archive_1.unarchive; } }));
var canMarkPlayed_1 = __webpack_require__(/*! ./canMarkPlayed */ "./src/chat/functions/canMarkPlayed.ts");
Object.defineProperty(exports, "canMarkPlayed", ({ enumerable: true, get: function () { return canMarkPlayed_1.canMarkPlayed; } }));
var canMute_1 = __webpack_require__(/*! ./canMute */ "./src/chat/functions/canMute.ts");
Object.defineProperty(exports, "canMute", ({ enumerable: true, get: function () { return canMute_1.canMute; } }));
var canReply_1 = __webpack_require__(/*! ./canReply */ "./src/chat/functions/canReply.ts");
Object.defineProperty(exports, "canReply", ({ enumerable: true, get: function () { return canReply_1.canReply; } }));
var clear_1 = __webpack_require__(/*! ./clear */ "./src/chat/functions/clear.ts");
Object.defineProperty(exports, "clear", ({ enumerable: true, get: function () { return clear_1.clear; } }));
var closeChat_1 = __webpack_require__(/*! ./closeChat */ "./src/chat/functions/closeChat.ts");
Object.defineProperty(exports, "closeChat", ({ enumerable: true, get: function () { return closeChat_1.closeChat; } }));
var delete_1 = __webpack_require__(/*! ./delete */ "./src/chat/functions/delete.ts");
Object.defineProperty(exports, "delete", ({ enumerable: true, get: function () { return delete_1.delete; } }));
var deleteMessage_1 = __webpack_require__(/*! ./deleteMessage */ "./src/chat/functions/deleteMessage.ts");
Object.defineProperty(exports, "deleteMessage", ({ enumerable: true, get: function () { return deleteMessage_1.deleteMessage; } }));
var downloadMedia_1 = __webpack_require__(/*! ./downloadMedia */ "./src/chat/functions/downloadMedia.ts");
Object.defineProperty(exports, "downloadMedia", ({ enumerable: true, get: function () { return downloadMedia_1.downloadMedia; } }));
var editMessage_1 = __webpack_require__(/*! ./editMessage */ "./src/chat/functions/editMessage.ts");
Object.defineProperty(exports, "editMessage", ({ enumerable: true, get: function () { return editMessage_1.editMessage; } }));
var find_1 = __webpack_require__(/*! ./find */ "./src/chat/functions/find.ts");
Object.defineProperty(exports, "find", ({ enumerable: true, get: function () { return find_1.find; } }));
var forwardMessage_1 = __webpack_require__(/*! ./forwardMessage */ "./src/chat/functions/forwardMessage.ts");
Object.defineProperty(exports, "forwardMessage", ({ enumerable: true, get: function () { return forwardMessage_1.forwardMessage; } }));
var forwardMessages_1 = __webpack_require__(/*! ./forwardMessages */ "./src/chat/functions/forwardMessages.ts");
Object.defineProperty(exports, "forwardMessages", ({ enumerable: true, get: function () { return forwardMessages_1.forwardMessages; } }));
var generateMessageID_1 = __webpack_require__(/*! ./generateMessageID */ "./src/chat/functions/generateMessageID.ts");
Object.defineProperty(exports, "generateMessageID", ({ enumerable: true, get: function () { return generateMessageID_1.generateMessageID; } }));
var get_1 = __webpack_require__(/*! ./get */ "./src/chat/functions/get.ts");
Object.defineProperty(exports, "get", ({ enumerable: true, get: function () { return get_1.get; } }));
var getActiveChat_1 = __webpack_require__(/*! ./getActiveChat */ "./src/chat/functions/getActiveChat.ts");
Object.defineProperty(exports, "getActiveChat", ({ enumerable: true, get: function () { return getActiveChat_1.getActiveChat; } }));
var getLastSeen_1 = __webpack_require__(/*! ./getLastSeen */ "./src/chat/functions/getLastSeen.ts");
Object.defineProperty(exports, "getLastSeen", ({ enumerable: true, get: function () { return getLastSeen_1.getLastSeen; } }));
var getMessageACK_1 = __webpack_require__(/*! ./getMessageACK */ "./src/chat/functions/getMessageACK.ts");
Object.defineProperty(exports, "getMessageACK", ({ enumerable: true, get: function () { return getMessageACK_1.getMessageACK; } }));
var getMessageById_1 = __webpack_require__(/*! ./getMessageById */ "./src/chat/functions/getMessageById.ts");
Object.defineProperty(exports, "getMessageById", ({ enumerable: true, get: function () { return getMessageById_1.getMessageById; } }));
var getMessages_1 = __webpack_require__(/*! ./getMessages */ "./src/chat/functions/getMessages.ts");
Object.defineProperty(exports, "getMessages", ({ enumerable: true, get: function () { return getMessages_1.getMessages; } }));
var getNotes_1 = __webpack_require__(/*! ./getNotes */ "./src/chat/functions/getNotes.ts");
Object.defineProperty(exports, "getNotes", ({ enumerable: true, get: function () { return getNotes_1.getNotes; } }));
var getPlatformFromMessage_1 = __webpack_require__(/*! ./getPlatformFromMessage */ "./src/chat/functions/getPlatformFromMessage.ts");
Object.defineProperty(exports, "getPlatformFromMessage", ({ enumerable: true, get: function () { return getPlatformFromMessage_1.getPlatformFromMessage; } }));
var getQuotedMsg_1 = __webpack_require__(/*! ./getQuotedMsg */ "./src/chat/functions/getQuotedMsg.ts");
Object.defineProperty(exports, "getQuotedMsg", ({ enumerable: true, get: function () { return getQuotedMsg_1.getQuotedMsg; } }));
var getQuotedMsgKey_1 = __webpack_require__(/*! ./getQuotedMsgKey */ "./src/chat/functions/getQuotedMsgKey.ts");
Object.defineProperty(exports, "getQuotedMsgKey", ({ enumerable: true, get: function () { return getQuotedMsgKey_1.getQuotedMsgKey; } }));
var getReactions_1 = __webpack_require__(/*! ./getReactions */ "./src/chat/functions/getReactions.ts");
Object.defineProperty(exports, "getReactions", ({ enumerable: true, get: function () { return getReactions_1.getReactions; } }));
var getUnreadChats_1 = __webpack_require__(/*! ./getUnreadChats */ "./src/chat/functions/getUnreadChats.ts");
Object.defineProperty(exports, "getUnreadChats", ({ enumerable: true, get: function () { return getUnreadChats_1.getUnreadChats; } }));
var getVotes_1 = __webpack_require__(/*! ./getVotes */ "./src/chat/functions/getVotes.ts");
Object.defineProperty(exports, "getVotes", ({ enumerable: true, get: function () { return getVotes_1.getVotes; } }));
var keepMessage_1 = __webpack_require__(/*! ./keepMessage */ "./src/chat/functions/keepMessage.ts");
Object.defineProperty(exports, "keepMessage", ({ enumerable: true, get: function () { return keepMessage_1.keepMessage; } }));
var list_1 = __webpack_require__(/*! ./list */ "./src/chat/functions/list.ts");
Object.defineProperty(exports, "list", ({ enumerable: true, get: function () { return list_1.list; } }));
var markIsComposing_1 = __webpack_require__(/*! ./markIsComposing */ "./src/chat/functions/markIsComposing.ts");
Object.defineProperty(exports, "markIsComposing", ({ enumerable: true, get: function () { return markIsComposing_1.markIsComposing; } }));
var markIsPaused_1 = __webpack_require__(/*! ./markIsPaused */ "./src/chat/functions/markIsPaused.ts");
Object.defineProperty(exports, "markIsPaused", ({ enumerable: true, get: function () { return markIsPaused_1.markIsPaused; } }));
var markIsRead_1 = __webpack_require__(/*! ./markIsRead */ "./src/chat/functions/markIsRead.ts");
Object.defineProperty(exports, "markIsRead", ({ enumerable: true, get: function () { return markIsRead_1.markIsRead; } }));
var markIsRecording_1 = __webpack_require__(/*! ./markIsRecording */ "./src/chat/functions/markIsRecording.ts");
Object.defineProperty(exports, "markIsRecording", ({ enumerable: true, get: function () { return markIsRecording_1.markIsRecording; } }));
var markIsUnread_1 = __webpack_require__(/*! ./markIsUnread */ "./src/chat/functions/markIsUnread.ts");
Object.defineProperty(exports, "markIsUnread", ({ enumerable: true, get: function () { return markIsUnread_1.markIsUnread; } }));
var markPlayed_1 = __webpack_require__(/*! ./markPlayed */ "./src/chat/functions/markPlayed.ts");
Object.defineProperty(exports, "markPlayed", ({ enumerable: true, get: function () { return markPlayed_1.markPlayed; } }));
var mute_1 = __webpack_require__(/*! ./mute */ "./src/chat/functions/mute.ts");
Object.defineProperty(exports, "mute", ({ enumerable: true, get: function () { return mute_1.mute; } }));
var openChatAt_1 = __webpack_require__(/*! ./openChatAt */ "./src/chat/functions/openChatAt.ts");
Object.defineProperty(exports, "openChatAt", ({ enumerable: true, get: function () { return openChatAt_1.openChatAt; } }));
var openChatBottom_1 = __webpack_require__(/*! ./openChatBottom */ "./src/chat/functions/openChatBottom.ts");
Object.defineProperty(exports, "openChatBottom", ({ enumerable: true, get: function () { return openChatBottom_1.openChatBottom; } }));
var openChatFromUnread_1 = __webpack_require__(/*! ./openChatFromUnread */ "./src/chat/functions/openChatFromUnread.ts");
Object.defineProperty(exports, "openChatFromUnread", ({ enumerable: true, get: function () { return openChatFromUnread_1.openChatFromUnread; } }));
var pin_1 = __webpack_require__(/*! ./pin */ "./src/chat/functions/pin.ts");
Object.defineProperty(exports, "pin", ({ enumerable: true, get: function () { return pin_1.pin; } }));
Object.defineProperty(exports, "unpin", ({ enumerable: true, get: function () { return pin_1.unpin; } }));
var pinMsg_1 = __webpack_require__(/*! ./pinMsg */ "./src/chat/functions/pinMsg.ts");
Object.defineProperty(exports, "pinMsg", ({ enumerable: true, get: function () { return pinMsg_1.pinMsg; } }));
Object.defineProperty(exports, "unpinMsg", ({ enumerable: true, get: function () { return pinMsg_1.unpinMsg; } }));
var prepareLinkPreview_1 = __webpack_require__(/*! ./prepareLinkPreview */ "./src/chat/functions/prepareLinkPreview.ts");
Object.defineProperty(exports, "prepareLinkPreview", ({ enumerable: true, get: function () { return prepareLinkPreview_1.prepareLinkPreview; } }));
var prepareMessageButtons_1 = __webpack_require__(/*! ./prepareMessageButtons */ "./src/chat/functions/prepareMessageButtons.ts");
Object.defineProperty(exports, "prepareMessageButtons", ({ enumerable: true, get: function () { return prepareMessageButtons_1.prepareMessageButtons; } }));
var prepareRawMessage_1 = __webpack_require__(/*! ./prepareRawMessage */ "./src/chat/functions/prepareRawMessage.ts");
Object.defineProperty(exports, "prepareRawMessage", ({ enumerable: true, get: function () { return prepareRawMessage_1.prepareRawMessage; } }));
var requestPhoneNumber_1 = __webpack_require__(/*! ./requestPhoneNumber */ "./src/chat/functions/requestPhoneNumber.ts");
Object.defineProperty(exports, "requestPhoneNumber", ({ enumerable: true, get: function () { return requestPhoneNumber_1.requestPhoneNumber; } }));
var sendCatalogMessage_1 = __webpack_require__(/*! ./sendCatalogMessage */ "./src/chat/functions/sendCatalogMessage.ts");
Object.defineProperty(exports, "sendCatalogMessage", ({ enumerable: true, get: function () { return sendCatalogMessage_1.sendCatalogMessage; } }));
var sendChargeMessage_1 = __webpack_require__(/*! ./sendChargeMessage */ "./src/chat/functions/sendChargeMessage.ts");
Object.defineProperty(exports, "sendChargeMessage", ({ enumerable: true, get: function () { return sendChargeMessage_1.sendChargeMessage; } }));
var sendCreatePollMessage_1 = __webpack_require__(/*! ./sendCreatePollMessage */ "./src/chat/functions/sendCreatePollMessage.ts");
Object.defineProperty(exports, "sendCreatePollMessage", ({ enumerable: true, get: function () { return sendCreatePollMessage_1.sendCreatePollMessage; } }));
var sendEventMessage_1 = __webpack_require__(/*! ./sendEventMessage */ "./src/chat/functions/sendEventMessage.ts");
Object.defineProperty(exports, "sendEventMessage", ({ enumerable: true, get: function () { return sendEventMessage_1.sendEventMessage; } }));
var sendFileMessage_1 = __webpack_require__(/*! ./sendFileMessage */ "./src/chat/functions/sendFileMessage.ts");
Object.defineProperty(exports, "sendFileMessage", ({ enumerable: true, get: function () { return sendFileMessage_1.sendFileMessage; } }));
var sendGroupInviteMessage_1 = __webpack_require__(/*! ./sendGroupInviteMessage */ "./src/chat/functions/sendGroupInviteMessage.ts");
Object.defineProperty(exports, "sendGroupInviteMessage", ({ enumerable: true, get: function () { return sendGroupInviteMessage_1.sendGroupInviteMessage; } }));
var sendListMessage_1 = __webpack_require__(/*! ./sendListMessage */ "./src/chat/functions/sendListMessage.ts");
Object.defineProperty(exports, "sendListMessage", ({ enumerable: true, get: function () { return sendListMessage_1.sendListMessage; } }));
var sendLocationMessage_1 = __webpack_require__(/*! ./sendLocationMessage */ "./src/chat/functions/sendLocationMessage.ts");
Object.defineProperty(exports, "sendLocationMessage", ({ enumerable: true, get: function () { return sendLocationMessage_1.sendLocationMessage; } }));
var sendPixKeyMessage_1 = __webpack_require__(/*! ./sendPixKeyMessage */ "./src/chat/functions/sendPixKeyMessage.ts");
Object.defineProperty(exports, "sendPixKeyMessage", ({ enumerable: true, get: function () { return sendPixKeyMessage_1.sendPixKeyMessage; } }));
var sendRawMessage_1 = __webpack_require__(/*! ./sendRawMessage */ "./src/chat/functions/sendRawMessage.ts");
Object.defineProperty(exports, "sendRawMessage", ({ enumerable: true, get: function () { return sendRawMessage_1.sendRawMessage; } }));
var sendReactionToMessage_1 = __webpack_require__(/*! ./sendReactionToMessage */ "./src/chat/functions/sendReactionToMessage.ts");
Object.defineProperty(exports, "sendReactionToMessage", ({ enumerable: true, get: function () { return sendReactionToMessage_1.sendReactionToMessage; } }));
var sendScheduledCallMessage_1 = __webpack_require__(/*! ./sendScheduledCallMessage */ "./src/chat/functions/sendScheduledCallMessage.ts");
Object.defineProperty(exports, "sendScheduledCallMessage", ({ enumerable: true, get: function () { return sendScheduledCallMessage_1.sendScheduledCallMessage; } }));
var sendTextMessage_1 = __webpack_require__(/*! ./sendTextMessage */ "./src/chat/functions/sendTextMessage.ts");
Object.defineProperty(exports, "sendTextMessage", ({ enumerable: true, get: function () { return sendTextMessage_1.sendTextMessage; } }));
var sendVCardContactMessage_1 = __webpack_require__(/*! ./sendVCardContactMessage */ "./src/chat/functions/sendVCardContactMessage.ts");
Object.defineProperty(exports, "sendVCardContactMessage", ({ enumerable: true, get: function () { return sendVCardContactMessage_1.sendVCardContactMessage; } }));
var setChatList_1 = __webpack_require__(/*! ./setChatList */ "./src/chat/functions/setChatList.ts");
Object.defineProperty(exports, "setChatList", ({ enumerable: true, get: function () { return setChatList_1.setChatList; } }));
var setInputText_1 = __webpack_require__(/*! ./setInputText */ "./src/chat/functions/setInputText.ts");
Object.defineProperty(exports, "setInputText", ({ enumerable: true, get: function () { return setInputText_1.setInputText; } }));
var setNotes_1 = __webpack_require__(/*! ./setNotes */ "./src/chat/functions/setNotes.ts");
Object.defineProperty(exports, "setNotes", ({ enumerable: true, get: function () { return setNotes_1.setNotes; } }));
var starMessage_1 = __webpack_require__(/*! ./starMessage */ "./src/chat/functions/starMessage.ts");
Object.defineProperty(exports, "starMessage", ({ enumerable: true, get: function () { return starMessage_1.starMessage; } }));
var unmute_1 = __webpack_require__(/*! ./unmute */ "./src/chat/functions/unmute.ts");
Object.defineProperty(exports, "unmute", ({ enumerable: true, get: function () { return unmute_1.unmute; } }));


/***/ }),

/***/ "./src/chat/functions/keepMessage.ts":
/*!*******************************************!*\
  !*** ./src/chat/functions/keepMessage.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.keepMessage = keepMessage;
const group_1 = __webpack_require__(/*! ../../group */ "./src/group/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const enums_1 = __webpack_require__(/*! ../../whatsapp/enums */ "./src/whatsapp/enums/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const getMessageById_1 = __webpack_require__(/*! ./getMessageById */ "./src/chat/functions/getMessageById.ts");
/**
 * Keep or unkeep a message in a group chat with expiration
 *
 * @example
 * ```javascript
 * // To keep a message in chat
 * WPP.chat.keepMessage('true_[number]@c.us_ABCDEF', true);
 *
 * // To unkeep a message in chat
 * WPP.chat.keepMessage('true_[number]@c.us_ABCDEF', false);
 * ```
 * @category Chat
 */
async function keepMessage(msgId, value = true) {
    const msg = await (0, getMessageById_1.getMessageById)(msgId);
    if (!(await (0, group_1.iAmAdmin)(msg.id.remote))) {
        throw new util_1.WPPError('you_not_group_admin', 'You is not a group admin');
    }
    else if (msg.isExpired()) {
        throw new util_1.WPPError('msg_expired', 'This message has expired');
    }
    else if (value) {
        await (0, functions_1.keepMessage)(msg, enums_1.KIC_ENTRY_POINT_TYPE.CHAT);
        return await (0, getMessageById_1.getMessageById)(msgId);
    }
    else {
        await (0, functions_1.undoKeepMessage)(msg, { deleteExpired: true }, enums_1.KIC_ENTRY_POINT_TYPE.CHAT);
        return await (0, getMessageById_1.getMessageById)(msgId);
    }
}


/***/ }),

/***/ "./src/chat/functions/list.ts":
/*!************************************!*\
  !*** ./src/chat/functions/list.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.list = list;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const get_1 = __webpack_require__(/*! ./get */ "./src/chat/functions/get.ts");
/**
 * Return a list of chats
 *
 * @example
 * ```javascript
 * // All chats
 * const chats = await WPP.chat.list();
 *
 * // Some chats
 * const chats = WPP.chat.list({count: 20});
 *
 * // 20 chats before specific chat
 * const chats = WPP.chat.list({count: 20, direction: 'before', id: '[number]@c.us'});
 *
 * // Only users chats
 * const chats = await WPP.chat.list({onlyUsers: true});
 *
 * // Only groups chats
 * const chats = await WPP.chat.list({onlyGroups: true});
 *
 * // Only communities chats
 * const chats = await WPP.chat.list({onlyCommunities: true});
 *
 * // Only Newsletter
 * const chats = await WPP.chat.list({onlyNewsletter: true});
 *
 * // Only with label Text
 * const chats = await WPP.chat.list({withLabels: ['Test']});
 *
 * // Only with label id
 * const chats = await WPP.chat.list({withLabels: ['1']});
 *
 * // Only with label with one of text or id
 * const chats = await WPP.chat.list({withLabels: ['Alfa','5']});
 * ```
 *
 * @category Chat
 */
async function list(options = {}) {
    // Setting the check to null, so it doesn't break existing codes.
    const count = options.count == null ? Infinity : options.count;
    const direction = options.direction === 'before' ? 'before' : 'after';
    // Getting All Chats.
    // IDK, why we use slice here. don't think its needed.
    let models = options.onlyNewsletter
        ? whatsapp_1.NewsletterStore.getModelsArray().slice()
        : whatsapp_1.ChatStore.getModelsArray().slice();
    // Filtering Based on Options.
    if (options.onlyUsers) {
        models = models.filter((c) => c.isUser);
    }
    if (options.onlyGroups) {
        models = models.filter((c) => c.isGroup);
    }
    if (options.onlyCommunities) {
        models = models.filter((c) => { var _a; return c.isGroup && ((_a = c.groupMetadata) === null || _a === void 0 ? void 0 : _a.groupType) === 'COMMUNITY'; });
    }
    if (options.onlyWithUnreadMessage) {
        models = models.filter((c) => c.hasUnread);
    }
    if (options.withLabels) {
        const ids = options.withLabels.map((value) => {
            const label = whatsapp_1.LabelStore.findFirst((l) => l.name === value);
            return label ? label.id : value;
        });
        models = models.filter((c) => { var _a; return (_a = c.labels) === null || _a === void 0 ? void 0 : _a.some((id) => ids.includes(id)); });
    }
    // Getting The Chat to start from.
    // Searching for chat (index) here, so it gets applied after all filtering.
    const indexChat = (options === null || options === void 0 ? void 0 : options.id) ? (0, get_1.get)(options.id) : null;
    const startIndex = indexChat ? models.indexOf(indexChat) : 0;
    if (direction === 'before') {
        const fixStartIndex = startIndex - count < 0 ? 0 : startIndex - count;
        const fixEndIndex = fixStartIndex + count >= startIndex ? startIndex : fixStartIndex + count;
        models = models.slice(fixStartIndex, fixEndIndex);
    }
    else {
        models = models.slice(startIndex, startIndex + count);
    }
    // Attaching Group Metadata on Found Chats.
    for (const chat of models) {
        if (chat.isGroup) {
            await whatsapp_1.GroupMetadataStore.find(chat.id);
        }
    }
    return models;
}


/***/ }),

/***/ "./src/chat/functions/markIsComposing.ts":
/*!***********************************************!*\
  !*** ./src/chat/functions/markIsComposing.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.markIsComposing = markIsComposing;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Mark a chat to composing state
 * and keep sending "is writting a message"
 *
 * @example
 * ```javascript
 * // Mark is composing
 * WPP.chat.markIsComposing('[number]@c.us');
 *
 * // Mark is composing for 5 seconds
 * WPP.chat.markIsComposing('[number]@c.us', 5000);
 * ```
 * @category Chat
 */
async function markIsComposing(chatId, duration) {
    const chat = (0, assert_1.assertGetChat)(chatId);
    await chat.presence.subscribe();
    await whatsapp_1.ChatPresence.markComposing(chat);
    if (chat.pausedTimerId) {
        clearTimeout(chat.pausedTimerId);
        chat.unset('pausedTimerId');
    }
    if (duration) {
        await new Promise((resolve) => {
            chat.pausedTimerId = setTimeout(() => {
                (0, _1.markIsPaused)(chatId).then(resolve, resolve);
            }, duration);
        });
    }
}


/***/ }),

/***/ "./src/chat/functions/markIsPaused.ts":
/*!********************************************!*\
  !*** ./src/chat/functions/markIsPaused.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.markIsPaused = markIsPaused;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Mark a chat is paused state
 *
 * @example
 * ```javascript
 * // Mark as recording
 * WPP.chat.markIsPaused('[number]@c.us');
 * ```
 * @category Chat
 */
async function markIsPaused(chatId) {
    const chat = (0, assert_1.assertGetChat)(chatId);
    await chat.presence.subscribe();
    await whatsapp_1.ChatPresence.markPaused(chat);
}


/***/ }),

/***/ "./src/chat/functions/markIsRead.ts":
/*!******************************************!*\
  !*** ./src/chat/functions/markIsRead.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.markIsRead = markIsRead;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Mark a chat as read and send SEEN event
 *
 * @example
 * ```javascript
 * // Some messages
 * WPP.chat.markIsRead('[number]@c.us');
 * ```
 * @category Chat
 */
async function markIsRead(chatId) {
    const chat = (0, assert_1.assertGetChat)(chatId);
    const unreadCount = chat.unreadCount;
    await (0, functions_1.sendSeen)(chat, false);
    return {
        wid: chat.id,
        unreadCount,
    };
}


/***/ }),

/***/ "./src/chat/functions/markIsRecording.ts":
/*!***********************************************!*\
  !*** ./src/chat/functions/markIsRecording.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.markIsRecording = markIsRecording;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Mark a chat to recording state
 * and keep sending "is recording"
 *
 * @example
 * ```javascript
 * // Mark is recording
 * WPP.chat.markIsRecording('[number]@c.us');
 *
 * // Mark is recording for 5 seconds
 * WPP.chat.markIsRecording('[number]@c.us', 5000);
 * ```
 * @category Chat
 */
async function markIsRecording(chatId, duration) {
    const chat = (0, assert_1.assertGetChat)(chatId);
    await chat.presence.subscribe();
    await whatsapp_1.ChatPresence.markRecording(chat);
    if (duration) {
        await new Promise((resolve) => {
            chat.pausedTimerId = setTimeout(() => {
                (0, _1.markIsPaused)(chatId).then(resolve, resolve);
            }, duration);
        });
    }
}


/***/ }),

/***/ "./src/chat/functions/markIsUnread.ts":
/*!********************************************!*\
  !*** ./src/chat/functions/markIsUnread.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.markIsUnread = markIsUnread;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Mark a chat as unread
 *
 * @example
 * ```javascript
 * // Some messages
 * WPP.chat.markIsUnread('[number]@c.us');
 * ```
 * @category Chat
 */
async function markIsUnread(chatId) {
    const chat = (0, assert_1.assertGetChat)(chatId);
    await (0, functions_1.markUnread)(chat, true);
    return {
        wid: chat.id,
    };
}


/***/ }),

/***/ "./src/chat/functions/markPlayed.ts":
/*!******************************************!*\
  !*** ./src/chat/functions/markPlayed.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.markPlayed = markPlayed;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const getMessageById_1 = __webpack_require__(/*! ./getMessageById */ "./src/chat/functions/getMessageById.ts");
/**
 * Mark message as played
 *
 * @example
 * ```javascript
 * WPP.chat.markPlayed('[message_id]');
 * ```
 * @category Message
 */
async function markPlayed(messageId) {
    if (!(messageId instanceof whatsapp_1.MsgModel) &&
        typeof messageId !== 'string' &&
        typeof messageId.toString === 'function') {
        messageId = messageId.toString();
    }
    const msg = messageId instanceof whatsapp_1.MsgModel
        ? messageId
        : await (0, getMessageById_1.getMessageById)(messageId.toString());
    await (0, functions_1.markPlayed)(msg);
    return await (0, getMessageById_1.getMessageById)(messageId.toString());
}


/***/ }),

/***/ "./src/chat/functions/mute.ts":
/*!************************************!*\
  !*** ./src/chat/functions/mute.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.mute = mute;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Mute a chat, you can use duration or expiration
 * For expiration, use unix timestamp (seconds only)
 * For duration, use seconds
 *
 * @example
 * ```javascript
 * // Mute for 60 seconds
 * WPP.chat.mute('[number]@c.us', {duration: 60});
 *
 * // Mute util 2021-01-01
 * WPP.chat.mute('[number]@c.us', {expiration: 1641006000});
 *
 * // or using date
 * const expiration = new Date('2022-01-01 00:00:00');
 * WPP.chat.mute('[number]@c.us', {expiration: expiration});
 * ```
 *
 * @category Chat
 */
async function mute(chatId, time) {
    const wid = (0, assert_1.assertWid)(chatId);
    const chat = (0, assert_1.assertGetChat)(wid);
    let expiration = 0;
    if ('expiration' in time) {
        if (typeof time.expiration === 'number') {
            expiration = time.expiration;
        }
        else {
            expiration = time.expiration.getTime() / 1000;
        }
    }
    else if ('duration' in time) {
        expiration = (0, functions_1.unixTime)() + time.duration;
    }
    else {
        throw new util_1.WPPError('invalid_time_mute', 'Invalid time for mute', { time });
    }
    if (expiration < (0, functions_1.unixTime)()) {
        throw new util_1.WPPError('negative_time_mute', 'Negative duration for mute', {
            time,
        });
    }
    await chat.mute.mute({
        expiration,
        isAutoMuted: false,
        sendDevice: true,
    });
    return {
        wid,
        expiration: chat.mute.expiration,
        isMuted: chat.mute.expiration !== 0,
    };
}


/***/ }),

/***/ "./src/chat/functions/openChatAt.ts":
/*!******************************************!*\
  !*** ./src/chat/functions/openChatAt.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.openChatAt = openChatAt;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Open the chat in the WhatsApp interface in a specific message
 *
 * @example
 * ```javascript
 * await WPP.chat.openChatAt('[number]@c.us', <message_id>);
 * ```
 *
 * @category Chat
 */
async function openChatAt(chatId, messageId) {
    const wid = (0, assert_1.assertWid)(chatId);
    const chat = await (0, assert_1.assertFindChat)(wid);
    const msg = await (0, _1.getMessageById)(messageId);
    try {
        const msgContext = (0, functions_1.getSearchContext)(chat, msg);
        return await whatsapp_1.Cmd.openChatAt(chat, msgContext);
    }
    catch (e) {
        const msgContext = (0, functions_1.getSearchContext)(chat, msg.id._serialized);
        return await whatsapp_1.Cmd.openChatAt({ chat, msgContext });
    }
}


/***/ }),

/***/ "./src/chat/functions/openChatBottom.ts":
/*!**********************************************!*\
  !*** ./src/chat/functions/openChatBottom.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.openChatBottom = openChatBottom;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Open the chat in the WhatsApp interface in bottom position
 *
 * @example
 * ```javascript
 * await WPP.chat.openChatBottom('[number]@c.us');
 * ```
 *
 * @category Chat
 */
async function openChatBottom(chatId) {
    const wid = (0, assert_1.assertWid)(chatId);
    const chat = await (0, assert_1.assertFindChat)(wid);
    return await whatsapp_1.Cmd.openChatBottom(chat);
}


/***/ }),

/***/ "./src/chat/functions/openChatFromUnread.ts":
/*!**************************************************!*\
  !*** ./src/chat/functions/openChatFromUnread.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.openChatFromUnread = openChatFromUnread;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Open the chat in the WhatsApp interface from first unread message
 *
 * @example
 * ```javascript
 * await WPP.chat.openChatFromUnread('[number]@c.us');
 * ```
 *
 * @category Chat
 */
async function openChatFromUnread(chatId) {
    const wid = (0, assert_1.assertWid)(chatId);
    const chat = await (0, assert_1.assertFindChat)(wid);
    return await whatsapp_1.Cmd.openChatFromUnread(chat);
}


/***/ }),

/***/ "./src/chat/functions/pin.ts":
/*!***********************************!*\
  !*** ./src/chat/functions/pin.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.pin = pin;
exports.unpin = unpin;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Pin a chat
 *
 * @example
 * ```javascript
 * // Pin a chat
 * WPP.chat.pin('[number]@c.us');
 *
 * // Unpin a chat
 * WPP.chat.pin('[number]@c.us', false);
 * // or
 * WPP.chat.unpin('[number]@c.us');
 * ```
 * @category Chat
 */
async function pin(chatId, pin = true) {
    const wid = (0, assert_1.assertWid)(chatId);
    const chat = (0, assert_1.assertGetChat)(wid);
    if (chat.pin === pin) {
        throw new util_1.WPPError(`${pin ? 'pin' : 'unpin'}_error`, `The chat ${wid.toString()} is already ${pin ? 'pinned' : 'unpinned'}`, { wid, pin: pin });
    }
    await (0, functions_1.setPin)(chat, pin);
    return {
        wid,
        pin: pin,
    };
}
/**
 * Unpin a chat
 *
 * @alias pin
 *
 * @example
 * ```javascript
 * // Unpin a chat
 * WPP.chat.unpin('[number]@c.us');
 *
 * // Alias for
 * WPP.chat.pin('[number]@c.us', false);
 * ```
 * @category Chat
 */
async function unpin(chatId) {
    return pin(chatId, false);
}


/***/ }),

/***/ "./src/chat/functions/pinMsg.ts":
/*!**************************************!*\
  !*** ./src/chat/functions/pinMsg.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.pinMsg = pinMsg;
exports.unpinMsg = unpinMsg;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const enums_1 = __webpack_require__(/*! ../../whatsapp/enums */ "./src/whatsapp/enums/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const getMessageById_1 = __webpack_require__(/*! ./getMessageById */ "./src/chat/functions/getMessageById.ts");
/**
 * Pin a message in chat
 *
 * @example
 * ```javascript
 * // Pin a message in chat
 * WPP.chat.pinMsg('true_[number]@c.us_ABCDEF');
 *
 * // Pin a message in chat for 30 days
 * WPP.chat.pinMsg('true_[number]@c.us_ABCDEF', 2592000);
 *
 * // Unpin a message
 * WPP.chat.pinMsg('true_[number]@c.us_ABCDEF', false);
 * // or
 * WPP.chat.unpinMsg('true_[number]@c.us_ABCDEF');
 * ```
 * @category Chat
 */
async function pinMsg(msgId, pin = true, seconds = 604800 // default 7 days
) {
    var _a, _b, _c, _d, _e;
    const msg = await (0, getMessageById_1.getMessageById)(msgId);
    const chat = (0, assert_1.assertGetChat)(msg.id.remote);
    const pinned = whatsapp_1.PinInChatStore.getByParentMsgKey(msg.id);
    if (chat.isNewsletter) {
        throw new util_1.WPPError(`${pin ? 'pin' : 'unpin'}_error`, `The msg ${msgId.toString()} was not pinned. Not can pin in Newsletter`, { msgId, pin: pin });
    }
    else if (chat.isGroup && !((_b = (_a = chat.groupMetadata) === null || _a === void 0 ? void 0 : _a.participants) === null || _b === void 0 ? void 0 : _b.iAmMember())) {
        throw new util_1.WPPError(`${pin ? 'pin' : 'unpin'}_error`, `You not a member of group, to pin msg ${msgId.toString()}`, { msgId, pin: pin });
    }
    else if (chat.isGroup &&
        (((_c = chat.groupMetadata) === null || _c === void 0 ? void 0 : _c.restrict) || ((_d = chat.groupMetadata) === null || _d === void 0 ? void 0 : _d.announce)) &&
        !((_e = chat.groupMetadata) === null || _e === void 0 ? void 0 : _e.participants.iAmAdmin())) {
        throw new util_1.WPPError(`${pin ? 'pin' : 'unpin'}_error`, `You not have permission to pin msg ${msgId.toString()}`, { msgId, pin: pin });
    }
    else if (msg.isNotification ||
        msg.isViewOnce ||
        msg.type === enums_1.MSG_TYPE.REVOKED ||
        ((msg === null || msg === void 0 ? void 0 : msg.ack) || 0) < enums_1.ACK.SENT) {
        throw new util_1.WPPError(`${pin ? 'pin' : 'unpin'}_error`, `The msg ${msgId.toString()} not can be pinned`, { msgId, pin: pin });
    }
    else if (pinned &&
        pinned.pinType === (pin ? enums_1.PIN_STATE.PIN : enums_1.PIN_STATE.UNPIN)) {
        throw new util_1.WPPError(`${pin ? 'pin' : 'unpin'}_error`, `The msg ${msgId.toString()} is already ${pin ? 'pinned' : 'unpinned'}`, { msgId, pin: pin });
    }
    const result = await (0, functions_1.sendPinInChatMsg)(msg, pin == true ? enums_1.PIN_STATE.PIN : enums_1.PIN_STATE.UNPIN, pin ? seconds : undefined);
    return {
        message: msg,
        pinned: result.messageSendResult === enums_1.SendMsgResult.OK ? pin : !pin,
        result: result.messageSendResult,
    };
}
/**
 * Unpin a message in chat
 *
 * @alias pin
 *
 * @example
 * ```javascript
 * // Unpin a message
 * WPP.chat.unpinMsg('true_[number]@c.us_ABCDEF');
 *
 * // Alias for
 * WPP.chat.pinMsg('true_[number]@c.us_ABCDEF', false);
 * ```
 * @category Chat
 */
async function unpinMsg(msgId) {
    return pinMsg(msgId, false);
}


/***/ }),

/***/ "./src/chat/functions/prepareAudioWaveform.ts":
/*!****************************************************!*\
  !*** ./src/chat/functions/prepareAudioWaveform.ts ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.prepareAudioWaveform = prepareAudioWaveform;
const debug_1 = __importDefault(__webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js"));
const debug = (0, debug_1.default)('WA-JS:chat:sendFileMessage');
/**
 * Prepare waveform form message audio file
 *
 * @category Message
 * @internal
 */
async function prepareAudioWaveform(options, file) {
    if (!options.isPtt || !options.waveform) {
        return;
    }
    /**
     * @see https://css-tricks.com/making-an-audio-waveform-visualizer-with-vanilla-javascript/
     */
    try {
        const audioData = await file.arrayBuffer();
        const audioContext = new AudioContext();
        const audioBuffer = await audioContext.decodeAudioData(audioData);
        const rawData = audioBuffer.getChannelData(0); // We only need to work with one channel of data
        const samples = 64; // Number of samples we want to have in our final data set
        const blockSize = Math.floor(rawData.length / samples); // the number of samples in each subdivision
        const filteredData = [];
        for (let i = 0; i < samples; i++) {
            const blockStart = blockSize * i; // the location of the first sample in the block
            let sum = 0;
            for (let j = 0; j < blockSize; j++) {
                sum = sum + Math.abs(rawData[blockStart + j]); // find the sum of all the samples in the block
            }
            filteredData.push(sum / blockSize); // divide the sum by the block size to get the average
        }
        // This guarantees that the largest data point will be set to 1, and the rest of the data will scale proportionally.
        const multiplier = Math.pow(Math.max(...filteredData), -1);
        const normalizedData = filteredData.map((n) => n * multiplier);
        // Generate waveform like WhatsApp
        const waveform = new Uint8Array(normalizedData.map((n) => Math.floor(100 * n)));
        return {
            duration: Math.floor(audioBuffer.duration),
            waveform,
        };
    }
    catch (error) {
        debug('Failed to generate waveform', error);
    }
}


/***/ }),

/***/ "./src/chat/functions/prepareLinkPreview.ts":
/*!**************************************************!*\
  !*** ./src/chat/functions/prepareLinkPreview.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.prepareLinkPreview = prepareLinkPreview;
const linkPreview_1 = __webpack_require__(/*! ../../util/linkPreview */ "./src/util/linkPreview.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const exportModule_1 = __webpack_require__(/*! ../../whatsapp/exportModule */ "./src/whatsapp/exportModule.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Prepare a message for link preview
 *
 * @category Message
 * @internal
 */
async function prepareLinkPreview(message, options) {
    if (!options.linkPreview) {
        return message;
    }
    if (options.linkPreview) {
        const override = typeof options.linkPreview === 'object' ? options.linkPreview : {};
        const text = message.type === 'chat' ? message.body : '';
        if (text) {
            try {
                const link = (0, functions_1.findFirstWebLink)(text);
                if (link) {
                    const preview = await (0, functions_1.fetchLinkPreview)(link);
                    if (preview === null || preview === void 0 ? void 0 : preview.data) {
                        options.linkPreview = Object.assign(Object.assign({}, preview.data), override);
                    }
                }
            }
            catch (error) { }
        }
    }
    if (typeof options.linkPreview === 'object') {
        message.subtype = 'url';
        message = Object.assign(Object.assign({}, message), options.linkPreview);
    }
    return message;
}
webpack.onFullReady(() => {
    (0, exportModule_1.wrapModuleFunction)(functions_1.getABPropConfigValue, (func, ...args) => {
        const [key] = args;
        switch (key) {
            case 'link_preview_wait_time':
                return 7;
        }
        return func(...args);
    });
    (0, exportModule_1.wrapModuleFunction)(functions_1.genMinimalLinkPreview, async (func, ...args) => {
        const [uri] = args;
        const url = typeof uri === 'string' ? uri : uri.url;
        // eslint-disable-next-line no-async-promise-executor
        return new Promise(async (resolve) => {
            try {
                const previewData = await (0, linkPreview_1.fetchRemoteLinkPreviewData)(url);
                if (!previewData) {
                    throw new Error(`preview not found for ${url}`);
                }
                const { imageUrl } = previewData, data = __rest(previewData, ["imageUrl"]);
                let thumbnailData = {};
                if (imageUrl) {
                    thumbnailData = await (0, linkPreview_1.generateThumbnailLinkPreviewData)(imageUrl).catch(() => null);
                }
                const result = {
                    url: url,
                    data: Object.assign(Object.assign({}, data), thumbnailData),
                };
                resolve(result);
            }
            catch (error) {
                resolve(await func(...args));
            }
        });
    });
});


/***/ }),

/***/ "./src/chat/functions/prepareMessageButtons.ts":
/*!*****************************************************!*\
  !*** ./src/chat/functions/prepareMessageButtons.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.prepareMessageButtons = prepareMessageButtons;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const contants_1 = __webpack_require__(/*! ../../whatsapp/contants */ "./src/whatsapp/contants/index.ts");
const exportModule_1 = __webpack_require__(/*! ../../whatsapp/exportModule */ "./src/whatsapp/exportModule.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const buttonsParser_1 = __webpack_require__(/*! ./buttonsParser */ "./src/chat/functions/buttonsParser.ts");
/**
 * Prepare a message for buttons
 *
 * @category Message
 * @internal
 */
function prepareMessageButtons(message, options) {
    if (!options.buttons) {
        return message;
    }
    if (!Array.isArray(options.buttons)) {
        throw new util_1.WPPError('buttons_not_a_array', 'Buttons options is not a array');
    }
    else if (message.type !== 'chat' && options.buttons.length > 2) {
        throw new util_1.WPPError('not_alowed_more_then_three_buttons', 'Not allowed more then three buttons in file messages');
    }
    else if (options.buttons.length === 0 || options.buttons.length > 3) {
        throw new util_1.WPPError('buttons_must_between_1_and_3_options', 'Buttons options must have between 1 and 3 options');
    }
    else if (options.buttons.find((i) => i.phoneNumber || i.url) &&
        options.buttons.find((i) => i.id && i.text)) {
        throw new util_1.WPPError('reply_and_cta_btn_not_allowed', 'It is not possible to send reply buttons and action buttons togetherButtons options must have between 1 and 3 options');
    }
    message.title = options.title;
    message.footer = options.footer;
    message.interactiveMessage = {
        header: {
            title: options.title || ' ',
            hasMediaAttachment: false,
        },
        body: {
            text: message.body || message.caption || ' ',
        },
        footer: {
            text: options.footer || ' ',
        },
        nativeFlowMessage: {
            buttons: options.buttons.map((button, index) => {
                if ('phoneNumber' in button) {
                    return {
                        name: 'cta_call',
                        buttonParamsJson: JSON.stringify({
                            display_text: button.text,
                            phone_number: button.phoneNumber,
                        }),
                    };
                }
                if ('url' in button) {
                    return {
                        name: 'cta_url',
                        buttonParamsJson: JSON.stringify({
                            display_text: button.text,
                            url: button.url,
                            merchant_url: button.url,
                        }),
                    };
                }
                if ('code' in button) {
                    return {
                        name: 'cta_copy',
                        buttonParamsJson: JSON.stringify({
                            display_text: button.text,
                            copy_code: button.code,
                        }),
                    };
                }
                if ('raw' in button) {
                    return button.raw;
                }
                return {
                    name: 'quick_reply',
                    buttonParamsJson: JSON.stringify({
                        display_text: button.text,
                        id: button.id || `${index}`,
                    }),
                };
            }),
        },
    };
    // This code is only for see buttons on sended device
    message.isFromTemplate = true;
    message.buttons = new whatsapp_1.TemplateButtonCollection();
    message.hydratedButtons = options.buttons.map((button, index) => {
        if ('phoneNumber' in button) {
            return {
                index: index,
                callButton: {
                    displayText: button.text,
                    phoneNumber: button.phoneNumber,
                },
            };
        }
        if ('url' in button) {
            return {
                index: index,
                urlButton: {
                    displayText: button.text,
                    url: button.url,
                },
            };
        }
        if ('code' in button) {
            return {
                index: index,
                urlButton: {
                    displayText: button.text,
                    url: `https://www.whatsapp.com/otp/code/?otp_type=COPY_CODE&code=otp${button.code}`,
                },
            };
        }
        return {
            index: index,
            quickReplyButton: {
                displayText: button.text,
                id: button.id || `${index}`,
            },
        };
    });
    message.buttons.add(message.hydratedButtons.map((e, t) => {
        var _a, _b, _c, _d;
        const i = `${null != e.index ? e.index : t}`;
        if (e.urlButton) {
            return new whatsapp_1.TemplateButtonModel({
                id: i,
                displayText: (_a = e.urlButton) === null || _a === void 0 ? void 0 : _a.displayText,
                url: (_b = e.urlButton) === null || _b === void 0 ? void 0 : _b.url,
                subtype: 'url',
            });
        }
        if (e.callButton) {
            return new whatsapp_1.TemplateButtonModel({
                id: i,
                displayText: e.callButton.displayText,
                phoneNumber: e.callButton.phoneNumber,
                subtype: 'call',
            });
        }
        return new whatsapp_1.TemplateButtonModel({
            id: i,
            displayText: (_c = e.quickReplyButton) === null || _c === void 0 ? void 0 : _c.displayText,
            selectionId: (_d = e.quickReplyButton) === null || _d === void 0 ? void 0 : _d.id,
            subtype: 'quick_reply',
        });
    }));
    return message;
}
webpack.onFullReady(() => {
    (0, exportModule_1.wrapModuleFunction)(functions_1.createMsgProtobuf, (func, ...args) => {
        var _a, _b, _c, _d;
        const [message] = args;
        const r = func(...args);
        if (((_b = (_a = message.interactiveMessage) === null || _a === void 0 ? void 0 : _a.nativeFlowMessage) === null || _b === void 0 ? void 0 : _b.buttons) !== undefined) {
            const mediaPart = [
                'documentMessage',
                'documentWithCaptionMessage',
                'imageMessage',
                'locationMessage',
                'videoMessage',
            ];
            for (let part of mediaPart) {
                if (part in r) {
                    const partName = part;
                    if (part === 'documentWithCaptionMessage')
                        part = 'documentMessage';
                    message.interactiveMessage.header = Object.assign(Object.assign({}, message.interactiveMessage.header), { [`${part}`]: ((_d = (_c = r[partName]) === null || _c === void 0 ? void 0 : _c.message) === null || _d === void 0 ? void 0 : _d.documentMessage) || r[partName], hasMediaAttachment: true });
                    delete r[partName];
                    break;
                }
            }
            if (typeof r.extendedTextMessage !== 'undefined')
                delete r.extendedTextMessage;
            if (typeof r.conversation !== 'undefined')
                delete r.conversation;
            r.viewOnceMessage = {
                message: {
                    interactiveMessage: message.interactiveMessage,
                },
            };
        }
        return r;
    });
    (0, exportModule_1.wrapModuleFunction)(functions_1.encodeMaybeMediaType, (func, ...args) => {
        const [type] = args;
        if (type === 'button') {
            return contants_1.DROP_ATTR;
        }
        return func(...args);
    });
    (0, exportModule_1.wrapModuleFunction)(functions_1.mediaTypeFromProtobuf, (func, ...args) => {
        var _a, _b, _c, _d, _e, _f;
        const [proto] = args;
        if ((_c = (_b = (_a = proto.documentWithCaptionMessage) === null || _a === void 0 ? void 0 : _a.message) === null || _b === void 0 ? void 0 : _b.templateMessage) === null || _c === void 0 ? void 0 : _c.hydratedTemplate) {
            return func((_f = (_e = (_d = proto.documentWithCaptionMessage) === null || _d === void 0 ? void 0 : _d.message) === null || _e === void 0 ? void 0 : _e.templateMessage) === null || _f === void 0 ? void 0 : _f.hydratedTemplate);
        }
        return func(...args);
    });
    (0, exportModule_1.wrapModuleFunction)(functions_1.typeAttributeFromProtobuf, (func, ...args) => {
        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
        const [proto] = args;
        if ((_a = proto === null || proto === void 0 ? void 0 : proto.viewOnceMessage) === null || _a === void 0 ? void 0 : _a.interactiveMessage) {
            const keys = Object.keys((_b = proto === null || proto === void 0 ? void 0 : proto.viewOnceMessage) === null || _b === void 0 ? void 0 : _b.interactiveMessage);
            const messagePart = [
                'documentMessage',
                'documentWithCaptionMessage',
                'imageMessage',
                'locationMessage',
                'videoMessage',
            ];
            if (messagePart.some((part) => keys.includes(part))) {
                return 'media';
            }
            return 'text';
        }
        else if ((_e = (_d = (_c = proto === null || proto === void 0 ? void 0 : proto.documentWithCaptionMessage) === null || _c === void 0 ? void 0 : _c.message) === null || _d === void 0 ? void 0 : _d.templateMessage) === null || _e === void 0 ? void 0 : _e.hydratedTemplate) {
            const keys = Object.keys((_h = (_g = (_f = proto === null || proto === void 0 ? void 0 : proto.documentWithCaptionMessage) === null || _f === void 0 ? void 0 : _f.message) === null || _g === void 0 ? void 0 : _g.templateMessage) === null || _h === void 0 ? void 0 : _h.hydratedTemplate);
            const messagePart = [
                'documentMessage',
                'imageMessage',
                'locationMessage',
                'videoMessage',
            ];
            if (messagePart.some((part) => keys.includes(part))) {
                return 'media';
            }
            return 'text';
        }
        if (((_j = proto === null || proto === void 0 ? void 0 : proto.buttonsMessage) === null || _j === void 0 ? void 0 : _j.headerType) === 1 ||
            ((_k = proto === null || proto === void 0 ? void 0 : proto.buttonsMessage) === null || _k === void 0 ? void 0 : _k.headerType) === 2) {
            return 'text';
        }
        return func(...args);
    });
    (0, exportModule_1.wrapModuleFunction)(functions_1.createFanoutMsgStanza, async (func, ...args) => {
        var _a, _b;
        let buttonNode = null;
        const proto = args[1].id ? args[2] : args[1];
        if (proto.buttonsMessage) {
            buttonNode = whatsapp_1.websocket.smax('buttons');
        }
        else if (proto.listMessage) {
            // The trick to send list message is to force the 'product_list' type in the biz node
            // const listType: number = proto.listMessage.listType || 0;
            const listType = 2;
            const types = ['unknown', 'single_select', 'product_list'];
            buttonNode = whatsapp_1.websocket.smax('list', {
                v: '2',
                type: types[listType],
            });
        }
        let node = await func(...args);
        if ((_b = (_a = proto === null || proto === void 0 ? void 0 : proto.viewOnceMessage) === null || _a === void 0 ? void 0 : _a.message) === null || _b === void 0 ? void 0 : _b.interactiveMessage) {
            node = await (0, buttonsParser_1.encryptAndParserMsgButtons)(...args, func);
        }
        if (!buttonNode) {
            return node;
        }
        const content = node.content || node.stanza.content;
        let bizNode = content.find((c) => c.tag === 'biz');
        if (!bizNode) {
            bizNode = whatsapp_1.websocket.smax('biz', {}, null);
            content.push(bizNode);
        }
        let hasButtonNode = false;
        if (Array.isArray(bizNode.content)) {
            hasButtonNode = !!bizNode.content.find((c) => c.tag === (buttonNode === null || buttonNode === void 0 ? void 0 : buttonNode.tag));
        }
        else {
            bizNode.content = [];
        }
        if (!hasButtonNode) {
            bizNode.content.push(buttonNode);
        }
        return node;
    });
    (0, exportModule_1.wrapModuleFunction)(functions_1.getABPropConfigValue, (func, ...args) => {
        const [key] = args;
        switch (key) {
            case 'web_unwrap_message_for_stanza_attributes':
                return false;
            /*case 'enable_web_calling':
              return true;*/
        }
        return func(...args);
    });
});


/***/ }),

/***/ "./src/chat/functions/prepareRawMessage.ts":
/*!*************************************************!*\
  !*** ./src/chat/functions/prepareRawMessage.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.prepareRawMessage = prepareRawMessage;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const getMyUserWid_1 = __webpack_require__(/*! ../../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const group_1 = __webpack_require__(/*! ../../group */ "./src/group/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const enums_1 = __webpack_require__(/*! ../../whatsapp/enums */ "./src/whatsapp/enums/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/chat/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Prepare a raw message
 * @category Message
 * @internal
 */
async function prepareRawMessage(chat, message, options = {}) {
    var _a, _b, _c;
    options = Object.assign(Object.assign({}, __1.defaultSendMessageOptions), options);
    message = Object.assign({ t: (0, functions_1.unixTime)(), from: (0, getMyUserWid_1.getMyUserWid)(), to: chat.id, self: 'out', isNewMsg: true, local: true, ack: enums_1.ACK.CLOCK }, message);
    if (options.delay) {
        if (message.type == 'chat') {
            await (0, _1.markIsComposing)(chat.id);
        }
        else if (options === null || options === void 0 ? void 0 : options.isPtt) {
            await (0, _1.markIsRecording)(chat.id);
        }
        await new Promise((resolve) => setTimeout(() => resolve(true), options.delay));
        await (0, _1.markIsPaused)(chat.id);
    }
    if (message.type !== 'protocol') {
        const ephemeral = (0, functions_1.getEphemeralFields)(chat);
        message = Object.assign(Object.assign({}, ephemeral), message);
    }
    /**
     * Adding fields for Chats with bots
     */
    if ((_a = chat.id) === null || _a === void 0 ? void 0 : _a.isBot()) {
        message = Object.assign(Object.assign({}, message), { messageSecret: await (0, functions_1.genBotMsgSecretFromMsgSecret)(crypto.getRandomValues(new Uint8Array(32))), botPersonaId: whatsapp_1.BotProfileStore.get((_b = chat.id) === null || _b === void 0 ? void 0 : _b.toString()).personaId });
    }
    if (options.messageId) {
        if (typeof options.messageId === 'string') {
            options.messageId = whatsapp_1.MsgKey.fromString(options.messageId);
        }
        if (!options.messageId.fromMe) {
            throw new util_1.WPPError('message_key_is_not_from_me', 'Message key is not from me', {
                messageId: options.messageId.toString(),
            });
        }
        if (!options.messageId.remote.equals(chat.id)) {
            throw new util_1.WPPError('message_key_remote_id_is_not_same_of_chat', 'Message key remote ID is not same of chat', {
                messageId: options.messageId.toString(),
            });
        }
        message.id = options.messageId;
    }
    if (!message.id) {
        message.id = await (0, _1.generateMessageID)(chat);
    }
    if (options.mentionedList && !Array.isArray(options.mentionedList)) {
        throw new util_1.WPPError('mentioned_list_is_not_array', 'The option mentionedList is not an array', {
            mentionedList: options.mentionedList,
        });
    }
    /**
     * Try to detect mentioned list from message
     */
    if (options.detectMentioned &&
        chat.isGroup &&
        (!options.mentionedList || !options.mentionedList.length)) {
        const text = message.type === 'chat' ? message.body : message.caption;
        options.mentionedList = options.mentionedList || [];
        const ids = (text === null || text === void 0 ? void 0 : text.match(/(?<=@)(\d+)\b/g)) || [];
        if (ids.length > 0) {
            const participants = (await (0, group_1.getParticipants)(chat.id)).map((p) => p.id.toString());
            for (const id of ids) {
                const wid = `${id}@c.us`;
                if (!participants.includes(wid)) {
                    continue;
                }
                options.mentionedList.push(wid);
            }
        }
    }
    /**
     * Add the metadata for  mentioned list
     */
    if (options.mentionedList) {
        const mentionedList = options.mentionedList.map((m) => m instanceof whatsapp_1.Wid ? m : (0, assert_1.assertWid)(m));
        for (const m of mentionedList) {
            if (!m.isUser()) {
                throw new util_1.WPPError('mentioned_is_not_user', 'Mentioned is not an user', {
                    mentionedId: m.toString(),
                });
            }
        }
        message.mentionedJidList = mentionedList;
    }
    /**
     * Quote a message, like a reply message
     */
    if (options.quotedMsg) {
        if (typeof options.quotedMsg === 'string') {
            options.quotedMsg = whatsapp_1.MsgKey.fromString(options.quotedMsg);
        }
        if (options.quotedMsg instanceof whatsapp_1.MsgKey) {
            options.quotedMsg = await (0, _1.getMessageById)(options.quotedMsg);
        }
        if (!(options.quotedMsg instanceof whatsapp_1.MsgModel)) {
            throw new util_1.WPPError('invalid_quoted_msg', 'Invalid quotedMsg', {
                quotedMsg: options.quotedMsg,
            });
        }
        if (!((_c = options.quotedMsg) === null || _c === void 0 ? void 0 : _c.isStatusV3) && !(0, functions_1.canReplyMsg)(options.quotedMsg)) {
            throw new util_1.WPPError('quoted_msg_can_not_reply', 'QuotedMsg can not reply', {
                quotedMsg: options.quotedMsg,
            });
        }
        message = Object.assign(Object.assign({}, message), options.quotedMsg.msgContextInfo(chat.id));
    }
    return message;
}


/***/ }),

/***/ "./src/chat/functions/requestPhoneNumber.ts":
/*!**************************************************!*\
  !*** ./src/chat/functions/requestPhoneNumber.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.requestPhoneNumber = requestPhoneNumber;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/chat/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Request the real phone number for a LID chat ([number]@lid)
 *
 * @example
 * ```javascript
 * // Request
 * WPP.chat.requestPhoneNumber('[number]@lid');
 * ```
 *
 * @category Message
 */
async function requestPhoneNumber(chatId, options = {}) {
    options = Object.assign(Object.assign({}, __1.defaultSendMessageOptions), options);
    const wid = (0, assert_1.assertWid)(chatId);
    if (!wid.isLid()) {
        throw new util_1.WPPError('not_a_lid_chat', `requestPhoneNumber should not be called for non lid chat ${wid.toString()}`);
    }
    const rawMessage = {
        type: 'request_phone_number',
    };
    return await (0, _1.sendRawMessage)(chatId, rawMessage, options);
}


/***/ }),

/***/ "./src/chat/functions/sendCatalogMessage.ts":
/*!**************************************************!*\
  !*** ./src/chat/functions/sendCatalogMessage.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendCatalogMessage = sendCatalogMessage;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/chat/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Send catalog message
 *
 * @example
 * ```javascript
 * WPP.chat.sendCatalogMessage(
 *  '[number]@c.us',
 *  '[number]@c.us',
 * {
 *   title: 'My Catalog',
 *   description: 'This is my catalog',
 *   textMessage: 'Check out my catalog',
 *   jpegThumbnail: 'data:image/jpeg;base64,...'
 * }
 * );
 * ```
 *
 * @category Message
 */
async function sendCatalogMessage(chatToSend, chatFromCatalog, opts) {
    var _a, _b, _c, _d;
    const options = Object.assign(Object.assign({}, __1.defaultSendMessageOptions), opts);
    chatToSend = (0, assert_1.assertWid)(chatToSend);
    chatFromCatalog = (0, assert_1.assertWid)(chatFromCatalog);
    const catalog = whatsapp_1.CatalogStore.get(chatFromCatalog);
    if (!options.jpegThumbnail) {
        const url = (_b = (_a = catalog === null || catalog === void 0 ? void 0 : catalog.productCollection) === null || _a === void 0 ? void 0 : _a._models[0]) === null || _b === void 0 ? void 0 : _b.imageCdnUrl;
        if (url) {
            try {
                const download = await (0, util_1.downloadImage)(url);
                options.jpegThumbnail = download.data.split(',', 2)[1];
            }
            catch (error) { }
        }
    }
    const catalogLink = `https://wa.me/c/${chatFromCatalog.toString().split('@')[0]}`;
    let rawMessage = {};
    rawMessage = {
        type: 'chat',
        description: (_c = options === null || options === void 0 ? void 0 : options.description) !== null && _c !== void 0 ? _c : 'Learn more about this catalog',
        matchedText: catalogLink,
        subtype: 'url',
        thumbnail: options.jpegThumbnail,
        thumbnailHeight: options.jpegThumbnail ? 100 : undefined,
        thumbnailWidth: options.jpegThumbnail ? 100 : undefined,
        title: (_d = options === null || options === void 0 ? void 0 : options.title) !== null && _d !== void 0 ? _d : `View catalog on WhatsApp`,
        body: options.textMessage
            ? `${options.textMessage}\n${catalogLink}`
            : catalogLink,
        richPreviewType: 0,
    };
    return await (0, _1.sendRawMessage)(chatToSend, rawMessage, options);
}


/***/ }),

/***/ "./src/chat/functions/sendChargeMessage.ts":
/*!*************************************************!*\
  !*** ./src/chat/functions/sendChargeMessage.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendChargeMessage = sendChargeMessage;
const getMyUserWid_1 = __webpack_require__(/*! ../../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/chat/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Send a order message
 * To send (prices, tax, shipping or discount), for example: USD 12.90, send them without dots or commas, like: 12900
 *
 * @example
 * ```javascript
 * // Send charge with a product
 * WPP.chat.sendChargeMessage('[number]@c.us', [
 *   { type: 'product', id: '67689897878', qnt: 2 },
 *   { type: 'product', id: '37878774457', qnt: 1 },
 * ]
 *
 * // Send charge with a custom item
 * WPP.chat.sendChargeMessage('[number]@c.us', [
 *   { type: 'custom', name: 'Item de cost test', price: 120000, qnt: 2 },
 * ]
 *
 * // Send charge with custom options
 * WPP.chat.sendChargeMessage('[number]@c.us', [
 *   { type: 'product', id: '37878774457', qnt: 1 },
 *   { type: 'custom', name: 'Item de cost test', price: 120000, qnt: 2 },
 * ],
 * { tax: 10000, shipping: 4000, discount: 10000 }
 *
 * // Send charge with Pix data (auto generate copy-paste pix code)
 * WPP.chat.sendChargeMessage('[number]@c.us', [
 *   { type: 'custom', name: 'Item de cost test', price: 120000, qnt: 2 },
 * ],
 * {
 *   tax: 10000,
 *   shipping: 4000,
 *   discount: 10000,
 *   pix: {
 *     keyType: 'CPF',
 *     key: '00555095999',
 *     name: 'Name of seller',
 *   },
 * });
 * ```
 * @category Message
 */
async function sendChargeMessage(chatId, items, options) {
    if (!items || !chatId)
        throw new util_1.WPPError('parameter_not_fount', 'Please, send all the required parameters');
    options = Object.assign(Object.assign({}, __1.defaultSendMessageOptions), options);
    const products = [];
    let subtotal = 0;
    let thumbDefault = null;
    const user = (0, getMyUserWid_1.getMyUserWid)();
    const catalog = whatsapp_1.CatalogStore.get(user);
    for (const product of items) {
        if (product.type == 'product') {
            const { data } = await (0, functions_1.queryProduct)(user, product.id, 100, 100, undefined, true);
            if (typeof data === 'undefined')
                throw new util_1.WPPError('product_not_found', `The product id ${product.id} not found`);
            const collection = (catalog === null || catalog === void 0 ? void 0 : catalog.productCollection).get(product.id);
            if (!thumbDefault) {
                const mediaProductImage = collection.getProductImageCollectionHead();
                thumbDefault = mediaProductImage.mediaData.preview.getBase64();
            }
            const item = {
                retailer_id: data.id,
                name: data.name,
                amount: {
                    value: Number(data.price),
                    offset: Number(options.offset) || 1000,
                },
                quantity: Number(product.qnt || 1),
                isCustomItem: false,
                isQuantitySet: true,
            };
            subtotal += Number(data.price) * Number(product.qnt || 1);
            products.push(item);
        }
        else {
            const item = {
                retailer_id: `custom-item-${(0, util_1.generateOrderUniqueId)()}`,
                name: product.name,
                amount: {
                    value: Number(product.price),
                    offset: Number(options.offset) || 1000,
                },
                quantity: Number(product.qnt || 1),
                isCustomItem: true,
                isQuantitySet: true,
            };
            subtotal += Number(product.price) * Number(product.qnt || 1);
            products.push(item);
        }
    }
    const total_amount = subtotal +
        Number((options === null || options === void 0 ? void 0 : options.tax) || 0) +
        Number((options === null || options === void 0 ? void 0 : options.shipping) || 0) -
        Number((options === null || options === void 0 ? void 0 : options.discount) || 0);
    const buttonParamsJson = {
        reference_id: (0, util_1.generateOrderUniqueId)(),
        type: 'physical-goods',
        payment_configuration: 'merchant_categorization_code',
        currency: await (0, functions_1.currencyForCountryShortcode)(await (0, functions_1.getCountryShortcodeByPhone)(whatsapp_1.UserPrefs.getMaybeMePnUser().user)),
        total_amount: {
            value: total_amount,
            offset: Number(options.offset) || 1000,
        },
        order_type: 'ORDER',
        order: {
            status: 'pending',
            items: products,
            subtotal: {
                value: Number(subtotal),
                offset: Number(options.offset) || 1000,
            },
            tax: (options === null || options === void 0 ? void 0 : options.tax)
                ? { value: options === null || options === void 0 ? void 0 : options.tax, offset: Number(options.offset) || 1000 }
                : null,
            shipping: (options === null || options === void 0 ? void 0 : options.shipping)
                ? { value: options === null || options === void 0 ? void 0 : options.shipping, offset: Number(options.offset) || 1000 }
                : null,
            discount: (options === null || options === void 0 ? void 0 : options.discount)
                ? { value: options === null || options === void 0 ? void 0 : options.discount, offset: Number(options.offset) || 1000 }
                : null,
        },
        payment_settings: typeof options.pix !== 'undefined'
            ? [
                {
                    pix_static_code: {
                        key: options.pix.key,
                        key_type: options.pix.keyType,
                        merchant_name: options.pix.name,
                    },
                    type: 'pix_static_code',
                },
                {
                    cards: {
                        enabled: true,
                    },
                    type: 'cards',
                },
            ]
            : undefined,
        external_payment_configurations: options.payment_instruction
            ? [
                {
                    type: 'payment_instruction',
                    payment_instruction: options.payment_instruction,
                },
            ]
            : undefined,
    };
    const message = {
        type: 'interactive',
        caption: options === null || options === void 0 ? void 0 : options.notes,
        nativeFlowName: 'order_details',
        interactiveType: 'native_flow',
        interactiveHeader: {
            hasmediaAttachment: false,
            mediaType: undefined,
            subtitle: undefined,
            thumbnail: thumbDefault,
            title: null,
        },
        interactivePayload: {
            buttons: [
                {
                    buttonParamsJson: JSON.stringify(buttonParamsJson),
                    name: 'review_and_pay',
                },
            ],
            messageVersion: 1,
        },
    };
    return await (0, _1.sendRawMessage)(chatId, message, options);
}


/***/ }),

/***/ "./src/chat/functions/sendCreatePollMessage.ts":
/*!*****************************************************!*\
  !*** ./src/chat/functions/sendCreatePollMessage.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendCreatePollMessage = sendCreatePollMessage;
const __1 = __webpack_require__(/*! .. */ "./src/chat/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Send a create poll message
 *
 * Note: This only works for groups
 *
 * @example
 * ```javascript
 * // Single pool
 * WPP.chat.sendCreatePollMessage(
 *  '[number]@g.us',
 *  'A poll name',
 *  ['Option 1', 'Option 2', 'Option 3']
 * );
 * ```
 * // Selectable Count
 * ```javascript
 * // Single pool
 * WPP.chat.sendCreatePollMessage(
 *  '[number]@g.us',
 *  'A poll name',
 *  ['Option 1', 'Option 2', 'Option 3'],
 *  {
 *    selectableCount: 1,
 *  }
 * );
 * ```
 *
 * @category Message
 */
async function sendCreatePollMessage(chatId, name, choices, options = {}) {
    options = Object.assign(Object.assign({}, __1.defaultSendMessageOptions), options);
    const rawMessage = {
        type: 'poll_creation',
        pollName: name,
        pollOptions: choices.map((name, localId) => ({ name, localId })),
        pollEncKey: self.crypto.getRandomValues(new Uint8Array(32)),
        pollSelectableOptionsCount: options.selectableCount || 0,
        messageSecret: self.crypto.getRandomValues(new Uint8Array(32)),
    };
    return await (0, _1.sendRawMessage)(chatId, rawMessage, options);
}


/***/ }),

/***/ "./src/chat/functions/sendEventMessage.ts":
/*!************************************************!*\
  !*** ./src/chat/functions/sendEventMessage.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendEventMessage = sendEventMessage;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/chat/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Send a Event Message
 *
 * @example
 * ```javascript
 * // Simple com start time and end
 * WPP.chat.sendEventMessage('[number]@c.us', {
 *  name: "Title of event"
 *  description: 'Description of your event',
 *  startTime: 1729551600
 *  endTime: 1729551900
 * });
 *
 * // Event with location
 * WPP.chat.sendEventMessage('[number]@c.us', {
 *  name: "Title of event"
 *  description: 'Description of your event',
 *  startTime: 1729551600
 *  location: {
 *   degreesLatitude: -22.9518551,
 *   degreesLongitude: -43.2108338,
 *   name: 'Cristo Redentor - RJ',
 *  }
 * });
 *
 * // Event with link for call (use voice or video)
 * WPP.chat.sendEventMessage('[number]@c.us', {
 *  name: "Title of event"
 *  callType: 'voice',
 *  description: 'Description of your event',
 *  startTime: 1729551600
 * });
 * ```
 * @category Message
 */
async function sendEventMessage(chatId, options) {
    options = Object.assign(Object.assign({}, __1.defaultSendMessageOptions), options);
    if (typeof options.callType === 'string' &&
        options.callType != 'voice' &&
        options.callType != 'video') {
        throw new util_1.WPPError(`callType_is_invalid`, `Param callType: ${options.callType} is not a valid type call. Use voice or video`);
    }
    const date = new Date(options.startTime * 1000);
    date.setHours(date.getHours() + 2);
    const defaultEndTime = Math.floor(date.getTime() / 1000);
    const rawMessage = {
        type: 'event_creation',
        eventName: options.name || ' ',
        eventLocation: options === null || options === void 0 ? void 0 : options.location,
        eventDescription: (options === null || options === void 0 ? void 0 : options.description) || ' ',
        eventStartTime: options.startTime,
        eventEndTime: (options === null || options === void 0 ? void 0 : options.endTime) || defaultEndTime,
        isEventCanceled: false,
        callType: options.callType || 0,
        kind: 'eventCreation',
        messageSecret: crypto.getRandomValues(new Uint8Array(32)),
        viewMode: 'VISIBLE',
        eventJoinLink: typeof (options === null || options === void 0 ? void 0 : options.callType) === 'string'
            ? await (0, functions_1.createEventCallLink)(options.startTime, options.callType)
            : undefined,
    };
    return await (0, _1.sendRawMessage)(chatId, rawMessage, options);
}


/***/ }),

/***/ "./src/chat/functions/sendFileMessage.ts":
/*!***********************************************!*\
  !*** ./src/chat/functions/sendFileMessage.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendFileMessage = sendFileMessage;
const debug_1 = __importDefault(__webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js"));
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const convertToFile_1 = __webpack_require__(/*! ../../util/convertToFile */ "./src/util/convertToFile.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const enums_1 = __webpack_require__(/*! ../../whatsapp/enums */ "./src/whatsapp/enums/index.ts");
const exportModule_1 = __webpack_require__(/*! ../../whatsapp/exportModule */ "./src/whatsapp/exportModule.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/chat/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
const prepareAudioWaveform_1 = __webpack_require__(/*! ./prepareAudioWaveform */ "./src/chat/functions/prepareAudioWaveform.ts");
const debug = (0, debug_1.default)('WA-JS:message');
/**
 * Send a file message, that can be an audio, document, image, sticker or video
 *
 * @example
 * ```javascript
 * // Single document
 * WPP.chat.sendFileMessage(
 *  '[number]@c.us',
 *  'data:application/msword;base64,<a long base64 file...>',
 *  {
 *    type: 'document',
 *    caption: 'My document', // Optional
 *    filename: 'myfile.doc', // Optional
 *    mimetype: 'application/msword' // Optional
 *  }
 * );
 *
 * // Image with view once
 * WPP.chat.sendFileMessage(
 *  '[number]@c.us',
 *  'data:image/jpeg;base64,<a long base64 file...>',
 *  {
 *    type: 'image',
 *    caption: 'My image', // Optional
 *    isViewOnce: true
 *  }
 * );
 *
 * // PTT audio
 * WPP.chat.sendFileMessage(
 *  '[number]@c.us',
 *  'data:audio/mp3;base64,<a long base64 file...>',
 *  {
 *    type: 'audio',
 *    isPtt: true // false for common audio
 *  }
 * );
 *
 * // Image with view buttons
 * WPP.chat.sendFileMessage(
 *  '[number]@c.us',
 *  'data:image/jpeg;base64,<a long base64 file...>',
 *  {
 *    type: 'image',
 *    caption: 'My image'
 *    buttons: [
 *      {
 *        id: 'your custom id 1',
 *        text: 'Some text'
 *      },
 *      {
 *        id: 'another id 2',
 *        text: 'Another text'
 *      }
 *    ],
 *    footer: 'Footer text' // Optional
 *  }
 * );
 *
 * // Image as Sticker
 * WPP.chat.sendFileMessage(
 *   '[number]@c.us',
 *   'data:image/png;base64,<a long base64 file...>',
 *   {
 *     type: 'sticker'
 *   }
 * );
 *
 * // A simple video
 * WPP.chat.sendFileMessage(
 *  '[number]@c.us',
 *  'data:video/mp4;base64,<a long base64 file...>',
 *  {
 *    type: 'video',
 *  }
 * );
 *
 * // A PTV Video (micro video)
 * WPP.chat.sendFileMessage(
 *  '[number]@c.us',
 *  'data:video/mp4;base64,<a long base64 file...>',
 *  {
 *    type: 'video',
 *    isPtv: true,
 *  }
 * );
 *
 * // Media using Link, the link must be public accessible
 * // CORS must be enabled on the server and available for all domains
 * // (Access-Control-Allow-Origin: *)
 * // If the server does not have CORS enabled, you can use a public CORS proxy
 * WPP.chat.sendFileMessage(
 *  '[number]@c.us',
 *  'https://example.com/image.jpg',
 *  {
 *    type: 'image',
 *    caption: 'My image from URL', // Optional
 *  }
 * );
 * ```
 * @category Message
 * @return  {SendMessageReturn} The result
 */
async function sendFileMessage(chatId, content, options) {
    var _a, _b, _c;
    options = Object.assign(Object.assign(Object.assign({}, __1.defaultSendMessageOptions), {
        type: 'auto-detect',
        waveform: true,
    }), options);
    let chat;
    if ((chatId === null || chatId === void 0 ? void 0 : chatId.toString()) == 'status@broadcast') {
        chat = new whatsapp_1.ChatModel({
            id: (0, util_1.createWid)(functions_1.STATUS_JID),
        });
    }
    else {
        chat = await (0, assert_1.assertFindChat)(chatId);
    }
    const file = await (0, convertToFile_1.convertToFile)(content, options.mimetype, options.filename);
    const filename = file.name;
    const opaqueData = await whatsapp_1.OpaqueData.createFromData(file, file.type);
    const rawMediaOptions = {};
    let isViewOnce;
    let maxDimension;
    if (options.type === 'audio') {
        rawMediaOptions.isPtt = options.isPtt;
        if (options.isPtt) {
            isViewOnce = options.isViewOnce;
        }
        rawMediaOptions.precomputedFields = await (0, prepareAudioWaveform_1.prepareAudioWaveform)(options, file);
    }
    else if (options.type === 'image') {
        isViewOnce = options.isViewOnce;
        maxDimension = (options === null || options === void 0 ? void 0 : options.isHD) ? 2560 : 1600;
    }
    else if (options.type === 'video') {
        isViewOnce = options.isViewOnce;
        rawMediaOptions.asGif = options.isGif;
    }
    else if (options.type === 'document') {
        rawMediaOptions.asDocument = true;
    }
    else if (options.type === 'sticker') {
        rawMediaOptions.asSticker = true;
    }
    const mediaPrep = whatsapp_1.MediaPrep.prepRawMedia(opaqueData, Object.assign(Object.assign({}, rawMediaOptions), { maxDimension }));
    // The generated message in `sendToChat` is merged with `productMsgOptions`
    let rawMessage = await (0, _1.prepareRawMessage)(chat, {
        caption: options.caption || filename,
        filename: filename,
        footer: options.footer,
        isCaptionByUser: options.caption != undefined,
    }, options);
    rawMessage = (0, _1.prepareMessageButtons)(rawMessage, options);
    if (options.markIsRead) {
        debug(`marking chat is read before send file`);
        // Try to mark is read and ignore errors
        await (0, _1.markIsRead)(chat.id).catch(() => null);
    }
    await mediaPrep.waitForPrep();
    const mediaData = mediaPrep._mediaData || mediaPrep.mediaData;
    if (options === null || options === void 0 ? void 0 : options.isPtv) {
        mediaData.type = 'ptv';
        mediaData.fullHeight = 1128;
        mediaData.fullWidth = 1128;
    }
    debug(`sending message (${options.type}) with id ${rawMessage.id}`);
    const sendMsgResult = mediaPrep.sendToChat(chat, {
        caption: options.caption,
        footer: options.footer,
        isViewOnce,
        productMsgOptions: chatId === 'status@broadcast' ? undefined : rawMessage,
        addEvenWhilePreparing: false,
        type: rawMessage.type,
    });
    // Wait for message register
    let message = null;
    if (((_a = rawMessage.to) === null || _a === void 0 ? void 0 : _a.toString()) == 'status@broadcast') {
        message = await new Promise((resolve) => {
            whatsapp_1.StatusV3Store.on('change:lastReceivedKey', async function fn(chat, msgKey) {
                var _a;
                if (chat.id.toString() == ((_a = rawMessage.from) === null || _a === void 0 ? void 0 : _a.toString())) {
                    whatsapp_1.StatusV3Store.off('change:lastReceivedKey', fn);
                    const message = await (0, _1.getMessageById)(msgKey);
                    resolve(message);
                }
            });
        });
    }
    else {
        message = await new Promise((resolve) => {
            chat.msgs.on('add', function fn(msg) {
                if (msg.id === rawMessage.id) {
                    chat.msgs.off('add', fn);
                    resolve(msg);
                }
            });
        });
    }
    debug(`message file ${message.id} queued`);
    function uploadStage(mediaData, stage) {
        debug(`message file ${message.id} is ${stage}`);
    }
    message.on('change:mediaData.mediaStage', uploadStage);
    sendMsgResult.finally(() => {
        message.off('change:mediaData.mediaStage', uploadStage);
    });
    if (chatId !== 'status@broadcast') {
        if (options.waitForAck) {
            debug(`waiting ack for ${message.id}`);
            const sendResult = await sendMsgResult;
            debug(`ack received for ${message.id} (ACK: ${message.ack}, SendResult: ${sendResult})`);
        }
        return {
            id: (_b = message.id) === null || _b === void 0 ? void 0 : _b.toString(),
            ack: message.ack,
            sendMsgResult,
        };
    }
    else {
        // Forced a mode to return the ID since sendMediaResult was giving an error when sending with certain parameters.
        const msg = await new Promise((resolve, reject) => {
            const timeout = setTimeout(() => {
                reject(new util_1.WPPError('timeout_on_send_status', 'Timeout for wait response of send media status'));
            }, 30000);
            const interval = setInterval(async () => {
                const get = await (0, _1.getMessageById)(message.id);
                if (get.ack > 0) {
                    clearInterval(interval);
                    clearTimeout(timeout);
                    resolve(get);
                }
            }, 1500);
        });
        return {
            id: (_c = msg.id) === null || _c === void 0 ? void 0 : _c.toString(),
            ack: msg.ack,
            sendMsgResult: {
                messageSendResult: enums_1.SendMsgResult.OK,
            },
        };
    }
}
/**
 * Generate a white thumbnail as WhatsApp generate for video files
 */
function generateWhiteThumb(width, height, maxSize) {
    let r = null != height ? height : maxSize, i = null != width ? width : maxSize;
    r > i
        ? r > maxSize && ((i *= maxSize / r), (r = maxSize))
        : i > maxSize && ((r *= maxSize / i), (i = maxSize));
    const bounds = { width: Math.max(r, 1), height: Math.max(i, 1) };
    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = bounds.width;
    canvas.height = bounds.height;
    ctx.fillStyle = 'white';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    return {
        url: canvas.toDataURL('image/jpeg'),
        width: bounds.width,
        height: bounds.height,
        fullWidth: width,
        fullHeight: height,
    };
}
webpack.onFullReady(() => {
    (0, exportModule_1.wrapModuleFunction)(functions_1.generateVideoThumbsAndDuration, async (func, ...args) => {
        const [data] = args;
        try {
            return await func(...args);
        }
        catch (error) {
            if (typeof error.message === 'string' &&
                error.message.includes('MEDIA_ERR_SRC_NOT_SUPPORTED')) {
                try {
                    const arrayBuffer = await data.file.arrayBuffer();
                    const info = (0, util_1.getVideoInfoFromBuffer)(arrayBuffer);
                    return {
                        duration: info.duration,
                        thumbs: data.maxDimensions.map((d) => generateWhiteThumb(info.width, info.height, d)),
                    };
                }
                catch (error) {
                    console.error(error);
                }
            }
            throw error;
        }
    });
    (0, exportModule_1.wrapModuleFunction)(functions_1.processRawSticker, async (func, ...args) => {
        const [data] = args;
        const result = await func(...args);
        if (data.type() === 'image/webp') {
            const blob = data.forceToBlob();
            const buffer = await (0, util_1.blobToArrayBuffer)(blob);
            if ((0, functions_1.isAnimatedWebp)(buffer)) {
                result.mediaBlob = await whatsapp_1.OpaqueData.createFromData(blob, data.type());
            }
        }
        return result;
    });
    (0, exportModule_1.wrapModuleFunction)(functions_1.uploadMedia, async (func, ...args) => {
        const [data] = args;
        if (data.mediaType == 'ptv') {
            data.mediaType = 'video';
            return await func(data);
        }
        else {
            return await func(...args);
        }
    });
});


/***/ }),

/***/ "./src/chat/functions/sendGroupInviteMessage.ts":
/*!******************************************************!*\
  !*** ./src/chat/functions/sendGroupInviteMessage.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendGroupInviteMessage = sendGroupInviteMessage;
const contact_1 = __webpack_require__(/*! ../../contact */ "./src/contact/index.ts");
const group_1 = __webpack_require__(/*! ../../group */ "./src/group/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/chat/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Send a group invite message
 *
 * @example
 * ```javascript
 * WPP.chat.sendGroupInviteMessage(
 *  '[number]@c.us',
 *  {
 *    inviteCode: '123',
 *    groupId: '789@g.us'
 *  }
 * );
 *
 * // After a invite
 * const result = await WPP.group.addParticipants('789@g.us', '123@c.us');
 * const participant = result['123@c.us'];
 * if (participant.invite_code) {
 *   WPP.chat.sendGroupInviteMessage(
 *     '123@c.us',
 *     {
 *       inviteCode: participant.invite_code,
 *       inviteCodeExpiration: participant.invite_code_exp,
 *       groupId: '789@g.us'
 *     }
 *   );
 * }
 * ```
 *
 * @category Message
 */
async function sendGroupInviteMessage(chatId, options) {
    options = Object.assign(Object.assign({}, __1.defaultSendMessageOptions), options);
    if (!options.groupName) {
        const group = await (0, group_1.ensureGroup)(options.groupId);
        options.groupName = group.name;
    }
    if (!options.jpegThumbnail) {
        const url = await (0, contact_1.getProfilePictureUrl)(options.groupId, false);
        if (url) {
            try {
                const download = await (0, util_1.downloadImage)(url);
                options.jpegThumbnail = download.data.split(',', 2)[1];
            }
            catch (error) { }
        }
    }
    const inviteLink = `https://chat.whatsapp.com/${options.inviteCode}`;
    let rawMessage = {};
    if (options.inviteCodeExpiration) {
        rawMessage = {
            type: 'groups_v4_invite',
            inviteGrpJpegThum: options.jpegThumbnail,
            inviteCode: options.inviteCode,
            inviteCodeExp: options.inviteCodeExpiration || '',
            inviteGrp: options.groupId,
            inviteGrpName: options.groupName,
            comment: options.caption,
        };
    }
    else {
        rawMessage = {
            type: 'chat',
            subtype: 'url',
            thumbnail: options.jpegThumbnail,
            thumbnailHeight: options.jpegThumbnail ? 100 : undefined,
            thumbnailWidth: options.jpegThumbnail ? 100 : undefined,
            title: options.groupName,
            inviteGrpType: 'DEFAULT',
            canonicalUrl: `https://chat.whatsapp.com/${options.inviteCode}`,
            description: options.caption
                ? `${options.caption}\n${inviteLink}`
                : inviteLink,
            body: options.caption ? `${options.caption}\n${inviteLink}` : inviteLink,
            matchedText: `https://chat.whatsapp.com/${options.inviteCode}`,
            richPreviewType: 0,
        };
    }
    return await (0, _1.sendRawMessage)(chatId, rawMessage, options);
}


/***/ }),

/***/ "./src/chat/functions/sendListMessage.ts":
/*!***********************************************!*\
  !*** ./src/chat/functions/sendListMessage.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendListMessage = sendListMessage;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const exportModule_1 = __webpack_require__(/*! ../../whatsapp/exportModule */ "./src/whatsapp/exportModule.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/chat/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Send a list message
 *
 * @example
 * ```javascript
 * WPP.chat.sendListMessage('[number]@c.us', {
 *   buttonText: 'Click Me!', //required
 *   description: "Hello it's list message", //required
 *   title: 'Hello user', //optional
 *   footer: 'Click and choose one', //optional
 *   sections: [{
 *     title: 'Section 1',
 *     rows: [{
 *       rowId: 'rowid1',
 *       title: 'Row 1',
 *       description: "Hello it's description 1",
 *     },{
 *       rowId: 'rowid2',
 *       title: 'Row 2',
 *       description: "Hello it's description 2",
 *     }]
 *   }]
 * });
 * ```
 * @category Message
 */
async function sendListMessage(chatId, options) {
    options = Object.assign(Object.assign({}, __1.defaultSendMessageOptions), options);
    const sections = options.sections;
    if (!Array.isArray(sections)) {
        throw new util_1.WPPError('invalid_list_type', 'Sections must be an array');
    }
    if (sections.length === 0 || sections.length > 10) {
        throw new util_1.WPPError('invalid_list_size', 'Sections options must have between 1 and 10 options');
    }
    const list = {
        buttonText: options.buttonText,
        description: options.description || ' ',
        title: options.title,
        footerText: options.footer,
        listType: 1,
        sections,
    };
    const message = {
        type: 'list',
        list,
        footer: options.footer,
    };
    return await (0, _1.sendRawMessage)(chatId, message, options);
}
webpack.onFullReady(() => {
    (0, exportModule_1.wrapModuleFunction)(functions_1.typeAttributeFromProtobuf, (func, ...args) => {
        const [proto] = args;
        if (proto.listMessage) {
            return 'text';
        }
        return func(...args);
    });
});


/***/ }),

/***/ "./src/chat/functions/sendLocationMessage.ts":
/*!***************************************************!*\
  !*** ./src/chat/functions/sendLocationMessage.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendLocationMessage = sendLocationMessage;
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const exportModule_1 = __webpack_require__(/*! ../../whatsapp/exportModule */ "./src/whatsapp/exportModule.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/chat/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
const prepareMessageButtons_1 = __webpack_require__(/*! ./prepareMessageButtons */ "./src/chat/functions/prepareMessageButtons.ts");
/**
 * Send a location message
 *
 * @example
 * ```javascript
 * // full example
 * WPP.chat.sendLocationMessage('[number]@c.us', {
 *  lat: -22.95201,
 *  lng: -43.2102601,
 *  name: 'Cristo Rendentor', // optional
 *  address: 'Parque Nacional da Tijuca - Alto da Boa Vista, Rio de Janeiro - RJ', // optional
 *  url: 'https://santuariocristoredentor.com.br/' // optional
 * });
 *
 * // minimal
 * WPP.chat.sendLocationMessage('[number]@c.us', {
 *  lat: -22.95201,
 *  lng: -43.2102601,
 * });
 *
 * // name and address
 * WPP.chat.sendLocationMessage('[number]@c.us', {
 *  lat: -22.95201,
 *  lng: -43.2102601,
 *  name: 'Cristo Rendentor',
 *  address: 'Parque Nacional da Tijuca - Alto da Boa Vista, Rio de Janeiro - RJ'
 * });
 *
 * // with buttons
 * WPP.chat.sendLocationMessage('[number]@c.us', {
 *  lat: -22.95201,
 *  lng: -43.2102601,
 *  name: 'Cristo Rendentor',
 *  address: 'Parque Nacional da Tijuca - Alto da Boa Vista, Rio de Janeiro - RJ',
 *  buttons: [
 *      {
 *          url: 'https://example.test/',
 *          text: 'URL example'
 *      },
 *      {
 *          phoneNumber: '+55 12 3456 7777',
 *          text: 'Phone Number'
 *      },
 *      {
 *          id: 'id1',
 *          text: 'First'
 *      },
 *      {
 *          id: 'id2',
 *          text: 'Second'
 *      },
 *      {
 *          id: 'other',
 *          text: 'Other'
 *      }
 *  ],
 * });
 * ```
 * @category Message
 */
async function sendLocationMessage(chatId, options) {
    options = Object.assign(Object.assign({}, __1.defaultSendMessageOptions), options);
    const location = options.name && options.address
        ? `${options.name}\n${options.address}`
        : options.name || options.address || '';
    if (typeof options.lat === 'string') {
        options.lat = parseFloat(options.lat);
    }
    if (typeof options.lng === 'string') {
        options.lng = parseFloat(options.lng);
    }
    let rawMessage = {
        type: 'location',
        lat: options.lat,
        lng: options.lng,
        loc: location,
        clientUrl: options.url,
    };
    rawMessage = (0, prepareMessageButtons_1.prepareMessageButtons)(rawMessage, options);
    return await (0, _1.sendRawMessage)(chatId, rawMessage, options);
}
webpack.onFullReady(() => {
    (0, exportModule_1.wrapModuleFunction)(functions_1.mediaTypeFromProtobuf, (func, ...args) => {
        const [proto] = args;
        if (proto.locationMessage) {
            return null;
        }
        return func(...args);
    });
    (0, exportModule_1.wrapModuleFunction)(functions_1.typeAttributeFromProtobuf, (func, ...args) => {
        const [proto] = args;
        if (proto.locationMessage) {
            return 'text';
        }
        return func(...args);
    });
});


/***/ }),

/***/ "./src/chat/functions/sendPixKeyMessage.ts":
/*!*************************************************!*\
  !*** ./src/chat/functions/sendPixKeyMessage.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendPixKeyMessage = sendPixKeyMessage;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/chat/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Send a invoice message
 * To send (prices, tax, shipping or discount), for example: USD 12.90, send them without dots or commas, like: 12900
 *
 * @example
 * ```javascript
 * // Send PIX Key Message (Brazil Pix Key)
 * WPP.chat.sendPixKeyMessage('[number]@c.us', {
 *     keyType: 'CNPJ',
 *     name: 'WPPCONNECT-TEAM',
 *     key: '33460516000178',
 *     instructions: 'Pay text for instructions here',
 * });
 *
 * ```
 * @category Message
 */
async function sendPixKeyMessage(chatId, params, options) {
    if (!chatId || !params.keyType || !params.name || !params.key)
        throw new util_1.WPPError('parameter_not_fount', 'Please, send all the required parameters');
    options = Object.assign(Object.assign({}, __1.defaultSendMessageOptions), options);
    const buttonParamsJson = {
        order: {
            items: [
                {
                    name: '',
                    retailer_id: `custom-item-${(0, util_1.generateOrderUniqueId)()}`,
                    amount: {
                        offset: 1,
                        value: 0,
                    },
                    quantity: 0,
                },
            ],
            order_type: 'ORDER_WITHOUT_AMOUNT',
            status: 'payment_requested',
            subtotal: {
                value: 0,
                offset: 1,
            },
        },
        total_amount: {
            value: 0,
            offset: 1,
        },
        reference_id: (0, util_1.generateOrderUniqueId)(),
        payment_settings: [
            {
                type: 'pix_static_code',
                pix_static_code: {
                    key_type: params.keyType,
                    merchant_name: params.name,
                    key: params.key,
                },
            },
            {
                type: 'cards',
                cards: {
                    enabled: false,
                },
            },
        ],
        external_payment_configurations: [
            {
                payment_instruction: params.instructions || '',
                type: 'payment_instruction',
            },
        ],
        additional_note: '',
        currency: 'BRL',
        type: 'physical-goods',
    };
    const message = {
        type: 'interactive',
        caption: '',
        nativeFlowName: 'payment_info',
        interactiveType: 'native_flow',
        interactivePayload: {
            buttons: [
                {
                    buttonParamsJson: JSON.stringify(buttonParamsJson),
                    name: 'payment_info',
                },
            ],
            messageVersion: 1,
        },
        messageSecret: self.crypto.getRandomValues(new Uint8Array(32)),
    };
    return await (0, _1.sendRawMessage)(chatId, message, options);
}


/***/ }),

/***/ "./src/chat/functions/sendRawMessage.ts":
/*!**********************************************!*\
  !*** ./src/chat/functions/sendRawMessage.ts ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendRawMessage = sendRawMessage;
const debug_1 = __importDefault(__webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js"));
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const community_1 = __webpack_require__(/*! ../../community */ "./src/community/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const enums_1 = __webpack_require__(/*! ../../whatsapp/enums */ "./src/whatsapp/enums/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/chat/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
const debug = (0, debug_1.default)('WA-JS:message');
/**
 * Send a raw message
 *
 * @category Message
 */
async function sendRawMessage(chatId, rawMessage, options = {}) {
    var _a;
    options = Object.assign(Object.assign({}, __1.defaultSendMessageOptions), options);
    // Always use assertFindChat to properly handle @lid chats and other cases
    const chat = await (0, assert_1.assertFindChat)(chatId);
    /**
     * When the group is groupType 'COMMUNITY', its a instance of a group created, you can
     * not send message for this grouptype. You only can send message for linked announcement groups
     */
    if (chat.isGroup && chat.isParentGroup) {
        const groupData = whatsapp_1.GroupMetadataStore.get((_a = chat.id) === null || _a === void 0 ? void 0 : _a.toString());
        if ((groupData === null || groupData === void 0 ? void 0 : groupData.groupType) == 'COMMUNITY') {
            const announceGroup = (0, community_1.getAnnouncementGroup)(groupData.id);
            throw new util_1.WPPError('can_not_send_message_to_this_groupType', `You can not send message to this groupType 'COMMUNITY', send for Announcement Group. Correct announcement groupId: ${announceGroup === null || announceGroup === void 0 ? void 0 : announceGroup.toString()}`);
        }
    }
    rawMessage = await (0, _1.prepareRawMessage)(chat, rawMessage, options);
    if (options.markIsRead) {
        debug(`marking chat is read before send message`);
        // Try to mark is read and ignore errors
        await (0, _1.markIsRead)(chat.id).catch(() => null);
    }
    debug(`sending message (${rawMessage.type}) with id ${rawMessage.id}`);
    let result = null;
    if ((chat === null || chat === void 0 ? void 0 : chat.isNewsletter) && rawMessage.type) {
        const validTypes = ['chat', 'image', 'video', 'poll_creation'];
        if (!validTypes.includes(rawMessage.type))
            throw new util_1.WPPError('type_not_valid_for_newsletter', 'Please, send a valid type for send message to newsletter. Valid types: "chat", "image", "video", "poll_creation"');
        const msg = new whatsapp_1.MsgModel(rawMessage);
        await (0, functions_1.addNewsletterMsgsRecords)([await (0, functions_1.msgDataFromMsgModel)(msg)]);
        const resultNewsletter = await (0, functions_1.sendNewsletterMessageJob)({
            type: rawMessage.type == 'chat' && !rawMessage.editMsgType
                ? 'text'
                : rawMessage.type == 'poll_creation'
                    ? 'pollCreation'
                    : 'media',
            msgData: rawMessage,
            msg: new whatsapp_1.MsgModel(rawMessage),
            newsletterJid: chat.id.toString(),
        });
        chat.msgs.add(msg);
        if (resultNewsletter.success) {
            msg.t = resultNewsletter.ack.t;
            msg.serverId = resultNewsletter.serverId;
        }
        msg.updateAck(enums_1.ACK.SENT, true);
        await (0, functions_1.updateNewsletterMsgRecord)(msg);
        result = [msg, 'OK'];
    }
    else if (rawMessage.type === 'protocol' &&
        rawMessage.subtype === 'message_edit') {
        const msg = await (0, _1.getMessageById)(rawMessage.protocolMessageKey);
        await (0, functions_1.addAndSendMessageEdit)(msg, rawMessage);
        result = [await (0, _1.getMessageById)(rawMessage.protocolMessageKey), null];
    }
    else {
        result = await (0, functions_1.addAndSendMsgToChat)(chat, rawMessage);
    }
    debug(`message ${rawMessage.id} queued`);
    const message = await result[0];
    if (options.waitForAck) {
        debug(`waiting ack for ${rawMessage.id}`);
        const sendResult = await result[1];
        debug(`ack received for ${rawMessage.id} (ACK: ${message.ack}, SendResult: ${sendResult})`);
    }
    return Object.assign(Object.assign(Object.assign(Object.assign({ id: message.id.toString(), ack: message.ack }, (message.latestEditMsgKey && {
        latestEditMsgKey: message.latestEditMsgKey,
    })), (message.from && {
        from: message.from.toString(),
    })), (chat && {
        to: chat.id.toString(),
    })), { sendMsgResult: result[1] });
}


/***/ }),

/***/ "./src/chat/functions/sendReactionToMessage.ts":
/*!*****************************************************!*\
  !*** ./src/chat/functions/sendReactionToMessage.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendReactionToMessage = sendReactionToMessage;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const getMessageById_1 = __webpack_require__(/*! ./getMessageById */ "./src/chat/functions/getMessageById.ts");
/**
 * Send a reaction to a message
 *
 * Full Emoji List: https://unicode.org/emoji/charts/full-emoji-list.html
 *
 * @example
 * ```javascript
 * // to react a message
 * WPP.chat.sendReactionToMessage('[message_id]', '');
 *
 * // to remove
 * WPP.chat.sendReactionToMessage('[message_id]', false);
 *
 * ```
 * @category Message
 */
async function sendReactionToMessage(messageId, reaction) {
    if (!(messageId instanceof whatsapp_1.MsgModel) &&
        typeof messageId !== 'string' &&
        typeof messageId.toString === 'function') {
        messageId = messageId.toString();
    }
    const msg = messageId instanceof whatsapp_1.MsgModel
        ? messageId
        : await (0, getMessageById_1.getMessageById)(messageId.toString());
    if (!reaction) {
        reaction = '';
    }
    const sendMsgResult = await (0, functions_1.sendReactionToMsg)(msg, reaction);
    return {
        sendMsgResult,
    };
}


/***/ }),

/***/ "./src/chat/functions/sendScheduledCallMessage.ts":
/*!********************************************************!*\
  !*** ./src/chat/functions/sendScheduledCallMessage.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendScheduledCallMessage = sendScheduledCallMessage;
const __1 = __webpack_require__(/*! .. */ "./src/chat/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Send a scheduled call message
 *
 * @example
 * ```javascript
 * WPP.chat.sendScheduledCallMessage('[number]@c.us', {
 *  title: "Title of event call"
 *  description: 'Description for Call",
 *  callType: 'voice'
 *  scheduledTimestampMs: 1696084222000
 * });
 * ```
 * @category Message
 */
async function sendScheduledCallMessage(chatId, options) {
    var _a;
    options = Object.assign(Object.assign({ callType: 'voice' }, __1.defaultSendMessageOptions), options);
    return await (0, _1.sendEventMessage)(chatId, Object.assign(Object.assign({}, options), { name: options.title, description: options === null || options === void 0 ? void 0 : options.description, callType: options.callType, startTime: parseInt((_a = options.scheduledTimestampMs) === null || _a === void 0 ? void 0 : _a.toString()) / 1000 }));
}


/***/ }),

/***/ "./src/chat/functions/sendTextMessage.ts":
/*!***********************************************!*\
  !*** ./src/chat/functions/sendTextMessage.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendTextMessage = sendTextMessage;
const __1 = __webpack_require__(/*! .. */ "./src/chat/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Send a text message
 *
 * @example
 * ```javascript
 * WPP.chat.sendTextMessage('[number]@c.us', 'Hello new contact', {
 *   createChat: true
 * });
 *
 * // With Buttons
 * // Attention: The buttons are an alternative solution we found to make it work. There is no guarantee that they will continue functioning, or when they might stop: The only certainty is: They will stop, so use them responsibly.
 * WPP.chat.sendTextMessage('[number]@c.us', 'Hello', {
 *   useInteractiveMessage: true, // False for legacy
 *   buttons: [
 *     {
 *       url: 'https://wppconnect.io/',
 *       text: 'WPPConnect Site'
 *     },
 *     {
 *       phoneNumber: '+55 11 22334455',
 *       text: 'Call me'
 *     },
 *     {
 *       id: 'your custom id 1',
 *       text: 'Some text'
 *     },
 *     {
 *       code: '789890',
 *       text: 'Another text'
 *     }
 *   ],
 *   title: 'Title text', // Optional
 *   footer: 'Footer text' // Optional
 * });
 * ```
 * @category Message
 */
async function sendTextMessage(chatId, content, options = {}) {
    options = Object.assign(Object.assign({}, __1.defaultSendMessageOptions), options);
    let rawMessage = {
        body: content,
        type: 'chat',
        subtype: null,
        urlText: null,
        urlNumber: null,
    };
    rawMessage = (0, _1.prepareMessageButtons)(rawMessage, options);
    rawMessage = await (0, _1.prepareLinkPreview)(rawMessage, options);
    return await (0, _1.sendRawMessage)(chatId, rawMessage, options);
}


/***/ }),

/***/ "./src/chat/functions/sendVCardContactMessage.ts":
/*!*******************************************************!*\
  !*** ./src/chat/functions/sendVCardContactMessage.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendVCardContactMessage = sendVCardContactMessage;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const getMyUserWid_1 = __webpack_require__(/*! ../../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/chat/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
/**
 * Send a VCard as message
 * @example
 * ```javascript
 * // single contact
 * WPP.chat.sendVCardContactMessage('[number]@c.us', {
 *   id: '123456@c.us',
 *   name: 'The Contact Name'
 * });
 *
 * // multiple contacts
 * WPP.chat.sendVCardContactMessage('[number]@c.us', [
 *   {
 *     id: '123456@c.us',
 *     name: 'The Contact Name'
 *   },
 *   {
 *     id: '456789@c.us',
 *     name: 'Another Contact'
 *   },
 * ]);
 *
 * ```
 * @category Message
 */
async function sendVCardContactMessage(chatId, contacts, options = {}) {
    options = Object.assign(Object.assign({}, __1.defaultSendMessageOptions), options);
    if (!Array.isArray(contacts)) {
        contacts = [contacts];
    }
    const vcards = [];
    for (const contact of contacts) {
        let id = '';
        let name = '';
        if (typeof contact === 'object' && 'name' in contact) {
            id = contact.id.toString();
            name = contact.name;
        }
        else {
            id = contact.toString();
        }
        let contactModel = whatsapp_1.ContactStore.get(id);
        if (!contactModel) {
            contactModel = new whatsapp_1.ContactModel({
                id: (0, assert_1.assertWid)(id),
                name,
            });
        }
        const user = (0, getMyUserWid_1.getMyUserWid)();
        if (!name && contactModel.id.equals(user)) {
            name = contactModel.displayName;
        }
        if (name) {
            // Create a clone
            contactModel = new whatsapp_1.ContactModel(contactModel.attributes);
            contactModel.name = name;
            Object.defineProperty(contactModel, 'formattedName', { value: name });
            Object.defineProperty(contactModel, 'displayName', { value: name });
        }
        vcards.push(whatsapp_1.VCard.vcardFromContactModel(contactModel));
    }
    const message = {};
    if (vcards.length === 1) {
        message.type = 'vcard';
        message.body = vcards[0].vcard;
        message.vcardFormattedName = vcards[0].displayName;
    }
    else {
        message.type = 'multi_vcard';
        message.vcardList = vcards;
    }
    return (0, _1.sendRawMessage)(chatId, message, options);
}


/***/ }),

/***/ "./src/chat/functions/setChatList.ts":
/*!*******************************************!*\
  !*** ./src/chat/functions/setChatList.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FilterChatListTypes = void 0;
exports.setChatList = setChatList;
exports.wrapShouldAppearFunction = wrapShouldAppearFunction;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const exportModule_1 = __webpack_require__(/*! ../../whatsapp/exportModule */ "./src/whatsapp/exportModule.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Set custom Chat list in panel of whatsapp
 * * @example
 * ```javascript
 * // Your custom list
 * WPP.chat.setChatList('custom', ['number@c.us', 'number2@c.us']);
 *
 * // List only with unread chats
 * WPP.chat.setChatList('unread');
 *
 * // List only with favorites chats
 * WPP.chat.setChatList('favorites');
 *
 * // List only with groups chats
 * WPP.chat.setChatList('group');
 *
 * // List only labels chat
 * WPP.chat.setChatList('labels', '454545_labelId');
 * ```
 * @category Chat
 */
let allowList = [];
let filterType = 'all';
var FilterChatListTypes;
(function (FilterChatListTypes) {
    FilterChatListTypes["ALL"] = "all";
    FilterChatListTypes["CUSTOM"] = "custom";
    FilterChatListTypes["UNREAD"] = "unread";
    FilterChatListTypes["PERSONAL"] = "personal";
    FilterChatListTypes["NON_CONTACT"] = "non_contact";
    FilterChatListTypes["GROUP"] = "group";
    FilterChatListTypes["FAVORITES"] = "favorites";
    FilterChatListTypes["CONTACT"] = "contact";
    FilterChatListTypes["BUSINESS"] = "business";
    FilterChatListTypes["BROADCAST"] = "broadcast";
    FilterChatListTypes["LABELS"] = "labels";
    FilterChatListTypes["ASSIGNED_TO_YOU"] = "assigned_to_you";
})(FilterChatListTypes || (exports.FilterChatListTypes = FilterChatListTypes = {}));
async function setChatList(type, ids) {
    filterType = type;
    if (!type) {
        throw new util_1.WPPError('send_type_filter', `Please send a valid type filter`);
    }
    else if (type == FilterChatListTypes.LABELS && !ids) {
        throw new util_1.WPPError('send_labelId', `Please send a valid label id`);
    }
    else if (type == FilterChatListTypes.CUSTOM && !ids) {
        throw new util_1.WPPError('send_ids', `Please send a valid ids`);
    }
    if (typeof ids == 'string')
        ids = [ids];
    if (type == FilterChatListTypes.CUSTOM && ids) {
        allowList = ids;
        whatsapp_1.Cmd.trigger('set_active_filter', 'unread');
        whatsapp_1.Cmd.trigger('set_active_filter');
        return {
            type: type,
            list: allowList,
        };
    }
    else if (type == FilterChatListTypes.ALL) {
        whatsapp_1.Cmd.trigger('set_active_filter');
        return {
            type: type,
        };
    }
    else if (type == FilterChatListTypes.LABELS) {
        whatsapp_1.Cmd.trigger('set_active_filter', FilterChatListTypes.LABELS, ids[0]);
        return {
            type: type,
        };
    }
    else {
        whatsapp_1.Cmd.trigger('set_active_filter', 'unread');
        whatsapp_1.Cmd.trigger('set_active_filter', type);
        return {
            type: type,
        };
    }
}
webpack.onFullReady(applyPatch, 1000);
function applyPatch() {
    (0, exportModule_1.wrapModuleFunction)(functions_1.getShouldAppearInList, (func, ...args) => {
        var _a;
        const [chat] = args;
        if (filterType === FilterChatListTypes.CUSTOM) {
            if (allowList.includes((_a = chat.id) === null || _a === void 0 ? void 0 : _a.toString())) {
                return true;
            }
            return false;
        }
        return func(...args);
    });
    /**
     * If a custom list is set and the user clicks on 'favorites' or 'unread,'
     * show the correct list, not just the allowed contacts.
     */
    (0, exportModule_1.wrapModuleFunction)(functions_1.isFilterExcludedFromSearchTreatmentInInboxFlow, async (func, ...args) => {
        const [type] = args;
        if (type === FilterChatListTypes.LABELS)
            return func(...args);
        if (filterType == FilterChatListTypes.CUSTOM) {
            filterType = FilterChatListTypes.ALL;
            whatsapp_1.Cmd.trigger('set_active_filter', 'default');
            whatsapp_1.Cmd.trigger('set_active_filter', type);
        }
        filterType = FilterChatListTypes.ALL;
        whatsapp_1.Cmd.trigger('set_active_filter', type);
        return func(...args);
    });
}
/**
 * Custom Wrap function with the callback
 *
 * This is not the best way to fix the wrapper for this function;
 * I need to improve it soon. However, the idea is to make it work.
 * Due to the lack of time and the urgency in the WhatsApp groups,
 * I'm committing it this way to provide a quick solution.
 */
function wrapShouldAppearFunction(func, callback) {
    const wrappedFunc = (...args) => {
        return callback(func, ...args);
    };
    Object.defineProperties(wrappedFunc, Object.getOwnPropertyDescriptors(functions_1.getShouldAppearInList));
    return wrappedFunc;
}


/***/ }),

/***/ "./src/chat/functions/setInputText.ts":
/*!********************************************!*\
  !*** ./src/chat/functions/setInputText.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setInputText = setInputText;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const chat_1 = __webpack_require__(/*! ../../chat */ "./src/chat/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
async function setInputText(text, chatId) {
    const chat = chatId !== undefined ? await (0, assert_1.assertFindChat)(chatId) : (0, chat_1.getActiveChat)();
    if (!chat) {
        throw new util_1.WPPError('not_in_chat', 'Not active chat or invalid wid value');
    }
    else {
        if (chat === null || chat === void 0 ? void 0 : chat.active) {
            chat.setComposeContents({ text: text, timestamp: (0, functions_1.unixTime)() });
            whatsapp_1.ComposeBoxActions.setTextContent(chat, text);
            return chat.getComposeContents();
        }
        else {
            chat === null || chat === void 0 ? void 0 : chat.setComposeContents({ text: text, timestamp: (0, functions_1.unixTime)() });
            return chat.getComposeContents();
        }
    }
}


/***/ }),

/***/ "./src/chat/functions/setNotes.ts":
/*!****************************************!*\
  !*** ./src/chat/functions/setNotes.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setNotes = setNotes;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const profile_1 = __webpack_require__(/*! ../../profile */ "./src/profile/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const addOrEditNoteAction_1 = __webpack_require__(/*! ../../whatsapp/functions/addOrEditNoteAction */ "./src/whatsapp/functions/addOrEditNoteAction.ts");
/**
 * Set notes for a contact
 * Only when are connected with business device
 * @example
 * ```javascript
 * WPP.chat.setNotes('[number]@c.us', 'Text for your notes');
 * ```
 * @category Chat
 */
async function setNotes(chatId, content) {
    const chat = (0, assert_1.assertGetChat)(chatId);
    if (!(0, profile_1.isBusiness)()) {
        throw new util_1.WPPError('connected_device_not_is_business', `Connected device not is business account`);
    }
    else if (!content) {
        throw new util_1.WPPError('missing_content_for_notes', `Missing content for notes`);
    }
    else if (chat.isGroup) {
        throw new util_1.WPPError('can_not_set_notes_for_groups', `You can not set notes for groups. ChatId: ${chatId}`);
    }
    const existsNote = await (0, addOrEditNoteAction_1.retrieveOnlyNoteForChatJid)(chat.id.toJid());
    await (0, addOrEditNoteAction_1.addOrEditNoteAction)({
        actionType: existsNote ? 'edit' : 'add',
        chatJid: chat.id.toJid(),
        content,
        createdAt: Math.floor(Date.now() / 1000),
        id: existsNote === null || existsNote === void 0 ? void 0 : existsNote.id,
        noteType: 'unstructured',
    }, true);
    return await (0, addOrEditNoteAction_1.retrieveOnlyNoteForChatJid)(chat.id.toJid());
}


/***/ }),

/***/ "./src/chat/functions/starMessage.ts":
/*!*******************************************!*\
  !*** ./src/chat/functions/starMessage.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.starMessage = starMessage;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/chat/functions/index.ts");
async function starMessage(ids, star = true) {
    let isSingle = false;
    if (!Array.isArray(ids)) {
        isSingle = true;
        ids = [ids];
    }
    const allMessages = await (0, _1.getMessageById)(ids);
    // group messages by chat
    const msgsPerChat = allMessages.reduce((r, msg) => {
        const id = msg.id.remote.toString();
        r[id] = r[id] || [];
        r[id].push(msg);
        return r;
    }, {});
    const results = allMessages.map((m) => ({
        id: m.id.toString(),
        star: m.star || false,
    }));
    for (const chatId in msgsPerChat) {
        const chat = (0, assert_1.assertGetChat)(chatId);
        const msgs = msgsPerChat[chatId];
        if (star) {
            whatsapp_1.Cmd.sendStarMsgs(chat, msgs);
        }
        else {
            whatsapp_1.Cmd.sendUnstarMsgs(chat, msgs);
        }
        if (chat.promises.sendStarMsgs) {
            await chat.promises.sendStarMsgs;
        }
    }
    if (isSingle) {
        return results[0];
    }
    return results;
}


/***/ }),

/***/ "./src/chat/functions/unmute.ts":
/*!**************************************!*\
  !*** ./src/chat/functions/unmute.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.unmute = unmute;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
/**
 * Unmute a chat
 *
 * @example
 * ```javascript
 * WPP.chat.unmute('[number]@c.us');
 * ```
 *
 * @category Chat
 */
async function unmute(chatId) {
    const wid = (0, assert_1.assertWid)(chatId);
    const chat = (0, assert_1.assertGetChat)(wid);
    return chat.mute.unmute({ sendDevice: true });
}


/***/ }),

/***/ "./src/chat/index.ts":
/*!***************************!*\
  !*** ./src/chat/index.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__webpack_require__(/*! ./events */ "./src/chat/events/index.ts");
__webpack_require__(/*! ./patch */ "./src/chat/patch.ts");
__exportStar(__webpack_require__(/*! ./defaultSendMessageOptions */ "./src/chat/defaultSendMessageOptions.ts"), exports);
__exportStar(__webpack_require__(/*! ./functions */ "./src/chat/functions/index.ts"), exports);
__exportStar(__webpack_require__(/*! ./types */ "./src/chat/types.ts"), exports);


/***/ }),

/***/ "./src/chat/patch.ts":
/*!***************************!*\
  !*** ./src/chat/patch.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const webpack = __importStar(__webpack_require__(/*! ../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../whatsapp */ "./src/whatsapp/index.ts");
const exportModule_1 = __webpack_require__(/*! ../whatsapp/exportModule */ "./src/whatsapp/exportModule.ts");
const functions_1 = __webpack_require__(/*! ../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const misc_1 = __webpack_require__(/*! ../whatsapp/misc */ "./src/whatsapp/misc/index.ts");
webpack.onFullReady(applyPatch, 1000);
webpack.onFullReady(applyPatchModel);
function applyPatch() {
    (0, exportModule_1.wrapModuleFunction)(functions_1.mediaTypeFromProtobuf, (func, ...args) => {
        const [proto] = args;
        if (proto.deviceSentMessage) {
            const { message: n } = proto.deviceSentMessage;
            return n ? (0, functions_1.mediaTypeFromProtobuf)(n) : null;
        }
        if (proto.ephemeralMessage) {
            const { message: n } = proto.ephemeralMessage;
            return n ? (0, functions_1.mediaTypeFromProtobuf)(n) : null;
        }
        if (proto.viewOnceMessage) {
            const { message: n } = proto.viewOnceMessage;
            return n ? (0, functions_1.mediaTypeFromProtobuf)(n) : null;
        }
        return func(...args);
    });
    (0, exportModule_1.wrapModuleFunction)(functions_1.typeAttributeFromProtobuf, (func, ...args) => {
        const [proto] = args;
        if (proto.ephemeralMessage) {
            const { message: n } = proto.ephemeralMessage;
            return n ? (0, functions_1.typeAttributeFromProtobuf)(n) : 'text';
        }
        if (proto.deviceSentMessage) {
            const { message: n } = proto.deviceSentMessage;
            return n ? (0, functions_1.typeAttributeFromProtobuf)(n) : 'text';
        }
        if (proto.viewOnceMessage) {
            const { message: n } = proto.viewOnceMessage;
            return n ? (0, functions_1.typeAttributeFromProtobuf)(n) : 'text';
        }
        return func(...args);
    });
    /**
     * Reinforce unread messages for buttons and lists
     */
    (0, exportModule_1.wrapModuleFunction)(functions_1.isUnreadTypeMsg, (func, ...args) => {
        const [msg] = args;
        switch (msg.type) {
            case 'buttons_response':
            case 'hsm':
            case 'list':
            case 'list_response':
            case 'template_button_reply':
                return true;
        }
        return func(...args);
    });
    (0, exportModule_1.wrapModuleFunction)(functions_1.createChatRecord, async (func, ...args) => {
        const maxAttempts = 5;
        let delay = 1000;
        for (let attempt = 1; attempt <= maxAttempts; attempt++) {
            try {
                return await func(...args);
            }
            catch (err) {
                if (attempt === maxAttempts) {
                    throw err;
                }
                await new Promise((resolve) => setTimeout(resolve, delay));
                delay *= 2;
            }
        }
    });
    (0, exportModule_1.wrapModuleFunction)(functions_1.findChat, async (func, ...args) => {
        const [chatId, context] = args;
        if (!chatId.isLid()) {
            return await func(...args);
        }
        const contact = whatsapp_1.ContactStore.get(chatId);
        const existingChat = await (0, functions_1.getExisting)(chatId);
        if (!existingChat && contact) {
            // WhatsApp Web logic: For username_contactless_search context, prefer phone number if available
            // This prevents duplicate chats (one with LID, one with phone number)
            const VALID_USERNAME_ORIGINS = new Set([
                'username_change_notification',
                'username_contactless_search',
            ]);
            const phoneNumberWid = misc_1.ApiContact.getPhoneNumber(chatId);
            const shouldUsePhoneNumber = VALID_USERNAME_ORIGINS.has(context) && phoneNumberWid != null;
            if (shouldUsePhoneNumber) {
                // Use the phone number WID to create/find the chat
                // Call findChat with the phone number instead of LID
                return await (0, functions_1.findChat)(phoneNumberWid, context);
            }
            // Create with LID for other contexts
            const chatParams = { chatId };
            await (0, functions_1.createChat)(chatParams, 'createChat', {
                createdLocally: true,
                lidOriginType: 'general',
            }, {});
            return await func(...args);
        }
        return await func(...args);
    });
    (0, exportModule_1.wrapModuleFunction)(functions_1.getEnforceCurrentLid, (_func, ...args) => {
        const [UserWid] = args;
        try {
            const LID = functions_1.toUserLid ? (0, functions_1.toUserLid)(UserWid) : null;
            return LID || UserWid;
        }
        catch (_a) {
            return UserWid;
        }
    });
    (0, exportModule_1.wrapModuleFunction)(functions_1.isLidMigrated, (func, ...args) => {
        try {
            return func(...args);
        }
        catch (_a) {
            return false;
        }
    });
}
function applyPatchModel() {
    const funcs = {
        shouldAppearInList: whatsapp_1.functions.getShouldAppearInList,
        isUser: whatsapp_1.functions.getIsUser,
        isPSA: whatsapp_1.functions.getIsPSA,
        isGroup: whatsapp_1.functions.getIsGroup,
        isNewsletter: whatsapp_1.functions.getIsNewsletter,
        previewMessage: whatsapp_1.functions.getPreviewMessage,
        showChangeNumberNotification: whatsapp_1.functions.getShowChangeNumberNotification,
        hasUnread: whatsapp_1.functions.getHasUnread,
    };
    for (const attr in funcs) {
        const func = funcs[attr];
        if (typeof whatsapp_1.ChatModel.prototype[attr] === 'undefined') {
            Object.defineProperty(whatsapp_1.ChatModel.prototype, attr, {
                get: function () {
                    return func(this);
                },
                configurable: true,
            });
        }
    }
}


/***/ }),

/***/ "./src/chat/types.ts":
/*!***************************!*\
  !*** ./src/chat/types.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./src/community/functions/addSubgroups.ts":
/*!*************************************************!*\
  !*** ./src/community/functions/addSubgroups.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.addSubgroups = addSubgroups;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Add groups do community
 *
 * @example
 * ```javascript
 * await WPP.community.addSubgroups('123456@g.us', ['123456@g.us', '123456@g.us']);
 * ```
 *
 * @category Community
 */
async function addSubgroups(parentGroupId, subgroupIds) {
    if (!Array.isArray(subgroupIds)) {
        subgroupIds = [subgroupIds];
    }
    const parentWid = (0, assert_1.assertWid)(parentGroupId);
    const subGroupsWids = subgroupIds.map(assert_1.assertWid);
    return await (0, functions_1.sendLinkSubgroups)({
        parentGroupId: parentWid,
        subgroupIds: subGroupsWids,
    });
}


/***/ }),

/***/ "./src/community/functions/create.ts":
/*!*******************************************!*\
  !*** ./src/community/functions/create.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.create = create;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Create a community
 *
 * @example
 * ```javascript
 * await WPP.community.create('Name for community', 'description for community', ['123456@g.us', '123456@g.us']);
 * ```
 *
 * @category Community
 */
async function create(name, desc, subGroupsIds) {
    if (!Array.isArray(subGroupsIds)) {
        subGroupsIds = [subGroupsIds];
    }
    const subGroupsWids = subGroupsIds.map(assert_1.assertWid);
    const result = await (0, functions_1.sendCreateCommunity)({
        name: name,
        desc: desc,
        closed: false,
    });
    const linkGroups = await (0, functions_1.sendLinkSubgroups)({
        parentGroupId: result.wid,
        subgroupIds: subGroupsWids,
    });
    return {
        wid: result.wid,
        subGroups: linkGroups,
    };
}


/***/ }),

/***/ "./src/community/functions/deactivate.ts":
/*!***********************************************!*\
  !*** ./src/community/functions/deactivate.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.deactivate = deactivate;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Deactivated a community
 *
 * @example
 * ```javascript
 * await WPP.community.deactivate('123456@g.us');
 * ```
 *
 * @category Community
 */
async function deactivate(communityId) {
    const wid = (0, assert_1.assertWid)(communityId);
    return (0, functions_1.sendDeactivateCommunity)({
        parentGroupId: wid,
    });
}


/***/ }),

/***/ "./src/community/functions/demoteParticipants.ts":
/*!*******************************************************!*\
  !*** ./src/community/functions/demoteParticipants.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.demoteParticipants = demoteParticipants;
const group_1 = __webpack_require__(/*! ../../group */ "./src/group/index.ts");
const wa_functions = __importStar(__webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts"));
/**
 * Remove admin of community participant
 *
 * @example
 * ```javascript
 * await WPP.community.demoteParticipants('123456@g.us', '123456@c.us');
 * ```
 *
 * @category Community
 */
async function demoteParticipants(communityId, participantsIds) {
    const { groupChat, participants } = await (0, group_1.ensureGroupAndParticipants)(communityId, participantsIds);
    try {
        await wa_functions.demoteCommunityParticipants(groupChat, participants);
        return {
            participants: participantsIds,
            success: true,
        };
    }
    catch (error) {
        return {
            participants: participantsIds,
            success: false,
            error: error,
        };
    }
}


/***/ }),

/***/ "./src/community/functions/getAnnouncementGroup.ts":
/*!*********************************************************!*\
  !*** ./src/community/functions/getAnnouncementGroup.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getAnnouncementGroup = getAnnouncementGroup;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const getSubgroups_1 = __webpack_require__(/*! ./getSubgroups */ "./src/community/functions/getSubgroups.ts");
/**
 * Get the default announcement group of a community
 * You can pass any group id inside a community
 *
 * @example
 * ```javascript
 * WPP.community.getAnnouncementGroup('123456@g.us');
 * ```
 *
 * @category Community
 */
function getAnnouncementGroup(communityId) {
    const allGroups = (0, getSubgroups_1.getSubgroups)(communityId);
    for (const group of allGroups) {
        const groupData = whatsapp_1.GroupMetadataStore.get(group.toString());
        if ((groupData === null || groupData === void 0 ? void 0 : groupData.groupType) == 'LINKED_ANNOUNCEMENT_GROUP') {
            return groupData.id;
        }
    }
    return undefined;
}


/***/ }),

/***/ "./src/community/functions/getParticipants.ts":
/*!****************************************************!*\
  !*** ./src/community/functions/getParticipants.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getParticipants = getParticipants;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Get all participants of a community
 *
 * @example
 * ```javascript
 * await WPP.community.getParticipants('123456@g.us');
 * ```
 *
 * @category Community
 */
async function getParticipants(communityId) {
    const wid = (0, assert_1.assertWid)(communityId);
    return (0, functions_1.getCommunityParticipants)(wid);
}


/***/ }),

/***/ "./src/community/functions/getSubgroups.ts":
/*!*************************************************!*\
  !*** ./src/community/functions/getSubgroups.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getSubgroups = getSubgroups;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Get all subgroups of a community
 * You can pass id of group community, or id of a inside a grupo
 *
 * @example
 * ```javascript
 * await WPP.community.getSubgroups('123456@g.us');
 * ```
 *
 * @category Community
 */
function getSubgroups(communityId) {
    var _a, _b;
    const groupData = whatsapp_1.GroupMetadataStore.get(communityId.toString());
    if (!groupData) {
        throw new util_1.WPPError('group_not_exist', `GroupId ${communityId === null || communityId === void 0 ? void 0 : communityId.toString()} not exists`);
    }
    if (((_a = groupData.joinedSubgroups) === null || _a === void 0 ? void 0 : _a.length) > 0) {
        return groupData.joinedSubgroups;
    }
    else {
        const parentGroupData = whatsapp_1.GroupMetadataStore.get((_b = groupData.parentGroup) === null || _b === void 0 ? void 0 : _b.toString());
        return parentGroupData.joinedSubgroups;
    }
}


/***/ }),

/***/ "./src/community/functions/index.ts":
/*!******************************************!*\
  !*** ./src/community/functions/index.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.removeSubgroups = exports.promoteParticipants = exports.getSubgroups = exports.getParticipants = exports.getAnnouncementGroup = exports.demoteParticipants = exports.deactivate = exports.create = exports.addSubgroups = void 0;
var addSubgroups_1 = __webpack_require__(/*! ./addSubgroups */ "./src/community/functions/addSubgroups.ts");
Object.defineProperty(exports, "addSubgroups", ({ enumerable: true, get: function () { return addSubgroups_1.addSubgroups; } }));
var create_1 = __webpack_require__(/*! ./create */ "./src/community/functions/create.ts");
Object.defineProperty(exports, "create", ({ enumerable: true, get: function () { return create_1.create; } }));
var deactivate_1 = __webpack_require__(/*! ./deactivate */ "./src/community/functions/deactivate.ts");
Object.defineProperty(exports, "deactivate", ({ enumerable: true, get: function () { return deactivate_1.deactivate; } }));
var demoteParticipants_1 = __webpack_require__(/*! ./demoteParticipants */ "./src/community/functions/demoteParticipants.ts");
Object.defineProperty(exports, "demoteParticipants", ({ enumerable: true, get: function () { return demoteParticipants_1.demoteParticipants; } }));
var getAnnouncementGroup_1 = __webpack_require__(/*! ./getAnnouncementGroup */ "./src/community/functions/getAnnouncementGroup.ts");
Object.defineProperty(exports, "getAnnouncementGroup", ({ enumerable: true, get: function () { return getAnnouncementGroup_1.getAnnouncementGroup; } }));
var getParticipants_1 = __webpack_require__(/*! ./getParticipants */ "./src/community/functions/getParticipants.ts");
Object.defineProperty(exports, "getParticipants", ({ enumerable: true, get: function () { return getParticipants_1.getParticipants; } }));
var getSubgroups_1 = __webpack_require__(/*! ./getSubgroups */ "./src/community/functions/getSubgroups.ts");
Object.defineProperty(exports, "getSubgroups", ({ enumerable: true, get: function () { return getSubgroups_1.getSubgroups; } }));
var promoteParticipants_1 = __webpack_require__(/*! ./promoteParticipants */ "./src/community/functions/promoteParticipants.ts");
Object.defineProperty(exports, "promoteParticipants", ({ enumerable: true, get: function () { return promoteParticipants_1.promoteParticipants; } }));
var removeSubgroups_1 = __webpack_require__(/*! ./removeSubgroups */ "./src/community/functions/removeSubgroups.ts");
Object.defineProperty(exports, "removeSubgroups", ({ enumerable: true, get: function () { return removeSubgroups_1.removeSubgroups; } }));


/***/ }),

/***/ "./src/community/functions/promoteParticipants.ts":
/*!********************************************************!*\
  !*** ./src/community/functions/promoteParticipants.ts ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.promoteParticipants = promoteParticipants;
const group_1 = __webpack_require__(/*! ../../group */ "./src/group/index.ts");
const wa_functions = __importStar(__webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts"));
/**
 * Promote participant of community to admin
 *
 * @example
 * ```javascript
 * await WPP.community.promoteParticipants('123456@g.us', '123456@c.us');
 * ```
 *
 * @category Community
 */
async function promoteParticipants(communityId, participantsIds) {
    const { groupChat, participants } = await (0, group_1.ensureGroupAndParticipants)(communityId, participantsIds);
    return wa_functions.promoteCommunityParticipants(groupChat, participants);
}


/***/ }),

/***/ "./src/community/functions/removeSubgroups.ts":
/*!****************************************************!*\
  !*** ./src/community/functions/removeSubgroups.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.removeSubgroups = removeSubgroups;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Remove groups from community
 *
 * @example
 * ```javascript
 * await WPP.community.sendUnlinkSubgroups('123456@g.us', ['123456@g.us', '123456@g.us']);
 * ```
 *
 * @category Community
 */
async function removeSubgroups(parentGroupId, subgroupIds) {
    if (!Array.isArray(subgroupIds)) {
        subgroupIds = [subgroupIds];
    }
    const parentWid = (0, assert_1.assertWid)(parentGroupId);
    const subGroupsWids = subgroupIds.map(assert_1.assertWid);
    return await (0, functions_1.sendUnlinkSubgroups)({
        parentGroupId: parentWid,
        subgroupIds: subGroupsWids,
    });
}


/***/ }),

/***/ "./src/community/index.ts":
/*!********************************!*\
  !*** ./src/community/index.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./functions */ "./src/community/functions/index.ts"), exports);


/***/ }),

/***/ "./src/config/defaultConfig.ts":
/*!*************************************!*\
  !*** ./src/config/defaultConfig.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.defaultConfig = void 0;
exports.defaultConfig = {
    deviceName: false,
    liveLocationLimit: 10,
    disableGoogleAnalytics: false,
    googleAnalyticsId: null,
    googleAnalyticsUserProperty: {},
    linkPreviewApiServers: null,
    poweredBy: 'WA-JS',
    sendStatusToDevice: false,
    syncAllStatus: true,
};


/***/ }),

/***/ "./src/config/index.ts":
/*!*****************************!*\
  !*** ./src/config/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.config = void 0;
const eventEmitter_1 = __webpack_require__(/*! ../eventEmitter */ "./src/eventEmitter/index.ts");
const defaultConfig_1 = __webpack_require__(/*! ./defaultConfig */ "./src/config/defaultConfig.ts");
const setted = window.WPPConfig || {};
const merged = Object.assign(Object.assign({}, defaultConfig_1.defaultConfig), setted);
const createHander = (path = []) => ({
    get: (target, key) => {
        if (key == 'isProxy') {
            return true;
        }
        if (typeof target[key] === 'object' && target[key] != null) {
            return new Proxy(target[key], createHander([...path, key]));
        }
        return target[key];
    },
    set: (target, key, value) => {
        target[key] = value;
        try {
            eventEmitter_1.internalEv.emitAsync('config.update', {
                config: exports.config,
                key,
                path: [...path, key],
                target,
                value,
            });
        }
        catch (error) { }
        return true;
    },
});
exports.config = new Proxy(merged, createHander());
window.WPPConfig = exports.config;


/***/ }),

/***/ "./src/conn/events/index.ts":
/*!**********************************!*\
  !*** ./src/conn/events/index.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
__webpack_require__(/*! ./registerAuthCodeChangeEvent */ "./src/conn/events/registerAuthCodeChangeEvent.ts");
__webpack_require__(/*! ./registerAuthenticatedEvent */ "./src/conn/events/registerAuthenticatedEvent.ts");
__webpack_require__(/*! ./registerLogoutEvent */ "./src/conn/events/registerLogoutEvent.ts");
__webpack_require__(/*! ./registerLogoutReasonEvent */ "./src/conn/events/registerLogoutReasonEvent.ts");
__webpack_require__(/*! ./registerMainInit */ "./src/conn/events/registerMainInit.ts");
__webpack_require__(/*! ./registerMainLoadedEvent */ "./src/conn/events/registerMainLoadedEvent.ts");
__webpack_require__(/*! ./registerMainReadyEvent */ "./src/conn/events/registerMainReadyEvent.ts");
__webpack_require__(/*! ./registerNeedsUpdateEvent */ "./src/conn/events/registerNeedsUpdateEvent.ts");
__webpack_require__(/*! ./registerOnlineEvent */ "./src/conn/events/registerOnlineEvent.ts");
__webpack_require__(/*! ./registerQRCodeIdleEvent */ "./src/conn/events/registerQRCodeIdleEvent.ts");
__webpack_require__(/*! ./registerRequireAuthEvent */ "./src/conn/events/registerRequireAuthEvent.ts");


/***/ }),

/***/ "./src/conn/events/registerAuthCodeChangeEvent.ts":
/*!********************************************************!*\
  !*** ./src/conn/events/registerAuthCodeChangeEvent.ts ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/conn/index.ts");
webpack.onInjected(registerAuthCodeChangeEvent);
function registerAuthCodeChangeEvent() {
    const trigger = async () => {
        const authCode = await (0, __1.getAuthCode)().catch(() => null);
        eventEmitter_1.internalEv.emit('conn.auth_code_change', authCode);
    };
    trigger();
    whatsapp_1.Conn.on('change:ref', trigger);
}


/***/ }),

/***/ "./src/conn/events/registerAuthenticatedEvent.ts":
/*!*******************************************************!*\
  !*** ./src/conn/events/registerAuthenticatedEvent.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/conn/index.ts");
webpack.onInjected(register);
function register() {
    let isAuth = (0, __1.isAuthenticated)();
    const trigger = async () => {
        if (!isAuth) {
            eventEmitter_1.internalEv.emit('conn.authenticated');
            isAuth = false;
        }
    };
    if (whatsapp_1.Cmd.isMainLoaded) {
        trigger();
    }
    else {
        whatsapp_1.Cmd.on('main_loaded', trigger);
    }
    whatsapp_1.Cmd.on('logout', () => {
        isAuth = false;
    });
}


/***/ }),

/***/ "./src/conn/events/registerLogoutEvent.ts":
/*!************************************************!*\
  !*** ./src/conn/events/registerLogoutEvent.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
webpack.onInjected(registerLogoutEvent);
function registerLogoutEvent() {
    whatsapp_1.Cmd.on('logout', () => eventEmitter_1.internalEv.emit('conn.logout'));
}


/***/ }),

/***/ "./src/conn/events/registerLogoutReasonEvent.ts":
/*!******************************************************!*\
  !*** ./src/conn/events/registerLogoutReasonEvent.ts ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const exportModule_1 = __webpack_require__(/*! ../../whatsapp/exportModule */ "./src/whatsapp/exportModule.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
webpack.onInjected(registerLogoutReasonEvent);
function registerLogoutReasonEvent() {
    (0, exportModule_1.wrapModuleFunction)(functions_1.getErrorCodeFromLogoutReason, (func, ...args) => {
        const [data] = args;
        eventEmitter_1.internalEv.emit('conn.logout_reason', data);
        return func(...args);
    });
}


/***/ }),

/***/ "./src/conn/events/registerMainInit.ts":
/*!*********************************************!*\
  !*** ./src/conn/events/registerMainInit.ts ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const functions_1 = __webpack_require__(/*! ../functions */ "./src/conn/functions/index.ts");
webpack.onInjected(register);
function register() {
    const check = setInterval(() => {
        if ((0, functions_1.isMainInit)()) {
            clearInterval(check);
            eventEmitter_1.internalEv.emit('conn.main_init');
        }
    }, 100);
}


/***/ }),

/***/ "./src/conn/events/registerMainLoadedEvent.ts":
/*!****************************************************!*\
  !*** ./src/conn/events/registerMainLoadedEvent.ts ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
webpack.onInjected(register);
function register() {
    const trigger = async () => {
        eventEmitter_1.internalEv.emit('conn.main_loaded');
    };
    if (whatsapp_1.Cmd.isMainLoaded) {
        trigger();
    }
    else {
        whatsapp_1.Cmd.on('main_loaded', trigger);
    }
}


/***/ }),

/***/ "./src/conn/events/registerMainReadyEvent.ts":
/*!***************************************************!*\
  !*** ./src/conn/events/registerMainReadyEvent.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
webpack.onInjected(register);
let isMainReady = false;
function register() {
    const trigger = async () => {
        if (!isMainReady) {
            isMainReady = true;
            setTimeout(() => (isMainReady = false), 1000);
            eventEmitter_1.internalEv.emit('conn.main_ready');
        }
    };
    if (whatsapp_1.Stream.mode === 'MAIN') {
        trigger();
    }
    else {
        whatsapp_1.Cmd.on('main_stream_mode_ready', trigger);
        whatsapp_1.Cmd.on('main_stream_mode_ready_legacy', trigger);
    }
}


/***/ }),

/***/ "./src/conn/events/registerNeedsUpdateEvent.ts":
/*!*****************************************************!*\
  !*** ./src/conn/events/registerNeedsUpdateEvent.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
webpack.onInjected(register);
function register() {
    const trigger = async () => {
        eventEmitter_1.internalEv.emit('conn.needs_update');
    };
    if (whatsapp_1.Stream.needsUpdate) {
        trigger();
    }
    else {
        whatsapp_1.Stream.on('change:needsUpdate', trigger);
    }
}


/***/ }),

/***/ "./src/conn/events/registerOnlineEvent.ts":
/*!************************************************!*\
  !*** ./src/conn/events/registerOnlineEvent.ts ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
webpack.onInjected(register);
function register() {
    whatsapp_1.NetworkStatus.on('change:online', (model, online) => {
        eventEmitter_1.internalEv.emit('conn.online', online);
    });
}


/***/ }),

/***/ "./src/conn/events/registerQRCodeIdleEvent.ts":
/*!****************************************************!*\
  !*** ./src/conn/events/registerQRCodeIdleEvent.ts ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/conn/index.ts");
webpack.onInjected(registerQRCodeIdleEvent);
function registerQRCodeIdleEvent() {
    const trigger = async () => {
        const idle = (0, __1.isIdle)();
        if (idle) {
            eventEmitter_1.internalEv.emit('conn.qrcode_idle');
        }
    };
    trigger();
    whatsapp_1.Socket.on('change:state', trigger);
}


/***/ }),

/***/ "./src/conn/events/registerRequireAuthEvent.ts":
/*!*****************************************************!*\
  !*** ./src/conn/events/registerRequireAuthEvent.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const SOCKET_STATE_1 = __webpack_require__(/*! ../../whatsapp/enums/SOCKET_STATE */ "./src/whatsapp/enums/SOCKET_STATE.ts");
const __1 = __webpack_require__(/*! .. */ "./src/conn/index.ts");
webpack.onInjected(registerRequireAuthEvent);
function registerRequireAuthEvent() {
    let fired = false;
    const trigger = async () => {
        if ((0, __1.isAuthenticated)()) {
            fired = false;
            return;
        }
        if (fired) {
            return;
        }
        if (whatsapp_1.Socket.state === SOCKET_STATE_1.SOCKET_STATE.UNPAIRED ||
            whatsapp_1.Socket.state === SOCKET_STATE_1.SOCKET_STATE.UNPAIRED_IDLE) {
            fired = true;
            eventEmitter_1.internalEv.emit('conn.require_auth');
        }
    };
    trigger();
    whatsapp_1.Socket.on('change:state', trigger);
}


/***/ }),

/***/ "./src/conn/functions/changeEnviromentDevice.ts":
/*!******************************************************!*\
  !*** ./src/conn/functions/changeEnviromentDevice.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.changeEnviromentDevice = changeEnviromentDevice;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Change the current environment device between Web and Windows.
 */
function changeEnviromentDevice() {
    whatsapp_1.Enviroment.default.isWeb = !whatsapp_1.Enviroment.default.isWeb;
    whatsapp_1.Enviroment.default.isWindows = !whatsapp_1.Enviroment.default.isWindows;
}


/***/ }),

/***/ "./src/conn/functions/genLinkDeviceCodeForPhoneNumber.ts":
/*!***************************************************************!*\
  !*** ./src/conn/functions/genLinkDeviceCodeForPhoneNumber.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.genLinkDeviceCodeForPhoneNumber = genLinkDeviceCodeForPhoneNumber;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/conn/functions/index.ts");
/**
 * Alternative login method using code
 * Get the Link Device Code for Authentication using the phone number
 *
 * @example
 * ```javascript
 * const code = await WPP.conn.genLinkDeviceCodeForPhoneNumber('[number]');
 *
 * // Disable push notification
 * const code = await WPP.conn.genLinkDeviceCodeForPhoneNumber('[number]', false);
 * ```
 *
 * @category Conn
 */
async function genLinkDeviceCodeForPhoneNumber(phone, sendPushNotification = true) {
    if (!phone || typeof phone !== 'string') {
        throw new util_1.WPPError('send_the_phone_number_to_connect', "Can't get code for without phone number param");
    }
    if ((0, _1.isAuthenticated)()) {
        throw new util_1.WPPError('cannot_get_code_for_already_authenticated', "Can't get code for already authenticated user");
    }
    await whatsapp_1.functions.initializeAltDeviceLinking();
    return await whatsapp_1.functions.genLinkDeviceCodeForPhoneNumber(phone, sendPushNotification);
}


/***/ }),

/***/ "./src/conn/functions/getAuthCode.ts":
/*!*******************************************!*\
  !*** ./src/conn/functions/getAuthCode.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getAuthCode = getAuthCode;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const multidevice_1 = __webpack_require__(/*! ../../whatsapp/multidevice */ "./src/whatsapp/multidevice/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/conn/functions/index.ts");
/**
 * Return the current auth code
 *
 * @example
 * ```javascript
 * const authCode = await WPP.conn.getAuthCode();
 * console.log(authCode.fullCode); // Output: a long string to generate a QRCode
 * ```
 *
 * @return  {Promise<AuthCode>}[return description]
 */
async function getAuthCode() {
    if (!whatsapp_1.Conn.ref || whatsapp_1.Conn.connected || (0, _1.isAuthenticated)() || (0, _1.isRegistered)()) {
        return null;
    }
    const ref = whatsapp_1.Conn.ref;
    if ((0, _1.isMultiDevice)()) {
        const registrationInfo = await multidevice_1.waSignalStore.getRegistrationInfo();
        const noiseInfo = await multidevice_1.waNoiseInfo.get();
        const staticKeyPair = whatsapp_1.Base64.encodeB64(noiseInfo.staticKeyPair.pubKey);
        const identityKeyPair = whatsapp_1.Base64.encodeB64(registrationInfo.identityKeyPair.pubKey);
        const secretKey = await Promise.resolve(multidevice_1.adv.getADVSecretKey());
        const fullCode = [ref, staticKeyPair, identityKeyPair, secretKey].join(',');
        return {
            type: 'multidevice',
            ref,
            staticKeyPair,
            identityKeyPair,
            secretKey,
            fullCode,
        };
    }
    return null;
}


/***/ }),

/***/ "./src/conn/functions/getHistorySyncProgress.ts":
/*!******************************************************!*\
  !*** ./src/conn/functions/getHistorySyncProgress.ts ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2025 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getHistorySyncProgress = getHistorySyncProgress;
const wa_functions = __importStar(__webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts"));
/**
 * Return the current state of syncing old messages progress
 *
 * @example
 * ```javascript
 * const info = WPP.conn.getHistorySyncProgress();
 * console.log(info.progress); // Output: 50
 * console.log(info.paused); // Output: false0
 * console.log(info.inProgress); // Output: true
 * ```
 */
function getHistorySyncProgress() {
    const info = wa_functions.getHistorySyncProgress();
    return {
        progress: info.realProgress || 0,
        paused: ((info === null || info === void 0 ? void 0 : info.remainingPausedSeconds) || 0) > 0,
        inProgress: ((info === null || info === void 0 ? void 0 : info.realProgress) || 0) < 100,
    };
}


/***/ }),

/***/ "./src/conn/functions/getMyDeviceId.ts":
/*!*********************************************!*\
  !*** ./src/conn/functions/getMyDeviceId.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getMyDeviceId = getMyDeviceId;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const getMyUserWid_1 = __webpack_require__(/*! ./getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
/**
 * Return the current logged user ID with device id
 *
 * @example
 * ```javascript
 * const wid = WPP.conn.getMyDeviceId();
 * console.log(wid.toString()); // Output: 123:4@c.us
 * ```
 */
function getMyDeviceId() {
    const user = (0, getMyUserWid_1.getMyUserWid)();
    return user ? user : whatsapp_1.UserPrefs.getMe();
}


/***/ }),

/***/ "./src/conn/functions/getMyUserId.ts":
/*!*******************************************!*\
  !*** ./src/conn/functions/getMyUserId.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getMyUserId = getMyUserId;
const getMyUserWid_1 = __webpack_require__(/*! ./getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
/**
 * Return the current logged user ID without device id
 *
 * @example
 * ```javascript
 * const wid = WPP.conn.getMyUserId();
 * console.log(wid.toString()); // Output: 123@c.us
 * ```
 */
function getMyUserId() {
    const user = (0, getMyUserWid_1.getMyUserWid)();
    return user;
}


/***/ }),

/***/ "./src/conn/functions/getMyUserWid.ts":
/*!********************************************!*\
  !*** ./src/conn/functions/getMyUserWid.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getMyUserWid = getMyUserWid;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Return the current logged user ID without device id
 *
 * @example
 * ```javascript
 * const wid = WPP.conn.getMyUserId();
 * console.log(wid.toString()); // Output: 123@c.us
 * ```
 */
function getMyUserWid() {
    const user = typeof whatsapp_1.UserPrefs.getMaybeMeUser === 'function'
        ? whatsapp_1.UserPrefs.getMaybeMeUser()
        : whatsapp_1.UserPrefs.getMaybeMePnUser();
    return user;
}


/***/ }),

/***/ "./src/conn/functions/getPlatform.ts":
/*!*******************************************!*\
  !*** ./src/conn/functions/getPlatform.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getPlatform = getPlatform;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Check what's device platform is connected
 * @returns android | iphone | wp
 *
 * @example
 * ```javascript
 * const getPlatform = WPP.conn.getPlatform();
 * ```
 */
function getPlatform() {
    return whatsapp_1.Conn.platform;
}


/***/ }),

/***/ "./src/conn/functions/index.ts":
/*!*************************************!*\
  !*** ./src/conn/functions/index.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setMultiDevice = exports.setLimit = exports.setKeepAlive = exports.refreshQR = exports.needsUpdate = exports.markUnavailable = exports.markAvailable = exports.logout = exports.joinWebBeta = exports.isRegistered = exports.isOnline = exports.isMultiDevice = exports.isMainReady = exports.isMainLoaded = exports.isMainInit = exports.isIdle = exports.isAuthenticated = exports.getPlatform = exports.getMyUserId = exports.getMyDeviceId = exports.getHistorySyncProgress = exports.getAuthCode = exports.genLinkDeviceCodeForPhoneNumber = exports.changeEnviromentDevice = void 0;
var changeEnviromentDevice_1 = __webpack_require__(/*! ./changeEnviromentDevice */ "./src/conn/functions/changeEnviromentDevice.ts");
Object.defineProperty(exports, "changeEnviromentDevice", ({ enumerable: true, get: function () { return changeEnviromentDevice_1.changeEnviromentDevice; } }));
var genLinkDeviceCodeForPhoneNumber_1 = __webpack_require__(/*! ./genLinkDeviceCodeForPhoneNumber */ "./src/conn/functions/genLinkDeviceCodeForPhoneNumber.ts");
Object.defineProperty(exports, "genLinkDeviceCodeForPhoneNumber", ({ enumerable: true, get: function () { return genLinkDeviceCodeForPhoneNumber_1.genLinkDeviceCodeForPhoneNumber; } }));
var getAuthCode_1 = __webpack_require__(/*! ./getAuthCode */ "./src/conn/functions/getAuthCode.ts");
Object.defineProperty(exports, "getAuthCode", ({ enumerable: true, get: function () { return getAuthCode_1.getAuthCode; } }));
var getHistorySyncProgress_1 = __webpack_require__(/*! ./getHistorySyncProgress */ "./src/conn/functions/getHistorySyncProgress.ts");
Object.defineProperty(exports, "getHistorySyncProgress", ({ enumerable: true, get: function () { return getHistorySyncProgress_1.getHistorySyncProgress; } }));
var getMyDeviceId_1 = __webpack_require__(/*! ./getMyDeviceId */ "./src/conn/functions/getMyDeviceId.ts");
Object.defineProperty(exports, "getMyDeviceId", ({ enumerable: true, get: function () { return getMyDeviceId_1.getMyDeviceId; } }));
var getMyUserId_1 = __webpack_require__(/*! ./getMyUserId */ "./src/conn/functions/getMyUserId.ts");
Object.defineProperty(exports, "getMyUserId", ({ enumerable: true, get: function () { return getMyUserId_1.getMyUserId; } }));
var getPlatform_1 = __webpack_require__(/*! ./getPlatform */ "./src/conn/functions/getPlatform.ts");
Object.defineProperty(exports, "getPlatform", ({ enumerable: true, get: function () { return getPlatform_1.getPlatform; } }));
var isAuthenticated_1 = __webpack_require__(/*! ./isAuthenticated */ "./src/conn/functions/isAuthenticated.ts");
Object.defineProperty(exports, "isAuthenticated", ({ enumerable: true, get: function () { return isAuthenticated_1.isAuthenticated; } }));
var isIdle_1 = __webpack_require__(/*! ./isIdle */ "./src/conn/functions/isIdle.ts");
Object.defineProperty(exports, "isIdle", ({ enumerable: true, get: function () { return isIdle_1.isIdle; } }));
var isMainInit_1 = __webpack_require__(/*! ./isMainInit */ "./src/conn/functions/isMainInit.ts");
Object.defineProperty(exports, "isMainInit", ({ enumerable: true, get: function () { return isMainInit_1.isMainInit; } }));
var isMainLoaded_1 = __webpack_require__(/*! ./isMainLoaded */ "./src/conn/functions/isMainLoaded.ts");
Object.defineProperty(exports, "isMainLoaded", ({ enumerable: true, get: function () { return isMainLoaded_1.isMainLoaded; } }));
var isMainReady_1 = __webpack_require__(/*! ./isMainReady */ "./src/conn/functions/isMainReady.ts");
Object.defineProperty(exports, "isMainReady", ({ enumerable: true, get: function () { return isMainReady_1.isMainReady; } }));
var isMultiDevice_1 = __webpack_require__(/*! ./isMultiDevice */ "./src/conn/functions/isMultiDevice.ts");
Object.defineProperty(exports, "isMultiDevice", ({ enumerable: true, get: function () { return isMultiDevice_1.isMultiDevice; } }));
var isOnline_1 = __webpack_require__(/*! ./isOnline */ "./src/conn/functions/isOnline.ts");
Object.defineProperty(exports, "isOnline", ({ enumerable: true, get: function () { return isOnline_1.isOnline; } }));
var isRegistered_1 = __webpack_require__(/*! ./isRegistered */ "./src/conn/functions/isRegistered.ts");
Object.defineProperty(exports, "isRegistered", ({ enumerable: true, get: function () { return isRegistered_1.isRegistered; } }));
var joinWebBeta_1 = __webpack_require__(/*! ./joinWebBeta */ "./src/conn/functions/joinWebBeta.ts");
Object.defineProperty(exports, "joinWebBeta", ({ enumerable: true, get: function () { return joinWebBeta_1.joinWebBeta; } }));
var logout_1 = __webpack_require__(/*! ./logout */ "./src/conn/functions/logout.ts");
Object.defineProperty(exports, "logout", ({ enumerable: true, get: function () { return logout_1.logout; } }));
var markAvailable_1 = __webpack_require__(/*! ./markAvailable */ "./src/conn/functions/markAvailable.ts");
Object.defineProperty(exports, "markAvailable", ({ enumerable: true, get: function () { return markAvailable_1.markAvailable; } }));
Object.defineProperty(exports, "markUnavailable", ({ enumerable: true, get: function () { return markAvailable_1.markUnavailable; } }));
var needsUpdate_1 = __webpack_require__(/*! ./needsUpdate */ "./src/conn/functions/needsUpdate.ts");
Object.defineProperty(exports, "needsUpdate", ({ enumerable: true, get: function () { return needsUpdate_1.needsUpdate; } }));
var refreshQR_1 = __webpack_require__(/*! ./refreshQR */ "./src/conn/functions/refreshQR.ts");
Object.defineProperty(exports, "refreshQR", ({ enumerable: true, get: function () { return refreshQR_1.refreshQR; } }));
var setKeepAlive_1 = __webpack_require__(/*! ./setKeepAlive */ "./src/conn/functions/setKeepAlive.ts");
Object.defineProperty(exports, "setKeepAlive", ({ enumerable: true, get: function () { return setKeepAlive_1.setKeepAlive; } }));
var setLimit_1 = __webpack_require__(/*! ./setLimit */ "./src/conn/functions/setLimit.ts");
Object.defineProperty(exports, "setLimit", ({ enumerable: true, get: function () { return setLimit_1.setLimit; } }));
var setMultiDevice_1 = __webpack_require__(/*! ./setMultiDevice */ "./src/conn/functions/setMultiDevice.ts");
Object.defineProperty(exports, "setMultiDevice", ({ enumerable: true, get: function () { return setMultiDevice_1.setMultiDevice; } }));


/***/ }),

/***/ "./src/conn/functions/isAuthenticated.ts":
/*!***********************************************!*\
  !*** ./src/conn/functions/isAuthenticated.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isAuthenticated = isAuthenticated;
const wa_functions = __importStar(__webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts"));
function isAuthenticated() {
    return wa_functions.isAuthenticated();
}


/***/ }),

/***/ "./src/conn/functions/isIdle.ts":
/*!**************************************!*\
  !*** ./src/conn/functions/isIdle.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isIdle = isIdle;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const SOCKET_STATE_1 = __webpack_require__(/*! ../../whatsapp/enums/SOCKET_STATE */ "./src/whatsapp/enums/SOCKET_STATE.ts");
function isIdle() {
    return whatsapp_1.Socket.state === SOCKET_STATE_1.SOCKET_STATE.UNPAIRED_IDLE;
}


/***/ }),

/***/ "./src/conn/functions/isMainInit.ts":
/*!******************************************!*\
  !*** ./src/conn/functions/isMainInit.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isMainInit = isMainInit;
/**
 * Check is main interface is initializing
 *
 * @example
 * ```javascript
 * const isMainInit = WPP.conn.isMainInit();
 * ```
 */
function isMainInit() {
    var _a;
    return Boolean((_a = window.Debug) === null || _a === void 0 ? void 0 : _a.VERSION);
}


/***/ }),

/***/ "./src/conn/functions/isMainLoaded.ts":
/*!********************************************!*\
  !*** ./src/conn/functions/isMainLoaded.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isMainLoaded = isMainLoaded;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Check is main interface is authenticated and loaded, bot not synced
 *
 * @example
 * ```javascript
 * const isMainLoaded = WPP.conn.isMainLoaded();
 * ```
 */
function isMainLoaded() {
    return whatsapp_1.Cmd.isMainLoaded;
}


/***/ }),

/***/ "./src/conn/functions/isMainReady.ts":
/*!*******************************************!*\
  !*** ./src/conn/functions/isMainReady.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isMainReady = isMainReady;
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
let isReady = false;
eventEmitter_1.internalEv.once('conn.main_ready', () => {
    isReady = true;
});
/**
 * Check is main interface is authenticated, loaded and synced
 *
 * @example
 * ```javascript
 * const isMainReady = WPP.conn.isMainReady();
 * ```
 */
function isMainReady() {
    return isReady;
}


/***/ }),

/***/ "./src/conn/functions/isMultiDevice.ts":
/*!*********************************************!*\
  !*** ./src/conn/functions/isMultiDevice.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isMultiDevice = isMultiDevice;
function isMultiDevice() {
    /**
     * always true for >= 2.2241.6
     */
    return true;
}


/***/ }),

/***/ "./src/conn/functions/isOnline.ts":
/*!****************************************!*\
  !*** ./src/conn/functions/isOnline.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isOnline = isOnline;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Check is online
 *
 * @example
 * ```javascript
 * const isOnline = WPP.conn.isOnline();
 * ```
 */
function isOnline() {
    return whatsapp_1.NetworkStatus.online;
}


/***/ }),

/***/ "./src/conn/functions/isRegistered.ts":
/*!********************************************!*\
  !*** ./src/conn/functions/isRegistered.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isRegistered = isRegistered;
const wa_functions = __importStar(__webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts"));
/**
 * Check is the current browser is logged before loading
 *
 * @example
 * ```javascript
 * const isRegistered = WPP.conn.isRegistered();
 * ```
 */
function isRegistered() {
    return wa_functions.isRegistered();
}


/***/ }),

/***/ "./src/conn/functions/joinWebBeta.ts":
/*!*******************************************!*\
  !*** ./src/conn/functions/joinWebBeta.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.joinWebBeta = joinWebBeta;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Join or leave of WhatsApp Web beta program.
 * Will return the value seted
 *
 * @example
 * ```javascript
 * // For join on Beta
 * WPP.conn.joinWebBeta(true);
 *
 * // For leave of Beta
 * WPP.conn.joinWebBeta(true);
 * ```
 */
async function joinWebBeta(value) {
    const initialValue = await (0, functions_1.getWhatsAppWebExternalBetaJoinedIdb)();
    if (initialValue === value)
        return initialValue;
    if (typeof value !== 'boolean') {
        throw new util_1.WPPError('value_not_a_boolean', `Value ${value || '<empty>'} is not a boolean`, {
            value,
        });
    }
    await (0, functions_1.changeOptInStatusForExternalWebBeta)(value);
    return await (0, functions_1.getWhatsAppWebExternalBetaJoinedIdb)();
}


/***/ }),

/***/ "./src/conn/functions/logout.ts":
/*!**************************************!*\
  !*** ./src/conn/functions/logout.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.logout = logout;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
async function logout() {
    whatsapp_1.Socket.logout();
    await new Promise((resolve) => {
        whatsapp_1.Cmd.once('logout', resolve);
    });
    return true;
}


/***/ }),

/***/ "./src/conn/functions/markAvailable.ts":
/*!*********************************************!*\
  !*** ./src/conn/functions/markAvailable.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.markAvailable = markAvailable;
exports.markUnavailable = markUnavailable;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Set the online state to online
 *
 * @example
 * ```javascript
 * await WPP.conn.markAvailable();
 * ```
 */
async function markAvailable(available = true) {
    Object.defineProperty(whatsapp_1.Stream, 'available', {
        get: () => available,
        set: (v) => {
            if (v != available) {
                return;
            }
            whatsapp_1.Stream.trigger('change:available');
        },
        configurable: true,
    });
    if (available) {
        whatsapp_1.Stream.markAvailable();
    }
    else {
        whatsapp_1.Stream.markUnavailable();
    }
    return true;
}
/**
 * Set the online state to offline
 *
 * @example
 * ```javascript
 * await WPP.conn.markUnavailable();
 * ```
 */
async function markUnavailable() {
    return markAvailable(false);
}


/***/ }),

/***/ "./src/conn/functions/needsUpdate.ts":
/*!*******************************************!*\
  !*** ./src/conn/functions/needsUpdate.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.needsUpdate = needsUpdate;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Check if whatsapp web is asking for update
 *
 * @example
 * ```javascript
 * const needsUpdate = WPP.conn.needsUpdate();
 * ```
 */
function needsUpdate() {
    return whatsapp_1.Stream.needsUpdate;
}


/***/ }),

/***/ "./src/conn/functions/refreshQR.ts":
/*!*****************************************!*\
  !*** ./src/conn/functions/refreshQR.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.refreshQR = refreshQR;
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/conn/functions/index.ts");
/**
 * Refresh the current QRCode when is waiting for scan and return the current code
 *
 * For legacy: It will wait for next code
 * For multidevice: It will generate a new one
 *
 * @example
 * ```javascript
 * await WPP.conn.refreshQR();
 * ```
 */
async function refreshQR() {
    if ((0, _1.isAuthenticated)()) {
        return null;
    }
    if ((0, _1.isMultiDevice)()) {
        whatsapp_1.Cmd.refreshQR();
    }
    else {
        whatsapp_1.Socket.poke();
    }
    return await eventEmitter_1.internalEv.waitFor('conn.auth_code_change').then((v) => v[0]);
}


/***/ }),

/***/ "./src/conn/functions/setKeepAlive.ts":
/*!********************************************!*\
  !*** ./src/conn/functions/setKeepAlive.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setKeepAlive = setKeepAlive;
const originalHasFocus = document.hasFocus;
let interval;
/**
 * Set keep alive state, that will force the focused and online state
 *
 * @example
 * ```javascript
 * // To enable
 * await WPP.conn.setKeepAlive();
 *
 * // To disable
 * await WPP.conn.setKeepAlive(false);
 * ```
 */
function setKeepAlive(enable = true) {
    if (enable) {
        document.hasFocus = () => true;
        interval = setInterval(() => document.dispatchEvent(new Event('scroll')), 15000);
    }
    else {
        document.hasFocus = originalHasFocus;
        if (interval) {
            clearInterval(interval);
            interval = null;
        }
    }
    return !!interval;
}


/***/ }),

/***/ "./src/conn/functions/setLimit.ts":
/*!****************************************!*\
  !*** ./src/conn/functions/setLimit.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setLimit = setLimit;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const exportModule_1 = __webpack_require__(/*! ../../whatsapp/exportModule */ "./src/whatsapp/exportModule.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
let unlimitedPin = undefined;
webpack.onFullReady(() => {
    (0, exportModule_1.wrapModuleFunction)(functions_1.getNumChatsPinned, (func, ...args) => {
        const getNumChatsPinnedOriginal = func(...args);
        return unlimitedPin ? 1 : getNumChatsPinnedOriginal;
    });
});
/**
 * Change the limits
 *
 * @example
 * ```javascript
 *  //Change the maximum size (bytes) for uploading media (max 70MB)
 *  WPP.conn.setLimit('maxMediaSize',16777216);
 *
 *  //Change the maximum size (bytes) for uploading files (max 1GB)
 *  WPP.conn.setLimit('maxFileSize',104857600);
 *
 *  //Change the maximum number of contacts that can be selected when sharing (Default 5)
 *  WPP.conn.setLimit('maxShare',100);
 *
 *  //Change the maximum time (seconds) of a video status
 *  WPP.conn.setLimit('statusVideoMaxDuration',120);
 *
 *  //Remove pinned conversation limit (only whatsapp web) (Default 3)
 *  WPP.conn.setLimit('unlimitedPin',true);
 * ```
 */
function setLimit(key, value) {
    switch (key) {
        case 'maxMediaSize': {
            if (typeof value !== 'number' || value > 73400320) {
                throw new util_1.WPPError(`maxMediaSize_error`, typeof value !== 'number'
                    ? `Value type invalid!`
                    : `Maximum value is 70MB`);
            }
            //ServerProps.media = value;
            return null;
        }
        case 'maxFileSize': {
            if (typeof value !== 'number' || value > 1073741824) {
                throw new util_1.WPPError(`maxFileSize_error`, typeof value !== 'number'
                    ? `Value type invalid!`
                    : `Maximum value is 1GB`);
            }
            whatsapp_1.ServerPropsConstants.MAX_FILE_SIZE_BYTES = value;
            return whatsapp_1.ServerPropsConstants.MAX_FILE_SIZE_BYTES;
        }
        case 'maxShare': {
            if (typeof value !== 'number') {
                throw new util_1.WPPError(`maxShare_error`, `Value type invalid!`);
            }
            whatsapp_1.ServerPropsConstants.MULTICAST_LIMIT_GLOBAL = value;
            return whatsapp_1.ServerPropsConstants.MULTICAST_LIMIT_GLOBAL;
        }
        case 'statusVideoMaxDuration': {
            if (typeof value !== 'number') {
                throw new util_1.WPPError(`statusVideoMaxDuration_error`, `Value type invalid!`);
            }
            //ServerProps.statusVideoMaxDuration = value;
            return null;
        }
        case 'unlimitedPin': {
            if (typeof value !== 'boolean') {
                throw new util_1.WPPError(`unlimitedPin_error`, `Value type invalid!`);
            }
            value ? (unlimitedPin = value) : (unlimitedPin = undefined);
            return value;
        }
        default: {
            throw new util_1.WPPError(`setLimit_error`, `Key type invalid!`);
        }
    }
}


/***/ }),

/***/ "./src/conn/functions/setMultiDevice.ts":
/*!**********************************************!*\
  !*** ./src/conn/functions/setMultiDevice.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setMultiDevice = setMultiDevice;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * @param md If it's true, WhatsApp WEB will switch to MD. If it's false, WhatsApp WEB will switch to Legacy.
 * @example
 * ```javascript
 * WPP.conn.setMultiDevice(true)
 * ```
 */
function setMultiDevice(md = true) {
    if (md) {
        whatsapp_1.Cmd.upgradeToMDProd();
    }
    else {
        whatsapp_1.Cmd.downgradeWebclient();
    }
    return true;
}


/***/ }),

/***/ "./src/conn/index.ts":
/*!***************************!*\
  !*** ./src/conn/index.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__webpack_require__(/*! ./events */ "./src/conn/events/index.ts");
__webpack_require__(/*! ./patch */ "./src/conn/patch.ts");
__exportStar(__webpack_require__(/*! ./functions */ "./src/conn/functions/index.ts"), exports);
__exportStar(__webpack_require__(/*! ./types */ "./src/conn/types.ts"), exports);


/***/ }),

/***/ "./src/conn/patch.ts":
/*!***************************!*\
  !*** ./src/conn/patch.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const webpack = __importStar(__webpack_require__(/*! ../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../whatsapp */ "./src/whatsapp/index.ts");
webpack.onInjected(() => {
    /**
     * When sending logs to the WhatsApp server, it will always report that the ocVersion is true.
     */
    whatsapp_1.IsOfficialClient.isOfficialClient = true;
});


/***/ }),

/***/ "./src/conn/types.ts":
/*!***************************!*\
  !*** ./src/conn/types.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./src/contact/functions/get.ts":
/*!**************************************!*\
  !*** ./src/contact/functions/get.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.get = get;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Get a contact by id
 *
 * @example
 * ```javascript
 * await WPP.contact.get('[number]@c.us');
 * ```
 *
 * @category Contact
 */
async function get(contactId) {
    const wid = (0, assert_1.assertWid)(contactId);
    return whatsapp_1.ContactStore.get(wid);
}


/***/ }),

/***/ "./src/contact/functions/getBusinessProfile.ts":
/*!*****************************************************!*\
  !*** ./src/contact/functions/getBusinessProfile.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getBusinessProfile = getBusinessProfile;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Get the current text status
 *
 * @example
 * ```javascript
 * const url = await WPP.contact.getBusinessProfile('[number]@c.us');
 * ```
 *
 * @category Contact
 */
async function getBusinessProfile(contactId) {
    const wid = (0, assert_1.assertWid)(contactId);
    const profile = await whatsapp_1.BusinessProfileStore.fetchBizProfile(wid);
    return profile;
}


/***/ }),

/***/ "./src/contact/functions/getCommonGroups.ts":
/*!**************************************************!*\
  !*** ./src/contact/functions/getCommonGroups.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getCommonGroups = getCommonGroups;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Get all commons groups for the contact
 *
 * @example
 * ```javascript
 * const groups_ids = await WPP.contact.getCommonGroups('[number]@c.us');
 * ```
 *
 * @category Contact
 */
async function getCommonGroups(wid) {
    const contact = whatsapp_1.ContactStore.get(wid);
    if (!contact) {
        return [];
    }
    const groups = await whatsapp_1.functions.findCommonGroups(contact);
    return groups.getModelsArray().map((g) => g.id);
}


/***/ }),

/***/ "./src/contact/functions/getProfilePictureUrl.ts":
/*!*******************************************************!*\
  !*** ./src/contact/functions/getProfilePictureUrl.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getProfilePictureUrl = getProfilePictureUrl;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Get the current text status
 *
 * @example
 * ```javascript
 * const url = await WPP.contact.getProfilePictureUrl('[number]@c.us');
 * ```
 *
 * @category Contact
 */
async function getProfilePictureUrl(contactId, full = true) {
    const wid = (0, assert_1.assertWid)(contactId);
    const profilePic = await whatsapp_1.ProfilePicThumbStore.find(wid);
    if (!profilePic) {
        return;
    }
    if (full) {
        return profilePic.imgFull;
    }
    return profilePic.img;
}


/***/ }),

/***/ "./src/contact/functions/getStatus.ts":
/*!********************************************!*\
  !*** ./src/contact/functions/getStatus.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getStatus = getStatus;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const queryExists_1 = __webpack_require__(/*! ./queryExists */ "./src/contact/functions/queryExists.ts");
/**
 * Get the current text status
 *
 * @example
 * ```javascript
 * await WPP.contact.getStatus('[number]@c.us');
 * ```
 *
 * @category Contact
 */
async function getStatus(contactId) {
    const wid = (0, assert_1.assertWid)(contactId);
    const exists = await (0, queryExists_1.queryExists)(wid);
    if (!exists) {
        return null;
    }
    const model = await whatsapp_1.StatusStore.find(wid);
    return model.status || null;
}


/***/ }),

/***/ "./src/contact/functions/index.ts":
/*!****************************************!*\
  !*** ./src/contact/functions/index.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.unsubscribePresence = exports.subscribePresence = exports.save = exports.remove = exports.queryExists = exports.list = exports.getStatus = exports.getProfilePictureUrl = exports.getCommonGroups = exports.getBusinessProfile = exports.get = void 0;
var get_1 = __webpack_require__(/*! ./get */ "./src/contact/functions/get.ts");
Object.defineProperty(exports, "get", ({ enumerable: true, get: function () { return get_1.get; } }));
var getBusinessProfile_1 = __webpack_require__(/*! ./getBusinessProfile */ "./src/contact/functions/getBusinessProfile.ts");
Object.defineProperty(exports, "getBusinessProfile", ({ enumerable: true, get: function () { return getBusinessProfile_1.getBusinessProfile; } }));
var getCommonGroups_1 = __webpack_require__(/*! ./getCommonGroups */ "./src/contact/functions/getCommonGroups.ts");
Object.defineProperty(exports, "getCommonGroups", ({ enumerable: true, get: function () { return getCommonGroups_1.getCommonGroups; } }));
var getProfilePictureUrl_1 = __webpack_require__(/*! ./getProfilePictureUrl */ "./src/contact/functions/getProfilePictureUrl.ts");
Object.defineProperty(exports, "getProfilePictureUrl", ({ enumerable: true, get: function () { return getProfilePictureUrl_1.getProfilePictureUrl; } }));
var getStatus_1 = __webpack_require__(/*! ./getStatus */ "./src/contact/functions/getStatus.ts");
Object.defineProperty(exports, "getStatus", ({ enumerable: true, get: function () { return getStatus_1.getStatus; } }));
var list_1 = __webpack_require__(/*! ./list */ "./src/contact/functions/list.ts");
Object.defineProperty(exports, "list", ({ enumerable: true, get: function () { return list_1.list; } }));
var queryExists_1 = __webpack_require__(/*! ./queryExists */ "./src/contact/functions/queryExists.ts");
Object.defineProperty(exports, "queryExists", ({ enumerable: true, get: function () { return queryExists_1.queryExists; } }));
var remove_1 = __webpack_require__(/*! ./remove */ "./src/contact/functions/remove.ts");
Object.defineProperty(exports, "remove", ({ enumerable: true, get: function () { return remove_1.remove; } }));
var save_1 = __webpack_require__(/*! ./save */ "./src/contact/functions/save.ts");
Object.defineProperty(exports, "save", ({ enumerable: true, get: function () { return save_1.save; } }));
var subscribePresence_1 = __webpack_require__(/*! ./subscribePresence */ "./src/contact/functions/subscribePresence.ts");
Object.defineProperty(exports, "subscribePresence", ({ enumerable: true, get: function () { return subscribePresence_1.subscribePresence; } }));
var unsubscribePresence_1 = __webpack_require__(/*! ./unsubscribePresence */ "./src/contact/functions/unsubscribePresence.ts");
Object.defineProperty(exports, "unsubscribePresence", ({ enumerable: true, get: function () { return unsubscribePresence_1.unsubscribePresence; } }));


/***/ }),

/***/ "./src/contact/functions/list.ts":
/*!***************************************!*\
  !*** ./src/contact/functions/list.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.list = list;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Return a list of contacts
 *
 * @example
 * ```javascript
 * // All contacts
 * const contats = await WPP.contact.list();
 *
 * // Only my contacts
 * const contacts = await WPP.contact.list({onlyMyContacts: true});
 *
 * // Only with label Text
 * const contacts = await WPP.contact.list({withLabels: ['Test']});
 *
 * // Only with label id
 * const contacts = await WPP.contact.list({withLabels: ['1']});
 *
 * // Only with label with one of text or id
 * const contacts = await WPP.contact.list({withLabels: ['Alfa','5']});
 * ```
 *
 * @category Contact
 */
async function list(options = {}) {
    let models = whatsapp_1.ContactStore.getModelsArray().slice();
    if (options.onlyMyContacts) {
        models = models.filter((c) => c.isMyContact);
    }
    if (options.withLabels) {
        const ids = options.withLabels.map((value) => {
            const label = whatsapp_1.LabelStore.findFirst((l) => l.name === value);
            if (label) {
                return label.id;
            }
            return value;
        });
        models = models.filter((c) => { var _a; return (_a = c.labels) === null || _a === void 0 ? void 0 : _a.some((id) => ids.includes(id)); });
    }
    return models;
}


/***/ }),

/***/ "./src/contact/functions/queryExists.ts":
/*!**********************************************!*\
  !*** ./src/contact/functions/queryExists.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.queryExists = queryExists;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const createWid_1 = __webpack_require__(/*! ../../util/createWid */ "./src/util/createWid.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const cache = new Map();
/**
 * Check if the number exists and what is correct ID
 *
 * This help to identify numbers with nine digit in Brazil
 *
 * @example
 * ```javascript
 * const result = await WPP.contact.queryExists('[number]@c.us');
 * console.log(result.wid); // Correct ID
 * ```
 *
 * @category Contact
 */
async function queryExists(contactId) {
    var _a, _b, _c, _d, _e;
    const wid = (0, assert_1.assertWid)(contactId);
    const id = `+${wid.toString()}`;
    if (cache.has(id)) {
        return cache.get(id);
    }
    const syncUser = new whatsapp_1.USyncUser();
    const syncQuery = new whatsapp_1.USyncQuery();
    const isLid = wid.isLid();
    if (isLid) {
        syncUser.withId(wid);
    }
    else {
        syncQuery.withContactProtocol();
        syncUser.withPhone(id.replace('@c.us', ''));
        if (wid.isUser()) {
            const lid = whatsapp_1.ApiContact.getCurrentLid((0, createWid_1.createWid)(id.replace('+', '')));
            if (lid) {
                syncUser.withLid(lid);
            }
        }
    }
    syncQuery
        .withUser(syncUser)
        .withBusinessProtocol()
        .withDisappearingModeProtocol()
        .withStatusProtocol()
        .withLidProtocol();
    const get = await syncQuery.execute();
    let result = null;
    if (((_a = get === null || get === void 0 ? void 0 : get.error) === null || _a === void 0 ? void 0 : _a.all) || ((_b = get === null || get === void 0 ? void 0 : get.error) === null || _b === void 0 ? void 0 : _b.contact)) {
        result = null;
    }
    if (Array.isArray(get.list)) {
        result = get.list[0];
        if (((_c = result === null || result === void 0 ? void 0 : result.contact) === null || _c === void 0 ? void 0 : _c.type) === 'out') {
            result = null;
        }
        else {
            const lid = result === null || result === void 0 ? void 0 : result.lid;
            result = {
                wid: result.id,
                biz: typeof result.business !== 'undefined',
                bizInfo: result.business,
                disappearingMode: typeof result.disappearing_mode !== 'undefined'
                    ? {
                        duration: (_d = result.disappearing_mode) === null || _d === void 0 ? void 0 : _d.duration,
                        settingTimestamp: (_e = result.disappearing_mode) === null || _e === void 0 ? void 0 : _e.t,
                    }
                    : undefined,
                status: result.status,
                lid: lid ? (0, createWid_1.createWid)(lid) : undefined,
            };
        }
    }
    else {
        result = null;
    }
    cache.set(id, result);
    // Delete from cache after 5min is success or 15s for failure
    const timeout = result ? 300000 : 15000;
    setTimeout(() => {
        cache.delete(id);
    }, timeout);
    return result;
}


/***/ }),

/***/ "./src/contact/functions/remove.ts":
/*!*****************************************!*\
  !*** ./src/contact/functions/remove.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.remove = remove;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const get_1 = __webpack_require__(/*! ./get */ "./src/contact/functions/get.ts");
/**
 * Remove/delete contact in the device
 *
 * @example
 * ```javascript
 * await WPP.contact.remove('5533999999999@c.us');
 * ```
 *
 * @category Contact
 */
async function remove(contactId) {
    contactId = (0, assert_1.assertWid)(contactId);
    const contact = await (0, get_1.get)(contactId);
    if (!contact)
        throw new util_1.WPPError('contact_not_found', 'Contact not found');
    const isMyContact = (0, functions_1.getIsMyContact)(contact);
    if (!isMyContact)
        throw new util_1.WPPError('number_is_not_your_contact', `The number ${contactId._serialized} is not your contact`);
    await (0, functions_1.deleteContactAction)(contactId.toString().split('@')[0]);
    return await (0, get_1.get)(contactId);
}


/***/ }),

/***/ "./src/contact/functions/save.ts":
/*!***************************************!*\
  !*** ./src/contact/functions/save.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.save = save;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const get_1 = __webpack_require__(/*! ./get */ "./src/contact/functions/get.ts");
/**
 * Create new or update a contact in the device
 *
 * @example
 * ```javascript
 * await WPP.contact.save('5533999999999@c.us', 'John', {
 *   surname: 'Doe',
 *   syncAdressBook: true,
 * });
 * ```
 *
 * @category Contact
 */
async function save(contactId, name, options) {
    var _a, _b;
    if (!contactId || !name) {
        throw new util_1.WPPError('send_the_required_fields', 'Please, send the contact id like <number@c.us> and the name for your contact');
    }
    contactId = (0, assert_1.assertWid)(contactId);
    await (0, functions_1.saveContactAction)(contactId.toString().split('@')[0], null, null, null, name, (_a = options === null || options === void 0 ? void 0 : options.surname) !== null && _a !== void 0 ? _a : '', (_b = options === null || options === void 0 ? void 0 : options.syncAdressBook) !== null && _b !== void 0 ? _b : true);
    return await (0, get_1.get)(contactId);
}


/***/ }),

/***/ "./src/contact/functions/subscribePresence.ts":
/*!****************************************************!*\
  !*** ./src/contact/functions/subscribePresence.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.subscribePresence = subscribePresence;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Subscribe presente from a contact
 *
 * @example
 * ```javascript
 * await WPP.contact.subscribePresence('[number]@c.us');
 * ```
 *
 * @category Contact
 */
async function subscribePresence(ids) {
    if (!Array.isArray(ids)) {
        ids = [ids];
    }
    const result = [];
    for (const id of ids) {
        try {
            const wid = whatsapp_1.WidFactory.createWid(id);
            await (0, functions_1.subscribePresence)(wid);
            if (whatsapp_1.PresenceStore.get(wid)) {
                result.push(wid);
                continue;
            }
            await whatsapp_1.PresenceStore.find(wid);
            result.push(wid);
        }
        catch (error) { }
    }
    return result;
}


/***/ }),

/***/ "./src/contact/functions/unsubscribePresence.ts":
/*!******************************************************!*\
  !*** ./src/contact/functions/unsubscribePresence.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.unsubscribePresence = unsubscribePresence;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Unsubscribe presence of a contact
 *
 * @example
 * ```javascript
 * await WPP.contact.unsubscribePresence('[number]@c.us');
 * ```
 *
 * @category Contact
 */
async function unsubscribePresence(ids) {
    if (!Array.isArray(ids)) {
        ids = [ids];
    }
    const result = [];
    for (const id of ids) {
        const wid = whatsapp_1.WidFactory.createWid(id);
        const presence = whatsapp_1.PresenceStore.get(wid);
        if (!presence) {
            result.push(wid);
            continue;
        }
        presence.delete();
        result.push(wid);
    }
    return result;
}


/***/ }),

/***/ "./src/contact/index.ts":
/*!******************************!*\
  !*** ./src/contact/index.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__webpack_require__(/*! ./patch */ "./src/contact/patch.ts");
__exportStar(__webpack_require__(/*! ./functions */ "./src/contact/functions/index.ts"), exports);


/***/ }),

/***/ "./src/contact/patch.ts":
/*!******************************!*\
  !*** ./src/contact/patch.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const webpack = __importStar(__webpack_require__(/*! ../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../whatsapp */ "./src/whatsapp/index.ts");
webpack.onInjected(applyPatch);
function applyPatch() {
    const funcs = {
        isMyContact: whatsapp_1.functions.getIsMyContact,
        mentionName: whatsapp_1.functions.getMentionName,
        notifyName: whatsapp_1.functions.getNotifyName,
        pnForLid: whatsapp_1.functions.getPnForLid,
        displayNameOrPnForLid: whatsapp_1.functions.getDisplayNameOrPnForLid,
        formattedPhone: whatsapp_1.functions.getFormattedPhone,
        userid: whatsapp_1.functions.getUserid,
        userhash: whatsapp_1.functions.getUserhash,
        searchName: whatsapp_1.functions.getSearchName,
        searchVerifiedName: whatsapp_1.functions.getSearchVerifiedName,
        header: whatsapp_1.functions.getHeader,
        isMe: whatsapp_1.functions.getIsMe,
        isUser: whatsapp_1.functions.getIsUser,
        isGroup: whatsapp_1.functions.getIsGroup,
        isBroadcast: whatsapp_1.functions.getIsBroadcast,
        isPSA: whatsapp_1.functions.getIsPSA,
        isIAS: whatsapp_1.functions.getIsIAS,
        isSupportAccount: whatsapp_1.functions.getIsSupportAccount,
        formattedShortNameWithNonBreakingSpaces: whatsapp_1.functions.getFormattedShortNameWithNonBreakingSpaces,
        formattedShortName: whatsapp_1.functions.getFormattedShortName,
        formattedName: whatsapp_1.functions.getFormattedName,
        formattedUser: whatsapp_1.functions.getFormattedUser,
        isWAContact: whatsapp_1.functions.getIsWAContact,
        canRequestPhoneNumber: whatsapp_1.functions.getCanRequestPhoneNumber,
        showBusinessCheckmarkAsPrimary: whatsapp_1.functions.getShowBusinessCheckmarkAsPrimary,
        showBusinessCheckmarkAsSecondary: whatsapp_1.functions.getShowBusinessCheckmarkAsSecondary,
        showBusinessCheckmarkInChatlist: whatsapp_1.functions.getShowBusinessCheckmarkInChatlist,
        isDisplayNameApproved: whatsapp_1.functions.getIsDisplayNameApproved,
        shouldForceBusinessUpdate: whatsapp_1.functions.getShouldForceBusinessUpdate,
    };
    for (const attr in funcs) {
        const func = funcs[attr];
        if (typeof whatsapp_1.ContactModel.prototype[attr] === 'undefined') {
            Object.defineProperty(whatsapp_1.ContactModel.prototype, attr, {
                get: function () {
                    return func(this);
                },
                configurable: true,
            });
        }
    }
}


/***/ }),

/***/ "./src/deviceName.ts":
/*!***************************!*\
  !*** ./src/deviceName.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const config_1 = __webpack_require__(/*! ./config */ "./src/config/index.ts");
const webpack = __importStar(__webpack_require__(/*! ./webpack */ "./src/webpack/index.ts"));
// Update deviceName connected
webpack.onInjected(() => {
    if (!config_1.config.deviceName) {
        return;
    }
    const m = webpack.search((m) => m.default.info && m.default.hardRefresh);
    if (m) {
        const info = m.default.info();
        info.os = config_1.config.deviceName;
        info.version = undefined;
        info.name = undefined;
        info.ua = undefined;
        m.default.info = () => info;
    }
});


/***/ }),

/***/ "./src/enums.ts":
/*!**********************!*\
  !*** ./src/enums.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PrivacyDisallowedListType = exports.TextFontStyle = void 0;
var TextFontStyle;
(function (TextFontStyle) {
    TextFontStyle[TextFontStyle["SANS_SERIF"] = 0] = "SANS_SERIF";
    TextFontStyle[TextFontStyle["SERIF"] = 1] = "SERIF";
    TextFontStyle[TextFontStyle["NORICAN_REGULAR"] = 2] = "NORICAN_REGULAR";
    TextFontStyle[TextFontStyle["BRYNDAN_WRITE"] = 3] = "BRYNDAN_WRITE";
    TextFontStyle[TextFontStyle["BEBASNEUE_REGULAR"] = 4] = "BEBASNEUE_REGULAR";
    TextFontStyle[TextFontStyle["OSWALD_HEAVY"] = 5] = "OSWALD_HEAVY";
})(TextFontStyle || (exports.TextFontStyle = TextFontStyle = {}));
var PrivacyDisallowedListType;
(function (PrivacyDisallowedListType) {
    PrivacyDisallowedListType["About"] = "status";
    PrivacyDisallowedListType["GroupAdd"] = "groupadd";
    PrivacyDisallowedListType["LastSeen"] = "last";
    PrivacyDisallowedListType["ProfilePicture"] = "profile";
})(PrivacyDisallowedListType || (exports.PrivacyDisallowedListType = PrivacyDisallowedListType = {}));


/***/ }),

/***/ "./src/eventEmitter/eventEmitter.ts":
/*!******************************************!*\
  !*** ./src/eventEmitter/eventEmitter.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventemitter2_1 = __webpack_require__(/*! eventemitter2 */ "./node_modules/eventemitter2/lib/eventemitter2.js");
exports.EventEmitter = eventemitter2_1.EventEmitter2;


/***/ }),

/***/ "./src/eventEmitter/eventTypes.ts":
/*!****************************************!*\
  !*** ./src/eventEmitter/eventTypes.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./src/eventEmitter/index.ts":
/*!***********************************!*\
  !*** ./src/eventEmitter/index.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.waitFor = exports.stopListeningTo = exports.setMaxListeners = exports.removeListener = exports.removeAllListeners = exports.prependOnceListener = exports.prependMany = exports.prependListener = exports.prependAny = exports.once = exports.onAny = exports.on = exports.offAny = exports.off = exports.many = exports.listenersAny = exports.listeners = exports.listenerCount = exports.listenTo = exports.hasListeners = exports.getMaxListeners = exports.eventNames = exports.emitAsync = exports.emit = exports.addListener = exports.EventEmitter = exports.ev = exports.internalEv = void 0;
const debug_1 = __importDefault(__webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js"));
const eventEmitter_1 = __webpack_require__(/*! ./eventEmitter */ "./src/eventEmitter/eventEmitter.ts");
Object.defineProperty(exports, "EventEmitter", ({ enumerable: true, get: function () { return eventEmitter_1.EventEmitter; } }));
__exportStar(__webpack_require__(/*! ./eventTypes */ "./src/eventEmitter/eventTypes.ts"), exports);
const debug = (0, debug_1.default)('WA-JS:event');
exports.internalEv = new eventEmitter_1.EventEmitter({
    maxListeners: Infinity,
});
exports.ev = new eventEmitter_1.EventEmitter({
    maxListeners: Infinity,
});
exports.internalEv.onAny((event, ...values) => {
    exports.ev.emit(event, ...values);
    if (debug.enabled) {
        debug(event, ...values);
    }
});
exports.addListener = exports.ev.addListener.bind(exports.ev);
exports.emit = exports.ev.emit.bind(exports.ev);
exports.emitAsync = exports.ev.emitAsync.bind(exports.ev);
exports.eventNames = exports.ev.eventNames.bind(exports.ev);
exports.getMaxListeners = exports.ev.getMaxListeners.bind(exports.ev);
exports.hasListeners = exports.ev.hasListeners.bind(exports.ev);
exports.listenTo = exports.ev.listenTo.bind(exports.ev);
exports.listenerCount = exports.ev.listenerCount.bind(exports.ev);
exports.listeners = exports.ev.listeners.bind(exports.ev);
exports.listenersAny = exports.ev.listenersAny.bind(exports.ev);
exports.many = exports.ev.many.bind(exports.ev);
exports.off = exports.ev.off.bind(exports.ev);
exports.offAny = exports.ev.offAny.bind(exports.ev);
exports.on = exports.ev.on.bind(exports.ev);
exports.onAny = exports.ev.onAny.bind(exports.ev);
exports.once = exports.ev.once.bind(exports.ev);
exports.prependAny = exports.ev.prependAny.bind(exports.ev);
exports.prependListener = exports.ev.prependListener.bind(exports.ev);
exports.prependMany = exports.ev.prependMany.bind(exports.ev);
exports.prependOnceListener = exports.ev.prependOnceListener.bind(exports.ev);
exports.removeAllListeners = exports.ev.removeAllListeners.bind(exports.ev);
exports.removeListener = exports.ev.removeListener.bind(exports.ev);
exports.setMaxListeners = exports.ev.setMaxListeners.bind(exports.ev);
exports.stopListeningTo = exports.ev.stopListeningTo.bind(exports.ev);
exports.waitFor = exports.ev.waitFor.bind(exports.ev);


/***/ }),

/***/ "./src/group/events/index.ts":
/*!***********************************!*\
  !*** ./src/group/events/index.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
__webpack_require__(/*! ./registerParticipantsChangedEvent */ "./src/group/events/registerParticipantsChangedEvent.ts");


/***/ }),

/***/ "./src/group/events/registerParticipantsChangedEvent.ts":
/*!**************************************************************!*\
  !*** ./src/group/events/registerParticipantsChangedEvent.ts ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const exportModule_1 = __webpack_require__(/*! ../../whatsapp/exportModule */ "./src/whatsapp/exportModule.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
webpack.onFullReady(register);
function register() {
    const eventTypes = ['add', 'remove', 'demote', 'promote'];
    (0, exportModule_1.wrapModuleFunction)(functions_1.updateDBForGroupAction, (func, ...args) => {
        const [meta, action] = args;
        let actionType = action.actionType || action.action;
        if (eventTypes.includes(actionType)) {
            queueMicrotask(() => {
                var _a;
                const participants = action.participants.map((p) => {
                    if ('id' in p) {
                        return p.id;
                    }
                    return p;
                });
                if (actionType === 'add' &&
                    (action.isInvite || action.reason === 'invite')) {
                    actionType = 'join';
                }
                else if (actionType === 'remove' &&
                    participants.some((p) => p.equals(meta.author))) {
                    actionType = 'leave';
                }
                eventEmitter_1.internalEv.emit('group.participant_changed', {
                    author: (_a = meta.author) === null || _a === void 0 ? void 0 : _a.toString(),
                    authorPushName: meta.pushname,
                    groupId: meta.chatId.toString(),
                    action: actionType,
                    operation: (action.actionType || action.action),
                    participants: participants.map((p) => p.toString()),
                });
            });
        }
        return func(...args);
    });
}


/***/ }),

/***/ "./src/group/functions/addParticipants.ts":
/*!************************************************!*\
  !*** ./src/group/functions/addParticipants.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.addParticipants = addParticipants;
const compare_versions_1 = __webpack_require__(/*! compare-versions */ "./node_modules/compare-versions/lib/esm/index.js");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const ensureGroupAndParticipants_1 = __webpack_require__(/*! ./ensureGroupAndParticipants */ "./src/group/functions/ensureGroupAndParticipants.ts");
const messageCodes = {
    200: 'OK',
    403: "Can't join this group because the number was restricted it.",
    409: "Can't join this group because the number is already a member of it.",
    421: 'Member not added, awaiting approval!',
};
/**
 * Add one or more participants to a group
 *
 * The method return a object with the result of each participant as the key
 *
 * @example
 * ```javascript
 * const result = await WPP.group.addParticipants('[group@g.us]', [number@c.us]);
 *
 * // Get participant result:
 * console.log(result['123@c.us'].code);
 * console.log(result['123@c.us'].invite_code);
 * console.log(result['123@c.us'].invite_code_exp);
 * console.log(result['123@c.us'].message);
 * console.log(result['123@c.us'].wid);
 *
 * const memberResult = result['123@c.us']; // To a variable
 * // or
 * const memberResult = Object.values(result)[0]; // Always the first member result
 *
 * // How to send a custom invite link
 * const link = 'https://chat.whatsapp.com/' + result['123@c.us'].invite_code;
 * console.log(link);
 * ```
 *
 * @category Group
 */
async function addParticipants(groupId, participantsIds) {
    var _a, _b;
    const { groupChat, participants } = await (0, ensureGroupAndParticipants_1.ensureGroupAndParticipants)(groupId, participantsIds, true);
    let members = [];
    if ((0, compare_versions_1.compare)(self.Debug.VERSION, '2.2320.0', '>=')) {
        if ((_a = groupChat.groupMetadata) === null || _a === void 0 ? void 0 : _a.isLidAddressingMode) {
            members = participants.map((p) => ({
                phoneNumber: p.id,
                lid: whatsapp_1.functions.getCurrentLid(p.id),
            }));
        }
        else {
            members = participants.map((p) => ({
                phoneNumber: p.id,
            }));
        }
    }
    else {
        if ((_b = groupChat.groupMetadata) === null || _b === void 0 ? void 0 : _b.isLidAddressingMode) {
            members = participants.map((p) => whatsapp_1.functions.getCurrentLid(p.id));
        }
        else {
            members = participants.map((p) => p.id);
        }
    }
    const result = await whatsapp_1.functions.sendAddParticipants(groupChat.id, members);
    if (result.status >= 400) {
        throw new util_1.WPPError('group_add_participant_error', 'Failed to add participants to the group', { groupId, participantsIds });
    }
    const data = {};
    for (const r of result.participants || []) {
        let userWid = null;
        let code = null;
        let invite_code = null;
        let invite_code_exp = null;
        if ('userWid' in r) {
            userWid = r.userWid.toString();
            code = r.code;
            invite_code = r.invite_code;
            invite_code_exp = r.invite_code_exp;
        }
        else {
            userWid = Object.keys(r)[0];
            const d = r[userWid];
            code = d.code;
            invite_code = d.invite_code;
            invite_code_exp = d.invite_code_exp;
        }
        if (code !== '403') {
            try {
                whatsapp_1.ContactStore.gadd((0, util_1.createWid)(userWid), { silent: true });
            }
            catch (error) { }
        }
        data[userWid] = {
            wid: userWid,
            code: Number(code),
            message: messageCodes[Number(code)] || "Can't Join., unknown error",
            invite_code: invite_code,
            invite_code_exp: Number(invite_code_exp) || null,
        };
    }
    return data;
}


/***/ }),

/***/ "./src/group/functions/approve.ts":
/*!****************************************!*\
  !*** ./src/group/functions/approve.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.approve = approve;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Approve a membership request to group
 *
 * @example
 * ```javascript
 * await WPP.group.approve(12345645@g.us, 5554999999999@c.us);
 * ```
 *
 * @category Group
 */
async function approve(groupId, membershipIds) {
    groupId = (0, assert_1.assertWid)(groupId);
    if (!Array.isArray(membershipIds)) {
        membershipIds = [membershipIds];
    }
    const wids = membershipIds.map(assert_1.assertWid);
    try {
        return await (0, functions_1.membershipApprovalRequestAction)(groupId, wids, 'Approve');
    }
    catch (error) {
        throw new util_1.WPPError('error_on_accept_membership_request', `Error on accept member on group ${groupId.toString()}`);
    }
}


/***/ }),

/***/ "./src/group/functions/canAdd.ts":
/*!***************************************!*\
  !*** ./src/group/functions/canAdd.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.canAdd = canAdd;
const _1 = __webpack_require__(/*! ./ */ "./src/group/functions/index.ts");
/**
 * Check if your account is allowed to add new participants
 *
 * @example
 * ```javascript
 * const result = await WPP.group.canAdd('group@g.us');
 * console.log(result);
 * ```
 *
 * @category Group
 */
async function canAdd(groupId) {
    const groupChat = await (0, _1.ensureGroup)(groupId);
    return groupChat.groupMetadata.participants.canAdd();
}


/***/ }),

/***/ "./src/group/functions/canDemote.ts":
/*!******************************************!*\
  !*** ./src/group/functions/canDemote.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.canDemote = canDemote;
const _1 = __webpack_require__(/*! ./ */ "./src/group/functions/index.ts");
/**
 * Check if your account is allowed to demote participants
 *
 * @example
 * ```javascript
 * await WPP.group.canDemote('group@g.us');
 * console.log(result);
 * ```
 *
 * @category Group
 */
async function canDemote(groupId, participantsIds) {
    const { groupChat, participants } = await (0, _1.ensureGroupAndParticipants)(groupId, participantsIds);
    return participants.every((p) => groupChat.groupMetadata.participants.canDemote(p));
}


/***/ }),

/***/ "./src/group/functions/canPromote.ts":
/*!*******************************************!*\
  !*** ./src/group/functions/canPromote.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.canPromote = canPromote;
const _1 = __webpack_require__(/*! ./ */ "./src/group/functions/index.ts");
/**
 * Check if your account is allowed to promote participants
 *
 * @example
 * ```javascript
 * await WPP.group.canPromote('group@g.us');
 * console.log(result);
 * ```
 *
 * @category Group
 */
async function canPromote(groupId, participantsIds) {
    const { groupChat, participants } = await (0, _1.ensureGroupAndParticipants)(groupId, participantsIds);
    return participants.every((p) => groupChat.groupMetadata.participants.canPromote(p));
}


/***/ }),

/***/ "./src/group/functions/canRemove.ts":
/*!******************************************!*\
  !*** ./src/group/functions/canRemove.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.canRemove = canRemove;
const _1 = __webpack_require__(/*! ./ */ "./src/group/functions/index.ts");
/**
 * Check if your account is allowed to remove participants
 *
 * @example
 * ```javascript
 * const result = await WPP.group.canRemove('group@g.us');
 * console.log(result);
 * ```
 *
 * @category Group
 */
async function canRemove(groupId, participantsIds) {
    const { groupChat, participants } = await (0, _1.ensureGroupAndParticipants)(groupId, participantsIds);
    return participants.every((p) => groupChat.groupMetadata.participants.canRemove(p));
}


/***/ }),

/***/ "./src/group/functions/create.ts":
/*!***************************************!*\
  !*** ./src/group/functions/create.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.create = create;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const Chat = __importStar(__webpack_require__(/*! ../../chat */ "./src/chat/index.ts"));
const getMyUserWid_1 = __webpack_require__(/*! ../../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const Contact = __importStar(__webpack_require__(/*! ../../contact */ "./src/contact/index.ts"));
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const wa_functions = __importStar(__webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts"));
/**
 * Create a new group
 *
 * The method return a object with the result of each participant as the key
 *
 * @example
 * ```javascript
 * const result = await WPP.group.create('Test Group', ['number@c.us']);
 *
 * console.log(result.gid.toString()); // Get the group ID
 *
 * // Get participant result:
 * console.log(result['number@c.us'].code);
 * console.log(result['number@c.us'].invite_code);
 * console.log(result['number@c.us'].invite_code_exp);
 * console.log(result['number@c.us'].message);
 * console.log(result['number@c.us'].wid);
 *
 * const memberResult = result['number@c.us']; // To a variable
 * // or
 * const memberResult = Object.values(result)[0]; // Always the first member result
 *
 * // How to send a custom invite link
 * const link = 'https://chat.whatsapp.com/' + result['number@c.us'].invite_code;
 * console.log(link);
 *
 * // Create a Subgroup for a community
 * const result = await WPP.group.create('Test Group', ['number@c.us'], 'communit@g.us');
 * ```
 *
 * @category Group
 */
async function create(groupName, participantsIds, parentGroup) {
    var _a;
    if (!Array.isArray(participantsIds)) {
        participantsIds = [participantsIds];
    }
    const participantsWids = participantsIds.map(assert_1.assertWid);
    const meWid = (0, getMyUserWid_1.getMyUserWid)();
    const wids = [];
    for (const wid of participantsWids) {
        if (meWid.equals(wid)) {
            continue;
        }
        const contact = whatsapp_1.ContactStore.get(wid);
        if (contact) {
            wids.push(contact.id);
            continue;
        }
        const info = await Contact.queryExists(wid);
        if (!info) {
            throw new util_1.WPPError('participant_not_exists', 'Participant not exists', {
                id: wid,
            });
        }
        if (meWid.equals(info.wid)) {
            continue;
        }
        wids.push(info.wid);
    }
    const parentWid = parentGroup ? (0, assert_1.assertWid)(parentGroup) : undefined;
    const result = await wa_functions.sendCreateGroup(groupName, wids, undefined, parentWid);
    if (result.gid) {
        const chatGroup = await Chat.find(result.gid);
        // Wait group meta to be not stale
        if (((_a = chatGroup.groupMetadata) === null || _a === void 0 ? void 0 : _a.stale) !== false) {
            await new Promise((resolve) => {
                chatGroup.on('change:groupMetadata.stale', function fn() {
                    var _a;
                    if (((_a = chatGroup.groupMetadata) === null || _a === void 0 ? void 0 : _a.stale) === false) {
                        resolve();
                        chatGroup.off('change:groupMetadata.stale', fn);
                    }
                });
            });
        }
    }
    const participants = {};
    for (const r of result.participants || []) {
        let userWid = null;
        let code = null;
        let invite_code = null;
        let invite_code_exp = null;
        if ('userWid' in r) {
            userWid = r.userWid.toString();
            code = r.code;
            invite_code = r.invite_code;
            invite_code_exp = r.invite_code_exp;
        }
        else {
            userWid = Object.keys(r)[0];
            const d = r[userWid];
            code = d.code;
            invite_code = d.invite_code;
            invite_code_exp = d.invite_code_exp;
        }
        participants[userWid] = {
            wid: userWid,
            code: Number(code),
            invite_code: invite_code,
            invite_code_exp: Number(invite_code_exp) || null,
        };
    }
    return {
        gid: result.gid,
        participants,
    };
}


/***/ }),

/***/ "./src/group/functions/demoteParticipants.ts":
/*!***************************************************!*\
  !*** ./src/group/functions/demoteParticipants.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.demoteParticipants = demoteParticipants;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const wa_functions = __importStar(__webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts"));
const ensureGroupAndParticipants_1 = __webpack_require__(/*! ./ensureGroupAndParticipants */ "./src/group/functions/ensureGroupAndParticipants.ts");
/**
 * Remove admin of a group
 *
 * @example
 * ```javascript
 * // One member
 * await WPP.group.demoteParticipants('123456@g.us', '123456@c.us');
 *
 * // More than one member
 * await WPP.group.demoteParticipants('123456@g.us', ['123456@c.us','123456@c.us']);
 * ```
 */
async function demoteParticipants(groupId, participantsIds) {
    const { groupChat, participants } = await (0, ensureGroupAndParticipants_1.ensureGroupAndParticipants)(groupId, participantsIds);
    if (participants.some((p) => { var _a; return !((_a = groupChat.groupMetadata) === null || _a === void 0 ? void 0 : _a.participants.canDemote(p)); })) {
        throw new util_1.WPPError('group_participant_is_already_not_a_group_admin', `Group ${groupChat.id._serialized}: Group participant is already not a group admin`);
    }
    return wa_functions.demoteParticipants(groupChat, participants);
}


/***/ }),

/***/ "./src/group/functions/ensureGroup.ts":
/*!********************************************!*\
  !*** ./src/group/functions/ensureGroup.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ensureGroup = ensureGroup;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
async function ensureGroup(groupId, checkIsAdmin = false) {
    const groupChat = (0, assert_1.assertGetChat)(groupId);
    if (!groupChat.isGroup) {
        throw new util_1.WPPError('not_a_group', `Chat ${groupChat.id._serialized} is not a group`);
    }
    const datagroup = await whatsapp_1.GroupMetadataStore.find(groupChat.id);
    if (checkIsAdmin &&
        !datagroup.participants.iAmAdmin() &&
        datagroup.memberAddMode !== 'all_member_add') {
        throw new util_1.WPPError('group_you_are_not_admin', `You are not admin in ${groupChat.id._serialized}`);
    }
    return groupChat;
}


/***/ }),

/***/ "./src/group/functions/ensureGroupAndParticipants.ts":
/*!***********************************************************!*\
  !*** ./src/group/functions/ensureGroupAndParticipants.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ensureGroupAndParticipants = ensureGroupAndParticipants;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/group/functions/index.ts");
async function ensureGroupAndParticipants(groupId, participantsIds, createIfNotExists = false) {
    const groupChat = await (0, _1.ensureGroup)(groupId, true);
    if (!Array.isArray(participantsIds)) {
        participantsIds = [participantsIds];
    }
    const wids = participantsIds.map(assert_1.assertWid);
    const participants = wids.map((wid) => {
        var _a;
        let participant = (_a = groupChat.groupMetadata) === null || _a === void 0 ? void 0 : _a.participants.get(wid);
        if (!participant && createIfNotExists) {
            participant = new whatsapp_1.ParticipantModel({
                id: wid,
            });
        }
        if (!participant) {
            throw new util_1.WPPError('group_participant_not_found', `Group ${groupChat.id._serialized}: Participant '${participant}' not found`);
        }
        return participant;
    });
    return {
        groupChat,
        participants,
    };
}


/***/ }),

/***/ "./src/group/functions/getAllGroups.ts":
/*!*********************************************!*\
  !*** ./src/group/functions/getAllGroups.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getAllGroups = getAllGroups;
const chat_1 = __webpack_require__(/*! ../../chat */ "./src/chat/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Get all groups
 *
 * @example
 * ```javascript
 * WPP.group.getAllGroups();
 * ```
 *
 * @category Group
 */
async function getAllGroups() {
    const groupsArr = [];
    const groups = await (0, functions_1.queryAllGroups)();
    for (const grp of groups) {
        groupsArr.push((0, chat_1.get)(grp.id));
    }
    return groupsArr;
}


/***/ }),

/***/ "./src/group/functions/getGroupInfoFromInviteCode.ts":
/*!***********************************************************!*\
  !*** ./src/group/functions/getGroupInfoFromInviteCode.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getGroupInfoFromInviteCode = getGroupInfoFromInviteCode;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Get group info from an inviteCode
 *
 * @example
 * ```javascript
 * await WPP.group.getGroupInfoFromInviteCode('<inviteCode>');
 * ```
 *
 * @category Group
 */
async function getGroupInfoFromInviteCode(inviteCode) {
    var _a, _b, _c, _d;
    inviteCode = inviteCode.replace('chat.whatsapp.com/', '');
    inviteCode = inviteCode.replace('invite/', '');
    inviteCode = inviteCode.replace('https://', '');
    inviteCode = inviteCode.replace('http://', '');
    const result = (_a = (await (0, functions_1.sendQueryGroupInvite)(inviteCode).catch(() => null))) === null || _a === void 0 ? void 0 : _a.groupInfo;
    if (!result) {
        throw new util_1.WPPError('invalid_invite_code', 'Invalid Invite Code', {
            inviteCode,
        });
    }
    return Object.assign(Object.assign({}, result), { descOwner: (_b = result.descOwner) === null || _b === void 0 ? void 0 : _b.toString(), id: result.id.toString(), owner: (_c = result.owner) === null || _c === void 0 ? void 0 : _c.toString(), participants: result.participants.map((p) => (Object.assign(Object.assign({}, p), { id: p.id.toString() }))), subjectOwner: (_d = result.subjectOwner) === null || _d === void 0 ? void 0 : _d.toString() });
}


/***/ }),

/***/ "./src/group/functions/getGroupSizeLimit.ts":
/*!**************************************************!*\
  !*** ./src/group/functions/getGroupSizeLimit.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getGroupSizeLimit = getGroupSizeLimit;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Get the max number of participants for a group
 *
 * @example
 * ```javascript
 * const limit = await WPP.group.getGroupSizeLimit();
 * console.log(limit);
 * ```
 *
 * @category Group
 */
async function getGroupSizeLimit() {
    const limit = whatsapp_1.functions.getGroupSizeLimit();
    return limit;
}


/***/ }),

/***/ "./src/group/functions/getInviteCode.ts":
/*!**********************************************!*\
  !*** ./src/group/functions/getInviteCode.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getInviteCode = getInviteCode;
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const _1 = __webpack_require__(/*! ./ */ "./src/group/functions/index.ts");
/**
 * Get the currend invite code of the group
 *
 * @example
 * ```javascript
 * const code = WPP.group.getInviteCode('[group-id]@g.us');
 * const link = 'https://chat.whatsapp.com/' + code;
 * ```
 *
 * @category Group
 */
async function getInviteCode(groupId) {
    const groupChat = await (0, _1.ensureGroup)(groupId, true);
    return await (0, functions_1.sendQueryGroupInviteCode)(groupChat.id);
}


/***/ }),

/***/ "./src/group/functions/getMembershipRequests.ts":
/*!******************************************************!*\
  !*** ./src/group/functions/getMembershipRequests.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getMembershipRequests = getMembershipRequests;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Retrieve a lista of a membership approval requests
 *
 * @example
 * ```javascript
 * await WPP.group.getMembershipRequests(12345645@g.us);
 * ```
 *
 * @category Group
 */
async function getMembershipRequests(groupId) {
    groupId = (0, assert_1.assertWid)(groupId);
    await whatsapp_1.GroupMetadataStore.find(groupId);
    return await (0, functions_1.getMembershipApprovalRequests)(groupId);
}


/***/ }),

/***/ "./src/group/functions/getParticipants.ts":
/*!************************************************!*\
  !*** ./src/group/functions/getParticipants.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getParticipants = getParticipants;
const _1 = __webpack_require__(/*! ./ */ "./src/group/functions/index.ts");
/**
 * Get an array of participants of a group
 *
 * @example
 * ```javascript
 * WPP.group.getParticipants('[group-id]@g.us');
 * ```
 *
 * @category Group
 */
async function getParticipants(groupId) {
    const groupChat = await (0, _1.ensureGroup)(groupId);
    return groupChat.groupMetadata.participants.getModelsArray();
}


/***/ }),

/***/ "./src/group/functions/getPastParticipants.ts":
/*!****************************************************!*\
  !*** ./src/group/functions/getPastParticipants.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getPastParticipants = getPastParticipants;
const _1 = __webpack_require__(/*! ./ */ "./src/group/functions/index.ts");
/**
 * Get an array of past participants of a group
 *
 * @example
 * ```javascript
 * WPP.group.getPastParticipants('[group-id]@g.us');
 * ```
 *
 * @category Group
 */
async function getPastParticipants(groupId) {
    const groupChat = await (0, _1.ensureGroup)(groupId);
    return groupChat.groupMetadata.pastParticipants.getModelsArray();
}


/***/ }),

/***/ "./src/group/functions/iAmAdmin.ts":
/*!*****************************************!*\
  !*** ./src/group/functions/iAmAdmin.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.iAmAdmin = iAmAdmin;
const _1 = __webpack_require__(/*! ./ */ "./src/group/functions/index.ts");
async function iAmAdmin(groupId) {
    const groupChat = await (0, _1.ensureGroup)(groupId);
    return groupChat.groupMetadata.participants.iAmAdmin();
}


/***/ }),

/***/ "./src/group/functions/iAmMember.ts":
/*!******************************************!*\
  !*** ./src/group/functions/iAmMember.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.iAmMember = iAmMember;
const _1 = __webpack_require__(/*! ./ */ "./src/group/functions/index.ts");
async function iAmMember(groupId) {
    const groupChat = await (0, _1.ensureGroup)(groupId);
    return groupChat.groupMetadata.participants.iAmMember();
}


/***/ }),

/***/ "./src/group/functions/iAmRestrictedMember.ts":
/*!****************************************************!*\
  !*** ./src/group/functions/iAmRestrictedMember.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.iAmRestrictedMember = iAmRestrictedMember;
const _1 = __webpack_require__(/*! ./ */ "./src/group/functions/index.ts");
async function iAmRestrictedMember(groupId) {
    const groupChat = await (0, _1.ensureGroup)(groupId);
    return groupChat.groupMetadata.participants.iAmRestrictedMember();
}


/***/ }),

/***/ "./src/group/functions/iAmSuperAdmin.ts":
/*!**********************************************!*\
  !*** ./src/group/functions/iAmSuperAdmin.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.iAmSuperAdmin = iAmSuperAdmin;
const _1 = __webpack_require__(/*! ./ */ "./src/group/functions/index.ts");
async function iAmSuperAdmin(groupId) {
    const groupChat = await (0, _1.ensureGroup)(groupId);
    return groupChat.groupMetadata.participants.iAmMember();
}


/***/ }),

/***/ "./src/group/functions/index.ts":
/*!**************************************!*\
  !*** ./src/group/functions/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setSubject = exports.setProperty = exports.GroupProperty = exports.setIcon = exports.setDescription = exports.revokeInviteCode = exports.removeParticipants = exports.removeIcon = exports.reject = exports.promoteParticipants = exports.leave = exports.join = exports.iAmSuperAdmin = exports.iAmRestrictedMember = exports.iAmMember = exports.iAmAdmin = exports.getPastParticipants = exports.getParticipants = exports.getMembershipRequests = exports.getInviteCode = exports.getGroupSizeLimit = exports.getGroupInfoFromInviteCode = exports.getAllGroups = exports.ensureGroupAndParticipants = exports.ensureGroup = exports.demoteParticipants = exports.create = exports.canRemove = exports.canPromote = exports.canDemote = exports.canAdd = exports.approve = exports.addParticipants = void 0;
var addParticipants_1 = __webpack_require__(/*! ./addParticipants */ "./src/group/functions/addParticipants.ts");
Object.defineProperty(exports, "addParticipants", ({ enumerable: true, get: function () { return addParticipants_1.addParticipants; } }));
var approve_1 = __webpack_require__(/*! ./approve */ "./src/group/functions/approve.ts");
Object.defineProperty(exports, "approve", ({ enumerable: true, get: function () { return approve_1.approve; } }));
var canAdd_1 = __webpack_require__(/*! ./canAdd */ "./src/group/functions/canAdd.ts");
Object.defineProperty(exports, "canAdd", ({ enumerable: true, get: function () { return canAdd_1.canAdd; } }));
var canDemote_1 = __webpack_require__(/*! ./canDemote */ "./src/group/functions/canDemote.ts");
Object.defineProperty(exports, "canDemote", ({ enumerable: true, get: function () { return canDemote_1.canDemote; } }));
var canPromote_1 = __webpack_require__(/*! ./canPromote */ "./src/group/functions/canPromote.ts");
Object.defineProperty(exports, "canPromote", ({ enumerable: true, get: function () { return canPromote_1.canPromote; } }));
var canRemove_1 = __webpack_require__(/*! ./canRemove */ "./src/group/functions/canRemove.ts");
Object.defineProperty(exports, "canRemove", ({ enumerable: true, get: function () { return canRemove_1.canRemove; } }));
var create_1 = __webpack_require__(/*! ./create */ "./src/group/functions/create.ts");
Object.defineProperty(exports, "create", ({ enumerable: true, get: function () { return create_1.create; } }));
var demoteParticipants_1 = __webpack_require__(/*! ./demoteParticipants */ "./src/group/functions/demoteParticipants.ts");
Object.defineProperty(exports, "demoteParticipants", ({ enumerable: true, get: function () { return demoteParticipants_1.demoteParticipants; } }));
var ensureGroup_1 = __webpack_require__(/*! ./ensureGroup */ "./src/group/functions/ensureGroup.ts");
Object.defineProperty(exports, "ensureGroup", ({ enumerable: true, get: function () { return ensureGroup_1.ensureGroup; } }));
var ensureGroupAndParticipants_1 = __webpack_require__(/*! ./ensureGroupAndParticipants */ "./src/group/functions/ensureGroupAndParticipants.ts");
Object.defineProperty(exports, "ensureGroupAndParticipants", ({ enumerable: true, get: function () { return ensureGroupAndParticipants_1.ensureGroupAndParticipants; } }));
var getAllGroups_1 = __webpack_require__(/*! ./getAllGroups */ "./src/group/functions/getAllGroups.ts");
Object.defineProperty(exports, "getAllGroups", ({ enumerable: true, get: function () { return getAllGroups_1.getAllGroups; } }));
var getGroupInfoFromInviteCode_1 = __webpack_require__(/*! ./getGroupInfoFromInviteCode */ "./src/group/functions/getGroupInfoFromInviteCode.ts");
Object.defineProperty(exports, "getGroupInfoFromInviteCode", ({ enumerable: true, get: function () { return getGroupInfoFromInviteCode_1.getGroupInfoFromInviteCode; } }));
var getGroupSizeLimit_1 = __webpack_require__(/*! ./getGroupSizeLimit */ "./src/group/functions/getGroupSizeLimit.ts");
Object.defineProperty(exports, "getGroupSizeLimit", ({ enumerable: true, get: function () { return getGroupSizeLimit_1.getGroupSizeLimit; } }));
var getInviteCode_1 = __webpack_require__(/*! ./getInviteCode */ "./src/group/functions/getInviteCode.ts");
Object.defineProperty(exports, "getInviteCode", ({ enumerable: true, get: function () { return getInviteCode_1.getInviteCode; } }));
var getMembershipRequests_1 = __webpack_require__(/*! ./getMembershipRequests */ "./src/group/functions/getMembershipRequests.ts");
Object.defineProperty(exports, "getMembershipRequests", ({ enumerable: true, get: function () { return getMembershipRequests_1.getMembershipRequests; } }));
var getParticipants_1 = __webpack_require__(/*! ./getParticipants */ "./src/group/functions/getParticipants.ts");
Object.defineProperty(exports, "getParticipants", ({ enumerable: true, get: function () { return getParticipants_1.getParticipants; } }));
var getPastParticipants_1 = __webpack_require__(/*! ./getPastParticipants */ "./src/group/functions/getPastParticipants.ts");
Object.defineProperty(exports, "getPastParticipants", ({ enumerable: true, get: function () { return getPastParticipants_1.getPastParticipants; } }));
var iAmAdmin_1 = __webpack_require__(/*! ./iAmAdmin */ "./src/group/functions/iAmAdmin.ts");
Object.defineProperty(exports, "iAmAdmin", ({ enumerable: true, get: function () { return iAmAdmin_1.iAmAdmin; } }));
var iAmMember_1 = __webpack_require__(/*! ./iAmMember */ "./src/group/functions/iAmMember.ts");
Object.defineProperty(exports, "iAmMember", ({ enumerable: true, get: function () { return iAmMember_1.iAmMember; } }));
var iAmRestrictedMember_1 = __webpack_require__(/*! ./iAmRestrictedMember */ "./src/group/functions/iAmRestrictedMember.ts");
Object.defineProperty(exports, "iAmRestrictedMember", ({ enumerable: true, get: function () { return iAmRestrictedMember_1.iAmRestrictedMember; } }));
var iAmSuperAdmin_1 = __webpack_require__(/*! ./iAmSuperAdmin */ "./src/group/functions/iAmSuperAdmin.ts");
Object.defineProperty(exports, "iAmSuperAdmin", ({ enumerable: true, get: function () { return iAmSuperAdmin_1.iAmSuperAdmin; } }));
var join_1 = __webpack_require__(/*! ./join */ "./src/group/functions/join.ts");
Object.defineProperty(exports, "join", ({ enumerable: true, get: function () { return join_1.join; } }));
var leave_1 = __webpack_require__(/*! ./leave */ "./src/group/functions/leave.ts");
Object.defineProperty(exports, "leave", ({ enumerable: true, get: function () { return leave_1.leave; } }));
var promoteParticipants_1 = __webpack_require__(/*! ./promoteParticipants */ "./src/group/functions/promoteParticipants.ts");
Object.defineProperty(exports, "promoteParticipants", ({ enumerable: true, get: function () { return promoteParticipants_1.promoteParticipants; } }));
var reject_1 = __webpack_require__(/*! ./reject */ "./src/group/functions/reject.ts");
Object.defineProperty(exports, "reject", ({ enumerable: true, get: function () { return reject_1.reject; } }));
var removeIcon_1 = __webpack_require__(/*! ./removeIcon */ "./src/group/functions/removeIcon.ts");
Object.defineProperty(exports, "removeIcon", ({ enumerable: true, get: function () { return removeIcon_1.removeIcon; } }));
var removeParticipants_1 = __webpack_require__(/*! ./removeParticipants */ "./src/group/functions/removeParticipants.ts");
Object.defineProperty(exports, "removeParticipants", ({ enumerable: true, get: function () { return removeParticipants_1.removeParticipants; } }));
var revokeInviteCode_1 = __webpack_require__(/*! ./revokeInviteCode */ "./src/group/functions/revokeInviteCode.ts");
Object.defineProperty(exports, "revokeInviteCode", ({ enumerable: true, get: function () { return revokeInviteCode_1.revokeInviteCode; } }));
var setDescription_1 = __webpack_require__(/*! ./setDescription */ "./src/group/functions/setDescription.ts");
Object.defineProperty(exports, "setDescription", ({ enumerable: true, get: function () { return setDescription_1.setDescription; } }));
var setIcon_1 = __webpack_require__(/*! ./setIcon */ "./src/group/functions/setIcon.ts");
Object.defineProperty(exports, "setIcon", ({ enumerable: true, get: function () { return setIcon_1.setIcon; } }));
var setProperty_1 = __webpack_require__(/*! ./setProperty */ "./src/group/functions/setProperty.ts");
Object.defineProperty(exports, "GroupProperty", ({ enumerable: true, get: function () { return setProperty_1.GroupProperty; } }));
Object.defineProperty(exports, "setProperty", ({ enumerable: true, get: function () { return setProperty_1.setProperty; } }));
var setSubject_1 = __webpack_require__(/*! ./setSubject */ "./src/group/functions/setSubject.ts");
Object.defineProperty(exports, "setSubject", ({ enumerable: true, get: function () { return setSubject_1.setSubject; } }));


/***/ }),

/***/ "./src/group/functions/join.ts":
/*!*************************************!*\
  !*** ./src/group/functions/join.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.join = join;
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Join in a group from an invite code.
 *
 * @example
 * ```javascript
 * await WPP.group.join('abcde....');
 * ```
 *
 * @category Group
 */
async function join(inviteCode) {
    inviteCode = inviteCode.replace('chat.whatsapp.com/', '');
    inviteCode = inviteCode.replace('invite/', '');
    inviteCode = inviteCode.replace('https://', '');
    inviteCode = inviteCode.replace('http://', '');
    const result = await (0, functions_1.sendJoinGroupViaInvite)(inviteCode);
    return {
        id: result.toString(),
    };
}


/***/ }),

/***/ "./src/group/functions/leave.ts":
/*!**************************************!*\
  !*** ./src/group/functions/leave.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.leave = leave;
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/group/functions/index.ts");
/**
 * Leave from a group.
 *
 * @example
 * ```javascript
 * await WPP.group.leave('[number]@g.us');
 * ```
 *
 * @category Group
 */
async function leave(groupId) {
    const groupChat = await (0, _1.ensureGroup)(groupId);
    return await (0, functions_1.sendExitGroup)(groupChat);
}


/***/ }),

/***/ "./src/group/functions/promoteParticipants.ts":
/*!****************************************************!*\
  !*** ./src/group/functions/promoteParticipants.ts ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.promoteParticipants = promoteParticipants;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const wa_functions = __importStar(__webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts"));
const ensureGroupAndParticipants_1 = __webpack_require__(/*! ./ensureGroupAndParticipants */ "./src/group/functions/ensureGroupAndParticipants.ts");
/**
 * Promote group member to admin
 *
 * @example
 * ```javascript
 * // One member
 * await WPP.group.promoteParticipants('123456@g.us', '123456@c.us');
 *
 * // More than one member
 * await WPP.group.promoteParticipants('123456@g.us', ['123456@c.us','123456@c.us']);
 * ```
 *
 * @category Group
 */
async function promoteParticipants(groupId, participantsIds) {
    const { groupChat, participants } = await (0, ensureGroupAndParticipants_1.ensureGroupAndParticipants)(groupId, participantsIds);
    if (participants.some((p) => { var _a; return !((_a = groupChat.groupMetadata) === null || _a === void 0 ? void 0 : _a.participants.canPromote(p)); })) {
        throw new util_1.WPPError('group_participant_is_already_a_group_admin', `Group ${groupChat.id._serialized}: Group participant is already a group admin`);
    }
    return wa_functions.promoteParticipants(groupChat, participants);
}


/***/ }),

/***/ "./src/group/functions/reject.ts":
/*!***************************************!*\
  !*** ./src/group/functions/reject.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.reject = reject;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Reject a membership request to group
 *
 * @example
 * ```javascript
 * await WPP.group.reject(12345645@g.us, 5554999999999@c.us);
 * ```
 *
 * @category Group
 */
async function reject(groupId, membershipIds) {
    groupId = (0, assert_1.assertWid)(groupId);
    if (!Array.isArray(membershipIds)) {
        membershipIds = [membershipIds];
    }
    const wids = membershipIds.map(assert_1.assertWid);
    try {
        return await (0, functions_1.membershipApprovalRequestAction)(groupId, wids, 'Reject');
    }
    catch (error) {
        throw new util_1.WPPError('error_on_reject_membership_request', `Error on reject member on group ${groupId.toString()}`);
    }
}


/***/ }),

/***/ "./src/group/functions/removeIcon.ts":
/*!*******************************************!*\
  !*** ./src/group/functions/removeIcon.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.removeIcon = removeIcon;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const _1 = __webpack_require__(/*! ./ */ "./src/group/functions/index.ts");
/**
 * Remove the group icon (group profile picture)
 *
 * @example
 * ```javascript
 * await WPP.group.removeIcon('[group@g.us]');
 * ```
 *
 * @category Group
 */
async function removeIcon(groupId) {
    const groupChat = await (0, _1.ensureGroup)(groupId);
    const result = await whatsapp_1.functions.requestDeletePicture(groupChat.id);
    return result.status === 200;
}


/***/ }),

/***/ "./src/group/functions/removeParticipants.ts":
/*!***************************************************!*\
  !*** ./src/group/functions/removeParticipants.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.removeParticipants = removeParticipants;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const wa_functions = __importStar(__webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts"));
const ensureGroup_1 = __webpack_require__(/*! ./ensureGroup */ "./src/group/functions/ensureGroup.ts");
const ensureGroupAndParticipants_1 = __webpack_require__(/*! ./ensureGroupAndParticipants */ "./src/group/functions/ensureGroupAndParticipants.ts");
/**
 * Remove participants of a group
 *
 * @example
 * ```javascript
 * // One member
 * await WPP.group.removeParticipants('123456@g.us', '123456@c.us');
 *
 * // More than one member
 * await WPP.group.removeParticipants('123456@g.us', ['123456@c.us','123456@c.us']);
 * ```
 *
 * @category Group
 */
async function removeParticipants(groupId, participantsIds) {
    if (!Array.isArray(participantsIds)) {
        participantsIds = [participantsIds];
    }
    const groupChat = await (0, ensureGroup_1.ensureGroup)(groupId, true);
    const validWids = [];
    const wids = participantsIds.map(assert_1.assertWid);
    wids.map((wid) => {
        var _a;
        const participant = (_a = groupChat.groupMetadata) === null || _a === void 0 ? void 0 : _a.participants.get(wid);
        if (participant)
            validWids.push(wid);
    });
    if (validWids.length === 0)
        throw new util_1.WPPError('not_valid_group_participants', `No valid participants found for the group ${groupId}`);
    const { participants } = await (0, ensureGroupAndParticipants_1.ensureGroupAndParticipants)(groupId, validWids);
    if (participants.some((p) => { var _a; return !((_a = groupChat.groupMetadata) === null || _a === void 0 ? void 0 : _a.participants.canRemove(p)); })) {
        throw new util_1.WPPError('group_participant_is_not_a_group_member', `Group ${groupChat.id._serialized}: Group participant is not a group member`);
    }
    return wa_functions.removeParticipants(groupChat, participants);
}


/***/ }),

/***/ "./src/group/functions/revokeInviteCode.ts":
/*!*************************************************!*\
  !*** ./src/group/functions/revokeInviteCode.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.revokeInviteCode = revokeInviteCode;
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/group/functions/index.ts");
/**
 * Revoke the current invite code and generate new one.
 *
 * @example
 * ```javascript
 * const code = WPP.group.revokeInviteCode('[group-id]@g.us');
 * const link = 'https://chat.whatsapp.com/' + code;
 * ```
 *
 * @category Group
 */
async function revokeInviteCode(groupId) {
    const groupChat = await (0, _1.ensureGroup)(groupId, true);
    return await (0, functions_1.sendRevokeGroupInviteCode)(groupChat.id);
}


/***/ }),

/***/ "./src/group/functions/setDescription.ts":
/*!***********************************************!*\
  !*** ./src/group/functions/setDescription.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setDescription = setDescription;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const _1 = __webpack_require__(/*! ./ */ "./src/group/functions/index.ts");
/**
 * Define the group description
 *
 * @example
 * ```javascript
 * await WPP.group.setDescription('[group-id]@g.us', 'new group description');
 * ```
 *
 * @category Group
 */
async function setDescription(groupId, description) {
    var _a, _b;
    const groupChat = await (0, _1.ensureGroup)(groupId);
    if (!((_a = groupChat.groupMetadata) === null || _a === void 0 ? void 0 : _a.canSetDescription())) {
        throw new util_1.WPPError('you_are_not_allowed_set_group_description', `You are not allowed to set group description in ${groupChat.id._serialized}`, {
            groupId: groupChat.id.toString(),
        });
    }
    /**
     * @todo change randomMessageId to randomHex
     */
    const tagId = await Promise.resolve((0, functions_1.randomMessageId)());
    await (0, functions_1.sendSetGroupDescription)(groupChat.id, description, tagId, (_b = groupChat.groupMetadata) === null || _b === void 0 ? void 0 : _b.descId);
    groupChat.groupMetadata.descId = tagId;
    groupChat.groupMetadata.desc = description;
    return true;
}


/***/ }),

/***/ "./src/group/functions/setIcon.ts":
/*!****************************************!*\
  !*** ./src/group/functions/setIcon.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setIcon = setIcon;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const _1 = __webpack_require__(/*! ./ */ "./src/group/functions/index.ts");
/**
 * Set the group icon (group profile picture)
 *
 * @example
 * ```javascript
 * await WPP.group.setIcon('[group@g.us]', 'data:image/jpeg;base64,.....');
 * ```
 *
 * @category Group
 */
async function setIcon(groupId, content) {
    const groupChat = await (0, _1.ensureGroup)(groupId);
    if (await (0, _1.iAmRestrictedMember)(groupId)) {
        throw new util_1.WPPError('group_you_are_restricted_member', `You are a restricted member in ${groupChat.id._serialized}`);
    }
    const file = await (0, util_1.convertToFile)(content);
    const thumbFile = await (0, util_1.resizeImage)(file, {
        width: 96,
        height: 96,
        mimeType: 'image/jpeg',
        resize: 'cover',
    });
    const pictureFile = await (0, util_1.resizeImage)(file, {
        width: 640,
        height: 640,
        mimeType: 'image/jpeg',
        resize: 'cover',
    });
    const thumbBase64 = await (0, util_1.blobToBase64)(thumbFile);
    const pictureBase64 = await (0, util_1.blobToBase64)(pictureFile);
    return (0, functions_1.sendSetPicture)(groupChat.id, thumbBase64, pictureBase64);
}


/***/ }),

/***/ "./src/group/functions/setProperty.ts":
/*!********************************************!*\
  !*** ./src/group/functions/setProperty.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GroupProperty = void 0;
exports.setProperty = setProperty;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const _1 = __webpack_require__(/*! ./ */ "./src/group/functions/index.ts");
var GroupProperty;
(function (GroupProperty) {
    GroupProperty["ANNOUNCEMENT"] = "announcement";
    GroupProperty["EPHEMERAL"] = "ephemeral";
    GroupProperty["RESTRICT"] = "restrict";
})(GroupProperty || (exports.GroupProperty = GroupProperty = {}));
/**
 * Set the group property
 *
 * @example
 * ```javascript
 * // Only admins can send message
 * await WPP.group.setProperty('[group-id]@g.us', 'announcement', true);
 *
 * // All can send message
 * await WPP.group.setProperty('[group-id]@g.us', 'announcement', false);
 *
 * // Disatble temporary messages
 * await WPP.group.setProperty('[group-id]@g.us', 'ephemeral', 0);
 *
 * // Enable temporary messages for 24 hours
 * await WPP.group.setProperty('[group-id]@g.us', 'ephemeral', 86400);
 *
 * // Enable temporary messages for 7 days
 * await WPP.group.setProperty('[group-id]@g.us', 'ephemeral', 604800);
 *
 * // Enable temporary messages for 90 days
 * await WPP.group.setProperty('[group-id]@g.us', 'ephemeral', 7776000);
 *
 * // Only admins can edit group properties
 * await WPP.group.setProperty('[group-id]@g.us', 'restrict', true);
 *
 * // All can edit group properties
 * await WPP.group.setProperty('[group-id]@g.us', 'restrict', false);
 * ```
 *
 * @category Group
 */
async function setProperty(groupId, property, value) {
    var _a, _b;
    const groupChat = await (0, _1.ensureGroup)(groupId);
    if (property !== GroupProperty.ANNOUNCEMENT &&
        !((_a = groupChat.groupMetadata) === null || _a === void 0 ? void 0 : _a.canSetGroupProperty())) {
        throw new util_1.WPPError('you_are_not_allowed_set_group_property', `You are not allowed to set property in ${groupChat.id._serialized}`, {
            groupId: groupChat.id.toString(),
        });
    }
    if (property == GroupProperty.ANNOUNCEMENT &&
        !((_b = groupChat.groupMetadata) === null || _b === void 0 ? void 0 : _b.canSetEphemeralSetting())) {
        throw new util_1.WPPError('you_are_not_allowed_set_ephemeral_setting', `You are not allowed to set ephemeral setting in ${groupChat.id._serialized}`, {
            groupId: groupChat.id.toString(),
        });
    }
    if (property === GroupProperty.EPHEMERAL) {
        if (typeof value === 'boolean' || value === 1) {
            value = 604800;
        }
        // If the value is different from those allowed
        if (![0, 86400, 604800, 7776000].includes(value)) {
            throw new util_1.WPPError('invalid_ephemeral_duration', 'Invalid ephemeral duration', {
                value,
            });
        }
    }
    else {
        // MD uses number
        value = value ? 1 : 0;
    }
    await (0, functions_1.sendSetGroupProperty)(groupChat.id, property, value);
    return true;
}


/***/ }),

/***/ "./src/group/functions/setSubject.ts":
/*!*******************************************!*\
  !*** ./src/group/functions/setSubject.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setSubject = setSubject;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const _1 = __webpack_require__(/*! ./ */ "./src/group/functions/index.ts");
/**
 * Define the group subject
 *
 * @example
 * ```javascript
 * await WPP.group.setSubject('[group-id]@g.us', 'new group subject');
 * ```
 *
 * @category Group
 */
async function setSubject(groupId, subject) {
    var _a;
    const groupChat = await (0, _1.ensureGroup)(groupId);
    if (!((_a = groupChat.groupMetadata) === null || _a === void 0 ? void 0 : _a.canSetSubject())) {
        throw new util_1.WPPError('you_are_not_allowed_set_group_subject', `You are not allowed to set group subject in ${groupChat.id._serialized}`, {
            groupId: groupChat.id.toString(),
        });
    }
    await (0, functions_1.sendSetGroupSubject)(groupChat.id, subject);
    groupChat.name = subject;
    groupChat.formattedTitle = subject;
    return true;
}


/***/ }),

/***/ "./src/group/index.ts":
/*!****************************!*\
  !*** ./src/group/index.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__webpack_require__(/*! ./events */ "./src/group/events/index.ts");
__exportStar(__webpack_require__(/*! ./functions */ "./src/group/functions/index.ts"), exports);


/***/ }),

/***/ "./src/gtag/Tracker.ts":
/*!*****************************!*\
  !*** ./src/gtag/Tracker.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Tracker = void 0;
const typescript_debounce_decorator_1 = __webpack_require__(/*! typescript-debounce-decorator */ "./node_modules/typescript-debounce-decorator/index.min.js");
function randomNumber(min = 0, max = 2147483647) {
    return Math.floor(Math.random() * (max - min + 1) + min);
}
/**
 * [Tracker description]
 *
 * @see https://www.thyngster.com/ga4-measurement-protocol-cheatsheet/
 */
class Tracker {
    static get clientState() {
        const firstVisit = !localStorage['cid'];
        const cid = localStorage['cid'] ||
            sessionStorage['cid'] ||
            randomNumber(1000000000) + '.' + Math.floor(Date.now() / 1000);
        localStorage['cid'] = sessionStorage['cid'] = cid;
        return { firstVisit, cid };
    }
    constructor(trackingId) {
        this.trackingId = trackingId;
        this.events = [];
        this.userProperties = {};
        this.lastTime = Date.now();
        this.hitsCount = 1;
        this.documentTitle = '';
    }
    get sid() {
        const sid_key = `${this.trackingId}_sid`;
        const sid = sessionStorage[sid_key] || Math.floor(Date.now() / 1000);
        sessionStorage[sid_key] = sid;
        return sid;
    }
    get sct() {
        const sct_key = `${this.trackingId}_sct`;
        let count = parseInt(localStorage[sct_key]);
        if (isNaN(count)) {
            count = 0;
        }
        localStorage[sct_key] = count + 1;
        return localStorage[sct_key];
    }
    getHeader() {
        const { cid, firstVisit } = Tracker.clientState;
        return {
            v: 2, // Protocol Version
            tid: this.trackingId, // Measurement ID
            _p: Tracker.pageLoadHash,
            cid: cid, // Client ID
            _fv: firstVisit ? 1 : void 0, // Client ID
            ul: (navigator.language || '').toLowerCase() || void 0, // User Language
            sr: `${screen.width}x${screen.height}`, // Screen Resolution
            _s: this.hitsCount++, // Session Hits count
            sid: this.sid, // Session ID
            sct: this.sct, // Session Count
            seg: 1, // Session Engaged
            dl: location.href, // Document location
            dr: document.referrer, // Document referrer
            dt: this.documentTitle || document.title, // Document title
            //   _dbg: 1, // Debug
        };
    }
    /**
     * Get the current user properties
     */
    getUserProperties() {
        const userProperties = this.userProperties;
        this.userProperties = {};
        const data = Object.entries(userProperties)
            .filter(([, v]) => typeof v !== 'undefined')
            .map(([k, v]) => {
            if (typeof v === 'number') {
                return [`upn.${k}`, String(v)];
            }
            return [`up.${k}`, String(v)];
        });
        return data;
    }
    /**
     * Process all queued events
     */
    processEvents() {
        const events = this.events;
        this.events = [];
        if (!events.length) {
            return;
        }
        const eventsData = events.map(([name, params, time]) => {
            const data = [];
            data.push(['en', name]);
            data.push(['_ee', '1']);
            if (params) {
                for (const k in params) {
                    const v = params[k];
                    if (typeof v === 'undefined') {
                        continue;
                    }
                    else if (typeof v === 'number') {
                        data.push([`epn.${k}`, String(v)]);
                    }
                    else {
                        data.push([`ep.${k}`, String(v)]);
                    }
                }
            }
            data.push(['_et', String(time)]);
            return data;
        });
        const header = Object.entries(this.getHeader())
            .filter(([, v]) => typeof v !== 'undefined')
            .map(([k, v]) => [k, String(v)]);
        header.push(...this.getUserProperties());
        const url = new URLSearchParams(header);
        if (eventsData.length === 1) {
            for (const [k, v] of eventsData[0]) {
                url.append(k, v);
            }
            navigator.sendBeacon(`${Tracker.collectURL}?${url.toString()}`);
        }
        else {
            // Send a batch of events
            const data = eventsData.map((e) => new URLSearchParams(e).toString());
            navigator.sendBeacon(`${Tracker.collectURL}?${url.toString()}`, data.join('\n'));
        }
    }
    /**
     * Send a user engagement each 5 minutes
     */
    processUserEngagement() {
        this.trackEvent('user_engagement');
    }
    trackEvent(eventName, params) {
        const now = Date.now();
        const time = now - this.lastTime;
        this.lastTime = now;
        this.events.push([eventName, params, time]);
        this.processEvents();
        this.processUserEngagement();
    }
    setUserProperty(key, value) {
        this.userProperties[key] = value;
        this.trackEvent('user_engagement');
    }
}
exports.Tracker = Tracker;
Tracker.collectURL = 'https://analytics.google.com/g/collect';
Tracker.pageLoadHash = randomNumber();
__decorate([
    (0, typescript_debounce_decorator_1.debounce)(1000)
], Tracker.prototype, "processEvents", null);
__decorate([
    (0, typescript_debounce_decorator_1.debounce)(300000)
], Tracker.prototype, "processUserEngagement", null);


/***/ }),

/***/ "./src/gtag/index.ts":
/*!***************************!*\
  !*** ./src/gtag/index.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.waVersion = void 0;
exports.trackException = trackException;
const config_1 = __webpack_require__(/*! ../config */ "./src/config/index.ts");
const conn = __importStar(__webpack_require__(/*! ../conn */ "./src/conn/index.ts"));
const eventEmitter_1 = __webpack_require__(/*! ../eventEmitter */ "./src/eventEmitter/index.ts");
const Tracker_1 = __webpack_require__(/*! ./Tracker */ "./src/gtag/Tracker.ts");
__exportStar(__webpack_require__(/*! ./Tracker */ "./src/gtag/Tracker.ts"), exports);
exports.waVersion = '3.18.7';
/**
 * Always keep the main tracker only for version report
 */
const titleParts = ['W: ', '-', ', WA-JS: ', exports.waVersion];
const mainTracker = new Tracker_1.Tracker('G-MTQ4KY110F');
const otherTracker = config_1.config.googleAnalyticsId
    ? new Tracker_1.Tracker(config_1.config.googleAnalyticsId)
    : null;
eventEmitter_1.internalEv.on('webpack.injected', () => {
    const authenticated = conn.isAuthenticated();
    const method = conn.isMultiDevice() ? 'multidevice' : 'legacy';
    // Add version info
    if (!config_1.config.disableGoogleAnalytics) {
        mainTracker.documentTitle = titleParts.join('');
        mainTracker.setUserProperty('method', method);
        mainTracker.setUserProperty('wa_js', exports.waVersion);
        mainTracker.setUserProperty('powered_by', config_1.config.poweredBy || '-');
    }
    eventEmitter_1.internalEv.on('conn.main_init', () => {
        var _a;
        titleParts[1] = ((_a = window.Debug) === null || _a === void 0 ? void 0 : _a.VERSION) || '-';
        if (!config_1.config.disableGoogleAnalytics) {
            mainTracker.documentTitle = titleParts.join('');
            mainTracker.setUserProperty('whatsapp', titleParts[1]);
        }
    });
    if (otherTracker && !config_1.config.disableGoogleAnalytics) {
        mainTracker.trackEvent('page_view', { authenticated, method });
        otherTracker.documentTitle = titleParts.join('-');
        otherTracker.setUserProperty('method', method);
        otherTracker.setUserProperty('wa_js', exports.waVersion);
        otherTracker.setUserProperty('powered_by', config_1.config.poweredBy || '-');
        eventEmitter_1.internalEv.on('conn.main_init', () => {
            var _a;
            titleParts[1] = ((_a = window.Debug) === null || _a === void 0 ? void 0 : _a.VERSION) || '-';
            otherTracker.documentTitle = titleParts.join('');
            otherTracker.setUserProperty('whatsapp', titleParts[1]);
        });
        if (typeof config_1.config.googleAnalyticsUserProperty === 'object') {
            for (const key in config_1.config.googleAnalyticsUserProperty) {
                const value = config_1.config.googleAnalyticsUserProperty[key];
                otherTracker.setUserProperty(key, value);
            }
        }
        otherTracker.trackEvent('page_view', { authenticated, method });
    }
    eventEmitter_1.internalEv.on('config.update', (evt) => {
        if (!config_1.config.disableGoogleAnalytics) {
            if (evt.path[0] === 'poweredBy') {
                mainTracker.setUserProperty('powered_by', evt.value || '-');
                if (otherTracker) {
                    otherTracker.setUserProperty('powered_by', evt.value || '-');
                }
            }
            else if (evt.path[0] === 'googleAnalyticsUserProperty' &&
                otherTracker) {
                if (typeof config_1.config.googleAnalyticsUserProperty === 'object') {
                    for (const key in config_1.config.googleAnalyticsUserProperty) {
                        const value = config_1.config.googleAnalyticsUserProperty[key];
                        otherTracker.setUserProperty(key, value);
                    }
                }
            }
        }
    });
});
if (!config_1.config.disableGoogleAnalytics) {
    eventEmitter_1.internalEv.on('conn.authenticated', () => {
        const method = conn.isMultiDevice() ? 'multidevice' : 'legacy';
        mainTracker.trackEvent('login', { method });
        if (otherTracker) {
            mainTracker.trackEvent('login', { method });
        }
    });
    eventEmitter_1.internalEv.on('conn.logout', () => {
        const method = conn.isMultiDevice() ? 'multidevice' : 'legacy';
        mainTracker.trackEvent('logout', { method });
        if (otherTracker) {
            otherTracker.trackEvent('logout', { method });
        }
    });
}
function trackException(description, fatal = false) {
    if (config_1.config.disableGoogleAnalytics) {
        return;
    }
    mainTracker.trackEvent('exception', { description, fatal });
    if (otherTracker) {
        otherTracker.trackEvent('exception', { description, fatal });
    }
}


/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.license = exports.supportedWhatsappWeb = exports.version = exports.waitFor = exports.stopListeningTo = exports.setMaxListeners = exports.removeListener = exports.removeAllListeners = exports.prependOnceListener = exports.prependMany = exports.prependListener = exports.prependAny = exports.once = exports.onAny = exports.on = exports.offAny = exports.off = exports.many = exports.listenersAny = exports.listeners = exports.listenerCount = exports.listenTo = exports.hasListeners = exports.getMaxListeners = exports.eventNames = exports.emitAsync = exports.emit = exports.order = exports.whatsapp = exports.newsletter = exports.util = exports.status = exports.profile = exports.labels = exports.group = exports.community = exports.ev = exports.contact = exports.conn = exports.chat = exports.catalog = exports.privacy = exports.cart = exports.call = exports.blocklist = exports.config = exports.isFullReady = exports.isReady = exports.isInjected = exports.webpack = void 0;
/* eslint-disable simple-import-sort/exports */
/* eslint-disable simple-import-sort/imports */
__webpack_require__(/*! ./config */ "./src/config/index.ts");
__webpack_require__(/*! ./deviceName */ "./src/deviceName.ts");
__webpack_require__(/*! ./gtag */ "./src/gtag/index.ts");
const webpack = __importStar(__webpack_require__(/*! ./webpack */ "./src/webpack/index.ts"));
exports.webpack = webpack;
var webpack_1 = __webpack_require__(/*! ./webpack */ "./src/webpack/index.ts");
Object.defineProperty(exports, "isInjected", ({ enumerable: true, get: function () { return webpack_1.isInjected; } }));
Object.defineProperty(exports, "isReady", ({ enumerable: true, get: function () { return webpack_1.isReady; } }));
Object.defineProperty(exports, "isFullReady", ({ enumerable: true, get: function () { return webpack_1.isFullReady; } }));
var config_1 = __webpack_require__(/*! ./config */ "./src/config/index.ts");
Object.defineProperty(exports, "config", ({ enumerable: true, get: function () { return config_1.config; } }));
exports.blocklist = __importStar(__webpack_require__(/*! ./blocklist */ "./src/blocklist/index.ts"));
exports.call = __importStar(__webpack_require__(/*! ./call */ "./src/call/index.ts"));
exports.cart = __importStar(__webpack_require__(/*! ./cart */ "./src/cart/index.ts"));
exports.privacy = __importStar(__webpack_require__(/*! ./privacy */ "./src/privacy/index.ts"));
exports.catalog = __importStar(__webpack_require__(/*! ./catalog */ "./src/catalog/index.ts"));
exports.chat = __importStar(__webpack_require__(/*! ./chat */ "./src/chat/index.ts"));
exports.conn = __importStar(__webpack_require__(/*! ./conn */ "./src/conn/index.ts"));
exports.contact = __importStar(__webpack_require__(/*! ./contact */ "./src/contact/index.ts"));
exports.ev = __importStar(__webpack_require__(/*! ./eventEmitter */ "./src/eventEmitter/index.ts"));
exports.community = __importStar(__webpack_require__(/*! ./community */ "./src/community/index.ts"));
exports.group = __importStar(__webpack_require__(/*! ./group */ "./src/group/index.ts"));
exports.labels = __importStar(__webpack_require__(/*! ./labels */ "./src/labels/index.ts"));
exports.profile = __importStar(__webpack_require__(/*! ./profile */ "./src/profile/index.ts"));
exports.status = __importStar(__webpack_require__(/*! ./status */ "./src/status/index.ts"));
exports.util = __importStar(__webpack_require__(/*! ./util */ "./src/util/index.ts"));
exports.newsletter = __importStar(__webpack_require__(/*! ./newsletter */ "./src/newsletter/index.ts"));
exports.whatsapp = __importStar(__webpack_require__(/*! ./whatsapp */ "./src/whatsapp/index.ts"));
exports.order = __importStar(__webpack_require__(/*! ./order */ "./src/order/index.ts"));
var eventEmitter_1 = __webpack_require__(/*! ./eventEmitter */ "./src/eventEmitter/index.ts");
Object.defineProperty(exports, "emit", ({ enumerable: true, get: function () { return eventEmitter_1.emit; } }));
Object.defineProperty(exports, "emitAsync", ({ enumerable: true, get: function () { return eventEmitter_1.emitAsync; } }));
Object.defineProperty(exports, "eventNames", ({ enumerable: true, get: function () { return eventEmitter_1.eventNames; } }));
Object.defineProperty(exports, "getMaxListeners", ({ enumerable: true, get: function () { return eventEmitter_1.getMaxListeners; } }));
Object.defineProperty(exports, "hasListeners", ({ enumerable: true, get: function () { return eventEmitter_1.hasListeners; } }));
Object.defineProperty(exports, "listenTo", ({ enumerable: true, get: function () { return eventEmitter_1.listenTo; } }));
Object.defineProperty(exports, "listenerCount", ({ enumerable: true, get: function () { return eventEmitter_1.listenerCount; } }));
Object.defineProperty(exports, "listeners", ({ enumerable: true, get: function () { return eventEmitter_1.listeners; } }));
Object.defineProperty(exports, "listenersAny", ({ enumerable: true, get: function () { return eventEmitter_1.listenersAny; } }));
Object.defineProperty(exports, "many", ({ enumerable: true, get: function () { return eventEmitter_1.many; } }));
Object.defineProperty(exports, "off", ({ enumerable: true, get: function () { return eventEmitter_1.off; } }));
Object.defineProperty(exports, "offAny", ({ enumerable: true, get: function () { return eventEmitter_1.offAny; } }));
Object.defineProperty(exports, "on", ({ enumerable: true, get: function () { return eventEmitter_1.on; } }));
Object.defineProperty(exports, "onAny", ({ enumerable: true, get: function () { return eventEmitter_1.onAny; } }));
Object.defineProperty(exports, "once", ({ enumerable: true, get: function () { return eventEmitter_1.once; } }));
Object.defineProperty(exports, "prependAny", ({ enumerable: true, get: function () { return eventEmitter_1.prependAny; } }));
Object.defineProperty(exports, "prependListener", ({ enumerable: true, get: function () { return eventEmitter_1.prependListener; } }));
Object.defineProperty(exports, "prependMany", ({ enumerable: true, get: function () { return eventEmitter_1.prependMany; } }));
Object.defineProperty(exports, "prependOnceListener", ({ enumerable: true, get: function () { return eventEmitter_1.prependOnceListener; } }));
Object.defineProperty(exports, "removeAllListeners", ({ enumerable: true, get: function () { return eventEmitter_1.removeAllListeners; } }));
Object.defineProperty(exports, "removeListener", ({ enumerable: true, get: function () { return eventEmitter_1.removeListener; } }));
Object.defineProperty(exports, "setMaxListeners", ({ enumerable: true, get: function () { return eventEmitter_1.setMaxListeners; } }));
Object.defineProperty(exports, "stopListeningTo", ({ enumerable: true, get: function () { return eventEmitter_1.stopListeningTo; } }));
Object.defineProperty(exports, "waitFor", ({ enumerable: true, get: function () { return eventEmitter_1.waitFor; } }));
exports.version = '3.18.7';
exports.supportedWhatsappWeb = '>=2.2326.10-beta';
exports.license = 'Apache-2.0';
webpack.injectLoader();


/***/ }),

/***/ "./src/labels/functions/addNewLabel.ts":
/*!*********************************************!*\
  !*** ./src/labels/functions/addNewLabel.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.addNewLabel = addNewLabel;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/labels/functions/index.ts");
/**
 * Add a new label
 * Use await WPP.labels.getLabelColorPalette() to get the list of available colors
 * @example
 * ```javascript
 * await WPP.labels.addNewLabel(`Name of label`);
 * //or
 * await WPP.labels.addNewLabel(`Name of label`, { labelColor: '#dfaef0' });
 * ```
 * //or with color index
 * await WPP.labels.addNewLabel(`Name of label`, { labelColor: 16 });
 * ```
 */
async function addNewLabel(labelName, options = {}) {
    (0, assert_1.assertIsBusiness)();
    let labelColor = options.labelColor || undefined;
    if (!labelColor)
        labelColor = await (0, _1.getNewLabelColor)();
    if (typeof labelColor === 'string' && labelColor.length > 2) {
        labelColor = (0, functions_1.getAllLabelColors)().findIndex((value) => value === labelColor);
    }
    labelColor = parseInt(labelColor.toString());
    if (!(await (0, _1.colorIsInLabelPalette)(labelColor))) {
        throw new util_1.WPPError('color_not_in_pallet', `Color not in pallet`);
    }
    const labelId = await (0, functions_1.getNextLabelId)();
    await (0, functions_1.labelAddAction)(labelName, labelColor);
    return await (0, _1.getLabelById)(labelId.toString());
}


/***/ }),

/***/ "./src/labels/functions/addOrRemoveLabels.ts":
/*!***************************************************!*\
  !*** ./src/labels/functions/addOrRemoveLabels.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.addOrRemoveLabels = addOrRemoveLabels;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Add or remove label from chats
 * @example
 * ```javascript
 * await WPP.labels.addOrRemoveLabels(
 *   ['[number]@c.us','[number]@c.us'],
 *   [{labelId:'76', type:'add'},{labelId:'75', type:'remove'}]
 * )
 * ```
 */
async function addOrRemoveLabels(chatIds, options) {
    (0, assert_1.assertIsBusiness)();
    if (!Array.isArray(chatIds)) {
        chatIds = [chatIds];
    }
    if (!Array.isArray(options)) {
        options = [options];
    }
    const chats = chatIds.map((e) => (0, assert_1.assertGetChat)(e));
    const labels = options.map((e) => {
        return {
            id: e.labelId,
            type: e.type,
        };
    });
    return await whatsapp_1.LabelStore.addOrRemoveLabels(labels, chats);
}


/***/ }),

/***/ "./src/labels/functions/colorIsInLabelPalette.ts":
/*!*******************************************************!*\
  !*** ./src/labels/functions/colorIsInLabelPalette.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.colorIsInLabelPalette = colorIsInLabelPalette;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/labels/functions/index.ts");
/**
 * Check if color is in label palette
 * @param color If it's decimal, send it as a number. If it's hexadecimal, send it as a string
 * @example
 * ```javascript
 * await WPP.labels.colorIsInLabelPalette('#ffd429');
 * //or
 * await WPP.labels.colorIsInLabelPalette(4284794111);
 * ```
 */
async function colorIsInLabelPalette(color) {
    (0, assert_1.assertIsBusiness)();
    const colorPalette = await (0, _1.getLabelColorPalette)();
    return (colorPalette &&
        (colorPalette.includes(color.toString()) ||
            colorPalette[parseInt(color.toString())] != undefined));
}


/***/ }),

/***/ "./src/labels/functions/deleteAllLabels.ts":
/*!*************************************************!*\
  !*** ./src/labels/functions/deleteAllLabels.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.deleteAllLabels = deleteAllLabels;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/labels/functions/index.ts");
async function deleteAllLabels() {
    (0, assert_1.assertIsBusiness)();
    const labels = await (0, _1.getAllLabels)();
    return (0, _1.deleteLabel)(labels.map((e) => e.id));
}


/***/ }),

/***/ "./src/labels/functions/deleteLabel.ts":
/*!*********************************************!*\
  !*** ./src/labels/functions/deleteLabel.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.deleteLabel = deleteLabel;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
async function deleteLabel(ids) {
    (0, assert_1.assertIsBusiness)();
    let isSingle = false;
    if (!Array.isArray(ids)) {
        isSingle = true;
        ids = [ids];
    }
    const results = [];
    for (const id of ids) {
        const label = whatsapp_1.LabelStore.get(id.toString());
        if (label)
            await (0, functions_1.labelDeleteAction)(id.toString(), label.name, label.colorIndex);
        results.push({
            id: id,
            deleteLabelResult: label != undefined
                ? whatsapp_1.LabelStore.get(id.toString()) != undefined
                    ? false
                    : true
                : false,
        });
    }
    if (isSingle) {
        return results[0];
    }
    return results;
}


/***/ }),

/***/ "./src/labels/functions/editLabel.ts":
/*!*******************************************!*\
  !*** ./src/labels/functions/editLabel.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.editLabel = editLabel;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/labels/functions/index.ts");
/**
 * Edit a label
 * For get a new color, use await WPP.labels.getLabelColorPalette() to get the list of available colors
 * @example
 * ```javascript
 * await WPP.labels.editLabel(`Name of label`);
 * //or
 * await WPP.labels.editLabel(`Name of label`, { labelColor: '#dfaef0' });
 * ```
 * //or with color index
 * await WPP.labels.editLabel(`Name of label`, { labelColor: 16 });
 * ```
 */
async function editLabel(id, options = {}) {
    (0, assert_1.assertIsBusiness)();
    const label = whatsapp_1.LabelStore.get(id.toString());
    if (!label) {
        throw new util_1.WPPError('label_not_exist', `Label with id ${id} not exist`);
    }
    let labelColor = options.labelColor || undefined;
    if (labelColor) {
        if (typeof labelColor === 'string' && labelColor.length > 2) {
            labelColor = (0, functions_1.getAllLabelColors)().findIndex((value) => value === labelColor);
        }
        labelColor = parseInt(labelColor.toString());
        if (!(await (0, _1.colorIsInLabelPalette)(labelColor))) {
            throw new util_1.WPPError('color_not_in_pallet', `Color not in pallet`);
        }
    }
    await (0, functions_1.labelEditAction)(id, options.name || label.name, 0, labelColor || label.colorIndex);
    return await (0, _1.getLabelById)(id.toString());
}


/***/ }),

/***/ "./src/labels/functions/getAllLabels.ts":
/*!**********************************************!*\
  !*** ./src/labels/functions/getAllLabels.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getAllLabels = getAllLabels;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const patch_1 = __webpack_require__(/*! ../patch */ "./src/labels/patch.ts");
async function getAllLabels() {
    const labels = whatsapp_1.LabelStore.getModelsArray();
    return labels.map((e) => {
        return {
            id: e.id,
            name: e.name,
            color: e.hexColor ? (0, assert_1.assertColor)(e.hexColor) : null,
            count: (0, patch_1.patchLabelCount)(e),
            hexColor: (0, functions_1.colorIndexToHex)(e.colorIndex),
            colorIndex: e.colorIndex,
        };
    });
}


/***/ }),

/***/ "./src/labels/functions/getLabelById.ts":
/*!**********************************************!*\
  !*** ./src/labels/functions/getLabelById.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getLabelById = getLabelById;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const patch_1 = __webpack_require__(/*! ../patch */ "./src/labels/patch.ts");
async function getLabelById(labelId) {
    const label = whatsapp_1.LabelStore.get(labelId);
    if (!label) {
        throw new util_1.WPPError('canot_get_label_error', `Can't get label by id`);
    }
    return {
        id: label.id,
        name: label.name,
        color: label.hexColor ? (0, assert_1.assertColor)(label.hexColor) : null,
        count: (0, patch_1.patchLabelCount)(label),
        hexColor: (0, functions_1.colorIndexToHex)(label.colorIndex),
        colorIndex: label.colorIndex,
    };
}


/***/ }),

/***/ "./src/labels/functions/getLabelColorPalette.ts":
/*!******************************************************!*\
  !*** ./src/labels/functions/getLabelColorPalette.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getLabelColorPalette = getLabelColorPalette;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Returns an array of color palette in hex code
 */
async function getLabelColorPalette() {
    (0, assert_1.assertIsBusiness)();
    const colorPalette = (0, functions_1.getAllLabelColors)();
    if (!colorPalette) {
        throw new util_1.WPPError('canot_get_color_palette', `Can't get color palette`);
    }
    return colorPalette;
}


/***/ }),

/***/ "./src/labels/functions/getNewLabelColor.ts":
/*!**************************************************!*\
  !*** ./src/labels/functions/getNewLabelColor.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getNewLabelColor = getNewLabelColor;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Return the color of the next label in positive decimal
 */
async function getNewLabelColor() {
    (0, assert_1.assertIsBusiness)();
    const newLabelColor = await whatsapp_1.LabelStore.getNextAvailableColor();
    if (!newLabelColor) {
        throw new util_1.WPPError('cannot_get_color', `Can't get new label color`);
    }
    return (0, assert_1.assertColor)(Number(newLabelColor));
}


/***/ }),

/***/ "./src/labels/functions/index.ts":
/*!***************************************!*\
  !*** ./src/labels/functions/index.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getNewLabelColor = exports.getLabelColorPalette = exports.getLabelById = exports.getAllLabels = exports.editLabel = exports.deleteLabel = exports.deleteAllLabels = exports.colorIsInLabelPalette = exports.addOrRemoveLabels = exports.addNewLabel = void 0;
var addNewLabel_1 = __webpack_require__(/*! ./addNewLabel */ "./src/labels/functions/addNewLabel.ts");
Object.defineProperty(exports, "addNewLabel", ({ enumerable: true, get: function () { return addNewLabel_1.addNewLabel; } }));
var addOrRemoveLabels_1 = __webpack_require__(/*! ./addOrRemoveLabels */ "./src/labels/functions/addOrRemoveLabels.ts");
Object.defineProperty(exports, "addOrRemoveLabels", ({ enumerable: true, get: function () { return addOrRemoveLabels_1.addOrRemoveLabels; } }));
var colorIsInLabelPalette_1 = __webpack_require__(/*! ./colorIsInLabelPalette */ "./src/labels/functions/colorIsInLabelPalette.ts");
Object.defineProperty(exports, "colorIsInLabelPalette", ({ enumerable: true, get: function () { return colorIsInLabelPalette_1.colorIsInLabelPalette; } }));
var deleteAllLabels_1 = __webpack_require__(/*! ./deleteAllLabels */ "./src/labels/functions/deleteAllLabels.ts");
Object.defineProperty(exports, "deleteAllLabels", ({ enumerable: true, get: function () { return deleteAllLabels_1.deleteAllLabels; } }));
var deleteLabel_1 = __webpack_require__(/*! ./deleteLabel */ "./src/labels/functions/deleteLabel.ts");
Object.defineProperty(exports, "deleteLabel", ({ enumerable: true, get: function () { return deleteLabel_1.deleteLabel; } }));
var editLabel_1 = __webpack_require__(/*! ./editLabel */ "./src/labels/functions/editLabel.ts");
Object.defineProperty(exports, "editLabel", ({ enumerable: true, get: function () { return editLabel_1.editLabel; } }));
var getAllLabels_1 = __webpack_require__(/*! ./getAllLabels */ "./src/labels/functions/getAllLabels.ts");
Object.defineProperty(exports, "getAllLabels", ({ enumerable: true, get: function () { return getAllLabels_1.getAllLabels; } }));
var getLabelById_1 = __webpack_require__(/*! ./getLabelById */ "./src/labels/functions/getLabelById.ts");
Object.defineProperty(exports, "getLabelById", ({ enumerable: true, get: function () { return getLabelById_1.getLabelById; } }));
var getLabelColorPalette_1 = __webpack_require__(/*! ./getLabelColorPalette */ "./src/labels/functions/getLabelColorPalette.ts");
Object.defineProperty(exports, "getLabelColorPalette", ({ enumerable: true, get: function () { return getLabelColorPalette_1.getLabelColorPalette; } }));
var getNewLabelColor_1 = __webpack_require__(/*! ./getNewLabelColor */ "./src/labels/functions/getNewLabelColor.ts");
Object.defineProperty(exports, "getNewLabelColor", ({ enumerable: true, get: function () { return getNewLabelColor_1.getNewLabelColor; } }));


/***/ }),

/***/ "./src/labels/index.ts":
/*!*****************************!*\
  !*** ./src/labels/index.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./functions */ "./src/labels/functions/index.ts"), exports);
__exportStar(__webpack_require__(/*! ./types */ "./src/labels/types.ts"), exports);


/***/ }),

/***/ "./src/labels/patch.ts":
/*!*****************************!*\
  !*** ./src/labels/patch.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2025 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.patchLabelCount = patchLabelCount;
const whatsapp_1 = __webpack_require__(/*! ../whatsapp */ "./src/whatsapp/index.ts");
// Fix for an error that included archived chats in the total count
// Archived chats should not be counted since they do not appear in WhatsApp
function patchLabelCount(label) {
    let count = 0;
    for (const item of label.labelItemCollection._models) {
        if (item.parentType !== 'Chat')
            continue;
        const chat = whatsapp_1.ChatStore.get(item.parentId);
        if (!(chat === null || chat === void 0 ? void 0 : chat.archive))
            count += 1;
    }
    return count;
}


/***/ }),

/***/ "./src/labels/types.ts":
/*!*****************************!*\
  !*** ./src/labels/types.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./src/newsletter/functions/create.ts":
/*!********************************************!*\
  !*** ./src/newsletter/functions/create.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.create = create;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Create a newsletter
 *
 * @example
 * ```javascript
 * // To edit name
 * WPP.newsletter.create('Name for your newsletter', {
 * description: 'Description for that',
 * picture: '<base64_string',
 * });
 * ```
 * @category Newsletter
 */
async function create(name, opts) {
    var _a, _b, _c;
    let pic = undefined;
    if (opts === null || opts === void 0 ? void 0 : opts.picture) {
        const file = await (0, util_1.convertToFile)(opts.picture);
        pic = await (0, util_1.blobToBase64)(file);
        ({ data: pic } = await (0, util_1.downloadImage)(pic, 'image/jpeg'));
    }
    const result = await (0, functions_1.createNewsletterQuery)({
        name: name,
        description: (opts === null || opts === void 0 ? void 0 : opts.description) || null,
        picture: pic || null,
    });
    return {
        idJid: result === null || result === void 0 ? void 0 : result.idJid,
        inviteCode: result === null || result === void 0 ? void 0 : result.newsletterInviteLinkMetadataMixin.inviteCode,
        inviteLink: `https://whatsapp.com/channel/${result === null || result === void 0 ? void 0 : result.newsletterInviteLinkMetadataMixin.inviteCode}`,
        name: (_a = result === null || result === void 0 ? void 0 : result.newsletterNameMetadataMixin) === null || _a === void 0 ? void 0 : _a.nameElementValue,
        state: (_b = result === null || result === void 0 ? void 0 : result.newsletterStateMetadataMixin) === null || _b === void 0 ? void 0 : _b.stateType,
        subscribersCount: result === null || result === void 0 ? void 0 : result.newsletterSubscribersMetadataMixin.subscribersCount,
        description: (opts === null || opts === void 0 ? void 0 : opts.description) || null,
        timestamp: (_c = result === null || result === void 0 ? void 0 : result.newsletterCreationTimeMetadataMixin) === null || _c === void 0 ? void 0 : _c.creationTimeValue,
    };
}


/***/ }),

/***/ "./src/newsletter/functions/destroy.ts":
/*!*********************************************!*\
  !*** ./src/newsletter/functions/destroy.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.destroy = destroy;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Delete a newsletter
 *
 * @example
 * ```javascript
 * const code = WPP.newsletter.destroy('[newsletter-id]@newsletter');
 * ```
 *
 * @category Newsletter
 */
async function destroy(id) {
    if (!id || !id.includes('newsletter'))
        throw new util_1.WPPError('send_correctly_newsletter_id', 'Please, send the correct newsletter ID.');
    try {
        return await (0, functions_1.deleteNewsletter)(id);
    }
    catch (error) {
        return false;
    }
}


/***/ }),

/***/ "./src/newsletter/functions/edit.ts":
/*!******************************************!*\
  !*** ./src/newsletter/functions/edit.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.edit = edit;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const ensureNewsletter_1 = __webpack_require__(/*! ./ensureNewsletter */ "./src/newsletter/functions/ensureNewsletter.ts");
/**
 * Edit the newsletter data
 *
 * @example
 * ```javascript
 * // To edit name
 * const code = WPP.newsletter.edit('[newsletter-id]@newsletter', {
 * name: 'New Name'
 * });
 *
 * // To edit description
 * const code = WPP.newsletter.edit('[newsletter-id]@newsletter', {
 * description: 'New description'
 * });
 *
 * // To change picture
 * const code = WPP.newsletter.edit('[newsletter-id]@newsletter', {
 * picture: '<base64_image>'
 * });
 *
 * // To remove picture
 * const code = WPP.newsletter.edit('[newsletter-id]@newsletter', {
 * picture: null
 * });
 * ```
 *
 * @category Newsletter
 */
async function edit(newsletterId, opts) {
    var _a, _b, _c, _d, _e;
    let pic = undefined;
    if (opts === null || opts === void 0 ? void 0 : opts.picture) {
        let base64 = opts.picture;
        if (opts.picture.includes('http'))
            ({ data: base64 } = await (0, util_1.downloadImage)(opts === null || opts === void 0 ? void 0 : opts.picture, 'image/jpeg'));
        const file = await (0, util_1.convertToFile)(base64);
        const pictureFile = await (0, util_1.resizeImage)(file, {
            width: 640,
            height: 640,
            mimeType: 'image/jpeg',
            resize: 'cover',
        });
        pic = await (0, util_1.blobToBase64)(pictureFile);
    }
    await (0, functions_1.editNewsletterMetadataAction)(await (0, ensureNewsletter_1.ensureNewsletter)(newsletterId), {
        editDescription: opts.description ? true : false,
        editName: opts.name ? true : false,
        editPicture: pic || opts.picture == null ? true : false,
    }, {
        name: opts.name,
        description: opts.description,
        picture: opts.picture == null ? null : pic,
    });
    const result = await (0, functions_1.queryNewsletterMetadataByJid)(newsletterId, {
        picture: true,
        description: true,
        name: true,
        state: true,
        creationTime: true,
    });
    return {
        idJid: result === null || result === void 0 ? void 0 : result.idJid,
        inviteCode: result === null || result === void 0 ? void 0 : result.newsletterInviteLinkMetadataMixin.inviteCode,
        inviteLink: `https://whatsapp.com/channel/${result === null || result === void 0 ? void 0 : result.newsletterInviteLinkMetadataMixin.inviteCode}`,
        name: (_a = result === null || result === void 0 ? void 0 : result.newsletterNameMetadataMixin) === null || _a === void 0 ? void 0 : _a.nameElementValue,
        state: (_b = result === null || result === void 0 ? void 0 : result.newsletterStateMetadataMixin) === null || _b === void 0 ? void 0 : _b.stateType,
        subscribersCount: result === null || result === void 0 ? void 0 : result.newsletterSubscribersMetadataMixin.subscribersCount,
        description: (_d = (_c = result === null || result === void 0 ? void 0 : result.newsletterDescriptionMetadataMixin) === null || _c === void 0 ? void 0 : _c.descriptionQueryDescriptionResponseMixin) === null || _d === void 0 ? void 0 : _d.elementValue,
        timestamp: (_e = result === null || result === void 0 ? void 0 : result.newsletterCreationTimeMetadataMixin) === null || _e === void 0 ? void 0 : _e.creationTimeValue,
    };
}


/***/ }),

/***/ "./src/newsletter/functions/ensureNewsletter.ts":
/*!******************************************************!*\
  !*** ./src/newsletter/functions/ensureNewsletter.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ensureNewsletter = ensureNewsletter;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
async function ensureNewsletter(newsletterId) {
    const newsletterChat = (0, assert_1.assertGetChat)(newsletterId);
    if (!newsletterChat.isNewsletter) {
        throw new util_1.WPPError('not_a_newsletter', `Chat ${newsletterChat.id._serialized} is not a newsletter`);
    }
    return newsletterChat;
}


/***/ }),

/***/ "./src/newsletter/functions/getSubscribers.ts":
/*!****************************************************!*\
  !*** ./src/newsletter/functions/getSubscribers.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getSubscribers = getSubscribers;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Get subscribers of a newsletters
 *
 * @example
 * ```javascript
 * const code = WPP.newsletter.getSubscribers('[newsletter-id]@newsletter');
 * ```
 *
 * @category Newsletter
 */
async function getSubscribers(id) {
    if (!id || !id.includes('newsletter'))
        throw new util_1.WPPError('send_correctly_newsletter_id', 'Please, send the correct newsletter ID.');
    try {
        return (await (0, functions_1.getNewsletterSubscribers)(id, 9, 'LIMITED')).subscribers;
    }
    catch (error) {
        return false;
    }
}


/***/ }),

/***/ "./src/newsletter/functions/index.ts":
/*!*******************************************!*\
  !*** ./src/newsletter/functions/index.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.mute = exports.getSubscribers = exports.edit = exports.destroy = exports.create = void 0;
var create_1 = __webpack_require__(/*! ./create */ "./src/newsletter/functions/create.ts");
Object.defineProperty(exports, "create", ({ enumerable: true, get: function () { return create_1.create; } }));
var destroy_1 = __webpack_require__(/*! ./destroy */ "./src/newsletter/functions/destroy.ts");
Object.defineProperty(exports, "destroy", ({ enumerable: true, get: function () { return destroy_1.destroy; } }));
var edit_1 = __webpack_require__(/*! ./edit */ "./src/newsletter/functions/edit.ts");
Object.defineProperty(exports, "edit", ({ enumerable: true, get: function () { return edit_1.edit; } }));
var getSubscribers_1 = __webpack_require__(/*! ./getSubscribers */ "./src/newsletter/functions/getSubscribers.ts");
Object.defineProperty(exports, "getSubscribers", ({ enumerable: true, get: function () { return getSubscribers_1.getSubscribers; } }));
var mute_1 = __webpack_require__(/*! ./mute */ "./src/newsletter/functions/mute.ts");
Object.defineProperty(exports, "mute", ({ enumerable: true, get: function () { return mute_1.mute; } }));


/***/ }),

/***/ "./src/newsletter/functions/mute.ts":
/*!******************************************!*\
  !*** ./src/newsletter/functions/mute.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.mute = mute;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const ensureNewsletter_1 = __webpack_require__(/*! ./ensureNewsletter */ "./src/newsletter/functions/ensureNewsletter.ts");
/**
 * Mute and unmute a newsletter
 *
 * @example
 * // Mute
 * ```javascript
 * WPP.newsletter.mute('[newsletter-id]@newsletter', true);
 * ```
 *
 * // Unmute
 * ```javascript
 * WPP.newsletter.mute('[newsletter-id]@newsletter', false);
 * ```
 *
 * @category Newsletter
 */
async function mute(newsletterId, value) {
    await (0, ensureNewsletter_1.ensureNewsletter)(newsletterId);
    if (value === false) {
        await (0, functions_1.unmuteNewsletter)([newsletterId]);
        return whatsapp_1.NewsletterStore.get(newsletterId);
    }
    else {
        await (0, functions_1.muteNewsletter)([newsletterId]);
        return whatsapp_1.NewsletterStore.get(newsletterId);
    }
}


/***/ }),

/***/ "./src/newsletter/index.ts":
/*!*********************************!*\
  !*** ./src/newsletter/index.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./functions */ "./src/newsletter/functions/index.ts"), exports);


/***/ }),

/***/ "./src/order/events/index.ts":
/*!***********************************!*\
  !*** ./src/order/events/index.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
__webpack_require__(/*! ./registerUpdateOrderEvent */ "./src/order/events/registerUpdateOrderEvent.ts");


/***/ }),

/***/ "./src/order/events/registerUpdateOrderEvent.ts":
/*!******************************************************!*\
  !*** ./src/order/events/registerUpdateOrderEvent.ts ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
webpack.onInjected(() => registerUpdateOrderEvent());
function registerUpdateOrderEvent() {
    whatsapp_1.MsgStore.on('add', (msg) => {
        var _a, _b;
        if (msg.type !== 'interactive' ||
            ((_a = msg.interactivePayload) === null || _a === void 0 ? void 0 : _a.buttons[0].name) !== 'payment_method' ||
            !msg.isNewMsg) {
            return;
        }
        const payload = JSON.parse((_b = msg.interactivePayload) === null || _b === void 0 ? void 0 : _b.buttons[0].buttonParamsJson);
        queueMicrotask(() => {
            eventEmitter_1.internalEv.emit('order.payment_status', {
                method: payload.payment_method,
                timestamp: payload.payment_timestamp,
                reference_id: payload.reference_id,
                msgId: msg.id,
            });
        });
    });
}


/***/ }),

/***/ "./src/order/functions/get.ts":
/*!************************************!*\
  !*** ./src/order/functions/get.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.get = get;
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const enums_1 = __webpack_require__(/*! ../../whatsapp/enums */ "./src/whatsapp/enums/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Get info of a order
 *
 * @example
 * ```javascript
 * const orderInfo = await WPP.order.get();
 * ```
 *
 * @return Your current catalog
 */
async function get(msgId) {
    const msg = whatsapp_1.MsgStore.get(msgId);
    if (!msg)
        throw new util_1.WPPError('msg_not_found', 'Message not found');
    if (msg.type === enums_1.MSG_TYPE.ORDER) {
        const order = await (0, functions_1.queryOrder)(msg.orderId, 80, 80, msg.token);
        const model = new whatsapp_1.OrderModel({
            id: msg.orderId,
            products: order.products,
            itemCount: order.products.length,
            subtotal: order.subtotal,
            tax: order.tax,
            total: order.total,
            currency: order.currency,
            createdAt: order.createdAt,
            sellerJid: msg.sellerJid,
        });
        return model;
    }
    else {
        throw new util_1.WPPError('msg_not_is_a_order', 'Message not is a order');
    }
}


/***/ }),

/***/ "./src/order/functions/index.ts":
/*!**************************************!*\
  !*** ./src/order/functions/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.get = void 0;
var get_1 = __webpack_require__(/*! ./get */ "./src/order/functions/get.ts");
Object.defineProperty(exports, "get", ({ enumerable: true, get: function () { return get_1.get; } }));


/***/ }),

/***/ "./src/order/index.ts":
/*!****************************!*\
  !*** ./src/order/index.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./events */ "./src/order/events/index.ts"), exports);
__exportStar(__webpack_require__(/*! ./functions */ "./src/order/functions/index.ts"), exports);


/***/ }),

/***/ "./src/privacy/functions/get.ts":
/*!**************************************!*\
  !*** ./src/privacy/functions/get.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.get = get;
/**
 * Get all privacy settings
 *
 * @example
 * ```javascript
 * Set value for who can see your online status like 'all'
 * await WPP.privacy.get();
 * ```
 *
 * @category Privacy
 */
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
async function get() {
    return Object.assign(Object.assign({}, (0, functions_1.getUserPrivacySettings)()), { status: await (0, functions_1.getStatusPrivacySetting)() });
}


/***/ }),

/***/ "./src/privacy/functions/getDisallowedList.ts":
/*!****************************************************!*\
  !*** ./src/privacy/functions/getDisallowedList.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getDisallowedList = getDisallowedList;
/**
 * Get the disallowed list to get the contacts who cannot see your privacy (this applies when enabled: my contacts, except...).
 *
 * @example
 * ```javascript
 * // get disalowed list for group Last seen
 * const disalowed = WPP.privacy.getDisalowedList('last');
 *
 * // get disalowed list for profile
 * const disalowed = WPP.privacy.getDisalowedList('profile');
 *
 * // get disalowed list for status
 * const disalowed = WPP.privacy.getDisalowedList('status');
 *
 * // get disalowed list for group add
 * const disalowed = WPP.privacy.getDisalowedList('groupadd');
 *
 * ```
 *
 * @category Privacy
 */
const enums_1 = __webpack_require__(/*! ../../enums */ "./src/enums.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
async function getDisallowedList(type) {
    if (typeof type !== 'string' ||
        !Object.values(enums_1.PrivacyDisallowedListType).includes(type)) {
        throw new util_1.WPPError('incorrect_type', `Incorrect type ${type || '<empty>'} for get disalowed list`, {
            type,
        });
    }
    const list = await (0, functions_1.getPrivacyDisallowedListTable)().get(type);
    if (!list)
        return null;
    return list.disallowedList;
}


/***/ }),

/***/ "./src/privacy/functions/index.ts":
/*!****************************************!*\
  !*** ./src/privacy/functions/index.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setStatus = exports.setReadReceipts = exports.setProfilePic = exports.setOnline = exports.setLastSeen = exports.setAddGroup = exports.setAbout = exports.getDisallowedList = exports.get = void 0;
var get_1 = __webpack_require__(/*! ./get */ "./src/privacy/functions/get.ts");
Object.defineProperty(exports, "get", ({ enumerable: true, get: function () { return get_1.get; } }));
var getDisallowedList_1 = __webpack_require__(/*! ./getDisallowedList */ "./src/privacy/functions/getDisallowedList.ts");
Object.defineProperty(exports, "getDisallowedList", ({ enumerable: true, get: function () { return getDisallowedList_1.getDisallowedList; } }));
var setAbout_1 = __webpack_require__(/*! ./setAbout */ "./src/privacy/functions/setAbout.ts");
Object.defineProperty(exports, "setAbout", ({ enumerable: true, get: function () { return setAbout_1.setAbout; } }));
var setAddGroup_1 = __webpack_require__(/*! ./setAddGroup */ "./src/privacy/functions/setAddGroup.ts");
Object.defineProperty(exports, "setAddGroup", ({ enumerable: true, get: function () { return setAddGroup_1.setAddGroup; } }));
var setLastSeen_1 = __webpack_require__(/*! ./setLastSeen */ "./src/privacy/functions/setLastSeen.ts");
Object.defineProperty(exports, "setLastSeen", ({ enumerable: true, get: function () { return setLastSeen_1.setLastSeen; } }));
var setOnline_1 = __webpack_require__(/*! ./setOnline */ "./src/privacy/functions/setOnline.ts");
Object.defineProperty(exports, "setOnline", ({ enumerable: true, get: function () { return setOnline_1.setOnline; } }));
var setProfilePic_1 = __webpack_require__(/*! ./setProfilePic */ "./src/privacy/functions/setProfilePic.ts");
Object.defineProperty(exports, "setProfilePic", ({ enumerable: true, get: function () { return setProfilePic_1.setProfilePic; } }));
var setReadReceipts_1 = __webpack_require__(/*! ./setReadReceipts */ "./src/privacy/functions/setReadReceipts.ts");
Object.defineProperty(exports, "setReadReceipts", ({ enumerable: true, get: function () { return setReadReceipts_1.setReadReceipts; } }));
var setStatus_1 = __webpack_require__(/*! ./setStatus */ "./src/privacy/functions/setStatus.ts");
Object.defineProperty(exports, "setStatus", ({ enumerable: true, get: function () { return setStatus_1.setStatus; } }));


/***/ }),

/***/ "./src/privacy/functions/prepareDisallowedList.ts":
/*!********************************************************!*\
  !*** ./src/privacy/functions/prepareDisallowedList.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.prepareDisallowedList = prepareDisallowedList;
const enums_1 = __webpack_require__(/*! ../../enums */ "./src/enums.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
async function prepareDisallowedList(type, value, list) {
    if (value !== 'contact_blacklist') {
        return {
            ids: [],
            dhash: null,
            idsFormatted: [],
            allUsers: [],
        };
    }
    if (typeof type !== 'string' ||
        !Object.values(enums_1.PrivacyDisallowedListType).includes(type)) {
        throw new util_1.WPPError('incorrect_type', `Incorrect type ${type || '<empty>'} for get disalowed list`, {
            type,
        });
    }
    const actual = await (0, functions_1.getPrivacyDisallowedListTable)().get(type);
    if (!list || (list === null || list === void 0 ? void 0 : list.length) === 0) {
        if (!actual) {
            throw new util_1.WPPError('disallowed_list_is_mandatory', `Disallowed list is empty, please send disallowed list param`);
        }
        return {
            ids: actual.disallowedList.map((i) => new whatsapp_1.Wid(i, { intentionallyUsePrivateConstructor: true })),
            dhash: actual.dhash,
            idsFormatted: [],
            allUsers: actual.disallowedList.map((i) => new whatsapp_1.Wid(i, { intentionallyUsePrivateConstructor: true })),
        };
    }
    else if (actual == null) {
        list = list === null || list === void 0 ? void 0 : list.filter((i) => i.action !== 'remove');
        return {
            ids: list.map((i) => new whatsapp_1.Wid(i.id, { intentionallyUsePrivateConstructor: true })),
            dhash: null,
            idsFormatted: list.map((i) => {
                return {
                    wid: new whatsapp_1.Wid(i.id, { intentionallyUsePrivateConstructor: true }),
                    action: 'add',
                };
            }),
            allUsers: list.map((i) => new whatsapp_1.Wid(i.id, { intentionallyUsePrivateConstructor: true })),
        };
    }
    const filtered = actual.disallowedList.filter((i) => !list.some((item) => item.action === 'remove' && item.id === i));
    const filteredList = list.filter((i) => i.action !== 'remove');
    const allUsers = [].concat(filteredList.map((i) => new whatsapp_1.Wid(i.id, { intentionallyUsePrivateConstructor: true })), filtered.map((i) => new whatsapp_1.Wid(i, { intentionallyUsePrivateConstructor: true })));
    return {
        ids: list.map((i) => new whatsapp_1.Wid(i.id, { intentionallyUsePrivateConstructor: true })),
        dhash: actual.dhash,
        idsFormatted: list.map((i) => {
            return {
                wid: new whatsapp_1.Wid(i.id, { intentionallyUsePrivateConstructor: true }),
                action: i.action,
            };
        }),
        allUsers: allUsers,
    };
}


/***/ }),

/***/ "./src/privacy/functions/setAbout.ts":
/*!*******************************************!*\
  !*** ./src/privacy/functions/setAbout.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setAboutTypes = void 0;
exports.setAbout = setAbout;
/**
 * Set who can see your about.
 *
 * @example
 * ```javascript
 * Set value for who can see your about like 'all'
 * await WPP.privacy.setAbout('all');
 *
 * Set value for who can see your about  like 'none'
 * await WPP.privacy.setAbout('none');
 *
 * Set value for who can see your about like 'only your contacts'
 * await WPP.privacy.setAbout('contacts');
 *
 * Set value for who can see your about like 'your contacts', but with excepts
 * await WPP.privacy.setAbout('contact_blacklist', [
 *   { id: '[number]@c.us', action: 'add' },
 *   { id: '[number]@c.us', action: 'remove' }
 * ]);
 * ```
 *
 * @category Privacy
 */
const enums_1 = __webpack_require__(/*! ../../enums */ "./src/enums.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const prepareDisallowedList_1 = __webpack_require__(/*! ./prepareDisallowedList */ "./src/privacy/functions/prepareDisallowedList.ts");
var setAboutTypes;
(function (setAboutTypes) {
    setAboutTypes["all"] = "all";
    setAboutTypes["contacts"] = "contacts";
    setAboutTypes["none"] = "none";
    setAboutTypes["contact_blacklist"] = "contact_blacklist";
})(setAboutTypes || (exports.setAboutTypes = setAboutTypes = {}));
async function setAbout(value, disallowedList) {
    if (typeof value !== 'string' ||
        !Object.values(setAboutTypes).includes(value)) {
        throw new util_1.WPPError('incorrect_type', `Incorrect type ${value || '<empty>'} for set about privacy`, {
            value,
        });
    }
    const disallowed = await (0, prepareDisallowedList_1.prepareDisallowedList)(enums_1.PrivacyDisallowedListType.About, value, disallowedList);
    await (0, functions_1.setPrivacyForOneCategory)({
        name: enums_1.PrivacyDisallowedListType.About,
        value: value,
        dhash: value === 'contact_blacklist' ? disallowed.dhash : null,
        users: value === 'contact_blacklist' ? disallowed.idsFormatted : undefined,
    }, value === 'contact_blacklist' ? disallowed.allUsers : undefined);
    return (0, functions_1.getUserPrivacySettings)().about;
}


/***/ }),

/***/ "./src/privacy/functions/setAddGroup.ts":
/*!**********************************************!*\
  !*** ./src/privacy/functions/setAddGroup.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setAddGroupTypes = void 0;
exports.setAddGroup = setAddGroup;
/**
 * Set who can add you to a group.
 *
 * @example
 * ```javascript
 * Set value for who can add to a group like 'all'
 * await WPP.privacy.setAddGroup('all');
 *
 * Set value for who can add to a group like 'only your contacts'
 * await WPP.privacy.setAddGroup('contacts');
 *
 * Set value for who can add to a group like 'your contacts', but with excepts
 * await WPP.privacy.setAddGroup('contact_blacklist', [
 *   { id: '[number]@c.us', action: 'add' },
 *   { id: '[number]@c.us', action: 'remove' }
 * ]);
 * ```
 *
 * @category Privacy
 */
const enums_1 = __webpack_require__(/*! ../../enums */ "./src/enums.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const prepareDisallowedList_1 = __webpack_require__(/*! ./prepareDisallowedList */ "./src/privacy/functions/prepareDisallowedList.ts");
var setAddGroupTypes;
(function (setAddGroupTypes) {
    setAddGroupTypes["all"] = "all";
    setAddGroupTypes["contacts"] = "contacts";
    setAddGroupTypes["contact_blacklist"] = "contact_blacklist";
})(setAddGroupTypes || (exports.setAddGroupTypes = setAddGroupTypes = {}));
async function setAddGroup(value, disallowedList) {
    if (typeof value !== 'string' ||
        !Object.values(setAddGroupTypes).includes(value)) {
        throw new util_1.WPPError('incorrect_type', `Incorrect type ${value || '<empty>'} for set add group privacy`, {
            value,
        });
    }
    const disallowed = await (0, prepareDisallowedList_1.prepareDisallowedList)(enums_1.PrivacyDisallowedListType.GroupAdd, value, disallowedList);
    await (0, functions_1.setPrivacyForOneCategory)({
        name: enums_1.PrivacyDisallowedListType.GroupAdd,
        value: value,
        dhash: value === 'contact_blacklist' ? disallowed.dhash : null,
        users: value === 'contact_blacklist' ? disallowed.idsFormatted : undefined,
    }, value === 'contact_blacklist' ? disallowed.allUsers : undefined);
    return (0, functions_1.getUserPrivacySettings)().groupAdd;
}


/***/ }),

/***/ "./src/privacy/functions/setLastSeen.ts":
/*!**********************************************!*\
  !*** ./src/privacy/functions/setLastSeen.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setLastSeenTypes = void 0;
exports.setLastSeen = setLastSeen;
/**
 * Set who can see your last seen status.
 *
 * @example
 * ```javascript
 * Set value for who can see your last seen like 'all'
 * await WPP.privacy.setLastSeen('all');
 *
 * Set value for who can see your last seen like 'none'
 * await WPP.privacy.setLastSeen('none');
 *
 * Set value for who can see your last seen like 'only your contacts'
 * await WPP.privacy.setLastSeen('contacts');
 *
 * Set value for who can see your last seen like 'your contacts', but with excepts
 * await WPP.privacy.setLastSeen('contact_blacklist', [
 *   { id: '[number]@c.us', action: 'add' },
 *   { id: '[number]@c.us', action: 'remove' }
 * ]);
 * ```
 *
 * @category Privacy
 */
const enums_1 = __webpack_require__(/*! ../../enums */ "./src/enums.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const prepareDisallowedList_1 = __webpack_require__(/*! ./prepareDisallowedList */ "./src/privacy/functions/prepareDisallowedList.ts");
var setLastSeenTypes;
(function (setLastSeenTypes) {
    setLastSeenTypes["all"] = "all";
    setLastSeenTypes["contacts"] = "contacts";
    setLastSeenTypes["none"] = "none";
    setLastSeenTypes["contact_blacklist"] = "contact_blacklist";
})(setLastSeenTypes || (exports.setLastSeenTypes = setLastSeenTypes = {}));
async function setLastSeen(value, disallowedList) {
    if (typeof value !== 'string' ||
        !Object.values(setLastSeenTypes).includes(value)) {
        throw new util_1.WPPError('incorrect_type', `Incorrect type ${value || '<empty>'} for set last seen privacy`, {
            value,
        });
    }
    const disallowed = await (0, prepareDisallowedList_1.prepareDisallowedList)(enums_1.PrivacyDisallowedListType.LastSeen, value, disallowedList);
    await (0, functions_1.setPrivacyForOneCategory)({
        name: 'last',
        value: value,
        dhash: value === 'contact_blacklist' ? disallowed.dhash : null,
        users: value === 'contact_blacklist' ? disallowed.idsFormatted : undefined,
    }, value === 'contact_blacklist' ? disallowed.allUsers : undefined);
    return (0, functions_1.getUserPrivacySettings)().lastSeen;
}


/***/ }),

/***/ "./src/privacy/functions/setOnline.ts":
/*!********************************************!*\
  !*** ./src/privacy/functions/setOnline.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setOnlineTypes = void 0;
exports.setOnline = setOnline;
/**
 * Set who can see your online status.
 *
 * @example
 * ```javascript
 * Set value for who can see your online status like 'all'
 * await WPP.privacy.setAbout('all');
 *
 * Set value for who can see your online status like 'match_last_seen'
 * await WPP.privacy.setAbout('match_last_seen');
 * ```
 *
 * @category Privacy
 */
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
var setOnlineTypes;
(function (setOnlineTypes) {
    setOnlineTypes["all"] = "all";
    setOnlineTypes["match_last_seen"] = "match_last_seen";
})(setOnlineTypes || (exports.setOnlineTypes = setOnlineTypes = {}));
async function setOnline(value) {
    if (typeof value !== 'string' ||
        !Object.values(setOnlineTypes).includes(value)) {
        throw new util_1.WPPError('incorrect_type', `Incorrect type ${value || '<empty>'} for set online privacy`, {
            value,
        });
    }
    await (0, functions_1.setPrivacyForOneCategory)({
        name: 'online',
        value: value,
    });
    return (0, functions_1.getUserPrivacySettings)().online;
}


/***/ }),

/***/ "./src/privacy/functions/setProfilePic.ts":
/*!************************************************!*\
  !*** ./src/privacy/functions/setProfilePic.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setProfilePicTypes = void 0;
exports.setProfilePic = setProfilePic;
/**
 * Set who can see your profile pic.
 *
 * @example
 * ```javascript
 * Set value for who can see your profile pic like 'all'
 * await WPP.privacy.setProfilePic('all');
 *
 * Set value for who can see your profile pic  like 'none'
 * await WPP.privacy.setProfilePic('none');
 *
 * Set value for who can see your profile pic like 'only your contacts'
 * await WPP.privacy.setProfilePic('contacts');
 *
 * Set value for who can see your profile pic like 'your contacts', but with excepts
 * await WPP.privacy.setProfilePic('contact_blacklist', [
 *   { id: '[number]@c.us', action: 'add' },
 *   { id: '[number]@c.us', action: 'remove' }
 * ]);
 * ```
 *
 * @category Privacy
 */
const enums_1 = __webpack_require__(/*! ../../enums */ "./src/enums.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const prepareDisallowedList_1 = __webpack_require__(/*! ./prepareDisallowedList */ "./src/privacy/functions/prepareDisallowedList.ts");
var setProfilePicTypes;
(function (setProfilePicTypes) {
    setProfilePicTypes["all"] = "all";
    setProfilePicTypes["contacts"] = "contacts";
    setProfilePicTypes["none"] = "none";
    setProfilePicTypes["contact_blacklist"] = "contact_blacklist";
})(setProfilePicTypes || (exports.setProfilePicTypes = setProfilePicTypes = {}));
async function setProfilePic(value, disallowedList) {
    if (typeof value !== 'string' ||
        !Object.values(setProfilePicTypes).includes(value)) {
        throw new util_1.WPPError('incorrect_type', `Incorrect type ${value || '<empty>'} for set profile pic privacy`, {
            value,
        });
    }
    const disallowed = await (0, prepareDisallowedList_1.prepareDisallowedList)(enums_1.PrivacyDisallowedListType.ProfilePicture, value, disallowedList);
    await (0, functions_1.setPrivacyForOneCategory)({
        name: enums_1.PrivacyDisallowedListType.ProfilePicture,
        value: value,
        dhash: value === 'contact_blacklist' ? disallowed.dhash : null,
        users: value === 'contact_blacklist' ? disallowed.idsFormatted : undefined,
    }, value === 'contact_blacklist' ? disallowed.allUsers : undefined);
    return (0, functions_1.getUserPrivacySettings)().profilePicture;
}


/***/ }),

/***/ "./src/privacy/functions/setReadReceipts.ts":
/*!**************************************************!*\
  !*** ./src/privacy/functions/setReadReceipts.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setReadReceiptsTypes = void 0;
exports.setReadReceipts = setReadReceipts;
/**
 * Set who send your read receipts
 *
 * @example
 * ```javascript
 * Set value for who can see your online status like 'all'
 * await WPP.privacy.setReadReceipts('all');
 *
 * Set value for who can see your online status like 'none'
 * await WPP.privacy.setReadReceipts('none');
 * ```
 *
 * @category Privacy
 */
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
var setReadReceiptsTypes;
(function (setReadReceiptsTypes) {
    setReadReceiptsTypes["all"] = "all";
    setReadReceiptsTypes["none"] = "none";
})(setReadReceiptsTypes || (exports.setReadReceiptsTypes = setReadReceiptsTypes = {}));
async function setReadReceipts(value) {
    if (typeof value !== 'string' ||
        !Object.values(setReadReceiptsTypes).includes(value)) {
        throw new util_1.WPPError('incorrect_type', `Incorrect type ${value || '<empty>'} for set read receipts privacy`, {
            value,
        });
    }
    await (0, functions_1.setPrivacyForOneCategory)({
        name: 'readreceipts',
        value: value,
    });
    return (0, functions_1.getUserPrivacySettings)().readReceipts;
}


/***/ }),

/***/ "./src/privacy/functions/setStatus.ts":
/*!********************************************!*\
  !*** ./src/privacy/functions/setStatus.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setStatusTypes = void 0;
exports.setStatus = setStatus;
/**
 * Set who can see your status storie media
 *
 * @example
 * ```javascript
 * Set value for who can see your status like 'contacts'
 * await WPP.privacy.setStatus('contact');
 *
 * Set value for who can see your status with allow list
 * await WPP.privacy.setStatus('allow-list', ['[number]@c.us', '[number]@c.us']);
 *
 * Set value for who can see your status with deny list
 * await WPP.privacy.setStatus('deny-list', ['[number]@c.us', '[number]@c.us']);
 *
 * ```
 *
 * @category Privacy
 */
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
var setStatusTypes;
(function (setStatusTypes) {
    setStatusTypes["contact"] = "contact";
    setStatusTypes["DENY_LIST"] = "deny-list";
    setStatusTypes["ALLOW_LIST"] = "allow-list";
})(setStatusTypes || (exports.setStatusTypes = setStatusTypes = {}));
async function setStatus(value, list) {
    if (typeof value !== 'string' ||
        !Object.values(setStatusTypes).includes(value)) {
        throw new util_1.WPPError('incorrect_type', `Incorrect type ${value || '<empty>'} for set about privacy`, {
            value,
        });
    }
    if ((value == setStatusTypes.ALLOW_LIST || value == setStatusTypes.DENY_LIST) &&
        !list) {
        throw new util_1.WPPError('list_is_mandatory', `List is empty <empty>, send the list to allow or deny`);
    }
    if (!list) {
        await (0, functions_1.setStatusPrivacyConfig)({
            setting: value,
            list: [],
        });
    }
    else {
        if (!Array.isArray(list)) {
            list = [list];
        }
        const listWid = list.map(assert_1.assertWid);
        await (0, functions_1.setStatusPrivacyConfig)({
            setting: value,
            list: listWid,
        });
    }
    return (0, functions_1.getStatusPrivacySetting)();
}


/***/ }),

/***/ "./src/privacy/index.ts":
/*!******************************!*\
  !*** ./src/privacy/index.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./functions/ */ "./src/privacy/functions/index.ts"), exports);


/***/ }),

/***/ "./src/profile/functions/editBusinessProfile.ts":
/*!******************************************************!*\
  !*** ./src/profile/functions/editBusinessProfile.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.editBusinessProfile = editBusinessProfile;
const getMyUserWid_1 = __webpack_require__(/*! ../../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Update your business profile
 *
 * @example
 * ```javascript
 * await WPP.profile.editBusinessProfile({description: 'New description for profile'});
 * ```
 *
 * ```javascript
 * await WPP.profile.editBusinessProfile({categories: [{
    id: "133436743388217",
    localized_display_name: "Artes e entretenimento",
    not_a_biz: false,
  }]});
 * ```
 *
 * ```javascript
 * await WPP.profile.editBusinessProfile({adress: 'Street 01, New York'});
 * ```
 *
 * ```javascript
 * await WPP.profile.editBusinessProfile({adress: 'Street 01, New York'});
 * ```
 *
 * ```javascript
 * await WPP.profile.editBusinessProfile({email: 'test@test.com.br'});
 * ```
 *
 * Change website of profile (max 2 sites)
 * ```javascript
 * await WPP.profile.editBusinessProfile({website: [
  "https://www.wppconnect.io",
  "https://www.teste2.com.br",
]});
 * ```
 *
 * Change businessHours for Specific Hours
 * ```javascript
 * await WPP.profile.editBusinessProfile({ businessHours: {
 * {
      tue: {
        mode: "specific_hours",
        hours: [
          [
            540,
            1080,
          ],
        ],
      },
      wed: {
        mode: "specific_hours",
        hours: [
          [
            540,
            1080,
          ],
        ],
      },
      thu: {
        mode: "specific_hours",
        hours: [
          [
            540,
            1080,
          ],
        ],
      },
      fri: {
        mode: "specific_hours",
        hours: [
          [
            540,
            1080,
          ],
        ],
      },
      sat: {
        mode: "specific_hours",
        hours: [
          [
            540,
            1080,
          ],
        ],
      },
      sun: {
        mode: "specific_hours",
        hours: [
          [
            540,
            1080,
          ],
        ],
      },
    }
  },
  timezone: "America/Sao_Paulo"
  });
 *
 * Change businessHours for Always Opened
 * ```javascript
 * await WPP.profile.editBusinessProfile({ businessHours: {
    {
      mon: {
        mode: "open_24h",
      },
      tue: {
        mode: "open_24h",
      },
      wed: {
        mode: "open_24h",
      },
      thu: {
        mode: "open_24h",
      },
      fri: {
        mode: "open_24h",
      },
      sat: {
        mode: "open_24h",
      },
      sun: {
        mode: "open_24h",
      },
    }
    timezone: "America/Sao_Paulo"
  });
 *
 * Change businessHours for Appointment Only
 * ```javascript
 * await WPP.profile.editBusinessProfile({ {
    "config": {
        "mon": {
            "mode": "specific_hours",
            "hours": [
                [
                    480,
                    1260
                ]
            ]
        },
        "tue": {
            "mode": "specific_hours",
            "hours": [
                [
                    480,
                    1260
                ]
            ]
        },
        "wed": {
            "mode": "specific_hours",
            "hours": [
                [
                    480,
                    1260
                ]
            ]
        },
        "thu": {
            "mode": "specific_hours",
            "hours": [
                [
                    480,
                    1260
                ]
            ]
        },
        "fri": {
            "mode": "specific_hours",
            "hours": [
                [
                    480,
                    1260
                ]
            ]
        },
        "sat": {
            "mode": "specific_hours",
            "hours": [
                [
                    660,
                    1320
                ]
            ]
        }
    },
    "timezone": "America/Sao_Paulo"
});
 *
 *
 * ```
 * @category Profile
 */
async function editBusinessProfile(params) {
    if (!whatsapp_1.Conn.isSMB)
        throw new util_1.WPPError('NOT_BUSINESS_PROFILE', 'Not a business profile');
    if (params.website && Array.isArray(params.website)) {
        params.website = params.website.map((i) => ({ url: i }));
    }
    await (0, functions_1.editBusinessProfile)(params);
    const user = (0, getMyUserWid_1.getMyUserWid)();
    const profile = await whatsapp_1.BusinessProfileStore.fetchBizProfile(user);
    return profile;
}


/***/ }),

/***/ "./src/profile/functions/getMyProfileName.ts":
/*!***************************************************!*\
  !*** ./src/profile/functions/getMyProfileName.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getMyProfileName = getMyProfileName;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Get your current profile name
 *
 * @example
 * ```javascript
 * const myProfileName = WPP.profile.getMyProfileName();
 * ```
 *
 * @category Profile
 */
function getMyProfileName() {
    return whatsapp_1.functions.getPushname();
}


/***/ }),

/***/ "./src/profile/functions/getMyProfilePicture.ts":
/*!******************************************************!*\
  !*** ./src/profile/functions/getMyProfilePicture.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getMyProfilePicture = getMyProfilePicture;
const getMyUserWid_1 = __webpack_require__(/*! ../../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Get your current profile picture
 *
 * @example
 * ```javascript
 * await WPP.profile.getMyProfilePicture();
 * ```
 *
 * @category Profile
 */
async function getMyProfilePicture() {
    const user = (0, getMyUserWid_1.getMyUserWid)();
    const pic = await whatsapp_1.ProfilePicThumbStore.find(user);
    return pic;
}


/***/ }),

/***/ "./src/profile/functions/getMyStatus.ts":
/*!**********************************************!*\
  !*** ./src/profile/functions/getMyStatus.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getMyStatus = getMyStatus;
const getMyUserWid_1 = __webpack_require__(/*! ../../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Get your current text status
 *
 * @example
 * ```javascript
 * await WPP.profile.getMyStatus();
 * ```
 *
 * @category Profile
 */
async function getMyStatus() {
    const myStatus = await whatsapp_1.StatusStore.find((0, getMyUserWid_1.getMyUserWid)());
    return myStatus.status;
}


/***/ }),

/***/ "./src/profile/functions/index.ts":
/*!****************************************!*\
  !*** ./src/profile/functions/index.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setMyStatus = exports.setMyProfilePicture = exports.setMyProfileName = exports.removeMyProfilePicture = exports.isBusiness = exports.getMyStatus = exports.getMyProfilePicture = exports.getMyProfileName = exports.editBusinessProfile = void 0;
var editBusinessProfile_1 = __webpack_require__(/*! ./editBusinessProfile */ "./src/profile/functions/editBusinessProfile.ts");
Object.defineProperty(exports, "editBusinessProfile", ({ enumerable: true, get: function () { return editBusinessProfile_1.editBusinessProfile; } }));
var getMyProfileName_1 = __webpack_require__(/*! ./getMyProfileName */ "./src/profile/functions/getMyProfileName.ts");
Object.defineProperty(exports, "getMyProfileName", ({ enumerable: true, get: function () { return getMyProfileName_1.getMyProfileName; } }));
var getMyProfilePicture_1 = __webpack_require__(/*! ./getMyProfilePicture */ "./src/profile/functions/getMyProfilePicture.ts");
Object.defineProperty(exports, "getMyProfilePicture", ({ enumerable: true, get: function () { return getMyProfilePicture_1.getMyProfilePicture; } }));
var getMyStatus_1 = __webpack_require__(/*! ./getMyStatus */ "./src/profile/functions/getMyStatus.ts");
Object.defineProperty(exports, "getMyStatus", ({ enumerable: true, get: function () { return getMyStatus_1.getMyStatus; } }));
var isBusiness_1 = __webpack_require__(/*! ./isBusiness */ "./src/profile/functions/isBusiness.ts");
Object.defineProperty(exports, "isBusiness", ({ enumerable: true, get: function () { return isBusiness_1.isBusiness; } }));
var removeMyProfilePicture_1 = __webpack_require__(/*! ./removeMyProfilePicture */ "./src/profile/functions/removeMyProfilePicture.ts");
Object.defineProperty(exports, "removeMyProfilePicture", ({ enumerable: true, get: function () { return removeMyProfilePicture_1.removeMyProfilePicture; } }));
var setMyProfileName_1 = __webpack_require__(/*! ./setMyProfileName */ "./src/profile/functions/setMyProfileName.ts");
Object.defineProperty(exports, "setMyProfileName", ({ enumerable: true, get: function () { return setMyProfileName_1.setMyProfileName; } }));
var setMyProfilePicture_1 = __webpack_require__(/*! ./setMyProfilePicture */ "./src/profile/functions/setMyProfilePicture.ts");
Object.defineProperty(exports, "setMyProfilePicture", ({ enumerable: true, get: function () { return setMyProfilePicture_1.setMyProfilePicture; } }));
var setMyStatus_1 = __webpack_require__(/*! ./setMyStatus */ "./src/profile/functions/setMyStatus.ts");
Object.defineProperty(exports, "setMyStatus", ({ enumerable: true, get: function () { return setMyStatus_1.setMyStatus; } }));


/***/ }),

/***/ "./src/profile/functions/isBusiness.ts":
/*!*********************************************!*\
  !*** ./src/profile/functions/isBusiness.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isBusiness = isBusiness;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Return the current logged user is Bussiness or not
 *
 * @example
 * ```javascript
 * WPP.profile.isBusiness();
 * ```
 * @category Profile
 */
function isBusiness() {
    return whatsapp_1.Conn.isSMB;
}


/***/ }),

/***/ "./src/profile/functions/removeMyProfilePicture.ts":
/*!*********************************************************!*\
  !*** ./src/profile/functions/removeMyProfilePicture.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.removeMyProfilePicture = removeMyProfilePicture;
const getMyUserWid_1 = __webpack_require__(/*! ../../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Remove your profile picture
 *
 * @example
 * ```javascript
 * await WPP.profile.removeMyProfilePicture();
 * ```
 *
 * @category Profile
 */
async function removeMyProfilePicture() {
    const result = await whatsapp_1.functions.requestDeletePicture((0, getMyUserWid_1.getMyUserWid)());
    return result.status === 200;
}


/***/ }),

/***/ "./src/profile/functions/setMyProfileName.ts":
/*!***************************************************!*\
  !*** ./src/profile/functions/setMyProfileName.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setMyProfileName = setMyProfileName;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Update your current profile name
 *
 * @example
 * ```javascript
 * await WPP.profile.setMyProfileName('My new name');
 * ```
 *
 * @category Profile
 */
async function setMyProfileName(name) {
    await whatsapp_1.functions.setPushname(name);
    return true;
}


/***/ }),

/***/ "./src/profile/functions/setMyProfilePicture.ts":
/*!******************************************************!*\
  !*** ./src/profile/functions/setMyProfilePicture.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setMyProfilePicture = setMyProfilePicture;
const getMyUserWid_1 = __webpack_require__(/*! ../../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
/**
 * Update your profile picture
 *
 * @example
 * ```javascript
 * await WPP.profile.setMyProfilePicture('data:image/jpeg;base64,.....');
 * ```
 *
 * @category Profile
 */
async function setMyProfilePicture(content) {
    const file = await (0, util_1.convertToFile)(content);
    const thumbFile = await (0, util_1.resizeImage)(file, {
        width: 96,
        height: 96,
        mimeType: 'image/jpeg',
        resize: 'cover',
    });
    const pictureFile = await (0, util_1.resizeImage)(file, {
        width: 640,
        height: 640,
        mimeType: 'image/jpeg',
        resize: 'cover',
    });
    const thumbBase64 = await (0, util_1.blobToBase64)(thumbFile);
    const pictureBase64 = await (0, util_1.blobToBase64)(pictureFile);
    return (0, functions_1.sendSetPicture)((0, getMyUserWid_1.getMyUserWid)(), thumbBase64, pictureBase64);
}


/***/ }),

/***/ "./src/profile/functions/setMyStatus.ts":
/*!**********************************************!*\
  !*** ./src/profile/functions/setMyStatus.ts ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.setMyStatus = setMyStatus;
const getMyUserWid_1 = __webpack_require__(/*! ../../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const wa_functions = __importStar(__webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts"));
/**
 * Update your current text status
 *
 * @example
 * ```javascript
 * await WPP.profile.setMyStatus('Example text');
 * ```
 *
 * @category Profile
 */
async function setMyStatus(statusText) {
    await wa_functions.setMyStatus(statusText);
    const myStatus = await whatsapp_1.StatusStore.find((0, getMyUserWid_1.getMyUserWid)());
    if (myStatus) {
        myStatus.status = statusText;
    }
    return true;
}


/***/ }),

/***/ "./src/profile/index.ts":
/*!******************************!*\
  !*** ./src/profile/index.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./functions */ "./src/profile/functions/index.ts"), exports);


/***/ }),

/***/ "./src/status/defaultSendStatusOptions.ts":
/*!************************************************!*\
  !*** ./src/status/defaultSendStatusOptions.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.defaultSendStatusOptions = void 0;
exports.defaultSendStatusOptions = {
    waitForAck: true,
};


/***/ }),

/***/ "./src/status/events/index.ts":
/*!************************************!*\
  !*** ./src/status/events/index.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
__webpack_require__(/*! ./registerSyncedEvent */ "./src/status/events/registerSyncedEvent.ts");


/***/ }),

/***/ "./src/status/events/registerSyncedEvent.ts":
/*!**************************************************!*\
  !*** ./src/status/events/registerSyncedEvent.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const eventEmitter_1 = __webpack_require__(/*! ../../eventEmitter */ "./src/eventEmitter/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
webpack.onInjected(() => registerSyncedEvent());
function registerSyncedEvent() {
    whatsapp_1.StatusV3Store.on('sync', () => {
        eventEmitter_1.internalEv.emit('status.sync');
    });
}


/***/ }),

/***/ "./src/status/functions/get.ts":
/*!*************************************!*\
  !*** ./src/status/functions/get.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.get = get;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
function get(chatId) {
    const wid = (0, assert_1.assertWid)(chatId);
    return whatsapp_1.StatusV3Store.get(wid);
}


/***/ }),

/***/ "./src/status/functions/getMyStatus.ts":
/*!*********************************************!*\
  !*** ./src/status/functions/getMyStatus.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getMyStatus = getMyStatus;
const getMyUserWid_1 = __webpack_require__(/*! ../../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
async function getMyStatus() {
    let myStatus = whatsapp_1.StatusV3Store.getMyStatus();
    if (!myStatus) {
        myStatus = await whatsapp_1.StatusV3Store.find((0, getMyUserWid_1.getMyUserWid)());
    }
    return myStatus;
}


/***/ }),

/***/ "./src/status/functions/index.ts":
/*!***************************************!*\
  !*** ./src/status/functions/index.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.updateParticipants = exports.sendVideoStatus = exports.sendTextStatus = exports.sendReadStatus = exports.sendRawStatus = exports.sendImageStatus = exports.remove = exports.getMyStatus = exports.get = void 0;
var get_1 = __webpack_require__(/*! ./get */ "./src/status/functions/get.ts");
Object.defineProperty(exports, "get", ({ enumerable: true, get: function () { return get_1.get; } }));
var getMyStatus_1 = __webpack_require__(/*! ./getMyStatus */ "./src/status/functions/getMyStatus.ts");
Object.defineProperty(exports, "getMyStatus", ({ enumerable: true, get: function () { return getMyStatus_1.getMyStatus; } }));
var remove_1 = __webpack_require__(/*! ./remove */ "./src/status/functions/remove.ts");
Object.defineProperty(exports, "remove", ({ enumerable: true, get: function () { return remove_1.remove; } }));
var sendImageStatus_1 = __webpack_require__(/*! ./sendImageStatus */ "./src/status/functions/sendImageStatus.ts");
Object.defineProperty(exports, "sendImageStatus", ({ enumerable: true, get: function () { return sendImageStatus_1.sendImageStatus; } }));
var sendRawStatus_1 = __webpack_require__(/*! ./sendRawStatus */ "./src/status/functions/sendRawStatus.ts");
Object.defineProperty(exports, "sendRawStatus", ({ enumerable: true, get: function () { return sendRawStatus_1.sendRawStatus; } }));
var sendReadStatus_1 = __webpack_require__(/*! ./sendReadStatus */ "./src/status/functions/sendReadStatus.ts");
Object.defineProperty(exports, "sendReadStatus", ({ enumerable: true, get: function () { return sendReadStatus_1.sendReadStatus; } }));
var sendTextStatus_1 = __webpack_require__(/*! ./sendTextStatus */ "./src/status/functions/sendTextStatus.ts");
Object.defineProperty(exports, "sendTextStatus", ({ enumerable: true, get: function () { return sendTextStatus_1.sendTextStatus; } }));
var sendVideoStatus_1 = __webpack_require__(/*! ./sendVideoStatus */ "./src/status/functions/sendVideoStatus.ts");
Object.defineProperty(exports, "sendVideoStatus", ({ enumerable: true, get: function () { return sendVideoStatus_1.sendVideoStatus; } }));
var updateParticipants_1 = __webpack_require__(/*! ./updateParticipants */ "./src/status/functions/updateParticipants.ts");
Object.defineProperty(exports, "updateParticipants", ({ enumerable: true, get: function () { return updateParticipants_1.updateParticipants; } }));


/***/ }),

/***/ "./src/status/functions/postSendStatus.ts":
/*!************************************************!*\
  !*** ./src/status/functions/postSendStatus.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.postSendStatus = postSendStatus;
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
function postSendStatus(result) {
    result.sendMsgResult.then(async () => {
        const msg = whatsapp_1.MsgStore.get(result.id);
        if (!msg) {
            return;
        }
        whatsapp_1.StatusV3Store.addStatusMessages(msg.author, [msg]);
        // Trigger screen update
        whatsapp_1.StatusV3Store.handleUpdate(msg.attributes, null, false);
        const myStatus = whatsapp_1.StatusV3Store.getMyStatus();
        if (myStatus) {
            // Fix models index
            myStatus.msgs.add(msg);
        }
    });
}


/***/ }),

/***/ "./src/status/functions/remove.ts":
/*!****************************************!*\
  !*** ./src/status/functions/remove.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.remove = remove;
const chat_1 = __webpack_require__(/*! ../../chat */ "./src/chat/index.ts");
const util_1 = __webpack_require__(/*! ../../util */ "./src/util/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
async function remove(msgId) {
    const msg = await (0, chat_1.getMessageById)(msgId);
    try {
        await (0, functions_1.revokeStatus)(whatsapp_1.StatusV3Store.get(whatsapp_1.UserPrefs.getMaybeMePnUser()), msg);
        return true;
    }
    catch (error) {
        throw new util_1.WPPError('error_on_remove_status', `Error on remove status with id ${msgId.toString()}`);
    }
}


/***/ }),

/***/ "./src/status/functions/sendImageStatus.ts":
/*!*************************************************!*\
  !*** ./src/status/functions/sendImageStatus.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendImageStatus = sendImageStatus;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const chat_1 = __webpack_require__(/*! ../../chat */ "./src/chat/index.ts");
const getMyUserWid_1 = __webpack_require__(/*! ../../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/status/index.ts");
/**
 * Send a image message to status stories
 *
 * @example
 * ```javascript
 * WPP.status.sendImageStatus('data:image/jpeg;base64,<a long base64 file...>');
 * ```
 */
async function sendImageStatus(content, options = {}) {
    const me = (0, getMyUserWid_1.getMyUserWid)();
    const messageId = new whatsapp_1.MsgKey({
        fromMe: true,
        id: (0, functions_1.randomHex)(16),
        participant: me,
        remote: (0, assert_1.assertWid)('status@broadcast'),
    });
    options = Object.assign(Object.assign(Object.assign({}, __1.defaultSendStatusOptions), { messageId }), options);
    const result = await (0, chat_1.sendFileMessage)('status@broadcast', content, Object.assign(Object.assign({}, options), { createChat: true, type: 'image' }));
    return result;
}


/***/ }),

/***/ "./src/status/functions/sendRawStatus.ts":
/*!***********************************************!*\
  !*** ./src/status/functions/sendRawStatus.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendRawStatus = sendRawStatus;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const Chat = __importStar(__webpack_require__(/*! ../../chat */ "./src/chat/index.ts"));
const getMyUserWid_1 = __webpack_require__(/*! ../../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const exportModule_1 = __webpack_require__(/*! ../../whatsapp/exportModule */ "./src/whatsapp/exportModule.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/status/index.ts");
const postSendStatus_1 = __webpack_require__(/*! ./postSendStatus */ "./src/status/functions/postSendStatus.ts");
async function sendRawStatus(message, options = {}) {
    const me = (0, getMyUserWid_1.getMyUserWid)();
    const messageId = new whatsapp_1.MsgKey({
        fromMe: true,
        id: (0, functions_1.randomHex)(16),
        participant: me,
        remote: (0, assert_1.assertWid)('status@broadcast'),
    });
    options = Object.assign(Object.assign(Object.assign({}, __1.defaultSendStatusOptions), { messageId }), options);
    message.author = me;
    const result = await Chat.sendRawMessage('status@broadcast', message, Object.assign(Object.assign({}, options), { createChat: true }));
    (0, postSendStatus_1.postSendStatus)(result);
    return result;
}
webpack.onInjected(() => {
    // allow to send backgroundColor, textColor and font for status
    (0, exportModule_1.wrapModuleFunction)(functions_1.createMsgProtobuf, (func, ...args) => {
        const [msg] = args;
        const result = func(...args);
        if (result.extendedTextMessage) {
            if (typeof msg.backgroundColor === 'number') {
                result.extendedTextMessage.backgroundArgb = msg.backgroundColor;
            }
            if (typeof msg.textColor === 'number') {
                result.extendedTextMessage.textArgb = msg.textColor;
            }
            if (typeof msg.font === 'number') {
                result.extendedTextMessage.font = msg.font;
            }
            result.extendedTextMessage.inviteLinkGroupTypeV2 = 0;
            result.extendedTextMessage.previewType = 0;
        }
        return result;
    });
    // Force to send as group for broadcast list
    (0, exportModule_1.wrapModuleFunction)(functions_1.encryptAndSendMsg, async (func, ...args) => {
        var _a;
        const [msg, perf] = args;
        if (((_a = msg.data.to) === null || _a === void 0 ? void 0 : _a.toString()) == 'status@broadcast') {
            const proto = (0, functions_1.createMsgProtobuf)(msg.data);
            try {
                await (0, functions_1.encryptAndSendStatusMsg)(msg, proto, perf);
                return {
                    t: msg.data.t,
                    sync: null,
                    phash: null,
                    addressingMode: null,
                    count: null,
                    error: null,
                };
            }
            catch (error) {
                return null;
            }
        }
        return await func(...args);
    });
});
webpack.onFullReady(() => {
    // Force to load buttons and post status in whatsapp web
    (0, exportModule_1.wrapModuleFunction)(functions_1.getABPropConfigValue, (func, ...args) => {
        const [key] = args;
        switch (key) {
            case 'web_status_posting_enabled':
                return 1;
            case 'post_status_in_companion':
                return 1;
        }
        return func(...args);
    });
    (0, exportModule_1.wrapModuleFunction)(functions_1.primaryFeatureEnabled, (func, ...args) => {
        const [key] = args;
        switch (key) {
            case 'post_status_in_companion':
                return true;
            case 'text_status_creation_support':
                return true;
        }
        return func(...args);
    });
});


/***/ }),

/***/ "./src/status/functions/sendReadStatus.ts":
/*!************************************************!*\
  !*** ./src/status/functions/sendReadStatus.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendReadStatus = sendReadStatus;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Mark status as read/seen
 *
 * @example
 * ```javascript
 * WPP.status.sendReadStatus('[phone_number]@c.us', 'false_status@broadcast_3A169E0FD4BC6E92212F_5521526232927@c.us');
 * ```
 */
async function sendReadStatus(chatId, statusId) {
    var _a;
    const wid = (0, assert_1.assertWid)(chatId);
    const statusStore = whatsapp_1.StatusV3Store.get(wid);
    const status = statusStore === null || statusStore === void 0 ? void 0 : statusStore.msgs.get(statusId);
    await (statusStore === null || statusStore === void 0 ? void 0 : statusStore.sendReadStatus(status, status === null || status === void 0 ? void 0 : status.mediaKeyTimestamp));
    const statusStoreReturn = whatsapp_1.StatusV3Store.get(wid);
    return ((_a = statusStoreReturn === null || statusStoreReturn === void 0 ? void 0 : statusStoreReturn.msgs.get(statusId)) === null || _a === void 0 ? void 0 : _a.serialize()) || [];
}


/***/ }),

/***/ "./src/status/functions/sendTextStatus.ts":
/*!************************************************!*\
  !*** ./src/status/functions/sendTextStatus.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendTextStatus = sendTextStatus;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/status/index.ts");
const _1 = __webpack_require__(/*! . */ "./src/status/functions/index.ts");
/**
 * Send a text message to status stories
 *
 * @example
 * ```javascript
 * WPP.status.sendTextStatus(`Bootstrap primary color: #0275d8`, { backgroundColor: '#0275d8', font: 2});
 * ```
 */
async function sendTextStatus(content, options = {}) {
    options = Object.assign(Object.assign({}, __1.defaultSendStatusOptions), options);
    let backgroundColor = (0, assert_1.assertColor)('#000000');
    let font = 0;
    if (['number', 'string'].includes(typeof options.backgroundColor)) {
        backgroundColor = (0, assert_1.assertColor)(options.backgroundColor);
    }
    if (options.font && options.font >= 0 && options.font <= 5) {
        font = options.font;
    }
    const message = {
        body: content,
        type: 'chat',
        richPreviewType: 0,
        inviteGrpType: 0,
        font,
        backgroundColor,
    };
    return await (0, _1.sendRawStatus)(message, options);
}


/***/ }),

/***/ "./src/status/functions/sendVideoStatus.ts":
/*!*************************************************!*\
  !*** ./src/status/functions/sendVideoStatus.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.sendVideoStatus = sendVideoStatus;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const chat_1 = __webpack_require__(/*! ../../chat */ "./src/chat/index.ts");
const getMyUserWid_1 = __webpack_require__(/*! ../../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const __1 = __webpack_require__(/*! .. */ "./src/status/index.ts");
/**
 * Send a video message to status stories
 *
 * @example
 * ```javascript
 * WPP.status.sendVideoStatus('data:video/mp4;base64,<a long base64 file...>');
 * ```
 */
async function sendVideoStatus(content, options = {}) {
    const me = (0, getMyUserWid_1.getMyUserWid)();
    const messageId = new whatsapp_1.MsgKey({
        fromMe: true,
        id: (0, functions_1.randomHex)(16),
        participant: me,
        remote: (0, assert_1.assertWid)('status@broadcast'),
    });
    options = Object.assign(Object.assign(Object.assign({}, __1.defaultSendStatusOptions), { messageId }), options);
    const result = await (0, chat_1.sendFileMessage)('status@broadcast', content, Object.assign(Object.assign({}, options), { createChat: true, type: 'video' }));
    return result;
}


/***/ }),

/***/ "./src/status/functions/updateParticipants.ts":
/*!****************************************************!*\
  !*** ./src/status/functions/updateParticipants.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.updateParticipants = updateParticipants;
const assert_1 = __webpack_require__(/*! ../../assert */ "./src/assert/index.ts");
const config_1 = __webpack_require__(/*! ../../config */ "./src/config/index.ts");
const getMyUserWid_1 = __webpack_require__(/*! ../../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const whatsapp_1 = __webpack_require__(/*! ../../whatsapp */ "./src/whatsapp/index.ts");
/**
 * Define a custom list of participants to send the status message
 *
 * @example
 * ```javascript
 * // Use a custom list
 * await WPP.status.updateParticipants(['123@c.us', '456@c.us']);
 * // Use the contacts by default
 * await WPP.status.updateParticipants(null);
 * ```
 */
async function updateParticipants(ids) {
    let type = 'custom';
    const me = (0, getMyUserWid_1.getMyUserWid)();
    if (!ids || ids.length === 0) {
        ids = whatsapp_1.ContactStore.getModelsArray()
            .filter((c) => c.isMyContact && !c.isContactBlocked)
            .filter((c) => c.notifyName && !c.isMe)
            .filter((c) => !c.id.equals(me))
            .map((c) => c.id);
        type = 'contacts';
    }
    const wids = ids.map(assert_1.assertWid).filter((c) => !c.equals(me));
    if (config_1.config.sendStatusToDevice) {
        wids.push(me);
    }
    const participants = wids.map((id) => new whatsapp_1.ParticipantModel({
        id,
        isAdmin: false,
        isSuperAdmin: false,
    }));
    const group = whatsapp_1.WidFactory.createWid('status@broadcast');
    await whatsapp_1.functions.updateParticipants({
        group,
        participants,
        version: Date.now(),
        isOffline: false,
    });
    localStorage.setItem('wpp-status-participants', type);
}


/***/ }),

/***/ "./src/status/index.ts":
/*!*****************************!*\
  !*** ./src/status/index.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__webpack_require__(/*! ./events */ "./src/status/events/index.ts");
__webpack_require__(/*! ./patch */ "./src/status/patch.ts");
__exportStar(__webpack_require__(/*! ./defaultSendStatusOptions */ "./src/status/defaultSendStatusOptions.ts"), exports);
__exportStar(__webpack_require__(/*! ./functions */ "./src/status/functions/index.ts"), exports);


/***/ }),

/***/ "./src/status/patch.ts":
/*!*****************************!*\
  !*** ./src/status/patch.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const __1 = __webpack_require__(/*! .. */ "./src/index.ts");
const getMyUserWid_1 = __webpack_require__(/*! ../conn/functions/getMyUserWid */ "./src/conn/functions/getMyUserWid.ts");
const webpack = __importStar(__webpack_require__(/*! ../webpack */ "./src/webpack/index.ts"));
const exportModule_1 = __webpack_require__(/*! ../whatsapp/exportModule */ "./src/whatsapp/exportModule.ts");
const functions_1 = __webpack_require__(/*! ../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
webpack.onFullReady(applyPatch);
function applyPatch() {
    (0, exportModule_1.wrapModuleFunction)(functions_1.handleSingleMsg, async (func, ...args) => {
        const [wid, msg] = args;
        if (!__1.config.syncAllStatus && wid.isStatusV3()) {
            const me = (0, getMyUserWid_1.getMyUserWid)();
            if (msg.author && !me.equals(msg.author)) {
                return;
            }
        }
        return func(...args);
    });
}


/***/ }),

/***/ "./src/util/blobToArrayBuffer.ts":
/*!***************************************!*\
  !*** ./src/util/blobToArrayBuffer.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.blobToArrayBuffer = blobToArrayBuffer;
function blobToArrayBuffer(blob) {
    return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onloadend = function () {
            resolve(reader.result);
        };
        reader.onabort = reject;
        reader.onerror = reject;
        reader.readAsArrayBuffer(blob);
    });
}


/***/ }),

/***/ "./src/util/blobToBase64.ts":
/*!**********************************!*\
  !*** ./src/util/blobToBase64.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.blobToBase64 = blobToBase64;
function blobToBase64(blob) {
    return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onloadend = function () {
            resolve(reader.result);
        };
        reader.onabort = reject;
        reader.onerror = reject;
        reader.readAsDataURL(blob);
    });
}


/***/ }),

/***/ "./src/util/convertToFile.ts":
/*!***********************************!*\
  !*** ./src/util/convertToFile.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.convertToFile = convertToFile;
const file_type_1 = __importDefault(__webpack_require__(/*! file-type */ "./node_modules/file-type/index.js"));
const parse_data_url_1 = __importDefault(__webpack_require__(/*! parse-data-url */ "./node_modules/parse-data-url/index.js"));
const _1 = __webpack_require__(/*! . */ "./src/util/index.ts");
async function convertToFile(data, mimetype, filename) {
    if (data instanceof File) {
        return data;
    }
    let blob = null;
    if (typeof data === 'string' && (0, _1.isUrl)(data)) {
        const response = await fetch(data);
        const fetchedBlob = await response.blob();
        blob = fetchedBlob;
    }
    else if (typeof data === 'string') {
        let parsed = (0, parse_data_url_1.default)(data);
        if (!parsed && (0, _1.isBase64)(data)) {
            parsed = (0, parse_data_url_1.default)('data:;base64,' + data);
        }
        if (!parsed) {
            throw 'invalid_data_url';
        }
        if (!mimetype) {
            mimetype = parsed.contentType;
        }
        const buffer = parsed.toBuffer();
        // Convert Buffer to Uint8Array using Buffer.from for compatibility
        blob = new Blob([Uint8Array.from(buffer)], {
            type: mimetype,
        });
    }
    else {
        blob = data;
    }
    if (!filename || !mimetype) {
        const result = await file_type_1.default.fromBuffer(await blob.arrayBuffer());
        if (result) {
            const baseType = result.mime.split('/')[0];
            filename = filename || `${baseType}.${result.ext}`;
            mimetype = mimetype || result.mime;
        }
        filename = filename || 'unknown';
        mimetype = mimetype || 'application/octet-stream';
    }
    return new File([blob], filename, {
        type: mimetype,
        lastModified: Date.now(),
    });
}


/***/ }),

/***/ "./src/util/createWid.ts":
/*!*******************************!*\
  !*** ./src/util/createWid.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createWid = createWid;
const whatsapp_1 = __webpack_require__(/*! ../whatsapp */ "./src/whatsapp/index.ts");
function getWidFactory() {
    // Prefer the imported WidFactory but guard against circular/undefined imports.
    if (typeof whatsapp_1.WidFactory !== 'undefined' && whatsapp_1.WidFactory)
        return whatsapp_1.WidFactory;
    // Fallback to global (if some build attaches the factories there)
    if (typeof globalThis !== 'undefined' && globalThis.WidFactory)
        return globalThis.WidFactory;
    return undefined;
}
const createUserWidCompat = (user, server) => {
    const factory = getWidFactory();
    if (!factory)
        return undefined;
    if (typeof factory.createUserWidOrThrow === 'function')
        return factory.createUserWidOrThrow(user, server);
    if (typeof factory.createUserWid === 'function')
        return factory.createUserWid(user, server);
    if (typeof factory.createWid === 'function')
        return factory.createWid(server ? `${user}@${server}` : user);
    return undefined;
};
function createWid(id) {
    if (!id) {
        return;
    }
    const factory = getWidFactory();
    if (factory && factory.isWidlike && factory.isWidlike(id)) {
        return factory.createWidFromWidLike(id);
    }
    if (id && typeof id === 'object' && typeof id._serialized === 'object') {
        id = id._serialized;
    }
    if (typeof id !== 'string') {
        return undefined;
    }
    if (/@\w*lid\b/.test(id)) {
        return createUserWidCompat(id, 'lid');
    }
    if (/^\d+$/.test(id)) {
        return createUserWidCompat(id, 'c.us');
    }
    if (/^\d+-\d+$/.test(id)) {
        return createUserWidCompat(id, 'g.us');
    }
    if (/status$/.test(id)) {
        return createUserWidCompat(id, 'broadcast');
    }
    if (factory && typeof factory.createWid === 'function') {
        return factory.createWid(id);
    }
    return undefined;
}


/***/ }),

/***/ "./src/util/downloadImage.ts":
/*!***********************************!*\
  !*** ./src/util/downloadImage.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.downloadImage = downloadImage;
function downloadImage(url, type = 'image/jpeg', quality = 0.85) {
    return new Promise((resolve, reject) => {
        const img = new Image();
        img.crossOrigin = 'anonymous';
        img.src = url;
        img.onerror = reject;
        img.onload = () => {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.height = img.naturalHeight;
            canvas.width = img.naturalWidth;
            ctx.drawImage(img, 0, 0);
            const data = canvas.toDataURL(type, quality);
            resolve({
                data,
                height: img.naturalHeight,
                width: img.naturalWidth,
            });
        };
    });
}


/***/ }),

/***/ "./src/util/errors.ts":
/*!****************************!*\
  !*** ./src/util/errors.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WPPError = void 0;
class WPPError extends Error {
    constructor(code, message, extra = {}) {
        super(message);
        this.code = code;
        if (extra) {
            const keys = Object.keys(extra);
            for (const key of keys) {
                this[key] = extra[key];
            }
        }
    }
}
exports.WPPError = WPPError;


/***/ }),

/***/ "./src/util/fetchDataFromPNG.ts":
/*!**************************************!*\
  !*** ./src/util/fetchDataFromPNG.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.fetchDataFromPNG = fetchDataFromPNG;
function fetchDataFromPNG(url) {
    return new Promise((resolve, reject) => {
        const img = new Image();
        img.crossOrigin = 'anonymous';
        img.src = url;
        img.onerror = reject;
        img.onload = function () {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.height = img.naturalHeight;
            canvas.width = img.naturalWidth;
            ctx.drawImage(img, 0, 0);
            const data = ctx.getImageData(0, 0, canvas.width, canvas.height).data;
            const buffer = Buffer.from(data.filter((_, i) => i % 4 < 3)); // Skip alfa color
            // Get the image size
            const size = (buffer[1] << 56) +
                (buffer[2] << 48) +
                (buffer[3] << 40) +
                (buffer[4] << 32) +
                (buffer[5] << 24) +
                (buffer[6] << 16) +
                (buffer[7] << 8) +
                buffer[8];
            resolve(new Uint8Array(buffer.subarray(9, size + 9)));
        };
    });
}


/***/ }),

/***/ "./src/util/generateOrderUniqueId.ts":
/*!*******************************************!*\
  !*** ./src/util/generateOrderUniqueId.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.generateOrderUniqueId = generateOrderUniqueId;
function generateOrderUniqueId() {
    const timestamp = String(Date.now());
    const randomPart = Math.random().toFixed(4).slice(-4);
    const combinedValue = timestamp + randomPart;
    const uniqueId = typeof BigInt === 'function'
        ? BigInt(combinedValue)
        : Number(combinedValue);
    return uniqueId.toString(36).toUpperCase();
}


/***/ }),

/***/ "./src/util/getVideoInfoFromBuffer.ts":
/*!********************************************!*\
  !*** ./src/util/getVideoInfoFromBuffer.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getVideoInfoFromBuffer = getVideoInfoFromBuffer;
/**
 * Get the video file duration
 * @see https://gist.github.com/Elements-/cf063254730cd754599e#gistcomment-3241210
 * @see https://gist.github.com/OllieJones/5ffb011fa3a11964154975582360391c
 */
function getVideoInfoFromBuffer(arrayBuffer) {
    const buffer = Buffer.from(arrayBuffer);
    const header = Buffer.from('mvhd');
    const start = buffer.indexOf(header) + 17;
    const timeScale = buffer.readUInt32BE(start);
    const duration = buffer.readUInt32BE(start + 4);
    const moov = buffer.indexOf(Buffer.from('moov'));
    const trak = buffer.indexOf(Buffer.from('trak'), moov + 4);
    const stbl = buffer.indexOf(Buffer.from('stbl'), trak + 4);
    const avc1 = buffer.indexOf(Buffer.from('avc1'), stbl + 4);
    const width = buffer.readUInt16BE(avc1 + 4 + 24);
    const height = buffer.readUInt16BE(avc1 + 4 + 26);
    const audioLength = Math.floor((duration / timeScale) * 1000) / 1000;
    return {
        duration: Math.floor(audioLength),
        width,
        height,
    };
}


/***/ }),

/***/ "./src/util/index.ts":
/*!***************************!*\
  !*** ./src/util/index.ts ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./blobToArrayBuffer */ "./src/util/blobToArrayBuffer.ts"), exports);
__exportStar(__webpack_require__(/*! ./blobToBase64 */ "./src/util/blobToBase64.ts"), exports);
__exportStar(__webpack_require__(/*! ./convertToFile */ "./src/util/convertToFile.ts"), exports);
__exportStar(__webpack_require__(/*! ./createWid */ "./src/util/createWid.ts"), exports);
__exportStar(__webpack_require__(/*! ./downloadImage */ "./src/util/downloadImage.ts"), exports);
__exportStar(__webpack_require__(/*! ./errors */ "./src/util/errors.ts"), exports);
__exportStar(__webpack_require__(/*! ./fetchDataFromPNG */ "./src/util/fetchDataFromPNG.ts"), exports);
__exportStar(__webpack_require__(/*! ./generateOrderUniqueId */ "./src/util/generateOrderUniqueId.ts"), exports);
__exportStar(__webpack_require__(/*! ./getVideoInfoFromBuffer */ "./src/util/getVideoInfoFromBuffer.ts"), exports);
__exportStar(__webpack_require__(/*! ./isBase64 */ "./src/util/isBase64.ts"), exports);
__exportStar(__webpack_require__(/*! ./isUrl */ "./src/util/isUrl.ts"), exports);
__exportStar(__webpack_require__(/*! ./resizeImage */ "./src/util/resizeImage.ts"), exports);
__exportStar(__webpack_require__(/*! ./types */ "./src/util/types.ts"), exports);
__exportStar(__webpack_require__(/*! ./wrapFunction */ "./src/util/wrapFunction.ts"), exports);


/***/ }),

/***/ "./src/util/isBase64.ts":
/*!******************************!*\
  !*** ./src/util/isBase64.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isBase64 = isBase64;
const re = /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/;
function isBase64(data) {
    return re.test(data);
}


/***/ }),

/***/ "./src/util/isUrl.ts":
/*!***************************!*\
  !*** ./src/util/isUrl.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isUrl = isUrl;
/**
 * Check if a string is a valid HTTP or HTTPS URL
 * @param url The string to check
 * @returns true if the string is a valid HTTP/HTTPS URL, false otherwise
 */
function isUrl(url) {
    if (!url || typeof url !== 'string') {
        return false;
    }
    const trimmedUrl = url.trim();
    // Fast early return for obviously non-HTTP/HTTPS URLs
    // This avoids expensive URL parsing for base64 data, data URLs, etc.
    if (!/^https?:\/\//i.test(trimmedUrl)) {
        return false;
    }
    try {
        const urlObject = new URL(trimmedUrl);
        return urlObject.protocol === 'http:' || urlObject.protocol === 'https:';
    }
    catch (_a) {
        return false;
    }
}


/***/ }),

/***/ "./src/util/linkPreview.ts":
/*!*********************************!*\
  !*** ./src/util/linkPreview.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.fetchRemoteLinkPreviewData = fetchRemoteLinkPreviewData;
exports.generateThumbnailLinkPreviewData = generateThumbnailLinkPreviewData;
const debug_1 = __importDefault(__webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js"));
const config_1 = __webpack_require__(/*! ../config */ "./src/config/index.ts");
const whatsapp_1 = __webpack_require__(/*! ../whatsapp */ "./src/whatsapp/index.ts");
const functions_1 = __webpack_require__(/*! ../whatsapp/functions */ "./src/whatsapp/functions/index.ts");
const downloadImage_1 = __webpack_require__(/*! ./downloadImage */ "./src/util/downloadImage.ts");
const fetchDataFromPNG_1 = __webpack_require__(/*! ./fetchDataFromPNG */ "./src/util/fetchDataFromPNG.ts");
const debug = (0, debug_1.default)('WA-JS:link-preview');
/**
 * Server Source: wa-js-api-server
 * @see https://github.com/wppconnect-team/wa-js-api-server
 *
 * An article about how this server work: https://www.secjuice.com/hiding-javascript-in-png-csp-bypass/
 */
const defaultApiServers = [
    'https://cobrancas.uppermesh.com.br:8000',
    'https://wajsapi.titanchat.com.br',
    'https://wppc-linkpreview.cloudtrix.com.br',
];
const apiServers = config_1.config.linkPreviewApiServers || defaultApiServers;
const thumbHeight = 100;
const thumbWidth = 140;
const cache = {};
const cacheThumb = {};
shuffleArray(apiServers);
/**
 * Fetch preview link data from a remote server
 */
async function fetchRemoteLinkPreviewData(url) {
    if (cache[url]) {
        debug(`Link preview found in the cache`, url);
        return cache[url];
    }
    const textDecoder = new TextDecoder();
    for (let i = apiServers.length - 1; i >= 0; i--) {
        const server = apiServers[i];
        debug(`Fetching link preview using ${server}`, url);
        const imageUrl = `${server}/v1/link-preview/fetch-data.png?url=` + encodeURI(url);
        const data = await (0, fetchDataFromPNG_1.fetchDataFromPNG)(imageUrl)
            .then((text) => textDecoder.decode(text))
            .then((text) => JSON.parse(text))
            .catch(() => null);
        // Discard servers with bad response
        if (data === null || (!('title' in data) && !('status' in data))) {
            debug(`The server ${server} is unavailable for link preview`);
            apiServers.splice(i, 1);
            continue;
        }
        if (!data.title && data.status !== 200) {
            continue;
        }
        const isVideo = /^video/.test(data.mediaType);
        const result = {
            title: data.title,
            description: data.description,
            canonicalUrl: data.url,
            matchedText: url,
            richPreviewType: isVideo ? 1 : 0,
            doNotPlayInline: !isVideo,
            imageUrl: data.image,
        };
        cache[url] = result;
        setTimeout(() => {
            delete cache[url];
        }, 300000); // 5 minutes
        return result;
    }
    return null;
}
/**
 * Generate a thumbnail in base64 format
 */
function generateThumbnail(url) {
    return new Promise((resolve, reject) => {
        const img = new Image();
        img.crossOrigin = 'anonymous';
        img.src = url;
        img.onerror = reject;
        img.onload = () => {
            try {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                canvas.width = thumbWidth;
                canvas.height = thumbWidth;
                const min = Math.min(img.width, img.height);
                const sx = (img.width - min) / 2;
                const sy = (img.height - min) / 2;
                ctx.drawImage(img, sx, sy, min, min, 0, 0, thumbWidth, thumbWidth);
                resolve(canvas
                    .toDataURL('image/jpeg')
                    .replace(/^data:image\/jpeg;base64,/, ''));
            }
            catch (e) {
                reject();
            }
        };
    });
}
/**
 * Generate the preview link thumbnail data
 */
async function generateThumbnailLinkPreviewData(url) {
    if (cacheThumb[url]) {
        debug(`Thumb for link preview found in cache.`, url);
        return cacheThumb[url];
    }
    if (!apiServers[0]) {
        return null;
    }
    const server = apiServers[0];
    debug(`Downloading the preview image using ${server}`, url);
    const downloadUrl = `${server}/v1/link-preview/download-image?url=` + encodeURI(url);
    const download = await (0, downloadImage_1.downloadImage)(downloadUrl).catch(() => null);
    // Ignore image not found
    if (!download) {
        return null;
    }
    // Ignore too small image
    if (download.width < thumbWidth || download.height < thumbHeight) {
        return null;
    }
    const thumbnail = await generateThumbnail(download.data);
    // Only display High Quality in link preview for wide images
    // if (download.width / download.height < 1.4) {
    //   return {
    //     thumbnail,
    //   };
    // }
    const thumbnailHQ = download.data.replace('data:image/jpeg;base64,', '');
    const opaque = await whatsapp_1.OpaqueData.createFromBase64Jpeg(thumbnailHQ);
    const e = new Uint8Array(32);
    const mediaKeyInfo = (window.crypto.getRandomValues(e),
        {
            key: whatsapp_1.Base64.encodeB64(e),
            timestamp: (0, functions_1.unixTime)(),
        });
    const abort = new AbortController();
    const mediaData = await (0, functions_1.uploadThumbnail)({
        thumbnail: opaque,
        mediaType: 'thumbnail-link',
        mediaKeyInfo: mediaKeyInfo,
        uploadOrigin: 1,
        forwardedFromWeb: false,
        signal: abort.signal,
        timeout: 3000,
        isViewOnce: false,
    });
    const mediaEntry = mediaData.mediaEntry;
    const result = {
        thumbnail,
        thumbnailHQ,
        mediaKey: mediaEntry.mediaKey,
        mediaKeyTimestamp: mediaEntry.mediaKeyTimestamp,
        thumbnailDirectPath: mediaEntry.directPath,
        thumbnailSha256: mediaData.filehash,
        thumbnailEncSha256: mediaEntry.encFilehash,
        thumbnailWidth: download.width,
        thumbnailHeight: download.height,
    };
    cacheThumb[url] = result;
    setTimeout(() => {
        delete cacheThumb[url];
    }, 300000); // 5 minutes
    return result;
}
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}


/***/ }),

/***/ "./src/util/resizeImage.ts":
/*!*********************************!*\
  !*** ./src/util/resizeImage.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.resizeImage = resizeImage;
const compressorjs_1 = __importDefault(__webpack_require__(/*! compressorjs */ "./node_modules/compressorjs/dist/compressor.js"));
function resizeImage(blob, options = {}) {
    return new Promise((success, error) => {
        new compressorjs_1.default(blob, Object.assign(Object.assign({}, options), { success,
            error }));
    });
}


/***/ }),

/***/ "./src/util/types.ts":
/*!***************************!*\
  !*** ./src/util/types.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "./src/util/wrapFunction.ts":
/*!**********************************!*\
  !*** ./src/util/wrapFunction.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.wrapFunction = wrapFunction;
/**
 * Wrap a function with the callback
 */
function wrapFunction(func, callback) {
    return (...args) => {
        return callback(func, ...args);
    };
}


/***/ }),

/***/ "./src/webpack/index.ts":
/*!******************************!*\
  !*** ./src/webpack/index.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.fallbackModules = exports.webpackRequire = exports.__debug = exports.isFullReady = exports.isReady = exports.isInjected = exports.loaderType = void 0;
exports.onInjected = onInjected;
exports.onReady = onReady;
exports.onFullReady = onFullReady;
exports.injectLoader = injectLoader;
exports.moduleSource = moduleSource;
exports.isReactComponent = isReactComponent;
exports.searchId = searchId;
exports.search = search;
exports.modules = modules;
exports.loadModule = loadModule;
exports.injectFallbackModule = injectFallbackModule;
const debug_1 = __importDefault(__webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js"));
const eventEmitter_1 = __webpack_require__(/*! ../eventEmitter */ "./src/eventEmitter/index.ts");
const debug = (0, debug_1.default)('WA-JS:webpack');
/**
 * Is setted true when the loader is injected
 */
exports.loaderType = 'unknown';
/**
 * Is setted true when the loader is injected
 */
exports.isInjected = false;
/**
 * Is setted true when the main webpack modules are fully loaded
 */
exports.isReady = false;
/**
 * Is setted true when the all webpack modules are fully loaded
 */
exports.isFullReady = false;
function onInjected(listener, delay = 0) {
    eventEmitter_1.internalEv.on('webpack.injected', () => {
        setTimeout(listener, delay);
    });
}
function onReady(listener, delay = 0) {
    eventEmitter_1.internalEv.on('webpack.ready', () => {
        setTimeout(listener, delay);
    });
}
function onFullReady(listener, delay = 0) {
    eventEmitter_1.internalEv.on('webpack.full_ready', () => {
        setTimeout(listener, delay);
    });
}
const __debug = () => {
    const global = (self || window);
    return global.require('__debug');
};
exports.__debug = __debug;
/**
 * Fallback modules for forward compatibility
 */
exports.fallbackModules = {};
const waitMainInit = eventEmitter_1.internalEv.waitFor('conn.main_init');
const waitMainReady = eventEmitter_1.internalEv.waitFor('conn.main_ready');
function injectLoader() {
    if (exports.isInjected) {
        return;
    }
    const global = (self || window);
    /* BEGIN: For WhatsApp >= 2.3000.0 */
    const metaTimer = setInterval(async () => {
        if (exports.loaderType !== 'unknown') {
            clearInterval(metaTimer);
            return;
        }
        if (!global.require || !global.__d) {
            return;
        }
        exports.loaderType = 'meta';
        // A wrap to work like webpack
        exports.webpackRequire = function (id) {
            try {
                global.ErrorGuard.skipGuardGlobal(true);
                return global.importNamespace(id);
            }
            catch (error) { }
            return null;
        };
        Object.defineProperty(exports.webpackRequire, 'm', {
            get: () => {
                var _a;
                const modulesMap = (0, exports.__debug)().modulesMap;
                const ids = Object.keys(modulesMap).filter((id) => /^(?:use)?WA/.test(id) &&
                    // Fix for error "bx(...): Unknown file path "9550""
                    ![
                        'WAWebEmojiPanelContentEmojiSearchEmpty.react',
                        'WAWebMoment-es-do',
                    ].includes(id));
                const result = {};
                for (const id of ids) {
                    result[id] = (_a = modulesMap[id]) === null || _a === void 0 ? void 0 : _a.factory;
                }
                return result;
            },
        });
        exports.isInjected = true;
        debug('injected');
        await eventEmitter_1.internalEv.emitAsync('webpack.injected').catch(() => null);
        await waitMainInit;
        await new Promise((resolve) => setTimeout(resolve, 1000));
        exports.isReady = true;
        debug('ready to use');
        await eventEmitter_1.internalEv.emitAsync('webpack.ready').catch(() => null);
        if (window.wppForceMainLoad) {
            await new Promise((resolve) => setTimeout(resolve, 5000));
        }
        else {
            await waitMainReady;
        }
        exports.isFullReady = true;
        debug('full ready to use');
        await eventEmitter_1.internalEv.emitAsync('webpack.full_ready').catch(() => null);
    }, 1000);
    /* END: For WhatsApp >= 2.3000.0 */
    const chunkName = 'webpackChunkwhatsapp_web_client';
    const chunk = global[chunkName] || [];
    if (!chunk || (chunk === null || chunk === void 0 ? void 0 : chunk.length) === 0) {
        Object.defineProperty(global, chunkName, chunk);
    }
    else {
        exports.loaderType = 'webpack';
    }
    const injectFunction = async (__nested_webpack_require_5329__) => {
        exports.loaderType = 'webpack';
        exports.webpackRequire = __nested_webpack_require_5329__;
        exports.isInjected = true;
        debug('injected');
        await eventEmitter_1.internalEv.emitAsync('webpack.injected').catch(() => null);
        await new Promise((resolve) => setTimeout(resolve, 500));
        const allRuntimes = new Array(10000)
            .fill(1)
            .map((v, k) => v + k)
            .filter((v) => {
            const filename = exports.webpackRequire.u(v);
            if (filename.includes('locales')) {
                return navigator.languages.some((lang) => filename.includes(`locales/${lang}`));
            }
            return !filename.includes('undefined');
        });
        const mainRuntimes = allRuntimes.filter((v) => {
            const filename = exports.webpackRequire.u(v);
            return filename.includes('main') && !filename.includes('locales');
        });
        // Use sequential file load
        for (const v of mainRuntimes) {
            try {
                await exports.webpackRequire.e(v);
            }
            catch (error) {
                debug('load file error', exports.webpackRequire.u(v));
            }
        }
        exports.isReady = true;
        debug('ready to use');
        await eventEmitter_1.internalEv.emitAsync('webpack.ready').catch(() => null);
        if (window.wppForceMainLoad) {
            await new Promise((resolve) => setTimeout(resolve, 5000));
        }
        else {
            await waitMainReady;
        }
        // Use sequential file load
        for (const v of allRuntimes) {
            try {
                await exports.webpackRequire.e(v);
            }
            catch (error) {
                debug('load file error', exports.webpackRequire.u(v));
            }
        }
        exports.isFullReady = true;
        debug('full ready to use');
        await eventEmitter_1.internalEv.emitAsync('webpack.full_ready').catch(() => null);
    };
    const id = Date.now();
    chunk.push([
        [id],
        {},
        (__nested_webpack_require_7421__) => {
            exports.webpackRequire = __nested_webpack_require_7421__;
            queueMicrotask(() => injectFunction(__nested_webpack_require_7421__));
        },
    ]);
}
const sourceModuleMap = new Map();
function moduleSource(moduleId) {
    if (exports.loaderType !== 'webpack') {
        return '';
    }
    if (!exports.webpackRequire.m[moduleId]) {
        return '';
    }
    if (sourceModuleMap.has(moduleId)) {
        return sourceModuleMap.get(moduleId);
    }
    const source = exports.webpackRequire.m[moduleId].toString();
    sourceModuleMap.set(moduleId, source);
    return source;
}
const pureComponentMap = new Map();
function isReactComponent(moduleId) {
    if (pureComponentMap.has(moduleId)) {
        return pureComponentMap.get(moduleId);
    }
    const ignoreRE = /\w+\.(Pure)?Component\s*\{/;
    const source = moduleSource(moduleId);
    const isPure = ignoreRE.test(source);
    pureComponentMap.set(moduleId, isPure);
    return isPure;
}
/**
 * Return the webpack module id from a search function
 * @param condition Function for compare the modules
 * @param reverse Search in reverse order
 */
function searchId(condition, reverse = false) {
    let ids = Object.keys(exports.webpackRequire.m);
    if (reverse) {
        ids = ids.reverse();
    }
    const timer = setTimeout(() => {
        debug(`Searching for: ${condition.toString()}`);
    }, 500);
    for (const moduleId of ids) {
        if (isReactComponent(moduleId)) {
            continue;
        }
        try {
            const module = (0, exports.webpackRequire)(moduleId);
            if (condition(module, moduleId)) {
                debug(`Module found: ${moduleId} - ${condition.toString()}`);
                clearTimeout(timer);
                return moduleId;
            }
        }
        catch (error) {
            continue;
        }
    }
    ids = Object.keys(exports.fallbackModules);
    for (const moduleId of ids) {
        try {
            const module = exports.fallbackModules[moduleId];
            if (condition(module, moduleId)) {
                debug(`Fallback Module found: ${moduleId} - ${condition.toString()}`);
                clearTimeout(timer);
                return moduleId;
            }
        }
        catch (error) {
            continue;
        }
    }
    debug(`Module not found: ${condition.toString()}`);
    return null;
}
/**
 * Return the webpack module from a search function
 * @param condition Function for compare the modules
 * @param reverse Search in reverse order
 */
function search(condition, reverse = false) {
    const moduleId = searchId(condition, reverse);
    if (!moduleId) {
        return null;
    }
    return loadModule(moduleId);
}
/**
 * Return the webpack module from a search function
 * @param condition Function for compare the modules
 * @param reverse Search in reverse order
 */
function modules(condition, reverse = false) {
    const modules = {};
    let ids = Object.keys(exports.webpackRequire.m);
    if (reverse) {
        ids = ids.reverse();
    }
    for (const moduleId of ids) {
        if (isReactComponent(moduleId)) {
            continue;
        }
        try {
            const module = loadModule(moduleId);
            if (!condition || condition(module, moduleId)) {
                modules[moduleId] = module;
            }
        }
        catch (error) {
            continue;
        }
    }
    debug(`${Object.keys(modules).length} modules found with: ${condition === null || condition === void 0 ? void 0 : condition.toString()}`);
    return modules;
}
function loadModule(moduleId) {
    const module = !/^fallback_/.test(moduleId)
        ? (0, exports.webpackRequire)(moduleId)
        : exports.fallbackModules[moduleId];
    return module;
}
/**
 * Inject a new module content
 * @param moduleId Module ID
 * @param content The module content
 * @returns
 */
function injectFallbackModule(moduleId, content) {
    moduleId = moduleId + '';
    if (/^fallback_/.test(moduleId)) {
        throw new Error('Invalid fallback ID');
    }
    exports.fallbackModules[`fallback_${moduleId}`] = content;
}


/***/ }),

/***/ "./src/whatsapp/collections/AggReactionsCollection.ts":
/*!************************************************************!*\
  !*** ./src/whatsapp/collections/AggReactionsCollection.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { AggReactionsCollection: 'AggReactionsCollection' }, (m) => m.AggReactionsCollection);


/***/ }),

/***/ "./src/whatsapp/collections/BaseCollection.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/collections/BaseCollection.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { BaseCollection: 'BaseCollection' }, (m) => m.BaseCollection);


/***/ }),

/***/ "./src/whatsapp/collections/BlocklistCollection.ts":
/*!*********************************************************!*\
  !*** ./src/whatsapp/collections/BlocklistCollection.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    BlocklistCollection: ['BlocklistCollectionImpl', 'BlocklistCollection'],
}, (m) => m.BlocklistCollectionImpl || m.BlocklistCollection);


/***/ }),

/***/ "./src/whatsapp/collections/BotProfileCollection.ts":
/*!**********************************************************!*\
  !*** ./src/whatsapp/collections/BotProfileCollection.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    BotProfileCollection: ['BotProfileCollection'],
}, (m) => m.BotProfileCollection);


/***/ }),

/***/ "./src/whatsapp/collections/BusinessCategoriesResultCollection.ts":
/*!************************************************************************!*\
  !*** ./src/whatsapp/collections/BusinessCategoriesResultCollection.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    BusinessCategoriesResultCollection: 'BusinessCategoriesResultCollectionImpl',
}, (m) => m.BusinessCategoriesResultCollectionImpl);


/***/ }),

/***/ "./src/whatsapp/collections/BusinessProfileCollection.ts":
/*!***************************************************************!*\
  !*** ./src/whatsapp/collections/BusinessProfileCollection.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    BusinessProfileCollection: [
        'BusinessProfileCollectionImpl',
        'BusinessProfileCollection',
    ],
}, (m) => m.BusinessProfileCollectionImpl || m.BusinessProfileCollection);


/***/ }),

/***/ "./src/whatsapp/collections/ButtonCollection.ts":
/*!******************************************************!*\
  !*** ./src/whatsapp/collections/ButtonCollection.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { ButtonCollection: ['ButtonCollectionImpl', 'ButtonCollection'] }, (m) => m.ButtonCollectionImpl || m.ButtonCollection);


/***/ }),

/***/ "./src/whatsapp/collections/CallCollection.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/collections/CallCollection.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { CallCollection: ['CallCollectionImpl', 'default.constructor'] }, (m) => m.CallCollectionImpl || m.default.processIncomingCall);


/***/ }),

/***/ "./src/whatsapp/collections/CartCollection.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/collections/CartCollection.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { CartCollection: ['CartCollectionImpl', 'CartCollection'] }, (m) => m.CartCollectionImpl || m.CartCollection);


/***/ }),

/***/ "./src/whatsapp/collections/CartItemCollection.ts":
/*!********************************************************!*\
  !*** ./src/whatsapp/collections/CartItemCollection.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    CartItemCollection: ['CartItemCollectionImpl', 'CartItemCollection'],
}, (m) => m.CartItemCollectionImpl || m.CartItemCollection);


/***/ }),

/***/ "./src/whatsapp/collections/CatalogCollection.ts":
/*!*******************************************************!*\
  !*** ./src/whatsapp/collections/CatalogCollection.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { CatalogCollection: ['CatalogCollectionImpl', 'CatalogCollection'] }, (m) => m.CatalogCollectionImpl || m.CatalogCollection);


/***/ }),

/***/ "./src/whatsapp/collections/ChatCollection.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/collections/ChatCollection.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { ChatCollection: 'ChatCollectionImpl' }, (m) => m.ChatCollectionImpl);


/***/ }),

/***/ "./src/whatsapp/collections/ChatstateCollection.ts":
/*!*********************************************************!*\
  !*** ./src/whatsapp/collections/ChatstateCollection.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    ChatstateCollection: ['ChatstateCollectionImpl', 'Chatstate'],
}, (m) => m.ChatstateCollectionImpl || m.Chatstate);


/***/ }),

/***/ "./src/whatsapp/collections/Collection.ts":
/*!************************************************!*\
  !*** ./src/whatsapp/collections/Collection.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    Collection: 'default',
}, (m) => m.default.toString().includes('Collection initialized without model'));


/***/ }),

/***/ "./src/whatsapp/collections/ContactCollection.ts":
/*!*******************************************************!*\
  !*** ./src/whatsapp/collections/ContactCollection.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { ContactCollection: 'ContactCollectionImpl' }, (m) => m.ContactCollectionImpl);


/***/ }),

/***/ "./src/whatsapp/collections/EmojiVariantCollection.ts":
/*!************************************************************!*\
  !*** ./src/whatsapp/collections/EmojiVariantCollection.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    EmojiVariantCollection: [
        'EmojiVariantCollectionImpl',
        'EmojiVariantCollection',
    ],
}, (m) => m.EmojiVariantCollectionImpl || m.EmojiVariantCollection);


/***/ }),

/***/ "./src/whatsapp/collections/GroupMetadataCollection.ts":
/*!*************************************************************!*\
  !*** ./src/whatsapp/collections/GroupMetadataCollection.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { GroupMetadataCollection: 'default.constructor' }, (m) => typeof m.default.onParentGroupChange === 'function' || // @whatsapp < 2.2301.5
    typeof m.default._handleParentGroupChange === 'function' // @whatsapp >= 2.2301.5
);


/***/ }),

/***/ "./src/whatsapp/collections/LabelCollection.ts":
/*!*****************************************************!*\
  !*** ./src/whatsapp/collections/LabelCollection.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { LabelCollection: ['LabelCollectionImpl', 'LabelCollection'] }, (m) => m.LabelCollectionImpl || m.LabelCollection);


/***/ }),

/***/ "./src/whatsapp/collections/LabelItemCollection.ts":
/*!*********************************************************!*\
  !*** ./src/whatsapp/collections/LabelItemCollection.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    LabelItemCollection: ['LabelItemCollectionImpl', 'LabelItemCollection'],
}, (m) => m.LabelItemCollectionImpl || m.LabelItemCollection);


/***/ }),

/***/ "./src/whatsapp/collections/MsgCollection.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/collections/MsgCollection.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { MsgCollection: 'MsgCollectionImpl' }, (m) => m.MsgCollectionImpl);


/***/ }),

/***/ "./src/whatsapp/collections/MsgInfoCollection.ts":
/*!*******************************************************!*\
  !*** ./src/whatsapp/collections/MsgInfoCollection.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { MsgInfoCollection: ['MsgInfoCollectionImpl', 'MsgInfoCollection'] }, (m) => m.MsgInfoCollectionImpl || m.MsgInfoCollection);


/***/ }),

/***/ "./src/whatsapp/collections/MsgInfoParticipantCollection.ts":
/*!******************************************************************!*\
  !*** ./src/whatsapp/collections/MsgInfoParticipantCollection.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    ParticipantCollection: ['ParticipantCollection'],
}, (m) => m.ParticipantCollection);


/***/ }),

/***/ "./src/whatsapp/collections/MuteCollection.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/collections/MuteCollection.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { MuteCollection: ['MuteCollectionImpl', 'MuteCollection'] }, (m) => m.MuteCollectionImpl || m.MuteCollection);


/***/ }),

/***/ "./src/whatsapp/collections/NoteCollection.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/collections/NoteCollection.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { NoteCollection: ['NoteCollection.constructor'] }, (m) => m.NoteCollection);


/***/ }),

/***/ "./src/whatsapp/collections/OrderCollection.ts":
/*!*****************************************************!*\
  !*** ./src/whatsapp/collections/OrderCollection.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { OrderCollection: ['OrderCollectionImpl', 'OrderCollection'] }, (m) => m.OrderCollectionImpl || m.OrderCollection);


/***/ }),

/***/ "./src/whatsapp/collections/OrderItemCollection.ts":
/*!*********************************************************!*\
  !*** ./src/whatsapp/collections/OrderItemCollection.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    OrderItemCollection: ['OrderItemCollectionImpl', 'OrderItemCollection'],
}, (m) => m.OrderItemCollectionImpl || m.OrderItemCollection);


/***/ }),

/***/ "./src/whatsapp/collections/ParticipantCollection.ts":
/*!***********************************************************!*\
  !*** ./src/whatsapp/collections/ParticipantCollection.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    ParticipantCollection: ['default'],
}, (m) => m.default.prototype.iAmMember);


/***/ }),

/***/ "./src/whatsapp/collections/PinInChatCollection.ts":
/*!*********************************************************!*\
  !*** ./src/whatsapp/collections/PinInChatCollection.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { PinInChatCollection: ['PinInChatCollectionImpl', 'PinInChatCollection'] }, (m) => m.PinInChatCollectionImpl || m.PinInChatCollection);


/***/ }),

/***/ "./src/whatsapp/collections/PresenceCollection.ts":
/*!********************************************************!*\
  !*** ./src/whatsapp/collections/PresenceCollection.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    PresenceCollection: ['PresenceCollectionImpl', 'PresenceCollection'],
}, (m) => m.PresenceCollectionImpl || m.PresenceCollection);


/***/ }),

/***/ "./src/whatsapp/collections/ProductCollCollection.ts":
/*!***********************************************************!*\
  !*** ./src/whatsapp/collections/ProductCollCollection.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    ProductCollCollection: [
        'ProductCollCollectionImpl',
        'ProductCollCollection',
    ],
}, (m) => m.ProductCollCollectionImpl || m.ProductCollCollection);


/***/ }),

/***/ "./src/whatsapp/collections/ProductCollection.ts":
/*!*******************************************************!*\
  !*** ./src/whatsapp/collections/ProductCollection.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { ProductCollection: ['ProductCollectionImpl', 'ProductCollection'] }, (m) => m.ProductCollectionImpl || m.ProductCollection);


/***/ }),

/***/ "./src/whatsapp/collections/ProductImageCollection.ts":
/*!************************************************************!*\
  !*** ./src/whatsapp/collections/ProductImageCollection.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    ProductImageCollection: [
        'ProductImageCollectionImpl',
        'ProductImageCollection',
    ],
}, (m) => m.ProductImageCollectionImpl || m.ProductImageCollection);


/***/ }),

/***/ "./src/whatsapp/collections/ProductMessageListCollection.ts":
/*!******************************************************************!*\
  !*** ./src/whatsapp/collections/ProductMessageListCollection.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    ProductMessageListCollection: [
        'ProductMessageListCollectionImpl',
        'ProductMessageListCollection',
    ],
}, (m) => m.ProductMessageListCollectionImpl || m.ProductMessageListCollection);


/***/ }),

/***/ "./src/whatsapp/collections/ProfilePicThumbCollection.ts":
/*!***************************************************************!*\
  !*** ./src/whatsapp/collections/ProfilePicThumbCollection.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    ProfilePicThumbCollection: [
        'ProfilePicThumbCollectionImpl',
        'ProfilePicThumbCollection',
    ],
}, (m) => m.ProfilePicThumbCollectionImpl || m.ProfilePicThumbCollection);


/***/ }),

/***/ "./src/whatsapp/collections/QuickReplyCollection.ts":
/*!**********************************************************!*\
  !*** ./src/whatsapp/collections/QuickReplyCollection.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    QuickReplyCollection: ['QuickReplyCollectionImpl', 'QuickReplyCollection'],
}, (m) => m.QuickReplyCollectionImpl || m.QuickReplyCollection);


/***/ }),

/***/ "./src/whatsapp/collections/ReactionsCollection.ts":
/*!*********************************************************!*\
  !*** ./src/whatsapp/collections/ReactionsCollection.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { ReactionsCollection: ['ReactionsCollectionImpl', 'ReactionsCollection'] }, (m) => m.ReactionsCollectionImpl || m.ReactionsCollection);


/***/ }),

/***/ "./src/whatsapp/collections/ReactionsSendersCollection.ts":
/*!****************************************************************!*\
  !*** ./src/whatsapp/collections/ReactionsSendersCollection.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { ReactionsSendersCollection: 'ReactionsSendersCollection' }, (m) => m.ReactionsSendersCollection);


/***/ }),

/***/ "./src/whatsapp/collections/RecentEmojiCollection.ts":
/*!***********************************************************!*\
  !*** ./src/whatsapp/collections/RecentEmojiCollection.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    RecentEmojiCollection: [
        'RecentEmojiCollectionImpl',
        'RecentEmojiCollection',
    ],
}, (m) => m.RecentEmojiCollectionImpl || m.RecentEmojiCollection);


/***/ }),

/***/ "./src/whatsapp/collections/RecentStickerCollection.ts":
/*!*************************************************************!*\
  !*** ./src/whatsapp/collections/RecentStickerCollection.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    RecentStickerCollection: [
        'RecentStickerCollectionImpl',
        'RecentStickerCollection',
    ],
}, (m) => m.RecentStickerCollectionImpl || m.RecentStickerCollection);


/***/ }),

/***/ "./src/whatsapp/collections/StarredMsgCollection.ts":
/*!**********************************************************!*\
  !*** ./src/whatsapp/collections/StarredMsgCollection.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    StarredMsgCollection: ['StarredMsgCollectionImpl', 'StarredMsgCollection'],
}, (m) => m.StarredMsgCollectionImpl || m.StarredMsgCollection);


/***/ }),

/***/ "./src/whatsapp/collections/StatusCollection.ts":
/*!******************************************************!*\
  !*** ./src/whatsapp/collections/StatusCollection.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    StatusCollection: ['TextStatusCollectionImpl', 'TextStatusCollection'],
}, (m) => m.TextStatusCollectionImpl || m.TextStatusCollection);


/***/ }),

/***/ "./src/whatsapp/collections/StatusV3Collection.ts":
/*!********************************************************!*\
  !*** ./src/whatsapp/collections/StatusV3Collection.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    StatusV3Collection: [
        'StatusV3CollectionImpl',
        'StatusCollectionImpl',
        'StatusCollection',
    ],
}, (m) => m.StatusV3CollectionImpl ||
    m.StatusV3Collection ||
    m.StatusCollectionImpl ||
    m.StatusCollection);


/***/ }),

/***/ "./src/whatsapp/collections/StickerCollection.ts":
/*!*******************************************************!*\
  !*** ./src/whatsapp/collections/StickerCollection.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { StickerCollection: 'StickerCollectionImpl' }, (m) => m.StickerCollectionImpl || m.StickerCollection);


/***/ }),

/***/ "./src/whatsapp/collections/StickerPackCollection.ts":
/*!***********************************************************!*\
  !*** ./src/whatsapp/collections/StickerPackCollection.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    StickerPackCollection: [
        'StickerPackCollectionImpl',
        'StickerPackCollection',
    ],
}, (m) => m.StickerPackCollectionImpl || m.StickerPackCollection);


/***/ }),

/***/ "./src/whatsapp/collections/StickerSearchCollection.ts":
/*!*************************************************************!*\
  !*** ./src/whatsapp/collections/StickerSearchCollection.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    StickerSearchCollection: [
        'StickerSearchCollectionImpl',
        'StickerSearchCollection',
    ],
}, (m) => m.StickerSearchCollectionImpl || m.StickerSearchCollection);


/***/ }),

/***/ "./src/whatsapp/collections/TemplateButtonCollection.ts":
/*!**************************************************************!*\
  !*** ./src/whatsapp/collections/TemplateButtonCollection.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    TemplateButtonCollection: 'TemplateButtonCollection',
}, (m) => m.TemplateButtonCollectionImpl || m.TemplateButtonCollection);


/***/ }),

/***/ "./src/whatsapp/collections/index.ts":
/*!*******************************************!*\
  !*** ./src/whatsapp/collections/index.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./AggReactionsCollection */ "./src/whatsapp/collections/AggReactionsCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./BaseCollection */ "./src/whatsapp/collections/BaseCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./BlocklistCollection */ "./src/whatsapp/collections/BlocklistCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./BotProfileCollection */ "./src/whatsapp/collections/BotProfileCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./BusinessCategoriesResultCollection */ "./src/whatsapp/collections/BusinessCategoriesResultCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./BusinessProfileCollection */ "./src/whatsapp/collections/BusinessProfileCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./ButtonCollection */ "./src/whatsapp/collections/ButtonCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./CallCollection */ "./src/whatsapp/collections/CallCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./CartCollection */ "./src/whatsapp/collections/CartCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./CartItemCollection */ "./src/whatsapp/collections/CartItemCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./CatalogCollection */ "./src/whatsapp/collections/CatalogCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./ChatCollection */ "./src/whatsapp/collections/ChatCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./ChatstateCollection */ "./src/whatsapp/collections/ChatstateCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./Collection */ "./src/whatsapp/collections/Collection.ts"), exports);
__exportStar(__webpack_require__(/*! ./ContactCollection */ "./src/whatsapp/collections/ContactCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./ContactCollection */ "./src/whatsapp/collections/ContactCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./ContactCollection */ "./src/whatsapp/collections/ContactCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./EmojiVariantCollection */ "./src/whatsapp/collections/EmojiVariantCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./GroupMetadataCollection */ "./src/whatsapp/collections/GroupMetadataCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./LabelCollection */ "./src/whatsapp/collections/LabelCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./LabelItemCollection */ "./src/whatsapp/collections/LabelItemCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./MsgCollection */ "./src/whatsapp/collections/MsgCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./MsgInfoCollection */ "./src/whatsapp/collections/MsgInfoCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./MsgInfoParticipantCollection */ "./src/whatsapp/collections/MsgInfoParticipantCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./MuteCollection */ "./src/whatsapp/collections/MuteCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./NoteCollection */ "./src/whatsapp/collections/NoteCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./OrderCollection */ "./src/whatsapp/collections/OrderCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./OrderItemCollection */ "./src/whatsapp/collections/OrderItemCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./ParticipantCollection */ "./src/whatsapp/collections/ParticipantCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./PinInChatCollection */ "./src/whatsapp/collections/PinInChatCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./PresenceCollection */ "./src/whatsapp/collections/PresenceCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./ProductCollCollection */ "./src/whatsapp/collections/ProductCollCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./ProductCollection */ "./src/whatsapp/collections/ProductCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./ProductImageCollection */ "./src/whatsapp/collections/ProductImageCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./ProductMessageListCollection */ "./src/whatsapp/collections/ProductMessageListCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./ProfilePicThumbCollection */ "./src/whatsapp/collections/ProfilePicThumbCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./QuickReplyCollection */ "./src/whatsapp/collections/QuickReplyCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./ReactionsCollection */ "./src/whatsapp/collections/ReactionsCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./ReactionsSendersCollection */ "./src/whatsapp/collections/ReactionsSendersCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./RecentEmojiCollection */ "./src/whatsapp/collections/RecentEmojiCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./RecentStickerCollection */ "./src/whatsapp/collections/RecentStickerCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./StarredMsgCollection */ "./src/whatsapp/collections/StarredMsgCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./StatusCollection */ "./src/whatsapp/collections/StatusCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./StatusV3Collection */ "./src/whatsapp/collections/StatusV3Collection.ts"), exports);
__exportStar(__webpack_require__(/*! ./StickerCollection */ "./src/whatsapp/collections/StickerCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./StickerPackCollection */ "./src/whatsapp/collections/StickerPackCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./StickerSearchCollection */ "./src/whatsapp/collections/StickerSearchCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./TemplateButtonCollection */ "./src/whatsapp/collections/TemplateButtonCollection.ts"), exports);


/***/ }),

/***/ "./src/whatsapp/contants/DROP_ATTR.ts":
/*!********************************************!*\
  !*** ./src/whatsapp/contants/DROP_ATTR.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    DROP_ATTR: ['DROP_ATTR'],
}, (m) => m.DROP_ATTR);


/***/ }),

/***/ "./src/whatsapp/contants/SANITIZED_VERSION_STR.ts":
/*!********************************************************!*\
  !*** ./src/whatsapp/contants/SANITIZED_VERSION_STR.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    SANITIZED_VERSION_STR: ['SANITIZED_VERSION_STR'],
}, (m) => m.SANITIZED_VERSION_STR);


/***/ }),

/***/ "./src/whatsapp/contants/index.ts":
/*!****************************************!*\
  !*** ./src/whatsapp/contants/index.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./DROP_ATTR */ "./src/whatsapp/contants/DROP_ATTR.ts"), exports);
__exportStar(__webpack_require__(/*! ./SANITIZED_VERSION_STR */ "./src/whatsapp/contants/SANITIZED_VERSION_STR.ts"), exports);


/***/ }),

/***/ "./src/whatsapp/enums/ACK.ts":
/*!***********************************!*\
  !*** ./src/whatsapp/enums/ACK.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    ACK: ['ACK', 'default.ACK'],
    EDIT_ATTR: ['EDIT_ATTR', 'default.EDIT_ATTR'],
    ACK_STRING: ['ACK_STRING', 'default.ACK_STRING'],
}, (m) => (m.ACK && m.ACK_STRING) || (m.default.ACK && m.default.ACK_STRING));


/***/ }),

/***/ "./src/whatsapp/enums/CALL_STATES.ts":
/*!*******************************************!*\
  !*** ./src/whatsapp/enums/CALL_STATES.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    CALL_STATES: ['CALL_STATES', 'CallState'],
}, (m) => m.CALL_STATES || m.CallState);


/***/ }),

/***/ "./src/whatsapp/enums/GROUP_SETTING_TYPE.ts":
/*!**************************************************!*\
  !*** ./src/whatsapp/enums/GROUP_SETTING_TYPE.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    GROUP_SETTING_TYPE: ['GROUP_SETTING_TYPE', 'default.GROUP_SETTING_TYPE'],
}, (m) => m.GROUP_SETTING_TYPE || m.default.GROUP_SETTING_TYPE);


/***/ }),

/***/ "./src/whatsapp/enums/KIC_ENTRY_POINT_TYP.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/enums/KIC_ENTRY_POINT_TYP.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    KIC_ENTRY_POINT_TYPE: 'KIC_ENTRY_POINT_TYPE',
}, (m) => m.KIC_ENTRY_POINT_TYPE);


/***/ }),

/***/ "./src/whatsapp/enums/LogoutReason.ts":
/*!********************************************!*\
  !*** ./src/whatsapp/enums/LogoutReason.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    LogoutReason: 'LogoutReason',
    LOGOUT_REASON_CODE: 'LOGOUT_REASON_CODE',
}, (m) => m.LogoutReason && m.LOGOUT_REASON_CODE);


/***/ }),

/***/ "./src/whatsapp/enums/MSG_TYPE.ts":
/*!****************************************!*\
  !*** ./src/whatsapp/enums/MSG_TYPE.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    MSG_TYPE: ['MSG_TYPE', 'default.MSG_TYPE'],
    SYSTEM_MESSAGE_TYPES: [
        'SYSTEM_MESSAGE_TYPES',
        'default.SYSTEM_MESSAGE_TYPES',
    ],
}, (m) => m.MSG_TYPE || m.default.MSG_TYPE);


/***/ }),

/***/ "./src/whatsapp/enums/OUTWARD_TYPES.ts":
/*!*********************************************!*\
  !*** ./src/whatsapp/enums/OUTWARD_TYPES.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    OUTWARD_TYPES: 'OUTWARD_TYPES',
}, (m) => m.OUTWARD_TYPES);


/***/ }),

/***/ "./src/whatsapp/enums/PIN_STATE.ts":
/*!*****************************************!*\
  !*** ./src/whatsapp/enums/PIN_STATE.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    PIN_STATE: 'PIN_STATE',
}, (m) => m.PIN_STATE);


/***/ }),

/***/ "./src/whatsapp/enums/SOCKET_STATE.ts":
/*!********************************************!*\
  !*** ./src/whatsapp/enums/SOCKET_STATE.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    SOCKET_STATE: ['SOCKET_STATE', 'default.SOCKET_STATE'],
    SOCKET_STREAM: ['SOCKET_STREAM', 'default.SOCKET_STREAM'],
    WATCHED_SOCKET_STATE: [
        'WATCHED_SOCKET_STATE',
        'default.WATCHED_SOCKET_STATE',
    ],
}, (m) => m.SOCKET_STATE || m.default.SOCKET_STATE);


/***/ }),

/***/ "./src/whatsapp/enums/SendMsgResult.ts":
/*!*********************************************!*\
  !*** ./src/whatsapp/enums/SendMsgResult.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    SendMsgResult: 'SendMsgResult',
}, (m) => m.SendMsgResult);


/***/ }),

/***/ "./src/whatsapp/enums/index.ts":
/*!*************************************!*\
  !*** ./src/whatsapp/enums/index.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./ACK */ "./src/whatsapp/enums/ACK.ts"), exports);
__exportStar(__webpack_require__(/*! ./CALL_STATES */ "./src/whatsapp/enums/CALL_STATES.ts"), exports);
__exportStar(__webpack_require__(/*! ./GROUP_SETTING_TYPE */ "./src/whatsapp/enums/GROUP_SETTING_TYPE.ts"), exports);
__exportStar(__webpack_require__(/*! ./KIC_ENTRY_POINT_TYP */ "./src/whatsapp/enums/KIC_ENTRY_POINT_TYP.ts"), exports);
__exportStar(__webpack_require__(/*! ./LogoutReason */ "./src/whatsapp/enums/LogoutReason.ts"), exports);
__exportStar(__webpack_require__(/*! ./MSG_TYPE */ "./src/whatsapp/enums/MSG_TYPE.ts"), exports);
__exportStar(__webpack_require__(/*! ./OUTWARD_TYPES */ "./src/whatsapp/enums/OUTWARD_TYPES.ts"), exports);
__exportStar(__webpack_require__(/*! ./PIN_STATE */ "./src/whatsapp/enums/PIN_STATE.ts"), exports);
__exportStar(__webpack_require__(/*! ./SendMsgResult */ "./src/whatsapp/enums/SendMsgResult.ts"), exports);


/***/ }),

/***/ "./src/whatsapp/exportModule.ts":
/*!**************************************!*\
  !*** ./src/whatsapp/exportModule.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports._moduleIdMap = void 0;
exports.exportModule = exportModule;
exports.exportProxyModel = exportProxyModel;
exports.wrapModuleFunction = wrapModuleFunction;
const debug_1 = __importDefault(__webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js"));
const setChatList_1 = __webpack_require__(/*! ../chat/functions/setChatList */ "./src/chat/functions/setChatList.ts");
const gtag_1 = __webpack_require__(/*! ../gtag */ "./src/gtag/index.ts");
const util_1 = __webpack_require__(/*! ../util */ "./src/util/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../webpack */ "./src/webpack/index.ts"));
const debug = (0, debug_1.default)('WA-JS:export');
class CustomWeakMap extends WeakMap {
    constructor() {
        super(...arguments);
        this.stringMap = new Map();
    }
    delete(key) {
        if (typeof key === 'string') {
            return this.stringMap.delete(key);
        }
        return super.delete(key);
    }
    get(key) {
        if (typeof key === 'string') {
            return this.stringMap.get(key);
        }
        return super.get(key);
    }
    has(key) {
        if (typeof key === 'string') {
            return this.stringMap.has(key);
        }
        return super.has(key);
    }
    set(key, value) {
        if (typeof key === 'string') {
            this.stringMap.set(key, value);
            return this;
        }
        super.set(key, value);
        return this;
    }
}
const moduleIdMap = new CustomWeakMap();
const functionPathMap = new CustomWeakMap();
exports._moduleIdMap = moduleIdMap;
/**
 * The object of this function is to override the exports to create getters.
 *
 * You can export a single module or specific functions
 *
 * Note: To create a documented type, you can use `export declare` to define types only
 *
 * @param exports The exports variable
 * @param properties A single name or a map of exported data
 * @param condition The seach condition to find the module
 */
function exportModule(exports, properties, condition) {
    if (typeof properties === 'string') {
        properties = {
            [properties]: null,
        };
    }
    for (const name of Object.keys(properties)) {
        const property = properties[name];
        Object.defineProperty(exports, name, {
            enumerable: true,
            configurable: true,
            get() {
                let valueFn = undefined;
                let functionPath = undefined;
                const moduleId = webpack.searchId(condition);
                if (!moduleId) {
                    const description = `Module ${name} was not found with ${condition.toString()}`;
                    /**
                     * Theses modules only loaded after device is connected
                     * I be creating other function for check expires based directily from files
                     * This will not directly affect the function call, it continues to work normally.
                     */
                    const ignoreFailModules = ['revokeStatus'];
                    if (!ignoreFailModules.includes(name)) {
                        console.error(description);
                        (0, gtag_1.trackException)(description);
                    }
                    Object.defineProperty(this, name, {
                        get: () => undefined,
                    });
                    return undefined;
                }
                const module = webpack.loadModule(moduleId);
                if (Array.isArray(property)) {
                    for (const p of property) {
                        valueFn = () => p.split('.').reduce((a, b) => a === null || a === void 0 ? void 0 : a[b], module);
                        if (valueFn()) {
                            functionPath = p;
                            break;
                        }
                    }
                    if (!valueFn()) {
                        const description = `Property ${property.join(' or ')} was not found for ${name} in module ${moduleId}`;
                        console.error(description);
                        (0, gtag_1.trackException)(description);
                        Object.defineProperty(this, name, {
                            get: () => undefined,
                        });
                        return undefined;
                    }
                }
                else {
                    switch (typeof property) {
                        case 'string':
                            valueFn = () => property.split('.').reduce((a, b) => a === null || a === void 0 ? void 0 : a[b], module);
                            if (!valueFn()) {
                                const description = `Property ${property} was not found for ${name} in module ${moduleId}`;
                                console.error(description);
                                (0, gtag_1.trackException)(description);
                                Object.defineProperty(this, name, {
                                    get: () => undefined,
                                });
                                return undefined;
                            }
                            functionPath = property;
                            break;
                        default:
                            valueFn = () => module;
                    }
                }
                // Avoid re-searching modules
                if (valueFn) {
                    Object.defineProperty(this, name, {
                        get: valueFn,
                    });
                    try {
                        const value = valueFn();
                        moduleIdMap.set(value, moduleId);
                        if (functionPath) {
                            functionPathMap.set(value, functionPath);
                        }
                    }
                    catch (error) { }
                    return valueFn();
                }
                Object.defineProperty(this, name, {
                    get: () => undefined,
                });
                return undefined;
            },
        });
    }
}
function exportProxyModel(exports, name) {
    const baseName = name.replace(/Model$/, '');
    const names = [baseName];
    // ChatModel => "chat"
    names.push(baseName.replace(/^(\w)/, (l) => l.toLowerCase()));
    // CartItemModel => "cart-item"
    // ProductListModel => "product_list"
    const parts = baseName.split(/(?=[A-Z])/);
    names.push(parts.join('-').toLowerCase());
    names.push(parts.join('_').toLowerCase());
    exportModule(exports, {
        [name]: ['default', name, baseName],
    }, (m) => {
        var _a, _b, _c, _d, _e, _f;
        return names.includes(((_b = (_a = m.default) === null || _a === void 0 ? void 0 : _a.prototype) === null || _b === void 0 ? void 0 : _b.proxyName) ||
            ((_d = (_c = m[name]) === null || _c === void 0 ? void 0 : _c.prototype) === null || _d === void 0 ? void 0 : _d.proxyName) ||
            ((_f = (_e = m[baseName]) === null || _e === void 0 ? void 0 : _e.prototype) === null || _f === void 0 ? void 0 : _f.proxyName));
    });
}
/**
 * Wrap a exported function from a module
 *
 * @param func The original function
 * @param callback A callback to wrap the function
 *
 * @example
 * ```typescript
 *wrapModuleFunction(createMsgProtobuf, (func, ...args) => {
   const [message] = args; // Extract arguments
   const result = func(...args); // Call the original function
   // Logic to change the result
   return result; // The new return
 });
 * ```
 */
function wrapModuleFunction(func, callback) {
    if (typeof func !== 'function') {
        console.error('func is not a function');
        return;
    }
    const moduleId = exports._moduleIdMap.get(func);
    if (!moduleId) {
        console.error('func is not an exported function');
        return;
    }
    const module = webpack.loadModule(moduleId);
    const functionPath = functionPathMap.get(func);
    if (!functionPath) {
        console.error('function path was not found');
        return;
    }
    debug.extend('wrap')(`Wrapping '${functionPath} for module ${moduleId}'`);
    const parts = functionPath.split('.');
    const functionName = parts.pop();
    if (!functionName) {
        const description = `function was not found in the module ${moduleId}`;
        console.error(description);
        (0, gtag_1.trackException)(description);
        return;
    }
    const baseModule = parts.reduce((a, b) => a === null || a === void 0 ? void 0 : a[b], module);
    if (functionName == 'getShouldAppearInList') {
        baseModule[functionName] = (0, setChatList_1.wrapShouldAppearFunction)(func.bind(baseModule), callback);
    }
    else {
        baseModule[functionName] = (0, util_1.wrapFunction)(func.bind(baseModule), callback);
    }
    moduleIdMap.set(baseModule[functionName], moduleId);
    functionPathMap.set(baseModule[functionName], functionPath);
}


/***/ }),

/***/ "./src/whatsapp/functions/GROUP_JID.ts":
/*!*********************************************!*\
  !*** ./src/whatsapp/functions/GROUP_JID.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    GROUP_JID: 'GROUP_JID',
    CHAT_JID: 'CHAT_JID',
}, (m) => m.GROUP_JID && m.CHAT_JID);


/***/ }),

/***/ "./src/whatsapp/functions/STATUS_JID.ts":
/*!**********************************************!*\
  !*** ./src/whatsapp/functions/STATUS_JID.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    STATUS_JID: 'STATUS_JID',
}, (m) => m.STATUS_JID);


/***/ }),

/***/ "./src/whatsapp/functions/addAndSendMessageEdit.ts":
/*!*********************************************************!*\
  !*** ./src/whatsapp/functions/addAndSendMessageEdit.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    addAndSendMessageEdit: 'addAndSendMessageEdit',
}, (m) => m.addAndSendMessageEdit);


/***/ }),

/***/ "./src/whatsapp/functions/addAndSendMsgToChat.ts":
/*!*******************************************************!*\
  !*** ./src/whatsapp/functions/addAndSendMsgToChat.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    addAndSendMsgToChat: 'addAndSendMsgToChat',
}, (m) => m.addAndSendMsgToChat);


/***/ }),

/***/ "./src/whatsapp/functions/addOrEditNoteAction.ts":
/*!*******************************************************!*\
  !*** ./src/whatsapp/functions/addOrEditNoteAction.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    addOrEditNoteAction: 'addOrEditNoteAction',
    retrieveOnlyNoteForChatJid: 'retrieveOnlyNoteForChatJid',
}, (m) => m.addOrEditNoteAction && m.retrieveOnlyNoteForChatJid);


/***/ }),

/***/ "./src/whatsapp/functions/addProductToCart.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/functions/addProductToCart.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    addProductToCart: 'addProductToCart',
}, (m) => m.addProductToCart);
(0, exportModule_1.exportModule)(exports, {
    updateProductQuantityCart: 'default',
}, (m) => { var _a, _b; return (_b = (_a = m.default) === null || _a === void 0 ? void 0 : _a.displayName) === null || _b === void 0 ? void 0 : _b.includes('BizUpdateProductQuantityCartAction'); });
(0, exportModule_1.exportModule)(exports, {
    deleteProductFromCart: 'default',
}, (m) => { var _a, _b; return (_b = (_a = m.default) === null || _a === void 0 ? void 0 : _a.displayName) === null || _b === void 0 ? void 0 : _b.includes('BizDeleteProductFromCartAction'); });


/***/ }),

/***/ "./src/whatsapp/functions/addToLabelCollection.ts":
/*!********************************************************!*\
  !*** ./src/whatsapp/functions/addToLabelCollection.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    addToLabelCollection: 'addToLabelCollection',
    createLabelItemId: 'createLabelItemId',
    getParentCollection: 'getParentCollection',
    initializeLabels: 'initializeLabels',
    removeLabelFromCollection: 'removeLabelFromCollection',
}, (m) => m.addToLabelCollection);


/***/ }),

/***/ "./src/whatsapp/functions/blockContact.ts":
/*!************************************************!*\
  !*** ./src/whatsapp/functions/blockContact.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    blockContact: 'blockContact',
    unblockContact: 'unblockContact',
}, (m) => m.blockContact && m.unblockContact);


/***/ }),

/***/ "./src/whatsapp/functions/calculateFilehashFromBlob.ts":
/*!*************************************************************!*\
  !*** ./src/whatsapp/functions/calculateFilehashFromBlob.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    calculateFilehashFromBlob: 'calculateFilehashFromBlob',
}, (m) => m.calculateFilehashFromBlob);


/***/ }),

/***/ "./src/whatsapp/functions/canEditCaption.ts":
/*!**************************************************!*\
  !*** ./src/whatsapp/functions/canEditCaption.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    canEditCaption: 'canEditCaption',
}, (m) => m.canEditCaption);


/***/ }),

/***/ "./src/whatsapp/functions/canEditMsg.ts":
/*!**********************************************!*\
  !*** ./src/whatsapp/functions/canEditMsg.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    canEditMsg: [
        'canEditText', // @whatsapp >= 2.2318.7
        'canEditMsg',
    ],
}, (m) => m.canEditMsg || // @whatsapp >= 2.2318.7
    m.canEditText);


/***/ }),

/***/ "./src/whatsapp/functions/canReplyMsg.ts":
/*!***********************************************!*\
  !*** ./src/whatsapp/functions/canReplyMsg.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    canReplyMsg: 'canReplyMsg',
}, (m) => m.canReplyMsg);


/***/ }),

/***/ "./src/whatsapp/functions/canSaveAsMyContacts.ts":
/*!*******************************************************!*\
  !*** ./src/whatsapp/functions/canSaveAsMyContacts.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    canSaveAsMyContacts: 'canSaveAsMyContacts',
}, (m) => m.canSaveAsMyContacts);


/***/ }),

/***/ "./src/whatsapp/functions/changeOptInStatusForExternalWebBeta.ts":
/*!***********************************************************************!*\
  !*** ./src/whatsapp/functions/changeOptInStatusForExternalWebBeta.ts ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const webpack_1 = __webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts");
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
const websocket_1 = __webpack_require__(/*! ../websocket */ "./src/whatsapp/websocket/index.ts");
const frontendFireAndForget_1 = __webpack_require__(/*! ./frontendFireAndForget */ "./src/whatsapp/functions/frontendFireAndForget.ts");
const getWhatsAppWebExternalBetaJoinedIdb_1 = __webpack_require__(/*! ./getWhatsAppWebExternalBetaJoinedIdb */ "./src/whatsapp/functions/getWhatsAppWebExternalBetaJoinedIdb.ts");
const syncABPropsTask_1 = __webpack_require__(/*! ./syncABPropsTask */ "./src/whatsapp/functions/syncABPropsTask.ts");
(0, exportModule_1.exportModule)(exports, {
    changeOptInStatusForExternalWebBeta: 'changeOptInStatusForExternalWebBeta',
}, (m) => m.changeOptInStatusForExternalWebBeta);
(0, webpack_1.injectFallbackModule)('changeOptInStatusForExternalWebBeta', {
    changeOptInStatusForExternalWebBeta: async (value) => {
        await Promise.all([
            (0, getWhatsAppWebExternalBetaJoinedIdb_1.setWhatsAppWebExternalBetaDirtyBitIdb)(true),
            (0, getWhatsAppWebExternalBetaJoinedIdb_1.setWhatsAppWebExternalBetaJoinedIdb)(value),
        ]);
        await (0, websocket_1.stopComms)();
        await (0, websocket_1.startWebComms)();
        await (0, websocket_1.startHandlingRequests)();
        await (0, syncABPropsTask_1.syncABPropsTask)();
        await (0, frontendFireAndForget_1.frontendFireAndForget)('changeOptInStatusForExternalWebBeta', {});
        await (0, getWhatsAppWebExternalBetaJoinedIdb_1.setWhatsAppWebExternalBetaDirtyBitIdb)(false);
    },
});


/***/ }),

/***/ "./src/whatsapp/functions/checkChatExistedOrCreate.ts":
/*!************************************************************!*\
  !*** ./src/whatsapp/functions/checkChatExistedOrCreate.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    checkChatExistedOrCreate: [
        'checkChatExistedOrCreate',
        'checkChatExistsOrCreate',
    ],
}, (m) => m.checkChatExistedOrCreate || m.checkChatExistsOrCreate);


/***/ }),

/***/ "./src/whatsapp/functions/collections.ts":
/*!***********************************************!*\
  !*** ./src/whatsapp/functions/collections.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    createCollection: 'createCollection',
}, (m) => m.createCollection);
(0, exportModule_1.exportModule)(exports, {
    deleteCollection: 'deleteCollection',
    editCollection: 'editCollection',
}, (m) => m.deleteCollection && m.editCollection);
(0, exportModule_1.exportModule)(exports, {
    queryCollectionsIQ: ['queryCollectionsIQ', 'default'],
}, (m) => {
    var _a, _b;
    return m.queryCollectionsIQ ||
        ((_b = (_a = m.default) === null || _a === void 0 ? void 0 : _a.displayName) === null || _b === void 0 ? void 0 : _b.toString().includes('QueryProductCollections'));
});


/***/ }),

/***/ "./src/whatsapp/functions/colorIndexToHex.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/functions/colorIndexToHex.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    colorIndexToHex: 'colorIndexToHex',
    getAllLabelColors: 'getAllLabelColors',
}, (m) => m.colorIndexToHex && m.getAllLabelColors);


/***/ }),

/***/ "./src/whatsapp/functions/contactFunctions.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/functions/contactFunctions.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const webpack_1 = __webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts");
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getNotifyName: 'getNotifyName',
    getMentionName: 'getMentionName',
    getPremiumMessageName: 'getPremiumMessageName',
    getUserid: 'getUserid',
    getUserhash: 'getUserhash',
    getSearchVerifiedName: 'getSearchVerifiedName',
    getHeader: 'getHeader',
    getIsMe: 'getIsMe',
    getIsUser: 'getIsUser',
    getIsGroup: 'getIsGroup',
    getIsBroadcast: 'getIsBroadcast',
    getIsNewsletter: 'getIsNewsletter',
    getIsPSA: 'getIsPSA',
    getIsIAS: 'getIsIAS',
    getIsSupportAccount: 'getIsSupportAccount',
    getIsWAContact: 'getIsWAContact',
    getIsMyContact: 'getIsMyContact',
    getCanRequestPhoneNumber: 'getCanRequestPhoneNumber',
    getShowBusinessCheckmarkAsPrimary: 'getShowBusinessCheckmarkAsPrimary',
    getShowBusinessCheckmarkAsSecondary: 'getShowBusinessCheckmarkAsSecondary',
    getShowBusinessCheckmarkInChatlist: 'getShowBusinessCheckmarkInChatlist',
    getIsDisplayNameApproved: 'getIsDisplayNameApproved',
    getShouldForceBusinessUpdate: 'getShouldForceBusinessUpdate',
}, (m) => m.getIsMyContact && m.getIsGroup);
(0, webpack_1.injectFallbackModule)('getIsMyContact', {
    getNotifyName: (contact) => contact.notifyName,
    getMentionName: (contact) => contact.mentionName,
    getPremiumMessageName: (contact) => contact.premiumMessageName,
    getUserid: (contact) => contact.userid,
    getUserhash: (contact) => contact.userhash,
    getSearchVerifiedName: (contact) => contact.searchVerifiedName,
    getHeader: (contact) => contact.header,
    getIsMe: (contact) => contact.isMe,
    getIsUser: (contact) => contact.isUser,
    getIsGroup: (contact) => contact.isGroup,
    getIsNewsletter: (contact) => contact.isNewsletter,
    getIsBroadcast: (contact) => contact.isBroadcast,
    getIsPSA: (contact) => contact.isPSA,
    getIsIAS: (contact) => contact.isIAS,
    getIsSupportAccount: (contact) => contact.isSupportAccount,
    getIsWAContact: (contact) => contact.isWAContact,
    getIsMyContact: (contact) => contact.isMyContact,
    getCanRequestPhoneNumber: (contact) => contact.canRequestPhoneNumber,
    getShowBusinessCheckmarkAsPrimary: (contact) => contact.showBusinessCheckmarkAsPrimary,
    getShowBusinessCheckmarkAsSecondary: (contact) => contact.showBusinessCheckmarkAsSecondary,
    getShowBusinessCheckmarkInChatlist: (contact) => contact.showBusinessCheckmarkInChatlist,
    getIsDisplayNameApproved: (contact) => contact.isDisplayNameApproved,
    getShouldForceBusinessUpdate: (contact) => contact.shouldForceBusinessUpdate,
});
(0, exportModule_1.exportModule)(exports, {
    getDisplayName: 'getDisplayName',
    getPnForLid: 'getPnForLid',
    getDisplayNameOrPnForLid: [
        'getUserDisplayNameForLid',
        'getDisplayNameOrPnForLid',
    ],
    getFormattedPhone: ['getFormattedPhone', 'getFormattedUsernameOrPhone'],
    getFormattedUsernameOrPhone: [
        'getFormattedUsernameOrPhone',
        'getFormattedPhone',
    ],
    getSearchName: 'getSearchName',
    getFormattedShortNameWithNonBreakingSpaces: 'getFormattedShortNameWithNonBreakingSpaces',
    getFormattedShortName: 'getFormattedShortName',
    getFormattedName: 'getFormattedName',
    getFormattedUser: 'getFormattedUser',
}, (m) => m.getDisplayName && m.getFormattedName);
(0, webpack_1.injectFallbackModule)('getDisplayName', {
    getDisplayName: (contact) => contact.displayName,
    getPnForLid: (contact) => contact.pnForLid,
    getDisplayNameOrPnForLid: (contact) => contact.displayNameOrPnForLid,
    getSearchName: (contact) => contact.searchName,
    getFormattedShortNameWithNonBreakingSpaces: (contact) => contact.formattedShortNameWithNonBreakingSpaces,
    getFormattedShortName: (contact) => contact.formattedShortName,
    getFormattedName: (contact) => contact.formattedName,
    getFormattedUser: (contact) => contact.formattedUser,
    getFormattedPhone: (contact) => contact.formattedPhone,
});
(0, webpack_1.injectFallbackModule)('getFormattedUsernameOrPhone', {
    getFormattedUsernameOrPhone: (contact) => contact.formattedPhone,
});


/***/ }),

/***/ "./src/whatsapp/functions/createChat.ts":
/*!**********************************************!*\
  !*** ./src/whatsapp/functions/createChat.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    createChat: 'createChat',
}, (m) => m.createChat);


/***/ }),

/***/ "./src/whatsapp/functions/createChatRecord.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/functions/createChatRecord.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    createChatRecord: 'createChatRecord',
}, (m) => m.createChatRecord);


/***/ }),

/***/ "./src/whatsapp/functions/createEventCallLink.ts":
/*!*******************************************************!*\
  !*** ./src/whatsapp/functions/createEventCallLink.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    createEventCallLink: 'createEventCallLink',
}, (m) => m.createEventCallLink);


/***/ }),

/***/ "./src/whatsapp/functions/createFanoutMsgStanza.ts":
/*!*********************************************************!*\
  !*** ./src/whatsapp/functions/createFanoutMsgStanza.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    createFanoutMsgStanza: 'createFanoutMsgStanza',
}, (m) => m.createFanoutMsgStanza);


/***/ }),

/***/ "./src/whatsapp/functions/createGroup.ts":
/*!***********************************************!*\
  !*** ./src/whatsapp/functions/createGroup.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    createGroup: 'createGroup',
}, (m) => m.createGroup && !m.sendForNeededAddRequest);


/***/ }),

/***/ "./src/whatsapp/functions/createMsgProtobuf.ts":
/*!*****************************************************!*\
  !*** ./src/whatsapp/functions/createMsgProtobuf.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    createMsgProtobuf: 'createMsgProtobuf',
}, (m) => m.createMsgProtobuf);


/***/ }),

/***/ "./src/whatsapp/functions/createNewsletterQuery.ts":
/*!*********************************************************!*\
  !*** ./src/whatsapp/functions/createNewsletterQuery.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    createNewsletterQuery: 'createNewsletterQuery',
}, (m) => m.createNewsletterQuery);


/***/ }),

/***/ "./src/whatsapp/functions/createOrUpdateReactions.ts":
/*!***********************************************************!*\
  !*** ./src/whatsapp/functions/createOrUpdateReactions.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    createOrUpdateReactions: ['addOrUpdateReactionsModelCollection'],
}, (m) => m.addOrUpdateReactionsModelCollection);


/***/ }),

/***/ "./src/whatsapp/functions/createOrder.ts":
/*!***********************************************!*\
  !*** ./src/whatsapp/functions/createOrder.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    createOrder: 'createOrder',
}, (m) => m.createOrder);


/***/ }),

/***/ "./src/whatsapp/functions/currencyForCountryShortcode.ts":
/*!***************************************************************!*\
  !*** ./src/whatsapp/functions/currencyForCountryShortcode.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    currencyForCountryShortcode: ['currencyForCountryShortcode'],
}, (m) => m.currencyForCountryShortcode);


/***/ }),

/***/ "./src/whatsapp/functions/deleteContactAction.ts":
/*!*******************************************************!*\
  !*** ./src/whatsapp/functions/deleteContactAction.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    deleteContactAction: 'deleteContactAction',
}, (m) => m.deleteContactAction);


/***/ }),

/***/ "./src/whatsapp/functions/deleteNewsletter.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/functions/deleteNewsletter.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    deleteNewsletter: 'deleteNewsletter',
}, (m) => m.deleteNewsletter);


/***/ }),

/***/ "./src/whatsapp/functions/editBusinessProfile.ts":
/*!*******************************************************!*\
  !*** ./src/whatsapp/functions/editBusinessProfile.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    editBusinessProfile: 'editBusinessProfile',
}, (m) => m.editBusinessProfile);


/***/ }),

/***/ "./src/whatsapp/functions/editNewsletterMetadataAction.ts":
/*!****************************************************************!*\
  !*** ./src/whatsapp/functions/editNewsletterMetadataAction.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    editNewsletterMetadataAction: 'editNewsletterMetadataAction',
}, (m) => m.editNewsletterMetadataAction);


/***/ }),

/***/ "./src/whatsapp/functions/encodeMaybeMediaType.ts":
/*!********************************************************!*\
  !*** ./src/whatsapp/functions/encodeMaybeMediaType.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    encodeMaybeMediaType: 'encodeMaybeMediaType',
}, (m) => m.encodeMaybeMediaType);


/***/ }),

/***/ "./src/whatsapp/functions/encryptAndSendGroupMsg.ts":
/*!**********************************************************!*\
  !*** ./src/whatsapp/functions/encryptAndSendGroupMsg.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    encryptAndSendGroupMsg: 'encryptAndSendGroupMsg',
}, (m) => m.encryptAndSendGroupMsg);


/***/ }),

/***/ "./src/whatsapp/functions/encryptAndSendMsg.ts":
/*!*****************************************************!*\
  !*** ./src/whatsapp/functions/encryptAndSendMsg.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    encryptAndSendMsg: 'encryptAndSendMsg',
}, (m) => m.encryptAndSendMsg);


/***/ }),

/***/ "./src/whatsapp/functions/encryptAndSendSenderKeyMsg.ts":
/*!**************************************************************!*\
  !*** ./src/whatsapp/functions/encryptAndSendSenderKeyMsg.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    encryptAndSendSenderKeyMsg: 'encryptAndSendSenderKeyMsg',
}, (m) => m.encryptAndSendSenderKeyMsg);


/***/ }),

/***/ "./src/whatsapp/functions/encryptAndSendStatusMsg.ts":
/*!***********************************************************!*\
  !*** ./src/whatsapp/functions/encryptAndSendStatusMsg.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    encryptAndSendStatusMsg: 'encryptAndSendStatusMsg',
}, (m) => m.encryptAndSendStatusMsg);


/***/ }),

/***/ "./src/whatsapp/functions/encryptMsgProtobuf.ts":
/*!******************************************************!*\
  !*** ./src/whatsapp/functions/encryptMsgProtobuf.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    encryptMsgProtobuf: 'encryptMsgProtobuf',
}, (m) => m.encryptMsgProtobuf);


/***/ }),

/***/ "./src/whatsapp/functions/fetchLinkPreview.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/functions/fetchLinkPreview.ts ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    fetchLinkPreview: [
        'getLinkPreview', // @whatsapp >= 2.2329.7
        'default', // @whatsapp < 2.2329.7
    ],
}, (m, id) => {
    // @whatsapp >= 2.2329.7
    if (m.getLinkPreview && !m.getAck) {
        return true;
    }
    // @whatsapp < 2.2329.7
    const source = webpack.moduleSource(id);
    return (source.includes('.genMinimalLinkPreview') &&
        source.includes('.getProductOrCatalogLinkPreview'));
});


/***/ }),

/***/ "./src/whatsapp/functions/fetchMexGroupInviteCode.ts":
/*!***********************************************************!*\
  !*** ./src/whatsapp/functions/fetchMexGroupInviteCode.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const group_1 = __webpack_require__(/*! ../../group */ "./src/group/index.ts");
const webpack_1 = __webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts");
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
const queryGroupInviteCode_1 = __webpack_require__(/*! ./queryGroupInviteCode */ "./src/whatsapp/functions/queryGroupInviteCode.ts");
(0, exportModule_1.exportModule)(exports, {
    fetchMexGroupInviteCode: 'fetchMexGroupInviteCode',
}, (m) => m.fetchMexGroupInviteCode);
(0, webpack_1.injectFallbackModule)('fetchMexGroupInviteCode', {
    fetchMexGroupInviteCode: async (groupId) => {
        const isAdmin = await (0, group_1.iAmAdmin)(groupId);
        return await (0, queryGroupInviteCode_1.queryGroupInviteCode)(groupId, isAdmin).then((value) => value.code);
    },
});


/***/ }),

/***/ "./src/whatsapp/functions/findChat.ts":
/*!********************************************!*\
  !*** ./src/whatsapp/functions/findChat.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    findChat: ['findChat', 'findExistingChat'],
}, (m) => m.findChat || m.findExistingChat);


/***/ }),

/***/ "./src/whatsapp/functions/findCommonGroups.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/functions/findCommonGroups.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    findCommonGroups: 'findCommonGroups',
}, (m) => m.findCommonGroups);


/***/ }),

/***/ "./src/whatsapp/functions/findFirstWebLink.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/functions/findFirstWebLink.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    findFirstWebLink: 'findFirstWebLink',
}, (m) => m.findFirstWebLink);


/***/ }),

/***/ "./src/whatsapp/functions/findOrCreateLatestChat.ts":
/*!**********************************************************!*\
  !*** ./src/whatsapp/functions/findOrCreateLatestChat.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    findOrCreateLatestChat: 'findOrCreateLatestChat',
}, (m) => m.findOrCreateLatestChat);


/***/ }),

/***/ "./src/whatsapp/functions/forwardMessages.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/functions/forwardMessages.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    forwardMessages: 'forwardMessages',
}, (m, moduleId) => moduleId === 'WAWebChatForwardMessage');


/***/ }),

/***/ "./src/whatsapp/functions/forwardMessagesToChats.ts":
/*!**********************************************************!*\
  !*** ./src/whatsapp/functions/forwardMessagesToChats.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const webpack_1 = __webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts");
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
const stores_1 = __webpack_require__(/*! ../stores */ "./src/whatsapp/stores.ts");
(0, exportModule_1.exportModule)(exports, { forwardMessagesToChats: 'forwardMessagesToChats' }, (m) => m.forwardMessagesToChats);
(0, webpack_1.injectFallbackModule)('forwardMessagesToChats', {
    forwardMessagesToChats: (msgs, chats, displayCaptionText) => stores_1.ChatStore.forwardMessagesToChats(msgs, chats, displayCaptionText),
});


/***/ }),

/***/ "./src/whatsapp/functions/frontendFireAndForget.ts":
/*!*********************************************************!*\
  !*** ./src/whatsapp/functions/frontendFireAndForget.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    frontendFireAndForget: 'frontendFireAndForget',
}, (m) => m.frontendFireAndForget);


/***/ }),

/***/ "./src/whatsapp/functions/genBotMsgSecretFromMsgSecret.ts":
/*!****************************************************************!*\
  !*** ./src/whatsapp/functions/genBotMsgSecretFromMsgSecret.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    genBotMsgSecretFromMsgSecret: 'genBotMsgSecretFromMsgSecret',
}, (m) => m.genBotMsgSecretFromMsgSecret);


/***/ }),

/***/ "./src/whatsapp/functions/genLinkDeviceCodeForPhoneNumber.ts":
/*!*******************************************************************!*\
  !*** ./src/whatsapp/functions/genLinkDeviceCodeForPhoneNumber.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    genLinkDeviceCodeForPhoneNumber: 'genLinkDeviceCodeForPhoneNumber',
}, (m) => m.genLinkDeviceCodeForPhoneNumber);


/***/ }),

/***/ "./src/whatsapp/functions/genMinimalLinkPreview.ts":
/*!*********************************************************!*\
  !*** ./src/whatsapp/functions/genMinimalLinkPreview.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    genMinimalLinkPreview: 'genMinimalLinkPreview',
}, (m) => m.genMinimalLinkPreview);


/***/ }),

/***/ "./src/whatsapp/functions/generateVideoThumbsAndDuration.ts":
/*!******************************************************************!*\
  !*** ./src/whatsapp/functions/generateVideoThumbsAndDuration.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    generateVideoThumbsAndDuration: 'generateVideoThumbsAndDuration',
}, (m) => m.generateVideoThumbsAndDuration);


/***/ }),

/***/ "./src/whatsapp/functions/getABPropConfigValue.ts":
/*!********************************************************!*\
  !*** ./src/whatsapp/functions/getABPropConfigValue.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getABPropConfigValue: 'getABPropConfigValue',
}, (m) => m.getABPropConfigValue);


/***/ }),

/***/ "./src/whatsapp/functions/getAsMms.ts":
/*!********************************************!*\
  !*** ./src/whatsapp/functions/getAsMms.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getAsMms: 'getAsMms', // >= 2.2310.4
}, (m) => m.getAsMms // >= 2.2310.4
);


/***/ }),

/***/ "./src/whatsapp/functions/getChatRecordByAccountLid.ts":
/*!*************************************************************!*\
  !*** ./src/whatsapp/functions/getChatRecordByAccountLid.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2025 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getChatRecordByAccountLid: 'getChatRecordByAccountLid',
}, (m) => m.getChatRecordByAccountLid);


/***/ }),

/***/ "./src/whatsapp/functions/getCommunityParticipants.ts":
/*!************************************************************!*\
  !*** ./src/whatsapp/functions/getCommunityParticipants.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getCommunityParticipants: 'getCommunityParticipants',
}, (m) => m.getCommunityParticipants);


/***/ }),

/***/ "./src/whatsapp/functions/getCountryShortcodeByPhone.ts":
/*!**************************************************************!*\
  !*** ./src/whatsapp/functions/getCountryShortcodeByPhone.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getCountryShortcodeByPhone: ['getCountryShortcodeByPhone'],
}, (m) => m.getCountryShortcodeByPhone);


/***/ }),

/***/ "./src/whatsapp/functions/getCurrentLid.ts":
/*!*************************************************!*\
  !*** ./src/whatsapp/functions/getCurrentLid.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getCurrentLid: 'getCurrentLid',
}, (m) => m.getCurrentLid);


/***/ }),

/***/ "./src/whatsapp/functions/getEnforceCurrentLid.ts":
/*!********************************************************!*\
  !*** ./src/whatsapp/functions/getEnforceCurrentLid.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2025 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getEnforceCurrentLid: [
        'getEnforceCurrentLid',
        'getCurrentLidForUserWid',
        'toLid',
    ],
}, (m) => m.getEnforceCurrentLid || m.getCurrentLidForUserWid || m.toLid);


/***/ }),

/***/ "./src/whatsapp/functions/getEphemeralFields.ts":
/*!******************************************************!*\
  !*** ./src/whatsapp/functions/getEphemeralFields.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getEphemeralFields: 'getEphemeralFields',
}, (m) => m.getEphemeralFields);


/***/ }),

/***/ "./src/whatsapp/functions/getErrorCodeFromLogoutReason.ts":
/*!****************************************************************!*\
  !*** ./src/whatsapp/functions/getErrorCodeFromLogoutReason.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getErrorCodeFromLogoutReason: 'getErrorCodeFromLogoutReason',
}, (m) => m.getErrorCodeFromLogoutReason);


/***/ }),

/***/ "./src/whatsapp/functions/getExisting.ts":
/*!***********************************************!*\
  !*** ./src/whatsapp/functions/getExisting.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2025 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getExisting: 'getExisting',
}, (m) => m.getExisting);


/***/ }),

/***/ "./src/whatsapp/functions/getFanOutList.ts":
/*!*************************************************!*\
  !*** ./src/whatsapp/functions/getFanOutList.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getFanOutList: 'getFanOutList',
}, (m) => m.getFanOutList);


/***/ }),

/***/ "./src/whatsapp/functions/getGroupSenderKeyList.ts":
/*!*********************************************************!*\
  !*** ./src/whatsapp/functions/getGroupSenderKeyList.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getGroupSenderKeyList: 'getGroupSenderKeyList',
    markForgetSenderKey: 'markForgetSenderKey',
}, (m) => m.getGroupSenderKeyList);


/***/ }),

/***/ "./src/whatsapp/functions/getGroupSizeLimit.ts":
/*!*****************************************************!*\
  !*** ./src/whatsapp/functions/getGroupSizeLimit.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getGroupSizeLimit: 'getGroupSizeLimit',
}, (m) => m.getGroupSizeLimit);


/***/ }),

/***/ "./src/whatsapp/functions/getHistorySyncProgress.ts":
/*!**********************************************************!*\
  !*** ./src/whatsapp/functions/getHistorySyncProgress.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getHistorySyncProgress: [
        'getHistorySyncProgressModel', // @whatsapp >= 2.2402.2
        'getHistorySyncProgress',
    ],
}, (m) => m.getHistorySyncProgressModel || // @whatsapp >= 2.2402.2
    (m.getHistorySyncProgress && !m.getHistorySyncLogDetailsString));


/***/ }),

/***/ "./src/whatsapp/functions/getMembershipApprovalRequests.ts":
/*!*****************************************************************!*\
  !*** ./src/whatsapp/functions/getMembershipApprovalRequests.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getMembershipApprovalRequests: 'getMembershipApprovalRequests',
}, (m) => m.getMembershipApprovalRequests);


/***/ }),

/***/ "./src/whatsapp/functions/getNewsletterSubscribers.ts":
/*!************************************************************!*\
  !*** ./src/whatsapp/functions/getNewsletterSubscribers.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getNewsletterSubscribers: 'getNewsletterSubscribers',
}, (m) => m.getNewsletterSubscribers);


/***/ }),

/***/ "./src/whatsapp/functions/getNextLabelId.ts":
/*!**************************************************!*\
  !*** ./src/whatsapp/functions/getNextLabelId.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getNextLabelId: 'getNextLabelId',
}, (m) => m.getNextLabelId);


/***/ }),

/***/ "./src/whatsapp/functions/getNumChatsPinned.ts":
/*!*****************************************************!*\
  !*** ./src/whatsapp/functions/getNumChatsPinned.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getNumChatsPinned: ['getNumChatsPinned', 'getNumConversationsPinned'],
}, (m) => m.getNumChatsPinned || m.getNumConversationsPinned);


/***/ }),

/***/ "./src/whatsapp/functions/getOrderInfo.ts":
/*!************************************************!*\
  !*** ./src/whatsapp/functions/getOrderInfo.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getOrderInfo: 'getOrderInfo',
}, (m) => m.getOrderInfo);


/***/ }),

/***/ "./src/whatsapp/functions/getParticipants.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/functions/getParticipants.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getParticipants: 'getParticipants',
}, (m) => m.getParticipants && m.addParticipants);


/***/ }),

/***/ "./src/whatsapp/functions/getPhoneNumber.ts":
/*!**************************************************!*\
  !*** ./src/whatsapp/functions/getPhoneNumber.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getPhoneNumber: 'getPhoneNumber',
}, (m) => m.getPhoneNumber);


/***/ }),

/***/ "./src/whatsapp/functions/getPrivacyDisallowedListTable.ts":
/*!*****************************************************************!*\
  !*** ./src/whatsapp/functions/getPrivacyDisallowedListTable.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getPrivacyDisallowedListTable: 'getPrivacyDisallowedListTable',
}, (m) => m.getPrivacyDisallowedListTable);


/***/ }),

/***/ "./src/whatsapp/functions/getPushname.ts":
/*!***********************************************!*\
  !*** ./src/whatsapp/functions/getPushname.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getPushname: 'getPushname',
    getUserPrivacySettings: 'getUserPrivacySettings',
}, (m) => m.getPushname && m.setBrowserId && m.getUserPrivacySettings);


/***/ }),

/***/ "./src/whatsapp/functions/getQuotedMsgObj.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/functions/getQuotedMsgObj.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getQuotedMsgObj: 'getQuotedMsgObj',
}, (m) => m.getQuotedMsgObj);


/***/ }),

/***/ "./src/whatsapp/functions/getReactions.ts":
/*!************************************************!*\
  !*** ./src/whatsapp/functions/getReactions.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getReactions: 'getReactions',
}, (m) => m.getReactions);


/***/ }),

/***/ "./src/whatsapp/functions/getSearchContext.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/functions/getSearchContext.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getSearchContext: 'getSearchContext',
}, (m) => m.getSearchContext);


/***/ }),

/***/ "./src/whatsapp/functions/getShouldAppearInList.ts":
/*!*********************************************************!*\
  !*** ./src/whatsapp/functions/getShouldAppearInList.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const webpack_1 = __webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts");
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getShouldAppearInList: 'getShouldAppearInList',
    getPreviewMessage: 'getPreviewMessage',
    getShowChangeNumberNotification: 'getShowChangeNumberNotification',
    getShouldShowUnreadDivider: 'getShouldShowUnreadDivider',
}, (m) => m.getShouldAppearInList &&
    m.getPreviewMessage &&
    m.getShowChangeNumberNotification &&
    m.getShouldShowUnreadDivider);
(0, exportModule_1.exportModule)(exports, {
    getHasUnread: 'getHasUnread',
}, (m) => m.getHasUnread);
(0, webpack_1.injectFallbackModule)('getShouldAppearInList', {
    getShouldAppearInList: (chat) => chat.shouldAppearInList,
    getPreviewMessage: (chat) => chat.previewMessage,
    getShowChangeNumberNotification: (chat) => chat.showChangeNumberNotification,
    getShouldShowUnreadDivider: (chat) => chat.shouldShowUnreadDivider,
});
(0, webpack_1.injectFallbackModule)('getHasUnread', {
    getHasUnread: (chat) => chat.hasUnread,
});


/***/ }),

/***/ "./src/whatsapp/functions/getStatusList.ts":
/*!*************************************************!*\
  !*** ./src/whatsapp/functions/getStatusList.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getStatusAllowList: 'default.getStatusAllowList',
    getStatusContacts: 'default.getStatusContacts',
    getStatusDenyList: 'default.getStatusDenyList',
    getStatusList: 'default.getStatusList',
    getStatusPrivacySetting: 'default.getStatusPrivacySetting',
    getStatusPrivacySettingConfig: 'default.getStatusPrivacySettingConfig',
    setStatusPrivacyConfig: 'default.setStatusPrivacyConfig',
}, (m) => m.default.getStatusList);


/***/ }),

/***/ "./src/whatsapp/functions/getTableVotes.ts":
/*!*************************************************!*\
  !*** ./src/whatsapp/functions/getTableVotes.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getTableVotes: ['getTable'],
}, (m) => m.getTable.toString().includes('poll'));


/***/ }),

/***/ "./src/whatsapp/functions/getVotes.ts":
/*!********************************************!*\
  !*** ./src/whatsapp/functions/getVotes.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const webpack_1 = __webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts");
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
const getTableVotes_1 = __webpack_require__(/*! ./getTableVotes */ "./src/whatsapp/functions/getTableVotes.ts");
const voteFromDbRow_1 = __webpack_require__(/*! ./voteFromDbRow */ "./src/whatsapp/functions/voteFromDbRow.ts");
(0, exportModule_1.exportModule)(exports, {
    getVotes: 'getVotes',
    getVote: 'getVote',
}, (m) => m.getVotes && m.getVote);
// Fix for version => 2.3000.1012654901
(0, webpack_1.injectFallbackModule)('getVotes', {
    getVote: (msgKey) => msgKey,
    getVotes: async (keys) => {
        const votes = await (0, getTableVotes_1.getTableVotes)().anyOf(['parentMsgKey'], keys.map((key) => key.toString()));
        return votes.map((vote) => (0, voteFromDbRow_1.voteFromDbRow)(vote));
    },
});


/***/ }),

/***/ "./src/whatsapp/functions/getWhatsAppWebExternalBetaJoinedIdb.ts":
/*!***********************************************************************!*\
  !*** ./src/whatsapp/functions/getWhatsAppWebExternalBetaJoinedIdb.ts ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getWhatsAppWebExternalBetaJoinedIdb: [
        'getWhatsAppWebExternalBetaJoinedIdb', // @whatsapp >= 2.2307.10
        'getWhatsAppWebBetaJoined',
    ],
    setWhatsAppWebExternalBetaDirtyBitIdb: [
        'setWhatsAppWebExternalBetaDirtyBitIdb', // @whatsapp >= 2.2307.10
        'setWhatsAppWebBetaDirtyBit',
    ],
    setWhatsAppWebExternalBetaJoinedIdb: [
        'setWhatsAppWebExternalBetaJoinedIdb', // @whatsapp >= 2.2307.10
        'setWhatsAppWebBetaJoined',
    ],
}, (m) => (m.getWhatsAppWebExternalBetaJoinedIdb &&
    m.setWhatsAppWebExternalBetaDirtyBitIdb &&
    m.setWhatsAppWebExternalBetaJoinedIdb) || // @whatsapp >= 2.2307.10
    (m.getWhatsAppWebBetaJoined &&
        m.setWhatsAppWebBetaDirtyBit &&
        m.setWhatsAppWebBetaJoined) // @whatsapp < 2.2307.10
);


/***/ }),

/***/ "./src/whatsapp/functions/groupParticipants.ts":
/*!*****************************************************!*\
  !*** ./src/whatsapp/functions/groupParticipants.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    addParticipants: 'addParticipants',
    removeParticipants: 'removeParticipants',
    promoteCommunityParticipants: 'promoteCommunityParticipants',
    promoteParticipants: 'promoteParticipants',
    demoteCommunityParticipants: 'demoteCommunityParticipants',
    demoteParticipants: 'demoteParticipants',
}, (m) => m.addParticipants &&
    m.removeParticipants &&
    m.promoteCommunityParticipants &&
    m.promoteParticipants &&
    m.demoteCommunityParticipants &&
    m.demoteParticipants &&
    !m.updateParticipants);


/***/ }),

/***/ "./src/whatsapp/functions/handleAck.ts":
/*!*********************************************!*\
  !*** ./src/whatsapp/functions/handleAck.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    handleStatusSimpleAck: ['handleStatusSimpleReceipt'],
    handleStatusSimpleReceipt: ['handleStatusSimpleReceipt'],
}, (m) => m.handleStatusSimpleReceipt);
(0, exportModule_1.exportModule)(exports, {
    handleChatSimpleAck: ['handleChatSimpleReceipt'],
    handleChatSimpleReceipt: ['handleChatSimpleReceipt'],
}, (m) => m.handleChatSimpleReceipt);
(0, exportModule_1.exportModule)(exports, {
    handleGroupSimpleAck: ['handleGroupSimpleReceipt'],
    handleGroupSimpleReceipt: ['handleGroupSimpleReceipt'],
}, (m) => m.handleGroupSimpleReceipt);


/***/ }),

/***/ "./src/whatsapp/functions/handleSingleMsg.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/functions/handleSingleMsg.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    handleSingleMsg: ['handleSingleMsg'],
}, (m) => m.handleSingleMsg);


/***/ }),

/***/ "./src/whatsapp/functions/index.ts":
/*!*****************************************!*\
  !*** ./src/whatsapp/functions/index.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2025 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./addAndSendMessageEdit */ "./src/whatsapp/functions/addAndSendMessageEdit.ts"), exports);
__exportStar(__webpack_require__(/*! ./addAndSendMsgToChat */ "./src/whatsapp/functions/addAndSendMsgToChat.ts"), exports);
__exportStar(__webpack_require__(/*! ./addProductToCart */ "./src/whatsapp/functions/addProductToCart.ts"), exports);
__exportStar(__webpack_require__(/*! ./addToLabelCollection */ "./src/whatsapp/functions/addToLabelCollection.ts"), exports);
__exportStar(__webpack_require__(/*! ./blockContact */ "./src/whatsapp/functions/blockContact.ts"), exports);
__exportStar(__webpack_require__(/*! ./calculateFilehashFromBlob */ "./src/whatsapp/functions/calculateFilehashFromBlob.ts"), exports);
__exportStar(__webpack_require__(/*! ./canEditCaption */ "./src/whatsapp/functions/canEditCaption.ts"), exports);
__exportStar(__webpack_require__(/*! ./canEditMsg */ "./src/whatsapp/functions/canEditMsg.ts"), exports);
__exportStar(__webpack_require__(/*! ./canReplyMsg */ "./src/whatsapp/functions/canReplyMsg.ts"), exports);
__exportStar(__webpack_require__(/*! ./canSaveAsMyContacts */ "./src/whatsapp/functions/canSaveAsMyContacts.ts"), exports);
__exportStar(__webpack_require__(/*! ./changeOptInStatusForExternalWebBeta */ "./src/whatsapp/functions/changeOptInStatusForExternalWebBeta.ts"), exports);
__exportStar(__webpack_require__(/*! ./checkChatExistedOrCreate */ "./src/whatsapp/functions/checkChatExistedOrCreate.ts"), exports);
__exportStar(__webpack_require__(/*! ./collections */ "./src/whatsapp/functions/collections.ts"), exports);
__exportStar(__webpack_require__(/*! ./colorIndexToHex */ "./src/whatsapp/functions/colorIndexToHex.ts"), exports);
__exportStar(__webpack_require__(/*! ./contactFunctions */ "./src/whatsapp/functions/contactFunctions.ts"), exports);
__exportStar(__webpack_require__(/*! ./createChat */ "./src/whatsapp/functions/createChat.ts"), exports);
__exportStar(__webpack_require__(/*! ./createChatRecord */ "./src/whatsapp/functions/createChatRecord.ts"), exports);
__exportStar(__webpack_require__(/*! ./createEventCallLink */ "./src/whatsapp/functions/createEventCallLink.ts"), exports);
__exportStar(__webpack_require__(/*! ./createFanoutMsgStanza */ "./src/whatsapp/functions/createFanoutMsgStanza.ts"), exports);
__exportStar(__webpack_require__(/*! ./createGroup */ "./src/whatsapp/functions/createGroup.ts"), exports);
__exportStar(__webpack_require__(/*! ./createMsgProtobuf */ "./src/whatsapp/functions/createMsgProtobuf.ts"), exports);
__exportStar(__webpack_require__(/*! ./createNewsletterQuery */ "./src/whatsapp/functions/createNewsletterQuery.ts"), exports);
__exportStar(__webpack_require__(/*! ./createOrder */ "./src/whatsapp/functions/createOrder.ts"), exports);
__exportStar(__webpack_require__(/*! ./createOrUpdateReactions */ "./src/whatsapp/functions/createOrUpdateReactions.ts"), exports);
__exportStar(__webpack_require__(/*! ./currencyForCountryShortcode */ "./src/whatsapp/functions/currencyForCountryShortcode.ts"), exports);
__exportStar(__webpack_require__(/*! ./deleteContactAction */ "./src/whatsapp/functions/deleteContactAction.ts"), exports);
__exportStar(__webpack_require__(/*! ./deleteNewsletter */ "./src/whatsapp/functions/deleteNewsletter.ts"), exports);
__exportStar(__webpack_require__(/*! ./editBusinessProfile */ "./src/whatsapp/functions/editBusinessProfile.ts"), exports);
__exportStar(__webpack_require__(/*! ./editNewsletterMetadataAction */ "./src/whatsapp/functions/editNewsletterMetadataAction.ts"), exports);
__exportStar(__webpack_require__(/*! ./encodeMaybeMediaType */ "./src/whatsapp/functions/encodeMaybeMediaType.ts"), exports);
__exportStar(__webpack_require__(/*! ./encryptAndSendGroupMsg */ "./src/whatsapp/functions/encryptAndSendGroupMsg.ts"), exports);
__exportStar(__webpack_require__(/*! ./encryptAndSendMsg */ "./src/whatsapp/functions/encryptAndSendMsg.ts"), exports);
__exportStar(__webpack_require__(/*! ./encryptAndSendSenderKeyMsg */ "./src/whatsapp/functions/encryptAndSendSenderKeyMsg.ts"), exports);
__exportStar(__webpack_require__(/*! ./encryptAndSendStatusMsg */ "./src/whatsapp/functions/encryptAndSendStatusMsg.ts"), exports);
__exportStar(__webpack_require__(/*! ./encryptMsgProtobuf */ "./src/whatsapp/functions/encryptMsgProtobuf.ts"), exports);
__exportStar(__webpack_require__(/*! ./fetchLinkPreview */ "./src/whatsapp/functions/fetchLinkPreview.ts"), exports);
__exportStar(__webpack_require__(/*! ./fetchMexGroupInviteCode */ "./src/whatsapp/functions/fetchMexGroupInviteCode.ts"), exports);
__exportStar(__webpack_require__(/*! ./findChat */ "./src/whatsapp/functions/findChat.ts"), exports);
__exportStar(__webpack_require__(/*! ./findCommonGroups */ "./src/whatsapp/functions/findCommonGroups.ts"), exports);
__exportStar(__webpack_require__(/*! ./findFirstWebLink */ "./src/whatsapp/functions/findFirstWebLink.ts"), exports);
__exportStar(__webpack_require__(/*! ./findOrCreateLatestChat */ "./src/whatsapp/functions/findOrCreateLatestChat.ts"), exports);
__exportStar(__webpack_require__(/*! ./forwardMessages */ "./src/whatsapp/functions/forwardMessages.ts"), exports);
__exportStar(__webpack_require__(/*! ./forwardMessagesToChats */ "./src/whatsapp/functions/forwardMessagesToChats.ts"), exports);
__exportStar(__webpack_require__(/*! ./frontendFireAndForget */ "./src/whatsapp/functions/frontendFireAndForget.ts"), exports);
__exportStar(__webpack_require__(/*! ./genBotMsgSecretFromMsgSecret */ "./src/whatsapp/functions/genBotMsgSecretFromMsgSecret.ts"), exports);
__exportStar(__webpack_require__(/*! ./generateVideoThumbsAndDuration */ "./src/whatsapp/functions/generateVideoThumbsAndDuration.ts"), exports);
__exportStar(__webpack_require__(/*! ./genLinkDeviceCodeForPhoneNumber */ "./src/whatsapp/functions/genLinkDeviceCodeForPhoneNumber.ts"), exports);
__exportStar(__webpack_require__(/*! ./genMinimalLinkPreview */ "./src/whatsapp/functions/genMinimalLinkPreview.ts"), exports);
__exportStar(__webpack_require__(/*! ./getABPropConfigValue */ "./src/whatsapp/functions/getABPropConfigValue.ts"), exports);
__exportStar(__webpack_require__(/*! ./getAsMms */ "./src/whatsapp/functions/getAsMms.ts"), exports);
__exportStar(__webpack_require__(/*! ./getChatRecordByAccountLid */ "./src/whatsapp/functions/getChatRecordByAccountLid.ts"), exports);
__exportStar(__webpack_require__(/*! ./getCommunityParticipants */ "./src/whatsapp/functions/getCommunityParticipants.ts"), exports);
__exportStar(__webpack_require__(/*! ./getCountryShortcodeByPhone */ "./src/whatsapp/functions/getCountryShortcodeByPhone.ts"), exports);
__exportStar(__webpack_require__(/*! ./getCurrentLid */ "./src/whatsapp/functions/getCurrentLid.ts"), exports);
__exportStar(__webpack_require__(/*! ./getEnforceCurrentLid */ "./src/whatsapp/functions/getEnforceCurrentLid.ts"), exports);
__exportStar(__webpack_require__(/*! ./getEphemeralFields */ "./src/whatsapp/functions/getEphemeralFields.ts"), exports);
__exportStar(__webpack_require__(/*! ./getErrorCodeFromLogoutReason */ "./src/whatsapp/functions/getErrorCodeFromLogoutReason.ts"), exports);
__exportStar(__webpack_require__(/*! ./getExisting */ "./src/whatsapp/functions/getExisting.ts"), exports);
__exportStar(__webpack_require__(/*! ./getFanOutList */ "./src/whatsapp/functions/getFanOutList.ts"), exports);
__exportStar(__webpack_require__(/*! ./getGroupSenderKeyList */ "./src/whatsapp/functions/getGroupSenderKeyList.ts"), exports);
__exportStar(__webpack_require__(/*! ./getGroupSizeLimit */ "./src/whatsapp/functions/getGroupSizeLimit.ts"), exports);
__exportStar(__webpack_require__(/*! ./getHistorySyncProgress */ "./src/whatsapp/functions/getHistorySyncProgress.ts"), exports);
__exportStar(__webpack_require__(/*! ./getMembershipApprovalRequests */ "./src/whatsapp/functions/getMembershipApprovalRequests.ts"), exports);
__exportStar(__webpack_require__(/*! ./getNewsletterSubscribers */ "./src/whatsapp/functions/getNewsletterSubscribers.ts"), exports);
__exportStar(__webpack_require__(/*! ./getNextLabelId */ "./src/whatsapp/functions/getNextLabelId.ts"), exports);
__exportStar(__webpack_require__(/*! ./getNumChatsPinned */ "./src/whatsapp/functions/getNumChatsPinned.ts"), exports);
__exportStar(__webpack_require__(/*! ./getOrderInfo */ "./src/whatsapp/functions/getOrderInfo.ts"), exports);
__exportStar(__webpack_require__(/*! ./getParticipants */ "./src/whatsapp/functions/getParticipants.ts"), exports);
__exportStar(__webpack_require__(/*! ./getPhoneNumber */ "./src/whatsapp/functions/getPhoneNumber.ts"), exports);
__exportStar(__webpack_require__(/*! ./getPrivacyDisallowedListTable */ "./src/whatsapp/functions/getPrivacyDisallowedListTable.ts"), exports);
__exportStar(__webpack_require__(/*! ./getPushname */ "./src/whatsapp/functions/getPushname.ts"), exports);
__exportStar(__webpack_require__(/*! ./getQuotedMsgObj */ "./src/whatsapp/functions/getQuotedMsgObj.ts"), exports);
__exportStar(__webpack_require__(/*! ./getReactions */ "./src/whatsapp/functions/getReactions.ts"), exports);
__exportStar(__webpack_require__(/*! ./getSearchContext */ "./src/whatsapp/functions/getSearchContext.ts"), exports);
__exportStar(__webpack_require__(/*! ./getShouldAppearInList */ "./src/whatsapp/functions/getShouldAppearInList.ts"), exports);
__exportStar(__webpack_require__(/*! ./getStatusList */ "./src/whatsapp/functions/getStatusList.ts"), exports);
__exportStar(__webpack_require__(/*! ./getTableVotes */ "./src/whatsapp/functions/getTableVotes.ts"), exports);
__exportStar(__webpack_require__(/*! ./getVotes */ "./src/whatsapp/functions/getVotes.ts"), exports);
__exportStar(__webpack_require__(/*! ./getWhatsAppWebExternalBetaJoinedIdb */ "./src/whatsapp/functions/getWhatsAppWebExternalBetaJoinedIdb.ts"), exports);
__exportStar(__webpack_require__(/*! ./GROUP_JID */ "./src/whatsapp/functions/GROUP_JID.ts"), exports);
__exportStar(__webpack_require__(/*! ./groupParticipants */ "./src/whatsapp/functions/groupParticipants.ts"), exports);
__exportStar(__webpack_require__(/*! ./handleAck */ "./src/whatsapp/functions/handleAck.ts"), exports);
__exportStar(__webpack_require__(/*! ./handleSingleMsg */ "./src/whatsapp/functions/handleSingleMsg.ts"), exports);
__exportStar(__webpack_require__(/*! ./initializeAltDeviceLinking */ "./src/whatsapp/functions/initializeAltDeviceLinking.ts"), exports);
__exportStar(__webpack_require__(/*! ./isAnimatedWebp */ "./src/whatsapp/functions/isAnimatedWebp.ts"), exports);
__exportStar(__webpack_require__(/*! ./isAuthenticated */ "./src/whatsapp/functions/isAuthenticated.ts"), exports);
__exportStar(__webpack_require__(/*! ./isFilterExcludedFromSearchTreatmentInInboxFlow */ "./src/whatsapp/functions/isFilterExcludedFromSearchTreatmentInInboxFlow.ts"), exports);
__exportStar(__webpack_require__(/*! ./isLidMigrated */ "./src/whatsapp/functions/isLidMigrated.ts"), exports);
__exportStar(__webpack_require__(/*! ./isRegistered */ "./src/whatsapp/functions/isRegistered.ts"), exports);
__exportStar(__webpack_require__(/*! ./isUnreadTypeMsg */ "./src/whatsapp/functions/isUnreadTypeMsg.ts"), exports);
__exportStar(__webpack_require__(/*! ./isWid */ "./src/whatsapp/functions/isWid.ts"), exports);
__exportStar(__webpack_require__(/*! ./joinGroupViaInvite */ "./src/whatsapp/functions/joinGroupViaInvite.ts"), exports);
__exportStar(__webpack_require__(/*! ./keepMessage */ "./src/whatsapp/functions/keepMessage.ts"), exports);
__exportStar(__webpack_require__(/*! ./labelAddAction */ "./src/whatsapp/functions/labelAddAction.ts"), exports);
__exportStar(__webpack_require__(/*! ./markSeen */ "./src/whatsapp/functions/markSeen.ts"), exports);
__exportStar(__webpack_require__(/*! ./mediaTypeFromProtobuf */ "./src/whatsapp/functions/mediaTypeFromProtobuf.ts"), exports);
__exportStar(__webpack_require__(/*! ./membershipApprovalRequestAction */ "./src/whatsapp/functions/membershipApprovalRequestAction.ts"), exports);
__exportStar(__webpack_require__(/*! ./msgDataFromMsgModel */ "./src/whatsapp/functions/msgDataFromMsgModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./msgFindQuery */ "./src/whatsapp/functions/msgFindQuery.ts"), exports);
__exportStar(__webpack_require__(/*! ./muteNewsletter */ "./src/whatsapp/functions/muteNewsletter.ts"), exports);
__exportStar(__webpack_require__(/*! ./processRawAudioVideo */ "./src/whatsapp/functions/processRawAudioVideo.ts"), exports);
__exportStar(__webpack_require__(/*! ./processRawMedia */ "./src/whatsapp/functions/processRawMedia.ts"), exports);
__exportStar(__webpack_require__(/*! ./processRawSticker */ "./src/whatsapp/functions/processRawSticker.ts"), exports);
__exportStar(__webpack_require__(/*! ./products */ "./src/whatsapp/functions/products.ts"), exports);
__exportStar(__webpack_require__(/*! ./productVisibilitySet */ "./src/whatsapp/functions/productVisibilitySet.ts"), exports);
__exportStar(__webpack_require__(/*! ./profilePic */ "./src/whatsapp/functions/profilePic.ts"), exports);
__exportStar(__webpack_require__(/*! ./queryAllGroups */ "./src/whatsapp/functions/queryAllGroups.ts"), exports);
__exportStar(__webpack_require__(/*! ./queryGroupInviteCode */ "./src/whatsapp/functions/queryGroupInviteCode.ts"), exports);
__exportStar(__webpack_require__(/*! ./queryNewsletterMetadataByJid */ "./src/whatsapp/functions/queryNewsletterMetadataByJid.ts"), exports);
__exportStar(__webpack_require__(/*! ./queryOrder */ "./src/whatsapp/functions/queryOrder.ts"), exports);
__exportStar(__webpack_require__(/*! ./randomHex */ "./src/whatsapp/functions/randomHex.ts"), exports);
__exportStar(__webpack_require__(/*! ./randomId */ "./src/whatsapp/functions/randomId.ts"), exports);
__exportStar(__webpack_require__(/*! ./removeStatusMessage */ "./src/whatsapp/functions/removeStatusMessage.ts"), exports);
__exportStar(__webpack_require__(/*! ./resetGroupInviteCode */ "./src/whatsapp/functions/resetGroupInviteCode.ts"), exports);
__exportStar(__webpack_require__(/*! ./revokeStatus */ "./src/whatsapp/functions/revokeStatus.ts"), exports);
__exportStar(__webpack_require__(/*! ./saveContactAction */ "./src/whatsapp/functions/saveContactAction.ts"), exports);
__exportStar(__webpack_require__(/*! ./selectChatForOneOnOneMessage */ "./src/whatsapp/functions/selectChatForOneOnOneMessage.ts"), exports);
__exportStar(__webpack_require__(/*! ./sendClear */ "./src/whatsapp/functions/sendClear.ts"), exports);
__exportStar(__webpack_require__(/*! ./sendCreateCommunity */ "./src/whatsapp/functions/sendCreateCommunity.ts"), exports);
__exportStar(__webpack_require__(/*! ./sendCreateGroup */ "./src/whatsapp/functions/sendCreateGroup.ts"), exports);
__exportStar(__webpack_require__(/*! ./sendDelete */ "./src/whatsapp/functions/sendDelete.ts"), exports);
__exportStar(__webpack_require__(/*! ./sendExitGroup */ "./src/whatsapp/functions/sendExitGroup.ts"), exports);
__exportStar(__webpack_require__(/*! ./sendGroupParticipants */ "./src/whatsapp/functions/sendGroupParticipants.ts"), exports);
__exportStar(__webpack_require__(/*! ./sendJoinGroupViaInvite */ "./src/whatsapp/functions/sendJoinGroupViaInvite.ts"), exports);
__exportStar(__webpack_require__(/*! ./sendNewsletterMessageJob */ "./src/whatsapp/functions/sendNewsletterMessageJob.ts"), exports);
__exportStar(__webpack_require__(/*! ./sendPinInChatMsg */ "./src/whatsapp/functions/sendPinInChatMsg.ts"), exports);
__exportStar(__webpack_require__(/*! ./sendQueryExists */ "./src/whatsapp/functions/sendQueryExists.ts"), exports);
__exportStar(__webpack_require__(/*! ./sendQueryGroupInvite */ "./src/whatsapp/functions/sendQueryGroupInvite.ts"), exports);
__exportStar(__webpack_require__(/*! ./sendQueryGroupInviteCode */ "./src/whatsapp/functions/sendQueryGroupInviteCode.ts"), exports);
__exportStar(__webpack_require__(/*! ./sendReactionToMsg */ "./src/whatsapp/functions/sendReactionToMsg.ts"), exports);
__exportStar(__webpack_require__(/*! ./sendRevokeGroupInviteCode */ "./src/whatsapp/functions/sendRevokeGroupInviteCode.ts"), exports);
__exportStar(__webpack_require__(/*! ./sendTextMsgToChat */ "./src/whatsapp/functions/sendTextMsgToChat.ts"), exports);
__exportStar(__webpack_require__(/*! ./setArchive */ "./src/whatsapp/functions/setArchive.ts"), exports);
__exportStar(__webpack_require__(/*! ./setGroup */ "./src/whatsapp/functions/setGroup.ts"), exports);
__exportStar(__webpack_require__(/*! ./setPin */ "./src/whatsapp/functions/setPin.ts"), exports);
__exportStar(__webpack_require__(/*! ./setPrivacyForOneCategory */ "./src/whatsapp/functions/setPrivacyForOneCategory.ts"), exports);
__exportStar(__webpack_require__(/*! ./setPushname */ "./src/whatsapp/functions/setPushname.ts"), exports);
__exportStar(__webpack_require__(/*! ./shouldHaveAccountLid */ "./src/whatsapp/functions/shouldHaveAccountLid.ts"), exports);
__exportStar(__webpack_require__(/*! ./status */ "./src/whatsapp/functions/status.ts"), exports);
__exportStar(__webpack_require__(/*! ./STATUS_JID */ "./src/whatsapp/functions/STATUS_JID.ts"), exports);
__exportStar(__webpack_require__(/*! ./statusEnable */ "./src/whatsapp/functions/statusEnable.ts"), exports);
__exportStar(__webpack_require__(/*! ./subscribePresence */ "./src/whatsapp/functions/subscribePresence.ts"), exports);
__exportStar(__webpack_require__(/*! ./syncABPropsTask */ "./src/whatsapp/functions/syncABPropsTask.ts"), exports);
__exportStar(__webpack_require__(/*! ./toUserLid */ "./src/whatsapp/functions/toUserLid.ts"), exports);
__exportStar(__webpack_require__(/*! ./typeAttributeFromProtobuf */ "./src/whatsapp/functions/typeAttributeFromProtobuf.ts"), exports);
__exportStar(__webpack_require__(/*! ./unixTime */ "./src/whatsapp/functions/unixTime.ts"), exports);
__exportStar(__webpack_require__(/*! ./unmuteNewsletter */ "./src/whatsapp/functions/unmuteNewsletter.ts"), exports);
__exportStar(__webpack_require__(/*! ./updateCart */ "./src/whatsapp/functions/updateCart.ts"), exports);
__exportStar(__webpack_require__(/*! ./updateCartEnabled */ "./src/whatsapp/functions/updateCartEnabled.ts"), exports);
__exportStar(__webpack_require__(/*! ./updateDBForGroupAction */ "./src/whatsapp/functions/updateDBForGroupAction.ts"), exports);
__exportStar(__webpack_require__(/*! ./updateNewsletterMsgRecord */ "./src/whatsapp/functions/updateNewsletterMsgRecord.ts"), exports);
__exportStar(__webpack_require__(/*! ./updateParticipants */ "./src/whatsapp/functions/updateParticipants.ts"), exports);
__exportStar(__webpack_require__(/*! ./uploadMedia */ "./src/whatsapp/functions/uploadMedia.ts"), exports);
__exportStar(__webpack_require__(/*! ./uploadProductImage */ "./src/whatsapp/functions/uploadProductImage.ts"), exports);
__exportStar(__webpack_require__(/*! ./uploadThumbnail */ "./src/whatsapp/functions/uploadThumbnail.ts"), exports);
__exportStar(__webpack_require__(/*! ./upsertVotes */ "./src/whatsapp/functions/upsertVotes.ts"), exports);
__exportStar(__webpack_require__(/*! ./voteFromDbRow */ "./src/whatsapp/functions/voteFromDbRow.ts"), exports);


/***/ }),

/***/ "./src/whatsapp/functions/initializeAltDeviceLinking.ts":
/*!**************************************************************!*\
  !*** ./src/whatsapp/functions/initializeAltDeviceLinking.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    initializeAltDeviceLinking: 'initializeAltDeviceLinking',
}, (m) => m.initializeAltDeviceLinking);


/***/ }),

/***/ "./src/whatsapp/functions/isAnimatedWebp.ts":
/*!**************************************************!*\
  !*** ./src/whatsapp/functions/isAnimatedWebp.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    isAnimatedWebp: 'isAnimatedWebp',
}, (m) => m.isAnimatedWebp);


/***/ }),

/***/ "./src/whatsapp/functions/isAuthenticated.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/functions/isAuthenticated.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    isAuthenticated: ['isLoggedIn', 'Z'],
    isLoggedIn: ['isLoggedIn', 'Z'],
}, (m) => {
    var _a, _b;
    return (((_a = m.Z) === null || _a === void 0 ? void 0 : _a.toString().includes('isRegistered')) &&
        ((_b = m.Z) === null || _b === void 0 ? void 0 : _b.toString().includes('getLoginTokens'))) ||
        m.isLoggedIn;
} // whatsapp >= 2.2208.11
);


/***/ }),

/***/ "./src/whatsapp/functions/isFilterExcludedFromSearchTreatmentInInboxFlow.ts":
/*!**********************************************************************************!*\
  !*** ./src/whatsapp/functions/isFilterExcludedFromSearchTreatmentInInboxFlow.ts ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    isFilterExcludedFromSearchTreatmentInInboxFlow: 'isFilterExcludedFromSearchTreatmentInInboxFlow',
}, (m) => m.isFilterExcludedFromSearchTreatmentInInboxFlow);


/***/ }),

/***/ "./src/whatsapp/functions/isLidMigrated.ts":
/*!*************************************************!*\
  !*** ./src/whatsapp/functions/isLidMigrated.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    isLidMigrated: ['Lid1X1MigrationUtils.isLidMigrated'],
}, (m) => m.Lid1X1MigrationUtils &&
    typeof m.Lid1X1MigrationUtils.isLidMigrated === 'function');


/***/ }),

/***/ "./src/whatsapp/functions/isRegistered.ts":
/*!************************************************!*\
  !*** ./src/whatsapp/functions/isRegistered.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    isRegistered: ['isRegistered'],
}, (m) => m.isRegistered);


/***/ }),

/***/ "./src/whatsapp/functions/isUnreadTypeMsg.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/functions/isUnreadTypeMsg.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    isUnreadTypeMsg: [
        'isUnreadTypeMsg', // < 2.2308.6
        'isUnreadType', // >= 2.2308.6, < 2.2310.4
        'getIsUnreadType', // >= 2.2310.4
    ],
}, (m) => m.isUnreadTypeMsg || // < 2.2308.6
    m.isUnreadType || // >= 2.2308.6, < 2.2310.4
    m.getIsUnreadType // >= 2.2310.4
);


/***/ }),

/***/ "./src/whatsapp/functions/isWid.ts":
/*!*****************************************!*\
  !*** ./src/whatsapp/functions/isWid.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    isWid: 'default.isWid',
}, (m) => m.default.isWid);


/***/ }),

/***/ "./src/whatsapp/functions/joinGroupViaInvite.ts":
/*!******************************************************!*\
  !*** ./src/whatsapp/functions/joinGroupViaInvite.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    joinGroupViaInvite: 'joinGroupViaInvite',
}, (m) => m.joinGroupViaInvite && m.resetGroupInviteCode);


/***/ }),

/***/ "./src/whatsapp/functions/keepMessage.ts":
/*!***********************************************!*\
  !*** ./src/whatsapp/functions/keepMessage.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    keepMessage: 'keepMessage',
    undoKeepMessage: 'undoKeepMessage',
}, (m) => m.keepMessage);


/***/ }),

/***/ "./src/whatsapp/functions/labelAddAction.ts":
/*!**************************************************!*\
  !*** ./src/whatsapp/functions/labelAddAction.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    labelAddAction: 'labelAddAction',
    labelDeleteAction: 'labelDeleteAction',
    labelEditAction: 'labelEditAction',
}, (m) => m.labelAddAction && m.labelDeleteAction && m.labelEditAction);


/***/ }),

/***/ "./src/whatsapp/functions/markSeen.ts":
/*!********************************************!*\
  !*** ./src/whatsapp/functions/markSeen.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    markUnread: 'markUnread',
    sendSeen: 'sendSeen',
}, (m) => m.markUnread && m.sendSeen);
(0, exportModule_1.exportModule)(exports, {
    markPlayed: 'markPlayed',
    canMarkPlayed: 'canMarkPlayed',
}, (m) => m.markPlayed);


/***/ }),

/***/ "./src/whatsapp/functions/mediaTypeFromProtobuf.ts":
/*!*********************************************************!*\
  !*** ./src/whatsapp/functions/mediaTypeFromProtobuf.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    mediaTypeFromProtobuf: 'mediaTypeFromProtobuf',
}, (m) => m.mediaTypeFromProtobuf);


/***/ }),

/***/ "./src/whatsapp/functions/membershipApprovalRequestAction.ts":
/*!*******************************************************************!*\
  !*** ./src/whatsapp/functions/membershipApprovalRequestAction.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    membershipApprovalRequestAction: 'membershipApprovalRequestAction',
}, (m) => m.membershipApprovalRequestAction);


/***/ }),

/***/ "./src/whatsapp/functions/msgDataFromMsgModel.ts":
/*!*******************************************************!*\
  !*** ./src/whatsapp/functions/msgDataFromMsgModel.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    msgDataFromMsgModel: 'msgDataFromMsgModel',
}, (m) => m.msgDataFromMsgModel);


/***/ }),

/***/ "./src/whatsapp/functions/msgFindQuery.ts":
/*!************************************************!*\
  !*** ./src/whatsapp/functions/msgFindQuery.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    msgFindQuery: 'msgFindQuery',
}, (m) => (m.msgFindQuery && m.getMsgsByMsgKey) || // @whatsapp >= 2.2301.5
    (m.msgFindQuery && m.queryMessageType) // @whatsapp >= 2.3000.1013409128
);


/***/ }),

/***/ "./src/whatsapp/functions/muteNewsletter.ts":
/*!**************************************************!*\
  !*** ./src/whatsapp/functions/muteNewsletter.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    muteNewsletter: 'muteNewsletter',
}, (m) => m.muteNewsletter);


/***/ }),

/***/ "./src/whatsapp/functions/processRawAudioVideo.ts":
/*!********************************************************!*\
  !*** ./src/whatsapp/functions/processRawAudioVideo.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    processRawAudioVideo: 'processRawAudioVideo',
}, (m) => m.processRawAudioVideo);


/***/ }),

/***/ "./src/whatsapp/functions/processRawMedia.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/functions/processRawMedia.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    processRawMedia: ['processRawMedia', 'default'],
}, (m) => {
    var _a, _b;
    return m.processRawMedia ||
        ((_b = (_a = m.default) === null || _a === void 0 ? void 0 : _a.toString) === null || _b === void 0 ? void 0 : _b.call(_a).includes('Received unsupported mediaType'));
});


/***/ }),

/***/ "./src/whatsapp/functions/processRawSticker.ts":
/*!*****************************************************!*\
  !*** ./src/whatsapp/functions/processRawSticker.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    processRawSticker: 'processRawSticker',
}, (m) => m.processRawSticker);


/***/ }),

/***/ "./src/whatsapp/functions/productVisibilitySet.ts":
/*!********************************************************!*\
  !*** ./src/whatsapp/functions/productVisibilitySet.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    productVisibilitySet: 'productVisibilitySet',
}, (m) => m.productVisibilitySet);


/***/ }),

/***/ "./src/whatsapp/functions/products.ts":
/*!********************************************!*\
  !*** ./src/whatsapp/functions/products.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    addProduct: 'addProduct',
    editProduct: 'editProduct',
    deleteProducts: 'deleteProducts',
    sendProductToChat: 'sendProductToChat',
    queryCatalog: 'queryCatalog',
    queryProduct: 'queryProduct',
    queryProductList: 'queryProductList',
}, (m) => m.sendProductToChat);


/***/ }),

/***/ "./src/whatsapp/functions/profilePic.ts":
/*!**********************************************!*\
  !*** ./src/whatsapp/functions/profilePic.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    sendSetPicture: 'sendSetPicture',
    requestDeletePicture: 'requestDeletePicture',
}, (m) => m.sendSetPicture && m.requestDeletePicture);


/***/ }),

/***/ "./src/whatsapp/functions/queryAllGroups.ts":
/*!**************************************************!*\
  !*** ./src/whatsapp/functions/queryAllGroups.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    queryAllGroups: 'queryAllGroups',
}, (m) => m.queryAllGroups);


/***/ }),

/***/ "./src/whatsapp/functions/queryGroupInviteCode.ts":
/*!********************************************************!*\
  !*** ./src/whatsapp/functions/queryGroupInviteCode.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    queryGroupInviteCode: 'queryGroupInviteCode',
}, (m) => m.queryGroupInviteCode);


/***/ }),

/***/ "./src/whatsapp/functions/queryNewsletterMetadataByJid.ts":
/*!****************************************************************!*\
  !*** ./src/whatsapp/functions/queryNewsletterMetadataByJid.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    queryNewsletterMetadataByJid: 'queryNewsletterMetadataByJid',
}, (m) => m.queryNewsletterMetadataByJid);


/***/ }),

/***/ "./src/whatsapp/functions/queryOrder.ts":
/*!**********************************************!*\
  !*** ./src/whatsapp/functions/queryOrder.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    queryOrder: 'queryOrder',
}, (m) => m.queryOrder && m.queryOrderResponse);


/***/ }),

/***/ "./src/whatsapp/functions/randomHex.ts":
/*!*********************************************!*\
  !*** ./src/whatsapp/functions/randomHex.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    randomHex: 'randomHex',
}, (m) => m.randomHex);


/***/ }),

/***/ "./src/whatsapp/functions/randomId.ts":
/*!********************************************!*\
  !*** ./src/whatsapp/functions/randomId.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    randomMessageId: ['default.newId'],
}, (m) => m.default.newId);


/***/ }),

/***/ "./src/whatsapp/functions/removeStatusMessage.ts":
/*!*******************************************************!*\
  !*** ./src/whatsapp/functions/removeStatusMessage.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    removeStatusMessage: ['removeStatusMessage'],
}, (m) => m.removeStatusMessage);


/***/ }),

/***/ "./src/whatsapp/functions/resetGroupInviteCode.ts":
/*!********************************************************!*\
  !*** ./src/whatsapp/functions/resetGroupInviteCode.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    resetGroupInviteCode: 'resetGroupInviteCode',
}, (m) => m.resetGroupInviteCode);


/***/ }),

/***/ "./src/whatsapp/functions/revokeStatus.ts":
/*!************************************************!*\
  !*** ./src/whatsapp/functions/revokeStatus.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    revokeStatus: ['default'],
}, 
/**
 * This module only loaded after device is connected
 * I be creating other function for check expires based directily from files
 */
(m) => { var _a, _b; return (_b = (_a = m.default) === null || _a === void 0 ? void 0 : _a.displayName) === null || _b === void 0 ? void 0 : _b.includes('RevokeStatusAction'); });


/***/ }),

/***/ "./src/whatsapp/functions/saveContactAction.ts":
/*!*****************************************************!*\
  !*** ./src/whatsapp/functions/saveContactAction.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    saveContactAction: 'saveContactAction',
}, (m) => {
    console.log('AC', m.saveContactAction);
    return m.saveContactAction;
});


/***/ }),

/***/ "./src/whatsapp/functions/selectChatForOneOnOneMessage.ts":
/*!****************************************************************!*\
  !*** ./src/whatsapp/functions/selectChatForOneOnOneMessage.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2025 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    selectChatForOneOnOneMessage: 'selectChatForOneOnOneMessage',
}, (m) => m.selectChatForOneOnOneMessage);


/***/ }),

/***/ "./src/whatsapp/functions/sendClear.ts":
/*!*********************************************!*\
  !*** ./src/whatsapp/functions/sendClear.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    sendClear: 'sendClear',
}, (m) => { var _a, _b; return m.sendClear && ((_b = (_a = m.sendClear) === null || _a === void 0 ? void 0 : _a.toString()) === null || _b === void 0 ? void 0 : _b.includes('WAWebStateUtils')); });


/***/ }),

/***/ "./src/whatsapp/functions/sendCreateCommunity.ts":
/*!*******************************************************!*\
  !*** ./src/whatsapp/functions/sendCreateCommunity.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    sendCreateCommunity: 'sendCreateCommunity',
    sendDeactivateCommunity: 'sendDeactivateCommunity',
    sendLinkSubgroups: 'sendLinkSubgroups',
    sendUnlinkSubgroups: 'sendUnlinkSubgroups',
}, (m) => m.sendCreateCommunity);


/***/ }),

/***/ "./src/whatsapp/functions/sendCreateGroup.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/functions/sendCreateGroup.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const compare_versions_1 = __webpack_require__(/*! compare-versions */ "./node_modules/compare-versions/lib/esm/index.js");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
const createGroup_1 = __webpack_require__(/*! ./createGroup */ "./src/whatsapp/functions/createGroup.ts");
(0, exportModule_1.exportModule)(exports, {
    sendCreateGroup: 'sendCreateGroup',
}, (m) => m.sendCreateGroup);
/**
 * @whatsapp >= 2.2301.5
 */
webpack.injectFallbackModule('sendCreateGroup', {
    sendCreateGroup: async (groupName, participants, ephemeral, parentGroup) => {
        if ((0, compare_versions_1.compare)(self.Debug.VERSION, '2.3000.1027323699', '>=')) {
            return await (0, createGroup_1.createGroup)({
                title: groupName,
                ephemeralDuration: ephemeral || 0,
                restrict: true,
                announce: true,
                membershipApprovalMode: false,
                memberAddMode: true,
                parentGroupId: parentGroup,
            }, participants.map((p) => ({
                phoneNumber: p,
            }))).then((e) => ({
                gid: e.wid,
                participants: e.participants.map((e) => ({
                    userWid: e.wid,
                    code: null != e.error ? e.error.toString() : '200',
                    invite_code: e.invite_code,
                    invite_code_exp: e.invite_code_exp,
                })),
            }));
        }
        else {
            return await (0, createGroup_1.createGroup)({
                title: groupName,
                ephemeralDuration: ephemeral || 0,
                restrict: true,
                announce: true,
                membershipApprovalMode: false,
                memberAddMode: true,
                parentGroupId: parentGroup,
            }, participants).then((e) => ({
                gid: e.wid,
                participants: e.participants.map((e) => ({
                    userWid: e.wid,
                    code: null != e.error ? e.error.toString() : '200',
                    invite_code: e.invite_code,
                    invite_code_exp: e.invite_code_exp,
                })),
            }));
        }
    },
});


/***/ }),

/***/ "./src/whatsapp/functions/sendDelete.ts":
/*!**********************************************!*\
  !*** ./src/whatsapp/functions/sendDelete.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    sendDelete: 'sendDelete',
}, (m) => m.sendDelete);


/***/ }),

/***/ "./src/whatsapp/functions/sendExitGroup.ts":
/*!*************************************************!*\
  !*** ./src/whatsapp/functions/sendExitGroup.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    sendExitGroup: 'sendExitGroup',
}, (m) => m.sendExitGroup);


/***/ }),

/***/ "./src/whatsapp/functions/sendGroupParticipants.ts":
/*!*********************************************************!*\
  !*** ./src/whatsapp/functions/sendGroupParticipants.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    sendAddParticipants: ['sendAddParticipants', 'addGroupParticipants'],
    sendRemoveParticipants: [
        'sendRemoveParticipants',
        'removeGroupParticipants',
    ],
    sendPromoteParticipants: [
        'sendPromoteParticipants',
        'promoteGroupParticipants',
    ],
    sendDemoteParticipants: [
        'sendDemoteParticipants',
        'demoteGroupParticipants',
    ],
}, (m) => (m.sendAddParticipants &&
    m.sendRemoveParticipants &&
    m.sendPromoteParticipants &&
    m.sendDemoteParticipants) || // @whatsapp < 2.2301.5
    (m.addGroupParticipants &&
        m.removeGroupParticipants &&
        m.promoteGroupParticipants &&
        m.demoteGroupParticipants) // @whatsapp >= 2.2301.5
);


/***/ }),

/***/ "./src/whatsapp/functions/sendJoinGroupViaInvite.ts":
/*!**********************************************************!*\
  !*** ./src/whatsapp/functions/sendJoinGroupViaInvite.ts ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const group_1 = __webpack_require__(/*! ../../group */ "./src/group/index.ts");
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const __1 = __webpack_require__(/*! .. */ "./src/whatsapp/index.ts");
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
const joinGroupViaInvite_1 = __webpack_require__(/*! ./joinGroupViaInvite */ "./src/whatsapp/functions/joinGroupViaInvite.ts");
(0, exportModule_1.exportModule)(exports, {
    sendJoinGroupViaInvite: 'sendJoinGroupViaInvite',
}, (m) => m.sendJoinGroupViaInvite);
/**
 * @whatsapp >= 2.2301.5
 */
webpack.injectFallbackModule('sendJoinGroupViaInvite', {
    sendJoinGroupViaInvite: async (groupId) => {
        const group = await (0, group_1.getGroupInfoFromInviteCode)(groupId);
        const existChat = __1.ChatStore.get(group.id.toString());
        if (existChat) {
            const isMember = await (0, group_1.iAmMember)(group.id.toString());
            if (isMember)
                return group.id;
        }
        return await (0, joinGroupViaInvite_1.joinGroupViaInvite)(groupId).then((value) => value.gid);
    },
});


/***/ }),

/***/ "./src/whatsapp/functions/sendNewsletterMessageJob.ts":
/*!************************************************************!*\
  !*** ./src/whatsapp/functions/sendNewsletterMessageJob.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    sendNewsletterMessageJob: [
        'sendNewsletterMessageJob',
        'sendNewsletterMessage', // <= 2.2326.x
    ],
}, (m) => m.sendNewsletterMessageJob || m.sendNewsletterMessage // <= 2.2326.x
);


/***/ }),

/***/ "./src/whatsapp/functions/sendPinInChatMsg.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/functions/sendPinInChatMsg.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    sendPinInChatMsg: 'sendPinInChatMsg',
}, (m) => m.sendPinInChatMsg);


/***/ }),

/***/ "./src/whatsapp/functions/sendQueryExists.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/functions/sendQueryExists.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    sendQueryExists: [
        'queryExists', // @whatsapp >= 2.2208.7
        'queryWidExists', // @whatsapp >= 2.2306.7
    ],
}, (m) => (m.queryExists && m.queryPhoneExists) || // @whatsapp >= 2.2211.2
    (m.queryWidExists && m.queryPhoneExists) // @whatsapp >= 2.2306.7
);


/***/ }),

/***/ "./src/whatsapp/functions/sendQueryGroupInvite.ts":
/*!********************************************************!*\
  !*** ./src/whatsapp/functions/sendQueryGroupInvite.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    sendQueryGroupInvite: 'sendQueryGroupInvite',
}, (m) => m.sendQueryGroupInvite);


/***/ }),

/***/ "./src/whatsapp/functions/sendQueryGroupInviteCode.ts":
/*!************************************************************!*\
  !*** ./src/whatsapp/functions/sendQueryGroupInviteCode.ts ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
const _1 = __webpack_require__(/*! ./ */ "./src/whatsapp/functions/index.ts");
(0, exportModule_1.exportModule)(exports, {
    sendQueryGroupInviteCode: 'sendQueryGroupInviteCode',
}, (m) => m.sendQueryGroupInviteCode);
webpack.injectFallbackModule('sendQueryGroupInviteCode', {
    sendQueryGroupInviteCode: async (groupId) => {
        return await (0, _1.fetchMexGroupInviteCode)(groupId);
    },
});


/***/ }),

/***/ "./src/whatsapp/functions/sendReactionToMsg.ts":
/*!*****************************************************!*\
  !*** ./src/whatsapp/functions/sendReactionToMsg.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    sendReactionToMsg: 'sendReactionToMsg',
}, (m) => m.sendReactionToMsg);


/***/ }),

/***/ "./src/whatsapp/functions/sendRevokeGroupInviteCode.ts":
/*!*************************************************************!*\
  !*** ./src/whatsapp/functions/sendRevokeGroupInviteCode.ts ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
const resetGroupInviteCode_1 = __webpack_require__(/*! ./resetGroupInviteCode */ "./src/whatsapp/functions/resetGroupInviteCode.ts");
(0, exportModule_1.exportModule)(exports, {
    sendRevokeGroupInviteCode: 'sendRevokeGroupInviteCode',
}, (m) => m.sendRevokeGroupInviteCode);
/**
 * @whatsapp >= 2.2301.5
 */
webpack.injectFallbackModule('sendRevokeGroupInviteCode', {
    sendRevokeGroupInviteCode: async (groupId) => {
        return await (0, resetGroupInviteCode_1.resetGroupInviteCode)(groupId).then((value) => value.code);
    },
});


/***/ }),

/***/ "./src/whatsapp/functions/sendTextMsgToChat.ts":
/*!*****************************************************!*\
  !*** ./src/whatsapp/functions/sendTextMsgToChat.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    sendTextMsgToChat: 'sendTextMsgToChat',
}, (m) => m.sendTextMsgToChat);


/***/ }),

/***/ "./src/whatsapp/functions/setArchive.ts":
/*!**********************************************!*\
  !*** ./src/whatsapp/functions/setArchive.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    setArchive: 'setArchive',
}, (m) => m.setArchive);


/***/ }),

/***/ "./src/whatsapp/functions/setGroup.ts":
/*!********************************************!*\
  !*** ./src/whatsapp/functions/setGroup.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    sendSetGroupSubject: ['sendSetGroupSubject', 'setGroupSubject'],
    sendSetGroupDescription: ['sendSetGroupDescription', 'setGroupDescription'],
    sendSetGroupProperty: ['sendSetGroupProperty', 'setGroupProperty'],
}, (m) => (m.sendSetGroupSubject &&
    m.sendSetGroupDescription &&
    m.sendSetGroupProperty) || // @whatsapp < 2.2301.5
    (m.setGroupSubject && m.setGroupDescription && m.setGroupProperty) // @whatsapp >= 2.2301.5
);


/***/ }),

/***/ "./src/whatsapp/functions/setPin.ts":
/*!******************************************!*\
  !*** ./src/whatsapp/functions/setPin.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    setPin: 'setPin',
}, (m) => m.setPin && !m.unpinAll && !m.getPinLimit);


/***/ }),

/***/ "./src/whatsapp/functions/setPrivacyForOneCategory.ts":
/*!************************************************************!*\
  !*** ./src/whatsapp/functions/setPrivacyForOneCategory.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    setPrivacyForOneCategory: 'setPrivacyForOneCategory',
}, (m) => m.setPrivacyForOneCategory);


/***/ }),

/***/ "./src/whatsapp/functions/setPushname.ts":
/*!***********************************************!*\
  !*** ./src/whatsapp/functions/setPushname.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    setPushname: 'setPushname',
}, (m) => m.setPushname && !m.setBrowserId);


/***/ }),

/***/ "./src/whatsapp/functions/shouldHaveAccountLid.ts":
/*!********************************************************!*\
  !*** ./src/whatsapp/functions/shouldHaveAccountLid.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    shouldHaveAccountLid: ['shouldHaveAccountLid'],
}, (m) => typeof m.shouldHaveAccountLid === 'function');


/***/ }),

/***/ "./src/whatsapp/functions/status.ts":
/*!******************************************!*\
  !*** ./src/whatsapp/functions/status.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    getStatus: 'getStatus',
    setMyStatus: 'setMyStatus',
}, (m) => m.getStatus && m.setMyStatus && m.queryStatusAll);


/***/ }),

/***/ "./src/whatsapp/functions/statusEnable.ts":
/*!************************************************!*\
  !*** ./src/whatsapp/functions/statusEnable.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    primaryFeatureEnabled: 'primaryFeatureEnabled',
}, (m) => m.primaryFeatureEnabled);


/***/ }),

/***/ "./src/whatsapp/functions/subscribePresence.ts":
/*!*****************************************************!*\
  !*** ./src/whatsapp/functions/subscribePresence.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    subscribePresence: 'subscribePresence',
}, (m) => m.subscribePresence);


/***/ }),

/***/ "./src/whatsapp/functions/syncABPropsTask.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/functions/syncABPropsTask.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    syncABPropsTask: 'syncABPropsTask',
}, (m) => m.syncABPropsTask);


/***/ }),

/***/ "./src/whatsapp/functions/toUserLid.ts":
/*!*********************************************!*\
  !*** ./src/whatsapp/functions/toUserLid.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    toUserLid: ['toUserLid'],
}, (m) => m.toUserLid);


/***/ }),

/***/ "./src/whatsapp/functions/typeAttributeFromProtobuf.ts":
/*!*************************************************************!*\
  !*** ./src/whatsapp/functions/typeAttributeFromProtobuf.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    typeAttributeFromProtobuf: 'typeAttributeFromProtobuf',
}, (m) => m.typeAttributeFromProtobuf);


/***/ }),

/***/ "./src/whatsapp/functions/unixTime.ts":
/*!********************************************!*\
  !*** ./src/whatsapp/functions/unixTime.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
let exported = false;
(0, exportModule_1.exportModule)(exports, {
    unixTime: ['unixTime', 'Clock.globalUnixTime'],
    unixTimeMs: ['unixTimeMs', 'Clock.globalUnixTimeMilliseconds'],
}, (m) => {
    var _a, _b;
    if (m.unixTime) {
        return true;
    }
    /**
     * Fix binding from method to function call
     * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind
     */
    if (!exported && ((_a = m.Clock) === null || _a === void 0 ? void 0 : _a.globalUnixTime)) {
        exported = true;
        m.Clock.globalUnixTime = m.Clock.globalUnixTime.bind(m.Clock);
        m.Clock.globalUnixTimeMilliseconds =
            m.Clock.globalUnixTimeMilliseconds.bind(m.Clock);
    }
    return (_b = m.Clock) === null || _b === void 0 ? void 0 : _b.globalUnixTime;
});


/***/ }),

/***/ "./src/whatsapp/functions/unmuteNewsletter.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/functions/unmuteNewsletter.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    unmuteNewsletter: 'unmuteNewsletter',
}, (m) => m.unmuteNewsletter);


/***/ }),

/***/ "./src/whatsapp/functions/updateCart.ts":
/*!**********************************************!*\
  !*** ./src/whatsapp/functions/updateCart.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    updateCart: 'updateCart',
}, (m) => m.updateCart);


/***/ }),

/***/ "./src/whatsapp/functions/updateCartEnabled.ts":
/*!*****************************************************!*\
  !*** ./src/whatsapp/functions/updateCartEnabled.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    updateCartEnabled: 'updateCartEnabled',
}, (m) => m.updateCartEnabled);


/***/ }),

/***/ "./src/whatsapp/functions/updateDBForGroupAction.ts":
/*!**********************************************************!*\
  !*** ./src/whatsapp/functions/updateDBForGroupAction.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    updateDBForGroupAction: [
        'updateDBForGroupAction', // @whatsapp >= 2.2224.6
        'handleGroupActionMD',
    ],
}, (m) => m.updateDBForGroupAction || // @whatsapp >= 2.2224.6
    m.handleGroupActionMD);


/***/ }),

/***/ "./src/whatsapp/functions/updateNewsletterMsgRecord.ts":
/*!*************************************************************!*\
  !*** ./src/whatsapp/functions/updateNewsletterMsgRecord.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    updateNewsletterMsgRecord: 'updateNewsletterMsgRecord',
    addNewsletterMsgsRecords: 'addNewsletterMsgsRecords',
}, (m) => m.updateNewsletterMsgRecord);


/***/ }),

/***/ "./src/whatsapp/functions/updateParticipants.ts":
/*!******************************************************!*\
  !*** ./src/whatsapp/functions/updateParticipants.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    updateParticipants: 'updateParticipants',
}, (m) => m.updateParticipants && m.addParticipants);


/***/ }),

/***/ "./src/whatsapp/functions/uploadMedia.ts":
/*!***********************************************!*\
  !*** ./src/whatsapp/functions/uploadMedia.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    uploadMedia: 'uploadMedia',
}, (m) => m.uploadMedia);


/***/ }),

/***/ "./src/whatsapp/functions/uploadProductImage.ts":
/*!******************************************************!*\
  !*** ./src/whatsapp/functions/uploadProductImage.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    uploadProductImage: 'uploadProductImage',
}, (m) => m.uploadProductImage && m.MediaPrep);


/***/ }),

/***/ "./src/whatsapp/functions/uploadThumbnail.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/functions/uploadThumbnail.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    uploadThumbnail: 'default',
}, (m, id) => {
    if (id === 'WAWebMediaUploadMmsThumbnail') {
        return true;
    }
    const source = webpack.moduleSource(id);
    return (source.includes('thumbnail') &&
        source.includes('.cancelUploadMedia') &&
        source.includes('.calculateFilehashFromBlob'));
});


/***/ }),

/***/ "./src/whatsapp/functions/upsertVotes.ts":
/*!***********************************************!*\
  !*** ./src/whatsapp/functions/upsertVotes.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    upsertVotes: [
        'upsertVotesDb', // >= 2.2312.5
        'upsertVotes',
    ],
}, (m) => m.upsertVotesDb || // >= 2.2312.5
    m.upsertVotes);


/***/ }),

/***/ "./src/whatsapp/functions/voteFromDbRow.ts":
/*!*************************************************!*\
  !*** ./src/whatsapp/functions/voteFromDbRow.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    voteFromDbRow: ['voteFromDbRow'],
}, (m) => m.voteFromDbRow);


/***/ }),

/***/ "./src/whatsapp/index.ts":
/*!*******************************!*\
  !*** ./src/whatsapp/index.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.websocket = exports.multidevice = exports.functions = exports._moduleIdMap = exports.enums = exports.contants = void 0;
__exportStar(__webpack_require__(/*! ./collections */ "./src/whatsapp/collections/index.ts"), exports);
exports.contants = __importStar(__webpack_require__(/*! ./contants */ "./src/whatsapp/contants/index.ts"));
exports.enums = __importStar(__webpack_require__(/*! ./enums */ "./src/whatsapp/enums/index.ts"));
var exportModule_1 = __webpack_require__(/*! ./exportModule */ "./src/whatsapp/exportModule.ts");
Object.defineProperty(exports, "_moduleIdMap", ({ enumerable: true, get: function () { return exportModule_1._moduleIdMap; } }));
exports.functions = __importStar(__webpack_require__(/*! ./functions */ "./src/whatsapp/functions/index.ts"));
__exportStar(__webpack_require__(/*! ./misc */ "./src/whatsapp/misc/index.ts"), exports);
__exportStar(__webpack_require__(/*! ./models */ "./src/whatsapp/models/index.ts"), exports);
exports.multidevice = __importStar(__webpack_require__(/*! ./multidevice */ "./src/whatsapp/multidevice/index.ts"));
__exportStar(__webpack_require__(/*! ./stores */ "./src/whatsapp/stores.ts"), exports);
exports.websocket = __importStar(__webpack_require__(/*! ./websocket */ "./src/whatsapp/websocket/index.ts"));


/***/ }),

/***/ "./src/whatsapp/misc/ApiContact.ts":
/*!*****************************************!*\
  !*** ./src/whatsapp/misc/ApiContact.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, 'ApiContact', (m) => m.getCurrentLid && m.getPhoneNumber);


/***/ }),

/***/ "./src/whatsapp/misc/Base64.ts":
/*!*************************************!*\
  !*** ./src/whatsapp/misc/Base64.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, 'Base64', (m) => m.encodeB64 && m.decodeB64);


/***/ }),

/***/ "./src/whatsapp/misc/Browser.ts":
/*!**************************************!*\
  !*** ./src/whatsapp/misc/Browser.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { Browser: 'default' }, (m) => m.default.id && m.default.startDownloading);


/***/ }),

/***/ "./src/whatsapp/misc/ChatPresence.ts":
/*!*******************************************!*\
  !*** ./src/whatsapp/misc/ChatPresence.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, 'ChatPresence', (m) => m.markComposing);


/***/ }),

/***/ "./src/whatsapp/misc/Cmd.ts":
/*!**********************************!*\
  !*** ./src/whatsapp/misc/Cmd.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    CmdClass: 'CmdImpl',
    Cmd: 'Cmd',
}, (m) => m.Cmd && m.CmdImpl);


/***/ }),

/***/ "./src/whatsapp/misc/ComposeBoxActions.ts":
/*!************************************************!*\
  !*** ./src/whatsapp/misc/ComposeBoxActions.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    ComposeBoxActions: 'ComposeBoxActions',
}, (m) => m.ComposeBoxActions);


/***/ }),

/***/ "./src/whatsapp/misc/Conn.ts":
/*!***********************************!*\
  !*** ./src/whatsapp/misc/Conn.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { Conn: 'Conn' }, (m) => (m.Conn && m.ConnImpl) || m.Conn);


/***/ }),

/***/ "./src/whatsapp/misc/Constants.ts":
/*!****************************************!*\
  !*** ./src/whatsapp/misc/Constants.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { Constants: 'default' }, (m) => m.default.IMG_THUMB_MAX_EDGE || m.default.WA_COMMERCE_POLICY_URL);


/***/ }),

/***/ "./src/whatsapp/misc/Enviroment.ts":
/*!*****************************************!*\
  !*** ./src/whatsapp/misc/Enviroment.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, 'Enviroment', (m) => (m.default.isWeb !== undefined && m.default.isWindows !== undefined) ||
    (m.isWeb !== undefined && m.isWindows !== undefined));


/***/ }),

/***/ "./src/whatsapp/misc/EventEmitter.ts":
/*!*******************************************!*\
  !*** ./src/whatsapp/misc/EventEmitter.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    EventEmitter: 'default',
}, (m, id) => id === 'WAWebEventEmitter' ||
    m.default.toString().includes('Callback parameter passed is not a function'));


/***/ }),

/***/ "./src/whatsapp/misc/ImageUtils.ts":
/*!*****************************************!*\
  !*** ./src/whatsapp/misc/ImageUtils.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, 'ImageUtils', (m) => m.rotateAndResize);


/***/ }),

/***/ "./src/whatsapp/misc/IsOfficialClient.ts":
/*!***********************************************!*\
  !*** ./src/whatsapp/misc/IsOfficialClient.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, 'IsOfficialClient', (m) => typeof m.isOfficialClient !== 'undefined');
webpack.injectFallbackModule('IsOfficialClient', {
    isOfficialClient: true,
});


/***/ }),

/***/ "./src/whatsapp/misc/Lid1X1MigrationUtils.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/misc/Lid1X1MigrationUtils.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    Lid1X1MigrationUtils: 'Lid1X1MigrationUtils',
}, (m) => m.Lid1X1MigrationUtils.isLidMigrated);


/***/ }),

/***/ "./src/whatsapp/misc/MediaBlobCache.ts":
/*!*********************************************!*\
  !*** ./src/whatsapp/misc/MediaBlobCache.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    MediaBlobCacheImpl: [
        'InMemoryMediaBlobCacheImpl', // @whatsapp >= 2.2329.7
        'MediaBlobCacheImpl', // @whatsapp < 2.2329.7
    ],
    MediaBlobCache: [
        'InMemoryMediaBlobCache', // @whatsapp >= 2.2329.7
        'MediaBlobCache', // @whatsapp < 2.2329.7
    ],
}, (m) => m.InMemoryMediaBlobCacheImpl || // @whatsapp >= 2.2329.7
    m.MediaBlobCache // @whatsapp < 2.2329.7
);


/***/ }),

/***/ "./src/whatsapp/misc/MediaEntry.ts":
/*!*****************************************!*\
  !*** ./src/whatsapp/misc/MediaEntry.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    MediaEntry: [
        'EncryptedMediaEntry', // >= 2.2312.5
        'MediaEntry',
    ],
}, (m) => m.EncryptedMediaEntry || // >= 2.2312.5
    m.MediaEntry);


/***/ }),

/***/ "./src/whatsapp/misc/MediaObject.ts":
/*!******************************************!*\
  !*** ./src/whatsapp/misc/MediaObject.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    MediaObject: 'MediaObject',
}, (m) => m.webMediaTypeToWamMediaType);


/***/ }),

/***/ "./src/whatsapp/misc/MediaObjectUtil.ts":
/*!**********************************************!*\
  !*** ./src/whatsapp/misc/MediaObjectUtil.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, 'MediaObjectUtil', (m) => m.getOrCreateMediaObject);


/***/ }),

/***/ "./src/whatsapp/misc/MediaPrep.ts":
/*!****************************************!*\
  !*** ./src/whatsapp/misc/MediaPrep.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, 'MediaPrep', (m) => m.uploadProductImage && m.MediaPrep);


/***/ }),

/***/ "./src/whatsapp/misc/MediaUtils.ts":
/*!*****************************************!*\
  !*** ./src/whatsapp/misc/MediaUtils.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, 'MediaUtils', (m) => m.getImageWidthHeight);


/***/ }),

/***/ "./src/whatsapp/misc/MsgKey.ts":
/*!*************************************!*\
  !*** ./src/whatsapp/misc/MsgKey.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    MsgKey: 'default',
}, (m) => m.default.toString().includes('MsgKey error: obj is null/undefined'));


/***/ }),

/***/ "./src/whatsapp/misc/MsgLoad.ts":
/*!**************************************!*\
  !*** ./src/whatsapp/misc/MsgLoad.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    MsgLoad: 'ChatMsgsCollection',
}, (m) => m.ChatMsgsCollection);


/***/ }),

/***/ "./src/whatsapp/misc/NetworkStatus.ts":
/*!********************************************!*\
  !*** ./src/whatsapp/misc/NetworkStatus.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    NetworkStatus: 'default',
}, (m) => m.default.checkOnline);


/***/ }),

/***/ "./src/whatsapp/misc/OpaqueData.ts":
/*!*****************************************!*\
  !*** ./src/whatsapp/misc/OpaqueData.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    OpaqueDataBase: 'default',
}, (m) => m.default.prototype.throwIfReleased);
(0, exportModule_1.exportModule)(exports, {
    OpaqueData: 'default',
}, (m) => m.default.createFromData);


/***/ }),

/***/ "./src/whatsapp/misc/ProductCatalogSession.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/misc/ProductCatalogSession.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2022 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    ProductCatalogSession: 'ProductCatalogSession',
}, (m) => m.ProductCatalogSession);


/***/ }),

/***/ "./src/whatsapp/misc/ServerProps.ts":
/*!******************************************!*\
  !*** ./src/whatsapp/misc/ServerProps.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const webpack_1 = __webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts");
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
const ServerPropsConstants_1 = __webpack_require__(/*! ./ServerPropsConstants */ "./src/whatsapp/misc/ServerPropsConstants.ts");
(0, exportModule_1.exportModule)(exports, {
    ServerProps: 'ServerProps',
}, (m) => (m.getMaxFilesSizeServerProp && m.ServerProps) ||
    (m.getMaxFilesSize && m.ServerProps));
//This fallback is only in place to prevent errors on older versions of WhatsApp Web for now;
// it will be removed soon, as all their attributes have either been removed or moved to different functions.
(0, webpack_1.injectFallbackModule)('ServerProps', {
    getMaxFilesSizeServerProp: () => {
        return ServerPropsConstants_1.ServerPropsConstants.MAX_FILE_SIZE_BYTES;
    },
    ServerProps: {},
});


/***/ }),

/***/ "./src/whatsapp/misc/ServerPropsConstants.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/misc/ServerPropsConstants.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2025 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const webpack_1 = __webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts");
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
const ServerProps_1 = __webpack_require__(/*! ./ServerProps */ "./src/whatsapp/misc/ServerProps.ts");
(0, exportModule_1.exportModule)(exports, 'ServerPropsConstants', (m) => m.MAX_FILE_SIZE_BYTES);
(0, webpack_1.injectFallbackModule)('ServerPropsConstants', {
    MMS_VCARD_AUTODOWNLOAD_SIZE_KB: 64,
    VCARD_AS_DOCUMENT_SIZE_KB: 64,
    VCARD_MAX_SIZE_KB: 5000,
    MULTICAST_LIMIT_GLOBAL: (ServerProps_1.ServerProps === null || ServerProps_1.ServerProps === void 0 ? void 0 : ServerProps_1.ServerProps.frequentlyForwardedMax) || 5,
    PTT_PLAYBACK_SPEED_HIDE_DELAY: 1500,
    DEFAULT_MAX_FILE_SIZE_BYTES: 100 * 1024 * 1024,
    MAX_FILE_SIZE_BYTES: (ServerProps_1.ServerProps === null || ServerProps_1.ServerProps === void 0 ? void 0 : ServerProps_1.ServerProps.maxFileSize) || 100 * 1024 * 1024,
    UNINITIALIZED_VALUE_WEB_BIZ_PROFILE_OPTIONS: 3,
});


/***/ }),

/***/ "./src/whatsapp/misc/Socket.ts":
/*!*************************************!*\
  !*** ./src/whatsapp/misc/Socket.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { Socket: 'Socket' }, (m) => m.Socket);


/***/ }),

/***/ "./src/whatsapp/misc/Stream.ts":
/*!*************************************!*\
  !*** ./src/whatsapp/misc/Stream.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { Stream: 'Stream' }, (m) => m.Stream);


/***/ }),

/***/ "./src/whatsapp/misc/USyncQuery.ts":
/*!*****************************************!*\
  !*** ./src/whatsapp/misc/USyncQuery.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    USyncQuery: 'USyncQuery',
}, (m) => m.USyncQuery);


/***/ }),

/***/ "./src/whatsapp/misc/USyncUser.ts":
/*!****************************************!*\
  !*** ./src/whatsapp/misc/USyncUser.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    USyncUser: 'USyncUser',
}, (m) => m.USyncUser);


/***/ }),

/***/ "./src/whatsapp/misc/UserPrefs.ts":
/*!****************************************!*\
  !*** ./src/whatsapp/misc/UserPrefs.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2025 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, 'UserPrefs', (m) => {
    var _a, _b;
    const hasNew = typeof (m === null || m === void 0 ? void 0 : m.getMaybeMePnUser) === 'function';
    const hasOld = typeof (m === null || m === void 0 ? void 0 : m.getMaybeMeUser) === 'function';
    if (!hasNew && !hasOld)
        return false; // no exporta se nenhuma existir
    try {
        // se houver prop com tipo errado, apaga antes de setar
        if (m &&
            typeof m.getMaybeMeUser !== 'function' &&
            (
            //eslint-disable-next-line no-prototype-builtins
            (_a = m.hasOwnProperty) === null || _a === void 0 ? void 0 : _a.call(m, 'getMaybeMeUser'))) {
            try {
                delete m.getMaybeMeUser;
            }
            catch (_c) { }
        }
        if (m &&
            typeof m.getMaybeMePnUser !== 'function' &&
            (
            //eslint-disable-next-line no-prototype-builtins
            (_b = m.hasOwnProperty) === null || _b === void 0 ? void 0 : _b.call(m, 'getMaybeMePnUser'))) {
            try {
                delete m.getMaybeMePnUser;
            }
            catch (_d) { }
        }
        if (hasNew && !hasOld) {
            Object.defineProperty(m, 'getMaybeMeUser', {
                value: m.getMaybeMePnUser.bind(m),
                configurable: true,
                writable: true,
            });
        }
        else if (hasOld && !hasNew) {
            Object.defineProperty(m, 'getMaybeMePnUser', {
                value: m.getMaybeMeUser.bind(m),
                configurable: true,
                writable: true,
            });
        }
    }
    catch (_e) {
        // silencioso: alguns mdulos podem ser proxies/selados
    }
    // Alguns loaders usam o valor de retorno s como "truthy".
    // Retorne 'true' ou o prprio 'm'  ambos funcionam.
    return true;
});


/***/ }),

/***/ "./src/whatsapp/misc/VCard.ts":
/*!************************************!*\
  !*** ./src/whatsapp/misc/VCard.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, 'VCard', (m) => m.vcardFromContactModel);


/***/ }),

/***/ "./src/whatsapp/misc/Wid.ts":
/*!**********************************!*\
  !*** ./src/whatsapp/misc/Wid.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    Wid: 'default',
}, (m) => m.default.isXWid);


/***/ }),

/***/ "./src/whatsapp/misc/WidFactory.ts":
/*!*****************************************!*\
  !*** ./src/whatsapp/misc/WidFactory.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, 'WidFactory', (m) => m.createWid);


/***/ }),

/***/ "./src/whatsapp/misc/index.ts":
/*!************************************!*\
  !*** ./src/whatsapp/misc/index.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2025 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./ApiContact */ "./src/whatsapp/misc/ApiContact.ts"), exports);
__exportStar(__webpack_require__(/*! ./Base64 */ "./src/whatsapp/misc/Base64.ts"), exports);
__exportStar(__webpack_require__(/*! ./Browser */ "./src/whatsapp/misc/Browser.ts"), exports);
__exportStar(__webpack_require__(/*! ./ChatPresence */ "./src/whatsapp/misc/ChatPresence.ts"), exports);
__exportStar(__webpack_require__(/*! ./Cmd */ "./src/whatsapp/misc/Cmd.ts"), exports);
__exportStar(__webpack_require__(/*! ./ComposeBoxActions */ "./src/whatsapp/misc/ComposeBoxActions.ts"), exports);
__exportStar(__webpack_require__(/*! ./Conn */ "./src/whatsapp/misc/Conn.ts"), exports);
__exportStar(__webpack_require__(/*! ./Constants */ "./src/whatsapp/misc/Constants.ts"), exports);
__exportStar(__webpack_require__(/*! ./Enviroment */ "./src/whatsapp/misc/Enviroment.ts"), exports);
__exportStar(__webpack_require__(/*! ./EventEmitter */ "./src/whatsapp/misc/EventEmitter.ts"), exports);
__exportStar(__webpack_require__(/*! ./ImageUtils */ "./src/whatsapp/misc/ImageUtils.ts"), exports);
__exportStar(__webpack_require__(/*! ./IsOfficialClient */ "./src/whatsapp/misc/IsOfficialClient.ts"), exports);
__exportStar(__webpack_require__(/*! ./Lid1X1MigrationUtils */ "./src/whatsapp/misc/Lid1X1MigrationUtils.ts"), exports);
__exportStar(__webpack_require__(/*! ./MediaBlobCache */ "./src/whatsapp/misc/MediaBlobCache.ts"), exports);
__exportStar(__webpack_require__(/*! ./MediaEntry */ "./src/whatsapp/misc/MediaEntry.ts"), exports);
__exportStar(__webpack_require__(/*! ./MediaObject */ "./src/whatsapp/misc/MediaObject.ts"), exports);
__exportStar(__webpack_require__(/*! ./MediaObjectUtil */ "./src/whatsapp/misc/MediaObjectUtil.ts"), exports);
__exportStar(__webpack_require__(/*! ./MediaPrep */ "./src/whatsapp/misc/MediaPrep.ts"), exports);
__exportStar(__webpack_require__(/*! ./MediaUtils */ "./src/whatsapp/misc/MediaUtils.ts"), exports);
__exportStar(__webpack_require__(/*! ./MsgKey */ "./src/whatsapp/misc/MsgKey.ts"), exports);
__exportStar(__webpack_require__(/*! ./MsgLoad */ "./src/whatsapp/misc/MsgLoad.ts"), exports);
__exportStar(__webpack_require__(/*! ./NetworkStatus */ "./src/whatsapp/misc/NetworkStatus.ts"), exports);
__exportStar(__webpack_require__(/*! ./OpaqueData */ "./src/whatsapp/misc/OpaqueData.ts"), exports);
__exportStar(__webpack_require__(/*! ./ProductCatalogSession */ "./src/whatsapp/misc/ProductCatalogSession.ts"), exports);
__exportStar(__webpack_require__(/*! ./ServerProps */ "./src/whatsapp/misc/ServerProps.ts"), exports);
__exportStar(__webpack_require__(/*! ./ServerPropsConstants */ "./src/whatsapp/misc/ServerPropsConstants.ts"), exports);
__exportStar(__webpack_require__(/*! ./Socket */ "./src/whatsapp/misc/Socket.ts"), exports);
__exportStar(__webpack_require__(/*! ./Stream */ "./src/whatsapp/misc/Stream.ts"), exports);
__exportStar(__webpack_require__(/*! ./UserPrefs */ "./src/whatsapp/misc/UserPrefs.ts"), exports);
__exportStar(__webpack_require__(/*! ./USyncQuery */ "./src/whatsapp/misc/USyncQuery.ts"), exports);
__exportStar(__webpack_require__(/*! ./USyncUser */ "./src/whatsapp/misc/USyncUser.ts"), exports);
__exportStar(__webpack_require__(/*! ./VCard */ "./src/whatsapp/misc/VCard.ts"), exports);
__exportStar(__webpack_require__(/*! ./Wid */ "./src/whatsapp/misc/Wid.ts"), exports);
__exportStar(__webpack_require__(/*! ./WidFactory */ "./src/whatsapp/misc/WidFactory.ts"), exports);


/***/ }),

/***/ "./src/whatsapp/models/AggReactionsModel.ts":
/*!**************************************************!*\
  !*** ./src/whatsapp/models/AggReactionsModel.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'AggReactionsModel');


/***/ }),

/***/ "./src/whatsapp/models/AttachMediaModel.ts":
/*!*************************************************!*\
  !*** ./src/whatsapp/models/AttachMediaModel.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'AttachMediaModel');


/***/ }),

/***/ "./src/whatsapp/models/BlocklistModel.ts":
/*!***********************************************!*\
  !*** ./src/whatsapp/models/BlocklistModel.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'BlocklistModel');


/***/ }),

/***/ "./src/whatsapp/models/BotProfileModel.ts":
/*!************************************************!*\
  !*** ./src/whatsapp/models/BotProfileModel.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'BotProfileModel');


/***/ }),

/***/ "./src/whatsapp/models/BusinessCategoriesResultModel.ts":
/*!**************************************************************!*\
  !*** ./src/whatsapp/models/BusinessCategoriesResultModel.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'BusinessCategoriesResultModel');


/***/ }),

/***/ "./src/whatsapp/models/BusinessProfileModel.ts":
/*!*****************************************************!*\
  !*** ./src/whatsapp/models/BusinessProfileModel.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'BusinessProfileModel');


/***/ }),

/***/ "./src/whatsapp/models/CallModel.ts":
/*!******************************************!*\
  !*** ./src/whatsapp/models/CallModel.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'CallModel');


/***/ }),

/***/ "./src/whatsapp/models/CartItemModel.ts":
/*!**********************************************!*\
  !*** ./src/whatsapp/models/CartItemModel.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'CartItemModel');


/***/ }),

/***/ "./src/whatsapp/models/CartModel.ts":
/*!******************************************!*\
  !*** ./src/whatsapp/models/CartModel.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'CartModel');


/***/ }),

/***/ "./src/whatsapp/models/CatalogModel.ts":
/*!*********************************************!*\
  !*** ./src/whatsapp/models/CatalogModel.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'CatalogModel');


/***/ }),

/***/ "./src/whatsapp/models/ChatModel.ts":
/*!******************************************!*\
  !*** ./src/whatsapp/models/ChatModel.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'ChatModel');


/***/ }),

/***/ "./src/whatsapp/models/ChatPreferenceModel.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/models/ChatPreferenceModel.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'ChatPreferenceModel');


/***/ }),

/***/ "./src/whatsapp/models/ChatstateModel.ts":
/*!***********************************************!*\
  !*** ./src/whatsapp/models/ChatstateModel.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    ChatstateModel: 'Chatstate',
}, (m) => (m.Chatstate && m.ChatstateCollection) || m.Chatstate);


/***/ }),

/***/ "./src/whatsapp/models/ConnModel.ts":
/*!******************************************!*\
  !*** ./src/whatsapp/models/ConnModel.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    ConnModel: ['ConnImpl', 'Conn'],
}, (m) => m.ConnImpl || (m.Conn && !m.ConnImpl));


/***/ }),

/***/ "./src/whatsapp/models/ContactModel.ts":
/*!*********************************************!*\
  !*** ./src/whatsapp/models/ContactModel.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'ContactModel');


/***/ }),

/***/ "./src/whatsapp/models/ConversionTupleModel.ts":
/*!*****************************************************!*\
  !*** ./src/whatsapp/models/ConversionTupleModel.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'ConversionTupleModel');


/***/ }),

/***/ "./src/whatsapp/models/EmojiVariantModel.ts":
/*!**************************************************!*\
  !*** ./src/whatsapp/models/EmojiVariantModel.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'EmojiVariantModel');


/***/ }),

/***/ "./src/whatsapp/models/GroupMetadataModel.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/models/GroupMetadataModel.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'GroupMetadataModel');


/***/ }),

/***/ "./src/whatsapp/models/HistorySyncProgressModel.ts":
/*!*********************************************************!*\
  !*** ./src/whatsapp/models/HistorySyncProgressModel.ts ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const webpack = __importStar(__webpack_require__(/*! ../../webpack */ "./src/webpack/index.ts"));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
const functions_1 = __webpack_require__(/*! ../functions */ "./src/whatsapp/functions/index.ts");
(0, exportModule_1.exportModule)(exports, {
    HistorySyncProgressModel: 'HistorySyncProgressModel',
}, (m) => m.HistorySyncProgressModel);
const fallback = {};
// Lazy load
Object.defineProperty(fallback, 'HistorySyncProgressModel', {
    configurable: true,
    enumerable: true,
    get() {
        const sync = (0, functions_1.getHistorySyncProgress)();
        return sync.constructor;
    },
});
webpack.injectFallbackModule('HistorySyncProgressModel', fallback);


/***/ }),

/***/ "./src/whatsapp/models/LabelItemModel.ts":
/*!***********************************************!*\
  !*** ./src/whatsapp/models/LabelItemModel.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'LabelItemModel');


/***/ }),

/***/ "./src/whatsapp/models/LabelModel.ts":
/*!*******************************************!*\
  !*** ./src/whatsapp/models/LabelModel.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'LabelModel');


/***/ }),

/***/ "./src/whatsapp/models/MediaDataModel.ts":
/*!***********************************************!*\
  !*** ./src/whatsapp/models/MediaDataModel.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'MediaDataModel');


/***/ }),

/***/ "./src/whatsapp/models/Model.ts":
/*!**************************************!*\
  !*** ./src/whatsapp/models/Model.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    Model: 'BaseModel',
}, (m) => m.defineModel);


/***/ }),

/***/ "./src/whatsapp/models/ModelChatBase.ts":
/*!**********************************************!*\
  !*** ./src/whatsapp/models/ModelChatBase.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { ModelChatBase: 'default' }, (m, id) => id === 'WAWebSuperChatMsgs' ||
    m.default.toString().includes('onEmptyMRM not implemented'));


/***/ }),

/***/ "./src/whatsapp/models/MsgButtonReplyMsgModel.ts":
/*!*******************************************************!*\
  !*** ./src/whatsapp/models/MsgButtonReplyMsgModel.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'MsgButtonReplyMsgModel');


/***/ }),

/***/ "./src/whatsapp/models/MsgInfoModel.ts":
/*!*********************************************!*\
  !*** ./src/whatsapp/models/MsgInfoModel.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'MsgInfoModel');


/***/ }),

/***/ "./src/whatsapp/models/MsgInfoParticipantModel.ts":
/*!********************************************************!*\
  !*** ./src/whatsapp/models/MsgInfoParticipantModel.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'MsgInfoParticipantModel');


/***/ }),

/***/ "./src/whatsapp/models/MsgModel.ts":
/*!*****************************************!*\
  !*** ./src/whatsapp/models/MsgModel.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'MsgModel');


/***/ }),

/***/ "./src/whatsapp/models/MuteModel.ts":
/*!******************************************!*\
  !*** ./src/whatsapp/models/MuteModel.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'MuteModel');


/***/ }),

/***/ "./src/whatsapp/models/NetworkStatusModel.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/models/NetworkStatusModel.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    NetworkStatusModel: 'default.constructor',
}, (m) => m.default.checkOnline);


/***/ }),

/***/ "./src/whatsapp/models/NoteModel.ts":
/*!******************************************!*\
  !*** ./src/whatsapp/models/NoteModel.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2024 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'NoteModel');


/***/ }),

/***/ "./src/whatsapp/models/OrderItemModel.ts":
/*!***********************************************!*\
  !*** ./src/whatsapp/models/OrderItemModel.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'OrderItemModel');


/***/ }),

/***/ "./src/whatsapp/models/OrderModel.ts":
/*!*******************************************!*\
  !*** ./src/whatsapp/models/OrderModel.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'OrderModel');


/***/ }),

/***/ "./src/whatsapp/models/ParticipantModel.ts":
/*!*************************************************!*\
  !*** ./src/whatsapp/models/ParticipantModel.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'ParticipantModel');


/***/ }),

/***/ "./src/whatsapp/models/PresenceModel.ts":
/*!**********************************************!*\
  !*** ./src/whatsapp/models/PresenceModel.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    PresenceModel: 'Presence',
}, (m) => (m.Presence && m.ChatstateCollection) || (m.Presence && m.Chatstate));


/***/ }),

/***/ "./src/whatsapp/models/ProductCollModel.ts":
/*!*************************************************!*\
  !*** ./src/whatsapp/models/ProductCollModel.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'ProductCollModel');


/***/ }),

/***/ "./src/whatsapp/models/ProductImageModel.ts":
/*!**************************************************!*\
  !*** ./src/whatsapp/models/ProductImageModel.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'ProductImageModel');


/***/ }),

/***/ "./src/whatsapp/models/ProductMessageListModel.ts":
/*!********************************************************!*\
  !*** ./src/whatsapp/models/ProductMessageListModel.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    ProductMessageListModel: 'ProductMessageList',
}, (m) => m.ProductMessageList);


/***/ }),

/***/ "./src/whatsapp/models/ProductModel.ts":
/*!*********************************************!*\
  !*** ./src/whatsapp/models/ProductModel.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'ProductModel');


/***/ }),

/***/ "./src/whatsapp/models/ProfilePicThumbModel.ts":
/*!*****************************************************!*\
  !*** ./src/whatsapp/models/ProfilePicThumbModel.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'ProfilePicThumbModel');


/***/ }),

/***/ "./src/whatsapp/models/QuickReplyModel.ts":
/*!************************************************!*\
  !*** ./src/whatsapp/models/QuickReplyModel.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'QuickReplyModel');


/***/ }),

/***/ "./src/whatsapp/models/ReactionsModel.ts":
/*!***********************************************!*\
  !*** ./src/whatsapp/models/ReactionsModel.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'ReactionsModel');


/***/ }),

/***/ "./src/whatsapp/models/ReactionsSendersModel.ts":
/*!******************************************************!*\
  !*** ./src/whatsapp/models/ReactionsSendersModel.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'ReactionsSendersModel');


/***/ }),

/***/ "./src/whatsapp/models/RecentEmojiModel.ts":
/*!*************************************************!*\
  !*** ./src/whatsapp/models/RecentEmojiModel.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'RecentEmojiModel');


/***/ }),

/***/ "./src/whatsapp/models/RecentStickerModel.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/models/RecentStickerModel.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'RecentStickerModel');


/***/ }),

/***/ "./src/whatsapp/models/ReplyButtonModel.ts":
/*!*************************************************!*\
  !*** ./src/whatsapp/models/ReplyButtonModel.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'ReplyButtonModel');


/***/ }),

/***/ "./src/whatsapp/models/ServerPropsModel.ts":
/*!*************************************************!*\
  !*** ./src/whatsapp/models/ServerPropsModel.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    ServerPropsModel: 'ServerProps',
}, (m) => (m.getMaxFilesSizeServerProp && m.ServerProps) ||
    (m.getMaxFilesSize && m.ServerProps));


/***/ }),

/***/ "./src/whatsapp/models/SocketModel.ts":
/*!********************************************!*\
  !*** ./src/whatsapp/models/SocketModel.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { Socket: 'Socket.constructor' }, (m) => { var _a; return (_a = m.Socket) === null || _a === void 0 ? void 0 : _a.initConn; });


/***/ }),

/***/ "./src/whatsapp/models/StatusModel.ts":
/*!********************************************!*\
  !*** ./src/whatsapp/models/StatusModel.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
//exportProxyModel(exports, 'StatusModel');
(0, exportModule_1.exportModule)(exports, {
    StatusModel: ['default'],
}, (m) => { var _a; return (_a = m.default) === null || _a === void 0 ? void 0 : _a.prototype.__props.includes('status'); });


/***/ }),

/***/ "./src/whatsapp/models/StatusV3Model.ts":
/*!**********************************************!*\
  !*** ./src/whatsapp/models/StatusV3Model.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    StatusV3Model: ['default'],
}, (m) => { var _a; return (_a = m.default) === null || _a === void 0 ? void 0 : _a.prototype.sendReadStatus; });


/***/ }),

/***/ "./src/whatsapp/models/StickerModel.ts":
/*!*********************************************!*\
  !*** ./src/whatsapp/models/StickerModel.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'StickerModel');


/***/ }),

/***/ "./src/whatsapp/models/StickerPackModel.ts":
/*!*************************************************!*\
  !*** ./src/whatsapp/models/StickerPackModel.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'StickerPackModel');


/***/ }),

/***/ "./src/whatsapp/models/StreamModel.ts":
/*!********************************************!*\
  !*** ./src/whatsapp/models/StreamModel.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    StreamModel: 'Stream.constructor',
}, (m) => m.Stream);


/***/ }),

/***/ "./src/whatsapp/models/TemplateButtonModel.ts":
/*!****************************************************!*\
  !*** ./src/whatsapp/models/TemplateButtonModel.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'TemplateButtonModel');


/***/ }),

/***/ "./src/whatsapp/models/UnreadMentionModel.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/models/UnreadMentionModel.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportProxyModel)(exports, 'UnreadMentionModel');


/***/ }),

/***/ "./src/whatsapp/models/index.ts":
/*!**************************************!*\
  !*** ./src/whatsapp/models/index.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./AggReactionsModel */ "./src/whatsapp/models/AggReactionsModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./AttachMediaModel */ "./src/whatsapp/models/AttachMediaModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./BlocklistModel */ "./src/whatsapp/models/BlocklistModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./BotProfileModel */ "./src/whatsapp/models/BotProfileModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./BusinessCategoriesResultModel */ "./src/whatsapp/models/BusinessCategoriesResultModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./BusinessProfileModel */ "./src/whatsapp/models/BusinessProfileModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./CallModel */ "./src/whatsapp/models/CallModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./CartItemModel */ "./src/whatsapp/models/CartItemModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./CartModel */ "./src/whatsapp/models/CartModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./CatalogModel */ "./src/whatsapp/models/CatalogModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./ChatModel */ "./src/whatsapp/models/ChatModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./ChatPreferenceModel */ "./src/whatsapp/models/ChatPreferenceModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./ChatstateModel */ "./src/whatsapp/models/ChatstateModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./ConnModel */ "./src/whatsapp/models/ConnModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./ContactModel */ "./src/whatsapp/models/ContactModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./ConversionTupleModel */ "./src/whatsapp/models/ConversionTupleModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./EmojiVariantModel */ "./src/whatsapp/models/EmojiVariantModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./GroupMetadataModel */ "./src/whatsapp/models/GroupMetadataModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./HistorySyncProgressModel */ "./src/whatsapp/models/HistorySyncProgressModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./LabelItemModel */ "./src/whatsapp/models/LabelItemModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./LabelModel */ "./src/whatsapp/models/LabelModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./MediaDataModel */ "./src/whatsapp/models/MediaDataModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./Model */ "./src/whatsapp/models/Model.ts"), exports);
__exportStar(__webpack_require__(/*! ./ModelChatBase */ "./src/whatsapp/models/ModelChatBase.ts"), exports);
__exportStar(__webpack_require__(/*! ./MsgButtonReplyMsgModel */ "./src/whatsapp/models/MsgButtonReplyMsgModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./MsgInfoModel */ "./src/whatsapp/models/MsgInfoModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./MsgInfoParticipantModel */ "./src/whatsapp/models/MsgInfoParticipantModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./MsgModel */ "./src/whatsapp/models/MsgModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./MuteModel */ "./src/whatsapp/models/MuteModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./NetworkStatusModel */ "./src/whatsapp/models/NetworkStatusModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./NoteModel */ "./src/whatsapp/models/NoteModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./OrderItemModel */ "./src/whatsapp/models/OrderItemModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./OrderModel */ "./src/whatsapp/models/OrderModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./ParticipantModel */ "./src/whatsapp/models/ParticipantModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./ParticipantModel */ "./src/whatsapp/models/ParticipantModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./PresenceModel */ "./src/whatsapp/models/PresenceModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./ProductCollModel */ "./src/whatsapp/models/ProductCollModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./ProductImageModel */ "./src/whatsapp/models/ProductImageModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./ProductMessageListModel */ "./src/whatsapp/models/ProductMessageListModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./ProductModel */ "./src/whatsapp/models/ProductModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./ProfilePicThumbModel */ "./src/whatsapp/models/ProfilePicThumbModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./QuickReplyModel */ "./src/whatsapp/models/QuickReplyModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./ReactionsModel */ "./src/whatsapp/models/ReactionsModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./ReactionsSendersModel */ "./src/whatsapp/models/ReactionsSendersModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./RecentEmojiModel */ "./src/whatsapp/models/RecentEmojiModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./RecentStickerModel */ "./src/whatsapp/models/RecentStickerModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./ReplyButtonModel */ "./src/whatsapp/models/ReplyButtonModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./ServerPropsModel */ "./src/whatsapp/models/ServerPropsModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./SocketModel */ "./src/whatsapp/models/SocketModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./StatusModel */ "./src/whatsapp/models/StatusModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./StatusV3Model */ "./src/whatsapp/models/StatusV3Model.ts"), exports);
__exportStar(__webpack_require__(/*! ./StickerModel */ "./src/whatsapp/models/StickerModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./StickerPackModel */ "./src/whatsapp/models/StickerPackModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./StreamModel */ "./src/whatsapp/models/StreamModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./TemplateButtonModel */ "./src/whatsapp/models/TemplateButtonModel.ts"), exports);
__exportStar(__webpack_require__(/*! ./UnreadMentionModel */ "./src/whatsapp/models/UnreadMentionModel.ts"), exports);


/***/ }),

/***/ "./src/whatsapp/multidevice/adv.ts":
/*!*****************************************!*\
  !*** ./src/whatsapp/multidevice/adv.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, 'adv', (m) => m.getADVSecretKey && m.setADVSignedIdentity);


/***/ }),

/***/ "./src/whatsapp/multidevice/index.ts":
/*!*******************************************!*\
  !*** ./src/whatsapp/multidevice/index.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./adv */ "./src/whatsapp/multidevice/adv.ts"), exports);
__exportStar(__webpack_require__(/*! ./waNoiseInfo */ "./src/whatsapp/multidevice/waNoiseInfo.ts"), exports);
__exportStar(__webpack_require__(/*! ./waSignalStore */ "./src/whatsapp/multidevice/waSignalStore.ts"), exports);


/***/ }),

/***/ "./src/whatsapp/multidevice/waNoiseInfo.ts":
/*!*************************************************!*\
  !*** ./src/whatsapp/multidevice/waNoiseInfo.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { waNoiseInfo: 'waNoiseInfo' }, (m) => m.waNoiseInfo);


/***/ }),

/***/ "./src/whatsapp/multidevice/waSignalStore.ts":
/*!***************************************************!*\
  !*** ./src/whatsapp/multidevice/waSignalStore.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2021 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, { waSignalStore: 'waSignalStore' }, (m) => m.waSignalStore);


/***/ }),

/***/ "./src/whatsapp/stores.ts":
/*!********************************!*\
  !*** ./src/whatsapp/stores.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
const collections = __importStar(__webpack_require__(/*! ./collections */ "./src/whatsapp/collections/index.ts"));
const exportModule_1 = __webpack_require__(/*! ./exportModule */ "./src/whatsapp/exportModule.ts");
const storeNames = [
    'BlocklistStore',
    'BusinessCategoriesResultStore',
    'BusinessProfileStore',
    'CallStore',
    'CartStore',
    'CatalogStore',
    'ChatStore',
    'NewsletterStore',
    'ContactStore',
    'EmojiVariantStore',
    'GroupMetadataStore',
    'LabelStore',
    'MsgStore',
    'MsgInfoStore',
    'MuteStore',
    'OrderStore',
    'PinInChatStore',
    'PresenceStore',
    'ProductMessageListStore',
    'ProfilePicThumbStore',
    'QuickReplyStore',
    'ReactionsStore',
    'RecentEmojiStore',
    'StatusStore',
    'StatusV3Store',
    'StickerStore',
    'StickerSearchStore',
];
for (const name of storeNames) {
    const collectionName = name.replace('Store', 'Collection');
    (0, exportModule_1.exportModule)(exports, {
        [name]: ['default', collectionName],
    }, (m) => (m.default || m[collectionName]) instanceof
        collections[collectionName]);
}
(0, exportModule_1.exportModule)(exports, {
    RecentStickerStore: [
        'default',
        'RecentStickerCollectionMd',
        'RecentStickerCollection', // @whatsapp >= 2.2222.8
    ],
}, (m) => m.RecentStickerCollection);
(0, exportModule_1.exportModule)(exports, {
    StarredMsgStore: ['default', 'AllStarredMsgsCollection'],
}, (m) => m.StarredMsgCollection);
(0, exportModule_1.exportModule)(exports, {
    StickerPackStore: [
        'default',
        'StickerPackCollectionMd',
        'StickerPackCollection',
    ],
}, (m) => m.StickerPackCollection);
(0, exportModule_1.exportModule)(exports, {
    NewsletterStore: 'default.NewsletterCollection',
}, (m) => m.default.NewsletterCollection);
(0, exportModule_1.exportModule)(exports, {
    StatusStore: 'TextStatusCollection',
}, (m) => m.TextStatusCollection);
(0, exportModule_1.exportModule)(exports, {
    StatusV3Store: ['StatusV3Collection', 'StatusCollection'],
}, (m) => m.StatusV3CollectionImpl || m.StatusCollection);
(0, exportModule_1.exportModule)(exports, {
    BlocklistStore: ['default', 'BlocklistCollection'],
}, (m) => m.BlocklistCollection);
(0, exportModule_1.exportModule)(exports, {
    PresenceStore: ['PresenceCollectionImpl', 'PresenceCollection'],
}, (m) => m.PresenceCollectionImpl || m.PresenceCollection);
(0, exportModule_1.exportModule)(exports, {
    CartStore: ['CartCollectionImpl', 'CartCollection'],
}, (m) => m.CartCollectionImpl || m.CartCollection);
(0, exportModule_1.exportModule)(exports, {
    CatalogStore: ['CatalogCollectionImpl', 'CatalogCollection'],
}, (m) => m.CatalogCollectionImpl || m.CatalogCollection);
(0, exportModule_1.exportModule)(exports, {
    EmojiVariantStore: ['EmojiVariantCollectionImpl', 'EmojiVariantCollection'],
}, (m) => m.EmojiVariantCollectionImpl || m.EmojiVariantCollection);
(0, exportModule_1.exportModule)(exports, {
    LabelStore: ['LabelCollectionImpl', 'LabelCollection'],
}, (m) => m.LabelCollectionImpl || m.LabelCollection);
(0, exportModule_1.exportModule)(exports, {
    MsgInfoStore: ['MsgInfoCollectionImpl', 'MsgInfoCollection'],
}, (m) => m.MsgInfoCollectionImpl || m.MsgInfoCollection);
(0, exportModule_1.exportModule)(exports, {
    MuteStore: ['MuteCollectionImpl', 'MuteCollection'],
}, (m) => m.MuteCollectionImpl || m.MuteCollection);
(0, exportModule_1.exportModule)(exports, {
    OrderStore: ['OrderCollectionImpl', 'OrderCollection'],
}, (m) => m.OrderCollectionImpl || m.OrderCollection);
(0, exportModule_1.exportModule)(exports, {
    PinInChatStore: ['PinInChatCollectionImpl', 'PinInChatCollection'],
}, (m) => m.PinInChatCollectionImpl || m.PinInChatCollection);
(0, exportModule_1.exportModule)(exports, {
    ProductMessageListStore: [
        'ProductMessageListCollectionImpl',
        'ProductMessageListCollection',
    ],
}, (m) => m.ProductMessageListCollectionImpl || m.ProductMessageListCollection);
(0, exportModule_1.exportModule)(exports, {
    RecentEmojiStore: ['RecentEmojiCollectionImpl', 'RecentEmojiCollection'],
}, (m) => m.RecentEmojiCollectionImpl || m.RecentEmojiCollection);
(0, exportModule_1.exportModule)(exports, {
    StickerSearchStore: [
        'StickerSearchCollectionImpl',
        'StickerSearchCollection',
    ],
}, (m) => m.StickerSearchCollectionImpl || m.StickerSearchCollection);
(0, exportModule_1.exportModule)(exports, {
    BusinessProfileStore: [
        'BusinessProfileCollectionImpl',
        'BusinessProfileCollection',
    ],
}, (m) => m.BusinessProfileCollectionImpl || m.BusinessProfileCollection);
(0, exportModule_1.exportModule)(exports, {
    BotProfileStore: ['BotProfileCollection'],
}, (m) => m.BotProfileCollection);
(0, exportModule_1.exportModule)(exports, {
    ProfilePicThumbStore: [
        'ProfilePicThumbCollection',
        'ProfilePicThumbCollectionImpl',
    ],
}, (m) => m.ProfilePicThumbCollection || m.ProfilePicThumbCollectionImpl);
(0, exportModule_1.exportModule)(exports, {
    QuickReplyStore: ['QuickReplyCollectionImpl', 'QuickReplyCollection'],
}, (m) => m.QuickReplyCollectionImpl || m.QuickReplyCollection);
(0, exportModule_1.exportModule)(exports, {
    NoteStore: ['NoteCollection'],
}, (m) => m.NoteCollection);
(0, exportModule_1.exportModule)(exports, {
    ReactionsStore: ['ReactionsCollectionImpl', 'ReactionsCollection'],
}, (m) => m.ReactionsCollectionImpl || m.ReactionsCollection);
(0, exportModule_1.exportModule)(exports, {
    ChatStore: ['ChatCollection'],
}, (m) => m.ChatCollection);


/***/ }),

/***/ "./src/whatsapp/websocket/WapNode.ts":
/*!*******************************************!*\
  !*** ./src/whatsapp/websocket/WapNode.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    WapNode: 'WapNode',
}, (m) => m.WapNode);


/***/ }),

/***/ "./src/whatsapp/websocket/ensureE2ESessions.ts":
/*!*****************************************************!*\
  !*** ./src/whatsapp/websocket/ensureE2ESessions.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    ensureE2ESessions: 'ensureE2ESessions',
}, (m) => m.ensureE2ESessions);


/***/ }),

/***/ "./src/whatsapp/websocket/generateId.ts":
/*!**********************************************!*\
  !*** ./src/whatsapp/websocket/generateId.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    generateId: 'generateId',
}, (m) => m.generateId);


/***/ }),

/***/ "./src/whatsapp/websocket/index.ts":
/*!*****************************************!*\
  !*** ./src/whatsapp/websocket/index.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./ensureE2ESessions */ "./src/whatsapp/websocket/ensureE2ESessions.ts"), exports);
__exportStar(__webpack_require__(/*! ./generateId */ "./src/whatsapp/websocket/generateId.ts"), exports);
__exportStar(__webpack_require__(/*! ./sendSmaxStanza */ "./src/whatsapp/websocket/sendSmaxStanza.ts"), exports);
__exportStar(__webpack_require__(/*! ./smax */ "./src/whatsapp/websocket/smax.ts"), exports);
__exportStar(__webpack_require__(/*! ./startWebComms */ "./src/whatsapp/websocket/startWebComms.ts"), exports);
__exportStar(__webpack_require__(/*! ./stopComms */ "./src/whatsapp/websocket/stopComms.ts"), exports);
__exportStar(__webpack_require__(/*! ./wap */ "./src/whatsapp/websocket/wap.ts"), exports);
__exportStar(__webpack_require__(/*! ./WapNode */ "./src/whatsapp/websocket/WapNode.ts"), exports);


/***/ }),

/***/ "./src/whatsapp/websocket/sendSmaxStanza.ts":
/*!**************************************************!*\
  !*** ./src/whatsapp/websocket/sendSmaxStanza.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    sendSmaxStanza: 'sendSmaxStanza',
}, (m) => m.sendSmaxStanza);


/***/ }),

/***/ "./src/whatsapp/websocket/smax.ts":
/*!****************************************!*\
  !*** ./src/whatsapp/websocket/smax.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    smax: 'smax',
}, (m) => m.smax);


/***/ }),

/***/ "./src/whatsapp/websocket/startWebComms.ts":
/*!*************************************************!*\
  !*** ./src/whatsapp/websocket/startWebComms.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    startWebComms: 'startWebComms',
}, (m) => m.startWebComms);


/***/ }),

/***/ "./src/whatsapp/websocket/stopComms.ts":
/*!*********************************************!*\
  !*** ./src/whatsapp/websocket/stopComms.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../../whatsapp/exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    stopComms: 'stopComms',
    startHandlingRequests: 'startHandlingRequests',
}, (m) => m.stopComms);


/***/ }),

/***/ "./src/whatsapp/websocket/wap.ts":
/*!***************************************!*\
  !*** ./src/whatsapp/websocket/wap.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/*!
 * Copyright 2023 WPPConnect Team
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", ({ value: true }));
const exportModule_1 = __webpack_require__(/*! ../exportModule */ "./src/whatsapp/exportModule.ts");
(0, exportModule_1.exportModule)(exports, {
    wap: 'wap',
}, (m) => m.wap);


/***/ }),

/***/ "?15b5":
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/***/ (() => {

/* (ignored) */

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	self.WPP = __webpack_exports__;
/******/ 	
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsd0NBQXdDLFNBQVM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWMsaUJBQWlCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsU0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaURBQWlELEVBQUU7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZUFBZTtBQUN4QztBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSx5QkFBeUIsUUFBUTtBQUNqQztBQUNBLHNCQUFzQixlQUFlO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFlBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixTQUFTO0FBQy9CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsU0FBUztBQUMvQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IsU0FBUztBQUMvQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0IsU0FBUztBQUM3QjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsaUJBQWlCO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBLHFCQUFxQixXQUFXLEdBQUcsSUFBSTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBLGdCQUFnQixXQUFXLEdBQUcsSUFBSSxLQUFLLGFBQWE7QUFDcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixNQUFNO0FBQ3RCOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtQkFBbUIsS0FBSyxtREFBbUQsY0FBYztBQUN6RixHQUFHO0FBQ0g7QUFDQTtBQUNBLCtCQUErQixJQUFJO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsTUFBTSxhQUFhLFNBQVM7QUFDdEQ7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxnQkFBZ0I7QUFDekIsY0FBYyxvQkFBb0IsRUFBRSxJQUFJO0FBQ3hDO0FBQ0EsWUFBWSxnQkFBZ0IsRUFBRSxJQUFJO0FBQ2xDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixHQUFHLFNBQVMsR0FBRyxLQUFLLHFCQUFxQixFQUFFLEVBQUU7QUFDcEUsUUFBUTtBQUNSLHlCQUF5QixHQUFHLEtBQUsseUJBQXlCLEVBQUUsRUFBRTtBQUM5RCxtQkFBbUIseUJBQXlCLEVBQUUsRUFBRTtBQUNoRDtBQUNBLE1BQU07QUFDTixvQkFBb0IsSUFBSSxFQUFFLEdBQUcsU0FBUyxJQUFJLEVBQUUsRUFBRTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQ0FBMEMsY0FBYyxTQUFTLE9BQU87QUFDeEU7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsWUFBWTtBQUM5Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLFlBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixRQUFRO0FBQzFCO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN6akV1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQyxxQ0FBcUM7QUFDckMscUNBQXFDO0FBQ3JDLHNDQUFzQztBQUN0QyxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isb0VBQWU7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsVUFBVTtBQUN4RjtBQUNBO0FBQ0EsNkRBQTZELDJCQUEyQjtBQUN4RjtBQUNBO0FBQ0EsbUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUMzQytEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGVBQWUsMkRBQWdCO0FBQy9CLGVBQWUsMkRBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywwREFBZTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMERBQWU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDNUJ1QztBQUNnQjtBQUNaO0FBQ2M7QUFDekQsaUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnVDO0FBQ3dCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyxpQ0FBaUM7QUFDakM7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxHQUFHLElBQUksRUFBRTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixHQUFHO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9EQUFPO0FBQ3RCO0FBQ0EsK0JBQStCLDJEQUFnQjtBQUMvQywrQkFBK0IsMkRBQWdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMERBQWU7QUFDM0I7QUFDQSxZQUFZLDBEQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwwREFBZTtBQUN2QjtBQUNBO0FBQ0EsUUFBUSwwREFBZTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxxQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqRU87QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsUUFBUTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxvQkFBb0Isa0NBQWtDO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3BDb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQix5QkFBeUI7QUFDekIsb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDTyx1RkFBdUYsNkNBQU07QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQix5QkFBeUI7QUFDekIsb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDTztBQUNQO0FBQ0Esb0M7Ozs7Ozs7Ozs7QUM5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRSxLQUE0RDtBQUM5RCxFQUFFLENBQ3lHO0FBQzNHLENBQUMsdUJBQXVCOztBQUV4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNCQUFzQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0I7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsMENBQTBDLGdCQUFnQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyw4RUFBOEU7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUJBQXVCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDhGQUE4RjtBQUNoSCxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsZUFBZSwwQkFBMEI7QUFDekMsZUFBZSxtQkFBbUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCxlQUFlLDBCQUEwQjtBQUN6QyxlQUFlLG1CQUFtQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLGVBQWUsTUFBTTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLEdBQUc7QUFDaEIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxHQUFHO0FBQ2hCLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsVUFBVTtBQUN2QixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxhQUFhO0FBQzFCLGFBQWEsUUFBUTtBQUNyQixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0Qzs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxhQUFhO0FBQzFCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsYUFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxHQUFHOztBQUV6QztBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLGFBQWE7QUFDMUIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSxhQUFhLGFBQWE7QUFDMUIsYUFBYSxPQUFPO0FBQ3BCLGVBQWUsYUFBYTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxXQUFXO0FBQzFCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsV0FBVztBQUNqRTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLFlBQVk7QUFDL0I7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHOztBQUVIOztBQUVBLENBQUM7Ozs7Ozs7Ozs7O0FDdGlDRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCO0FBQ2xCLFlBQVk7QUFDWixZQUFZO0FBQ1osaUJBQWlCO0FBQ2pCLGVBQWU7QUFDZixlQUFlO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUEsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDBDQUEwQzs7QUFFMUM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixZQUFZO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZOztBQUVaO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxzQ0FBc0MsT0FBTztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFFBQVE7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0JB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Q0E7QUFDQTtBQUNBLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLE1BQU07QUFDTixpQkFBaUI7QUFDakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLG1CQUFtQjtBQUNuQixHQUFHOztBQUVILE1BQU0sSUFBMEM7QUFDaEQ7QUFDQSxJQUFJLG1DQUFPO0FBQ1g7QUFDQSxLQUFLO0FBQUEsa0dBQUM7QUFDTixJQUFJLEtBQUs7QUFBQSxnQkFRTjtBQUNILENBQUM7Ozs7Ozs7Ozs7Ozs7QUM1bERZO0FBQ2IsY0FBYyxtQkFBTyxDQUFDLDREQUFhO0FBQ25DLGdCQUFnQixtQkFBTyxDQUFDLDREQUFrQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsRUFBRSxtQkFBTyxDQUFDLGdEQUFRO0FBQ3BCLGtCQUFrQixtQkFBTyxDQUFDLDBEQUFhOztBQUV2QywyQkFBMkI7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNFQUFzRSxNQUFNO0FBQzVFLDhIQUE4SCxhQUFhO0FBQzNJOztBQUVBLGlDQUFpQyxNQUFNLFdBQVcsTUFBTTs7QUFFeEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQ0FBcUMsbUNBQW1DOztBQUV4RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQ0FBc0MsNEJBQTRCOztBQUVsRSxnQ0FBZ0MsVUFBVTtBQUMxQywwQkFBMEIsV0FBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUNBQW1DO0FBQ25DOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBdUIsVUFBVTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMEJBQTBCLFVBQVU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMEJBQTBCLFVBQVU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQSx3Q0FBd0MsV0FBVzs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQ0FBMEMsZ0JBQWdCOztBQUUxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE1BQU07QUFDckI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7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QTtBQUNBOztBQUVBO0FBQ0EsdUNBQXVDLFVBQVU7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0IsVUFBVTtBQUNsQyx3QkFBd0IsVUFBVTtBQUNsQyx3QkFBd0IsVUFBVTtBQUNsQyx3QkFBd0IsVUFBVTtBQUNsQyx3QkFBd0IsVUFBVTtBQUNsQyx3QkFBd0IsVUFBVTtBQUNsQyx3QkFBd0IsVUFBVTtBQUNsQyx3QkFBd0IsVUFBVTtBQUNsQyx3QkFBd0IsVUFBVTtBQUNsQyx3QkFBd0IsVUFBVTtBQUNsQyx3QkFBd0IsVUFBVTtBQUNsQyx3QkFBd0IsVUFBVTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHdCQUF3QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLHdCQUF3QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSw2QkFBNkI7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1DQUFtQyxVQUFVO0FBQzdDLG1DQUFtQyxVQUFVO0FBQzdDLG1DQUFtQyxVQUFVO0FBQzdDLG1DQUFtQyxVQUFVO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsTUFBTTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsTUFBTTtBQUN6Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrR0FBa0csVUFBVTtBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNGQUFzRixVQUFVO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFDQUFxQyxnRUFBZ0U7O0FBRXJHOztBQUVBO0FBQ0EsNEJBQTRCLFVBQVU7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQ0FBZ0MsVUFBVTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrREFBK0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFD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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QixHQUFHLGlCQUFpQixHQUFHLGlCQUFpQixHQUFHLGlCQUFpQixHQUFHLGlCQUFpQixHQUFHLGlCQUFpQixHQUFHLGFBQWE7QUFDN21CLGdCQUFnQixtQkFBTyxDQUFDLGdEQUFTO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE1BQU07QUFDckI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE1BQU07QUFDckI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixXQUFXO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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b2R1bGVzL2Jhc2U2NC1qcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9XUFAvLi9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovL1dQUC8uL25vZGVfbW9kdWxlcy9jb21wYXJlLXZlcnNpb25zL2xpYi9lc20vY29tcGFyZS5qcyIsIndlYnBhY2s6Ly9XUFAvLi9ub2RlX21vZHVsZXMvY29tcGFyZS12ZXJzaW9ucy9saWIvZXNtL2NvbXBhcmVWZXJzaW9ucy5qcyIsIndlYnBhY2s6Ly9XUFAvLi9ub2RlX21vZHVsZXMvY29tcGFyZS12ZXJzaW9ucy9saWIvZXNtL2luZGV4LmpzIiwid2VicGFjazovL1dQUC8uL25vZGVfbW9kdWxlcy9jb21wYXJlLXZlcnNpb25zL2xpYi9lc20vc2F0aXNmaWVzLmpzIiwid2VicGFjazovL1dQUC8uL25vZGVfbW9kdWxlcy9jb21wYXJlLXZlcnNpb25zL2xpYi9lc20vdXRpbHMuanMiLCJ3ZWJwYWNrOi8vV1BQLy4vbm9kZV9tb2R1bGVzL2NvbXBhcmUtdmVyc2lvbnMvbGliL2VzbS92YWxpZGF0ZS5qcyIsIndlYnBhY2s6Ly9XUFAvLi9ub2RlX21vZHVsZXMvY29tcHJlc3NvcmpzL2Rpc3QvY29tcHJlc3Nvci5qcyIsIndlYnBhY2s6Ly9XUFAvLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vV1BQLy4vbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9jb21tb24uanMiLCJ3ZWJwYWNrOi8vV1BQLy4vbm9kZV9tb2R1bGVzL2V2ZW50ZW1pdHRlcjIvbGliL2V2ZW50ZW1pdHRlcjIuanMiLCJ3ZWJwYWNrOi8vV1BQLy4vbm9kZV9tb2R1bGVzL2ZpbGUtdHlwZS9jb3JlLmpzIiwid2VicGFjazovL1dQUC8uL25vZGVfbW9kdWxlcy9maWxlLXR5cGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vV1BQLy4vbm9kZV9tb2R1bGVzL2ZpbGUtdHlwZS9zdXBwb3J0ZWQuanMiLCJ3ZWJwYWNrOi8vV1BQLy4vbm9kZV9tb2R1bGVzL2ZpbGUtdHlwZS91dGlsLmpzIiwid2VicGFjazovL1dQUC8uL25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwid2VicGFjazovL1dQUC8uL25vZGVfbW9kdWxlcy9tcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9XUFAvLi9ub2RlX21vZHVsZXMvcGFyc2UtZGF0YS11cmwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vV1BQLy4vbm9kZV9tb2R1bGVzL3BlZWstcmVhZGFibGUvbGliL0RlZmVycmVkLmpzIiwid2VicGFjazovL1dQUC8uL25vZGVfbW9kdWxlcy9wZWVrLXJlYWRhYmxlL2xpYi9FbmRPZkZpbGVTdHJlYW0uanMiLCJ3ZWJwYWNrOi8vV1BQLy4vbm9kZV9tb2R1bGVzL3BlZWstcmVhZGFibGUvbGliL1N0cmVhbVJlYWRlci5qcyIsIndlYnBhY2s6Ly9XUFAvLi9ub2RlX21vZHVsZXMvcGVlay1yZWFkYWJsZS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vV1BQLy4vbm9kZV9tb2R1bGVzL3N0cnRvazMvbGliL0Fic3RyYWN0VG9rZW5pemVyLmpzIiwid2VicGFjazovL1dQUC8uL25vZGVfbW9kdWxlcy9zdHJ0b2szL2xpYi9CdWZmZXJUb2tlbml6ZXIuanMiLCJ3ZWJwYWNrOi8vV1BQLy4vbm9kZV9tb2R1bGVzL3N0cnRvazMvbGliL0ZpbGVUb2tlbml6ZXIuanMiLCJ3ZWJwYWNrOi8vV1BQLy4vbm9kZV9tb2R1bGVzL3N0cnRvazMvbGliL0ZzUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9XUFAvLi9ub2RlX21vZHVsZXMvc3RydG9rMy9saWIvUmVhZFN0cmVhbVRva2VuaXplci5qcyIsIndlYnBhY2s6Ly9XUFAvLi9ub2RlX21vZHVsZXMvc3RydG9rMy9saWIvY29yZS5qcyIsIndlYnBhY2s6Ly9XUFAvLi9ub2RlX21vZHVsZXMvc3RydG9rMy9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vV1BQLy4vbm9kZV9tb2R1bGVzL3Rva2VuLXR5cGVzL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9XUFAvLi9ub2RlX21vZHVsZXMvdHlwZXNjcmlwdC1kZWJvdW5jZS1kZWNvcmF0b3IvaW5kZXgubWluLmpzIiwid2VicGFjazovL1dQUC8uL25vZGVfbW9kdWxlcy92YWxpZC1kYXRhLXVybC9pbmRleC5qcyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvYXNzZXJ0L2Fzc2VydENoYXQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Fzc2VydC9hc3NlcnRDb2xvci50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvYXNzZXJ0L2Fzc2VydElzQnVzaW5lc3MudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Fzc2VydC9hc3NlcnRQcm9kdWN0LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9hc3NlcnQvYXNzZXJ0V2lkLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9hc3NlcnQvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Jsb2NrbGlzdC9ldmVudHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Jsb2NrbGlzdC9ldmVudHMvcmVnaXN0ZXJTeW5jZWRFdmVudC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvYmxvY2tsaXN0L2Z1bmN0aW9ucy9hbGwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Jsb2NrbGlzdC9mdW5jdGlvbnMvYmxvY2tDb250YWN0LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ibG9ja2xpc3QvZnVuY3Rpb25zL2luZGV4LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ibG9ja2xpc3QvZnVuY3Rpb25zL2lzQmxvY2tlZC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvYmxvY2tsaXN0L2Z1bmN0aW9ucy91bmJsb2NrQ29udGFjdC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvYmxvY2tsaXN0L2luZGV4LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jYWxsL2V2ZW50cy9pbmRleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2FsbC9ldmVudHMvcmVnaXN0ZXJJbmNvbWluZ0NhbGxFdmVudC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2FsbC9mdW5jdGlvbnMvYWNjZXB0LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jYWxsL2Z1bmN0aW9ucy9lbmQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NhbGwvZnVuY3Rpb25zL2luZGV4LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jYWxsL2Z1bmN0aW9ucy9vZmZlci50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2FsbC9mdW5jdGlvbnMvcGFyc2VSZWxheVJlc3BvbnNlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jYWxsL2Z1bmN0aW9ucy9wcmVwYXJlRGVzdGluYXRpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NhbGwvZnVuY3Rpb25zL3JlamVjdC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2FsbC9pbmRleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2FydC9mdW5jdGlvbnMvYWRkLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jYXJ0L2Z1bmN0aW9ucy9jbGVhci50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2FydC9mdW5jdGlvbnMvZ2V0LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jYXJ0L2Z1bmN0aW9ucy9nZXRUaHVtYkZyb21DYXJ0LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jYXJ0L2Z1bmN0aW9ucy9pbmRleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2FydC9mdW5jdGlvbnMvcmVtb3ZlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jYXJ0L2Z1bmN0aW9ucy9zdWJtaXQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NhcnQvZnVuY3Rpb25zL3VwZGF0ZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2FydC9pbmRleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2F0YWxvZy9mdW5jdGlvbnMvYWRkUHJvZHVjdEltYWdlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jYXRhbG9nL2Z1bmN0aW9ucy9jaGFuZ2VQcm9kdWN0SW1hZ2UudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NhdGFsb2cvZnVuY3Rpb25zL2NyZWF0ZUNvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NhdGFsb2cvZnVuY3Rpb25zL2NyZWF0ZVByb2R1Y3QudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NhdGFsb2cvZnVuY3Rpb25zL2RlbGV0ZUNvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NhdGFsb2cvZnVuY3Rpb25zL2RlbGV0ZVByb2R1Y3QudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NhdGFsb2cvZnVuY3Rpb25zL2VkaXRDb2xsZWN0aW9uLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jYXRhbG9nL2Z1bmN0aW9ucy9lZGl0UHJvZHVjdC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2F0YWxvZy9mdW5jdGlvbnMvZ2V0Q29sbGVjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NhdGFsb2cvZnVuY3Rpb25zL2dldE15Q2F0YWxvZy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2F0YWxvZy9mdW5jdGlvbnMvZ2V0UHJvZHVjdEJ5SWQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NhdGFsb2cvZnVuY3Rpb25zL2dldFByb2R1Y3RzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jYXRhbG9nL2Z1bmN0aW9ucy9pbmRleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2F0YWxvZy9mdW5jdGlvbnMvcmVtb3ZlUHJvZHVjdEltYWdlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jYXRhbG9nL2Z1bmN0aW9ucy9zZXRQcm9kdWN0VmlzaWJpbGl0eS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2F0YWxvZy9mdW5jdGlvbnMvdXBkYXRlQ2FydEVuYWJsZWQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NhdGFsb2cvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZGVmYXVsdFNlbmRNZXNzYWdlT3B0aW9ucy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9ldmVudHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZXZlbnRzL3JlZ2lzdGVyQWNrTWVzc2FnZUV2ZW50LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2V2ZW50cy9yZWdpc3RlckFjdGl2ZUNoYXRFdmVudC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9ldmVudHMvcmVnaXN0ZXJFZGl0ZWRNZXNzYWdlRXZlbnQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZXZlbnRzL3JlZ2lzdGVyTGFiZWxFdmVudC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9ldmVudHMvcmVnaXN0ZXJMaXZlTG9jYXRpb25VcGRhdGVFdmVudC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9ldmVudHMvcmVnaXN0ZXJOZXdNZXNzYWdlRXZlbnQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZXZlbnRzL3JlZ2lzdGVyUG9sbEV2ZW50LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2V2ZW50cy9yZWdpc3RlclByZXNlbmNlQ2hhbmdlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2V2ZW50cy9yZWdpc3RlclJlYWN0aW9uc0V2ZW50LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2V2ZW50cy9yZWdpc3RlclJldm9rZU1lc3NhZ2VFdmVudC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9ldmVudHMvcmVnaXN0ZXJVbnJlYWRDb3VudEV2ZW50LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9hcmNoaXZlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9idXR0b25zUGFyc2VyLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9jYW5NYXJrUGxheWVkLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9jYW5NdXRlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9jYW5SZXBseS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvY2xlYXIudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL2Nsb3NlQ2hhdC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvZGVsZXRlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9kZWxldGVNZXNzYWdlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9kb3dubG9hZE1lZGlhLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9lZGl0TWVzc2FnZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvZmluZC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvZm9yd2FyZE1lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL2ZvcndhcmRNZXNzYWdlcy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvZ2VuZXJhdGVNZXNzYWdlSUQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL2dldC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvZ2V0QWN0aXZlQ2hhdC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvZ2V0TGFzdFNlZW4udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL2dldE1lc3NhZ2VBQ0sudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL2dldE1lc3NhZ2VCeUlkLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9nZXRNZXNzYWdlcy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvZ2V0Tm90ZXMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL2dldFBsYXRmb3JtRnJvbU1lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL2dldFF1b3RlZE1zZy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvZ2V0UXVvdGVkTXNnS2V5LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9nZXRSZWFjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL2dldFVucmVhZENoYXRzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9nZXRWb3Rlcy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL2tlZXBNZXNzYWdlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9saXN0LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9tYXJrSXNDb21wb3NpbmcudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL21hcmtJc1BhdXNlZC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvbWFya0lzUmVhZC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvbWFya0lzUmVjb3JkaW5nLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9tYXJrSXNVbnJlYWQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL21hcmtQbGF5ZWQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL211dGUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL29wZW5DaGF0QXQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL29wZW5DaGF0Qm90dG9tLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9vcGVuQ2hhdEZyb21VbnJlYWQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL3Bpbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvcGluTXNnLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9wcmVwYXJlQXVkaW9XYXZlZm9ybS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvcHJlcGFyZUxpbmtQcmV2aWV3LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9wcmVwYXJlTWVzc2FnZUJ1dHRvbnMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL3ByZXBhcmVSYXdNZXNzYWdlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9yZXF1ZXN0UGhvbmVOdW1iZXIudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL3NlbmRDYXRhbG9nTWVzc2FnZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvc2VuZENoYXJnZU1lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL3NlbmRDcmVhdGVQb2xsTWVzc2FnZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvc2VuZEV2ZW50TWVzc2FnZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvc2VuZEZpbGVNZXNzYWdlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9zZW5kR3JvdXBJbnZpdGVNZXNzYWdlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9zZW5kTGlzdE1lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL3NlbmRMb2NhdGlvbk1lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL3NlbmRQaXhLZXlNZXNzYWdlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9zZW5kUmF3TWVzc2FnZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvc2VuZFJlYWN0aW9uVG9NZXNzYWdlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9zZW5kU2NoZWR1bGVkQ2FsbE1lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL3NlbmRUZXh0TWVzc2FnZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvc2VuZFZDYXJkQ29udGFjdE1lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL3NldENoYXRMaXN0LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9zZXRJbnB1dFRleHQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NoYXQvZnVuY3Rpb25zL3NldE5vdGVzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2Z1bmN0aW9ucy9zdGFyTWVzc2FnZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY2hhdC9mdW5jdGlvbnMvdW5tdXRlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L2luZGV4LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L3BhdGNoLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jaGF0L3R5cGVzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jb21tdW5pdHkvZnVuY3Rpb25zL2FkZFN1Ymdyb3Vwcy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29tbXVuaXR5L2Z1bmN0aW9ucy9jcmVhdGUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NvbW11bml0eS9mdW5jdGlvbnMvZGVhY3RpdmF0ZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29tbXVuaXR5L2Z1bmN0aW9ucy9kZW1vdGVQYXJ0aWNpcGFudHMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NvbW11bml0eS9mdW5jdGlvbnMvZ2V0QW5ub3VuY2VtZW50R3JvdXAudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NvbW11bml0eS9mdW5jdGlvbnMvZ2V0UGFydGljaXBhbnRzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jb21tdW5pdHkvZnVuY3Rpb25zL2dldFN1Ymdyb3Vwcy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29tbXVuaXR5L2Z1bmN0aW9ucy9pbmRleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29tbXVuaXR5L2Z1bmN0aW9ucy9wcm9tb3RlUGFydGljaXBhbnRzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jb21tdW5pdHkvZnVuY3Rpb25zL3JlbW92ZVN1Ymdyb3Vwcy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29tbXVuaXR5L2luZGV4LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jb25maWcvZGVmYXVsdENvbmZpZy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29uZmlnL2luZGV4LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jb25uL2V2ZW50cy9pbmRleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29ubi9ldmVudHMvcmVnaXN0ZXJBdXRoQ29kZUNoYW5nZUV2ZW50LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jb25uL2V2ZW50cy9yZWdpc3RlckF1dGhlbnRpY2F0ZWRFdmVudC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29ubi9ldmVudHMvcmVnaXN0ZXJMb2dvdXRFdmVudC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29ubi9ldmVudHMvcmVnaXN0ZXJMb2dvdXRSZWFzb25FdmVudC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29ubi9ldmVudHMvcmVnaXN0ZXJNYWluSW5pdC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29ubi9ldmVudHMvcmVnaXN0ZXJNYWluTG9hZGVkRXZlbnQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Nvbm4vZXZlbnRzL3JlZ2lzdGVyTWFpblJlYWR5RXZlbnQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Nvbm4vZXZlbnRzL3JlZ2lzdGVyTmVlZHNVcGRhdGVFdmVudC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29ubi9ldmVudHMvcmVnaXN0ZXJPbmxpbmVFdmVudC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29ubi9ldmVudHMvcmVnaXN0ZXJRUkNvZGVJZGxlRXZlbnQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Nvbm4vZXZlbnRzL3JlZ2lzdGVyUmVxdWlyZUF1dGhFdmVudC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29ubi9mdW5jdGlvbnMvY2hhbmdlRW52aXJvbWVudERldmljZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29ubi9mdW5jdGlvbnMvZ2VuTGlua0RldmljZUNvZGVGb3JQaG9uZU51bWJlci50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29ubi9mdW5jdGlvbnMvZ2V0QXV0aENvZGUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Nvbm4vZnVuY3Rpb25zL2dldEhpc3RvcnlTeW5jUHJvZ3Jlc3MudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Nvbm4vZnVuY3Rpb25zL2dldE15RGV2aWNlSWQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Nvbm4vZnVuY3Rpb25zL2dldE15VXNlcklkLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jb25uL2Z1bmN0aW9ucy9nZXRNeVVzZXJXaWQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Nvbm4vZnVuY3Rpb25zL2dldFBsYXRmb3JtLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jb25uL2Z1bmN0aW9ucy9pbmRleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29ubi9mdW5jdGlvbnMvaXNBdXRoZW50aWNhdGVkLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jb25uL2Z1bmN0aW9ucy9pc0lkbGUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Nvbm4vZnVuY3Rpb25zL2lzTWFpbkluaXQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Nvbm4vZnVuY3Rpb25zL2lzTWFpbkxvYWRlZC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29ubi9mdW5jdGlvbnMvaXNNYWluUmVhZHkudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Nvbm4vZnVuY3Rpb25zL2lzTXVsdGlEZXZpY2UudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Nvbm4vZnVuY3Rpb25zL2lzT25saW5lLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jb25uL2Z1bmN0aW9ucy9pc1JlZ2lzdGVyZWQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Nvbm4vZnVuY3Rpb25zL2pvaW5XZWJCZXRhLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jb25uL2Z1bmN0aW9ucy9sb2dvdXQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Nvbm4vZnVuY3Rpb25zL21hcmtBdmFpbGFibGUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Nvbm4vZnVuY3Rpb25zL25lZWRzVXBkYXRlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jb25uL2Z1bmN0aW9ucy9yZWZyZXNoUVIudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Nvbm4vZnVuY3Rpb25zL3NldEtlZXBBbGl2ZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29ubi9mdW5jdGlvbnMvc2V0TGltaXQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2Nvbm4vZnVuY3Rpb25zL3NldE11bHRpRGV2aWNlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jb25uL2luZGV4LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jb25uL3BhdGNoLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jb25uL3R5cGVzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jb250YWN0L2Z1bmN0aW9ucy9nZXQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NvbnRhY3QvZnVuY3Rpb25zL2dldEJ1c2luZXNzUHJvZmlsZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29udGFjdC9mdW5jdGlvbnMvZ2V0Q29tbW9uR3JvdXBzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jb250YWN0L2Z1bmN0aW9ucy9nZXRQcm9maWxlUGljdHVyZVVybC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29udGFjdC9mdW5jdGlvbnMvZ2V0U3RhdHVzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9jb250YWN0L2Z1bmN0aW9ucy9pbmRleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29udGFjdC9mdW5jdGlvbnMvbGlzdC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29udGFjdC9mdW5jdGlvbnMvcXVlcnlFeGlzdHMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NvbnRhY3QvZnVuY3Rpb25zL3JlbW92ZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29udGFjdC9mdW5jdGlvbnMvc2F2ZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvY29udGFjdC9mdW5jdGlvbnMvc3Vic2NyaWJlUHJlc2VuY2UudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NvbnRhY3QvZnVuY3Rpb25zL3Vuc3Vic2NyaWJlUHJlc2VuY2UudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NvbnRhY3QvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2NvbnRhY3QvcGF0Y2gudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2RldmljZU5hbWUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2VudW1zLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ldmVudEVtaXR0ZXIvZXZlbnRFbWl0dGVyLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ldmVudEVtaXR0ZXIvZXZlbnRUeXBlcy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvZXZlbnRFbWl0dGVyL2luZGV4LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ncm91cC9ldmVudHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2dyb3VwL2V2ZW50cy9yZWdpc3RlclBhcnRpY2lwYW50c0NoYW5nZWRFdmVudC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvZ3JvdXAvZnVuY3Rpb25zL2FkZFBhcnRpY2lwYW50cy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvZ3JvdXAvZnVuY3Rpb25zL2FwcHJvdmUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2dyb3VwL2Z1bmN0aW9ucy9jYW5BZGQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2dyb3VwL2Z1bmN0aW9ucy9jYW5EZW1vdGUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2dyb3VwL2Z1bmN0aW9ucy9jYW5Qcm9tb3RlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ncm91cC9mdW5jdGlvbnMvY2FuUmVtb3ZlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ncm91cC9mdW5jdGlvbnMvY3JlYXRlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ncm91cC9mdW5jdGlvbnMvZGVtb3RlUGFydGljaXBhbnRzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ncm91cC9mdW5jdGlvbnMvZW5zdXJlR3JvdXAudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2dyb3VwL2Z1bmN0aW9ucy9lbnN1cmVHcm91cEFuZFBhcnRpY2lwYW50cy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvZ3JvdXAvZnVuY3Rpb25zL2dldEFsbEdyb3Vwcy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvZ3JvdXAvZnVuY3Rpb25zL2dldEdyb3VwSW5mb0Zyb21JbnZpdGVDb2RlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ncm91cC9mdW5jdGlvbnMvZ2V0R3JvdXBTaXplTGltaXQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2dyb3VwL2Z1bmN0aW9ucy9nZXRJbnZpdGVDb2RlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ncm91cC9mdW5jdGlvbnMvZ2V0TWVtYmVyc2hpcFJlcXVlc3RzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ncm91cC9mdW5jdGlvbnMvZ2V0UGFydGljaXBhbnRzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ncm91cC9mdW5jdGlvbnMvZ2V0UGFzdFBhcnRpY2lwYW50cy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvZ3JvdXAvZnVuY3Rpb25zL2lBbUFkbWluLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ncm91cC9mdW5jdGlvbnMvaUFtTWVtYmVyLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ncm91cC9mdW5jdGlvbnMvaUFtUmVzdHJpY3RlZE1lbWJlci50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvZ3JvdXAvZnVuY3Rpb25zL2lBbVN1cGVyQWRtaW4udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2dyb3VwL2Z1bmN0aW9ucy9pbmRleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvZ3JvdXAvZnVuY3Rpb25zL2pvaW4udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2dyb3VwL2Z1bmN0aW9ucy9sZWF2ZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvZ3JvdXAvZnVuY3Rpb25zL3Byb21vdGVQYXJ0aWNpcGFudHMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2dyb3VwL2Z1bmN0aW9ucy9yZWplY3QudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2dyb3VwL2Z1bmN0aW9ucy9yZW1vdmVJY29uLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ncm91cC9mdW5jdGlvbnMvcmVtb3ZlUGFydGljaXBhbnRzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ncm91cC9mdW5jdGlvbnMvcmV2b2tlSW52aXRlQ29kZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvZ3JvdXAvZnVuY3Rpb25zL3NldERlc2NyaXB0aW9uLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ncm91cC9mdW5jdGlvbnMvc2V0SWNvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvZ3JvdXAvZnVuY3Rpb25zL3NldFByb3BlcnR5LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9ncm91cC9mdW5jdGlvbnMvc2V0U3ViamVjdC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvZ3JvdXAvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2d0YWcvVHJhY2tlci50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvZ3RhZy9pbmRleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2xhYmVscy9mdW5jdGlvbnMvYWRkTmV3TGFiZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2xhYmVscy9mdW5jdGlvbnMvYWRkT3JSZW1vdmVMYWJlbHMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2xhYmVscy9mdW5jdGlvbnMvY29sb3JJc0luTGFiZWxQYWxldHRlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9sYWJlbHMvZnVuY3Rpb25zL2RlbGV0ZUFsbExhYmVscy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvbGFiZWxzL2Z1bmN0aW9ucy9kZWxldGVMYWJlbC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvbGFiZWxzL2Z1bmN0aW9ucy9lZGl0TGFiZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2xhYmVscy9mdW5jdGlvbnMvZ2V0QWxsTGFiZWxzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9sYWJlbHMvZnVuY3Rpb25zL2dldExhYmVsQnlJZC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvbGFiZWxzL2Z1bmN0aW9ucy9nZXRMYWJlbENvbG9yUGFsZXR0ZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvbGFiZWxzL2Z1bmN0aW9ucy9nZXROZXdMYWJlbENvbG9yLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9sYWJlbHMvZnVuY3Rpb25zL2luZGV4LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9sYWJlbHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL2xhYmVscy9wYXRjaC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvbGFiZWxzL3R5cGVzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9uZXdzbGV0dGVyL2Z1bmN0aW9ucy9jcmVhdGUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL25ld3NsZXR0ZXIvZnVuY3Rpb25zL2Rlc3Ryb3kudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL25ld3NsZXR0ZXIvZnVuY3Rpb25zL2VkaXQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL25ld3NsZXR0ZXIvZnVuY3Rpb25zL2Vuc3VyZU5ld3NsZXR0ZXIudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL25ld3NsZXR0ZXIvZnVuY3Rpb25zL2dldFN1YnNjcmliZXJzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9uZXdzbGV0dGVyL2Z1bmN0aW9ucy9pbmRleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvbmV3c2xldHRlci9mdW5jdGlvbnMvbXV0ZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvbmV3c2xldHRlci9pbmRleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvb3JkZXIvZXZlbnRzL2luZGV4LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9vcmRlci9ldmVudHMvcmVnaXN0ZXJVcGRhdGVPcmRlckV2ZW50LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9vcmRlci9mdW5jdGlvbnMvZ2V0LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9vcmRlci9mdW5jdGlvbnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL29yZGVyL2luZGV4LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9wcml2YWN5L2Z1bmN0aW9ucy9nZXQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3ByaXZhY3kvZnVuY3Rpb25zL2dldERpc2FsbG93ZWRMaXN0LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9wcml2YWN5L2Z1bmN0aW9ucy9pbmRleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvcHJpdmFjeS9mdW5jdGlvbnMvcHJlcGFyZURpc2FsbG93ZWRMaXN0LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9wcml2YWN5L2Z1bmN0aW9ucy9zZXRBYm91dC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvcHJpdmFjeS9mdW5jdGlvbnMvc2V0QWRkR3JvdXAudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3ByaXZhY3kvZnVuY3Rpb25zL3NldExhc3RTZWVuLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9wcml2YWN5L2Z1bmN0aW9ucy9zZXRPbmxpbmUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3ByaXZhY3kvZnVuY3Rpb25zL3NldFByb2ZpbGVQaWMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3ByaXZhY3kvZnVuY3Rpb25zL3NldFJlYWRSZWNlaXB0cy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvcHJpdmFjeS9mdW5jdGlvbnMvc2V0U3RhdHVzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9wcml2YWN5L2luZGV4LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9wcm9maWxlL2Z1bmN0aW9ucy9lZGl0QnVzaW5lc3NQcm9maWxlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9wcm9maWxlL2Z1bmN0aW9ucy9nZXRNeVByb2ZpbGVOYW1lLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9wcm9maWxlL2Z1bmN0aW9ucy9nZXRNeVByb2ZpbGVQaWN0dXJlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9wcm9maWxlL2Z1bmN0aW9ucy9nZXRNeVN0YXR1cy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvcHJvZmlsZS9mdW5jdGlvbnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3Byb2ZpbGUvZnVuY3Rpb25zL2lzQnVzaW5lc3MudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3Byb2ZpbGUvZnVuY3Rpb25zL3JlbW92ZU15UHJvZmlsZVBpY3R1cmUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3Byb2ZpbGUvZnVuY3Rpb25zL3NldE15UHJvZmlsZU5hbWUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3Byb2ZpbGUvZnVuY3Rpb25zL3NldE15UHJvZmlsZVBpY3R1cmUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3Byb2ZpbGUvZnVuY3Rpb25zL3NldE15U3RhdHVzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9wcm9maWxlL2luZGV4LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9zdGF0dXMvZGVmYXVsdFNlbmRTdGF0dXNPcHRpb25zLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9zdGF0dXMvZXZlbnRzL2luZGV4LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9zdGF0dXMvZXZlbnRzL3JlZ2lzdGVyU3luY2VkRXZlbnQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3N0YXR1cy9mdW5jdGlvbnMvZ2V0LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9zdGF0dXMvZnVuY3Rpb25zL2dldE15U3RhdHVzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9zdGF0dXMvZnVuY3Rpb25zL2luZGV4LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9zdGF0dXMvZnVuY3Rpb25zL3Bvc3RTZW5kU3RhdHVzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9zdGF0dXMvZnVuY3Rpb25zL3JlbW92ZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvc3RhdHVzL2Z1bmN0aW9ucy9zZW5kSW1hZ2VTdGF0dXMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3N0YXR1cy9mdW5jdGlvbnMvc2VuZFJhd1N0YXR1cy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvc3RhdHVzL2Z1bmN0aW9ucy9zZW5kUmVhZFN0YXR1cy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvc3RhdHVzL2Z1bmN0aW9ucy9zZW5kVGV4dFN0YXR1cy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvc3RhdHVzL2Z1bmN0aW9ucy9zZW5kVmlkZW9TdGF0dXMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3N0YXR1cy9mdW5jdGlvbnMvdXBkYXRlUGFydGljaXBhbnRzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy9zdGF0dXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3N0YXR1cy9wYXRjaC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvdXRpbC9ibG9iVG9BcnJheUJ1ZmZlci50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvdXRpbC9ibG9iVG9CYXNlNjQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3V0aWwvY29udmVydFRvRmlsZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvdXRpbC9jcmVhdGVXaWQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3V0aWwvZG93bmxvYWRJbWFnZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvdXRpbC9lcnJvcnMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3V0aWwvZmV0Y2hEYXRhRnJvbVBORy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvdXRpbC9nZW5lcmF0ZU9yZGVyVW5pcXVlSWQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3V0aWwvZ2V0VmlkZW9JbmZvRnJvbUJ1ZmZlci50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvdXRpbC9pbmRleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvdXRpbC9pc0Jhc2U2NC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvdXRpbC9pc1VybC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvdXRpbC9saW5rUHJldmlldy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvdXRpbC9yZXNpemVJbWFnZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvdXRpbC90eXBlcy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvdXRpbC93cmFwRnVuY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3dlYnBhY2svaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL0FnZ1JlYWN0aW9uc0NvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL0Jhc2VDb2xsZWN0aW9uLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9jb2xsZWN0aW9ucy9CbG9ja2xpc3RDb2xsZWN0aW9uLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9jb2xsZWN0aW9ucy9Cb3RQcm9maWxlQ29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvY29sbGVjdGlvbnMvQnVzaW5lc3NDYXRlZ29yaWVzUmVzdWx0Q29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvY29sbGVjdGlvbnMvQnVzaW5lc3NQcm9maWxlQ29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvY29sbGVjdGlvbnMvQnV0dG9uQ29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvY29sbGVjdGlvbnMvQ2FsbENvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL0NhcnRDb2xsZWN0aW9uLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9jb2xsZWN0aW9ucy9DYXJ0SXRlbUNvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL0NhdGFsb2dDb2xsZWN0aW9uLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9jb2xsZWN0aW9ucy9DaGF0Q29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvY29sbGVjdGlvbnMvQ2hhdHN0YXRlQ29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvY29sbGVjdGlvbnMvQ29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvY29sbGVjdGlvbnMvQ29udGFjdENvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL0Vtb2ppVmFyaWFudENvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL0dyb3VwTWV0YWRhdGFDb2xsZWN0aW9uLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9jb2xsZWN0aW9ucy9MYWJlbENvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL0xhYmVsSXRlbUNvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL01zZ0NvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL01zZ0luZm9Db2xsZWN0aW9uLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9jb2xsZWN0aW9ucy9Nc2dJbmZvUGFydGljaXBhbnRDb2xsZWN0aW9uLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9jb2xsZWN0aW9ucy9NdXRlQ29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvY29sbGVjdGlvbnMvTm90ZUNvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL09yZGVyQ29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvY29sbGVjdGlvbnMvT3JkZXJJdGVtQ29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvY29sbGVjdGlvbnMvUGFydGljaXBhbnRDb2xsZWN0aW9uLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9jb2xsZWN0aW9ucy9QaW5JbkNoYXRDb2xsZWN0aW9uLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9jb2xsZWN0aW9ucy9QcmVzZW5jZUNvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL1Byb2R1Y3RDb2xsQ29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvY29sbGVjdGlvbnMvUHJvZHVjdENvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL1Byb2R1Y3RJbWFnZUNvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL1Byb2R1Y3RNZXNzYWdlTGlzdENvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL1Byb2ZpbGVQaWNUaHVtYkNvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL1F1aWNrUmVwbHlDb2xsZWN0aW9uLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9jb2xsZWN0aW9ucy9SZWFjdGlvbnNDb2xsZWN0aW9uLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9jb2xsZWN0aW9ucy9SZWFjdGlvbnNTZW5kZXJzQ29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvY29sbGVjdGlvbnMvUmVjZW50RW1vamlDb2xsZWN0aW9uLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9jb2xsZWN0aW9ucy9SZWNlbnRTdGlja2VyQ29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvY29sbGVjdGlvbnMvU3RhcnJlZE1zZ0NvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL1N0YXR1c0NvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL1N0YXR1c1YzQ29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvY29sbGVjdGlvbnMvU3RpY2tlckNvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL1N0aWNrZXJQYWNrQ29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvY29sbGVjdGlvbnMvU3RpY2tlclNlYXJjaENvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbGxlY3Rpb25zL1RlbXBsYXRlQnV0dG9uQ29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvY29sbGVjdGlvbnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2NvbnRhbnRzL0RST1BfQVRUUi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvY29udGFudHMvU0FOSVRJWkVEX1ZFUlNJT05fU1RSLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9jb250YW50cy9pbmRleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZW51bXMvQUNLLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9lbnVtcy9DQUxMX1NUQVRFUy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZW51bXMvR1JPVVBfU0VUVElOR19UWVBFLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9lbnVtcy9LSUNfRU5UUllfUE9JTlRfVFlQLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9lbnVtcy9Mb2dvdXRSZWFzb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2VudW1zL01TR19UWVBFLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9lbnVtcy9PVVRXQVJEX1RZUEVTLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9lbnVtcy9QSU5fU1RBVEUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2VudW1zL1NPQ0tFVF9TVEFURS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZW51bXMvU2VuZE1zZ1Jlc3VsdC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZW51bXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2V4cG9ydE1vZHVsZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL0dST1VQX0pJRC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL1NUQVRVU19KSUQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9hZGRBbmRTZW5kTWVzc2FnZUVkaXQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9hZGRBbmRTZW5kTXNnVG9DaGF0LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvYWRkT3JFZGl0Tm90ZUFjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2FkZFByb2R1Y3RUb0NhcnQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9hZGRUb0xhYmVsQ29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2Jsb2NrQ29udGFjdC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2NhbGN1bGF0ZUZpbGVoYXNoRnJvbUJsb2IudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9jYW5FZGl0Q2FwdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2NhbkVkaXRNc2cudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9jYW5SZXBseU1zZy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2NhblNhdmVBc015Q29udGFjdHMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9jaGFuZ2VPcHRJblN0YXR1c0ZvckV4dGVybmFsV2ViQmV0YS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2NoZWNrQ2hhdEV4aXN0ZWRPckNyZWF0ZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2NvbGxlY3Rpb25zLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvY29sb3JJbmRleFRvSGV4LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvY29udGFjdEZ1bmN0aW9ucy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2NyZWF0ZUNoYXQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9jcmVhdGVDaGF0UmVjb3JkLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvY3JlYXRlRXZlbnRDYWxsTGluay50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2NyZWF0ZUZhbm91dE1zZ1N0YW56YS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2NyZWF0ZUdyb3VwLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvY3JlYXRlTXNnUHJvdG9idWYudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9jcmVhdGVOZXdzbGV0dGVyUXVlcnkudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9jcmVhdGVPclVwZGF0ZVJlYWN0aW9ucy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2NyZWF0ZU9yZGVyLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvY3VycmVuY3lGb3JDb3VudHJ5U2hvcnRjb2RlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvZGVsZXRlQ29udGFjdEFjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2RlbGV0ZU5ld3NsZXR0ZXIudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9lZGl0QnVzaW5lc3NQcm9maWxlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvZWRpdE5ld3NsZXR0ZXJNZXRhZGF0YUFjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2VuY29kZU1heWJlTWVkaWFUeXBlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvZW5jcnlwdEFuZFNlbmRHcm91cE1zZy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2VuY3J5cHRBbmRTZW5kTXNnLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvZW5jcnlwdEFuZFNlbmRTZW5kZXJLZXlNc2cudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9lbmNyeXB0QW5kU2VuZFN0YXR1c01zZy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2VuY3J5cHRNc2dQcm90b2J1Zi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2ZldGNoTGlua1ByZXZpZXcudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9mZXRjaE1leEdyb3VwSW52aXRlQ29kZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2ZpbmRDaGF0LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvZmluZENvbW1vbkdyb3Vwcy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2ZpbmRGaXJzdFdlYkxpbmsudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9maW5kT3JDcmVhdGVMYXRlc3RDaGF0LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvZm9yd2FyZE1lc3NhZ2VzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvZm9yd2FyZE1lc3NhZ2VzVG9DaGF0cy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2Zyb250ZW5kRmlyZUFuZEZvcmdldC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2dlbkJvdE1zZ1NlY3JldEZyb21Nc2dTZWNyZXQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9nZW5MaW5rRGV2aWNlQ29kZUZvclBob25lTnVtYmVyLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvZ2VuTWluaW1hbExpbmtQcmV2aWV3LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvZ2VuZXJhdGVWaWRlb1RodW1ic0FuZER1cmF0aW9uLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvZ2V0QUJQcm9wQ29uZmlnVmFsdWUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9nZXRBc01tcy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2dldENoYXRSZWNvcmRCeUFjY291bnRMaWQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9nZXRDb21tdW5pdHlQYXJ0aWNpcGFudHMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9nZXRDb3VudHJ5U2hvcnRjb2RlQnlQaG9uZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2dldEN1cnJlbnRMaWQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9nZXRFbmZvcmNlQ3VycmVudExpZC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2dldEVwaGVtZXJhbEZpZWxkcy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2dldEVycm9yQ29kZUZyb21Mb2dvdXRSZWFzb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9nZXRFeGlzdGluZy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2dldEZhbk91dExpc3QudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9nZXRHcm91cFNlbmRlcktleUxpc3QudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9nZXRHcm91cFNpemVMaW1pdC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2dldEhpc3RvcnlTeW5jUHJvZ3Jlc3MudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9nZXRNZW1iZXJzaGlwQXBwcm92YWxSZXF1ZXN0cy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2dldE5ld3NsZXR0ZXJTdWJzY3JpYmVycy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2dldE5leHRMYWJlbElkLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvZ2V0TnVtQ2hhdHNQaW5uZWQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9nZXRPcmRlckluZm8udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9nZXRQYXJ0aWNpcGFudHMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9nZXRQaG9uZU51bWJlci50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2dldFByaXZhY3lEaXNhbGxvd2VkTGlzdFRhYmxlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvZ2V0UHVzaG5hbWUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9nZXRRdW90ZWRNc2dPYmoudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9nZXRSZWFjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9nZXRTZWFyY2hDb250ZXh0LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvZ2V0U2hvdWxkQXBwZWFySW5MaXN0LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvZ2V0U3RhdHVzTGlzdC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2dldFRhYmxlVm90ZXMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9nZXRWb3Rlcy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2dldFdoYXRzQXBwV2ViRXh0ZXJuYWxCZXRhSm9pbmVkSWRiLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvZ3JvdXBQYXJ0aWNpcGFudHMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9oYW5kbGVBY2sudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9oYW5kbGVTaW5nbGVNc2cudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9pbmRleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2luaXRpYWxpemVBbHREZXZpY2VMaW5raW5nLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvaXNBbmltYXRlZFdlYnAudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9pc0F1dGhlbnRpY2F0ZWQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9pc0ZpbHRlckV4Y2x1ZGVkRnJvbVNlYXJjaFRyZWF0bWVudEluSW5ib3hGbG93LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvaXNMaWRNaWdyYXRlZC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2lzUmVnaXN0ZXJlZC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2lzVW5yZWFkVHlwZU1zZy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL2lzV2lkLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvam9pbkdyb3VwVmlhSW52aXRlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMva2VlcE1lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9sYWJlbEFkZEFjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL21hcmtTZWVuLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvbWVkaWFUeXBlRnJvbVByb3RvYnVmLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvbWVtYmVyc2hpcEFwcHJvdmFsUmVxdWVzdEFjdGlvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL21zZ0RhdGFGcm9tTXNnTW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9tc2dGaW5kUXVlcnkudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9tdXRlTmV3c2xldHRlci50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3Byb2Nlc3NSYXdBdWRpb1ZpZGVvLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvcHJvY2Vzc1Jhd01lZGlhLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvcHJvY2Vzc1Jhd1N0aWNrZXIudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9wcm9kdWN0VmlzaWJpbGl0eVNldC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3Byb2R1Y3RzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvcHJvZmlsZVBpYy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3F1ZXJ5QWxsR3JvdXBzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvcXVlcnlHcm91cEludml0ZUNvZGUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9xdWVyeU5ld3NsZXR0ZXJNZXRhZGF0YUJ5SmlkLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvcXVlcnlPcmRlci50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3JhbmRvbUhleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3JhbmRvbUlkLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvcmVtb3ZlU3RhdHVzTWVzc2FnZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3Jlc2V0R3JvdXBJbnZpdGVDb2RlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvcmV2b2tlU3RhdHVzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvc2F2ZUNvbnRhY3RBY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9zZWxlY3RDaGF0Rm9yT25lT25PbmVNZXNzYWdlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvc2VuZENsZWFyLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvc2VuZENyZWF0ZUNvbW11bml0eS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3NlbmRDcmVhdGVHcm91cC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3NlbmREZWxldGUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9zZW5kRXhpdEdyb3VwLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvc2VuZEdyb3VwUGFydGljaXBhbnRzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvc2VuZEpvaW5Hcm91cFZpYUludml0ZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3NlbmROZXdzbGV0dGVyTWVzc2FnZUpvYi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3NlbmRQaW5JbkNoYXRNc2cudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9zZW5kUXVlcnlFeGlzdHMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9zZW5kUXVlcnlHcm91cEludml0ZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3NlbmRRdWVyeUdyb3VwSW52aXRlQ29kZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3NlbmRSZWFjdGlvblRvTXNnLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvc2VuZFJldm9rZUdyb3VwSW52aXRlQ29kZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3NlbmRUZXh0TXNnVG9DaGF0LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvc2V0QXJjaGl2ZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3NldEdyb3VwLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvc2V0UGluLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvc2V0UHJpdmFjeUZvck9uZUNhdGVnb3J5LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvc2V0UHVzaG5hbWUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy9zaG91bGRIYXZlQWNjb3VudExpZC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3N0YXR1cy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3N0YXR1c0VuYWJsZS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3N1YnNjcmliZVByZXNlbmNlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvc3luY0FCUHJvcHNUYXNrLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvdG9Vc2VyTGlkLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvdHlwZUF0dHJpYnV0ZUZyb21Qcm90b2J1Zi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3VuaXhUaW1lLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvdW5tdXRlTmV3c2xldHRlci50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3VwZGF0ZUNhcnQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy91cGRhdGVDYXJ0RW5hYmxlZC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3VwZGF0ZURCRm9yR3JvdXBBY3Rpb24udHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy91cGRhdGVOZXdzbGV0dGVyTXNnUmVjb3JkLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvdXBkYXRlUGFydGljaXBhbnRzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9mdW5jdGlvbnMvdXBsb2FkTWVkaWEudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy91cGxvYWRQcm9kdWN0SW1hZ2UudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy91cGxvYWRUaHVtYm5haWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2Z1bmN0aW9ucy91cHNlcnRWb3Rlcy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvZnVuY3Rpb25zL3ZvdGVGcm9tRGJSb3cudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL2luZGV4LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9taXNjL0FwaUNvbnRhY3QudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21pc2MvQmFzZTY0LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9taXNjL0Jyb3dzZXIudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21pc2MvQ2hhdFByZXNlbmNlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9taXNjL0NtZC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbWlzYy9Db21wb3NlQm94QWN0aW9ucy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbWlzYy9Db25uLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9taXNjL0NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbWlzYy9FbnZpcm9tZW50LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9taXNjL0V2ZW50RW1pdHRlci50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbWlzYy9JbWFnZVV0aWxzLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9taXNjL0lzT2ZmaWNpYWxDbGllbnQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21pc2MvTGlkMVgxTWlncmF0aW9uVXRpbHMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21pc2MvTWVkaWFCbG9iQ2FjaGUudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21pc2MvTWVkaWFFbnRyeS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbWlzYy9NZWRpYU9iamVjdC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbWlzYy9NZWRpYU9iamVjdFV0aWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21pc2MvTWVkaWFQcmVwLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9taXNjL01lZGlhVXRpbHMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21pc2MvTXNnS2V5LnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9taXNjL01zZ0xvYWQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21pc2MvTmV0d29ya1N0YXR1cy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbWlzYy9PcGFxdWVEYXRhLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9taXNjL1Byb2R1Y3RDYXRhbG9nU2Vzc2lvbi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbWlzYy9TZXJ2ZXJQcm9wcy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbWlzYy9TZXJ2ZXJQcm9wc0NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbWlzYy9Tb2NrZXQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21pc2MvU3RyZWFtLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9taXNjL1VTeW5jUXVlcnkudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21pc2MvVVN5bmNVc2VyLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9taXNjL1VzZXJQcmVmcy50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbWlzYy9WQ2FyZC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbWlzYy9XaWQudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21pc2MvV2lkRmFjdG9yeS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbWlzYy9pbmRleC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbW9kZWxzL0FnZ1JlYWN0aW9uc01vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvQXR0YWNoTWVkaWFNb2RlbC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbW9kZWxzL0Jsb2NrbGlzdE1vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvQm90UHJvZmlsZU1vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvQnVzaW5lc3NDYXRlZ29yaWVzUmVzdWx0TW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9CdXNpbmVzc1Byb2ZpbGVNb2RlbC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbW9kZWxzL0NhbGxNb2RlbC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbW9kZWxzL0NhcnRJdGVtTW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9DYXJ0TW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9DYXRhbG9nTW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9DaGF0TW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9DaGF0UHJlZmVyZW5jZU1vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvQ2hhdHN0YXRlTW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9Db25uTW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9Db250YWN0TW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9Db252ZXJzaW9uVHVwbGVNb2RlbC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbW9kZWxzL0Vtb2ppVmFyaWFudE1vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvR3JvdXBNZXRhZGF0YU1vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvSGlzdG9yeVN5bmNQcm9ncmVzc01vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvTGFiZWxJdGVtTW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9MYWJlbE1vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvTWVkaWFEYXRhTW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9Nb2RlbC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbW9kZWxzL01vZGVsQ2hhdEJhc2UudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9Nc2dCdXR0b25SZXBseU1zZ01vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvTXNnSW5mb01vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvTXNnSW5mb1BhcnRpY2lwYW50TW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9Nc2dNb2RlbC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbW9kZWxzL011dGVNb2RlbC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbW9kZWxzL05ldHdvcmtTdGF0dXNNb2RlbC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbW9kZWxzL05vdGVNb2RlbC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbW9kZWxzL09yZGVySXRlbU1vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvT3JkZXJNb2RlbC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbW9kZWxzL1BhcnRpY2lwYW50TW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9QcmVzZW5jZU1vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvUHJvZHVjdENvbGxNb2RlbC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbW9kZWxzL1Byb2R1Y3RJbWFnZU1vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvUHJvZHVjdE1lc3NhZ2VMaXN0TW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9Qcm9kdWN0TW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9Qcm9maWxlUGljVGh1bWJNb2RlbC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbW9kZWxzL1F1aWNrUmVwbHlNb2RlbC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbW9kZWxzL1JlYWN0aW9uc01vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvUmVhY3Rpb25zU2VuZGVyc01vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvUmVjZW50RW1vamlNb2RlbC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbW9kZWxzL1JlY2VudFN0aWNrZXJNb2RlbC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbW9kZWxzL1JlcGx5QnV0dG9uTW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9TZXJ2ZXJQcm9wc01vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvU29ja2V0TW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9TdGF0dXNNb2RlbC50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbW9kZWxzL1N0YXR1c1YzTW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9TdGlja2VyTW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9TdGlja2VyUGFja01vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvU3RyZWFtTW9kZWwudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL21vZGVscy9UZW1wbGF0ZUJ1dHRvbk1vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvVW5yZWFkTWVudGlvbk1vZGVsLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tb2RlbHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL211bHRpZGV2aWNlL2Fkdi50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvbXVsdGlkZXZpY2UvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL211bHRpZGV2aWNlL3dhTm9pc2VJbmZvLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9tdWx0aWRldmljZS93YVNpZ25hbFN0b3JlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC9zdG9yZXMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL3dlYnNvY2tldC9XYXBOb2RlLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC93ZWJzb2NrZXQvZW5zdXJlRTJFU2Vzc2lvbnMudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL3dlYnNvY2tldC9nZW5lcmF0ZUlkLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC93ZWJzb2NrZXQvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL3dlYnNvY2tldC9zZW5kU21heFN0YW56YS50cyIsIndlYnBhY2s6Ly9XUFAvLi9zcmMvd2hhdHNhcHAvd2Vic29ja2V0L3NtYXgudHMiLCJ3ZWJwYWNrOi8vV1BQLy4vc3JjL3doYXRzYXBwL3dlYnNvY2tldC9zdGFydFdlYkNvbW1zLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC93ZWJzb2NrZXQvc3RvcENvbW1zLnRzIiwid2VicGFjazovL1dQUC8uL3NyYy93aGF0c2FwcC93ZWJzb2NrZXQvd2FwLnRzIiwid2VicGFjazovL1dQUC9pZ25vcmVkfEQ6XFx3cHAtY29ubmVjdFxcd2EtanNcXG5vZGVfbW9kdWxlc1xcc3RydG9rM1xcbGlifGZzIiwid2VicGFjazovL1dQUC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9XUFAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL1dQUC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL1dQUC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL1dQUC93ZWJwYWNrL2JlZm9yZS1zdGFydHVwIiwid2VicGFjazovL1dQUC93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vV1BQL3dlYnBhY2svYWZ0ZXItc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG4vLyBTdXBwb3J0IGRlY29kaW5nIFVSTC1zYWZlIGJhc2U2NCBzdHJpbmdzLCBhcyBOb2RlLmpzIGRvZXMuXG4vLyBTZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jhc2U2NCNVUkxfYXBwbGljYXRpb25zXG5yZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjJcbnJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXG5mdW5jdGlvbiBnZXRMZW5zIChiNjQpIHtcbiAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcblxuICBpZiAobGVuICUgNCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuICB9XG5cbiAgLy8gVHJpbSBvZmYgZXh0cmEgYnl0ZXMgYWZ0ZXIgcGxhY2Vob2xkZXIgYnl0ZXMgYXJlIGZvdW5kXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2JlYXRnYW1taXQvYmFzZTY0LWpzL2lzc3Vlcy80MlxuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZignPScpXG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuXG5cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IHZhbGlkTGVuID09PSBsZW5cbiAgICA/IDBcbiAgICA6IDQgLSAodmFsaWRMZW4gJSA0KVxuXG4gIHJldHVybiBbdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbl1cbn1cblxuLy8gYmFzZTY0IGlzIDQvMyArIHVwIHRvIHR3byBjaGFyYWN0ZXJzIG9mIHRoZSBvcmlnaW5hbCBkYXRhXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChiNjQpIHtcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gX2J5dGVMZW5ndGggKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikge1xuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cblxuICB2YXIgYXJyID0gbmV3IEFycihfYnl0ZUxlbmd0aChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pKVxuXG4gIHZhciBjdXJCeXRlID0gMFxuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgdmFyIGxlbiA9IHBsYWNlSG9sZGVyc0xlbiA+IDBcbiAgICA/IHZhbGlkTGVuIC0gNFxuICAgIDogdmFsaWRMZW5cblxuICB2YXIgaVxuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTgpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHxcbiAgICAgIHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDE2KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAyKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KVxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMSkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxMCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyKVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgcmV0dXJuIGxvb2t1cFtudW0gPj4gMTggJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDYgJiAweDNGXSArXG4gICAgbG9va3VwW251bSAmIDB4M0ZdXG59XG5cbmZ1bmN0aW9uIGVuY29kZUNodW5rICh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wXG4gIHZhciBvdXRwdXQgPSBbXVxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykge1xuICAgIHRtcCA9XG4gICAgICAoKHVpbnQ4W2ldIDw8IDE2KSAmIDB4RkYwMDAwKSArXG4gICAgICAoKHVpbnQ4W2kgKyAxXSA8PCA4KSAmIDB4RkYwMCkgK1xuICAgICAgKHVpbnQ4W2kgKyAyXSAmIDB4RkYpXG4gICAgb3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpXG4gIH1cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW4gPSB1aW50OC5sZW5ndGhcbiAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG4gIHZhciBwYXJ0cyA9IFtdXG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzIC8vIG11c3QgYmUgbXVsdGlwbGUgb2YgM1xuXG4gIC8vIGdvIHRocm91Z2ggdGhlIGFycmF5IGV2ZXJ5IHRocmVlIGJ5dGVzLCB3ZSdsbCBkZWFsIHdpdGggdHJhaWxpbmcgc3R1ZmYgbGF0ZXJcbiAgZm9yICh2YXIgaSA9IDAsIGxlbjIgPSBsZW4gLSBleHRyYUJ5dGVzOyBpIDwgbGVuMjsgaSArPSBtYXhDaHVua0xlbmd0aCkge1xuICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsodWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKSkpXG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAyXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdICtcbiAgICAgICc9PSdcbiAgICApXG4gIH0gZWxzZSBpZiAoZXh0cmFCeXRlcyA9PT0gMikge1xuICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArIHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICtcbiAgICAgIGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXSArXG4gICAgICAnPSdcbiAgICApXG4gIH1cblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cbiIsIi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGJhc2U2NCA9IHJlcXVpcmUoJ2Jhc2U2NC1qcycpXG5jb25zdCBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG5jb25zdCBjdXN0b21JbnNwZWN0U3ltYm9sID1cbiAgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbFsnZm9yJ10gPT09ICdmdW5jdGlvbicpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG4gICAgPyBTeW1ib2xbJ2ZvciddKCdub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbScpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG4gICAgOiBudWxsXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblxuY29uc3QgS19NQVhfTEVOR1RIID0gMHg3ZmZmZmZmZlxuZXhwb3J0cy5rTWF4TGVuZ3RoID0gS19NQVhfTEVOR1RIXG5cbi8qKlxuICogSWYgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFByaW50IHdhcm5pbmcgYW5kIHJlY29tbWVuZCB1c2luZyBgYnVmZmVyYCB2NC54IHdoaWNoIGhhcyBhbiBPYmplY3RcbiAqICAgICAgICAgICAgICAgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG4gKlxuICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLFxuICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuICpcbiAqIFdlIHJlcG9ydCB0aGF0IHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGlmIHRoZSBhcmUgbm90IHN1YmNsYXNzYWJsZVxuICogdXNpbmcgX19wcm90b19fLiBGaXJlZm94IDQtMjkgbGFja3Mgc3VwcG9ydCBmb3IgYWRkaW5nIG5ldyBwcm9wZXJ0aWVzIHRvIGBVaW50OEFycmF5YFxuICogKFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4KS4gSUUgMTAgbGFja3Mgc3VwcG9ydFxuICogZm9yIF9fcHJvdG9fXyBhbmQgaGFzIGEgYnVnZ3kgdHlwZWQgYXJyYXkgaW1wbGVtZW50YXRpb24uXG4gKi9cbkJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUID0gdHlwZWRBcnJheVN1cHBvcnQoKVxuXG5pZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gIGNvbnNvbGUuZXJyb3IoXG4gICAgJ1RoaXMgYnJvd3NlciBsYWNrcyB0eXBlZCBhcnJheSAoVWludDhBcnJheSkgc3VwcG9ydCB3aGljaCBpcyByZXF1aXJlZCBieSAnICtcbiAgICAnYGJ1ZmZlcmAgdjUueC4gVXNlIGBidWZmZXJgIHY0LnggaWYgeW91IHJlcXVpcmUgb2xkIGJyb3dzZXIgc3VwcG9ydC4nXG4gIClcbn1cblxuZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQgKCkge1xuICAvLyBDYW4gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWQ/XG4gIHRyeSB7XG4gICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMSlcbiAgICBjb25zdCBwcm90byA9IHsgZm9vOiBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9IH1cbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YocHJvdG8sIFVpbnQ4QXJyYXkucHJvdG90eXBlKVxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihhcnIsIHByb3RvKVxuICAgIHJldHVybiBhcnIuZm9vKCkgPT09IDQyXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLnByb3RvdHlwZSwgJ3BhcmVudCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGhpcykpIHJldHVybiB1bmRlZmluZWRcbiAgICByZXR1cm4gdGhpcy5idWZmZXJcbiAgfVxufSlcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlci5wcm90b3R5cGUsICdvZmZzZXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKHRoaXMpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuIHRoaXMuYnl0ZU9mZnNldFxuICB9XG59KVxuXG5mdW5jdGlvbiBjcmVhdGVCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAobGVuZ3RoID4gS19NQVhfTEVOR1RIKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBcIicgKyBsZW5ndGggKyAnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJylcbiAgfVxuICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZVxuICBjb25zdCBidWYgPSBuZXcgVWludDhBcnJheShsZW5ndGgpXG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZihidWYsIEJ1ZmZlci5wcm90b3R5cGUpXG4gIHJldHVybiBidWZcbn1cblxuLyoqXG4gKiBUaGUgQnVmZmVyIGNvbnN0cnVjdG9yIHJldHVybnMgaW5zdGFuY2VzIG9mIGBVaW50OEFycmF5YCB0aGF0IGhhdmUgdGhlaXJcbiAqIHByb3RvdHlwZSBjaGFuZ2VkIHRvIGBCdWZmZXIucHJvdG90eXBlYC4gRnVydGhlcm1vcmUsIGBCdWZmZXJgIGlzIGEgc3ViY2xhc3Mgb2ZcbiAqIGBVaW50OEFycmF5YCwgc28gdGhlIHJldHVybmVkIGluc3RhbmNlcyB3aWxsIGhhdmUgYWxsIHRoZSBub2RlIGBCdWZmZXJgIG1ldGhvZHNcbiAqIGFuZCB0aGUgYFVpbnQ4QXJyYXlgIG1ldGhvZHMuIFNxdWFyZSBicmFja2V0IG5vdGF0aW9uIHdvcmtzIGFzIGV4cGVjdGVkIC0tIGl0XG4gKiByZXR1cm5zIGEgc2luZ2xlIG9jdGV0LlxuICpcbiAqIFRoZSBgVWludDhBcnJheWAgcHJvdG90eXBlIHJlbWFpbnMgdW5tb2RpZmllZC5cbiAqL1xuXG5mdW5jdGlvbiBCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIC8vIENvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnVGhlIFwic3RyaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZy4gUmVjZWl2ZWQgdHlwZSBudW1iZXInXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBhbGxvY1Vuc2FmZShhcmcpXG4gIH1cbiAgcmV0dXJuIGZyb20oYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wb29sU2l6ZSA9IDgxOTIgLy8gbm90IHVzZWQgYnkgdGhpcyBpbXBsZW1lbnRhdGlvblxuXG5mdW5jdGlvbiBmcm9tICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG4gIH1cblxuICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKSkge1xuICAgIHJldHVybiBmcm9tQXJyYXlWaWV3KHZhbHVlKVxuICB9XG5cbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksICcgK1xuICAgICAgJ29yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICcgKyAodHlwZW9mIHZhbHVlKVxuICAgIClcbiAgfVxuXG4gIGlmIChpc0luc3RhbmNlKHZhbHVlLCBBcnJheUJ1ZmZlcikgfHxcbiAgICAgICh2YWx1ZSAmJiBpc0luc3RhbmNlKHZhbHVlLmJ1ZmZlciwgQXJyYXlCdWZmZXIpKSkge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAoaXNJbnN0YW5jZSh2YWx1ZSwgU2hhcmVkQXJyYXlCdWZmZXIpIHx8XG4gICAgICAodmFsdWUgJiYgaXNJbnN0YW5jZSh2YWx1ZS5idWZmZXIsIFNoYXJlZEFycmF5QnVmZmVyKSkpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJ1xuICAgIClcbiAgfVxuXG4gIGNvbnN0IHZhbHVlT2YgPSB2YWx1ZS52YWx1ZU9mICYmIHZhbHVlLnZhbHVlT2YoKVxuICBpZiAodmFsdWVPZiAhPSBudWxsICYmIHZhbHVlT2YgIT09IHZhbHVlKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHZhbHVlT2YsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGNvbnN0IGIgPSBmcm9tT2JqZWN0KHZhbHVlKVxuICBpZiAoYikgcmV0dXJuIGJcblxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvUHJpbWl0aXZlICE9IG51bGwgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZVtTeW1ib2wudG9QcmltaXRpdmVdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHZhbHVlW1N5bWJvbC50b1ByaW1pdGl2ZV0oJ3N0cmluZycpLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICdUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCAnICtcbiAgICAnb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgJyArICh0eXBlb2YgdmFsdWUpXG4gIClcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbSh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG4vLyBOb3RlOiBDaGFuZ2UgcHJvdG90eXBlICphZnRlciogQnVmZmVyLmZyb20gaXMgZGVmaW5lZCB0byB3b3JrYXJvdW5kIENocm9tZSBidWc6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzE0OFxuT2JqZWN0LnNldFByb3RvdHlwZU9mKEJ1ZmZlci5wcm90b3R5cGUsIFVpbnQ4QXJyYXkucHJvdG90eXBlKVxuT2JqZWN0LnNldFByb3RvdHlwZU9mKEJ1ZmZlciwgVWludDhBcnJheSlcblxuZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlcicpXG4gIH0gZWxzZSBpZiAoc2l6ZSA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJyArIHNpemUgKyAnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJylcbiAgfVxufVxuXG5mdW5jdGlvbiBhbGxvYyAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICBpZiAoc2l6ZSA8PSAwKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcihzaXplKVxuICB9XG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPbmx5IHBheSBhdHRlbnRpb24gdG8gZW5jb2RpbmcgaWYgaXQncyBhIHN0cmluZy4gVGhpc1xuICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGRcbiAgICAvLyBiZSBpbnRlcnByZXRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cbiAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xuICAgICAgPyBjcmVhdGVCdWZmZXIoc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICAgIDogY3JlYXRlQnVmZmVyKHNpemUpLmZpbGwoZmlsbClcbiAgfVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogYWxsb2Moc2l6ZVssIGZpbGxbLCBlbmNvZGluZ11dKVxuICoqL1xuQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIHJldHVybiBhbGxvYyhzaXplLCBmaWxsLCBlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gYWxsb2NVbnNhZmUgKHNpemUpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxufVxuXG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gQnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKHNpemUpXG59XG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gU2xvd0J1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICovXG5CdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKHNpemUpXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICB9XG5cbiAgY29uc3QgbGVuZ3RoID0gYnl0ZUxlbmd0aChzdHJpbmcsIGVuY29kaW5nKSB8IDBcbiAgbGV0IGJ1ZiA9IGNyZWF0ZUJ1ZmZlcihsZW5ndGgpXG5cbiAgY29uc3QgYWN0dWFsID0gYnVmLndyaXRlKHN0cmluZywgZW5jb2RpbmcpXG5cbiAgaWYgKGFjdHVhbCAhPT0gbGVuZ3RoKSB7XG4gICAgLy8gV3JpdGluZyBhIGhleCBzdHJpbmcsIGZvciBleGFtcGxlLCB0aGF0IGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycyB3aWxsXG4gICAgLy8gY2F1c2UgZXZlcnl0aGluZyBhZnRlciB0aGUgZmlyc3QgaW52YWxpZCBjaGFyYWN0ZXIgdG8gYmUgaWdub3JlZC4gKGUuZy5cbiAgICAvLyAnYWJ4eGNkJyB3aWxsIGJlIHRyZWF0ZWQgYXMgJ2FiJylcbiAgICBidWYgPSBidWYuc2xpY2UoMCwgYWN0dWFsKVxuICB9XG5cbiAgcmV0dXJuIGJ1ZlxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlMaWtlIChhcnJheSkge1xuICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgY29uc3QgYnVmID0gY3JlYXRlQnVmZmVyKGxlbmd0aClcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIGJ1ZltpXSA9IGFycmF5W2ldICYgMjU1XG4gIH1cbiAgcmV0dXJuIGJ1ZlxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlWaWV3IChhcnJheVZpZXcpIHtcbiAgaWYgKGlzSW5zdGFuY2UoYXJyYXlWaWV3LCBVaW50OEFycmF5KSkge1xuICAgIGNvbnN0IGNvcHkgPSBuZXcgVWludDhBcnJheShhcnJheVZpZXcpXG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcihjb3B5LmJ1ZmZlciwgY29weS5ieXRlT2Zmc2V0LCBjb3B5LmJ5dGVMZW5ndGgpXG4gIH1cbiAgcmV0dXJuIGZyb21BcnJheUxpa2UoYXJyYXlWaWV3KVxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIgKGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwIHx8IGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0KSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wib2Zmc2V0XCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGlmIChhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCArIChsZW5ndGggfHwgMCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJsZW5ndGhcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgbGV0IGJ1ZlxuICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBidWYgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldClcbiAgfSBlbHNlIHtcbiAgICBidWYgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2VcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGJ1ZiwgQnVmZmVyLnByb3RvdHlwZSlcblxuICByZXR1cm4gYnVmXG59XG5cbmZ1bmN0aW9uIGZyb21PYmplY3QgKG9iaikge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iaikpIHtcbiAgICBjb25zdCBsZW4gPSBjaGVja2VkKG9iai5sZW5ndGgpIHwgMFxuICAgIGNvbnN0IGJ1ZiA9IGNyZWF0ZUJ1ZmZlcihsZW4pXG5cbiAgICBpZiAoYnVmLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGJ1ZlxuICAgIH1cblxuICAgIG9iai5jb3B5KGJ1ZiwgMCwgMCwgbGVuKVxuICAgIHJldHVybiBidWZcbiAgfVxuXG4gIGlmIChvYmoubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodHlwZW9mIG9iai5sZW5ndGggIT09ICdudW1iZXInIHx8IG51bWJlcklzTmFOKG9iai5sZW5ndGgpKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQnVmZmVyKDApXG4gICAgfVxuICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKG9iailcbiAgfVxuXG4gIGlmIChvYmoudHlwZSA9PT0gJ0J1ZmZlcicgJiYgQXJyYXkuaXNBcnJheShvYmouZGF0YSkpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5TGlrZShvYmouZGF0YSlcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwgS19NQVhfTEVOR1RIYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IEtfTUFYX0xFTkdUSCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBLX01BWF9MRU5HVEgudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7XG4gIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgIGxlbmd0aCA9IDBcbiAgfVxuICByZXR1cm4gQnVmZmVyLmFsbG9jKCtsZW5ndGgpXG59XG5cbkJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7XG4gIHJldHVybiBiICE9IG51bGwgJiYgYi5faXNCdWZmZXIgPT09IHRydWUgJiZcbiAgICBiICE9PSBCdWZmZXIucHJvdG90eXBlIC8vIHNvIEJ1ZmZlci5pc0J1ZmZlcihCdWZmZXIucHJvdG90eXBlKSB3aWxsIGJlIGZhbHNlXG59XG5cbkJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuICBpZiAoaXNJbnN0YW5jZShhLCBVaW50OEFycmF5KSkgYSA9IEJ1ZmZlci5mcm9tKGEsIGEub2Zmc2V0LCBhLmJ5dGVMZW5ndGgpXG4gIGlmIChpc0luc3RhbmNlKGIsIFVpbnQ4QXJyYXkpKSBiID0gQnVmZmVyLmZyb20oYiwgYi5vZmZzZXQsIGIuYnl0ZUxlbmd0aClcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkgfHwgIUJ1ZmZlci5pc0J1ZmZlcihiKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIFwiYnVmMVwiLCBcImJ1ZjJcIiBhcmd1bWVudHMgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheSdcbiAgICApXG4gIH1cblxuICBpZiAoYSA9PT0gYikgcmV0dXJuIDBcblxuICBsZXQgeCA9IGEubGVuZ3RoXG4gIGxldCB5ID0gYi5sZW5ndGhcblxuICBmb3IgKGxldCBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXVxuICAgICAgeSA9IGJbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG5CdWZmZXIuaXNFbmNvZGluZyA9IGZ1bmN0aW9uIGlzRW5jb2RpbmcgKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGxpc3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBCdWZmZXIuYWxsb2MoMClcbiAgfVxuXG4gIGxldCBpXG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGxlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgICAgbGVuZ3RoICs9IGxpc3RbaV0ubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKGxlbmd0aClcbiAgbGV0IHBvcyA9IDBcbiAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICBsZXQgYnVmID0gbGlzdFtpXVxuICAgIGlmIChpc0luc3RhbmNlKGJ1ZiwgVWludDhBcnJheSkpIHtcbiAgICAgIGlmIChwb3MgKyBidWYubGVuZ3RoID4gYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSBidWYgPSBCdWZmZXIuZnJvbShidWYpXG4gICAgICAgIGJ1Zi5jb3B5KGJ1ZmZlciwgcG9zKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICAgICAgYnVmZmVyLFxuICAgICAgICAgIGJ1ZixcbiAgICAgICAgICBwb3NcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH0gZWxzZSB7XG4gICAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICB9XG4gICAgcG9zICs9IGJ1Zi5sZW5ndGhcbiAgfVxuICByZXR1cm4gYnVmZmVyXG59XG5cbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihzdHJpbmcpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5sZW5ndGhcbiAgfVxuICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHN0cmluZykgfHwgaXNJbnN0YW5jZShzdHJpbmcsIEFycmF5QnVmZmVyKSkge1xuICAgIHJldHVybiBzdHJpbmcuYnl0ZUxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIFwic3RyaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgb3IgQXJyYXlCdWZmZXIuICcgK1xuICAgICAgJ1JlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBzdHJpbmdcbiAgICApXG4gIH1cblxuICBjb25zdCBsZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGNvbnN0IG11c3RNYXRjaCA9IChhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gPT09IHRydWUpXG4gIGlmICghbXVzdE1hdGNoICYmIGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgbGV0IGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gbGVuICogMlxuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGxlbiA+Pj4gMVxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkge1xuICAgICAgICAgIHJldHVybiBtdXN0TWF0Y2ggPyAtMSA6IHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoIC8vIGFzc3VtZSB1dGY4XG4gICAgICAgIH1cbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIGxldCBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2VyY2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGlzIHByb3BlcnR5IGlzIHVzZWQgYnkgYEJ1ZmZlci5pc0J1ZmZlcmAgKGFuZCB0aGUgYGlzLWJ1ZmZlcmAgbnBtIHBhY2thZ2UpXG4vLyB0byBkZXRlY3QgYSBCdWZmZXIgaW5zdGFuY2UuIEl0J3Mgbm90IHBvc3NpYmxlIHRvIHVzZSBgaW5zdGFuY2VvZiBCdWZmZXJgXG4vLyByZWxpYWJseSBpbiBhIGJyb3dzZXJpZnkgY29udGV4dCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG11bHRpcGxlIGRpZmZlcmVudFxuLy8gY29waWVzIG9mIHRoZSAnYnVmZmVyJyBwYWNrYWdlIGluIHVzZS4gVGhpcyBtZXRob2Qgd29ya3MgZXZlbiBmb3IgQnVmZmVyXG4vLyBpbnN0YW5jZXMgdGhhdCB3ZXJlIGNyZWF0ZWQgZnJvbSBhbm90aGVyIGNvcHkgb2YgdGhlIGBidWZmZXJgIHBhY2thZ2UuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL2lzc3Vlcy8xNTRcbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIGNvbnN0IGkgPSBiW25dXG4gIGJbbl0gPSBiW21dXG4gIGJbbV0gPSBpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDE2ID0gZnVuY3Rpb24gc3dhcDE2ICgpIHtcbiAgY29uc3QgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAxKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyID0gZnVuY3Rpb24gc3dhcDMyICgpIHtcbiAgY29uc3QgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgY29uc3QgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDggIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMnKVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDgpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyA3KVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyA2KVxuICAgIHN3YXAodGhpcywgaSArIDIsIGkgKyA1KVxuICAgIHN3YXAodGhpcywgaSArIDMsIGkgKyA0KVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gIGNvbnN0IGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nID0gQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZ1xuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIGxldCBzdHIgPSAnJ1xuICBjb25zdCBtYXggPSBleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTXG4gIHN0ciA9IHRoaXMudG9TdHJpbmcoJ2hleCcsIDAsIG1heCkucmVwbGFjZSgvKC57Mn0pL2csICckMSAnKS50cmltKClcbiAgaWYgKHRoaXMubGVuZ3RoID4gbWF4KSBzdHIgKz0gJyAuLi4gJ1xuICByZXR1cm4gJzxCdWZmZXIgJyArIHN0ciArICc+J1xufVxuaWYgKGN1c3RvbUluc3BlY3RTeW1ib2wpIHtcbiAgQnVmZmVyLnByb3RvdHlwZVtjdXN0b21JbnNwZWN0U3ltYm9sXSA9IEJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlICh0YXJnZXQsIHN0YXJ0LCBlbmQsIHRoaXNTdGFydCwgdGhpc0VuZCkge1xuICBpZiAoaXNJbnN0YW5jZSh0YXJnZXQsIFVpbnQ4QXJyYXkpKSB7XG4gICAgdGFyZ2V0ID0gQnVmZmVyLmZyb20odGFyZ2V0LCB0YXJnZXQub2Zmc2V0LCB0YXJnZXQuYnl0ZUxlbmd0aClcbiAgfVxuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgXCJ0YXJnZXRcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5LiAnICtcbiAgICAgICdSZWNlaXZlZCB0eXBlICcgKyAodHlwZW9mIHRhcmdldClcbiAgICApXG4gIH1cblxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuZCA9IHRhcmdldCA/IHRhcmdldC5sZW5ndGggOiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc1N0YXJ0ID0gMFxuICB9XG4gIGlmICh0aGlzRW5kID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzRW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChzdGFydCA8IDAgfHwgZW5kID4gdGFyZ2V0Lmxlbmd0aCB8fCB0aGlzU3RhcnQgPCAwIHx8IHRoaXNFbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdvdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kICYmIHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgaWYgKHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICBzdGFydCA+Pj49IDBcbiAgZW5kID4+Pj0gMFxuICB0aGlzU3RhcnQgPj4+PSAwXG4gIHRoaXNFbmQgPj4+PSAwXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCkgcmV0dXJuIDBcblxuICBsZXQgeCA9IHRoaXNFbmQgLSB0aGlzU3RhcnRcbiAgbGV0IHkgPSBlbmQgLSBzdGFydFxuICBjb25zdCBsZW4gPSBNYXRoLm1pbih4LCB5KVxuXG4gIGNvbnN0IHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIGNvbnN0IHRhcmdldENvcHkgPSB0YXJnZXQuc2xpY2Uoc3RhcnQsIGVuZClcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKHRoaXNDb3B5W2ldICE9PSB0YXJnZXRDb3B5W2ldKSB7XG4gICAgICB4ID0gdGhpc0NvcHlbaV1cbiAgICAgIHkgPSB0YXJnZXRDb3B5W2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuLy8gRmluZHMgZWl0aGVyIHRoZSBmaXJzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPj0gYGJ5dGVPZmZzZXRgLFxuLy8gT1IgdGhlIGxhc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0IDw9IGBieXRlT2Zmc2V0YC5cbi8vXG4vLyBBcmd1bWVudHM6XG4vLyAtIGJ1ZmZlciAtIGEgQnVmZmVyIHRvIHNlYXJjaFxuLy8gLSB2YWwgLSBhIHN0cmluZywgQnVmZmVyLCBvciBudW1iZXJcbi8vIC0gYnl0ZU9mZnNldCAtIGFuIGluZGV4IGludG8gYGJ1ZmZlcmA7IHdpbGwgYmUgY2xhbXBlZCB0byBhbiBpbnQzMlxuLy8gLSBlbmNvZGluZyAtIGFuIG9wdGlvbmFsIGVuY29kaW5nLCByZWxldmFudCBpcyB2YWwgaXMgYSBzdHJpbmdcbi8vIC0gZGlyIC0gdHJ1ZSBmb3IgaW5kZXhPZiwgZmFsc2UgZm9yIGxhc3RJbmRleE9mXG5mdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZiAoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgLy8gRW1wdHkgYnVmZmVyIG1lYW5zIG5vIG1hdGNoXG4gIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLTFcblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldFxuICBpZiAodHlwZW9mIGJ5dGVPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBieXRlT2Zmc2V0XG4gICAgYnl0ZU9mZnNldCA9IDBcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0ID4gMHg3ZmZmZmZmZikge1xuICAgIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IC0weDgwMDAwMDAwKSB7XG4gICAgYnl0ZU9mZnNldCA9IC0weDgwMDAwMDAwXG4gIH1cbiAgYnl0ZU9mZnNldCA9ICtieXRlT2Zmc2V0IC8vIENvZXJjZSB0byBOdW1iZXIuXG4gIGlmIChudW1iZXJJc05hTihieXRlT2Zmc2V0KSkge1xuICAgIC8vIGJ5dGVPZmZzZXQ6IGl0IGl0J3MgdW5kZWZpbmVkLCBudWxsLCBOYU4sIFwiZm9vXCIsIGV0Yywgc2VhcmNoIHdob2xlIGJ1ZmZlclxuICAgIGJ5dGVPZmZzZXQgPSBkaXIgPyAwIDogKGJ1ZmZlci5sZW5ndGggLSAxKVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXQ6IG5lZ2F0aXZlIG9mZnNldHMgc3RhcnQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwKSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCArIGJ5dGVPZmZzZXRcbiAgaWYgKGJ5dGVPZmZzZXQgPj0gYnVmZmVyLmxlbmd0aCkge1xuICAgIGlmIChkaXIpIHJldHVybiAtMVxuICAgIGVsc2UgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggLSAxXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IDApIHtcbiAgICBpZiAoZGlyKSBieXRlT2Zmc2V0ID0gMFxuICAgIGVsc2UgcmV0dXJuIC0xXG4gIH1cblxuICAvLyBOb3JtYWxpemUgdmFsXG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIHZhbCA9IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gIH1cblxuICAvLyBGaW5hbGx5LCBzZWFyY2ggZWl0aGVyIGluZGV4T2YgKGlmIGRpciBpcyB0cnVlKSBvciBsYXN0SW5kZXhPZlxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbCkpIHtcbiAgICAvLyBTcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZy9idWZmZXIgYWx3YXlzIGZhaWxzXG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMHhGRiAvLyBTZWFyY2ggZm9yIGEgYnl0ZSB2YWx1ZSBbMC0yNTVdXG4gICAgaWYgKHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoZGlyKSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIFt2YWxdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICBsZXQgaW5kZXhTaXplID0gMVxuICBsZXQgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aFxuICBsZXQgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXG4gIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZW5jb2RpbmcgPT09ICd1Y3MyJyB8fCBlbmNvZGluZyA9PT0gJ3Vjcy0yJyB8fFxuICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9XG4gICAgICBpbmRleFNpemUgPSAyXG4gICAgICBhcnJMZW5ndGggLz0gMlxuICAgICAgdmFsTGVuZ3RoIC89IDJcbiAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWQgKGJ1ZiwgaSkge1xuICAgIGlmIChpbmRleFNpemUgPT09IDEpIHtcbiAgICAgIHJldHVybiBidWZbaV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSlcbiAgICB9XG4gIH1cblxuICBsZXQgaVxuICBpZiAoZGlyKSB7XG4gICAgbGV0IGZvdW5kSW5kZXggPSAtMVxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlYWQoYXJyLCBpKSA9PT0gcmVhZCh2YWwsIGZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4KSkge1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG4gICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ICE9PSAtMSkgaSAtPSBpIC0gZm91bmRJbmRleFxuICAgICAgICBmb3VuZEluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpIGJ5dGVPZmZzZXQgPSBhcnJMZW5ndGggLSB2YWxMZW5ndGhcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xuICAgICAgbGV0IGZvdW5kID0gdHJ1ZVxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIHRydWUpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICBjb25zdCByZW1haW5pbmcgPSBidWYubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmICghbGVuZ3RoKSB7XG4gICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gIH0gZWxzZSB7XG4gICAgbGVuZ3RoID0gTnVtYmVyKGxlbmd0aClcbiAgICBpZiAobGVuZ3RoID4gcmVtYWluaW5nKSB7XG4gICAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgICB9XG4gIH1cblxuICBjb25zdCBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoXG5cbiAgaWYgKGxlbmd0aCA+IHN0ckxlbiAvIDIpIHtcbiAgICBsZW5ndGggPSBzdHJMZW4gLyAyXG4gIH1cbiAgbGV0IGlcbiAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KVxuICAgIGlmIChudW1iZXJJc05hTihwYXJzZWQpKSByZXR1cm4gaVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZFxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYmFzZTY0V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIHVjczJXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiB3cml0ZSAoc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpIHtcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZylcbiAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgZW5jb2RpbmcpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IG9mZnNldFxuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBvZmZzZXRbLCBsZW5ndGhdWywgZW5jb2RpbmddKVxuICB9IGVsc2UgaWYgKGlzRmluaXRlKG9mZnNldCkpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgICBpZiAoaXNGaW5pdGUobGVuZ3RoKSkge1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoID4+PiAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQnXG4gICAgKVxuICB9XG5cbiAgY29uc3QgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICBsZXQgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gYXNjaWlXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIGNvbnN0IHJlcyA9IFtdXG5cbiAgbGV0IGkgPSBzdGFydFxuICB3aGlsZSAoaSA8IGVuZCkge1xuICAgIGNvbnN0IGZpcnN0Qnl0ZSA9IGJ1ZltpXVxuICAgIGxldCBjb2RlUG9pbnQgPSBudWxsXG4gICAgbGV0IGJ5dGVzUGVyU2VxdWVuY2UgPSAoZmlyc3RCeXRlID4gMHhFRilcbiAgICAgID8gNFxuICAgICAgOiAoZmlyc3RCeXRlID4gMHhERilcbiAgICAgICAgICA/IDNcbiAgICAgICAgICA6IChmaXJzdEJ5dGUgPiAweEJGKVxuICAgICAgICAgICAgICA/IDJcbiAgICAgICAgICAgICAgOiAxXG5cbiAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPD0gZW5kKSB7XG4gICAgICBsZXQgc2Vjb25kQnl0ZSwgdGhpcmRCeXRlLCBmb3VydGhCeXRlLCB0ZW1wQ29kZVBvaW50XG5cbiAgICAgIHN3aXRjaCAoYnl0ZXNQZXJTZXF1ZW5jZSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKGZpcnN0Qnl0ZSA8IDB4ODApIHtcbiAgICAgICAgICAgIGNvZGVQb2ludCA9IGZpcnN0Qnl0ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweDFGKSA8PCAweDYgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0YpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHhDIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAodGhpcmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3RkYgJiYgKHRlbXBDb2RlUG9pbnQgPCAweEQ4MDAgfHwgdGVtcENvZGVQb2ludCA+IDB4REZGRikpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgZm91cnRoQnl0ZSA9IGJ1ZltpICsgM11cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKGZvdXJ0aEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4MTIgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4QyB8ICh0aGlyZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAoZm91cnRoQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4RkZGRiAmJiB0ZW1wQ29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XG4gICAgICAvLyB3ZSBkaWQgbm90IGdlbmVyYXRlIGEgdmFsaWQgY29kZVBvaW50IHNvIGluc2VydCBhXG4gICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlXG4gICAgICBjb2RlUG9pbnQgPSAweEZGRkRcbiAgICAgIGJ5dGVzUGVyU2VxdWVuY2UgPSAxXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPiAweEZGRkYpIHtcbiAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpXG4gICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMFxuICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKVxuICAgICAgY29kZVBvaW50ID0gMHhEQzAwIHwgY29kZVBvaW50ICYgMHgzRkZcbiAgICB9XG5cbiAgICByZXMucHVzaChjb2RlUG9pbnQpXG4gICAgaSArPSBieXRlc1BlclNlcXVlbmNlXG4gIH1cblxuICByZXR1cm4gZGVjb2RlQ29kZVBvaW50c0FycmF5KHJlcylcbn1cblxuLy8gQmFzZWQgb24gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjI3NDcyNzIvNjgwNzQyLCB0aGUgYnJvd3NlciB3aXRoXG4vLyB0aGUgbG93ZXN0IGxpbWl0IGlzIENocm9tZSwgd2l0aCAweDEwMDAwIGFyZ3MuXG4vLyBXZSBnbyAxIG1hZ25pdHVkZSBsZXNzLCBmb3Igc2FmZXR5XG5jb25zdCBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgY29uc3QgbGVuID0gY29kZVBvaW50cy5sZW5ndGhcbiAgaWYgKGxlbiA8PSBNQVhfQVJHVU1FTlRTX0xFTkdUSCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY29kZVBvaW50cykgLy8gYXZvaWQgZXh0cmEgc2xpY2UoKVxuICB9XG5cbiAgLy8gRGVjb2RlIGluIGNodW5rcyB0byBhdm9pZCBcImNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZFwiLlxuICBsZXQgcmVzID0gJydcbiAgbGV0IGkgPSAwXG4gIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICBTdHJpbmcsXG4gICAgICBjb2RlUG9pbnRzLnNsaWNlKGksIGkgKz0gTUFYX0FSR1VNRU5UU19MRU5HVEgpXG4gICAgKVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGxldCByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0gJiAweDdGKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gbGF0aW4xU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBsZXQgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBjb25zdCBsZW4gPSBidWYubGVuZ3RoXG5cbiAgaWYgKCFzdGFydCB8fCBzdGFydCA8IDApIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCB8fCBlbmQgPCAwIHx8IGVuZCA+IGxlbikgZW5kID0gbGVuXG5cbiAgbGV0IG91dCA9ICcnXG4gIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgb3V0ICs9IGhleFNsaWNlTG9va3VwVGFibGVbYnVmW2ldXVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgY29uc3QgYnl0ZXMgPSBidWYuc2xpY2Uoc3RhcnQsIGVuZClcbiAgbGV0IHJlcyA9ICcnXG4gIC8vIElmIGJ5dGVzLmxlbmd0aCBpcyBvZGQsIHRoZSBsYXN0IDggYml0cyBtdXN0IGJlIGlnbm9yZWQgKHNhbWUgYXMgbm9kZS5qcylcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGggLSAxOyBpICs9IDIpIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSArIChieXRlc1tpICsgMV0gKiAyNTYpKVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChzdGFydCwgZW5kKSB7XG4gIGNvbnN0IGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlblxuICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICB9IGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XG4gICAgc3RhcnQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlblxuICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgY29uc3QgbmV3QnVmID0gdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKVxuICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZVxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YobmV3QnVmLCBCdWZmZXIucHJvdG90eXBlKVxuXG4gIHJldHVybiBuZXdCdWZcbn1cblxuLypcbiAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuICovXG5mdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkge1xuICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnRMRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIGxldCB2YWwgPSB0aGlzW29mZnNldF1cbiAgbGV0IG11bCA9IDFcbiAgbGV0IGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludEJFID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRSA9IGZ1bmN0aW9uIHJlYWRVSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuICB9XG5cbiAgbGV0IHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXVxuICBsZXQgbXVsID0gMVxuICB3aGlsZSAoYnl0ZUxlbmd0aCA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnQ4ID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gcmVhZFVJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnQxNkxFID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDE2QkUgPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDgpIHwgdGhpc1tvZmZzZXQgKyAxXVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50MzJMRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKCh0aGlzW29mZnNldF0pIHxcbiAgICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSkgK1xuICAgICAgKHRoaXNbb2Zmc2V0ICsgM10gKiAweDEwMDAwMDApXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnQzMkJFID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdICogMHgxMDAwMDAwKSArXG4gICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgIHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEJpZ1VJbnQ2NExFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHJlYWRCaWdVSW50NjRMRSAob2Zmc2V0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICB2YWxpZGF0ZU51bWJlcihvZmZzZXQsICdvZmZzZXQnKVxuICBjb25zdCBmaXJzdCA9IHRoaXNbb2Zmc2V0XVxuICBjb25zdCBsYXN0ID0gdGhpc1tvZmZzZXQgKyA3XVxuICBpZiAoZmlyc3QgPT09IHVuZGVmaW5lZCB8fCBsYXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICBib3VuZHNFcnJvcihvZmZzZXQsIHRoaXMubGVuZ3RoIC0gOClcbiAgfVxuXG4gIGNvbnN0IGxvID0gZmlyc3QgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiA4ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMTYgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAyNFxuXG4gIGNvbnN0IGhpID0gdGhpc1srK29mZnNldF0gK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiA4ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMTYgK1xuICAgIGxhc3QgKiAyICoqIDI0XG5cbiAgcmV0dXJuIEJpZ0ludChsbykgKyAoQmlnSW50KGhpKSA8PCBCaWdJbnQoMzIpKVxufSlcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkQmlnVUludDY0QkUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gcmVhZEJpZ1VJbnQ2NEJFIChvZmZzZXQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIHZhbGlkYXRlTnVtYmVyKG9mZnNldCwgJ29mZnNldCcpXG4gIGNvbnN0IGZpcnN0ID0gdGhpc1tvZmZzZXRdXG4gIGNvbnN0IGxhc3QgPSB0aGlzW29mZnNldCArIDddXG4gIGlmIChmaXJzdCA9PT0gdW5kZWZpbmVkIHx8IGxhc3QgPT09IHVuZGVmaW5lZCkge1xuICAgIGJvdW5kc0Vycm9yKG9mZnNldCwgdGhpcy5sZW5ndGggLSA4KVxuICB9XG5cbiAgY29uc3QgaGkgPSBmaXJzdCAqIDIgKiogMjQgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAxNiArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDggK1xuICAgIHRoaXNbKytvZmZzZXRdXG5cbiAgY29uc3QgbG8gPSB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMjQgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAxNiArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDggK1xuICAgIGxhc3RcblxuICByZXR1cm4gKEJpZ0ludChoaSkgPDwgQmlnSW50KDMyKSkgKyBCaWdJbnQobG8pXG59KVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICBsZXQgdmFsID0gdGhpc1tvZmZzZXRdXG4gIGxldCBtdWwgPSAxXG4gIGxldCBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkUgPSBmdW5jdGlvbiByZWFkSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgbGV0IGkgPSBieXRlTGVuZ3RoXG4gIGxldCBtdWwgPSAxXG4gIGxldCB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgaWYgKCEodGhpc1tvZmZzZXRdICYgMHg4MCkpIHJldHVybiAodGhpc1tvZmZzZXRdKVxuICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICBjb25zdCB2YWwgPSB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbiByZWFkSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgY29uc3QgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0pIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSA8PCAyNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEJpZ0ludDY0TEUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gcmVhZEJpZ0ludDY0TEUgKG9mZnNldCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgdmFsaWRhdGVOdW1iZXIob2Zmc2V0LCAnb2Zmc2V0JylcbiAgY29uc3QgZmlyc3QgPSB0aGlzW29mZnNldF1cbiAgY29uc3QgbGFzdCA9IHRoaXNbb2Zmc2V0ICsgN11cbiAgaWYgKGZpcnN0ID09PSB1bmRlZmluZWQgfHwgbGFzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYm91bmRzRXJyb3Iob2Zmc2V0LCB0aGlzLmxlbmd0aCAtIDgpXG4gIH1cblxuICBjb25zdCB2YWwgPSB0aGlzW29mZnNldCArIDRdICtcbiAgICB0aGlzW29mZnNldCArIDVdICogMiAqKiA4ICtcbiAgICB0aGlzW29mZnNldCArIDZdICogMiAqKiAxNiArXG4gICAgKGxhc3QgPDwgMjQpIC8vIE92ZXJmbG93XG5cbiAgcmV0dXJuIChCaWdJbnQodmFsKSA8PCBCaWdJbnQoMzIpKSArXG4gICAgQmlnSW50KGZpcnN0ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMjQpXG59KVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRCaWdJbnQ2NEJFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHJlYWRCaWdJbnQ2NEJFIChvZmZzZXQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIHZhbGlkYXRlTnVtYmVyKG9mZnNldCwgJ29mZnNldCcpXG4gIGNvbnN0IGZpcnN0ID0gdGhpc1tvZmZzZXRdXG4gIGNvbnN0IGxhc3QgPSB0aGlzW29mZnNldCArIDddXG4gIGlmIChmaXJzdCA9PT0gdW5kZWZpbmVkIHx8IGxhc3QgPT09IHVuZGVmaW5lZCkge1xuICAgIGJvdW5kc0Vycm9yKG9mZnNldCwgdGhpcy5sZW5ndGggLSA4KVxuICB9XG5cbiAgY29uc3QgdmFsID0gKGZpcnN0IDw8IDI0KSArIC8vIE92ZXJmbG93XG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArXG4gICAgdGhpc1srK29mZnNldF1cblxuICByZXR1cm4gKEJpZ0ludCh2YWwpIDw8IEJpZ0ludCgzMikpICtcbiAgICBCaWdJbnQodGhpc1srK29mZnNldF0gKiAyICoqIDI0ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMTYgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiA4ICtcbiAgICBsYXN0KVxufSlcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdExFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCA1MiwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiByZWFkRG91YmxlQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50TEUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlVUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNvbnN0IG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgbGV0IG11bCA9IDFcbiAgbGV0IGkgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnRCRSA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFID0gZnVuY3Rpb24gd3JpdGVVSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY29uc3QgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICBsZXQgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIGxldCBtdWwgPSAxXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVWludDggPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVVSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4ZmYsIDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50MTZMRSA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVWludDE2QkUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQzMkxFID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50MzJCRSA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5mdW5jdGlvbiB3cnRCaWdVSW50NjRMRSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBtaW4sIG1heCkge1xuICBjaGVja0ludEJJKHZhbHVlLCBtaW4sIG1heCwgYnVmLCBvZmZzZXQsIDcpXG5cbiAgbGV0IGxvID0gTnVtYmVyKHZhbHVlICYgQmlnSW50KDB4ZmZmZmZmZmYpKVxuICBidWZbb2Zmc2V0KytdID0gbG9cbiAgbG8gPSBsbyA+PiA4XG4gIGJ1ZltvZmZzZXQrK10gPSBsb1xuICBsbyA9IGxvID4+IDhcbiAgYnVmW29mZnNldCsrXSA9IGxvXG4gIGxvID0gbG8gPj4gOFxuICBidWZbb2Zmc2V0KytdID0gbG9cbiAgbGV0IGhpID0gTnVtYmVyKHZhbHVlID4+IEJpZ0ludCgzMikgJiBCaWdJbnQoMHhmZmZmZmZmZikpXG4gIGJ1ZltvZmZzZXQrK10gPSBoaVxuICBoaSA9IGhpID4+IDhcbiAgYnVmW29mZnNldCsrXSA9IGhpXG4gIGhpID0gaGkgPj4gOFxuICBidWZbb2Zmc2V0KytdID0gaGlcbiAgaGkgPSBoaSA+PiA4XG4gIGJ1ZltvZmZzZXQrK10gPSBoaVxuICByZXR1cm4gb2Zmc2V0XG59XG5cbmZ1bmN0aW9uIHdydEJpZ1VJbnQ2NEJFIChidWYsIHZhbHVlLCBvZmZzZXQsIG1pbiwgbWF4KSB7XG4gIGNoZWNrSW50QkkodmFsdWUsIG1pbiwgbWF4LCBidWYsIG9mZnNldCwgNylcblxuICBsZXQgbG8gPSBOdW1iZXIodmFsdWUgJiBCaWdJbnQoMHhmZmZmZmZmZikpXG4gIGJ1ZltvZmZzZXQgKyA3XSA9IGxvXG4gIGxvID0gbG8gPj4gOFxuICBidWZbb2Zmc2V0ICsgNl0gPSBsb1xuICBsbyA9IGxvID4+IDhcbiAgYnVmW29mZnNldCArIDVdID0gbG9cbiAgbG8gPSBsbyA+PiA4XG4gIGJ1ZltvZmZzZXQgKyA0XSA9IGxvXG4gIGxldCBoaSA9IE51bWJlcih2YWx1ZSA+PiBCaWdJbnQoMzIpICYgQmlnSW50KDB4ZmZmZmZmZmYpKVxuICBidWZbb2Zmc2V0ICsgM10gPSBoaVxuICBoaSA9IGhpID4+IDhcbiAgYnVmW29mZnNldCArIDJdID0gaGlcbiAgaGkgPSBoaSA+PiA4XG4gIGJ1ZltvZmZzZXQgKyAxXSA9IGhpXG4gIGhpID0gaGkgPj4gOFxuICBidWZbb2Zmc2V0XSA9IGhpXG4gIHJldHVybiBvZmZzZXQgKyA4XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVCaWdVSW50NjRMRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiB3cml0ZUJpZ1VJbnQ2NExFICh2YWx1ZSwgb2Zmc2V0ID0gMCkge1xuICByZXR1cm4gd3J0QmlnVUludDY0TEUodGhpcywgdmFsdWUsIG9mZnNldCwgQmlnSW50KDApLCBCaWdJbnQoJzB4ZmZmZmZmZmZmZmZmZmZmZicpKVxufSlcblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUJpZ1VJbnQ2NEJFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHdyaXRlQmlnVUludDY0QkUgKHZhbHVlLCBvZmZzZXQgPSAwKSB7XG4gIHJldHVybiB3cnRCaWdVSW50NjRCRSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBCaWdJbnQoMCksIEJpZ0ludCgnMHhmZmZmZmZmZmZmZmZmZmZmJykpXG59KVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5wb3coMiwgKDggKiBieXRlTGVuZ3RoKSAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIGxldCBpID0gMFxuICBsZXQgbXVsID0gMVxuICBsZXQgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5wb3coMiwgKDggKiBieXRlTGVuZ3RoKSAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIGxldCBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgbGV0IG11bCA9IDFcbiAgbGV0IHN1YiA9IDBcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4N2YsIC0weDgwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVCaWdJbnQ2NExFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHdyaXRlQmlnSW50NjRMRSAodmFsdWUsIG9mZnNldCA9IDApIHtcbiAgcmV0dXJuIHdydEJpZ1VJbnQ2NExFKHRoaXMsIHZhbHVlLCBvZmZzZXQsIC1CaWdJbnQoJzB4ODAwMDAwMDAwMDAwMDAwMCcpLCBCaWdJbnQoJzB4N2ZmZmZmZmZmZmZmZmZmZicpKVxufSlcblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUJpZ0ludDY0QkUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gd3JpdGVCaWdJbnQ2NEJFICh2YWx1ZSwgb2Zmc2V0ID0gMCkge1xuICByZXR1cm4gd3J0QmlnVUludDY0QkUodGhpcywgdmFsdWUsIG9mZnNldCwgLUJpZ0ludCgnMHg4MDAwMDAwMDAwMDAwMDAwJyksIEJpZ0ludCgnMHg3ZmZmZmZmZmZmZmZmZmZmJykpXG59KVxuXG5mdW5jdGlvbiBjaGVja0lFRUU3NTQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuZnVuY3Rpb24gd3JpdGVGbG9hdCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDgsIDEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4LCAtMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG4gIHJldHVybiBvZmZzZXQgKyA4XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUJFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuLy8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAodGFyZ2V0LCB0YXJnZXRTdGFydCwgc3RhcnQsIGVuZCkge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBzaG91bGQgYmUgYSBCdWZmZXInKVxuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0U3RhcnQgPj0gdGFyZ2V0Lmxlbmd0aCkgdGFyZ2V0U3RhcnQgPSB0YXJnZXQubGVuZ3RoXG4gIGlmICghdGFyZ2V0U3RhcnQpIHRhcmdldFN0YXJ0ID0gMFxuICBpZiAoZW5kID4gMCAmJiBlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVybiAwXG4gIGlmICh0YXJnZXQubGVuZ3RoID09PSAwIHx8IHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIEZhdGFsIGVycm9yIGNvbmRpdGlvbnNcbiAgaWYgKHRhcmdldFN0YXJ0IDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgfVxuICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgY29uc3QgbGVuID0gZW5kIC0gc3RhcnRcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0ICYmIHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gVXNlIGJ1aWx0LWluIHdoZW4gYXZhaWxhYmxlLCBtaXNzaW5nIGZyb20gSUUxMVxuICAgIHRoaXMuY29weVdpdGhpbih0YXJnZXRTdGFydCwgc3RhcnQsIGVuZClcbiAgfSBlbHNlIHtcbiAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChcbiAgICAgIHRhcmdldCxcbiAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZCksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICBjb25zdCBjb2RlID0gdmFsLmNoYXJDb2RlQXQoMClcbiAgICAgIGlmICgoZW5jb2RpbmcgPT09ICd1dGY4JyAmJiBjb2RlIDwgMTI4KSB8fFxuICAgICAgICAgIGVuY29kaW5nID09PSAnbGF0aW4xJykge1xuICAgICAgICAvLyBGYXN0IHBhdGg6IElmIGB2YWxgIGZpdHMgaW50byBhIHNpbmdsZSBieXRlLCB1c2UgdGhhdCBudW1lcmljIHZhbHVlLlxuICAgICAgICB2YWwgPSBjb2RlXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMjU1XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgdmFsID0gTnVtYmVyKHZhbClcbiAgfVxuXG4gIC8vIEludmFsaWQgcmFuZ2VzIGFyZSBub3Qgc2V0IHRvIGEgZGVmYXVsdCwgc28gY2FuIHJhbmdlIGNoZWNrIGVhcmx5LlxuICBpZiAoc3RhcnQgPCAwIHx8IHRoaXMubGVuZ3RoIDwgc3RhcnQgfHwgdGhpcy5sZW5ndGggPCBlbmQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignT3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgc3RhcnQgPSBzdGFydCA+Pj4gMFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IHRoaXMubGVuZ3RoIDogZW5kID4+PiAwXG5cbiAgaWYgKCF2YWwpIHZhbCA9IDBcblxuICBsZXQgaVxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICB0aGlzW2ldID0gdmFsXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gICAgY29uc3QgbGVuID0gYnl0ZXMubGVuZ3RoXG4gICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHZhbHVlIFwiJyArIHZhbCArXG4gICAgICAgICdcIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCBcInZhbHVlXCInKVxuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgZW5kIC0gc3RhcnQ7ICsraSkge1xuICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBDVVNUT00gRVJST1JTXG4vLyA9PT09PT09PT09PT09XG5cbi8vIFNpbXBsaWZpZWQgdmVyc2lvbnMgZnJvbSBOb2RlLCBjaGFuZ2VkIGZvciBCdWZmZXItb25seSB1c2FnZVxuY29uc3QgZXJyb3JzID0ge31cbmZ1bmN0aW9uIEUgKHN5bSwgZ2V0TWVzc2FnZSwgQmFzZSkge1xuICBlcnJvcnNbc3ltXSA9IGNsYXNzIE5vZGVFcnJvciBleHRlbmRzIEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgIHN1cGVyKClcblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdtZXNzYWdlJywge1xuICAgICAgICB2YWx1ZTogZ2V0TWVzc2FnZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9KVxuXG4gICAgICAvLyBBZGQgdGhlIGVycm9yIGNvZGUgdG8gdGhlIG5hbWUgdG8gaW5jbHVkZSBpdCBpbiB0aGUgc3RhY2sgdHJhY2UuXG4gICAgICB0aGlzLm5hbWUgPSBgJHt0aGlzLm5hbWV9IFske3N5bX1dYFxuICAgICAgLy8gQWNjZXNzIHRoZSBzdGFjayB0byBnZW5lcmF0ZSB0aGUgZXJyb3IgbWVzc2FnZSBpbmNsdWRpbmcgdGhlIGVycm9yIGNvZGVcbiAgICAgIC8vIGZyb20gdGhlIG5hbWUuXG4gICAgICB0aGlzLnN0YWNrIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG4gICAgICAvLyBSZXNldCB0aGUgbmFtZSB0byB0aGUgYWN0dWFsIG5hbWUuXG4gICAgICBkZWxldGUgdGhpcy5uYW1lXG4gICAgfVxuXG4gICAgZ2V0IGNvZGUgKCkge1xuICAgICAgcmV0dXJuIHN5bVxuICAgIH1cblxuICAgIHNldCBjb2RlICh2YWx1ZSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdjb2RlJywge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0b1N0cmluZyAoKSB7XG4gICAgICByZXR1cm4gYCR7dGhpcy5uYW1lfSBbJHtzeW19XTogJHt0aGlzLm1lc3NhZ2V9YFxuICAgIH1cbiAgfVxufVxuXG5FKCdFUlJfQlVGRkVSX09VVF9PRl9CT1VORFMnLFxuICBmdW5jdGlvbiAobmFtZSkge1xuICAgIGlmIChuYW1lKSB7XG4gICAgICByZXR1cm4gYCR7bmFtZX0gaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzYFxuICAgIH1cblxuICAgIHJldHVybiAnQXR0ZW1wdCB0byBhY2Nlc3MgbWVtb3J5IG91dHNpZGUgYnVmZmVyIGJvdW5kcydcbiAgfSwgUmFuZ2VFcnJvcilcbkUoJ0VSUl9JTlZBTElEX0FSR19UWVBFJyxcbiAgZnVuY3Rpb24gKG5hbWUsIGFjdHVhbCkge1xuICAgIHJldHVybiBgVGhlIFwiJHtuYW1lfVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgJHt0eXBlb2YgYWN0dWFsfWBcbiAgfSwgVHlwZUVycm9yKVxuRSgnRVJSX09VVF9PRl9SQU5HRScsXG4gIGZ1bmN0aW9uIChzdHIsIHJhbmdlLCBpbnB1dCkge1xuICAgIGxldCBtc2cgPSBgVGhlIHZhbHVlIG9mIFwiJHtzdHJ9XCIgaXMgb3V0IG9mIHJhbmdlLmBcbiAgICBsZXQgcmVjZWl2ZWQgPSBpbnB1dFxuICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKGlucHV0KSAmJiBNYXRoLmFicyhpbnB1dCkgPiAyICoqIDMyKSB7XG4gICAgICByZWNlaXZlZCA9IGFkZE51bWVyaWNhbFNlcGFyYXRvcihTdHJpbmcoaW5wdXQpKVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnYmlnaW50Jykge1xuICAgICAgcmVjZWl2ZWQgPSBTdHJpbmcoaW5wdXQpXG4gICAgICBpZiAoaW5wdXQgPiBCaWdJbnQoMikgKiogQmlnSW50KDMyKSB8fCBpbnB1dCA8IC0oQmlnSW50KDIpICoqIEJpZ0ludCgzMikpKSB7XG4gICAgICAgIHJlY2VpdmVkID0gYWRkTnVtZXJpY2FsU2VwYXJhdG9yKHJlY2VpdmVkKVxuICAgICAgfVxuICAgICAgcmVjZWl2ZWQgKz0gJ24nXG4gICAgfVxuICAgIG1zZyArPSBgIEl0IG11c3QgYmUgJHtyYW5nZX0uIFJlY2VpdmVkICR7cmVjZWl2ZWR9YFxuICAgIHJldHVybiBtc2dcbiAgfSwgUmFuZ2VFcnJvcilcblxuZnVuY3Rpb24gYWRkTnVtZXJpY2FsU2VwYXJhdG9yICh2YWwpIHtcbiAgbGV0IHJlcyA9ICcnXG4gIGxldCBpID0gdmFsLmxlbmd0aFxuICBjb25zdCBzdGFydCA9IHZhbFswXSA9PT0gJy0nID8gMSA6IDBcbiAgZm9yICg7IGkgPj0gc3RhcnQgKyA0OyBpIC09IDMpIHtcbiAgICByZXMgPSBgXyR7dmFsLnNsaWNlKGkgLSAzLCBpKX0ke3Jlc31gXG4gIH1cbiAgcmV0dXJuIGAke3ZhbC5zbGljZSgwLCBpKX0ke3Jlc31gXG59XG5cbi8vIENIRUNLIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIGNoZWNrQm91bmRzIChidWYsIG9mZnNldCwgYnl0ZUxlbmd0aCkge1xuICB2YWxpZGF0ZU51bWJlcihvZmZzZXQsICdvZmZzZXQnKVxuICBpZiAoYnVmW29mZnNldF0gPT09IHVuZGVmaW5lZCB8fCBidWZbb2Zmc2V0ICsgYnl0ZUxlbmd0aF0gPT09IHVuZGVmaW5lZCkge1xuICAgIGJvdW5kc0Vycm9yKG9mZnNldCwgYnVmLmxlbmd0aCAtIChieXRlTGVuZ3RoICsgMSkpXG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tJbnRCSSAodmFsdWUsIG1pbiwgbWF4LCBidWYsIG9mZnNldCwgYnl0ZUxlbmd0aCkge1xuICBpZiAodmFsdWUgPiBtYXggfHwgdmFsdWUgPCBtaW4pIHtcbiAgICBjb25zdCBuID0gdHlwZW9mIG1pbiA9PT0gJ2JpZ2ludCcgPyAnbicgOiAnJ1xuICAgIGxldCByYW5nZVxuICAgIGlmIChieXRlTGVuZ3RoID4gMykge1xuICAgICAgaWYgKG1pbiA9PT0gMCB8fCBtaW4gPT09IEJpZ0ludCgwKSkge1xuICAgICAgICByYW5nZSA9IGA+PSAwJHtufSBhbmQgPCAyJHtufSAqKiAkeyhieXRlTGVuZ3RoICsgMSkgKiA4fSR7bn1gXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByYW5nZSA9IGA+PSAtKDIke259ICoqICR7KGJ5dGVMZW5ndGggKyAxKSAqIDggLSAxfSR7bn0pIGFuZCA8IDIgKiogYCArXG4gICAgICAgICAgICAgICAgYCR7KGJ5dGVMZW5ndGggKyAxKSAqIDggLSAxfSR7bn1gXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJhbmdlID0gYD49ICR7bWlufSR7bn0gYW5kIDw9ICR7bWF4fSR7bn1gXG4gICAgfVxuICAgIHRocm93IG5ldyBlcnJvcnMuRVJSX09VVF9PRl9SQU5HRSgndmFsdWUnLCByYW5nZSwgdmFsdWUpXG4gIH1cbiAgY2hlY2tCb3VuZHMoYnVmLCBvZmZzZXQsIGJ5dGVMZW5ndGgpXG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlTnVtYmVyICh2YWx1ZSwgbmFtZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBlcnJvcnMuRVJSX0lOVkFMSURfQVJHX1RZUEUobmFtZSwgJ251bWJlcicsIHZhbHVlKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJvdW5kc0Vycm9yICh2YWx1ZSwgbGVuZ3RoLCB0eXBlKSB7XG4gIGlmIChNYXRoLmZsb29yKHZhbHVlKSAhPT0gdmFsdWUpIHtcbiAgICB2YWxpZGF0ZU51bWJlcih2YWx1ZSwgdHlwZSlcbiAgICB0aHJvdyBuZXcgZXJyb3JzLkVSUl9PVVRfT0ZfUkFOR0UodHlwZSB8fCAnb2Zmc2V0JywgJ2FuIGludGVnZXInLCB2YWx1ZSlcbiAgfVxuXG4gIGlmIChsZW5ndGggPCAwKSB7XG4gICAgdGhyb3cgbmV3IGVycm9ycy5FUlJfQlVGRkVSX09VVF9PRl9CT1VORFMoKVxuICB9XG5cbiAgdGhyb3cgbmV3IGVycm9ycy5FUlJfT1VUX09GX1JBTkdFKHR5cGUgfHwgJ29mZnNldCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgPj0gJHt0eXBlID8gMSA6IDB9IGFuZCA8PSAke2xlbmd0aH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUpXG59XG5cbi8vIEhFTFBFUiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT1cblxuY29uc3QgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rLzAtOUEtWmEtei1fXS9nXG5cbmZ1bmN0aW9uIGJhc2U2NGNsZWFuIChzdHIpIHtcbiAgLy8gTm9kZSB0YWtlcyBlcXVhbCBzaWducyBhcyBlbmQgb2YgdGhlIEJhc2U2NCBlbmNvZGluZ1xuICBzdHIgPSBzdHIuc3BsaXQoJz0nKVswXVxuICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgc3RyID0gc3RyLnRyaW0oKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcbiAgLy8gTm9kZSBjb252ZXJ0cyBzdHJpbmdzIHdpdGggbGVuZ3RoIDwgMiB0byAnJ1xuICBpZiAoc3RyLmxlbmd0aCA8IDIpIHJldHVybiAnJ1xuICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7XG4gICAgc3RyID0gc3RyICsgJz0nXG4gIH1cbiAgcmV0dXJuIHN0clxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIGxldCBjb2RlUG9pbnRcbiAgY29uc3QgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxuICBsZXQgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcbiAgY29uc3QgYnl0ZXMgPSBbXVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXG4gICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudFxuICAgIGlmIChjb2RlUG9pbnQgPiAweEQ3RkYgJiYgY29kZVBvaW50IDwgMHhFMDAwKSB7XG4gICAgICAvLyBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCFsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAgIC8vIG5vIGxlYWQgeWV0XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPiAweERCRkYpIHtcbiAgICAgICAgICAvLyB1bmV4cGVjdGVkIHRyYWlsXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZCBsZWFkXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyAyIGxlYWRzIGluIGEgcm93XG4gICAgICBpZiAoY29kZVBvaW50IDwgMHhEQzAwKSB7XG4gICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICBjb2RlUG9pbnQgPSAobGVhZFN1cnJvZ2F0ZSAtIDB4RDgwMCA8PCAxMCB8IGNvZGVQb2ludCAtIDB4REMwMCkgKyAweDEwMDAwXG4gICAgfSBlbHNlIGlmIChsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAvLyB2YWxpZCBibXAgY2hhciwgYnV0IGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICB9XG5cbiAgICBsZWFkU3Vycm9nYXRlID0gbnVsbFxuXG4gICAgLy8gZW5jb2RlIHV0ZjhcbiAgICBpZiAoY29kZVBvaW50IDwgMHg4MCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAxKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKGNvZGVQb2ludClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4ODAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgfCAweEMwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDIHwgMHhFMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gNCkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4MTIgfCAweEYwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBieXRlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVRvQnl0ZXMgKHN0cikge1xuICBjb25zdCBieXRlQXJyYXkgPSBbXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIGxldCBjLCBoaSwgbG9cbiAgY29uc3QgYnl0ZUFycmF5ID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcblxuICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKVxuICAgIGhpID0gYyA+PiA4XG4gICAgbG8gPSBjICUgMjU2XG4gICAgYnl0ZUFycmF5LnB1c2gobG8pXG4gICAgYnl0ZUFycmF5LnB1c2goaGkpXG4gIH1cblxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMgKHN0cikge1xuICByZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKHN0cikpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICBsZXQgaVxuICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKGkgKyBvZmZzZXQgPj0gZHN0Lmxlbmd0aCkgfHwgKGkgPj0gc3JjLmxlbmd0aCkpIGJyZWFrXG4gICAgZHN0W2kgKyBvZmZzZXRdID0gc3JjW2ldXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuLy8gQXJyYXlCdWZmZXIgb3IgVWludDhBcnJheSBvYmplY3RzIGZyb20gb3RoZXIgY29udGV4dHMgKGkuZS4gaWZyYW1lcykgZG8gbm90IHBhc3Ncbi8vIHRoZSBgaW5zdGFuY2VvZmAgY2hlY2sgYnV0IHRoZXkgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgb2YgdGhhdCB0eXBlLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9pc3N1ZXMvMTY2XG5mdW5jdGlvbiBpc0luc3RhbmNlIChvYmosIHR5cGUpIHtcbiAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIHR5cGUgfHxcbiAgICAob2JqICE9IG51bGwgJiYgb2JqLmNvbnN0cnVjdG9yICE9IG51bGwgJiYgb2JqLmNvbnN0cnVjdG9yLm5hbWUgIT0gbnVsbCAmJlxuICAgICAgb2JqLmNvbnN0cnVjdG9yLm5hbWUgPT09IHR5cGUubmFtZSlcbn1cbmZ1bmN0aW9uIG51bWJlcklzTmFOIChvYmopIHtcbiAgLy8gRm9yIElFMTEgc3VwcG9ydFxuICByZXR1cm4gb2JqICE9PSBvYmogLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbn1cblxuLy8gQ3JlYXRlIGxvb2t1cCB0YWJsZSBmb3IgYHRvU3RyaW5nKCdoZXgnKWBcbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvaXNzdWVzLzIxOVxuY29uc3QgaGV4U2xpY2VMb29rdXBUYWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGFscGhhYmV0ID0gJzAxMjM0NTY3ODlhYmNkZWYnXG4gIGNvbnN0IHRhYmxlID0gbmV3IEFycmF5KDI1NilcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgY29uc3QgaTE2ID0gaSAqIDE2XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCAxNjsgKytqKSB7XG4gICAgICB0YWJsZVtpMTYgKyBqXSA9IGFscGhhYmV0W2ldICsgYWxwaGFiZXRbal1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhYmxlXG59KSgpXG5cbi8vIFJldHVybiBub3QgZnVuY3Rpb24gd2l0aCBFcnJvciBpZiBCaWdJbnQgbm90IHN1cHBvcnRlZFxuZnVuY3Rpb24gZGVmaW5lQmlnSW50TWV0aG9kIChmbikge1xuICByZXR1cm4gdHlwZW9mIEJpZ0ludCA9PT0gJ3VuZGVmaW5lZCcgPyBCdWZmZXJCaWdJbnROb3REZWZpbmVkIDogZm5cbn1cblxuZnVuY3Rpb24gQnVmZmVyQmlnSW50Tm90RGVmaW5lZCAoKSB7XG4gIHRocm93IG5ldyBFcnJvcignQmlnSW50IG5vdCBzdXBwb3J0ZWQnKVxufVxuIiwiaW1wb3J0IHsgY29tcGFyZVZlcnNpb25zIH0gZnJvbSAnLi9jb21wYXJlVmVyc2lvbnMuanMnO1xuLyoqXG4gKiBDb21wYXJlIFtzZW12ZXJdKGh0dHBzOi8vc2VtdmVyLm9yZy8pIHZlcnNpb24gc3RyaW5ncyB1c2luZyB0aGUgc3BlY2lmaWVkIG9wZXJhdG9yLlxuICpcbiAqIEBwYXJhbSB2MSBGaXJzdCB2ZXJzaW9uIHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB2MiBTZWNvbmQgdmVyc2lvbiB0byBjb21wYXJlXG4gKiBAcGFyYW0gb3BlcmF0b3IgQWxsb3dlZCBhcml0aG1ldGljIG9wZXJhdG9yIHRvIHVzZVxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBjb21wYXJpc29uIGJldHdlZW4gdGhlIGZpcnN0VmVyc2lvbiBhbmQgdGhlIHNlY29uZFZlcnNpb24gc2F0aXNmaWVzIHRoZSBvcGVyYXRvciwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogY29tcGFyZSgnMTAuMS44JywgJzEwLjAuNCcsICc+Jyk7IC8vIHJldHVybiB0cnVlXG4gKiBjb21wYXJlKCcxMC4wLjEnLCAnMTAuMC4xJywgJz0nKTsgLy8gcmV0dXJuIHRydWVcbiAqIGNvbXBhcmUoJzEwLjEuMScsICcxMC4yLjInLCAnPCcpOyAvLyByZXR1cm4gdHJ1ZVxuICogY29tcGFyZSgnMTAuMS4xJywgJzEwLjIuMicsICc8PScpOyAvLyByZXR1cm4gdHJ1ZVxuICogY29tcGFyZSgnMTAuMS4xJywgJzEwLjIuMicsICc+PScpOyAvLyByZXR1cm4gZmFsc2VcbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3QgY29tcGFyZSA9ICh2MSwgdjIsIG9wZXJhdG9yKSA9PiB7XG4gICAgLy8gdmFsaWRhdGUgaW5wdXQgb3BlcmF0b3JcbiAgICBhc3NlcnRWYWxpZE9wZXJhdG9yKG9wZXJhdG9yKTtcbiAgICAvLyBzaW5jZSByZXN1bHQgb2YgY29tcGFyZVZlcnNpb25zIGNhbiBvbmx5IGJlIC0xIG9yIDAgb3IgMVxuICAgIC8vIGEgc2ltcGxlIG1hcCBjYW4gYmUgdXNlZCB0byByZXBsYWNlIHN3aXRjaFxuICAgIGNvbnN0IHJlcyA9IGNvbXBhcmVWZXJzaW9ucyh2MSwgdjIpO1xuICAgIHJldHVybiBvcGVyYXRvclJlc01hcFtvcGVyYXRvcl0uaW5jbHVkZXMocmVzKTtcbn07XG5jb25zdCBvcGVyYXRvclJlc01hcCA9IHtcbiAgICAnPic6IFsxXSxcbiAgICAnPj0nOiBbMCwgMV0sXG4gICAgJz0nOiBbMF0sXG4gICAgJzw9JzogWy0xLCAwXSxcbiAgICAnPCc6IFstMV0sXG4gICAgJyE9JzogWy0xLCAxXSxcbn07XG5jb25zdCBhbGxvd2VkT3BlcmF0b3JzID0gT2JqZWN0LmtleXMob3BlcmF0b3JSZXNNYXApO1xuY29uc3QgYXNzZXJ0VmFsaWRPcGVyYXRvciA9IChvcCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygb3AgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgb3BlcmF0b3IgdHlwZSwgZXhwZWN0ZWQgc3RyaW5nIGJ1dCBnb3QgJHt0eXBlb2Ygb3B9YCk7XG4gICAgfVxuICAgIGlmIChhbGxvd2VkT3BlcmF0b3JzLmluZGV4T2Yob3ApID09PSAtMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgb3BlcmF0b3IsIGV4cGVjdGVkIG9uZSBvZiAke2FsbG93ZWRPcGVyYXRvcnMuam9pbignfCcpfWApO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wYXJlLmpzLm1hcCIsImltcG9ydCB7IGNvbXBhcmVTZWdtZW50cywgdmFsaWRhdGVBbmRQYXJzZSB9IGZyb20gJy4vdXRpbHMuanMnO1xuLyoqXG4gKiBDb21wYXJlIFtzZW12ZXJdKGh0dHBzOi8vc2VtdmVyLm9yZy8pIHZlcnNpb24gc3RyaW5ncyB0byBmaW5kIGdyZWF0ZXIsIGVxdWFsIG9yIGxlc3Nlci5cbiAqIFRoaXMgbGlicmFyeSBzdXBwb3J0cyB0aGUgZnVsbCBzZW12ZXIgc3BlY2lmaWNhdGlvbiwgaW5jbHVkaW5nIGNvbXBhcmluZyB2ZXJzaW9ucyB3aXRoIGRpZmZlcmVudCBudW1iZXIgb2YgZGlnaXRzIGxpa2UgYDEuMC4wYCwgYDEuMGAsIGAxYCwgYW5kIHByZS1yZWxlYXNlIHZlcnNpb25zIGxpa2UgYDEuMC4wLWFscGhhYC5cbiAqIEBwYXJhbSB2MSAtIEZpcnN0IHZlcnNpb24gdG8gY29tcGFyZVxuICogQHBhcmFtIHYyIC0gU2Vjb25kIHZlcnNpb24gdG8gY29tcGFyZVxuICogQHJldHVybnMgTnVtZXJpYyB2YWx1ZSBjb21wYXRpYmxlIHdpdGggdGhlIFtBcnJheS5zb3J0KGZuKSBpbnRlcmZhY2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NvcnQjUGFyYW1ldGVycykuXG4gKi9cbmV4cG9ydCBjb25zdCBjb21wYXJlVmVyc2lvbnMgPSAodjEsIHYyKSA9PiB7XG4gICAgLy8gdmFsaWRhdGUgaW5wdXQgYW5kIHNwbGl0IGludG8gc2VnbWVudHNcbiAgICBjb25zdCBuMSA9IHZhbGlkYXRlQW5kUGFyc2UodjEpO1xuICAgIGNvbnN0IG4yID0gdmFsaWRhdGVBbmRQYXJzZSh2Mik7XG4gICAgLy8gcG9wIG9mZiB0aGUgcGF0Y2hcbiAgICBjb25zdCBwMSA9IG4xLnBvcCgpO1xuICAgIGNvbnN0IHAyID0gbjIucG9wKCk7XG4gICAgLy8gdmFsaWRhdGUgbnVtYmVyc1xuICAgIGNvbnN0IHIgPSBjb21wYXJlU2VnbWVudHMobjEsIG4yKTtcbiAgICBpZiAociAhPT0gMClcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgLy8gdmFsaWRhdGUgcHJlLXJlbGVhc2VcbiAgICBpZiAocDEgJiYgcDIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVTZWdtZW50cyhwMS5zcGxpdCgnLicpLCBwMi5zcGxpdCgnLicpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocDEgfHwgcDIpIHtcbiAgICAgICAgcmV0dXJuIHAxID8gLTEgOiAxO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wYXJlVmVyc2lvbnMuanMubWFwIiwiZXhwb3J0IHsgY29tcGFyZSB9IGZyb20gJy4vY29tcGFyZS5qcyc7XG5leHBvcnQgeyBjb21wYXJlVmVyc2lvbnMgfSBmcm9tICcuL2NvbXBhcmVWZXJzaW9ucy5qcyc7XG5leHBvcnQgeyBzYXRpc2ZpZXMgfSBmcm9tICcuL3NhdGlzZmllcy5qcyc7XG5leHBvcnQgeyB2YWxpZGF0ZSwgdmFsaWRhdGVTdHJpY3QgfSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IGNvbXBhcmUgfSBmcm9tICcuL2NvbXBhcmUuanMnO1xuaW1wb3J0IHsgY29tcGFyZVNlZ21lbnRzLCB2YWxpZGF0ZUFuZFBhcnNlIH0gZnJvbSAnLi91dGlscy5qcyc7XG4vKipcbiAqIE1hdGNoIFtucG0gc2VtdmVyXShodHRwczovL2RvY3MubnBtanMuY29tL2NsaS92Ni91c2luZy1ucG0vc2VtdmVyKSB2ZXJzaW9uIHJhbmdlLlxuICpcbiAqIEBwYXJhbSB2ZXJzaW9uIFZlcnNpb24gbnVtYmVyIHRvIG1hdGNoXG4gKiBAcGFyYW0gcmFuZ2UgUmFuZ2UgcGF0dGVybiBmb3IgdmVyc2lvblxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSB2ZXJzaW9uIG51bWJlciBpcyB3aXRoaW4gdGhlIHJhbmdlLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiBzYXRpc2ZpZXMoJzEuMS4wJywgJ14xLjAuMCcpOyAvLyByZXR1cm4gdHJ1ZVxuICogc2F0aXNmaWVzKCcxLjEuMCcsICd+MS4wLjAnKTsgLy8gcmV0dXJuIGZhbHNlXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IHNhdGlzZmllcyA9ICh2ZXJzaW9uLCByYW5nZSkgPT4ge1xuICAgIC8vIGNsZWFuIGlucHV0XG4gICAgcmFuZ2UgPSByYW5nZS5yZXBsYWNlKC8oWz48PV0rKVxccysvZywgJyQxJyk7XG4gICAgLy8gaGFuZGxlIG11bHRpcGxlIGNvbXBhcmF0b3JzXG4gICAgaWYgKHJhbmdlLmluY2x1ZGVzKCd8fCcpKSB7XG4gICAgICAgIHJldHVybiByYW5nZS5zcGxpdCgnfHwnKS5zb21lKChyKSA9PiBzYXRpc2ZpZXModmVyc2lvbiwgcikpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyYW5nZS5pbmNsdWRlcygnIC0gJykpIHtcbiAgICAgICAgY29uc3QgW2EsIGJdID0gcmFuZ2Uuc3BsaXQoJyAtICcsIDIpO1xuICAgICAgICByZXR1cm4gc2F0aXNmaWVzKHZlcnNpb24sIGA+PSR7YX0gPD0ke2J9YCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJhbmdlLmluY2x1ZGVzKCcgJykpIHtcbiAgICAgICAgcmV0dXJuIHJhbmdlXG4gICAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxzezIsfS9nLCAnICcpXG4gICAgICAgICAgICAuc3BsaXQoJyAnKVxuICAgICAgICAgICAgLmV2ZXJ5KChyKSA9PiBzYXRpc2ZpZXModmVyc2lvbiwgcikpO1xuICAgIH1cbiAgICAvLyBpZiBubyByYW5nZSBvcGVyYXRvciB0aGVuIFwiPVwiXG4gICAgY29uc3QgbSA9IHJhbmdlLm1hdGNoKC9eKFs8Pj1+Xl0rKS8pO1xuICAgIGNvbnN0IG9wID0gbSA/IG1bMV0gOiAnPSc7XG4gICAgLy8gaWYgZ3QvbHQvZXEgdGhlbiBvcGVyYXRvciBjb21wYXJlXG4gICAgaWYgKG9wICE9PSAnXicgJiYgb3AgIT09ICd+JylcbiAgICAgICAgcmV0dXJuIGNvbXBhcmUodmVyc2lvbiwgcmFuZ2UsIG9wKTtcbiAgICAvLyBlbHNlIHJhbmdlIG9mIGVpdGhlciBcIn5cIiBvciBcIl5cIiBpcyBhc3N1bWVkXG4gICAgY29uc3QgW3YxLCB2MiwgdjMsICwgdnBdID0gdmFsaWRhdGVBbmRQYXJzZSh2ZXJzaW9uKTtcbiAgICBjb25zdCBbcjEsIHIyLCByMywgLCBycF0gPSB2YWxpZGF0ZUFuZFBhcnNlKHJhbmdlKTtcbiAgICBjb25zdCB2ID0gW3YxLCB2MiwgdjNdO1xuICAgIGNvbnN0IHIgPSBbcjEsIHIyICE9PSBudWxsICYmIHIyICE9PSB2b2lkIDAgPyByMiA6ICd4JywgcjMgIT09IG51bGwgJiYgcjMgIT09IHZvaWQgMCA/IHIzIDogJ3gnXTtcbiAgICAvLyB2YWxpZGF0ZSBwcmUtcmVsZWFzZVxuICAgIGlmIChycCkge1xuICAgICAgICBpZiAoIXZwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoY29tcGFyZVNlZ21lbnRzKHYsIHIpICE9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoY29tcGFyZVNlZ21lbnRzKHZwLnNwbGl0KCcuJyksIHJwLnNwbGl0KCcuJykpID09PSAtMSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gZmlyc3Qgbm9uLXplcm8gbnVtYmVyXG4gICAgY29uc3Qgbm9uWmVybyA9IHIuZmluZEluZGV4KCh2KSA9PiB2ICE9PSAnMCcpICsgMTtcbiAgICAvLyBwb2ludGVyIHRvIHdoZXJlIHNlZ21lbnRzIGNhbiBiZSA+PVxuICAgIGNvbnN0IGkgPSBvcCA9PT0gJ34nID8gMiA6IG5vblplcm8gPiAxID8gbm9uWmVybyA6IDE7XG4gICAgLy8gYmVmb3JlIHBvaW50ZXIgbXVzdCBiZSBlcXVhbFxuICAgIGlmIChjb21wYXJlU2VnbWVudHModi5zbGljZSgwLCBpKSwgci5zbGljZSgwLCBpKSkgIT09IDApXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyBhZnRlciBwb2ludGVyIG11c3QgYmUgPj1cbiAgICBpZiAoY29tcGFyZVNlZ21lbnRzKHYuc2xpY2UoaSksIHIuc2xpY2UoaSkpID09PSAtMSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNhdGlzZmllcy5qcy5tYXAiLCJleHBvcnQgY29uc3Qgc2VtdmVyID0gL15bdl5+PD49XSo/KFxcZCspKD86XFwuKFt4Kl18XFxkKykoPzpcXC4oW3gqXXxcXGQrKSg/OlxcLihbeCpdfFxcZCspKT8oPzotKFtcXGRhLXpcXC1dKyg/OlxcLltcXGRhLXpcXC1dKykqKSk/KD86XFwrW1xcZGEtelxcLV0rKD86XFwuW1xcZGEtelxcLV0rKSopPyk/KT8kL2k7XG5leHBvcnQgY29uc3QgdmFsaWRhdGVBbmRQYXJzZSA9ICh2ZXJzaW9uKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2ZXJzaW9uICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IGV4cGVjdGVkIHN0cmluZycpO1xuICAgIH1cbiAgICBjb25zdCBtYXRjaCA9IHZlcnNpb24ubWF0Y2goc2VtdmVyKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhcmd1bWVudCBub3QgdmFsaWQgc2VtdmVyICgnJHt2ZXJzaW9ufScgcmVjZWl2ZWQpYCk7XG4gICAgfVxuICAgIG1hdGNoLnNoaWZ0KCk7XG4gICAgcmV0dXJuIG1hdGNoO1xufTtcbmNvbnN0IGlzV2lsZGNhcmQgPSAocykgPT4gcyA9PT0gJyonIHx8IHMgPT09ICd4JyB8fCBzID09PSAnWCc7XG5jb25zdCB0cnlQYXJzZSA9ICh2KSA9PiB7XG4gICAgY29uc3QgbiA9IHBhcnNlSW50KHYsIDEwKTtcbiAgICByZXR1cm4gaXNOYU4obikgPyB2IDogbjtcbn07XG5jb25zdCBmb3JjZVR5cGUgPSAoYSwgYikgPT4gdHlwZW9mIGEgIT09IHR5cGVvZiBiID8gW1N0cmluZyhhKSwgU3RyaW5nKGIpXSA6IFthLCBiXTtcbmNvbnN0IGNvbXBhcmVTdHJpbmdzID0gKGEsIGIpID0+IHtcbiAgICBpZiAoaXNXaWxkY2FyZChhKSB8fCBpc1dpbGRjYXJkKGIpKVxuICAgICAgICByZXR1cm4gMDtcbiAgICBjb25zdCBbYXAsIGJwXSA9IGZvcmNlVHlwZSh0cnlQYXJzZShhKSwgdHJ5UGFyc2UoYikpO1xuICAgIGlmIChhcCA+IGJwKVxuICAgICAgICByZXR1cm4gMTtcbiAgICBpZiAoYXAgPCBicClcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIHJldHVybiAwO1xufTtcbmV4cG9ydCBjb25zdCBjb21wYXJlU2VnbWVudHMgPSAoYSwgYikgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5tYXgoYS5sZW5ndGgsIGIubGVuZ3RoKTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHIgPSBjb21wYXJlU3RyaW5ncyhhW2ldIHx8ICcwJywgYltpXSB8fCAnMCcpO1xuICAgICAgICBpZiAociAhPT0gMClcbiAgICAgICAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiLCJpbXBvcnQgeyBzZW12ZXIgfSBmcm9tICcuL3V0aWxzLmpzJztcbi8qKlxuICogVmFsaWRhdGUgW3NlbXZlcl0oaHR0cHM6Ly9zZW12ZXIub3JnLykgdmVyc2lvbiBzdHJpbmdzLlxuICpcbiAqIEBwYXJhbSB2ZXJzaW9uIFZlcnNpb24gbnVtYmVyIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZlcnNpb24gbnVtYmVyIGlzIGEgdmFsaWQgc2VtdmVyIHZlcnNpb24gbnVtYmVyLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiB2YWxpZGF0ZSgnMS4wLjAtcmMuMScpOyAvLyByZXR1cm4gdHJ1ZVxuICogdmFsaWRhdGUoJzEuMC1yYy4xJyk7IC8vIHJldHVybiBmYWxzZVxuICogdmFsaWRhdGUoJ2ZvbycpOyAvLyByZXR1cm4gZmFsc2VcbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3QgdmFsaWRhdGUgPSAodmVyc2lvbikgPT4gdHlwZW9mIHZlcnNpb24gPT09ICdzdHJpbmcnICYmIC9eW3ZcXGRdLy50ZXN0KHZlcnNpb24pICYmIHNlbXZlci50ZXN0KHZlcnNpb24pO1xuLyoqXG4gKiBWYWxpZGF0ZSBbc2VtdmVyXShodHRwczovL3NlbXZlci5vcmcvKSB2ZXJzaW9uIHN0cmluZ3Mgc3RyaWN0bHkuIFdpbGwgbm90IGFjY2VwdCB3aWxkY2FyZHMgYW5kIHZlcnNpb24gcmFuZ2VzLlxuICpcbiAqIEBwYXJhbSB2ZXJzaW9uIFZlcnNpb24gbnVtYmVyIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZlcnNpb24gbnVtYmVyIGlzIGEgdmFsaWQgc2VtdmVyIHZlcnNpb24gbnVtYmVyIGBmYWxzZWAgb3RoZXJ3aXNlXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogdmFsaWRhdGUoJzEuMC4wLXJjLjEnKTsgLy8gcmV0dXJuIHRydWVcbiAqIHZhbGlkYXRlKCcxLjAtcmMuMScpOyAvLyByZXR1cm4gZmFsc2VcbiAqIHZhbGlkYXRlKCdmb28nKTsgLy8gcmV0dXJuIGZhbHNlXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlU3RyaWN0ID0gKHZlcnNpb24pID0+IHR5cGVvZiB2ZXJzaW9uID09PSAnc3RyaW5nJyAmJlxuICAgIC9eKDB8WzEtOV1cXGQqKVxcLigwfFsxLTldXFxkKilcXC4oMHxbMS05XVxcZCopKD86LSgoPzowfFsxLTldXFxkKnxcXGQqW2EtekEtWi1dWzAtOWEtekEtWi1dKikoPzpcXC4oPzowfFsxLTldXFxkKnxcXGQqW2EtekEtWi1dWzAtOWEtekEtWi1dKikpKikpPyg/OlxcKyhbMC05YS16QS1aLV0rKD86XFwuWzAtOWEtekEtWi1dKykqKSk/JC8udGVzdCh2ZXJzaW9uKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZhbGlkYXRlLmpzLm1hcCIsIi8qIVxuICogQ29tcHJlc3Nvci5qcyB2MS4yLjFcbiAqIGh0dHBzOi8vZmVuZ3l1YW5jaGVuLmdpdGh1Yi5pby9jb21wcmVzc29yanNcbiAqXG4gKiBDb3B5cmlnaHQgMjAxOC1wcmVzZW50IENoZW4gRmVuZ3l1YW5cbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMjMtMDItMjhUMTQ6MDk6NDEuNzMyWlxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLkNvbXByZXNzb3IgPSBmYWN0b3J5KCkpO1xufSkodGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcbiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7XG4gICAgICBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gICAgICB9KSksIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTtcbiAgICB9XG4gICAgcmV0dXJuIGtleXM7XG4gIH1cbiAgZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuICAgICAgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIF90b1Byb3BlcnR5S2V5KGRlc2NyaXB0b3Iua2V5KSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7XG4gICAgICB3cml0YWJsZTogZmFsc2VcbiAgICB9KTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH1cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7XG4gICAgaWYgKGtleSBpbiBvYmopIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9XG4gIGZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICAgIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xuICAgIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG4gIGZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDtcbiAgICB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07XG4gICAgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7XG4gICAgICBpZiAodHlwZW9mIHJlcyAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlcztcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7XG4gIH1cbiAgZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7XG4gICAgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpO1xuICAgIHJldHVybiB0eXBlb2Yga2V5ID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7XG4gIH1cblxuICB2YXIgY2FudmFzVG9CbG9iID0ge2V4cG9ydHM6IHt9fTtcblxuICAvKlxuICAgKiBKYXZhU2NyaXB0IENhbnZhcyB0byBCbG9iXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ibHVlaW1wL0phdmFTY3JpcHQtQ2FudmFzLXRvLUJsb2JcbiAgICpcbiAgICogQ29weXJpZ2h0IDIwMTIsIFNlYmFzdGlhbiBUc2NoYW5cbiAgICogaHR0cHM6Ly9ibHVlaW1wLm5ldFxuICAgKlxuICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6XG4gICAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4gICAqXG4gICAqIEJhc2VkIG9uIHN0YWNrb3ZlcmZsb3cgdXNlciBTdG9pdmUncyBjb2RlIHNuaXBwZXQ6XG4gICAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xLzQ5OTg5MDhcbiAgICovXG4gIChmdW5jdGlvbiAobW9kdWxlKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuICAgIChmdW5jdGlvbiAod2luZG93KSB7XG5cbiAgICAgIHZhciBDYW52YXNQcm90b3R5cGUgPSB3aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQgJiYgd2luZG93LkhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZTtcbiAgICAgIHZhciBoYXNCbG9iQ29uc3RydWN0b3IgPSB3aW5kb3cuQmxvYiAmJiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEJvb2xlYW4obmV3IEJsb2IoKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0oKTtcbiAgICAgIHZhciBoYXNBcnJheUJ1ZmZlclZpZXdTdXBwb3J0ID0gaGFzQmxvYkNvbnN0cnVjdG9yICYmIHdpbmRvdy5VaW50OEFycmF5ICYmIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gbmV3IEJsb2IoW25ldyBVaW50OEFycmF5KDEwMCldKS5zaXplID09PSAxMDA7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0oKTtcbiAgICAgIHZhciBCbG9iQnVpbGRlciA9IHdpbmRvdy5CbG9iQnVpbGRlciB8fCB3aW5kb3cuV2ViS2l0QmxvYkJ1aWxkZXIgfHwgd2luZG93Lk1vekJsb2JCdWlsZGVyIHx8IHdpbmRvdy5NU0Jsb2JCdWlsZGVyO1xuICAgICAgdmFyIGRhdGFVUklQYXR0ZXJuID0gL15kYXRhOigoLio/KSg7Y2hhcnNldD0uKj8pPykoO2Jhc2U2NCk/LC87XG4gICAgICB2YXIgZGF0YVVSTHRvQmxvYiA9IChoYXNCbG9iQ29uc3RydWN0b3IgfHwgQmxvYkJ1aWxkZXIpICYmIHdpbmRvdy5hdG9iICYmIHdpbmRvdy5BcnJheUJ1ZmZlciAmJiB3aW5kb3cuVWludDhBcnJheSAmJiBmdW5jdGlvbiAoZGF0YVVSSSkge1xuICAgICAgICB2YXIgbWF0Y2hlcywgbWVkaWFUeXBlLCBpc0Jhc2U2NCwgZGF0YVN0cmluZywgYnl0ZVN0cmluZywgYXJyYXlCdWZmZXIsIGludEFycmF5LCBpLCBiYjtcbiAgICAgICAgLy8gUGFyc2UgdGhlIGRhdGFVUkkgY29tcG9uZW50cyBhcyBwZXIgUkZDIDIzOTdcbiAgICAgICAgbWF0Y2hlcyA9IGRhdGFVUkkubWF0Y2goZGF0YVVSSVBhdHRlcm4pO1xuICAgICAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZGF0YSBVUkknKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEZWZhdWx0IHRvIHRleHQvcGxhaW47Y2hhcnNldD1VUy1BU0NJSVxuICAgICAgICBtZWRpYVR5cGUgPSBtYXRjaGVzWzJdID8gbWF0Y2hlc1sxXSA6ICd0ZXh0L3BsYWluJyArIChtYXRjaGVzWzNdIHx8ICc7Y2hhcnNldD1VUy1BU0NJSScpO1xuICAgICAgICBpc0Jhc2U2NCA9ICEhbWF0Y2hlc1s0XTtcbiAgICAgICAgZGF0YVN0cmluZyA9IGRhdGFVUkkuc2xpY2UobWF0Y2hlc1swXS5sZW5ndGgpO1xuICAgICAgICBpZiAoaXNCYXNlNjQpIHtcbiAgICAgICAgICAvLyBDb252ZXJ0IGJhc2U2NCB0byByYXcgYmluYXJ5IGRhdGEgaGVsZCBpbiBhIHN0cmluZzpcbiAgICAgICAgICBieXRlU3RyaW5nID0gYXRvYihkYXRhU3RyaW5nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBDb252ZXJ0IGJhc2U2NC9VUkxFbmNvZGVkIGRhdGEgY29tcG9uZW50IHRvIHJhdyBiaW5hcnk6XG4gICAgICAgICAgYnl0ZVN0cmluZyA9IGRlY29kZVVSSUNvbXBvbmVudChkYXRhU3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXcml0ZSB0aGUgYnl0ZXMgb2YgdGhlIHN0cmluZyB0byBhbiBBcnJheUJ1ZmZlcjpcbiAgICAgICAgYXJyYXlCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoYnl0ZVN0cmluZy5sZW5ndGgpO1xuICAgICAgICBpbnRBcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJ5dGVTdHJpbmcubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICBpbnRBcnJheVtpXSA9IGJ5dGVTdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXcml0ZSB0aGUgQXJyYXlCdWZmZXIgKG9yIEFycmF5QnVmZmVyVmlldykgdG8gYSBibG9iOlxuICAgICAgICBpZiAoaGFzQmxvYkNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBCbG9iKFtoYXNBcnJheUJ1ZmZlclZpZXdTdXBwb3J0ID8gaW50QXJyYXkgOiBhcnJheUJ1ZmZlcl0sIHtcbiAgICAgICAgICAgIHR5cGU6IG1lZGlhVHlwZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJiID0gbmV3IEJsb2JCdWlsZGVyKCk7XG4gICAgICAgIGJiLmFwcGVuZChhcnJheUJ1ZmZlcik7XG4gICAgICAgIHJldHVybiBiYi5nZXRCbG9iKG1lZGlhVHlwZSk7XG4gICAgICB9O1xuICAgICAgaWYgKHdpbmRvdy5IVE1MQ2FudmFzRWxlbWVudCAmJiAhQ2FudmFzUHJvdG90eXBlLnRvQmxvYikge1xuICAgICAgICBpZiAoQ2FudmFzUHJvdG90eXBlLm1vekdldEFzRmlsZSkge1xuICAgICAgICAgIENhbnZhc1Byb3RvdHlwZS50b0Jsb2IgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHR5cGUsIHF1YWxpdHkpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBpZiAocXVhbGl0eSAmJiBDYW52YXNQcm90b3R5cGUudG9EYXRhVVJMICYmIGRhdGFVUkx0b0Jsb2IpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhVVJMdG9CbG9iKHNlbGYudG9EYXRhVVJMKHR5cGUsIHF1YWxpdHkpKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soc2VsZi5tb3pHZXRBc0ZpbGUoJ2Jsb2InLCB0eXBlKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoQ2FudmFzUHJvdG90eXBlLnRvRGF0YVVSTCAmJiBkYXRhVVJMdG9CbG9iKSB7XG4gICAgICAgICAgaWYgKENhbnZhc1Byb3RvdHlwZS5tc1RvQmxvYikge1xuICAgICAgICAgICAgQ2FudmFzUHJvdG90eXBlLnRvQmxvYiA9IGZ1bmN0aW9uIChjYWxsYmFjaywgdHlwZSwgcXVhbGl0eSkge1xuICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICgodHlwZSAmJiB0eXBlICE9PSAnaW1hZ2UvcG5nJyB8fCBxdWFsaXR5KSAmJiBDYW52YXNQcm90b3R5cGUudG9EYXRhVVJMICYmIGRhdGFVUkx0b0Jsb2IpIHtcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGFVUkx0b0Jsb2Ioc2VsZi50b0RhdGFVUkwodHlwZSwgcXVhbGl0eSkpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY2FsbGJhY2soc2VsZi5tc1RvQmxvYih0eXBlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIENhbnZhc1Byb3RvdHlwZS50b0Jsb2IgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHR5cGUsIHF1YWxpdHkpIHtcbiAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhVVJMdG9CbG9iKHNlbGYudG9EYXRhVVJMKHR5cGUsIHF1YWxpdHkpKSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGRhdGFVUkx0b0Jsb2I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuZGF0YVVSTHRvQmxvYiA9IGRhdGFVUkx0b0Jsb2I7XG4gICAgICB9XG4gICAgfSkod2luZG93KTtcbiAgfSkoY2FudmFzVG9CbG9iKTtcbiAgdmFyIHRvQmxvYiA9IGNhbnZhc1RvQmxvYi5leHBvcnRzO1xuXG4gIHZhciBpc0Jsb2IgPSBmdW5jdGlvbiBpc0Jsb2IodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIEJsb2IgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEJsb2IgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQmxvYl0nO1xuICB9O1xuXG4gIHZhciBERUZBVUxUUyA9IHtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgb3V0cHV0IHRoZSBvcmlnaW5hbCBpbWFnZSBpbnN0ZWFkIG9mIHRoZSBjb21wcmVzc2VkIG9uZVxuICAgICAqIHdoZW4gdGhlIHNpemUgb2YgdGhlIGNvbXByZXNzZWQgaW1hZ2UgaXMgZ3JlYXRlciB0aGFuIHRoZSBvcmlnaW5hbCBvbmUnc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHN0cmljdDogdHJ1ZSxcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgcmVhZCB0aGUgaW1hZ2UncyBFeGlmIE9yaWVudGF0aW9uIGluZm9ybWF0aW9uLFxuICAgICAqIGFuZCB0aGVuIHJvdGF0ZSBvciBmbGlwIHRoZSBpbWFnZSBhdXRvbWF0aWNhbGx5LlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIGNoZWNrT3JpZW50YXRpb246IHRydWUsXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIHJldGFpbiB0aGUgaW1hZ2UncyBFeGlmIGluZm9ybWF0aW9uIGFmdGVyIGNvbXByZXNzZWQuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgKi9cbiAgICByZXRhaW5FeGlmOiBmYWxzZSxcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4IHdpZHRoIG9mIHRoZSBvdXRwdXQgaW1hZ2UuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBtYXhXaWR0aDogSW5maW5pdHksXG4gICAgLyoqXG4gICAgICogVGhlIG1heCBoZWlnaHQgb2YgdGhlIG91dHB1dCBpbWFnZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIG1heEhlaWdodDogSW5maW5pdHksXG4gICAgLyoqXG4gICAgICogVGhlIG1pbiB3aWR0aCBvZiB0aGUgb3V0cHV0IGltYWdlLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgbWluV2lkdGg6IDAsXG4gICAgLyoqXG4gICAgICogVGhlIG1pbiBoZWlnaHQgb2YgdGhlIG91dHB1dCBpbWFnZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIG1pbkhlaWdodDogMCxcbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIG91dHB1dCBpbWFnZS5cbiAgICAgKiBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgbmF0dXJhbCB3aWR0aCBvZiB0aGUgc291cmNlIGltYWdlIHdpbGwgYmUgdXNlZC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHdpZHRoOiB1bmRlZmluZWQsXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgb3V0cHV0IGltYWdlLlxuICAgICAqIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBuYXR1cmFsIGhlaWdodCBvZiB0aGUgc291cmNlIGltYWdlIHdpbGwgYmUgdXNlZC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIGhlaWdodDogdW5kZWZpbmVkLFxuICAgIC8qKlxuICAgICAqIFNldHMgaG93IHRoZSBzaXplIG9mIHRoZSBpbWFnZSBzaG91bGQgYmUgcmVzaXplZCB0byB0aGUgY29udGFpbmVyXG4gICAgICogc3BlY2lmaWVkIGJ5IHRoZSBgd2lkdGhgIGFuZCBgaGVpZ2h0YCBvcHRpb25zLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgcmVzaXplOiAnbm9uZScsXG4gICAgLyoqXG4gICAgICogVGhlIHF1YWxpdHkgb2YgdGhlIG91dHB1dCBpbWFnZS5cbiAgICAgKiBJdCBtdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gYDBgIGFuZCBgMWAsXG4gICAgICogYW5kIG9ubHkgYXZhaWxhYmxlIGZvciBgaW1hZ2UvanBlZ2AgYW5kIGBpbWFnZS93ZWJwYCBpbWFnZXMuXG4gICAgICogQ2hlY2sgb3V0IHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvdG9CbG9iIGNhbnZhcy50b0Jsb2J9LlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgcXVhbGl0eTogMC44LFxuICAgIC8qKlxuICAgICAqIFRoZSBtaW1lIHR5cGUgb2YgdGhlIG91dHB1dCBpbWFnZS5cbiAgICAgKiBCeSBkZWZhdWx0LCB0aGUgb3JpZ2luYWwgbWltZSB0eXBlIG9mIHRoZSBzb3VyY2UgaW1hZ2UgZmlsZSB3aWxsIGJlIHVzZWQuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBtaW1lVHlwZTogJ2F1dG8nLFxuICAgIC8qKlxuICAgICAqIEZpbGVzIHdob3NlIGZpbGUgdHlwZSBpcyBpbmNsdWRlZCBpbiB0aGlzIGxpc3QsXG4gICAgICogYW5kIHdob3NlIGZpbGUgc2l6ZSBleGNlZWRzIHRoZSBgY29udmVydFNpemVgIHZhbHVlIHdpbGwgYmUgY29udmVydGVkIHRvIEpQRUdzLlxuICAgICAqIEB0eXBlIHtzdHJpbmfvvZxBcnJheX1cbiAgICAgKi9cbiAgICBjb252ZXJ0VHlwZXM6IFsnaW1hZ2UvcG5nJ10sXG4gICAgLyoqXG4gICAgICogUE5HIGZpbGVzIG92ZXIgdGhpcyBzaXplICg1IE1CIGJ5IGRlZmF1bHQpIHdpbGwgYmUgY29udmVydGVkIHRvIEpQRUdzLlxuICAgICAqIFRvIGRpc2FibGUgdGhpcywganVzdCBzZXQgdGhlIHZhbHVlIHRvIGBJbmZpbml0eWAuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBjb252ZXJ0U2l6ZTogNTAwMDAwMCxcbiAgICAvKipcbiAgICAgKiBUaGUgaG9vayBmdW5jdGlvbiB0byBleGVjdXRlIGJlZm9yZSBkcmF3IHRoZSBpbWFnZSBpbnRvIHRoZSBjYW52YXMgZm9yIGNvbXByZXNzaW9uLlxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCAtIFRoZSAyZCByZW5kZXJpbmcgY29udGV4dCBvZiB0aGUgY2FudmFzLlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIFRoZSBjYW52YXMgZm9yIGNvbXByZXNzaW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogZnVuY3Rpb24gKGNvbnRleHQsIGNhbnZhcykge1xuICAgICAqICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2ZmZic7XG4gICAgICogfVxuICAgICAqL1xuICAgIGJlZm9yZURyYXc6IG51bGwsXG4gICAgLyoqXG4gICAgICogVGhlIGhvb2sgZnVuY3Rpb24gdG8gZXhlY3V0ZSBhZnRlciBkcmV3IHRoZSBpbWFnZSBpbnRvIHRoZSBjYW52YXMgZm9yIGNvbXByZXNzaW9uLlxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCAtIFRoZSAyZCByZW5kZXJpbmcgY29udGV4dCBvZiB0aGUgY2FudmFzLlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIFRoZSBjYW52YXMgZm9yIGNvbXByZXNzaW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogZnVuY3Rpb24gKGNvbnRleHQsIGNhbnZhcykge1xuICAgICAqICAgY29udGV4dC5maWx0ZXIgPSAnZ3JheXNjYWxlKDEwMCUpJztcbiAgICAgKiB9XG4gICAgICovXG4gICAgZHJldzogbnVsbCxcbiAgICAvKipcbiAgICAgKiBUaGUgaG9vayBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gc3VjY2VzcyB0byBjb21wcmVzcyB0aGUgaW1hZ2UuXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7RmlsZX0gZmlsZSAtIFRoZSBjb21wcmVzc2VkIGltYWdlIEZpbGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGZpbGUpO1xuICAgICAqIH1cbiAgICAgKi9cbiAgICBzdWNjZXNzOiBudWxsLFxuICAgIC8qKlxuICAgICAqIFRoZSBob29rIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgd2hlbiBmYWlsIHRvIGNvbXByZXNzIHRoZSBpbWFnZS5cbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtFcnJvcn0gZXJyIC0gQW4gRXJyb3Igb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogZnVuY3Rpb24gKGVycikge1xuICAgICAqICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpO1xuICAgICAqIH1cbiAgICAgKi9cbiAgICBlcnJvcjogbnVsbFxuICB9O1xuXG4gIHZhciBJU19CUk9XU0VSID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG4gIHZhciBXSU5ET1cgPSBJU19CUk9XU0VSID8gd2luZG93IDoge307XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIHBvc2l0aXZlIG51bWJlci5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIHBvc2l0aXZlIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgdmFyIGlzUG9zaXRpdmVOdW1iZXIgPSBmdW5jdGlvbiBpc1Bvc2l0aXZlTnVtYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID4gMCAmJiB2YWx1ZSA8IEluZmluaXR5O1xuICB9O1xuICB2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgYXJyYXktbGlrZSBvciBpdGVyYWJsZSBvYmplY3QgdG8gYW4gYXJyYXkuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5mcm9tID8gQXJyYXkuZnJvbSh2YWx1ZSkgOiBzbGljZS5jYWxsKHZhbHVlKTtcbiAgfVxuICB2YXIgUkVHRVhQX0lNQUdFX1RZUEUgPSAvXmltYWdlXFwvLiskLztcblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgbWltZSB0eXBlIG9mIGltYWdlLlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIGlzIGEgbWltZSB0eXBlIG9mIGltYWdlLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBpc0ltYWdlVHlwZSh2YWx1ZSkge1xuICAgIHJldHVybiBSRUdFWFBfSU1BR0VfVFlQRS50ZXN0KHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IGltYWdlIHR5cGUgdG8gZXh0ZW5zaW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBUaGUgaW1hZ2UgdHlwZSB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyB0aGUgaW1hZ2UgZXh0ZW5zaW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gaW1hZ2VUeXBlVG9FeHRlbnNpb24odmFsdWUpIHtcbiAgICB2YXIgZXh0ZW5zaW9uID0gaXNJbWFnZVR5cGUodmFsdWUpID8gdmFsdWUuc3Vic3RyKDYpIDogJyc7XG4gICAgaWYgKGV4dGVuc2lvbiA9PT0gJ2pwZWcnKSB7XG4gICAgICBleHRlbnNpb24gPSAnanBnJztcbiAgICB9XG4gICAgcmV0dXJuIFwiLlwiLmNvbmNhdChleHRlbnNpb24pO1xuICB9XG4gIHZhciBmcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlO1xuXG4gIC8qKlxuICAgKiBHZXQgc3RyaW5nIGZyb20gY2hhciBjb2RlIGluIGRhdGEgdmlldy5cbiAgICogQHBhcmFtIHtEYXRhVmlld30gZGF0YVZpZXcgLSBUaGUgZGF0YSB2aWV3IGZvciByZWFkLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBUaGUgc3RhcnQgaW5kZXguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggLSBUaGUgcmVhZCBsZW5ndGguXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSByZWFkIHJlc3VsdC5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFN0cmluZ0Zyb21DaGFyQ29kZShkYXRhVmlldywgc3RhcnQsIGxlbmd0aCkge1xuICAgIHZhciBzdHIgPSAnJztcbiAgICB2YXIgaTtcbiAgICBsZW5ndGggKz0gc3RhcnQ7XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgc3RyICs9IGZyb21DaGFyQ29kZShkYXRhVmlldy5nZXRVaW50OChpKSk7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgdmFyIGJ0b2EgPSBXSU5ET1cuYnRvYTtcblxuICAvKipcbiAgICogVHJhbnNmb3JtIGFycmF5IGJ1ZmZlciB0byBEYXRhIFVSTC5cbiAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgLSBUaGUgYXJyYXkgYnVmZmVyIHRvIHRyYW5zZm9ybS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG1pbWVUeXBlIC0gVGhlIG1pbWUgdHlwZSBvZiB0aGUgRGF0YSBVUkwuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSByZXN1bHQgRGF0YSBVUkwuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUJ1ZmZlclRvRGF0YVVSTChhcnJheUJ1ZmZlciwgbWltZVR5cGUpIHtcbiAgICB2YXIgY2h1bmtzID0gW107XG4gICAgdmFyIGNodW5rU2l6ZSA9IDgxOTI7XG4gICAgdmFyIHVpbnQ4ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xuICAgIHdoaWxlICh1aW50OC5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBYWFg6IEJhYmVsJ3MgYHRvQ29uc3VtYWJsZUFycmF5YCBoZWxwZXIgd2lsbCB0aHJvdyBlcnJvciBpbiBJRSBvciBTYWZhcmkgOVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1zcHJlYWRcbiAgICAgIGNodW5rcy5wdXNoKGZyb21DaGFyQ29kZS5hcHBseShudWxsLCB0b0FycmF5KHVpbnQ4LnN1YmFycmF5KDAsIGNodW5rU2l6ZSkpKSk7XG4gICAgICB1aW50OCA9IHVpbnQ4LnN1YmFycmF5KGNodW5rU2l6ZSk7XG4gICAgfVxuICAgIHJldHVybiBcImRhdGE6XCIuY29uY2F0KG1pbWVUeXBlLCBcIjtiYXNlNjQsXCIpLmNvbmNhdChidG9hKGNodW5rcy5qb2luKCcnKSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvcmllbnRhdGlvbiB2YWx1ZSBmcm9tIGdpdmVuIGFycmF5IGJ1ZmZlci5cbiAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgLSBUaGUgYXJyYXkgYnVmZmVyIHRvIHJlYWQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSByZWFkIG9yaWVudGF0aW9uIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVzZXRBbmRHZXRPcmllbnRhdGlvbihhcnJheUJ1ZmZlcikge1xuICAgIHZhciBkYXRhVmlldyA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlcik7XG4gICAgdmFyIG9yaWVudGF0aW9uO1xuXG4gICAgLy8gSWdub3JlcyByYW5nZSBlcnJvciB3aGVuIHRoZSBpbWFnZSBkb2VzIG5vdCBoYXZlIGNvcnJlY3QgRXhpZiBpbmZvcm1hdGlvblxuICAgIHRyeSB7XG4gICAgICB2YXIgbGl0dGxlRW5kaWFuO1xuICAgICAgdmFyIGFwcDFTdGFydDtcbiAgICAgIHZhciBpZmRTdGFydDtcblxuICAgICAgLy8gT25seSBoYW5kbGUgSlBFRyBpbWFnZSAoc3RhcnQgYnkgMHhGRkQ4KVxuICAgICAgaWYgKGRhdGFWaWV3LmdldFVpbnQ4KDApID09PSAweEZGICYmIGRhdGFWaWV3LmdldFVpbnQ4KDEpID09PSAweEQ4KSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBkYXRhVmlldy5ieXRlTGVuZ3RoO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gMjtcbiAgICAgICAgd2hpbGUgKG9mZnNldCArIDEgPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAoZGF0YVZpZXcuZ2V0VWludDgob2Zmc2V0KSA9PT0gMHhGRiAmJiBkYXRhVmlldy5nZXRVaW50OChvZmZzZXQgKyAxKSA9PT0gMHhFMSkge1xuICAgICAgICAgICAgYXBwMVN0YXJ0ID0gb2Zmc2V0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9mZnNldCArPSAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYXBwMVN0YXJ0KSB7XG4gICAgICAgIHZhciBleGlmSURDb2RlID0gYXBwMVN0YXJ0ICsgNDtcbiAgICAgICAgdmFyIHRpZmZPZmZzZXQgPSBhcHAxU3RhcnQgKyAxMDtcbiAgICAgICAgaWYgKGdldFN0cmluZ0Zyb21DaGFyQ29kZShkYXRhVmlldywgZXhpZklEQ29kZSwgNCkgPT09ICdFeGlmJykge1xuICAgICAgICAgIHZhciBlbmRpYW5uZXNzID0gZGF0YVZpZXcuZ2V0VWludDE2KHRpZmZPZmZzZXQpO1xuICAgICAgICAgIGxpdHRsZUVuZGlhbiA9IGVuZGlhbm5lc3MgPT09IDB4NDk0OTtcbiAgICAgICAgICBpZiAobGl0dGxlRW5kaWFuIHx8IGVuZGlhbm5lc3MgPT09IDB4NEQ0RCAvKiBiaWdFbmRpYW4gKi8pIHtcbiAgICAgICAgICAgIGlmIChkYXRhVmlldy5nZXRVaW50MTYodGlmZk9mZnNldCArIDIsIGxpdHRsZUVuZGlhbikgPT09IDB4MDAyQSkge1xuICAgICAgICAgICAgICB2YXIgZmlyc3RJRkRPZmZzZXQgPSBkYXRhVmlldy5nZXRVaW50MzIodGlmZk9mZnNldCArIDQsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgICAgICAgIGlmIChmaXJzdElGRE9mZnNldCA+PSAweDAwMDAwMDA4KSB7XG4gICAgICAgICAgICAgICAgaWZkU3RhcnQgPSB0aWZmT2Zmc2V0ICsgZmlyc3RJRkRPZmZzZXQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpZmRTdGFydCkge1xuICAgICAgICB2YXIgX2xlbmd0aCA9IGRhdGFWaWV3LmdldFVpbnQxNihpZmRTdGFydCwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgdmFyIF9vZmZzZXQ7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX2xlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgX29mZnNldCA9IGlmZFN0YXJ0ICsgaSAqIDEyICsgMjtcbiAgICAgICAgICBpZiAoZGF0YVZpZXcuZ2V0VWludDE2KF9vZmZzZXQsIGxpdHRsZUVuZGlhbikgPT09IDB4MDExMiAvKiBPcmllbnRhdGlvbiAqLykge1xuICAgICAgICAgICAgLy8gOCBpcyB0aGUgb2Zmc2V0IG9mIHRoZSBjdXJyZW50IHRhZydzIHZhbHVlXG4gICAgICAgICAgICBfb2Zmc2V0ICs9IDg7XG5cbiAgICAgICAgICAgIC8vIEdldCB0aGUgb3JpZ2luYWwgb3JpZW50YXRpb24gdmFsdWVcbiAgICAgICAgICAgIG9yaWVudGF0aW9uID0gZGF0YVZpZXcuZ2V0VWludDE2KF9vZmZzZXQsIGxpdHRsZUVuZGlhbik7XG5cbiAgICAgICAgICAgIC8vIE92ZXJyaWRlIHRoZSBvcmllbnRhdGlvbiB3aXRoIGl0cyBkZWZhdWx0IHZhbHVlXG4gICAgICAgICAgICBkYXRhVmlldy5zZXRVaW50MTYoX29mZnNldCwgMSwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIG9yaWVudGF0aW9uID0gMTtcbiAgICB9XG4gICAgcmV0dXJuIG9yaWVudGF0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIEV4aWYgT3JpZW50YXRpb24gdmFsdWUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvcmllbnRhdGlvbiAtIFRoZSBvcmllbnRhdGlvbiB0byBwYXJzZS5cbiAgICogQHJldHVybnMge09iamVjdH0gVGhlIHBhcnNlZCByZXN1bHQuXG4gICAqL1xuICBmdW5jdGlvbiBwYXJzZU9yaWVudGF0aW9uKG9yaWVudGF0aW9uKSB7XG4gICAgdmFyIHJvdGF0ZSA9IDA7XG4gICAgdmFyIHNjYWxlWCA9IDE7XG4gICAgdmFyIHNjYWxlWSA9IDE7XG4gICAgc3dpdGNoIChvcmllbnRhdGlvbikge1xuICAgICAgLy8gRmxpcCBob3Jpem9udGFsXG4gICAgICBjYXNlIDI6XG4gICAgICAgIHNjYWxlWCA9IC0xO1xuICAgICAgICBicmVhaztcblxuICAgICAgLy8gUm90YXRlIGxlZnQgMTgwwrBcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcm90YXRlID0gLTE4MDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIC8vIEZsaXAgdmVydGljYWxcbiAgICAgIGNhc2UgNDpcbiAgICAgICAgc2NhbGVZID0gLTE7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvLyBGbGlwIHZlcnRpY2FsIGFuZCByb3RhdGUgcmlnaHQgOTDCsFxuICAgICAgY2FzZSA1OlxuICAgICAgICByb3RhdGUgPSA5MDtcbiAgICAgICAgc2NhbGVZID0gLTE7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvLyBSb3RhdGUgcmlnaHQgOTDCsFxuICAgICAgY2FzZSA2OlxuICAgICAgICByb3RhdGUgPSA5MDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIC8vIEZsaXAgaG9yaXpvbnRhbCBhbmQgcm90YXRlIHJpZ2h0IDkwwrBcbiAgICAgIGNhc2UgNzpcbiAgICAgICAgcm90YXRlID0gOTA7XG4gICAgICAgIHNjYWxlWCA9IC0xO1xuICAgICAgICBicmVhaztcblxuICAgICAgLy8gUm90YXRlIGxlZnQgOTDCsFxuICAgICAgY2FzZSA4OlxuICAgICAgICByb3RhdGUgPSAtOTA7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgcm90YXRlOiByb3RhdGUsXG4gICAgICBzY2FsZVg6IHNjYWxlWCxcbiAgICAgIHNjYWxlWTogc2NhbGVZXG4gICAgfTtcbiAgfVxuICB2YXIgUkVHRVhQX0RFQ0lNQUxTID0gL1xcLlxcZCooPzowfDkpezEyfVxcZCokLztcblxuICAvKipcbiAgICogTm9ybWFsaXplIGRlY2ltYWwgbnVtYmVyLlxuICAgKiBDaGVjayBvdXQge0BsaW5rIGh0dHBzOi8vMC4zMDAwMDAwMDAwMDAwMDAwNC5jb20vfVxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gbm9ybWFsaXplLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3RpbWVzPTEwMDAwMDAwMDAwMF0gLSBUaGUgdGltZXMgZm9yIG5vcm1hbGl6aW5nLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBub3JtYWxpemVkIG51bWJlci5cbiAgICovXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZURlY2ltYWxOdW1iZXIodmFsdWUpIHtcbiAgICB2YXIgdGltZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDEwMDAwMDAwMDAwMDtcbiAgICByZXR1cm4gUkVHRVhQX0RFQ0lNQUxTLnRlc3QodmFsdWUpID8gTWF0aC5yb3VuZCh2YWx1ZSAqIHRpbWVzKSAvIHRpbWVzIDogdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBtYXggc2l6ZXMgaW4gYSByZWN0YW5nbGUgdW5kZXIgdGhlIGdpdmVuIGFzcGVjdCByYXRpby5cbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgb3JpZ2luYWwgc2l6ZXMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdHlwZT0nY29udGFpbiddIC0gVGhlIGFkanVzdCB0eXBlLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcmVzdWx0IHNpemVzLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0QWRqdXN0ZWRTaXplcyhfcmVmKSB7XG4gICAgdmFyIGFzcGVjdFJhdGlvID0gX3JlZi5hc3BlY3RSYXRpbyxcbiAgICAgIGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgd2lkdGggPSBfcmVmLndpZHRoO1xuICAgIHZhciB0eXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnbm9uZSc7XG4gICAgdmFyIGlzVmFsaWRXaWR0aCA9IGlzUG9zaXRpdmVOdW1iZXIod2lkdGgpO1xuICAgIHZhciBpc1ZhbGlkSGVpZ2h0ID0gaXNQb3NpdGl2ZU51bWJlcihoZWlnaHQpO1xuICAgIGlmIChpc1ZhbGlkV2lkdGggJiYgaXNWYWxpZEhlaWdodCkge1xuICAgICAgdmFyIGFkanVzdGVkV2lkdGggPSBoZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgIGlmICgodHlwZSA9PT0gJ2NvbnRhaW4nIHx8IHR5cGUgPT09ICdub25lJykgJiYgYWRqdXN0ZWRXaWR0aCA+IHdpZHRoIHx8IHR5cGUgPT09ICdjb3ZlcicgJiYgYWRqdXN0ZWRXaWR0aCA8IHdpZHRoKSB7XG4gICAgICAgIGhlaWdodCA9IHdpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aWR0aCA9IGhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNWYWxpZFdpZHRoKSB7XG4gICAgICBoZWlnaHQgPSB3aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgIH0gZWxzZSBpZiAoaXNWYWxpZEhlaWdodCkge1xuICAgICAgd2lkdGggPSBoZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgRXhpZiBpbmZvcm1hdGlvbiBmcm9tIHRoZSBnaXZlbiBhcnJheSBidWZmZXIuXG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIC0gVGhlIGFycmF5IGJ1ZmZlciB0byByZWFkLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSByZWFkIEV4aWYgaW5mb3JtYXRpb24uXG4gICAqL1xuICBmdW5jdGlvbiBnZXRFeGlmKGFycmF5QnVmZmVyKSB7XG4gICAgdmFyIGFycmF5ID0gdG9BcnJheShuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgdmFyIHNlZ21lbnRzID0gW107XG4gICAgdmFyIHN0YXJ0ID0gMDtcbiAgICB3aGlsZSAoc3RhcnQgKyAzIDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtzdGFydF07XG4gICAgICB2YXIgbmV4dCA9IGFycmF5W3N0YXJ0ICsgMV07XG5cbiAgICAgIC8vIFNPUyAoU3RhcnQgb2YgU2NhbilcbiAgICAgIGlmICh2YWx1ZSA9PT0gMHhGRiAmJiBuZXh0ID09PSAweERBKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICAvLyBTT0kgKFN0YXJ0IG9mIEltYWdlKVxuICAgICAgaWYgKHZhbHVlID09PSAweEZGICYmIG5leHQgPT09IDB4RDgpIHtcbiAgICAgICAgc3RhcnQgKz0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSBhcnJheVtzdGFydCArIDJdICogMjU2ICsgYXJyYXlbc3RhcnQgKyAzXTtcbiAgICAgICAgdmFyIGVuZCA9IHN0YXJ0ICsgb2Zmc2V0ICsgMjtcbiAgICAgICAgdmFyIHNlZ21lbnQgPSBhcnJheS5zbGljZShzdGFydCwgZW5kKTtcbiAgICAgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICAgICAgc3RhcnQgPSBlbmQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZWdtZW50cy5yZWR1Y2UoZnVuY3Rpb24gKGV4aWZBcnJheSwgY3VycmVudCkge1xuICAgICAgaWYgKGN1cnJlbnRbMF0gPT09IDB4RkYgJiYgY3VycmVudFsxXSA9PT0gMHhFMSkge1xuICAgICAgICByZXR1cm4gZXhpZkFycmF5LmNvbmNhdChjdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBleGlmQXJyYXk7XG4gICAgfSwgW10pO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydCBFeGlmIGluZm9ybWF0aW9uIGludG8gdGhlIGdpdmVuIGFycmF5IGJ1ZmZlci5cbiAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgLSBUaGUgYXJyYXkgYnVmZmVyIHRvIHRyYW5zZm9ybS5cbiAgICogQHBhcmFtIHtBcnJheX0gZXhpZkFycmF5IC0gVGhlIEV4aWYgaW5mb3JtYXRpb24gdG8gaW5zZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IFRoZSB0cmFuc2Zvcm1lZCBhcnJheSBidWZmZXIuXG4gICAqL1xuICBmdW5jdGlvbiBpbnNlcnRFeGlmKGFycmF5QnVmZmVyLCBleGlmQXJyYXkpIHtcbiAgICB2YXIgYXJyYXkgPSB0b0FycmF5KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gICAgaWYgKGFycmF5WzJdICE9PSAweEZGIHx8IGFycmF5WzNdICE9PSAweEUwKSB7XG4gICAgICByZXR1cm4gYXJyYXlCdWZmZXI7XG4gICAgfVxuICAgIHZhciBhcHAwTGVuZ3RoID0gYXJyYXlbNF0gKiAyNTYgKyBhcnJheVs1XTtcbiAgICB2YXIgbmV3QXJyYXlCdWZmZXIgPSBbMHhGRiwgMHhEOF0uY29uY2F0KGV4aWZBcnJheSwgYXJyYXkuc2xpY2UoNCArIGFwcDBMZW5ndGgpKTtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkobmV3QXJyYXlCdWZmZXIpO1xuICB9XG5cbiAgdmFyIEFycmF5QnVmZmVyJDEgPSBXSU5ET1cuQXJyYXlCdWZmZXIsXG4gICAgRmlsZVJlYWRlciA9IFdJTkRPVy5GaWxlUmVhZGVyO1xuICB2YXIgVVJMID0gV0lORE9XLlVSTCB8fCBXSU5ET1cud2Via2l0VVJMO1xuICB2YXIgUkVHRVhQX0VYVEVOU0lPTiA9IC9cXC5cXHcrJC87XG4gIHZhciBBbm90aGVyQ29tcHJlc3NvciA9IFdJTkRPVy5Db21wcmVzc29yO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGltYWdlIGNvbXByZXNzb3IuXG4gICAqIEBjbGFzc1xuICAgKi9cbiAgdmFyIENvbXByZXNzb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIFRoZSBjb25zdHJ1Y3RvciBvZiBDb21wcmVzc29yLlxuICAgICAqIEBwYXJhbSB7RmlsZXxCbG9ifSBmaWxlIC0gVGhlIHRhcmdldCBpbWFnZSBmaWxlIGZvciBjb21wcmVzc2luZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIGNvbXByZXNzaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbXByZXNzb3IoZmlsZSwgb3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbXByZXNzb3IpO1xuICAgICAgdGhpcy5maWxlID0gZmlsZTtcbiAgICAgIHRoaXMuZXhpZiA9IFtdO1xuICAgICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgdGhpcy5vcHRpb25zID0gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIERFRkFVTFRTKSwgb3B0aW9ucyk7XG4gICAgICB0aGlzLmFib3J0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMucmVzdWx0ID0gbnVsbDtcbiAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgICBfY3JlYXRlQ2xhc3MoQ29tcHJlc3NvciwgW3tcbiAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGUsXG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgaWYgKCFpc0Jsb2IoZmlsZSkpIHtcbiAgICAgICAgICB0aGlzLmZhaWwobmV3IEVycm9yKCdUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIEZpbGUgb3IgQmxvYiBvYmplY3QuJykpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWltZVR5cGUgPSBmaWxlLnR5cGU7XG4gICAgICAgIGlmICghaXNJbWFnZVR5cGUobWltZVR5cGUpKSB7XG4gICAgICAgICAgdGhpcy5mYWlsKG5ldyBFcnJvcignVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYW4gaW1hZ2UgRmlsZSBvciBCbG9iIG9iamVjdC4nKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghVVJMIHx8ICFGaWxlUmVhZGVyKSB7XG4gICAgICAgICAgdGhpcy5mYWlsKG5ldyBFcnJvcignVGhlIGN1cnJlbnQgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGltYWdlIGNvbXByZXNzaW9uLicpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFBcnJheUJ1ZmZlciQxKSB7XG4gICAgICAgICAgb3B0aW9ucy5jaGVja09yaWVudGF0aW9uID0gZmFsc2U7XG4gICAgICAgICAgb3B0aW9ucy5yZXRhaW5FeGlmID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzSlBFR0ltYWdlID0gbWltZVR5cGUgPT09ICdpbWFnZS9qcGVnJztcbiAgICAgICAgdmFyIGNoZWNrT3JpZW50YXRpb24gPSBpc0pQRUdJbWFnZSAmJiBvcHRpb25zLmNoZWNrT3JpZW50YXRpb247XG4gICAgICAgIHZhciByZXRhaW5FeGlmID0gaXNKUEVHSW1hZ2UgJiYgb3B0aW9ucy5yZXRhaW5FeGlmO1xuICAgICAgICBpZiAoVVJMICYmICFjaGVja09yaWVudGF0aW9uICYmICFyZXRhaW5FeGlmKSB7XG4gICAgICAgICAgdGhpcy5sb2FkKHtcbiAgICAgICAgICAgIHVybDogVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgIHRoaXMucmVhZGVyID0gcmVhZGVyO1xuICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IF9yZWYudGFyZ2V0O1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgICAgdmFyIG9yaWVudGF0aW9uID0gMTtcbiAgICAgICAgICAgIGlmIChjaGVja09yaWVudGF0aW9uKSB7XG4gICAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBvcmllbnRhdGlvbiB2YWx1ZSB0byBpdHMgZGVmYXVsdCB2YWx1ZSAxXG4gICAgICAgICAgICAgIC8vIGFzIHNvbWUgaU9TIGJyb3dzZXJzIHdpbGwgcmVuZGVyIGltYWdlIHdpdGggaXRzIG9yaWVudGF0aW9uXG4gICAgICAgICAgICAgIG9yaWVudGF0aW9uID0gcmVzZXRBbmRHZXRPcmllbnRhdGlvbihyZXN1bHQpO1xuICAgICAgICAgICAgICBpZiAob3JpZW50YXRpb24gPiAxKSB7XG4gICAgICAgICAgICAgICAgX2V4dGVuZHMoZGF0YSwgcGFyc2VPcmllbnRhdGlvbihvcmllbnRhdGlvbikpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmV0YWluRXhpZikge1xuICAgICAgICAgICAgICBfdGhpcy5leGlmID0gZ2V0RXhpZihyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoZWNrT3JpZW50YXRpb24gfHwgcmV0YWluRXhpZikge1xuICAgICAgICAgICAgICBpZiAoIVVSTFxuXG4gICAgICAgICAgICAgIC8vIEdlbmVyYXRlIGEgbmV3IFVSTCB3aXRoIHRoZSBkZWZhdWx0IG9yaWVudGF0aW9uIHZhbHVlIDEuXG4gICAgICAgICAgICAgIHx8IG9yaWVudGF0aW9uID4gMSkge1xuICAgICAgICAgICAgICAgIGRhdGEudXJsID0gYXJyYXlCdWZmZXJUb0RhdGFVUkwocmVzdWx0LCBtaW1lVHlwZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YS51cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkYXRhLnVybCA9IHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmxvYWQoZGF0YSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZWFkZXIub25hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmZhaWwobmV3IEVycm9yKCdBYm9ydGVkIHRvIHJlYWQgdGhlIGltYWdlIHdpdGggRmlsZVJlYWRlci4nKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmZhaWwobmV3IEVycm9yKCdGYWlsZWQgdG8gcmVhZCB0aGUgaW1hZ2Ugd2l0aCBGaWxlUmVhZGVyLicpKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5yZWFkZXIgPSBudWxsO1xuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKGNoZWNrT3JpZW50YXRpb24gfHwgcmV0YWluRXhpZikge1xuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwibG9hZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWQoZGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcbiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGUsXG4gICAgICAgICAgaW1hZ2UgPSB0aGlzLmltYWdlO1xuICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMyLmRyYXcoX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIGRhdGEpLCB7fSwge1xuICAgICAgICAgICAgbmF0dXJhbFdpZHRoOiBpbWFnZS5uYXR1cmFsV2lkdGgsXG4gICAgICAgICAgICBuYXR1cmFsSGVpZ2h0OiBpbWFnZS5uYXR1cmFsSGVpZ2h0XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgICAgICBpbWFnZS5vbmFib3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMi5mYWlsKG5ldyBFcnJvcignQWJvcnRlZCB0byBsb2FkIHRoZSBpbWFnZS4nKSk7XG4gICAgICAgIH07XG4gICAgICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMyLmZhaWwobmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCB0aGUgaW1hZ2UuJykpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIE1hdGNoIGFsbCBicm93c2VycyB0aGF0IHVzZSBXZWJLaXQgYXMgdGhlIGxheW91dCBlbmdpbmUgaW4gaU9TIGRldmljZXMsXG4gICAgICAgIC8vIHN1Y2ggYXMgU2FmYXJpIGZvciBpT1MsIENocm9tZSBmb3IgaU9TLCBhbmQgaW4tYXBwIGJyb3dzZXJzLlxuICAgICAgICBpZiAoV0lORE9XLm5hdmlnYXRvciAmJiAvKD86aVBhZHxpUGhvbmV8aVBvZCkuKj9BcHBsZVdlYktpdC9pLnRlc3QoV0lORE9XLm5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG4gICAgICAgICAgLy8gRml4IHRoZSBgVGhlIG9wZXJhdGlvbiBpcyBpbnNlY3VyZWAgZXJyb3IgKCM1NylcbiAgICAgICAgICBpbWFnZS5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG4gICAgICAgIGltYWdlLmFsdCA9IGZpbGUubmFtZTtcbiAgICAgICAgaW1hZ2Uuc3JjID0gZGF0YS51cmw7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRyYXdcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KF9yZWYyKSB7XG4gICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuICAgICAgICB2YXIgbmF0dXJhbFdpZHRoID0gX3JlZjIubmF0dXJhbFdpZHRoLFxuICAgICAgICAgIG5hdHVyYWxIZWlnaHQgPSBfcmVmMi5uYXR1cmFsSGVpZ2h0LFxuICAgICAgICAgIF9yZWYyJHJvdGF0ZSA9IF9yZWYyLnJvdGF0ZSxcbiAgICAgICAgICByb3RhdGUgPSBfcmVmMiRyb3RhdGUgPT09IHZvaWQgMCA/IDAgOiBfcmVmMiRyb3RhdGUsXG4gICAgICAgICAgX3JlZjIkc2NhbGVYID0gX3JlZjIuc2NhbGVYLFxuICAgICAgICAgIHNjYWxlWCA9IF9yZWYyJHNjYWxlWCA9PT0gdm9pZCAwID8gMSA6IF9yZWYyJHNjYWxlWCxcbiAgICAgICAgICBfcmVmMiRzY2FsZVkgPSBfcmVmMi5zY2FsZVksXG4gICAgICAgICAgc2NhbGVZID0gX3JlZjIkc2NhbGVZID09PSB2b2lkIDAgPyAxIDogX3JlZjIkc2NhbGVZO1xuICAgICAgICB2YXIgZmlsZSA9IHRoaXMuZmlsZSxcbiAgICAgICAgICBpbWFnZSA9IHRoaXMuaW1hZ2UsXG4gICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB2YXIgaXM5MERlZ3JlZXNSb3RhdGVkID0gTWF0aC5hYnMocm90YXRlKSAlIDE4MCA9PT0gOTA7XG4gICAgICAgIHZhciByZXNpemFibGUgPSAob3B0aW9ucy5yZXNpemUgPT09ICdjb250YWluJyB8fCBvcHRpb25zLnJlc2l6ZSA9PT0gJ2NvdmVyJykgJiYgaXNQb3NpdGl2ZU51bWJlcihvcHRpb25zLndpZHRoKSAmJiBpc1Bvc2l0aXZlTnVtYmVyKG9wdGlvbnMuaGVpZ2h0KTtcbiAgICAgICAgdmFyIG1heFdpZHRoID0gTWF0aC5tYXgob3B0aW9ucy5tYXhXaWR0aCwgMCkgfHwgSW5maW5pdHk7XG4gICAgICAgIHZhciBtYXhIZWlnaHQgPSBNYXRoLm1heChvcHRpb25zLm1heEhlaWdodCwgMCkgfHwgSW5maW5pdHk7XG4gICAgICAgIHZhciBtaW5XaWR0aCA9IE1hdGgubWF4KG9wdGlvbnMubWluV2lkdGgsIDApIHx8IDA7XG4gICAgICAgIHZhciBtaW5IZWlnaHQgPSBNYXRoLm1heChvcHRpb25zLm1pbkhlaWdodCwgMCkgfHwgMDtcbiAgICAgICAgdmFyIGFzcGVjdFJhdGlvID0gbmF0dXJhbFdpZHRoIC8gbmF0dXJhbEhlaWdodDtcbiAgICAgICAgdmFyIHdpZHRoID0gb3B0aW9ucy53aWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcbiAgICAgICAgaWYgKGlzOTBEZWdyZWVzUm90YXRlZCkge1xuICAgICAgICAgIHZhciBfcmVmMyA9IFttYXhIZWlnaHQsIG1heFdpZHRoXTtcbiAgICAgICAgICBtYXhXaWR0aCA9IF9yZWYzWzBdO1xuICAgICAgICAgIG1heEhlaWdodCA9IF9yZWYzWzFdO1xuICAgICAgICAgIHZhciBfcmVmNCA9IFttaW5IZWlnaHQsIG1pbldpZHRoXTtcbiAgICAgICAgICBtaW5XaWR0aCA9IF9yZWY0WzBdO1xuICAgICAgICAgIG1pbkhlaWdodCA9IF9yZWY0WzFdO1xuICAgICAgICAgIHZhciBfcmVmNSA9IFtoZWlnaHQsIHdpZHRoXTtcbiAgICAgICAgICB3aWR0aCA9IF9yZWY1WzBdO1xuICAgICAgICAgIGhlaWdodCA9IF9yZWY1WzFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNpemFibGUpIHtcbiAgICAgICAgICBhc3BlY3RSYXRpbyA9IHdpZHRoIC8gaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBfZ2V0QWRqdXN0ZWRTaXplcyA9IGdldEFkanVzdGVkU2l6ZXMoe1xuICAgICAgICAgIGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpbyxcbiAgICAgICAgICB3aWR0aDogbWF4V2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBtYXhIZWlnaHRcbiAgICAgICAgfSwgJ2NvbnRhaW4nKTtcbiAgICAgICAgbWF4V2lkdGggPSBfZ2V0QWRqdXN0ZWRTaXplcy53aWR0aDtcbiAgICAgICAgbWF4SGVpZ2h0ID0gX2dldEFkanVzdGVkU2l6ZXMuaGVpZ2h0O1xuICAgICAgICB2YXIgX2dldEFkanVzdGVkU2l6ZXMyID0gZ2V0QWRqdXN0ZWRTaXplcyh7XG4gICAgICAgICAgYXNwZWN0UmF0aW86IGFzcGVjdFJhdGlvLFxuICAgICAgICAgIHdpZHRoOiBtaW5XaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IG1pbkhlaWdodFxuICAgICAgICB9LCAnY292ZXInKTtcbiAgICAgICAgbWluV2lkdGggPSBfZ2V0QWRqdXN0ZWRTaXplczIud2lkdGg7XG4gICAgICAgIG1pbkhlaWdodCA9IF9nZXRBZGp1c3RlZFNpemVzMi5oZWlnaHQ7XG4gICAgICAgIGlmIChyZXNpemFibGUpIHtcbiAgICAgICAgICB2YXIgX2dldEFkanVzdGVkU2l6ZXMzID0gZ2V0QWRqdXN0ZWRTaXplcyh7XG4gICAgICAgICAgICBhc3BlY3RSYXRpbzogYXNwZWN0UmF0aW8sXG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICAgIH0sIG9wdGlvbnMucmVzaXplKTtcbiAgICAgICAgICB3aWR0aCA9IF9nZXRBZGp1c3RlZFNpemVzMy53aWR0aDtcbiAgICAgICAgICBoZWlnaHQgPSBfZ2V0QWRqdXN0ZWRTaXplczMuaGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBfZ2V0QWRqdXN0ZWRTaXplczQgPSBnZXRBZGp1c3RlZFNpemVzKHtcbiAgICAgICAgICAgIGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpbyxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIF9nZXRBZGp1c3RlZFNpemVzNCR3aSA9IF9nZXRBZGp1c3RlZFNpemVzNC53aWR0aDtcbiAgICAgICAgICB3aWR0aCA9IF9nZXRBZGp1c3RlZFNpemVzNCR3aSA9PT0gdm9pZCAwID8gbmF0dXJhbFdpZHRoIDogX2dldEFkanVzdGVkU2l6ZXM0JHdpO1xuICAgICAgICAgIHZhciBfZ2V0QWRqdXN0ZWRTaXplczQkaGUgPSBfZ2V0QWRqdXN0ZWRTaXplczQuaGVpZ2h0O1xuICAgICAgICAgIGhlaWdodCA9IF9nZXRBZGp1c3RlZFNpemVzNCRoZSA9PT0gdm9pZCAwID8gbmF0dXJhbEhlaWdodCA6IF9nZXRBZGp1c3RlZFNpemVzNCRoZTtcbiAgICAgICAgfVxuICAgICAgICB3aWR0aCA9IE1hdGguZmxvb3Iobm9ybWFsaXplRGVjaW1hbE51bWJlcihNYXRoLm1pbihNYXRoLm1heCh3aWR0aCwgbWluV2lkdGgpLCBtYXhXaWR0aCkpKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5mbG9vcihub3JtYWxpemVEZWNpbWFsTnVtYmVyKE1hdGgubWluKE1hdGgubWF4KGhlaWdodCwgbWluSGVpZ2h0KSwgbWF4SGVpZ2h0KSkpO1xuICAgICAgICB2YXIgZGVzdFggPSAtd2lkdGggLyAyO1xuICAgICAgICB2YXIgZGVzdFkgPSAtaGVpZ2h0IC8gMjtcbiAgICAgICAgdmFyIGRlc3RXaWR0aCA9IHdpZHRoO1xuICAgICAgICB2YXIgZGVzdEhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgICAgICBpZiAocmVzaXphYmxlKSB7XG4gICAgICAgICAgdmFyIHNyY1ggPSAwO1xuICAgICAgICAgIHZhciBzcmNZID0gMDtcbiAgICAgICAgICB2YXIgc3JjV2lkdGggPSBuYXR1cmFsV2lkdGg7XG4gICAgICAgICAgdmFyIHNyY0hlaWdodCA9IG5hdHVyYWxIZWlnaHQ7XG4gICAgICAgICAgdmFyIF9nZXRBZGp1c3RlZFNpemVzNSA9IGdldEFkanVzdGVkU2l6ZXMoe1xuICAgICAgICAgICAgYXNwZWN0UmF0aW86IGFzcGVjdFJhdGlvLFxuICAgICAgICAgICAgd2lkdGg6IG5hdHVyYWxXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogbmF0dXJhbEhlaWdodFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNvbnRhaW46ICdjb3ZlcicsXG4gICAgICAgICAgICBjb3ZlcjogJ2NvbnRhaW4nXG4gICAgICAgICAgfVtvcHRpb25zLnJlc2l6ZV0pO1xuICAgICAgICAgIHNyY1dpZHRoID0gX2dldEFkanVzdGVkU2l6ZXM1LndpZHRoO1xuICAgICAgICAgIHNyY0hlaWdodCA9IF9nZXRBZGp1c3RlZFNpemVzNS5oZWlnaHQ7XG4gICAgICAgICAgc3JjWCA9IChuYXR1cmFsV2lkdGggLSBzcmNXaWR0aCkgLyAyO1xuICAgICAgICAgIHNyY1kgPSAobmF0dXJhbEhlaWdodCAtIHNyY0hlaWdodCkgLyAyO1xuICAgICAgICAgIHBhcmFtcy5wdXNoKHNyY1gsIHNyY1ksIHNyY1dpZHRoLCBzcmNIZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmFtcy5wdXNoKGRlc3RYLCBkZXN0WSwgZGVzdFdpZHRoLCBkZXN0SGVpZ2h0KTtcbiAgICAgICAgaWYgKGlzOTBEZWdyZWVzUm90YXRlZCkge1xuICAgICAgICAgIHZhciBfcmVmNiA9IFtoZWlnaHQsIHdpZHRoXTtcbiAgICAgICAgICB3aWR0aCA9IF9yZWY2WzBdO1xuICAgICAgICAgIGhlaWdodCA9IF9yZWY2WzFdO1xuICAgICAgICB9XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBpZiAoIWlzSW1hZ2VUeXBlKG9wdGlvbnMubWltZVR5cGUpKSB7XG4gICAgICAgICAgb3B0aW9ucy5taW1lVHlwZSA9IGZpbGUudHlwZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmlsbFN0eWxlID0gJ3RyYW5zcGFyZW50JztcblxuICAgICAgICAvLyBDb252ZXJ0cyBQTkcgZmlsZXMgb3ZlciB0aGUgYGNvbnZlcnRTaXplYCB0byBKUEVHcy5cbiAgICAgICAgaWYgKGZpbGUuc2l6ZSA+IG9wdGlvbnMuY29udmVydFNpemUgJiYgb3B0aW9ucy5jb252ZXJ0VHlwZXMuaW5kZXhPZihvcHRpb25zLm1pbWVUeXBlKSA+PSAwKSB7XG4gICAgICAgICAgb3B0aW9ucy5taW1lVHlwZSA9ICdpbWFnZS9qcGVnJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNKUEVHSW1hZ2UgPSBvcHRpb25zLm1pbWVUeXBlID09PSAnaW1hZ2UvanBlZyc7XG4gICAgICAgIGlmIChpc0pQRUdJbWFnZSkge1xuICAgICAgICAgIGZpbGxTdHlsZSA9ICcjZmZmJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE92ZXJyaWRlIHRoZSBkZWZhdWx0IGZpbGwgY29sb3IgKCMwMDAsIGJsYWNrKVxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgaWYgKG9wdGlvbnMuYmVmb3JlRHJhdykge1xuICAgICAgICAgIG9wdGlvbnMuYmVmb3JlRHJhdy5jYWxsKHRoaXMsIGNvbnRleHQsIGNhbnZhcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYWJvcnRlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUod2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICAgICAgY29udGV4dC5yb3RhdGUocm90YXRlICogTWF0aC5QSSAvIDE4MCk7XG4gICAgICAgIGNvbnRleHQuc2NhbGUoc2NhbGVYLCBzY2FsZVkpO1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZS5hcHBseShjb250ZXh0LCBbaW1hZ2VdLmNvbmNhdChwYXJhbXMpKTtcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIGlmIChvcHRpb25zLmRyZXcpIHtcbiAgICAgICAgICBvcHRpb25zLmRyZXcuY2FsbCh0aGlzLCBjb250ZXh0LCBjYW52YXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFib3J0ZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gY2FsbGJhY2soYmxvYikge1xuICAgICAgICAgIGlmICghX3RoaXMzLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHZhciBkb25lID0gZnVuY3Rpb24gZG9uZShyZXN1bHQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5kb25lKHtcbiAgICAgICAgICAgICAgICBuYXR1cmFsV2lkdGg6IG5hdHVyYWxXaWR0aCxcbiAgICAgICAgICAgICAgICBuYXR1cmFsSGVpZ2h0OiBuYXR1cmFsSGVpZ2h0LFxuICAgICAgICAgICAgICAgIHJlc3VsdDogcmVzdWx0XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChibG9iICYmIGlzSlBFR0ltYWdlICYmIG9wdGlvbnMucmV0YWluRXhpZiAmJiBfdGhpczMuZXhpZiAmJiBfdGhpczMuZXhpZi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHZhciBuZXh0ID0gZnVuY3Rpb24gbmV4dChhcnJheUJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkb25lKHRvQmxvYihhcnJheUJ1ZmZlclRvRGF0YVVSTChpbnNlcnRFeGlmKGFycmF5QnVmZmVyLCBfdGhpczMuZXhpZiksIG9wdGlvbnMubWltZVR5cGUpKSk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGlmIChibG9iLmFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgYmxvYi5hcnJheUJ1ZmZlcigpLnRoZW4obmV4dCkuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgX3RoaXMzLmZhaWwobmV3IEVycm9yKCdGYWlsZWQgdG8gcmVhZCB0aGUgY29tcHJlc3NlZCBpbWFnZSB3aXRoIEJsb2IuYXJyYXlCdWZmZXIoKS4nKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMzLnJlYWRlciA9IHJlYWRlcjtcbiAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKF9yZWY3KSB7XG4gICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gX3JlZjcudGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgbmV4dCh0YXJnZXQucmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlYWRlci5vbmFib3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgX3RoaXMzLmZhaWwobmV3IEVycm9yKCdBYm9ydGVkIHRvIHJlYWQgdGhlIGNvbXByZXNzZWQgaW1hZ2Ugd2l0aCBGaWxlUmVhZGVyLicpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgX3RoaXMzLmZhaWwobmV3IEVycm9yKCdGYWlsZWQgdG8gcmVhZCB0aGUgY29tcHJlc3NlZCBpbWFnZSB3aXRoIEZpbGVSZWFkZXIuJykpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIF90aGlzMy5yZWFkZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkb25lKGJsb2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGNhbnZhcy50b0Jsb2IpIHtcbiAgICAgICAgICBjYW52YXMudG9CbG9iKGNhbGxiYWNrLCBvcHRpb25zLm1pbWVUeXBlLCBvcHRpb25zLnF1YWxpdHkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKHRvQmxvYihjYW52YXMudG9EYXRhVVJMKG9wdGlvbnMubWltZVR5cGUsIG9wdGlvbnMucXVhbGl0eSkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkb25lXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZG9uZShfcmVmOCkge1xuICAgICAgICB2YXIgbmF0dXJhbFdpZHRoID0gX3JlZjgubmF0dXJhbFdpZHRoLFxuICAgICAgICAgIG5hdHVyYWxIZWlnaHQgPSBfcmVmOC5uYXR1cmFsSGVpZ2h0LFxuICAgICAgICAgIHJlc3VsdCA9IF9yZWY4LnJlc3VsdDtcbiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGUsXG4gICAgICAgICAgaW1hZ2UgPSB0aGlzLmltYWdlLFxuICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmIChVUkwgJiYgaW1hZ2Uuc3JjLmluZGV4T2YoJ2Jsb2I6JykgPT09IDApIHtcbiAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGltYWdlLnNyYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIC8vIFJldHVybnMgb3JpZ2luYWwgZmlsZSBpZiB0aGUgcmVzdWx0IGlzIGdyZWF0ZXIgdGhhbiBpdCBhbmQgd2l0aG91dCBzaXplIHJlbGF0ZWQgb3B0aW9uc1xuICAgICAgICAgIGlmIChvcHRpb25zLnN0cmljdCAmJiAhb3B0aW9ucy5yZXRhaW5FeGlmICYmIHJlc3VsdC5zaXplID4gZmlsZS5zaXplICYmIG9wdGlvbnMubWltZVR5cGUgPT09IGZpbGUudHlwZSAmJiAhKG9wdGlvbnMud2lkdGggPiBuYXR1cmFsV2lkdGggfHwgb3B0aW9ucy5oZWlnaHQgPiBuYXR1cmFsSGVpZ2h0IHx8IG9wdGlvbnMubWluV2lkdGggPiBuYXR1cmFsV2lkdGggfHwgb3B0aW9ucy5taW5IZWlnaHQgPiBuYXR1cmFsSGVpZ2h0IHx8IG9wdGlvbnMubWF4V2lkdGggPCBuYXR1cmFsV2lkdGggfHwgb3B0aW9ucy5tYXhIZWlnaHQgPCBuYXR1cmFsSGVpZ2h0KSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZmlsZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgcmVzdWx0Lmxhc3RNb2RpZmllZCA9IGRhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgICAgcmVzdWx0Lmxhc3RNb2RpZmllZERhdGUgPSBkYXRlO1xuICAgICAgICAgICAgcmVzdWx0Lm5hbWUgPSBmaWxlLm5hbWU7XG5cbiAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIGV4dGVuc2lvbiB0byBtYXRjaCBpdHMgdHlwZVxuICAgICAgICAgICAgaWYgKHJlc3VsdC5uYW1lICYmIHJlc3VsdC50eXBlICE9PSBmaWxlLnR5cGUpIHtcbiAgICAgICAgICAgICAgcmVzdWx0Lm5hbWUgPSByZXN1bHQubmFtZS5yZXBsYWNlKFJFR0VYUF9FWFRFTlNJT04sIGltYWdlVHlwZVRvRXh0ZW5zaW9uKHJlc3VsdC50eXBlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFJldHVybnMgb3JpZ2luYWwgZmlsZSBpZiB0aGUgcmVzdWx0IGlzIG51bGwgaW4gc29tZSBjYXNlcy5cbiAgICAgICAgICByZXN1bHQgPSBmaWxlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0O1xuICAgICAgICBpZiAob3B0aW9ucy5zdWNjZXNzKSB7XG4gICAgICAgICAgb3B0aW9ucy5zdWNjZXNzLmNhbGwodGhpcywgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJmYWlsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZmFpbChlcnIpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmIChvcHRpb25zLmVycm9yKSB7XG4gICAgICAgICAgb3B0aW9ucy5lcnJvci5jYWxsKHRoaXMsIGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImFib3J0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5hYm9ydGVkKSB7XG4gICAgICAgICAgdGhpcy5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICBpZiAodGhpcy5yZWFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMucmVhZGVyLmFib3J0KCk7XG4gICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5pbWFnZS5jb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5pbWFnZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5pbWFnZS5vbmFib3J0KCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmFpbChuZXcgRXJyb3IoJ1RoZSBjb21wcmVzc2lvbiBwcm9jZXNzIGhhcyBiZWVuIGFib3J0ZWQuJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEdldCB0aGUgbm8gY29uZmxpY3QgY29tcHJlc3NvciBjbGFzcy5cbiAgICAgICAqIEByZXR1cm5zIHtDb21wcmVzc29yfSBUaGUgY29tcHJlc3NvciBjbGFzcy5cbiAgICAgICAqL1xuICAgIH1dLCBbe1xuICAgICAga2V5OiBcIm5vQ29uZmxpY3RcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBub0NvbmZsaWN0KCkge1xuICAgICAgICB3aW5kb3cuQ29tcHJlc3NvciA9IEFub3RoZXJDb21wcmVzc29yO1xuICAgICAgICByZXR1cm4gQ29tcHJlc3NvcjtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDaGFuZ2UgdGhlIGRlZmF1bHQgb3B0aW9ucy5cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gVGhlIG5ldyBkZWZhdWx0IG9wdGlvbnMuXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0RGVmYXVsdHNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREZWZhdWx0cyhvcHRpb25zKSB7XG4gICAgICAgIF9leHRlbmRzKERFRkFVTFRTLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XSk7XG4gICAgcmV0dXJuIENvbXByZXNzb3I7XG4gIH0oKTtcblxuICByZXR1cm4gQ29tcHJlc3NvcjtcblxufSkpO1xuIiwiLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gbG9jYWxzdG9yYWdlKCk7XG5leHBvcnRzLmRlc3Ryb3kgPSAoKCkgPT4ge1xuXHRsZXQgd2FybmVkID0gZmFsc2U7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoIXdhcm5lZCkge1xuXHRcdFx0d2FybmVkID0gdHJ1ZTtcblx0XHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHRcdH1cblx0fTtcbn0pKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuXHQnIzAwMDBDQycsXG5cdCcjMDAwMEZGJyxcblx0JyMwMDMzQ0MnLFxuXHQnIzAwMzNGRicsXG5cdCcjMDA2NkNDJyxcblx0JyMwMDY2RkYnLFxuXHQnIzAwOTlDQycsXG5cdCcjMDA5OUZGJyxcblx0JyMwMENDMDAnLFxuXHQnIzAwQ0MzMycsXG5cdCcjMDBDQzY2Jyxcblx0JyMwMENDOTknLFxuXHQnIzAwQ0NDQycsXG5cdCcjMDBDQ0ZGJyxcblx0JyMzMzAwQ0MnLFxuXHQnIzMzMDBGRicsXG5cdCcjMzMzM0NDJyxcblx0JyMzMzMzRkYnLFxuXHQnIzMzNjZDQycsXG5cdCcjMzM2NkZGJyxcblx0JyMzMzk5Q0MnLFxuXHQnIzMzOTlGRicsXG5cdCcjMzNDQzAwJyxcblx0JyMzM0NDMzMnLFxuXHQnIzMzQ0M2NicsXG5cdCcjMzNDQzk5Jyxcblx0JyMzM0NDQ0MnLFxuXHQnIzMzQ0NGRicsXG5cdCcjNjYwMENDJyxcblx0JyM2NjAwRkYnLFxuXHQnIzY2MzNDQycsXG5cdCcjNjYzM0ZGJyxcblx0JyM2NkNDMDAnLFxuXHQnIzY2Q0MzMycsXG5cdCcjOTkwMENDJyxcblx0JyM5OTAwRkYnLFxuXHQnIzk5MzNDQycsXG5cdCcjOTkzM0ZGJyxcblx0JyM5OUNDMDAnLFxuXHQnIzk5Q0MzMycsXG5cdCcjQ0MwMDAwJyxcblx0JyNDQzAwMzMnLFxuXHQnI0NDMDA2NicsXG5cdCcjQ0MwMDk5Jyxcblx0JyNDQzAwQ0MnLFxuXHQnI0NDMDBGRicsXG5cdCcjQ0MzMzAwJyxcblx0JyNDQzMzMzMnLFxuXHQnI0NDMzM2NicsXG5cdCcjQ0MzMzk5Jyxcblx0JyNDQzMzQ0MnLFxuXHQnI0NDMzNGRicsXG5cdCcjQ0M2NjAwJyxcblx0JyNDQzY2MzMnLFxuXHQnI0NDOTkwMCcsXG5cdCcjQ0M5OTMzJyxcblx0JyNDQ0NDMDAnLFxuXHQnI0NDQ0MzMycsXG5cdCcjRkYwMDAwJyxcblx0JyNGRjAwMzMnLFxuXHQnI0ZGMDA2NicsXG5cdCcjRkYwMDk5Jyxcblx0JyNGRjAwQ0MnLFxuXHQnI0ZGMDBGRicsXG5cdCcjRkYzMzAwJyxcblx0JyNGRjMzMzMnLFxuXHQnI0ZGMzM2NicsXG5cdCcjRkYzMzk5Jyxcblx0JyNGRjMzQ0MnLFxuXHQnI0ZGMzNGRicsXG5cdCcjRkY2NjAwJyxcblx0JyNGRjY2MzMnLFxuXHQnI0ZGOTkwMCcsXG5cdCcjRkY5OTMzJyxcblx0JyNGRkNDMDAnLFxuXHQnI0ZGQ0MzMydcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcblx0Ly8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuXHQvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuXHQvLyBleHBsaWNpdGx5XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG5cdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGxldCBtO1xuXG5cdC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG5cdC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXR1cm4tYXNzaWduXG5cdHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuXHRcdC8vIElzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcblx0XHQodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuXHRcdC8vIElzIGZpcmVmb3ggPj0gdjMxP1xuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIChtID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykpICYmIHBhcnNlSW50KG1bMV0sIDEwKSA+PSAzMSkgfHxcblx0XHQvLyBEb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG5cdFx0KHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pKTtcbn1cblxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcblx0YXJnc1swXSA9ICh0aGlzLnVzZUNvbG9ycyA/ICclYycgOiAnJykgK1xuXHRcdHRoaXMubmFtZXNwYWNlICtcblx0XHQodGhpcy51c2VDb2xvcnMgPyAnICVjJyA6ICcgJykgK1xuXHRcdGFyZ3NbMF0gK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICclYyAnIDogJyAnKSArXG5cdFx0JysnICsgbW9kdWxlLmV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTtcblxuXHRpZiAoIXRoaXMudXNlQ29sb3JzKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3QgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG5cdGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpO1xuXG5cdC8vIFRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG5cdC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cblx0Ly8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG5cdGxldCBpbmRleCA9IDA7XG5cdGxldCBsYXN0QyA9IDA7XG5cdGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBtYXRjaCA9PiB7XG5cdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGluZGV4Kys7XG5cdFx0aWYgKG1hdGNoID09PSAnJWMnKSB7XG5cdFx0XHQvLyBXZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcblx0XHRcdC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG5cdFx0XHRsYXN0QyA9IGluZGV4O1xuXHRcdH1cblx0fSk7XG5cblx0YXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuXG4vKipcbiAqIEludm9rZXMgYGNvbnNvbGUuZGVidWcoKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKiBJZiBgY29uc29sZS5kZWJ1Z2AgaXMgbm90IGF2YWlsYWJsZSwgZmFsbHMgYmFja1xuICogdG8gYGNvbnNvbGUubG9nYC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5leHBvcnRzLmxvZyA9IGNvbnNvbGUuZGVidWcgfHwgY29uc29sZS5sb2cgfHwgKCgpID0+IHt9KTtcblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuXHR0cnkge1xuXHRcdGlmIChuYW1lc3BhY2VzKSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2Uuc2V0SXRlbSgnZGVidWcnLCBuYW1lc3BhY2VzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBsb2FkKCkge1xuXHRsZXQgcjtcblx0dHJ5IHtcblx0XHRyID0gZXhwb3J0cy5zdG9yYWdlLmdldEl0ZW0oJ2RlYnVnJykgfHwgZXhwb3J0cy5zdG9yYWdlLmdldEl0ZW0oJ0RFQlVHJykgO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxuXG5cdC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcblx0aWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG5cdFx0ciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuXHR9XG5cblx0cmV0dXJuIHI7XG59XG5cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuXHR0cnkge1xuXHRcdC8vIFRWTUxLaXQgKEFwcGxlIFRWIEpTIFJ1bnRpbWUpIGRvZXMgbm90IGhhdmUgYSB3aW5kb3cgb2JqZWN0LCBqdXN0IGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHRcblx0XHQvLyBUaGUgQnJvd3NlciBhbHNvIGhhcyBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0LlxuXHRcdHJldHVybiBsb2NhbFN0b3JhZ2U7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jb21tb24nKShleHBvcnRzKTtcblxuY29uc3Qge2Zvcm1hdHRlcnN9ID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uICh2KSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnJvci5tZXNzYWdlO1xuXHR9XG59O1xuIiwiXG4vKipcbiAqIFRoaXMgaXMgdGhlIGNvbW1vbiBsb2dpYyBmb3IgYm90aCB0aGUgTm9kZS5qcyBhbmQgd2ViIGJyb3dzZXJcbiAqIGltcGxlbWVudGF0aW9ucyBvZiBgZGVidWcoKWAuXG4gKi9cblxuZnVuY3Rpb24gc2V0dXAoZW52KSB7XG5cdGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmRlZmF1bHQgPSBjcmVhdGVEZWJ1Zztcblx0Y3JlYXRlRGVidWcuY29lcmNlID0gY29lcmNlO1xuXHRjcmVhdGVEZWJ1Zy5kaXNhYmxlID0gZGlzYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlID0gZW5hYmxlO1xuXHRjcmVhdGVEZWJ1Zy5lbmFibGVkID0gZW5hYmxlZDtcblx0Y3JlYXRlRGVidWcuaHVtYW5pemUgPSByZXF1aXJlKCdtcycpO1xuXHRjcmVhdGVEZWJ1Zy5kZXN0cm95ID0gZGVzdHJveTtcblxuXHRPYmplY3Qua2V5cyhlbnYpLmZvckVhY2goa2V5ID0+IHtcblx0XHRjcmVhdGVEZWJ1Z1trZXldID0gZW52W2tleV07XG5cdH0pO1xuXG5cdC8qKlxuXHQqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGRlYnVnIG1vZGUgbmFtZXMsIGFuZCBuYW1lcyB0byBza2lwLlxuXHQqL1xuXG5cdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdGNyZWF0ZURlYnVnLnNraXBzID0gW107XG5cblx0LyoqXG5cdCogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuXHQqXG5cdCogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gXCJuXCIgYW5kIFwiTlwiLlxuXHQqL1xuXHRjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzID0ge307XG5cblx0LyoqXG5cdCogU2VsZWN0cyBhIGNvbG9yIGZvciBhIGRlYnVnIG5hbWVzcGFjZVxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZSBzdHJpbmcgZm9yIHRoZSBkZWJ1ZyBpbnN0YW5jZSB0byBiZSBjb2xvcmVkXG5cdCogQHJldHVybiB7TnVtYmVyfFN0cmluZ30gQW4gQU5TSSBjb2xvciBjb2RlIGZvciB0aGUgZ2l2ZW4gbmFtZXNwYWNlXG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuXHRcdGxldCBoYXNoID0gMDtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXNwYWNlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcblx0XHRcdGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNyZWF0ZURlYnVnLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGNyZWF0ZURlYnVnLmNvbG9ycy5sZW5ndGhdO1xuXHR9XG5cdGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yID0gc2VsZWN0Q29sb3I7XG5cblx0LyoqXG5cdCogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCogQHJldHVybiB7RnVuY3Rpb259XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cdFx0bGV0IHByZXZUaW1lO1xuXHRcdGxldCBlbmFibGVPdmVycmlkZSA9IG51bGw7XG5cdFx0bGV0IG5hbWVzcGFjZXNDYWNoZTtcblx0XHRsZXQgZW5hYmxlZENhY2hlO1xuXG5cdFx0ZnVuY3Rpb24gZGVidWcoLi4uYXJncykge1xuXHRcdFx0Ly8gRGlzYWJsZWQ/XG5cdFx0XHRpZiAoIWRlYnVnLmVuYWJsZWQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBzZWxmID0gZGVidWc7XG5cblx0XHRcdC8vIFNldCBgZGlmZmAgdGltZXN0YW1wXG5cdFx0XHRjb25zdCBjdXJyID0gTnVtYmVyKG5ldyBEYXRlKCkpO1xuXHRcdFx0Y29uc3QgbXMgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpO1xuXHRcdFx0c2VsZi5kaWZmID0gbXM7XG5cdFx0XHRzZWxmLnByZXYgPSBwcmV2VGltZTtcblx0XHRcdHNlbGYuY3VyciA9IGN1cnI7XG5cdFx0XHRwcmV2VGltZSA9IGN1cnI7XG5cblx0XHRcdGFyZ3NbMF0gPSBjcmVhdGVEZWJ1Zy5jb2VyY2UoYXJnc1swXSk7XG5cblx0XHRcdGlmICh0eXBlb2YgYXJnc1swXSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0Ly8gQW55dGhpbmcgZWxzZSBsZXQncyBpbnNwZWN0IHdpdGggJU9cblx0XHRcdFx0YXJncy51bnNoaWZ0KCclTycpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBcHBseSBhbnkgYGZvcm1hdHRlcnNgIHRyYW5zZm9ybWF0aW9uc1xuXHRcdFx0bGV0IGluZGV4ID0gMDtcblx0XHRcdGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCAobWF0Y2gsIGZvcm1hdCkgPT4ge1xuXHRcdFx0XHQvLyBJZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG5cdFx0XHRcdGlmIChtYXRjaCA9PT0gJyUlJykge1xuXHRcdFx0XHRcdHJldHVybiAnJSc7XG5cdFx0XHRcdH1cblx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0Y29uc3QgZm9ybWF0dGVyID0gY3JlYXRlRGVidWcuZm9ybWF0dGVyc1tmb3JtYXRdO1xuXHRcdFx0XHRpZiAodHlwZW9mIGZvcm1hdHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGNvbnN0IHZhbCA9IGFyZ3NbaW5kZXhdO1xuXHRcdFx0XHRcdG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuXHRcdFx0XHRcdC8vIE5vdyB3ZSBuZWVkIHRvIHJlbW92ZSBgYXJnc1tpbmRleF1gIHNpbmNlIGl0J3MgaW5saW5lZCBpbiB0aGUgYGZvcm1hdGBcblx0XHRcdFx0XHRhcmdzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdFx0aW5kZXgtLTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gQXBwbHkgZW52LXNwZWNpZmljIGZvcm1hdHRpbmcgKGNvbG9ycywgZXRjLilcblx0XHRcdGNyZWF0ZURlYnVnLmZvcm1hdEFyZ3MuY2FsbChzZWxmLCBhcmdzKTtcblxuXHRcdFx0Y29uc3QgbG9nRm4gPSBzZWxmLmxvZyB8fCBjcmVhdGVEZWJ1Zy5sb2c7XG5cdFx0XHRsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcblx0XHR9XG5cblx0XHRkZWJ1Zy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG5cdFx0ZGVidWcudXNlQ29sb3JzID0gY3JlYXRlRGVidWcudXNlQ29sb3JzKCk7XG5cdFx0ZGVidWcuY29sb3IgPSBjcmVhdGVEZWJ1Zy5zZWxlY3RDb2xvcihuYW1lc3BhY2UpO1xuXHRcdGRlYnVnLmV4dGVuZCA9IGV4dGVuZDtcblx0XHRkZWJ1Zy5kZXN0cm95ID0gY3JlYXRlRGVidWcuZGVzdHJveTsgLy8gWFhYIFRlbXBvcmFyeS4gV2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXG5cblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZGVidWcsICdlbmFibGVkJywge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdFx0XHRnZXQ6ICgpID0+IHtcblx0XHRcdFx0aWYgKGVuYWJsZU92ZXJyaWRlICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVuYWJsZU92ZXJyaWRlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChuYW1lc3BhY2VzQ2FjaGUgIT09IGNyZWF0ZURlYnVnLm5hbWVzcGFjZXMpIHtcblx0XHRcdFx0XHRuYW1lc3BhY2VzQ2FjaGUgPSBjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzO1xuXHRcdFx0XHRcdGVuYWJsZWRDYWNoZSA9IGNyZWF0ZURlYnVnLmVuYWJsZWQobmFtZXNwYWNlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBlbmFibGVkQ2FjaGU7XG5cdFx0XHR9LFxuXHRcdFx0c2V0OiB2ID0+IHtcblx0XHRcdFx0ZW5hYmxlT3ZlcnJpZGUgPSB2O1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gRW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcblx0XHRpZiAodHlwZW9mIGNyZWF0ZURlYnVnLmluaXQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNyZWF0ZURlYnVnLmluaXQoZGVidWcpO1xuXHRcdH1cblxuXHRcdHJldHVybiBkZWJ1Zztcblx0fVxuXG5cdGZ1bmN0aW9uIGV4dGVuZChuYW1lc3BhY2UsIGRlbGltaXRlcikge1xuXHRcdGNvbnN0IG5ld0RlYnVnID0gY3JlYXRlRGVidWcodGhpcy5uYW1lc3BhY2UgKyAodHlwZW9mIGRlbGltaXRlciA9PT0gJ3VuZGVmaW5lZCcgPyAnOicgOiBkZWxpbWl0ZXIpICsgbmFtZXNwYWNlKTtcblx0XHRuZXdEZWJ1Zy5sb2cgPSB0aGlzLmxvZztcblx0XHRyZXR1cm4gbmV3RGVidWc7XG5cdH1cblxuXHQvKipcblx0KiBFbmFibGVzIGEgZGVidWcgbW9kZSBieSBuYW1lc3BhY2VzLiBUaGlzIGNhbiBpbmNsdWRlIG1vZGVzXG5cdCogc2VwYXJhdGVkIGJ5IGEgY29sb24gYW5kIHdpbGRjYXJkcy5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcblx0XHRjcmVhdGVEZWJ1Zy5zYXZlKG5hbWVzcGFjZXMpO1xuXHRcdGNyZWF0ZURlYnVnLm5hbWVzcGFjZXMgPSBuYW1lc3BhY2VzO1xuXG5cdFx0Y3JlYXRlRGVidWcubmFtZXMgPSBbXTtcblx0XHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdFx0Y29uc3Qgc3BsaXQgPSAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnID8gbmFtZXNwYWNlcyA6ICcnKVxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL1xccysvZywgJywnKVxuXHRcdFx0LnNwbGl0KCcsJylcblx0XHRcdC5maWx0ZXIoQm9vbGVhbik7XG5cblx0XHRmb3IgKGNvbnN0IG5zIG9mIHNwbGl0KSB7XG5cdFx0XHRpZiAobnNbMF0gPT09ICctJykge1xuXHRcdFx0XHRjcmVhdGVEZWJ1Zy5za2lwcy5wdXNoKG5zLnNsaWNlKDEpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNyZWF0ZURlYnVnLm5hbWVzLnB1c2gobnMpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdGhlIGdpdmVuIHN0cmluZyBtYXRjaGVzIGEgbmFtZXNwYWNlIHRlbXBsYXRlLCBob25vcmluZ1xuXHQgKiBhc3Rlcmlza3MgYXMgd2lsZGNhcmRzLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc2VhcmNoXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0ZW1wbGF0ZVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKi9cblx0ZnVuY3Rpb24gbWF0Y2hlc1RlbXBsYXRlKHNlYXJjaCwgdGVtcGxhdGUpIHtcblx0XHRsZXQgc2VhcmNoSW5kZXggPSAwO1xuXHRcdGxldCB0ZW1wbGF0ZUluZGV4ID0gMDtcblx0XHRsZXQgc3RhckluZGV4ID0gLTE7XG5cdFx0bGV0IG1hdGNoSW5kZXggPSAwO1xuXG5cdFx0d2hpbGUgKHNlYXJjaEluZGV4IDwgc2VhcmNoLmxlbmd0aCkge1xuXHRcdFx0aWYgKHRlbXBsYXRlSW5kZXggPCB0ZW1wbGF0ZS5sZW5ndGggJiYgKHRlbXBsYXRlW3RlbXBsYXRlSW5kZXhdID09PSBzZWFyY2hbc2VhcmNoSW5kZXhdIHx8IHRlbXBsYXRlW3RlbXBsYXRlSW5kZXhdID09PSAnKicpKSB7XG5cdFx0XHRcdC8vIE1hdGNoIGNoYXJhY3RlciBvciBwcm9jZWVkIHdpdGggd2lsZGNhcmRcblx0XHRcdFx0aWYgKHRlbXBsYXRlW3RlbXBsYXRlSW5kZXhdID09PSAnKicpIHtcblx0XHRcdFx0XHRzdGFySW5kZXggPSB0ZW1wbGF0ZUluZGV4O1xuXHRcdFx0XHRcdG1hdGNoSW5kZXggPSBzZWFyY2hJbmRleDtcblx0XHRcdFx0XHR0ZW1wbGF0ZUluZGV4Kys7IC8vIFNraXAgdGhlICcqJ1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNlYXJjaEluZGV4Kys7XG5cdFx0XHRcdFx0dGVtcGxhdGVJbmRleCsrO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKHN0YXJJbmRleCAhPT0gLTEpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZWdhdGVkLWNvbmRpdGlvblxuXHRcdFx0XHQvLyBCYWNrdHJhY2sgdG8gdGhlIGxhc3QgJyonIGFuZCB0cnkgdG8gbWF0Y2ggbW9yZSBjaGFyYWN0ZXJzXG5cdFx0XHRcdHRlbXBsYXRlSW5kZXggPSBzdGFySW5kZXggKyAxO1xuXHRcdFx0XHRtYXRjaEluZGV4Kys7XG5cdFx0XHRcdHNlYXJjaEluZGV4ID0gbWF0Y2hJbmRleDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTsgLy8gTm8gbWF0Y2hcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBIYW5kbGUgdHJhaWxpbmcgJyonIGluIHRlbXBsYXRlXG5cdFx0d2hpbGUgKHRlbXBsYXRlSW5kZXggPCB0ZW1wbGF0ZS5sZW5ndGggJiYgdGVtcGxhdGVbdGVtcGxhdGVJbmRleF0gPT09ICcqJykge1xuXHRcdFx0dGVtcGxhdGVJbmRleCsrO1xuXHRcdH1cblxuXHRcdHJldHVybiB0ZW1wbGF0ZUluZGV4ID09PSB0ZW1wbGF0ZS5sZW5ndGg7XG5cdH1cblxuXHQvKipcblx0KiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cblx0KlxuXHQqIEByZXR1cm4ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGRpc2FibGUoKSB7XG5cdFx0Y29uc3QgbmFtZXNwYWNlcyA9IFtcblx0XHRcdC4uLmNyZWF0ZURlYnVnLm5hbWVzLFxuXHRcdFx0Li4uY3JlYXRlRGVidWcuc2tpcHMubWFwKG5hbWVzcGFjZSA9PiAnLScgKyBuYW1lc3BhY2UpXG5cdFx0XS5qb2luKCcsJyk7XG5cdFx0Y3JlYXRlRGVidWcuZW5hYmxlKCcnKTtcblx0XHRyZXR1cm4gbmFtZXNwYWNlcztcblx0fVxuXG5cdC8qKlxuXHQqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gbW9kZSBuYW1lIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG5cdCogQHJldHVybiB7Qm9vbGVhbn1cblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBlbmFibGVkKG5hbWUpIHtcblx0XHRmb3IgKGNvbnN0IHNraXAgb2YgY3JlYXRlRGVidWcuc2tpcHMpIHtcblx0XHRcdGlmIChtYXRjaGVzVGVtcGxhdGUobmFtZSwgc2tpcCkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgbnMgb2YgY3JlYXRlRGVidWcubmFtZXMpIHtcblx0XHRcdGlmIChtYXRjaGVzVGVtcGxhdGUobmFtZSwgbnMpKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQqIENvZXJjZSBgdmFsYC5cblx0KlxuXHQqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuXHQqIEByZXR1cm4ge01peGVkfVxuXHQqIEBhcGkgcHJpdmF0ZVxuXHQqL1xuXHRmdW5jdGlvbiBjb2VyY2UodmFsKSB7XG5cdFx0aWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0XHRyZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuXHRcdH1cblx0XHRyZXR1cm4gdmFsO1xuXHR9XG5cblx0LyoqXG5cdCogWFhYIERPIE5PVCBVU0UuIFRoaXMgaXMgYSB0ZW1wb3Jhcnkgc3R1YiBmdW5jdGlvbi5cblx0KiBYWFggSXQgV0lMTCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXG5cdCovXG5cdGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG5cdFx0Y29uc29sZS53YXJuKCdJbnN0YW5jZSBtZXRob2QgYGRlYnVnLmRlc3Ryb3koKWAgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIGRvZXMgYW55dGhpbmcuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGBkZWJ1Z2AuJyk7XG5cdH1cblxuXHRjcmVhdGVEZWJ1Zy5lbmFibGUoY3JlYXRlRGVidWcubG9hZCgpKTtcblxuXHRyZXR1cm4gY3JlYXRlRGVidWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0dXA7XG4iLCIvKiFcbiAqIEV2ZW50RW1pdHRlcjJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9oaWoxbngvRXZlbnRFbWl0dGVyMlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxMyBoaWoxbnhcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqL1xuOyFmdW5jdGlvbih1bmRlZmluZWQpIHtcbiAgdmFyIGhhc093blByb3BlcnR5PSBPYmplY3QuaGFzT3duUHJvcGVydHk7XG4gIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSA/IEFycmF5LmlzQXJyYXkgOiBmdW5jdGlvbiBfaXNBcnJheShvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09IFwiW29iamVjdCBBcnJheV1cIjtcbiAgfTtcbiAgdmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcbiAgdmFyIG5leHRUaWNrU3VwcG9ydGVkPSB0eXBlb2YgcHJvY2Vzcz09J29iamVjdCcgJiYgdHlwZW9mIHByb2Nlc3MubmV4dFRpY2s9PSdmdW5jdGlvbic7XG4gIHZhciBzeW1ib2xzU3VwcG9ydGVkPSB0eXBlb2YgU3ltYm9sPT09J2Z1bmN0aW9uJztcbiAgdmFyIHJlZmxlY3RTdXBwb3J0ZWQ9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JztcbiAgdmFyIHNldEltbWVkaWF0ZVN1cHBvcnRlZD0gdHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gJ2Z1bmN0aW9uJztcbiAgdmFyIF9zZXRJbW1lZGlhdGU9IHNldEltbWVkaWF0ZVN1cHBvcnRlZCA/IHNldEltbWVkaWF0ZSA6IHNldFRpbWVvdXQ7XG4gIHZhciBvd25LZXlzPSBzeW1ib2xzU3VwcG9ydGVkPyAocmVmbGVjdFN1cHBvcnRlZCAmJiB0eXBlb2YgUmVmbGVjdC5vd25LZXlzPT09J2Z1bmN0aW9uJz8gUmVmbGVjdC5vd25LZXlzIDogZnVuY3Rpb24ob2JqKXtcbiAgICB2YXIgYXJyPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopO1xuICAgIGFyci5wdXNoLmFwcGx5KGFyciwgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmopKTtcbiAgICByZXR1cm4gYXJyO1xuICB9KSA6IE9iamVjdC5rZXlzO1xuXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgaWYgKHRoaXMuX2NvbmYpIHtcbiAgICAgIGNvbmZpZ3VyZS5jYWxsKHRoaXMsIHRoaXMuX2NvbmYpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbmZpZ3VyZShjb25mKSB7XG4gICAgaWYgKGNvbmYpIHtcbiAgICAgIHRoaXMuX2NvbmYgPSBjb25mO1xuXG4gICAgICBjb25mLmRlbGltaXRlciAmJiAodGhpcy5kZWxpbWl0ZXIgPSBjb25mLmRlbGltaXRlcik7XG5cbiAgICAgIGlmKGNvbmYubWF4TGlzdGVuZXJzIT09dW5kZWZpbmVkKXtcbiAgICAgICAgICB0aGlzLl9tYXhMaXN0ZW5lcnM9IGNvbmYubWF4TGlzdGVuZXJzO1xuICAgICAgfVxuXG4gICAgICBjb25mLndpbGRjYXJkICYmICh0aGlzLndpbGRjYXJkID0gY29uZi53aWxkY2FyZCk7XG4gICAgICBjb25mLm5ld0xpc3RlbmVyICYmICh0aGlzLl9uZXdMaXN0ZW5lciA9IGNvbmYubmV3TGlzdGVuZXIpO1xuICAgICAgY29uZi5yZW1vdmVMaXN0ZW5lciAmJiAodGhpcy5fcmVtb3ZlTGlzdGVuZXIgPSBjb25mLnJlbW92ZUxpc3RlbmVyKTtcbiAgICAgIGNvbmYudmVyYm9zZU1lbW9yeUxlYWsgJiYgKHRoaXMudmVyYm9zZU1lbW9yeUxlYWsgPSBjb25mLnZlcmJvc2VNZW1vcnlMZWFrKTtcbiAgICAgIGNvbmYuaWdub3JlRXJyb3JzICYmICh0aGlzLmlnbm9yZUVycm9ycyA9IGNvbmYuaWdub3JlRXJyb3JzKTtcblxuICAgICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lclRyZWUgPSB7fTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2dQb3NzaWJsZU1lbW9yeUxlYWsoY291bnQsIGV2ZW50TmFtZSkge1xuICAgIHZhciBlcnJvck1zZyA9ICcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcbiAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICcgKyBjb3VudCArICcgbGlzdGVuZXJzIGFkZGVkLiAnICtcbiAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0Lic7XG5cbiAgICBpZih0aGlzLnZlcmJvc2VNZW1vcnlMZWFrKXtcbiAgICAgIGVycm9yTXNnICs9ICcgRXZlbnQgbmFtZTogJyArIGV2ZW50TmFtZSArICcuJztcbiAgICB9XG5cbiAgICBpZih0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5lbWl0V2FybmluZyl7XG4gICAgICB2YXIgZSA9IG5ldyBFcnJvcihlcnJvck1zZyk7XG4gICAgICBlLm5hbWUgPSAnTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nJztcbiAgICAgIGUuZW1pdHRlciA9IHRoaXM7XG4gICAgICBlLmNvdW50ID0gY291bnQ7XG4gICAgICBwcm9jZXNzLmVtaXRXYXJuaW5nKGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yTXNnKTtcblxuICAgICAgaWYgKGNvbnNvbGUudHJhY2Upe1xuICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIHRvQXJyYXkgPSBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgIHZhciBuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBzd2l0Y2ggKG4pIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gW2FdO1xuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gW2EsIGJdO1xuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdmFyIGFyciA9IG5ldyBBcnJheShuKTtcbiAgICAgICAgd2hpbGUgKG4tLSkge1xuICAgICAgICAgIGFycltuXSA9IGFyZ3VtZW50c1tuXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiB0b09iamVjdChrZXlzLCB2YWx1ZXMpIHtcbiAgICB2YXIgb2JqID0ge307XG4gICAgdmFyIGtleTtcbiAgICB2YXIgbGVuID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHZhbHVlc0NvdW50ID0gdmFsdWVzID8gdmFsdWVzLmxlbmd0aCA6IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgIG9ialtrZXldID0gaSA8IHZhbHVlc0NvdW50ID8gdmFsdWVzW2ldIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgZnVuY3Rpb24gVGFyZ2V0T2JzZXJ2ZXIoZW1pdHRlciwgdGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgdGhpcy5fZW1pdHRlciA9IGVtaXR0ZXI7XG4gICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuICAgIHRoaXMuX2xpc3RlbmVyc0NvdW50ID0gMDtcblxuICAgIHZhciBvbiwgb2ZmO1xuXG4gICAgaWYgKG9wdGlvbnMub24gfHwgb3B0aW9ucy5vZmYpIHtcbiAgICAgIG9uID0gb3B0aW9ucy5vbjtcbiAgICAgIG9mZiA9IG9wdGlvbnMub2ZmO1xuICAgIH1cblxuICAgIGlmICh0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgb24gPSB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcjtcbiAgICAgIG9mZiA9IHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyO1xuICAgIH0gZWxzZSBpZiAodGFyZ2V0LmFkZExpc3RlbmVyKSB7XG4gICAgICBvbiA9IHRhcmdldC5hZGRMaXN0ZW5lcjtcbiAgICAgIG9mZiA9IHRhcmdldC5yZW1vdmVMaXN0ZW5lcjtcbiAgICB9IGVsc2UgaWYgKHRhcmdldC5vbikge1xuICAgICAgb24gPSB0YXJnZXQub247XG4gICAgICBvZmYgPSB0YXJnZXQub2ZmO1xuICAgIH1cblxuICAgIGlmICghb24gJiYgIW9mZikge1xuICAgICAgdGhyb3cgRXJyb3IoJ3RhcmdldCBkb2VzIG5vdCBpbXBsZW1lbnQgYW55IGtub3duIGV2ZW50IEFQSScpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb24gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcignb24gbWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb2ZmICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ29mZiBtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fb24gPSBvbjtcbiAgICB0aGlzLl9vZmYgPSBvZmY7XG5cbiAgICB2YXIgX29ic2VydmVycz0gZW1pdHRlci5fb2JzZXJ2ZXJzO1xuICAgIGlmKF9vYnNlcnZlcnMpe1xuICAgICAgX29ic2VydmVycy5wdXNoKHRoaXMpO1xuICAgIH1lbHNle1xuICAgICAgZW1pdHRlci5fb2JzZXJ2ZXJzPSBbdGhpc107XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmFzc2lnbihUYXJnZXRPYnNlcnZlci5wcm90b3R5cGUsIHtcbiAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uKGV2ZW50LCBsb2NhbEV2ZW50LCByZWR1Y2VyKXtcbiAgICAgIHZhciBvYnNlcnZlcj0gdGhpcztcbiAgICAgIHZhciB0YXJnZXQ9IHRoaXMuX3RhcmdldDtcbiAgICAgIHZhciBlbWl0dGVyPSB0aGlzLl9lbWl0dGVyO1xuICAgICAgdmFyIGxpc3RlbmVycz0gdGhpcy5fbGlzdGVuZXJzO1xuICAgICAgdmFyIGhhbmRsZXI9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBhcmdzPSB0b0FycmF5LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgIHZhciBldmVudE9iaj0ge1xuICAgICAgICAgIGRhdGE6IGFyZ3MsXG4gICAgICAgICAgbmFtZTogbG9jYWxFdmVudCxcbiAgICAgICAgICBvcmlnaW5hbDogZXZlbnRcbiAgICAgICAgfTtcbiAgICAgICAgaWYocmVkdWNlcil7XG4gICAgICAgICAgdmFyIHJlc3VsdD0gcmVkdWNlci5jYWxsKHRhcmdldCwgZXZlbnRPYmopO1xuICAgICAgICAgIGlmKHJlc3VsdCE9PWZhbHNlKXtcbiAgICAgICAgICAgIGVtaXR0ZXIuZW1pdC5hcHBseShlbWl0dGVyLCBbZXZlbnRPYmoubmFtZV0uY29uY2F0KGFyZ3MpKVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZW1pdHRlci5lbWl0LmFwcGx5KGVtaXR0ZXIsIFtsb2NhbEV2ZW50XS5jb25jYXQoYXJncykpO1xuICAgICAgfTtcblxuXG4gICAgICBpZihsaXN0ZW5lcnNbZXZlbnRdKXtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0V2ZW50IFxcJycgKyBldmVudCArICdcXCcgaXMgYWxyZWFkeSBsaXN0ZW5pbmcnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fbGlzdGVuZXJzQ291bnQrKztcblxuICAgICAgaWYoZW1pdHRlci5fbmV3TGlzdGVuZXIgJiYgZW1pdHRlci5fcmVtb3ZlTGlzdGVuZXIgJiYgIW9ic2VydmVyLl9vbk5ld0xpc3RlbmVyKXtcblxuICAgICAgICB0aGlzLl9vbk5ld0xpc3RlbmVyID0gZnVuY3Rpb24gKF9ldmVudCkge1xuICAgICAgICAgIGlmIChfZXZlbnQgPT09IGxvY2FsRXZlbnQgJiYgbGlzdGVuZXJzW2V2ZW50XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgbGlzdGVuZXJzW2V2ZW50XSA9IGhhbmRsZXI7XG4gICAgICAgICAgICBvYnNlcnZlci5fb24uY2FsbCh0YXJnZXQsIGV2ZW50LCBoYW5kbGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZW1pdHRlci5vbignbmV3TGlzdGVuZXInLCB0aGlzLl9vbk5ld0xpc3RlbmVyKTtcblxuICAgICAgICB0aGlzLl9vblJlbW92ZUxpc3RlbmVyPSBmdW5jdGlvbihfZXZlbnQpe1xuICAgICAgICAgIGlmKF9ldmVudCA9PT0gbG9jYWxFdmVudCAmJiAhZW1pdHRlci5oYXNMaXN0ZW5lcnMoX2V2ZW50KSAmJiBsaXN0ZW5lcnNbZXZlbnRdKXtcbiAgICAgICAgICAgIGxpc3RlbmVyc1tldmVudF09IG51bGw7XG4gICAgICAgICAgICBvYnNlcnZlci5fb2ZmLmNhbGwodGFyZ2V0LCBldmVudCwgaGFuZGxlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGxpc3RlbmVyc1tldmVudF09IG51bGw7XG5cbiAgICAgICAgZW1pdHRlci5vbigncmVtb3ZlTGlzdGVuZXInLCB0aGlzLl9vblJlbW92ZUxpc3RlbmVyKTtcbiAgICAgIH1lbHNle1xuICAgICAgICBsaXN0ZW5lcnNbZXZlbnRdPSBoYW5kbGVyO1xuICAgICAgICBvYnNlcnZlci5fb24uY2FsbCh0YXJnZXQsIGV2ZW50LCBoYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgIHZhciBvYnNlcnZlcj0gdGhpcztcbiAgICAgIHZhciBsaXN0ZW5lcnM9IHRoaXMuX2xpc3RlbmVycztcbiAgICAgIHZhciBlbWl0dGVyPSB0aGlzLl9lbWl0dGVyO1xuICAgICAgdmFyIGhhbmRsZXI7XG4gICAgICB2YXIgZXZlbnRzO1xuICAgICAgdmFyIG9mZj0gdGhpcy5fb2ZmO1xuICAgICAgdmFyIHRhcmdldD0gdGhpcy5fdGFyZ2V0O1xuICAgICAgdmFyIGk7XG5cbiAgICAgIGlmKGV2ZW50ICYmIHR5cGVvZiBldmVudCE9PSdzdHJpbmcnKXtcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdldmVudCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNsZWFyUmVmcygpe1xuICAgICAgICBpZihvYnNlcnZlci5fb25OZXdMaXN0ZW5lcil7XG4gICAgICAgICAgZW1pdHRlci5vZmYoJ25ld0xpc3RlbmVyJywgb2JzZXJ2ZXIuX29uTmV3TGlzdGVuZXIpO1xuICAgICAgICAgIGVtaXR0ZXIub2ZmKCdyZW1vdmVMaXN0ZW5lcicsIG9ic2VydmVyLl9vblJlbW92ZUxpc3RlbmVyKTtcbiAgICAgICAgICBvYnNlcnZlci5fb25OZXdMaXN0ZW5lcj0gbnVsbDtcbiAgICAgICAgICBvYnNlcnZlci5fb25SZW1vdmVMaXN0ZW5lcj0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXg9IGZpbmRUYXJnZXRJbmRleC5jYWxsKGVtaXR0ZXIsIG9ic2VydmVyKTtcbiAgICAgICAgZW1pdHRlci5fb2JzZXJ2ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG5cbiAgICAgIGlmKGV2ZW50KXtcbiAgICAgICAgaGFuZGxlcj0gbGlzdGVuZXJzW2V2ZW50XTtcbiAgICAgICAgaWYoIWhhbmRsZXIpIHJldHVybjtcbiAgICAgICAgb2ZmLmNhbGwodGFyZ2V0LCBldmVudCwgaGFuZGxlcik7XG4gICAgICAgIGRlbGV0ZSBsaXN0ZW5lcnNbZXZlbnRdO1xuICAgICAgICBpZighLS10aGlzLl9saXN0ZW5lcnNDb3VudCl7XG4gICAgICAgICAgY2xlYXJSZWZzKCk7XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICBldmVudHM9IG93bktleXMobGlzdGVuZXJzKTtcbiAgICAgICAgaT0gZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUoaS0tPjApe1xuICAgICAgICAgIGV2ZW50PSBldmVudHNbaV07XG4gICAgICAgICAgb2ZmLmNhbGwodGFyZ2V0LCBldmVudCwgbGlzdGVuZXJzW2V2ZW50XSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzPSB7fTtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzQ291bnQ9IDA7XG4gICAgICAgIGNsZWFyUmVmcygpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZU9wdGlvbnMob3B0aW9ucywgc2NoZW1hLCByZWR1Y2VycywgYWxsb3dVbmtub3duKSB7XG4gICAgdmFyIGNvbXB1dGVkT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHNjaGVtYSk7XG5cbiAgICBpZiAoIW9wdGlvbnMpIHJldHVybiBjb21wdXRlZE9wdGlvbnM7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ29wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QnKVxuICAgIH1cblxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBvcHRpb24sIHZhbHVlO1xuICAgIHZhciByZWR1Y2VyO1xuXG4gICAgZnVuY3Rpb24gcmVqZWN0KHJlYXNvbikge1xuICAgICAgdGhyb3cgRXJyb3IoJ0ludmFsaWQgXCInICsgb3B0aW9uICsgJ1wiIG9wdGlvbiB2YWx1ZScgKyAocmVhc29uID8gJy4gUmVhc29uOiAnICsgcmVhc29uIDogJycpKVxuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIG9wdGlvbiA9IGtleXNbaV07XG4gICAgICBpZiAoIWFsbG93VW5rbm93biAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChzY2hlbWEsIG9wdGlvbikpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ1Vua25vd24gXCInICsgb3B0aW9uICsgJ1wiIG9wdGlvbicpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSBvcHRpb25zW29wdGlvbl07XG4gICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZWR1Y2VyID0gcmVkdWNlcnNbb3B0aW9uXTtcbiAgICAgICAgY29tcHV0ZWRPcHRpb25zW29wdGlvbl0gPSByZWR1Y2VyID8gcmVkdWNlcih2YWx1ZSwgcmVqZWN0KSA6IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29tcHV0ZWRPcHRpb25zO1xuICB9XG5cbiAgZnVuY3Rpb24gY29uc3RydWN0b3JSZWR1Y2VyKHZhbHVlLCByZWplY3QpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nIHx8ICF2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgncHJvdG90eXBlJykpIHtcbiAgICAgIHJlamVjdCgndmFsdWUgbXVzdCBiZSBhIGNvbnN0cnVjdG9yJyk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VUeXBlUmVkdWNlcih0eXBlcykge1xuICAgIHZhciBtZXNzYWdlPSAndmFsdWUgbXVzdCBiZSB0eXBlIG9mICcgKyB0eXBlcy5qb2luKCd8Jyk7XG4gICAgdmFyIGxlbj0gdHlwZXMubGVuZ3RoO1xuICAgIHZhciBmaXJzdFR5cGU9IHR5cGVzWzBdO1xuICAgIHZhciBzZWNvbmRUeXBlPSB0eXBlc1sxXTtcblxuICAgIGlmIChsZW4gPT09IDEpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAodiwgcmVqZWN0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdiA9PT0gZmlyc3RUeXBlKSB7XG4gICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgIH1cbiAgICAgICAgcmVqZWN0KG1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChsZW4gPT09IDIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAodiwgcmVqZWN0KSB7XG4gICAgICAgIHZhciBraW5kPSB0eXBlb2YgdjtcbiAgICAgICAgaWYgKGtpbmQgPT09IGZpcnN0VHlwZSB8fCBraW5kID09PSBzZWNvbmRUeXBlKSByZXR1cm4gdjtcbiAgICAgICAgcmVqZWN0KG1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAodiwgcmVqZWN0KSB7XG4gICAgICB2YXIga2luZCA9IHR5cGVvZiB2O1xuICAgICAgdmFyIGkgPSBsZW47XG4gICAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgICBpZiAoa2luZCA9PT0gdHlwZXNbaV0pIHJldHVybiB2O1xuICAgICAgfVxuICAgICAgcmVqZWN0KG1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBmdW5jdGlvblJlZHVjZXI9IG1ha2VUeXBlUmVkdWNlcihbJ2Z1bmN0aW9uJ10pO1xuXG4gIHZhciBvYmplY3RGdW5jdGlvblJlZHVjZXI9IG1ha2VUeXBlUmVkdWNlcihbJ29iamVjdCcsICdmdW5jdGlvbiddKTtcblxuICBmdW5jdGlvbiBtYWtlQ2FuY2VsYWJsZVByb21pc2UoUHJvbWlzZSwgZXhlY3V0b3IsIG9wdGlvbnMpIHtcbiAgICB2YXIgaXNDYW5jZWxhYmxlO1xuICAgIHZhciBjYWxsYmFja3M7XG4gICAgdmFyIHRpbWVyPSAwO1xuICAgIHZhciBzdWJzY3JpcHRpb25DbG9zZWQ7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QsIG9uQ2FuY2VsKSB7XG4gICAgICBvcHRpb25zPSByZXNvbHZlT3B0aW9ucyhvcHRpb25zLCB7XG4gICAgICAgIHRpbWVvdXQ6IDAsXG4gICAgICAgIG92ZXJsb2FkOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICB0aW1lb3V0OiBmdW5jdGlvbih2YWx1ZSwgcmVqZWN0KXtcbiAgICAgICAgICB2YWx1ZSo9IDE7XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicgfHwgdmFsdWUgPCAwIHx8ICFOdW1iZXIuaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgICAgICAgICByZWplY3QoJ3RpbWVvdXQgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpc0NhbmNlbGFibGUgPSAhb3B0aW9ucy5vdmVybG9hZCAmJiB0eXBlb2YgUHJvbWlzZS5wcm90b3R5cGUuY2FuY2VsID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvbkNhbmNlbCA9PT0gJ2Z1bmN0aW9uJztcblxuICAgICAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICAgIGNhbGxiYWNrcyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVyKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICB0aW1lciA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIF9yZXNvbHZlPSBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgX3JlamVjdD0gZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChpc0NhbmNlbGFibGUpIHtcbiAgICAgICAgZXhlY3V0b3IoX3Jlc29sdmUsIF9yZWplY3QsIG9uQ2FuY2VsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrcyA9IFtmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAgIF9yZWplY3QocmVhc29uIHx8IEVycm9yKCdjYW5jZWxlZCcpKTtcbiAgICAgICAgfV07XG4gICAgICAgIGV4ZWN1dG9yKF9yZXNvbHZlLCBfcmVqZWN0LCBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uQ2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignVW5hYmxlIHRvIHN1YnNjcmliZSBvbiBjYW5jZWwgZXZlbnQgYXN5bmNocm9ub3VzbHknKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ29uQ2FuY2VsIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYWxsYmFja3MucHVzaChjYik7XG4gICAgICAgIH0pO1xuICAgICAgICBzdWJzY3JpcHRpb25DbG9zZWQ9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLnRpbWVvdXQgPiAwKSB7XG4gICAgICAgIHRpbWVyPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgdmFyIHJlYXNvbj0gRXJyb3IoJ3RpbWVvdXQnKTtcbiAgICAgICAgICByZWFzb24uY29kZSA9ICdFVElNRURPVVQnXG4gICAgICAgICAgdGltZXI9IDA7XG4gICAgICAgICAgcHJvbWlzZS5jYW5jZWwocmVhc29uKTtcbiAgICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgICAgfSwgb3B0aW9ucy50aW1lb3V0KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICghaXNDYW5jZWxhYmxlKSB7XG4gICAgICBwcm9taXNlLmNhbmNlbCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgaWYgKCFjYWxsYmFja3MpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlbmd0aCA9IGNhbGxiYWNrcy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjYWxsYmFja3NbaV0ocmVhc29uKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbnRlcm5hbCBjYWxsYmFjayB0byByZWplY3QgdGhlIHByb21pc2VcbiAgICAgICAgY2FsbGJhY2tzWzBdKHJlYXNvbik7XG4gICAgICAgIGNhbGxiYWNrcyA9IG51bGw7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluZFRhcmdldEluZGV4KG9ic2VydmVyKSB7XG4gICAgdmFyIG9ic2VydmVycyA9IHRoaXMuX29ic2VydmVycztcbiAgICBpZighb2JzZXJ2ZXJzKXtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgdmFyIGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKG9ic2VydmVyc1tpXS5fdGFyZ2V0ID09PSBvYnNlcnZlcikgcmV0dXJuIGk7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8vIEF0dGVudGlvbiwgZnVuY3Rpb24gcmV0dXJuIHR5cGUgbm93IGlzIGFycmF5LCBhbHdheXMgIVxuICAvLyBJdCBoYXMgemVybyBlbGVtZW50cyBpZiBubyBhbnkgbWF0Y2hlcyBmb3VuZCBhbmQgb25lIG9yIG1vcmVcbiAgLy8gZWxlbWVudHMgKGxlYWZzKSBpZiB0aGVyZSBhcmUgbWF0Y2hlc1xuICAvL1xuICBmdW5jdGlvbiBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWUsIGksIHR5cGVMZW5ndGgpIHtcbiAgICBpZiAoIXRyZWUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChpID09PSAwKSB7XG4gICAgICB2YXIga2luZCA9IHR5cGVvZiB0eXBlO1xuICAgICAgaWYgKGtpbmQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciBucywgbiwgbCA9IDAsIGogPSAwLCBkZWxpbWl0ZXIgPSB0aGlzLmRlbGltaXRlciwgZGwgPSBkZWxpbWl0ZXIubGVuZ3RoO1xuICAgICAgICBpZiAoKG4gPSB0eXBlLmluZGV4T2YoZGVsaW1pdGVyKSkgIT09IC0xKSB7XG4gICAgICAgICAgbnMgPSBuZXcgQXJyYXkoNSk7XG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgbnNbbCsrXSA9IHR5cGUuc2xpY2Uoaiwgbik7XG4gICAgICAgICAgICBqID0gbiArIGRsO1xuICAgICAgICAgIH0gd2hpbGUgKChuID0gdHlwZS5pbmRleE9mKGRlbGltaXRlciwgaikpICE9PSAtMSk7XG5cbiAgICAgICAgICBuc1tsKytdID0gdHlwZS5zbGljZShqKTtcbiAgICAgICAgICB0eXBlID0gbnM7XG4gICAgICAgICAgdHlwZUxlbmd0aCA9IGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHlwZSA9IFt0eXBlXTtcbiAgICAgICAgICB0eXBlTGVuZ3RoID0gMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChraW5kID09PSAnb2JqZWN0Jykge1xuICAgICAgICB0eXBlTGVuZ3RoID0gdHlwZS5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0eXBlID0gW3R5cGVdO1xuICAgICAgICB0eXBlTGVuZ3RoID0gMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbGlzdGVuZXJzPSBudWxsLCBicmFuY2gsIHhUcmVlLCB4eFRyZWUsIGlzb2xhdGVkQnJhbmNoLCBlbmRSZWFjaGVkLCBjdXJyZW50VHlwZSA9IHR5cGVbaV0sXG4gICAgICAgIG5leHRUeXBlID0gdHlwZVtpICsgMV0sIGJyYW5jaGVzLCBfbGlzdGVuZXJzO1xuXG4gICAgaWYgKGkgPT09IHR5cGVMZW5ndGgpIHtcbiAgICAgIC8vXG4gICAgICAvLyBJZiBhdCB0aGUgZW5kIG9mIHRoZSBldmVudChzKSBsaXN0IGFuZCB0aGUgdHJlZSBoYXMgbGlzdGVuZXJzXG4gICAgICAvLyBpbnZva2UgdGhvc2UgbGlzdGVuZXJzLlxuICAgICAgLy9cblxuICAgICAgaWYodHJlZS5fbGlzdGVuZXJzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdHJlZS5fbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgaGFuZGxlcnMgJiYgaGFuZGxlcnMucHVzaCh0cmVlLl9saXN0ZW5lcnMpO1xuICAgICAgICAgIGxpc3RlbmVycyA9IFt0cmVlXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYW5kbGVycyAmJiBoYW5kbGVycy5wdXNoLmFwcGx5KGhhbmRsZXJzLCB0cmVlLl9saXN0ZW5lcnMpO1xuICAgICAgICAgIGxpc3RlbmVycyA9IFt0cmVlXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG5cbiAgICAgIGlmIChjdXJyZW50VHlwZSA9PT0gJyonKSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIElmIHRoZSBldmVudCBlbWl0dGVkIGlzICcqJyBhdCB0aGlzIHBhcnRcbiAgICAgICAgLy8gb3IgdGhlcmUgaXMgYSBjb25jcmV0ZSBtYXRjaCBhdCB0aGlzIHBhdGNoXG4gICAgICAgIC8vXG4gICAgICAgIGJyYW5jaGVzID0gb3duS2V5cyh0cmVlKTtcbiAgICAgICAgbiA9IGJyYW5jaGVzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKG4tLSA+IDApIHtcbiAgICAgICAgICBicmFuY2ggPSBicmFuY2hlc1tuXTtcbiAgICAgICAgICBpZiAoYnJhbmNoICE9PSAnX2xpc3RlbmVycycpIHtcbiAgICAgICAgICAgIF9saXN0ZW5lcnMgPSBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgaSArIDEsIHR5cGVMZW5ndGgpO1xuICAgICAgICAgICAgaWYgKF9saXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoLmFwcGx5KGxpc3RlbmVycywgX2xpc3RlbmVycyk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzID0gX2xpc3RlbmVycztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdGVuZXJzO1xuICAgICAgfSBlbHNlIGlmIChjdXJyZW50VHlwZSA9PT0gJyoqJykge1xuICAgICAgICBlbmRSZWFjaGVkID0gKGkgKyAxID09PSB0eXBlTGVuZ3RoIHx8IChpICsgMiA9PT0gdHlwZUxlbmd0aCAmJiBuZXh0VHlwZSA9PT0gJyonKSk7XG4gICAgICAgIGlmIChlbmRSZWFjaGVkICYmIHRyZWUuX2xpc3RlbmVycykge1xuICAgICAgICAgIC8vIFRoZSBuZXh0IGVsZW1lbnQgaGFzIGEgX2xpc3RlbmVycywgYWRkIGl0IHRvIHRoZSBoYW5kbGVycy5cbiAgICAgICAgICBsaXN0ZW5lcnMgPSBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWUsIHR5cGVMZW5ndGgsIHR5cGVMZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJhbmNoZXMgPSBvd25LZXlzKHRyZWUpO1xuICAgICAgICBuID0gYnJhbmNoZXMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAobi0tID4gMCkge1xuICAgICAgICAgIGJyYW5jaCA9IGJyYW5jaGVzW25dO1xuICAgICAgICAgIGlmIChicmFuY2ggIT09ICdfbGlzdGVuZXJzJykge1xuICAgICAgICAgICAgaWYgKGJyYW5jaCA9PT0gJyonIHx8IGJyYW5jaCA9PT0gJyoqJykge1xuICAgICAgICAgICAgICBpZiAodHJlZVticmFuY2hdLl9saXN0ZW5lcnMgJiYgIWVuZFJlYWNoZWQpIHtcbiAgICAgICAgICAgICAgICBfbGlzdGVuZXJzID0gc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB0cmVlW2JyYW5jaF0sIHR5cGVMZW5ndGgsIHR5cGVMZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmIChfbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoLmFwcGx5KGxpc3RlbmVycywgX2xpc3RlbmVycyk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMgPSBfbGlzdGVuZXJzO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfbGlzdGVuZXJzID0gc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB0cmVlW2JyYW5jaF0sIGksIHR5cGVMZW5ndGgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChicmFuY2ggPT09IG5leHRUeXBlKSB7XG4gICAgICAgICAgICAgIF9saXN0ZW5lcnMgPSBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgaSArIDIsIHR5cGVMZW5ndGgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gTm8gbWF0Y2ggb24gdGhpcyBvbmUsIHNoaWZ0IGludG8gdGhlIHRyZWUgYnV0IG5vdCBpbiB0aGUgdHlwZSBhcnJheS5cbiAgICAgICAgICAgICAgX2xpc3RlbmVycyA9IHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZVticmFuY2hdLCBpLCB0eXBlTGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMucHVzaC5hcHBseShsaXN0ZW5lcnMsIF9saXN0ZW5lcnMpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVycyA9IF9saXN0ZW5lcnM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3RlbmVycztcbiAgICAgIH0gZWxzZSBpZiAodHJlZVtjdXJyZW50VHlwZV0pIHtcbiAgICAgICAgbGlzdGVuZXJzID0gc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB0cmVlW2N1cnJlbnRUeXBlXSwgaSArIDEsIHR5cGVMZW5ndGgpO1xuICAgICAgfVxuICAgIH1cblxuICAgICAgeFRyZWUgPSB0cmVlWycqJ107XG4gICAgaWYgKHhUcmVlKSB7XG4gICAgICAvL1xuICAgICAgLy8gSWYgdGhlIGxpc3RlbmVyIHRyZWUgd2lsbCBhbGxvdyBhbnkgbWF0Y2ggZm9yIHRoaXMgcGFydCxcbiAgICAgIC8vIHRoZW4gcmVjdXJzaXZlbHkgZXhwbG9yZSBhbGwgYnJhbmNoZXMgb2YgdGhlIHRyZWVcbiAgICAgIC8vXG4gICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHhUcmVlLCBpICsgMSwgdHlwZUxlbmd0aCk7XG4gICAgfVxuXG4gICAgeHhUcmVlID0gdHJlZVsnKionXTtcbiAgICBpZiAoeHhUcmVlKSB7XG4gICAgICBpZiAoaSA8IHR5cGVMZW5ndGgpIHtcbiAgICAgICAgaWYgKHh4VHJlZS5fbGlzdGVuZXJzKSB7XG4gICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIGxpc3RlbmVyIG9uIGEgJyoqJywgaXQgd2lsbCBjYXRjaCBhbGwsIHNvIGFkZCBpdHMgaGFuZGxlci5cbiAgICAgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHh4VHJlZSwgdHlwZUxlbmd0aCwgdHlwZUxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCdWlsZCBhcnJheXMgb2YgbWF0Y2hpbmcgbmV4dCBicmFuY2hlcyBhbmQgb3RoZXJzLlxuICAgICAgICBicmFuY2hlcz0gb3duS2V5cyh4eFRyZWUpO1xuICAgICAgICBuPSBicmFuY2hlcy5sZW5ndGg7XG4gICAgICAgIHdoaWxlKG4tLT4wKXtcbiAgICAgICAgICBicmFuY2g9IGJyYW5jaGVzW25dO1xuICAgICAgICAgIGlmIChicmFuY2ggIT09ICdfbGlzdGVuZXJzJykge1xuICAgICAgICAgICAgaWYgKGJyYW5jaCA9PT0gbmV4dFR5cGUpIHtcbiAgICAgICAgICAgICAgLy8gV2Uga25vdyB0aGUgbmV4dCBlbGVtZW50IHdpbGwgbWF0Y2gsIHNvIGp1bXAgdHdpY2UuXG4gICAgICAgICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlW2JyYW5jaF0sIGkgKyAyLCB0eXBlTGVuZ3RoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYnJhbmNoID09PSBjdXJyZW50VHlwZSkge1xuICAgICAgICAgICAgICAvLyBDdXJyZW50IG5vZGUgbWF0Y2hlcywgbW92ZSBpbnRvIHRoZSB0cmVlLlxuICAgICAgICAgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHh4VHJlZVticmFuY2hdLCBpICsgMSwgdHlwZUxlbmd0aCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpc29sYXRlZEJyYW5jaCA9IHt9O1xuICAgICAgICAgICAgICBpc29sYXRlZEJyYW5jaFticmFuY2hdID0geHhUcmVlW2JyYW5jaF07XG4gICAgICAgICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeycqKic6IGlzb2xhdGVkQnJhbmNofSwgaSArIDEsIHR5cGVMZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh4eFRyZWUuX2xpc3RlbmVycykge1xuICAgICAgICAvLyBXZSBoYXZlIHJlYWNoZWQgdGhlIGVuZCBhbmQgc3RpbGwgb24gYSAnKionXG4gICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlLCB0eXBlTGVuZ3RoLCB0eXBlTGVuZ3RoKTtcbiAgICAgIH0gZWxzZSBpZiAoeHhUcmVlWycqJ10gJiYgeHhUcmVlWycqJ10uX2xpc3RlbmVycykge1xuICAgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHh4VHJlZVsnKiddLCB0eXBlTGVuZ3RoLCB0eXBlTGVuZ3RoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGlzdGVuZXJzO1xuICB9XG5cbiAgZnVuY3Rpb24gZ3Jvd0xpc3RlbmVyVHJlZSh0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICAgIHZhciBsZW4gPSAwLCBqID0gMCwgaSwgZGVsaW1pdGVyID0gdGhpcy5kZWxpbWl0ZXIsIGRsPSBkZWxpbWl0ZXIubGVuZ3RoLCBucztcblxuICAgIGlmKHR5cGVvZiB0eXBlPT09J3N0cmluZycpIHtcbiAgICAgIGlmICgoaSA9IHR5cGUuaW5kZXhPZihkZWxpbWl0ZXIpKSAhPT0gLTEpIHtcbiAgICAgICAgbnMgPSBuZXcgQXJyYXkoNSk7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBuc1tsZW4rK10gPSB0eXBlLnNsaWNlKGosIGkpO1xuICAgICAgICAgIGogPSBpICsgZGw7XG4gICAgICAgIH0gd2hpbGUgKChpID0gdHlwZS5pbmRleE9mKGRlbGltaXRlciwgaikpICE9PSAtMSk7XG5cbiAgICAgICAgbnNbbGVuKytdID0gdHlwZS5zbGljZShqKTtcbiAgICAgIH1lbHNle1xuICAgICAgICBucz0gW3R5cGVdO1xuICAgICAgICBsZW49IDE7XG4gICAgICB9XG4gICAgfWVsc2V7XG4gICAgICBucz0gdHlwZTtcbiAgICAgIGxlbj0gdHlwZS5sZW5ndGg7XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBMb29rcyBmb3IgdHdvIGNvbnNlY3V0aXZlICcqKicsIGlmIHNvLCBkb24ndCBhZGQgdGhlIGV2ZW50IGF0IGFsbC5cbiAgICAvL1xuICAgIGlmIChsZW4gPiAxKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpICsgMSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChuc1tpXSA9PT0gJyoqJyAmJiBuc1tpICsgMV0gPT09ICcqKicpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cblxuXG4gICAgdmFyIHRyZWUgPSB0aGlzLmxpc3RlbmVyVHJlZSwgbmFtZTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgbmFtZSA9IG5zW2ldO1xuXG4gICAgICB0cmVlID0gdHJlZVtuYW1lXSB8fCAodHJlZVtuYW1lXSA9IHt9KTtcblxuICAgICAgaWYgKGkgPT09IGxlbiAtIDEpIHtcbiAgICAgICAgaWYgKCF0cmVlLl9saXN0ZW5lcnMpIHtcbiAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMgPSBsaXN0ZW5lcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHRyZWUuX2xpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdHJlZS5fbGlzdGVuZXJzID0gW3RyZWUuX2xpc3RlbmVyc107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHByZXBlbmQpIHtcbiAgICAgICAgICAgIHRyZWUuX2xpc3RlbmVycy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJlZS5fbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgIXRyZWUuX2xpc3RlbmVycy53YXJuZWQgJiZcbiAgICAgICAgICAgICAgdGhpcy5fbWF4TGlzdGVuZXJzID4gMCAmJlxuICAgICAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMubGVuZ3RoID4gdGhpcy5fbWF4TGlzdGVuZXJzXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMud2FybmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGxvZ1Bvc3NpYmxlTWVtb3J5TGVhay5jYWxsKHRoaXMsIHRyZWUuX2xpc3RlbmVycy5sZW5ndGgsIG5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbGxlY3RUcmVlRXZlbnRzKHRyZWUsIGV2ZW50cywgcm9vdCwgYXNBcnJheSl7XG4gICAgIHZhciBicmFuY2hlcz0gb3duS2V5cyh0cmVlKTtcbiAgICAgdmFyIGk9IGJyYW5jaGVzLmxlbmd0aDtcbiAgICAgdmFyIGJyYW5jaCwgYnJhbmNoTmFtZSwgcGF0aDtcbiAgICAgdmFyIGhhc0xpc3RlbmVycz0gdHJlZVsnX2xpc3RlbmVycyddO1xuICAgICB2YXIgaXNBcnJheVBhdGg7XG5cbiAgICAgd2hpbGUoaS0tPjApe1xuICAgICAgICAgYnJhbmNoTmFtZT0gYnJhbmNoZXNbaV07XG5cbiAgICAgICAgIGJyYW5jaD0gdHJlZVticmFuY2hOYW1lXTtcblxuICAgICAgICAgaWYoYnJhbmNoTmFtZT09PSdfbGlzdGVuZXJzJyl7XG4gICAgICAgICAgICAgcGF0aD0gcm9vdDtcbiAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICBwYXRoID0gcm9vdCA/IHJvb3QuY29uY2F0KGJyYW5jaE5hbWUpIDogW2JyYW5jaE5hbWVdO1xuICAgICAgICAgfVxuXG4gICAgICAgICBpc0FycmF5UGF0aD0gYXNBcnJheSB8fCB0eXBlb2YgYnJhbmNoTmFtZT09PSdzeW1ib2wnO1xuXG4gICAgICAgICBoYXNMaXN0ZW5lcnMgJiYgZXZlbnRzLnB1c2goaXNBcnJheVBhdGg/IHBhdGggOiBwYXRoLmpvaW4odGhpcy5kZWxpbWl0ZXIpKTtcblxuICAgICAgICAgaWYodHlwZW9mIGJyYW5jaD09PSdvYmplY3QnKXtcbiAgICAgICAgICAgICBjb2xsZWN0VHJlZUV2ZW50cy5jYWxsKHRoaXMsIGJyYW5jaCwgZXZlbnRzLCBwYXRoLCBpc0FycmF5UGF0aCk7XG4gICAgICAgICB9XG4gICAgIH1cblxuICAgICByZXR1cm4gZXZlbnRzO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVjdXJzaXZlbHlHYXJiYWdlQ29sbGVjdChyb290KSB7XG4gICAgdmFyIGtleXMgPSBvd25LZXlzKHJvb3QpO1xuICAgIHZhciBpPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgb2JqLCBrZXksIGZsYWc7XG4gICAgd2hpbGUoaS0tPjApe1xuICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgIG9iaiA9IHJvb3Rba2V5XTtcblxuICAgICAgaWYob2JqKXtcbiAgICAgICAgICBmbGFnPSB0cnVlO1xuICAgICAgICAgIGlmKGtleSAhPT0gJ19saXN0ZW5lcnMnICYmICFyZWN1cnNpdmVseUdhcmJhZ2VDb2xsZWN0KG9iaikpe1xuICAgICAgICAgICAgIGRlbGV0ZSByb290W2tleV07XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmbGFnO1xuICB9XG5cbiAgZnVuY3Rpb24gTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGxpc3RlbmVyKXtcbiAgICB0aGlzLmVtaXR0ZXI9IGVtaXR0ZXI7XG4gICAgdGhpcy5ldmVudD0gZXZlbnQ7XG4gICAgdGhpcy5saXN0ZW5lcj0gbGlzdGVuZXI7XG4gIH1cblxuICBMaXN0ZW5lci5wcm90b3R5cGUub2ZmPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuZW1pdHRlci5vZmYodGhpcy5ldmVudCwgdGhpcy5saXN0ZW5lcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgZnVuY3Rpb24gc2V0dXBMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIG9wdGlvbnMpe1xuICAgICAgaWYgKG9wdGlvbnMgPT09IHRydWUpIHtcbiAgICAgICAgcHJvbWlzaWZ5ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgYXN5bmMgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHRocm93IFR5cGVFcnJvcignb3B0aW9ucyBzaG91bGQgYmUgYW4gb2JqZWN0IG9yIHRydWUnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXN5bmMgPSBvcHRpb25zLmFzeW5jO1xuICAgICAgICB2YXIgcHJvbWlzaWZ5ID0gb3B0aW9ucy5wcm9taXNpZnk7XG4gICAgICAgIHZhciBuZXh0VGljayA9IG9wdGlvbnMubmV4dFRpY2s7XG4gICAgICAgIHZhciBvYmplY3RpZnkgPSBvcHRpb25zLm9iamVjdGlmeTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFzeW5jIHx8IG5leHRUaWNrIHx8IHByb21pc2lmeSkge1xuICAgICAgICB2YXIgX2xpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgIHZhciBfb3JpZ2luID0gbGlzdGVuZXIuX29yaWdpbiB8fCBsaXN0ZW5lcjtcblxuICAgICAgICBpZiAobmV4dFRpY2sgJiYgIW5leHRUaWNrU3VwcG9ydGVkKSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoJ3Byb2Nlc3MubmV4dFRpY2sgaXMgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb21pc2lmeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcHJvbWlzaWZ5ID0gbGlzdGVuZXIuY29uc3RydWN0b3IubmFtZSA9PT0gJ0FzeW5jRnVuY3Rpb24nO1xuICAgICAgICB9XG5cbiAgICAgICAgbGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgICAgIHZhciBldmVudCA9IHRoaXMuZXZlbnQ7XG5cbiAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5ID8gKG5leHRUaWNrID8gUHJvbWlzZS5yZXNvbHZlKCkgOiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgX3NldEltbWVkaWF0ZShyZXNvbHZlKTtcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZXZlbnQgPSBldmVudDtcbiAgICAgICAgICAgIHJldHVybiBfbGlzdGVuZXIuYXBwbHkoY29udGV4dCwgYXJncylcbiAgICAgICAgICB9KSkgOiAobmV4dFRpY2sgPyBwcm9jZXNzLm5leHRUaWNrIDogX3NldEltbWVkaWF0ZSkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29udGV4dC5ldmVudCA9IGV2ZW50O1xuICAgICAgICAgICAgX2xpc3RlbmVyLmFwcGx5KGNvbnRleHQsIGFyZ3MpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgbGlzdGVuZXIuX2FzeW5jID0gdHJ1ZTtcbiAgICAgICAgbGlzdGVuZXIuX29yaWdpbiA9IF9vcmlnaW47XG4gICAgICB9XG5cbiAgICByZXR1cm4gW2xpc3RlbmVyLCBvYmplY3RpZnk/IG5ldyBMaXN0ZW5lcih0aGlzLCBldmVudCwgbGlzdGVuZXIpOiB0aGlzXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcihjb25mKSB7XG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgdGhpcy5fbmV3TGlzdGVuZXIgPSBmYWxzZTtcbiAgICB0aGlzLl9yZW1vdmVMaXN0ZW5lciA9IGZhbHNlO1xuICAgIHRoaXMudmVyYm9zZU1lbW9yeUxlYWsgPSBmYWxzZTtcbiAgICBjb25maWd1cmUuY2FsbCh0aGlzLCBjb25mKTtcbiAgfVxuXG4gIEV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIyID0gRXZlbnRFbWl0dGVyOyAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmb3IgZXhwb3J0aW5nIEV2ZW50RW1pdHRlciBwcm9wZXJ0eVxuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuVG89IGZ1bmN0aW9uKHRhcmdldCwgZXZlbnRzLCBvcHRpb25zKXtcbiAgICBpZih0eXBlb2YgdGFyZ2V0IT09J29iamVjdCcpe1xuICAgICAgdGhyb3cgVHlwZUVycm9yKCd0YXJnZXQgbXVzdHMgYmUgYW4gb2JqZWN0Jyk7XG4gICAgfVxuXG4gICAgdmFyIGVtaXR0ZXI9IHRoaXM7XG5cbiAgICBvcHRpb25zID0gcmVzb2x2ZU9wdGlvbnMob3B0aW9ucywge1xuICAgICAgb246IHVuZGVmaW5lZCxcbiAgICAgIG9mZjogdW5kZWZpbmVkLFxuICAgICAgcmVkdWNlcnM6IHVuZGVmaW5lZFxuICAgIH0sIHtcbiAgICAgIG9uOiBmdW5jdGlvblJlZHVjZXIsXG4gICAgICBvZmY6IGZ1bmN0aW9uUmVkdWNlcixcbiAgICAgIHJlZHVjZXJzOiBvYmplY3RGdW5jdGlvblJlZHVjZXJcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGxpc3RlbihldmVudHMpe1xuICAgICAgaWYodHlwZW9mIGV2ZW50cyE9PSdvYmplY3QnKXtcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdldmVudHMgbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlZHVjZXJzPSBvcHRpb25zLnJlZHVjZXJzO1xuICAgICAgdmFyIGluZGV4PSBmaW5kVGFyZ2V0SW5kZXguY2FsbChlbWl0dGVyLCB0YXJnZXQpO1xuICAgICAgdmFyIG9ic2VydmVyO1xuXG4gICAgICBpZihpbmRleD09PS0xKXtcbiAgICAgICAgb2JzZXJ2ZXI9IG5ldyBUYXJnZXRPYnNlcnZlcihlbWl0dGVyLCB0YXJnZXQsIG9wdGlvbnMpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIG9ic2VydmVyPSBlbWl0dGVyLl9vYnNlcnZlcnNbaW5kZXhdO1xuICAgICAgfVxuXG4gICAgICB2YXIga2V5cz0gb3duS2V5cyhldmVudHMpO1xuICAgICAgdmFyIGxlbj0ga2V5cy5sZW5ndGg7XG4gICAgICB2YXIgZXZlbnQ7XG4gICAgICB2YXIgaXNTaW5nbGVSZWR1Y2VyPSB0eXBlb2YgcmVkdWNlcnM9PT0nZnVuY3Rpb24nO1xuXG4gICAgICBmb3IodmFyIGk9MDsgaTxsZW47IGkrKyl7XG4gICAgICAgIGV2ZW50PSBrZXlzW2ldO1xuICAgICAgICBvYnNlcnZlci5zdWJzY3JpYmUoXG4gICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgIGV2ZW50c1tldmVudF0gfHwgZXZlbnQsXG4gICAgICAgICAgICBpc1NpbmdsZVJlZHVjZXIgPyByZWR1Y2VycyA6IHJlZHVjZXJzICYmIHJlZHVjZXJzW2V2ZW50XVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlzQXJyYXkoZXZlbnRzKT9cbiAgICAgICAgbGlzdGVuKHRvT2JqZWN0KGV2ZW50cykpIDpcbiAgICAgICAgKHR5cGVvZiBldmVudHM9PT0nc3RyaW5nJz8gbGlzdGVuKHRvT2JqZWN0KGV2ZW50cy5zcGxpdCgvXFxzKy8pKSk6IGxpc3RlbihldmVudHMpKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuc3RvcExpc3RlbmluZ1RvID0gZnVuY3Rpb24gKHRhcmdldCwgZXZlbnQpIHtcbiAgICB2YXIgb2JzZXJ2ZXJzID0gdGhpcy5fb2JzZXJ2ZXJzO1xuXG4gICAgaWYoIW9ic2VydmVycyl7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGkgPSBvYnNlcnZlcnMubGVuZ3RoO1xuICAgIHZhciBvYnNlcnZlcjtcbiAgICB2YXIgbWF0Y2hlZD0gZmFsc2U7XG5cbiAgICBpZih0YXJnZXQgJiYgdHlwZW9mIHRhcmdldCE9PSdvYmplY3QnKXtcbiAgICAgIHRocm93IFR5cGVFcnJvcigndGFyZ2V0IHNob3VsZCBiZSBhbiBvYmplY3QnKTtcbiAgICB9XG5cbiAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgb2JzZXJ2ZXIgPSBvYnNlcnZlcnNbaV07XG4gICAgICBpZiAoIXRhcmdldCB8fCBvYnNlcnZlci5fdGFyZ2V0ID09PSB0YXJnZXQpIHtcbiAgICAgICAgb2JzZXJ2ZXIudW5zdWJzY3JpYmUoZXZlbnQpO1xuICAgICAgICBtYXRjaGVkPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXRjaGVkO1xuICB9O1xuXG4gIC8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW5cbiAgLy8gMTAgbGlzdGVuZXJzIGFyZSBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoXG4gIC8vIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuICAvL1xuICAvLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3NcbiAgLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5kZWxpbWl0ZXIgPSAnLic7XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbihuKSB7XG4gICAgaWYgKG4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgICAgIGlmICghdGhpcy5fY29uZikgdGhpcy5fY29uZiA9IHt9O1xuICAgICAgdGhpcy5fY29uZi5tYXhMaXN0ZW5lcnMgPSBuO1xuICAgIH1cbiAgfTtcblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmdldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM7XG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudCA9ICcnO1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKGV2ZW50LCBmbiwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLl9vbmNlKGV2ZW50LCBmbiwgZmFsc2UsIG9wdGlvbnMpO1xuICB9O1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbiwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLl9vbmNlKGV2ZW50LCBmbiwgdHJ1ZSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fb25jZSA9IGZ1bmN0aW9uKGV2ZW50LCBmbiwgcHJlcGVuZCwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLl9tYW55KGV2ZW50LCAxLCBmbiwgcHJlcGVuZCwgb3B0aW9ucyk7XG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5tYW55ID0gZnVuY3Rpb24oZXZlbnQsIHR0bCwgZm4sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFueShldmVudCwgdHRsLCBmbiwgZmFsc2UsIG9wdGlvbnMpO1xuICB9O1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE1hbnkgPSBmdW5jdGlvbihldmVudCwgdHRsLCBmbiwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLl9tYW55KGV2ZW50LCB0dGwsIGZuLCB0cnVlLCBvcHRpb25zKTtcbiAgfTtcblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYW55ID0gZnVuY3Rpb24oZXZlbnQsIHR0bCwgZm4sIHByZXBlbmQsIG9wdGlvbnMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ21hbnkgb25seSBhY2NlcHRzIGluc3RhbmNlcyBvZiBGdW5jdGlvbicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RlbmVyKCkge1xuICAgICAgaWYgKC0tdHRsID09PSAwKSB7XG4gICAgICAgIHNlbGYub2ZmKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lci5fb3JpZ2luID0gZm47XG5cbiAgICByZXR1cm4gdGhpcy5fb24oZXZlbnQsIGxpc3RlbmVyLCBwcmVwZW5kLCBvcHRpb25zKTtcbiAgfTtcblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50cyAmJiAhdGhpcy5fYWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcblxuICAgIHZhciB0eXBlID0gYXJndW1lbnRzWzBdLCBucywgd2lsZGNhcmQ9IHRoaXMud2lsZGNhcmQ7XG4gICAgdmFyIGFyZ3MsbCxpLGosIGNvbnRhaW5zU3ltYm9sO1xuXG4gICAgaWYgKHR5cGUgPT09ICduZXdMaXN0ZW5lcicgJiYgIXRoaXMuX25ld0xpc3RlbmVyKSB7XG4gICAgICBpZiAoIXRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHdpbGRjYXJkKSB7XG4gICAgICBucz0gdHlwZTtcbiAgICAgIGlmKHR5cGUhPT0nbmV3TGlzdGVuZXInICYmIHR5cGUhPT0ncmVtb3ZlTGlzdGVuZXInKXtcbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIGwgPSB0eXBlLmxlbmd0aDtcbiAgICAgICAgICBpZiAoc3ltYm9sc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHR5cGVbaV0gPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbnNTeW1ib2wgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghY29udGFpbnNTeW1ib2wpIHtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLmpvaW4odGhpcy5kZWxpbWl0ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBhbCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgdmFyIGhhbmRsZXI7XG5cbiAgICBpZiAodGhpcy5fYWxsICYmIHRoaXMuX2FsbC5sZW5ndGgpIHtcbiAgICAgIGhhbmRsZXIgPSB0aGlzLl9hbGwuc2xpY2UoKTtcblxuICAgICAgZm9yIChpID0gMCwgbCA9IGhhbmRsZXIubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xuICAgICAgICBzd2l0Y2ggKGFsKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcywgdHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcywgdHlwZSwgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGhhbmRsZXJbaV0uY2FsbCh0aGlzLCB0eXBlLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaGFuZGxlcltpXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHdpbGRjYXJkKSB7XG4gICAgICBoYW5kbGVyID0gW107XG4gICAgICBzZWFyY2hMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCBoYW5kbGVyLCBucywgdGhpcy5saXN0ZW5lclRyZWUsIDAsIGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xuICAgICAgICBzd2l0Y2ggKGFsKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYXJncyA9IG5ldyBBcnJheShhbCAtIDEpO1xuICAgICAgICAgIGZvciAoaiA9IDE7IGogPCBhbDsgaisrKSBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChoYW5kbGVyKSB7XG4gICAgICAgIC8vIG5lZWQgdG8gbWFrZSBjb3B5IG9mIGhhbmRsZXJzIGJlY2F1c2UgbGlzdCBjYW4gY2hhbmdlIGluIHRoZSBtaWRkbGVcbiAgICAgICAgLy8gb2YgZW1pdCBjYWxsXG4gICAgICAgIGhhbmRsZXIgPSBoYW5kbGVyLnNsaWNlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGhhbmRsZXIgJiYgaGFuZGxlci5sZW5ndGgpIHtcbiAgICAgIGlmIChhbCA+IDMpIHtcbiAgICAgICAgYXJncyA9IG5ldyBBcnJheShhbCAtIDEpO1xuICAgICAgICBmb3IgKGogPSAxOyBqIDwgYWw7IGorKykgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICB9XG4gICAgICBmb3IgKGkgPSAwLCBsID0gaGFuZGxlci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XG4gICAgICAgIHN3aXRjaCAoYWwpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGhhbmRsZXJbaV0uY2FsbCh0aGlzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGhhbmRsZXJbaV0uY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBoYW5kbGVyW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlnbm9yZUVycm9ycyAmJiAhdGhpcy5fYWxsICYmIHR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgIGlmIChhcmd1bWVudHNbMV0gaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB0aHJvdyBhcmd1bWVudHNbMV07IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmNhdWdodCwgdW5zcGVjaWZpZWQgJ2Vycm9yJyBldmVudC5cIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICEhdGhpcy5fYWxsO1xuICB9O1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdEFzeW5jID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMgJiYgIXRoaXMuX2FsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuX2V2ZW50cyB8fCBpbml0LmNhbGwodGhpcyk7XG5cbiAgICB2YXIgdHlwZSA9IGFyZ3VtZW50c1swXSwgd2lsZGNhcmQ9IHRoaXMud2lsZGNhcmQsIG5zLCBjb250YWluc1N5bWJvbDtcbiAgICB2YXIgYXJncyxsLGksajtcblxuICAgIGlmICh0eXBlID09PSAnbmV3TGlzdGVuZXInICYmICF0aGlzLl9uZXdMaXN0ZW5lcikge1xuICAgICAgICBpZiAoIXRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcikgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtmYWxzZV0pOyB9XG4gICAgfVxuXG4gICAgaWYgKHdpbGRjYXJkKSB7XG4gICAgICBucz0gdHlwZTtcbiAgICAgIGlmKHR5cGUhPT0nbmV3TGlzdGVuZXInICYmIHR5cGUhPT0ncmVtb3ZlTGlzdGVuZXInKXtcbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIGwgPSB0eXBlLmxlbmd0aDtcbiAgICAgICAgICBpZiAoc3ltYm9sc1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHR5cGVbaV0gPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbnNTeW1ib2wgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghY29udGFpbnNTeW1ib2wpIHtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLmpvaW4odGhpcy5kZWxpbWl0ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcm9taXNlcz0gW107XG5cbiAgICB2YXIgYWwgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHZhciBoYW5kbGVyO1xuXG4gICAgaWYgKHRoaXMuX2FsbCkge1xuICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuX2FsbC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XG4gICAgICAgIHN3aXRjaCAoYWwpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHByb21pc2VzLnB1c2godGhpcy5fYWxsW2ldLmNhbGwodGhpcywgdHlwZSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLl9hbGxbaV0uY2FsbCh0aGlzLCB0eXBlLCBhcmd1bWVudHNbMV0pKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHByb21pc2VzLnB1c2godGhpcy5fYWxsW2ldLmNhbGwodGhpcywgdHlwZSwgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuX2FsbFtpXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh3aWxkY2FyZCkge1xuICAgICAgaGFuZGxlciA9IFtdO1xuICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlLmNhbGwodGhpcywgaGFuZGxlciwgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xuICAgICAgc3dpdGNoIChhbCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXIuY2FsbCh0aGlzKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXJncyA9IG5ldyBBcnJheShhbCAtIDEpO1xuICAgICAgICBmb3IgKGogPSAxOyBqIDwgYWw7IGorKykgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChoYW5kbGVyICYmIGhhbmRsZXIubGVuZ3RoKSB7XG4gICAgICBoYW5kbGVyID0gaGFuZGxlci5zbGljZSgpO1xuICAgICAgaWYgKGFsID4gMykge1xuICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFsIC0gMSk7XG4gICAgICAgIGZvciAoaiA9IDE7IGogPCBhbDsgaisrKSBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IDAsIGwgPSBoYW5kbGVyLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0aGlzLmV2ZW50ID0gdHlwZTtcbiAgICAgICAgc3dpdGNoIChhbCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyW2ldLmNhbGwodGhpcykpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyW2ldLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXJbaV0uY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlcltpXS5hcHBseSh0aGlzLCBhcmdzKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlnbm9yZUVycm9ycyAmJiAhdGhpcy5fYWxsICYmIHR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgIGlmIChhcmd1bWVudHNbMV0gaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYXJndW1lbnRzWzFdKTsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIlVuY2F1Z2h0LCB1bnNwZWNpZmllZCAnZXJyb3InIGV2ZW50LlwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICB9O1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLl9vbih0eXBlLCBsaXN0ZW5lciwgZmFsc2UsIG9wdGlvbnMpO1xuICB9O1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5fb24odHlwZSwgbGlzdGVuZXIsIHRydWUsIG9wdGlvbnMpO1xuICB9O1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub25BbnkgPSBmdW5jdGlvbihmbikge1xuICAgIHJldHVybiB0aGlzLl9vbkFueShmbiwgZmFsc2UpO1xuICB9O1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZEFueSA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgcmV0dXJuIHRoaXMuX29uQW55KGZuLCB0cnVlKTtcbiAgfTtcblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9vbkFueSA9IGZ1bmN0aW9uKGZuLCBwcmVwZW5kKXtcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ29uQW55IG9ubHkgYWNjZXB0cyBpbnN0YW5jZXMgb2YgRnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX2FsbCkge1xuICAgICAgdGhpcy5fYWxsID0gW107XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBmdW5jdGlvbiB0byB0aGUgZXZlbnQgbGlzdGVuZXIgY29sbGVjdGlvbi5cbiAgICBpZihwcmVwZW5kKXtcbiAgICAgIHRoaXMuX2FsbC51bnNoaWZ0KGZuKTtcbiAgICB9ZWxzZXtcbiAgICAgIHRoaXMuX2FsbC5wdXNoKGZuKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9vbiA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyLCBwcmVwZW5kLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLl9vbkFueSh0eXBlLCBsaXN0ZW5lcik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ29uIG9ubHkgYWNjZXB0cyBpbnN0YW5jZXMgb2YgRnVuY3Rpb24nKTtcbiAgICB9XG4gICAgdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcblxuICAgIHZhciByZXR1cm5WYWx1ZT0gdGhpcywgdGVtcDtcblxuICAgIGlmIChvcHRpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRlbXAgPSBzZXR1cExpc3RlbmVyLmNhbGwodGhpcywgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgICAgbGlzdGVuZXIgPSB0ZW1wWzBdO1xuICAgICAgcmV0dXJuVmFsdWUgPSB0ZW1wWzFdO1xuICAgIH1cblxuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT0gXCJuZXdMaXN0ZW5lcnNcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lcnNcIi5cbiAgICBpZiAodGhpcy5fbmV3TGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcbiAgICAgIGdyb3dMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCk7XG4gICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pIHtcbiAgICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5fZXZlbnRzW3R5cGVdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIENoYW5nZSB0byBhcnJheS5cbiAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFkZFxuICAgICAgaWYocHJlcGVuZCl7XG4gICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICAgIH1lbHNle1xuICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgICBpZiAoXG4gICAgICAgICF0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkICYmXG4gICAgICAgIHRoaXMuX21heExpc3RlbmVycyA+IDAgJiZcbiAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IHRoaXMuX21heExpc3RlbmVyc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xuICAgICAgICBsb2dQb3NzaWJsZU1lbW9yeUxlYWsuY2FsbCh0aGlzLCB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoLCB0eXBlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncmVtb3ZlTGlzdGVuZXIgb25seSB0YWtlcyBpbnN0YW5jZXMgb2YgRnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICB2YXIgaGFuZGxlcnMsbGVhZnM9W107XG5cbiAgICBpZih0aGlzLndpbGRjYXJkKSB7XG4gICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcbiAgICAgIGxlYWZzID0gc2VhcmNoTGlzdGVuZXJUcmVlLmNhbGwodGhpcywgbnVsbCwgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcbiAgICAgIGlmKCFsZWFmcykgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRvZXMgbm90IHVzZSBsaXN0ZW5lcnMoKSwgc28gbm8gc2lkZSBlZmZlY3Qgb2YgY3JlYXRpbmcgX2V2ZW50c1t0eXBlXVxuICAgICAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pIHJldHVybiB0aGlzO1xuICAgICAgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgICBsZWFmcy5wdXNoKHtfbGlzdGVuZXJzOmhhbmRsZXJzfSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaUxlYWY9MDsgaUxlYWY8bGVhZnMubGVuZ3RoOyBpTGVhZisrKSB7XG4gICAgICB2YXIgbGVhZiA9IGxlYWZzW2lMZWFmXTtcbiAgICAgIGhhbmRsZXJzID0gbGVhZi5fbGlzdGVuZXJzO1xuICAgICAgaWYgKGlzQXJyYXkoaGFuZGxlcnMpKSB7XG5cbiAgICAgICAgdmFyIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGhhbmRsZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGhhbmRsZXJzW2ldID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAgICAgKGhhbmRsZXJzW2ldLmxpc3RlbmVyICYmIGhhbmRsZXJzW2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikgfHxcbiAgICAgICAgICAgIChoYW5kbGVyc1tpXS5fb3JpZ2luICYmIGhhbmRsZXJzW2ldLl9vcmlnaW4gPT09IGxpc3RlbmVyKSkge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy53aWxkY2FyZCkge1xuICAgICAgICAgIGxlYWYuX2xpc3RlbmVycy5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhbmRsZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGlmKHRoaXMud2lsZGNhcmQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBsZWFmLl9saXN0ZW5lcnM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3JlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgIHRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsIHR5cGUsIGxpc3RlbmVyKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGhhbmRsZXJzID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAoaGFuZGxlcnMubGlzdGVuZXIgJiYgaGFuZGxlcnMubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB8fFxuICAgICAgICAoaGFuZGxlcnMuX29yaWdpbiAmJiBoYW5kbGVycy5fb3JpZ2luID09PSBsaXN0ZW5lcikpIHtcbiAgICAgICAgaWYodGhpcy53aWxkY2FyZCkge1xuICAgICAgICAgIGRlbGV0ZSBsZWFmLl9saXN0ZW5lcnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIiwgdHlwZSwgbGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubGlzdGVuZXJUcmVlICYmIHJlY3Vyc2l2ZWx5R2FyYmFnZUNvbGxlY3QodGhpcy5saXN0ZW5lclRyZWUpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmZBbnkgPSBmdW5jdGlvbihmbikge1xuICAgIHZhciBpID0gMCwgbCA9IDAsIGZucztcbiAgICBpZiAoZm4gJiYgdGhpcy5fYWxsICYmIHRoaXMuX2FsbC5sZW5ndGggPiAwKSB7XG4gICAgICBmbnMgPSB0aGlzLl9hbGw7XG4gICAgICBmb3IoaSA9IDAsIGwgPSBmbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGlmKGZuID09PSBmbnNbaV0pIHtcbiAgICAgICAgICBmbnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGlmICh0aGlzLl9yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICAgIHRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyQW55XCIsIGZuKTtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmbnMgPSB0aGlzLl9hbGw7XG4gICAgICBpZiAodGhpcy5fcmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgICAgZm9yKGkgPSAwLCBsID0gZm5zLmxlbmd0aDsgaSA8IGw7IGkrKylcbiAgICAgICAgICB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lckFueVwiLCBmbnNbaV0pO1xuICAgICAgfVxuICAgICAgdGhpcy5fYWxsID0gW107XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZjtcblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgIXRoaXMuX2V2ZW50cyB8fCBpbml0LmNhbGwodGhpcyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpZiAodGhpcy53aWxkY2FyZCkge1xuICAgICAgdmFyIGxlYWZzID0gc2VhcmNoTGlzdGVuZXJUcmVlLmNhbGwodGhpcywgbnVsbCwgdHlwZSwgdGhpcy5saXN0ZW5lclRyZWUsIDApLCBsZWFmLCBpO1xuICAgICAgaWYgKCFsZWFmcykgcmV0dXJuIHRoaXM7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVhZnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGVhZiA9IGxlYWZzW2ldO1xuICAgICAgICBsZWFmLl9saXN0ZW5lcnMgPSBudWxsO1xuICAgICAgfVxuICAgICAgdGhpcy5saXN0ZW5lclRyZWUgJiYgcmVjdXJzaXZlbHlHYXJiYWdlQ29sbGVjdCh0aGlzLmxpc3RlbmVyVHJlZSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9ldmVudHMpIHtcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICB2YXIgX2V2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICB2YXIga2V5cywgbGlzdGVuZXJzLCBhbGxMaXN0ZW5lcnM7XG4gICAgdmFyIGk7XG4gICAgdmFyIGxpc3RlbmVyVHJlZTtcblxuICAgIGlmICh0eXBlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICh0aGlzLndpbGRjYXJkKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdldmVudCBuYW1lIHJlcXVpcmVkIGZvciB3aWxkY2FyZCBlbWl0dGVyJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghX2V2ZW50cykge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG5cbiAgICAgIGtleXMgPSBvd25LZXlzKF9ldmVudHMpO1xuICAgICAgaSA9IGtleXMubGVuZ3RoO1xuICAgICAgYWxsTGlzdGVuZXJzID0gW107XG4gICAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgICBsaXN0ZW5lcnMgPSBfZXZlbnRzW2tleXNbaV1dO1xuICAgICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGFsbExpc3RlbmVycy5wdXNoKGxpc3RlbmVycyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWxsTGlzdGVuZXJzLnB1c2guYXBwbHkoYWxsTGlzdGVuZXJzLCBsaXN0ZW5lcnMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYWxsTGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy53aWxkY2FyZCkge1xuICAgICAgICBsaXN0ZW5lclRyZWU9IHRoaXMubGlzdGVuZXJUcmVlO1xuICAgICAgICBpZighbGlzdGVuZXJUcmVlKSByZXR1cm4gW107XG4gICAgICAgIHZhciBoYW5kbGVycyA9IFtdO1xuICAgICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcbiAgICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlLmNhbGwodGhpcywgaGFuZGxlcnMsIG5zLCBsaXN0ZW5lclRyZWUsIDApO1xuICAgICAgICByZXR1cm4gaGFuZGxlcnM7XG4gICAgICB9XG5cbiAgICAgIGlmICghX2V2ZW50cykge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IF9ldmVudHNbdHlwZV07XG5cbiAgICAgIGlmICghbGlzdGVuZXJzKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0eXBlb2YgbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nID8gW2xpc3RlbmVyc10gOiBsaXN0ZW5lcnM7XG4gICAgfVxuICB9O1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uKG5zQXNBcnJheSl7XG4gICAgdmFyIF9ldmVudHM9IHRoaXMuX2V2ZW50cztcbiAgICByZXR1cm4gdGhpcy53aWxkY2FyZD8gY29sbGVjdFRyZWVFdmVudHMuY2FsbCh0aGlzLCB0aGlzLmxpc3RlbmVyVHJlZSwgW10sIG51bGwsIG5zQXNBcnJheSkgOiAoX2V2ZW50cz8gb3duS2V5cyhfZXZlbnRzKSA6IFtdKTtcbiAgfTtcblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgcmV0dXJuIHRoaXMubGlzdGVuZXJzKHR5cGUpLmxlbmd0aDtcbiAgfTtcblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmhhc0xpc3RlbmVycyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcbiAgICAgIHZhciBoYW5kbGVycyA9IFtdO1xuICAgICAgdmFyIG5zID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gdHlwZS5zcGxpdCh0aGlzLmRlbGltaXRlcikgOiB0eXBlLnNsaWNlKCk7XG4gICAgICBzZWFyY2hMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCBoYW5kbGVycywgbnMsIHRoaXMubGlzdGVuZXJUcmVlLCAwKTtcbiAgICAgIHJldHVybiBoYW5kbGVycy5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIHZhciBfZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgIHZhciBfYWxsID0gdGhpcy5fYWxsO1xuXG4gICAgcmV0dXJuICEhKF9hbGwgJiYgX2FsbC5sZW5ndGggfHwgX2V2ZW50cyAmJiAodHlwZSA9PT0gdW5kZWZpbmVkID8gb3duS2V5cyhfZXZlbnRzKS5sZW5ndGggOiBfZXZlbnRzW3R5cGVdKSk7XG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnNBbnkgPSBmdW5jdGlvbigpIHtcblxuICAgIGlmKHRoaXMuX2FsbCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FsbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS53YWl0Rm9yID0gZnVuY3Rpb24gKGV2ZW50LCBvcHRpb25zKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciB0eXBlID0gdHlwZW9mIG9wdGlvbnM7XG4gICAgaWYgKHR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICBvcHRpb25zID0ge3RpbWVvdXQ6IG9wdGlvbnN9O1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb3B0aW9ucyA9IHtmaWx0ZXI6IG9wdGlvbnN9O1xuICAgIH1cblxuICAgIG9wdGlvbnM9IHJlc29sdmVPcHRpb25zKG9wdGlvbnMsIHtcbiAgICAgIHRpbWVvdXQ6IDAsXG4gICAgICBmaWx0ZXI6IHVuZGVmaW5lZCxcbiAgICAgIGhhbmRsZUVycm9yOiBmYWxzZSxcbiAgICAgIFByb21pc2U6IFByb21pc2UsXG4gICAgICBvdmVybG9hZDogZmFsc2VcbiAgICB9LCB7XG4gICAgICBmaWx0ZXI6IGZ1bmN0aW9uUmVkdWNlcixcbiAgICAgIFByb21pc2U6IGNvbnN0cnVjdG9yUmVkdWNlclxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG1ha2VDYW5jZWxhYmxlUHJvbWlzZShvcHRpb25zLlByb21pc2UsIGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QsIG9uQ2FuY2VsKSB7XG4gICAgICBmdW5jdGlvbiBsaXN0ZW5lcigpIHtcbiAgICAgICAgdmFyIGZpbHRlcj0gb3B0aW9ucy5maWx0ZXI7XG4gICAgICAgIGlmIChmaWx0ZXIgJiYgIWZpbHRlci5hcHBseShzZWxmLCBhcmd1bWVudHMpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYub2ZmKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICAgIGlmIChvcHRpb25zLmhhbmRsZUVycm9yKSB7XG4gICAgICAgICAgdmFyIGVyciA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICBlcnIgPyByZWplY3QoZXJyKSA6IHJlc29sdmUodG9BcnJheS5hcHBseShudWxsLCBhcmd1bWVudHMpLnNsaWNlKDEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKHRvQXJyYXkuYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgb25DYW5jZWwoZnVuY3Rpb24oKXtcbiAgICAgICAgc2VsZi5vZmYoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgIH0pO1xuXG4gICAgICBzZWxmLl9vbihldmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9LCB7XG4gICAgICB0aW1lb3V0OiBvcHRpb25zLnRpbWVvdXQsXG4gICAgICBvdmVybG9hZDogb3B0aW9ucy5vdmVybG9hZFxuICAgIH0pXG4gIH07XG5cbiAgZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucz0gcmVzb2x2ZU9wdGlvbnMob3B0aW9ucywge1xuICAgICAgUHJvbWlzZTogUHJvbWlzZSxcbiAgICAgIHRpbWVvdXQ6IDAsXG4gICAgICBvdmVybG9hZDogZmFsc2VcbiAgICB9LCB7XG4gICAgICBQcm9taXNlOiBjb25zdHJ1Y3RvclJlZHVjZXJcbiAgICB9KTtcblxuICAgIHZhciBfUHJvbWlzZT0gb3B0aW9ucy5Qcm9taXNlO1xuXG4gICAgcmV0dXJuIG1ha2VDYW5jZWxhYmxlUHJvbWlzZShfUHJvbWlzZSwgZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0LCBvbkNhbmNlbCl7XG4gICAgICB2YXIgaGFuZGxlcjtcbiAgICAgIGlmICh0eXBlb2YgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGhhbmRsZXI9ICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVzb2x2ZSh0b0FycmF5LmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xuICAgICAgICB9O1xuXG4gICAgICAgIG9uQ2FuY2VsKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGhhbmRsZXIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgaGFuZGxlcixcbiAgICAgICAgICAgIHtvbmNlOiB0cnVlfVxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBldmVudExpc3RlbmVyID0gZnVuY3Rpb24oKXtcbiAgICAgICAgZXJyb3JMaXN0ZW5lciAmJiBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgICAgICByZXNvbHZlKHRvQXJyYXkuYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZXJyb3JMaXN0ZW5lcjtcblxuICAgICAgaWYgKG5hbWUgIT09ICdlcnJvcicpIHtcbiAgICAgICAgZXJyb3JMaXN0ZW5lciA9IGZ1bmN0aW9uIChlcnIpe1xuICAgICAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgZXZlbnRMaXN0ZW5lcik7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH07XG5cbiAgICAgICAgZW1pdHRlci5vbmNlKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICBvbkNhbmNlbChmdW5jdGlvbigpe1xuICAgICAgICBlcnJvckxpc3RlbmVyICYmIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgZXJyb3JMaXN0ZW5lcik7XG4gICAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgZXZlbnRMaXN0ZW5lcik7XG4gICAgICB9KTtcblxuICAgICAgZW1pdHRlci5vbmNlKG5hbWUsIGV2ZW50TGlzdGVuZXIpO1xuICAgIH0sIHtcbiAgICAgIHRpbWVvdXQ6IG9wdGlvbnMudGltZW91dCxcbiAgICAgIG92ZXJsb2FkOiBvcHRpb25zLm92ZXJsb2FkXG4gICAgfSk7XG4gIH1cblxuICB2YXIgcHJvdG90eXBlPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEV2ZW50RW1pdHRlciwge1xuICAgIGRlZmF1bHRNYXhMaXN0ZW5lcnM6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcHJvdG90eXBlLl9tYXhMaXN0ZW5lcnM7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiAobikge1xuICAgICAgICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IE51bWJlci5pc05hTihuKSkge1xuICAgICAgICAgIHRocm93IFR5cGVFcnJvcignbiBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlcicpXG4gICAgICAgIH1cbiAgICAgICAgcHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIG9uY2U6IHtcbiAgICAgIHZhbHVlOiBvbmNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHByb3RvdHlwZSwge1xuICAgICAgX21heExpc3RlbmVyczoge1xuICAgICAgICAgIHZhbHVlOiBkZWZhdWx0TWF4TGlzdGVuZXJzLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIF9vYnNlcnZlcnM6IHt2YWx1ZTogbnVsbCwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX1cbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIEV2ZW50RW1pdHRlcjtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIGdsb2JhbCBmb3IgYW55IGtpbmQgb2YgZW52aXJvbm1lbnQuXG4gICAgdmFyIF9nbG9iYWw9IG5ldyBGdW5jdGlvbignJywncmV0dXJuIHRoaXMnKSgpO1xuICAgIF9nbG9iYWwuRXZlbnRFbWl0dGVyMiA9IEV2ZW50RW1pdHRlcjtcbiAgfVxufSgpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuY29uc3QgVG9rZW4gPSByZXF1aXJlKCd0b2tlbi10eXBlcycpO1xuY29uc3Qgc3RydG9rMyA9IHJlcXVpcmUoJ3N0cnRvazMvbGliL2NvcmUnKTtcbmNvbnN0IHtcblx0c3RyaW5nVG9CeXRlcyxcblx0dGFySGVhZGVyQ2hlY2tzdW1NYXRjaGVzLFxuXHR1aW50MzJTeW5jU2FmZVRva2VuXG59ID0gcmVxdWlyZSgnLi91dGlsJyk7XG5jb25zdCBzdXBwb3J0ZWQgPSByZXF1aXJlKCcuL3N1cHBvcnRlZCcpO1xuXG5jb25zdCBtaW5pbXVtQnl0ZXMgPSA0MTAwOyAvLyBBIGZhaXIgYW1vdW50IG9mIGZpbGUtdHlwZXMgYXJlIGRldGVjdGFibGUgd2l0aGluIHRoaXMgcmFuZ2VcblxuYXN5bmMgZnVuY3Rpb24gZnJvbVN0cmVhbShzdHJlYW0pIHtcblx0Y29uc3QgdG9rZW5pemVyID0gYXdhaXQgc3RydG9rMy5mcm9tU3RyZWFtKHN0cmVhbSk7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGF3YWl0IGZyb21Ub2tlbml6ZXIodG9rZW5pemVyKTtcblx0fSBmaW5hbGx5IHtcblx0XHRhd2FpdCB0b2tlbml6ZXIuY2xvc2UoKTtcblx0fVxufVxuXG5hc3luYyBmdW5jdGlvbiBmcm9tQnVmZmVyKGlucHV0KSB7XG5cdGlmICghKGlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBpbnB1dCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IEJ1ZmZlci5pc0J1ZmZlcihpbnB1dCkpKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgdGhlIFxcYGlucHV0XFxgIGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgXFxgVWludDhBcnJheVxcYCBvciBcXGBCdWZmZXJcXGAgb3IgXFxgQXJyYXlCdWZmZXJcXGAsIGdvdCBcXGAke3R5cGVvZiBpbnB1dH1cXGBgKTtcblx0fVxuXG5cdGNvbnN0IGJ1ZmZlciA9IGlucHV0IGluc3RhbmNlb2YgQnVmZmVyID8gaW5wdXQgOiBCdWZmZXIuZnJvbShpbnB1dCk7XG5cblx0aWYgKCEoYnVmZmVyICYmIGJ1ZmZlci5sZW5ndGggPiAxKSkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IHRva2VuaXplciA9IHN0cnRvazMuZnJvbUJ1ZmZlcihidWZmZXIpO1xuXHRyZXR1cm4gZnJvbVRva2VuaXplcih0b2tlbml6ZXIpO1xufVxuXG5mdW5jdGlvbiBfY2hlY2soYnVmZmVyLCBoZWFkZXJzLCBvcHRpb25zKSB7XG5cdG9wdGlvbnMgPSB7XG5cdFx0b2Zmc2V0OiAwLFxuXHRcdC4uLm9wdGlvbnNcblx0fTtcblxuXHRmb3IgKGNvbnN0IFtpbmRleCwgaGVhZGVyXSBvZiBoZWFkZXJzLmVudHJpZXMoKSkge1xuXHRcdC8vIElmIGEgYml0bWFzayBpcyBzZXRcblx0XHRpZiAob3B0aW9ucy5tYXNrKSB7XG5cdFx0XHQvLyBJZiBoZWFkZXIgZG9lc24ndCBlcXVhbCBgYnVmYCB3aXRoIGJpdHMgbWFza2VkIG9mZlxuXHRcdFx0aWYgKGhlYWRlciAhPT0gKG9wdGlvbnMubWFza1tpbmRleF0gJiBidWZmZXJbaW5kZXggKyBvcHRpb25zLm9mZnNldF0pKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGhlYWRlciAhPT0gYnVmZmVyW2luZGV4ICsgb3B0aW9ucy5vZmZzZXRdKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGZyb21Ub2tlbml6ZXIodG9rZW5pemVyKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIF9mcm9tVG9rZW5pemVyKHRva2VuaXplcik7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0aWYgKCEoZXJyb3IgaW5zdGFuY2VvZiBzdHJ0b2szLkVuZE9mU3RyZWFtRXJyb3IpKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cdH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gX2Zyb21Ub2tlbml6ZXIodG9rZW5pemVyKSB7XG5cdGxldCBidWZmZXIgPSBCdWZmZXIuYWxsb2MobWluaW11bUJ5dGVzKTtcblx0Y29uc3QgYnl0ZXNSZWFkID0gMTI7XG5cdGNvbnN0IGNoZWNrID0gKGhlYWRlciwgb3B0aW9ucykgPT4gX2NoZWNrKGJ1ZmZlciwgaGVhZGVyLCBvcHRpb25zKTtcblx0Y29uc3QgY2hlY2tTdHJpbmcgPSAoaGVhZGVyLCBvcHRpb25zKSA9PiBjaGVjayhzdHJpbmdUb0J5dGVzKGhlYWRlciksIG9wdGlvbnMpO1xuXG5cdC8vIEtlZXAgcmVhZGluZyB1bnRpbCBFT0YgaWYgdGhlIGZpbGUgc2l6ZSBpcyB1bmtub3duLlxuXHRpZiAoIXRva2VuaXplci5maWxlSW5mby5zaXplKSB7XG5cdFx0dG9rZW5pemVyLmZpbGVJbmZvLnNpemUgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcblx0fVxuXG5cdGF3YWl0IHRva2VuaXplci5wZWVrQnVmZmVyKGJ1ZmZlciwge2xlbmd0aDogYnl0ZXNSZWFkLCBtYXlCZUxlc3M6IHRydWV9KTtcblxuXHQvLyAtLSAyLWJ5dGUgc2lnbmF0dXJlcyAtLVxuXG5cdGlmIChjaGVjayhbMHg0MiwgMHg0RF0pKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ2JtcCcsXG5cdFx0XHRtaW1lOiAnaW1hZ2UvYm1wJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoY2hlY2soWzB4MEIsIDB4NzddKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdhYzMnLFxuXHRcdFx0bWltZTogJ2F1ZGlvL3ZuZC5kb2xieS5kZC1yYXcnXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVjayhbMHg3OCwgMHgwMV0pKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ2RtZycsXG5cdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veC1hcHBsZS1kaXNraW1hZ2UnXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVjayhbMHg0RCwgMHg1QV0pKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ2V4ZScsXG5cdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoY2hlY2soWzB4MjUsIDB4MjFdKSkge1xuXHRcdGF3YWl0IHRva2VuaXplci5wZWVrQnVmZmVyKGJ1ZmZlciwge2xlbmd0aDogMjQsIG1heUJlTGVzczogdHJ1ZX0pO1xuXG5cdFx0aWYgKGNoZWNrU3RyaW5nKCdQUy1BZG9iZS0nLCB7b2Zmc2V0OiAyfSkgJiZcblx0XHRcdGNoZWNrU3RyaW5nKCcgRVBTRi0nLCB7b2Zmc2V0OiAxNH0pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdlcHMnLFxuXHRcdFx0XHRtaW1lOiAnYXBwbGljYXRpb24vZXBzJ1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAncHMnLFxuXHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3Bvc3RzY3JpcHQnXG5cdFx0fTtcblx0fVxuXG5cdGlmIChcblx0XHRjaGVjayhbMHgxRiwgMHhBMF0pIHx8XG5cdFx0Y2hlY2soWzB4MUYsIDB4OURdKVxuXHQpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnWicsXG5cdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veC1jb21wcmVzcydcblx0XHR9O1xuXHR9XG5cblx0Ly8gLS0gMy1ieXRlIHNpZ25hdHVyZXMgLS1cblxuXHRpZiAoY2hlY2soWzB4RkYsIDB4RDgsIDB4RkZdKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdqcGcnLFxuXHRcdFx0bWltZTogJ2ltYWdlL2pwZWcnXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVjayhbMHg0OSwgMHg0OSwgMHhCQ10pKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ2p4cicsXG5cdFx0XHRtaW1lOiAnaW1hZ2Uvdm5kLm1zLXBob3RvJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoY2hlY2soWzB4MUYsIDB4OEIsIDB4OF0pKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ2d6Jyxcblx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi9nemlwJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoY2hlY2soWzB4NDIsIDB4NUEsIDB4NjhdKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdiejInLFxuXHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gtYnppcDInXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVja1N0cmluZygnSUQzJykpIHtcblx0XHRhd2FpdCB0b2tlbml6ZXIuaWdub3JlKDYpOyAvLyBTa2lwIElEMyBoZWFkZXIgdW50aWwgdGhlIGhlYWRlciBzaXplXG5cdFx0Y29uc3QgaWQzSGVhZGVyTGVuID0gYXdhaXQgdG9rZW5pemVyLnJlYWRUb2tlbih1aW50MzJTeW5jU2FmZVRva2VuKTtcblx0XHRpZiAodG9rZW5pemVyLnBvc2l0aW9uICsgaWQzSGVhZGVyTGVuID4gdG9rZW5pemVyLmZpbGVJbmZvLnNpemUpIHtcblx0XHRcdC8vIEd1ZXNzIGZpbGUgdHlwZSBiYXNlZCBvbiBJRDMgaGVhZGVyIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdtcDMnLFxuXHRcdFx0XHRtaW1lOiAnYXVkaW8vbXBlZydcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0YXdhaXQgdG9rZW5pemVyLmlnbm9yZShpZDNIZWFkZXJMZW4pO1xuXHRcdHJldHVybiBmcm9tVG9rZW5pemVyKHRva2VuaXplcik7IC8vIFNraXAgSUQzIGhlYWRlciwgcmVjdXJzaW9uXG5cdH1cblxuXHQvLyBNdXNlcGFjaywgU1Y3XG5cdGlmIChjaGVja1N0cmluZygnTVArJykpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnbXBjJyxcblx0XHRcdG1pbWU6ICdhdWRpby94LW11c2VwYWNrJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoXG5cdFx0KGJ1ZmZlclswXSA9PT0gMHg0MyB8fCBidWZmZXJbMF0gPT09IDB4NDYpICYmXG5cdFx0Y2hlY2soWzB4NTcsIDB4NTNdLCB7b2Zmc2V0OiAxfSlcblx0KSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ3N3ZicsXG5cdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2gnXG5cdFx0fTtcblx0fVxuXG5cdC8vIC0tIDQtYnl0ZSBzaWduYXR1cmVzIC0tXG5cblx0aWYgKGNoZWNrKFsweDQ3LCAweDQ5LCAweDQ2XSkpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnZ2lmJyxcblx0XHRcdG1pbWU6ICdpbWFnZS9naWYnXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVja1N0cmluZygnRkxJRicpKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ2ZsaWYnLFxuXHRcdFx0bWltZTogJ2ltYWdlL2ZsaWYnXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVja1N0cmluZygnOEJQUycpKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ3BzZCcsXG5cdFx0XHRtaW1lOiAnaW1hZ2Uvdm5kLmFkb2JlLnBob3Rvc2hvcCdcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNoZWNrU3RyaW5nKCdXRUJQJywge29mZnNldDogOH0pKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ3dlYnAnLFxuXHRcdFx0bWltZTogJ2ltYWdlL3dlYnAnXG5cdFx0fTtcblx0fVxuXG5cdC8vIE11c2VwYWNrLCBTVjhcblx0aWYgKGNoZWNrU3RyaW5nKCdNUENLJykpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnbXBjJyxcblx0XHRcdG1pbWU6ICdhdWRpby94LW11c2VwYWNrJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoY2hlY2tTdHJpbmcoJ0ZPUk0nKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdhaWYnLFxuXHRcdFx0bWltZTogJ2F1ZGlvL2FpZmYnXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVja1N0cmluZygnaWNucycsIHtvZmZzZXQ6IDB9KSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdpY25zJyxcblx0XHRcdG1pbWU6ICdpbWFnZS9pY25zJ1xuXHRcdH07XG5cdH1cblxuXHQvLyBaaXAtYmFzZWQgZmlsZSBmb3JtYXRzXG5cdC8vIE5lZWQgdG8gYmUgYmVmb3JlIHRoZSBgemlwYCBjaGVja1xuXHRpZiAoY2hlY2soWzB4NTAsIDB4NEIsIDB4MywgMHg0XSkpIHsgLy8gTG9jYWwgZmlsZSBoZWFkZXIgc2lnbmF0dXJlXG5cdFx0dHJ5IHtcblx0XHRcdHdoaWxlICh0b2tlbml6ZXIucG9zaXRpb24gKyAzMCA8IHRva2VuaXplci5maWxlSW5mby5zaXplKSB7XG5cdFx0XHRcdGF3YWl0IHRva2VuaXplci5yZWFkQnVmZmVyKGJ1ZmZlciwge2xlbmd0aDogMzB9KTtcblxuXHRcdFx0XHQvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9aaXBfKGZpbGVfZm9ybWF0KSNGaWxlX2hlYWRlcnNcblx0XHRcdFx0Y29uc3QgemlwSGVhZGVyID0ge1xuXHRcdFx0XHRcdGNvbXByZXNzZWRTaXplOiBidWZmZXIucmVhZFVJbnQzMkxFKDE4KSxcblx0XHRcdFx0XHR1bmNvbXByZXNzZWRTaXplOiBidWZmZXIucmVhZFVJbnQzMkxFKDIyKSxcblx0XHRcdFx0XHRmaWxlbmFtZUxlbmd0aDogYnVmZmVyLnJlYWRVSW50MTZMRSgyNiksXG5cdFx0XHRcdFx0ZXh0cmFGaWVsZExlbmd0aDogYnVmZmVyLnJlYWRVSW50MTZMRSgyOClcblx0XHRcdFx0fTtcblxuXHRcdFx0XHR6aXBIZWFkZXIuZmlsZW5hbWUgPSBhd2FpdCB0b2tlbml6ZXIucmVhZFRva2VuKG5ldyBUb2tlbi5TdHJpbmdUeXBlKHppcEhlYWRlci5maWxlbmFtZUxlbmd0aCwgJ3V0Zi04JykpO1xuXHRcdFx0XHRhd2FpdCB0b2tlbml6ZXIuaWdub3JlKHppcEhlYWRlci5leHRyYUZpZWxkTGVuZ3RoKTtcblxuXHRcdFx0XHQvLyBBc3N1bWVzIHNpZ25lZCBgLnhwaWAgZnJvbSBhZGRvbnMubW96aWxsYS5vcmdcblx0XHRcdFx0aWYgKHppcEhlYWRlci5maWxlbmFtZSA9PT0gJ01FVEEtSU5GL21vemlsbGEucnNhJykge1xuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRleHQ6ICd4cGknLFxuXHRcdFx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gteHBpbnN0YWxsJ1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoemlwSGVhZGVyLmZpbGVuYW1lLmVuZHNXaXRoKCcucmVscycpIHx8IHppcEhlYWRlci5maWxlbmFtZS5lbmRzV2l0aCgnLnhtbCcpKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHlwZSA9IHppcEhlYWRlci5maWxlbmFtZS5zcGxpdCgnLycpWzBdO1xuXHRcdFx0XHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0XHRcdFx0Y2FzZSAnX3JlbHMnOlxuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgJ3dvcmQnOlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdGV4dDogJ2RvY3gnLFxuXHRcdFx0XHRcdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudCdcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdGNhc2UgJ3BwdCc6XG5cdFx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0ZXh0OiAncHB0eCcsXG5cdFx0XHRcdFx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbC5wcmVzZW50YXRpb24nXG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRjYXNlICd4bCc6XG5cdFx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0ZXh0OiAneGxzeCcsXG5cdFx0XHRcdFx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0J1xuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHppcEhlYWRlci5maWxlbmFtZS5zdGFydHNXaXRoKCd4bC8nKSkge1xuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRleHQ6ICd4bHN4Jyxcblx0XHRcdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldCdcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHppcEhlYWRlci5maWxlbmFtZS5zdGFydHNXaXRoKCczRC8nKSAmJiB6aXBIZWFkZXIuZmlsZW5hbWUuZW5kc1dpdGgoJy5tb2RlbCcpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdGV4dDogJzNtZicsXG5cdFx0XHRcdFx0XHRtaW1lOiAnbW9kZWwvM21mJ1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUaGUgZG9jeCwgeGxzeCBhbmQgcHB0eCBmaWxlIHR5cGVzIGV4dGVuZCB0aGUgT2ZmaWNlIE9wZW4gWE1MIGZpbGUgZm9ybWF0OlxuXHRcdFx0XHQvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9PZmZpY2VfT3Blbl9YTUxfZmlsZV9mb3JtYXRzXG5cdFx0XHRcdC8vIFdlIGxvb2sgZm9yOlxuXHRcdFx0XHQvLyAtIG9uZSBlbnRyeSBuYW1lZCAnW0NvbnRlbnRfVHlwZXNdLnhtbCcgb3IgJ19yZWxzLy5yZWxzJyxcblx0XHRcdFx0Ly8gLSBvbmUgZW50cnkgaW5kaWNhdGluZyBzcGVjaWZpYyB0eXBlIG9mIGZpbGUuXG5cdFx0XHRcdC8vIE1TIE9mZmljZSwgT3Blbk9mZmljZSBhbmQgTGlicmVPZmZpY2UgbWF5IHB1dCB0aGUgcGFydHMgaW4gZGlmZmVyZW50IG9yZGVyLCBzbyB0aGUgY2hlY2sgc2hvdWxkIG5vdCByZWx5IG9uIGl0LlxuXHRcdFx0XHRpZiAoemlwSGVhZGVyLmZpbGVuYW1lID09PSAnbWltZXR5cGUnICYmIHppcEhlYWRlci5jb21wcmVzc2VkU2l6ZSA9PT0gemlwSGVhZGVyLnVuY29tcHJlc3NlZFNpemUpIHtcblx0XHRcdFx0XHRjb25zdCBtaW1lVHlwZSA9IGF3YWl0IHRva2VuaXplci5yZWFkVG9rZW4obmV3IFRva2VuLlN0cmluZ1R5cGUoemlwSGVhZGVyLmNvbXByZXNzZWRTaXplLCAndXRmLTgnKSk7XG5cblx0XHRcdFx0XHRzd2l0Y2ggKG1pbWVUeXBlKSB7XG5cdFx0XHRcdFx0XHRjYXNlICdhcHBsaWNhdGlvbi9lcHViK3ppcCc6XG5cdFx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0ZXh0OiAnZXB1YicsXG5cdFx0XHRcdFx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL2VwdWIremlwJ1xuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0Y2FzZSAnYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC50ZXh0Jzpcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRleHQ6ICdvZHQnLFxuXHRcdFx0XHRcdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnRleHQnXG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRjYXNlICdhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnNwcmVhZHNoZWV0Jzpcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRleHQ6ICdvZHMnLFxuXHRcdFx0XHRcdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnNwcmVhZHNoZWV0J1xuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0Y2FzZSAnYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC5wcmVzZW50YXRpb24nOlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdGV4dDogJ29kcCcsXG5cdFx0XHRcdFx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQucHJlc2VudGF0aW9uJ1xuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUcnkgdG8gZmluZCBuZXh0IGhlYWRlciBtYW51YWxseSB3aGVuIGN1cnJlbnQgb25lIGlzIGNvcnJ1cHRlZFxuXHRcdFx0XHRpZiAoemlwSGVhZGVyLmNvbXByZXNzZWRTaXplID09PSAwKSB7XG5cdFx0XHRcdFx0bGV0IG5leHRIZWFkZXJJbmRleCA9IC0xO1xuXG5cdFx0XHRcdFx0d2hpbGUgKG5leHRIZWFkZXJJbmRleCA8IDAgJiYgKHRva2VuaXplci5wb3NpdGlvbiA8IHRva2VuaXplci5maWxlSW5mby5zaXplKSkge1xuXHRcdFx0XHRcdFx0YXdhaXQgdG9rZW5pemVyLnBlZWtCdWZmZXIoYnVmZmVyLCB7bWF5QmVMZXNzOiB0cnVlfSk7XG5cblx0XHRcdFx0XHRcdG5leHRIZWFkZXJJbmRleCA9IGJ1ZmZlci5pbmRleE9mKCc1MDRCMDMwNCcsIDAsICdoZXgnKTtcblx0XHRcdFx0XHRcdC8vIE1vdmUgcG9zaXRpb24gdG8gdGhlIG5leHQgaGVhZGVyIGlmIGZvdW5kLCBza2lwIHRoZSB3aG9sZSBidWZmZXIgb3RoZXJ3aXNlXG5cdFx0XHRcdFx0XHRhd2FpdCB0b2tlbml6ZXIuaWdub3JlKG5leHRIZWFkZXJJbmRleCA+PSAwID8gbmV4dEhlYWRlckluZGV4IDogYnVmZmVyLmxlbmd0aCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGF3YWl0IHRva2VuaXplci5pZ25vcmUoemlwSGVhZGVyLmNvbXByZXNzZWRTaXplKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRpZiAoIShlcnJvciBpbnN0YW5jZW9mIHN0cnRvazMuRW5kT2ZTdHJlYW1FcnJvcikpIHtcblx0XHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ3ppcCcsXG5cdFx0XHRtaW1lOiAnYXBwbGljYXRpb24vemlwJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoY2hlY2tTdHJpbmcoJ09nZ1MnKSkge1xuXHRcdC8vIFRoaXMgaXMgYW4gT0dHIGNvbnRhaW5lclxuXHRcdGF3YWl0IHRva2VuaXplci5pZ25vcmUoMjgpO1xuXHRcdGNvbnN0IHR5cGUgPSBCdWZmZXIuYWxsb2MoOCk7XG5cdFx0YXdhaXQgdG9rZW5pemVyLnJlYWRCdWZmZXIodHlwZSk7XG5cblx0XHQvLyBOZWVkcyB0byBiZSBiZWZvcmUgYG9nZ2AgY2hlY2tcblx0XHRpZiAoX2NoZWNrKHR5cGUsIFsweDRGLCAweDcwLCAweDc1LCAweDczLCAweDQ4LCAweDY1LCAweDYxLCAweDY0XSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ29wdXMnLFxuXHRcdFx0XHRtaW1lOiAnYXVkaW8vb3B1cydcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gSWYgJyB0aGVvcmEnIGluIGhlYWRlci5cblx0XHRpZiAoX2NoZWNrKHR5cGUsIFsweDgwLCAweDc0LCAweDY4LCAweDY1LCAweDZGLCAweDcyLCAweDYxXSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ29ndicsXG5cdFx0XHRcdG1pbWU6ICd2aWRlby9vZ2cnXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIElmICdcXHgwMXZpZGVvJyBpbiBoZWFkZXIuXG5cdFx0aWYgKF9jaGVjayh0eXBlLCBbMHgwMSwgMHg3NiwgMHg2OSwgMHg2NCwgMHg2NSwgMHg2RiwgMHgwMF0pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdvZ20nLFxuXHRcdFx0XHRtaW1lOiAndmlkZW8vb2dnJ1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBJZiAnIEZMQUMnIGluIGhlYWRlciAgaHR0cHM6Ly94aXBoLm9yZy9mbGFjL2ZhcS5odG1sXG5cdFx0aWYgKF9jaGVjayh0eXBlLCBbMHg3RiwgMHg0NiwgMHg0QywgMHg0MSwgMHg0M10pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdvZ2EnLFxuXHRcdFx0XHRtaW1lOiAnYXVkaW8vb2dnJ1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyAnU3BlZXggICcgaW4gaGVhZGVyIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NwZWV4XG5cdFx0aWYgKF9jaGVjayh0eXBlLCBbMHg1MywgMHg3MCwgMHg2NSwgMHg2NSwgMHg3OCwgMHgyMCwgMHgyMF0pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdzcHgnLFxuXHRcdFx0XHRtaW1lOiAnYXVkaW8vb2dnJ1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBJZiAnXFx4MDF2b3JiaXMnIGluIGhlYWRlclxuXHRcdGlmIChfY2hlY2sodHlwZSwgWzB4MDEsIDB4NzYsIDB4NkYsIDB4NzIsIDB4NjIsIDB4NjksIDB4NzNdKSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnb2dnJyxcblx0XHRcdFx0bWltZTogJ2F1ZGlvL29nZydcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gRGVmYXVsdCBPR0cgY29udGFpbmVyIGh0dHBzOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL21lZGlhLXR5cGVzL2FwcGxpY2F0aW9uL29nZ1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdvZ3gnLFxuXHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL29nZydcblx0XHR9O1xuXHR9XG5cblx0aWYgKFxuXHRcdGNoZWNrKFsweDUwLCAweDRCXSkgJiZcblx0XHQoYnVmZmVyWzJdID09PSAweDMgfHwgYnVmZmVyWzJdID09PSAweDUgfHwgYnVmZmVyWzJdID09PSAweDcpICYmXG5cdFx0KGJ1ZmZlclszXSA9PT0gMHg0IHx8IGJ1ZmZlclszXSA9PT0gMHg2IHx8IGJ1ZmZlclszXSA9PT0gMHg4KVxuXHQpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnemlwJyxcblx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi96aXAnXG5cdFx0fTtcblx0fVxuXG5cdC8vXG5cblx0Ly8gRmlsZSBUeXBlIEJveCAoaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX2Jhc2VfbWVkaWFfZmlsZV9mb3JtYXQpXG5cdC8vIEl0J3Mgbm90IHJlcXVpcmVkIHRvIGJlIGZpcnN0LCBidXQgaXQncyByZWNvbW1lbmRlZCB0byBiZS4gQWxtb3N0IGFsbCBJU08gYmFzZSBtZWRpYSBmaWxlcyBzdGFydCB3aXRoIGBmdHlwYCBib3guXG5cdC8vIGBmdHlwYCBib3ggbXVzdCBjb250YWluIGEgYnJhbmQgbWFqb3IgaWRlbnRpZmllciwgd2hpY2ggbXVzdCBjb25zaXN0IG9mIElTTyA4ODU5LTEgcHJpbnRhYmxlIGNoYXJhY3RlcnMuXG5cdC8vIEhlcmUgd2UgY2hlY2sgZm9yIDg4NTktMSBwcmludGFibGUgY2hhcmFjdGVycyAoZm9yIHNpbXBsaWNpdHksIGl0J3MgYSBtYXNrIHdoaWNoIGFsc28gY2F0Y2hlcyBvbmUgbm9uLXByaW50YWJsZSBjaGFyYWN0ZXIpLlxuXHRpZiAoXG5cdFx0Y2hlY2tTdHJpbmcoJ2Z0eXAnLCB7b2Zmc2V0OiA0fSkgJiZcblx0XHQoYnVmZmVyWzhdICYgMHg2MCkgIT09IDB4MDAgLy8gQnJhbmQgbWFqb3IsIGZpcnN0IGNoYXJhY3RlciBBU0NJST9cblx0KSB7XG5cdFx0Ly8gVGhleSBhbGwgY2FuIGhhdmUgTUlNRSBgdmlkZW8vbXA0YCBleGNlcHQgYGFwcGxpY2F0aW9uL21wNGAgc3BlY2lhbC1jYXNlIHdoaWNoIGlzIGhhcmQgdG8gZGV0ZWN0LlxuXHRcdC8vIEZvciBzb21lIGNhc2VzLCB3ZSdyZSBzcGVjaWZpYywgZXZlcnl0aGluZyBlbHNlIGZhbGxzIHRvIGB2aWRlby9tcDRgIHdpdGggYG1wNGAgZXh0ZW5zaW9uLlxuXHRcdGNvbnN0IGJyYW5kTWFqb3IgPSBidWZmZXIudG9TdHJpbmcoJ2JpbmFyeScsIDgsIDEyKS5yZXBsYWNlKCdcXDAnLCAnICcpLnRyaW0oKTtcblx0XHRzd2l0Y2ggKGJyYW5kTWFqb3IpIHtcblx0XHRcdGNhc2UgJ2F2aWYnOlxuXHRcdFx0XHRyZXR1cm4ge2V4dDogJ2F2aWYnLCBtaW1lOiAnaW1hZ2UvYXZpZid9O1xuXHRcdFx0Y2FzZSAnbWlmMSc6XG5cdFx0XHRcdHJldHVybiB7ZXh0OiAnaGVpYycsIG1pbWU6ICdpbWFnZS9oZWlmJ307XG5cdFx0XHRjYXNlICdtc2YxJzpcblx0XHRcdFx0cmV0dXJuIHtleHQ6ICdoZWljJywgbWltZTogJ2ltYWdlL2hlaWYtc2VxdWVuY2UnfTtcblx0XHRcdGNhc2UgJ2hlaWMnOlxuXHRcdFx0Y2FzZSAnaGVpeCc6XG5cdFx0XHRcdHJldHVybiB7ZXh0OiAnaGVpYycsIG1pbWU6ICdpbWFnZS9oZWljJ307XG5cdFx0XHRjYXNlICdoZXZjJzpcblx0XHRcdGNhc2UgJ2hldngnOlxuXHRcdFx0XHRyZXR1cm4ge2V4dDogJ2hlaWMnLCBtaW1lOiAnaW1hZ2UvaGVpYy1zZXF1ZW5jZSd9O1xuXHRcdFx0Y2FzZSAncXQnOlxuXHRcdFx0XHRyZXR1cm4ge2V4dDogJ21vdicsIG1pbWU6ICd2aWRlby9xdWlja3RpbWUnfTtcblx0XHRcdGNhc2UgJ000Vic6XG5cdFx0XHRjYXNlICdNNFZIJzpcblx0XHRcdGNhc2UgJ000VlAnOlxuXHRcdFx0XHRyZXR1cm4ge2V4dDogJ200dicsIG1pbWU6ICd2aWRlby94LW00did9O1xuXHRcdFx0Y2FzZSAnTTRQJzpcblx0XHRcdFx0cmV0dXJuIHtleHQ6ICdtNHAnLCBtaW1lOiAndmlkZW8vbXA0J307XG5cdFx0XHRjYXNlICdNNEInOlxuXHRcdFx0XHRyZXR1cm4ge2V4dDogJ200YicsIG1pbWU6ICdhdWRpby9tcDQnfTtcblx0XHRcdGNhc2UgJ000QSc6XG5cdFx0XHRcdHJldHVybiB7ZXh0OiAnbTRhJywgbWltZTogJ2F1ZGlvL3gtbTRhJ307XG5cdFx0XHRjYXNlICdGNFYnOlxuXHRcdFx0XHRyZXR1cm4ge2V4dDogJ2Y0dicsIG1pbWU6ICd2aWRlby9tcDQnfTtcblx0XHRcdGNhc2UgJ0Y0UCc6XG5cdFx0XHRcdHJldHVybiB7ZXh0OiAnZjRwJywgbWltZTogJ3ZpZGVvL21wNCd9O1xuXHRcdFx0Y2FzZSAnRjRBJzpcblx0XHRcdFx0cmV0dXJuIHtleHQ6ICdmNGEnLCBtaW1lOiAnYXVkaW8vbXA0J307XG5cdFx0XHRjYXNlICdGNEInOlxuXHRcdFx0XHRyZXR1cm4ge2V4dDogJ2Y0YicsIG1pbWU6ICdhdWRpby9tcDQnfTtcblx0XHRcdGNhc2UgJ2NyeCc6XG5cdFx0XHRcdHJldHVybiB7ZXh0OiAnY3IzJywgbWltZTogJ2ltYWdlL3gtY2Fub24tY3IzJ307XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRpZiAoYnJhbmRNYWpvci5zdGFydHNXaXRoKCczZycpKSB7XG5cdFx0XHRcdFx0aWYgKGJyYW5kTWFqb3Iuc3RhcnRzV2l0aCgnM2cyJykpIHtcblx0XHRcdFx0XHRcdHJldHVybiB7ZXh0OiAnM2cyJywgbWltZTogJ3ZpZGVvLzNncHAyJ307XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHtleHQ6ICczZ3AnLCBtaW1lOiAndmlkZW8vM2dwcCd9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHtleHQ6ICdtcDQnLCBtaW1lOiAndmlkZW8vbXA0J307XG5cdFx0fVxuXHR9XG5cblx0aWYgKGNoZWNrU3RyaW5nKCdNVGhkJykpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnbWlkJyxcblx0XHRcdG1pbWU6ICdhdWRpby9taWRpJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoXG5cdFx0Y2hlY2tTdHJpbmcoJ3dPRkYnKSAmJlxuXHRcdChcblx0XHRcdGNoZWNrKFsweDAwLCAweDAxLCAweDAwLCAweDAwXSwge29mZnNldDogNH0pIHx8XG5cdFx0XHRjaGVja1N0cmluZygnT1RUTycsIHtvZmZzZXQ6IDR9KVxuXHRcdClcblx0KSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ3dvZmYnLFxuXHRcdFx0bWltZTogJ2ZvbnQvd29mZidcblx0XHR9O1xuXHR9XG5cblx0aWYgKFxuXHRcdGNoZWNrU3RyaW5nKCd3T0YyJykgJiZcblx0XHQoXG5cdFx0XHRjaGVjayhbMHgwMCwgMHgwMSwgMHgwMCwgMHgwMF0sIHtvZmZzZXQ6IDR9KSB8fFxuXHRcdFx0Y2hlY2tTdHJpbmcoJ09UVE8nLCB7b2Zmc2V0OiA0fSlcblx0XHQpXG5cdCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICd3b2ZmMicsXG5cdFx0XHRtaW1lOiAnZm9udC93b2ZmMidcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNoZWNrKFsweEQ0LCAweEMzLCAweEIyLCAweEExXSkgfHwgY2hlY2soWzB4QTEsIDB4QjIsIDB4QzMsIDB4RDRdKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdwY2FwJyxcblx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi92bmQudGNwZHVtcC5wY2FwJ1xuXHRcdH07XG5cdH1cblxuXHQvLyBTb255IERTRCBTdHJlYW0gRmlsZSAoRFNGKVxuXHRpZiAoY2hlY2tTdHJpbmcoJ0RTRCAnKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdkc2YnLFxuXHRcdFx0bWltZTogJ2F1ZGlvL3gtZHNmJyAvLyBOb24tc3RhbmRhcmRcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNoZWNrU3RyaW5nKCdMWklQJykpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnbHonLFxuXHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gtbHppcCdcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNoZWNrU3RyaW5nKCdmTGFDJykpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnZmxhYycsXG5cdFx0XHRtaW1lOiAnYXVkaW8veC1mbGFjJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoY2hlY2soWzB4NDIsIDB4NTAsIDB4NDcsIDB4RkJdKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdicGcnLFxuXHRcdFx0bWltZTogJ2ltYWdlL2JwZydcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNoZWNrU3RyaW5nKCd3dnBrJykpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnd3YnLFxuXHRcdFx0bWltZTogJ2F1ZGlvL3dhdnBhY2snXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVja1N0cmluZygnJVBERicpKSB7XG5cdFx0YXdhaXQgdG9rZW5pemVyLmlnbm9yZSgxMzUwKTtcblx0XHRjb25zdCBtYXhCdWZmZXJTaXplID0gMTAgKiAxMDI0ICogMTAyNDtcblx0XHRjb25zdCBidWZmZXIgPSBCdWZmZXIuYWxsb2MoTWF0aC5taW4obWF4QnVmZmVyU2l6ZSwgdG9rZW5pemVyLmZpbGVJbmZvLnNpemUpKTtcblx0XHRhd2FpdCB0b2tlbml6ZXIucmVhZEJ1ZmZlcihidWZmZXIsIHttYXlCZUxlc3M6IHRydWV9KTtcblxuXHRcdC8vIENoZWNrIGlmIHRoaXMgaXMgYW4gQWRvYmUgSWxsdXN0cmF0b3IgZmlsZVxuXHRcdGlmIChidWZmZXIuaW5jbHVkZXMoQnVmZmVyLmZyb20oJ0FJUHJpdmF0ZURhdGEnKSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ2FpJyxcblx0XHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3Bvc3RzY3JpcHQnXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIEFzc3VtZSB0aGlzIGlzIGp1c3QgYSBub3JtYWwgUERGXG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ3BkZicsXG5cdFx0XHRtaW1lOiAnYXBwbGljYXRpb24vcGRmJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoY2hlY2soWzB4MDAsIDB4NjEsIDB4NzMsIDB4NkRdKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICd3YXNtJyxcblx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi93YXNtJ1xuXHRcdH07XG5cdH1cblxuXHQvLyBUSUZGLCBsaXR0bGUtZW5kaWFuIHR5cGVcblx0aWYgKGNoZWNrKFsweDQ5LCAweDQ5LCAweDJBLCAweDBdKSkge1xuXHRcdGlmIChjaGVja1N0cmluZygnQ1InLCB7b2Zmc2V0OiA4fSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ2NyMicsXG5cdFx0XHRcdG1pbWU6ICdpbWFnZS94LWNhbm9uLWNyMidcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKGNoZWNrKFsweDFDLCAweDAwLCAweEZFLCAweDAwXSwge29mZnNldDogOH0pIHx8IGNoZWNrKFsweDFGLCAweDAwLCAweDBCLCAweDAwXSwge29mZnNldDogOH0pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICduZWYnLFxuXHRcdFx0XHRtaW1lOiAnaW1hZ2UveC1uaWtvbi1uZWYnXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmIChcblx0XHRcdGNoZWNrKFsweDA4LCAweDAwLCAweDAwLCAweDAwXSwge29mZnNldDogNH0pICYmXG5cdFx0XHQoY2hlY2soWzB4MkQsIDB4MDAsIDB4RkUsIDB4MDBdLCB7b2Zmc2V0OiA4fSkgfHxcblx0XHRcdFx0Y2hlY2soWzB4MjcsIDB4MDAsIDB4RkUsIDB4MDBdLCB7b2Zmc2V0OiA4fSkpXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdkbmcnLFxuXHRcdFx0XHRtaW1lOiAnaW1hZ2UveC1hZG9iZS1kbmcnXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGJ1ZmZlciA9IEJ1ZmZlci5hbGxvYygyNCk7XG5cdFx0YXdhaXQgdG9rZW5pemVyLnBlZWtCdWZmZXIoYnVmZmVyKTtcblx0XHRpZiAoXG5cdFx0XHQoY2hlY2soWzB4MTAsIDB4RkIsIDB4ODYsIDB4MDFdLCB7b2Zmc2V0OiA0fSkgfHwgY2hlY2soWzB4MDgsIDB4MDAsIDB4MDAsIDB4MDBdLCB7b2Zmc2V0OiA0fSkpICYmXG5cdFx0XHQvLyBUaGlzIHBhdHRlcm4gZGlmZmVyZW50aWF0ZXMgQVJXIGZyb20gb3RoZXIgVElGRi1pc2ggZmlsZSB0eXBlczpcblx0XHRcdGNoZWNrKFsweDAwLCAweEZFLCAweDAwLCAweDA0LCAweDAwLCAweDAxLCAweDAwLCAweDAwLCAweDAwLCAweDAxLCAweDAwLCAweDAwLCAweDAwLCAweDAzLCAweDAxXSwge29mZnNldDogOX0pXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdhcncnLFxuXHRcdFx0XHRtaW1lOiAnaW1hZ2UveC1zb255LWFydydcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ3RpZicsXG5cdFx0XHRtaW1lOiAnaW1hZ2UvdGlmZidcblx0XHR9O1xuXHR9XG5cblx0Ly8gVElGRiwgYmlnLWVuZGlhbiB0eXBlXG5cdGlmIChjaGVjayhbMHg0RCwgMHg0RCwgMHgwLCAweDJBXSkpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAndGlmJyxcblx0XHRcdG1pbWU6ICdpbWFnZS90aWZmJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoY2hlY2tTdHJpbmcoJ01BQyAnKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdhcGUnLFxuXHRcdFx0bWltZTogJ2F1ZGlvL2FwZSdcblx0XHR9O1xuXHR9XG5cblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3RocmVhdHN0YWNrL2xpYm1hZ2ljL2Jsb2IvbWFzdGVyL21hZ2ljL01hZ2Rpci9tYXRyb3NrYVxuXHRpZiAoY2hlY2soWzB4MUEsIDB4NDUsIDB4REYsIDB4QTNdKSkgeyAvLyBSb290IGVsZW1lbnQ6IEVCTUxcblx0XHRhc3luYyBmdW5jdGlvbiByZWFkRmllbGQoKSB7XG5cdFx0XHRjb25zdCBtc2IgPSBhd2FpdCB0b2tlbml6ZXIucGVla051bWJlcihUb2tlbi5VSU5UOCk7XG5cdFx0XHRsZXQgbWFzayA9IDB4ODA7XG5cdFx0XHRsZXQgaWMgPSAwOyAvLyAwID0gQSwgMSA9IEIsIDIgPSBDLCAzID0gRFxuXG5cdFx0XHR3aGlsZSAoKG1zYiAmIG1hc2spID09PSAwICYmIG1hc2sgIT09IDApIHtcblx0XHRcdFx0KytpYztcblx0XHRcdFx0bWFzayA+Pj0gMTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgaWQgPSBCdWZmZXIuYWxsb2MoaWMgKyAxKTtcblx0XHRcdGF3YWl0IHRva2VuaXplci5yZWFkQnVmZmVyKGlkKTtcblx0XHRcdHJldHVybiBpZDtcblx0XHR9XG5cblx0XHRhc3luYyBmdW5jdGlvbiByZWFkRWxlbWVudCgpIHtcblx0XHRcdGNvbnN0IGlkID0gYXdhaXQgcmVhZEZpZWxkKCk7XG5cdFx0XHRjb25zdCBsZW5GaWVsZCA9IGF3YWl0IHJlYWRGaWVsZCgpO1xuXHRcdFx0bGVuRmllbGRbMF0gXj0gMHg4MCA+PiAobGVuRmllbGQubGVuZ3RoIC0gMSk7XG5cdFx0XHRjb25zdCBuckxlbiA9IE1hdGgubWluKDYsIGxlbkZpZWxkLmxlbmd0aCk7IC8vIEphdmFTY3JpcHQgY2FuIG1heCByZWFkIDYgYnl0ZXMgaW50ZWdlclxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0aWQ6IGlkLnJlYWRVSW50QkUoMCwgaWQubGVuZ3RoKSxcblx0XHRcdFx0bGVuOiBsZW5GaWVsZC5yZWFkVUludEJFKGxlbkZpZWxkLmxlbmd0aCAtIG5yTGVuLCBuckxlbilcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0YXN5bmMgZnVuY3Rpb24gcmVhZENoaWxkcmVuKGxldmVsLCBjaGlsZHJlbikge1xuXHRcdFx0d2hpbGUgKGNoaWxkcmVuID4gMCkge1xuXHRcdFx0XHRjb25zdCBlID0gYXdhaXQgcmVhZEVsZW1lbnQoKTtcblx0XHRcdFx0aWYgKGUuaWQgPT09IDB4NDI4Mikge1xuXHRcdFx0XHRcdHJldHVybiB0b2tlbml6ZXIucmVhZFRva2VuKG5ldyBUb2tlbi5TdHJpbmdUeXBlKGUubGVuLCAndXRmLTgnKSk7IC8vIFJldHVybiBEb2NUeXBlXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhd2FpdCB0b2tlbml6ZXIuaWdub3JlKGUubGVuKTsgLy8gaWdub3JlIHBheWxvYWRcblx0XHRcdFx0LS1jaGlsZHJlbjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCByZSA9IGF3YWl0IHJlYWRFbGVtZW50KCk7XG5cdFx0Y29uc3QgZG9jVHlwZSA9IGF3YWl0IHJlYWRDaGlsZHJlbigxLCByZS5sZW4pO1xuXG5cdFx0c3dpdGNoIChkb2NUeXBlKSB7XG5cdFx0XHRjYXNlICd3ZWJtJzpcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRleHQ6ICd3ZWJtJyxcblx0XHRcdFx0XHRtaW1lOiAndmlkZW8vd2VibSdcblx0XHRcdFx0fTtcblxuXHRcdFx0Y2FzZSAnbWF0cm9za2EnOlxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGV4dDogJ21rdicsXG5cdFx0XHRcdFx0bWltZTogJ3ZpZGVvL3gtbWF0cm9za2EnXG5cdFx0XHRcdH07XG5cblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cblxuXHQvLyBSSUZGIGZpbGUgZm9ybWF0IHdoaWNoIG1pZ2h0IGJlIEFWSSwgV0FWLCBRQ1AsIGV0Y1xuXHRpZiAoY2hlY2soWzB4NTIsIDB4NDksIDB4NDYsIDB4NDZdKSkge1xuXHRcdGlmIChjaGVjayhbMHg0MSwgMHg1NiwgMHg0OV0sIHtvZmZzZXQ6IDh9KSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnYXZpJyxcblx0XHRcdFx0bWltZTogJ3ZpZGVvL3ZuZC5hdmknXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmIChjaGVjayhbMHg1NywgMHg0MSwgMHg1NiwgMHg0NV0sIHtvZmZzZXQ6IDh9KSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnd2F2Jyxcblx0XHRcdFx0bWltZTogJ2F1ZGlvL3ZuZC53YXZlJ1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBRTENNLCBRQ1AgZmlsZVxuXHRcdGlmIChjaGVjayhbMHg1MSwgMHg0QywgMHg0MywgMHg0RF0sIHtvZmZzZXQ6IDh9KSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAncWNwJyxcblx0XHRcdFx0bWltZTogJ2F1ZGlvL3FjZWxwJ1xuXHRcdFx0fTtcblx0XHR9XG5cdH1cblxuXHRpZiAoY2hlY2tTdHJpbmcoJ1NRTGknKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdzcWxpdGUnLFxuXHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gtc3FsaXRlMydcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNoZWNrKFsweDRFLCAweDQ1LCAweDUzLCAweDFBXSkpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnbmVzJyxcblx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LW5pbnRlbmRvLW5lcy1yb20nXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVja1N0cmluZygnQ3IyNCcpKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ2NyeCcsXG5cdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veC1nb29nbGUtY2hyb21lLWV4dGVuc2lvbidcblx0XHR9O1xuXHR9XG5cblx0aWYgKFxuXHRcdGNoZWNrU3RyaW5nKCdNU0NGJykgfHxcblx0XHRjaGVja1N0cmluZygnSVNjKCcpXG5cdCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdjYWInLFxuXHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3ZuZC5tcy1jYWItY29tcHJlc3NlZCdcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNoZWNrKFsweEVELCAweEFCLCAweEVFLCAweERCXSkpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAncnBtJyxcblx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LXJwbSdcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNoZWNrKFsweEM1LCAweEQwLCAweEQzLCAweEM2XSkpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnZXBzJyxcblx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi9lcHMnXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVjayhbMHgyOCwgMHhCNSwgMHgyRiwgMHhGRF0pKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ3pzdCcsXG5cdFx0XHRtaW1lOiAnYXBwbGljYXRpb24venN0ZCdcblx0XHR9O1xuXHR9XG5cblx0Ly8gLS0gNS1ieXRlIHNpZ25hdHVyZXMgLS1cblxuXHRpZiAoY2hlY2soWzB4NEYsIDB4NTQsIDB4NTQsIDB4NEYsIDB4MDBdKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdvdGYnLFxuXHRcdFx0bWltZTogJ2ZvbnQvb3RmJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoY2hlY2tTdHJpbmcoJyMhQU1SJykpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnYW1yJyxcblx0XHRcdG1pbWU6ICdhdWRpby9hbXInXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVja1N0cmluZygne1xcXFxydGYnKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdydGYnLFxuXHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3J0Zidcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNoZWNrKFsweDQ2LCAweDRDLCAweDU2LCAweDAxXSkpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnZmx2Jyxcblx0XHRcdG1pbWU6ICd2aWRlby94LWZsdidcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNoZWNrU3RyaW5nKCdJTVBNJykpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnaXQnLFxuXHRcdFx0bWltZTogJ2F1ZGlvL3gtaXQnXG5cdFx0fTtcblx0fVxuXG5cdGlmIChcblx0XHRjaGVja1N0cmluZygnLWxoMC0nLCB7b2Zmc2V0OiAyfSkgfHxcblx0XHRjaGVja1N0cmluZygnLWxoMS0nLCB7b2Zmc2V0OiAyfSkgfHxcblx0XHRjaGVja1N0cmluZygnLWxoMi0nLCB7b2Zmc2V0OiAyfSkgfHxcblx0XHRjaGVja1N0cmluZygnLWxoMy0nLCB7b2Zmc2V0OiAyfSkgfHxcblx0XHRjaGVja1N0cmluZygnLWxoNC0nLCB7b2Zmc2V0OiAyfSkgfHxcblx0XHRjaGVja1N0cmluZygnLWxoNS0nLCB7b2Zmc2V0OiAyfSkgfHxcblx0XHRjaGVja1N0cmluZygnLWxoNi0nLCB7b2Zmc2V0OiAyfSkgfHxcblx0XHRjaGVja1N0cmluZygnLWxoNy0nLCB7b2Zmc2V0OiAyfSkgfHxcblx0XHRjaGVja1N0cmluZygnLWx6cy0nLCB7b2Zmc2V0OiAyfSkgfHxcblx0XHRjaGVja1N0cmluZygnLWx6NC0nLCB7b2Zmc2V0OiAyfSkgfHxcblx0XHRjaGVja1N0cmluZygnLWx6NS0nLCB7b2Zmc2V0OiAyfSkgfHxcblx0XHRjaGVja1N0cmluZygnLWxoZC0nLCB7b2Zmc2V0OiAyfSlcblx0KSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ2x6aCcsXG5cdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veC1semgtY29tcHJlc3NlZCdcblx0XHR9O1xuXHR9XG5cblx0Ly8gTVBFRyBwcm9ncmFtIHN0cmVhbSAoUFMgb3IgTVBFRy1QUylcblx0aWYgKGNoZWNrKFsweDAwLCAweDAwLCAweDAxLCAweEJBXSkpIHtcblx0XHQvLyAgTVBFRy1QUywgTVBFRy0xIFBhcnQgMVxuXHRcdGlmIChjaGVjayhbMHgyMV0sIHtvZmZzZXQ6IDQsIG1hc2s6IFsweEYxXX0pKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRleHQ6ICdtcGcnLCAvLyBNYXkgYWxzbyBiZSAucHMsIC5tcGVnXG5cdFx0XHRcdG1pbWU6ICd2aWRlby9NUDFTJ1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBNUEVHLVBTLCBNUEVHLTIgUGFydCAxXG5cdFx0aWYgKGNoZWNrKFsweDQ0XSwge29mZnNldDogNCwgbWFzazogWzB4QzRdfSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ21wZycsIC8vIE1heSBhbHNvIGJlIC5tcGcsIC5tMnAsIC52b2Igb3IgLnN1YlxuXHRcdFx0XHRtaW1lOiAndmlkZW8vTVAyUCdcblx0XHRcdH07XG5cdFx0fVxuXHR9XG5cblx0aWYgKGNoZWNrU3RyaW5nKCdJVFNGJykpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnY2htJyxcblx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi92bmQubXMtaHRtbGhlbHAnXG5cdFx0fTtcblx0fVxuXG5cdC8vIC0tIDYtYnl0ZSBzaWduYXR1cmVzIC0tXG5cblx0aWYgKGNoZWNrKFsweEZELCAweDM3LCAweDdBLCAweDU4LCAweDVBLCAweDAwXSkpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAneHonLFxuXHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gteHonXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVja1N0cmluZygnPD94bWwgJykpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAneG1sJyxcblx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94bWwnXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVjayhbMHgzNywgMHg3QSwgMHhCQywgMHhBRiwgMHgyNywgMHgxQ10pKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJzd6Jyxcblx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LTd6LWNvbXByZXNzZWQnXG5cdFx0fTtcblx0fVxuXG5cdGlmIChcblx0XHRjaGVjayhbMHg1MiwgMHg2MSwgMHg3MiwgMHgyMSwgMHgxQSwgMHg3XSkgJiZcblx0XHQoYnVmZmVyWzZdID09PSAweDAgfHwgYnVmZmVyWzZdID09PSAweDEpXG5cdCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdyYXInLFxuXHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gtcmFyLWNvbXByZXNzZWQnXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVja1N0cmluZygnc29saWQgJykpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnc3RsJyxcblx0XHRcdG1pbWU6ICdtb2RlbC9zdGwnXG5cdFx0fTtcblx0fVxuXG5cdC8vIC0tIDctYnl0ZSBzaWduYXR1cmVzIC0tXG5cblx0aWYgKGNoZWNrU3RyaW5nKCdCTEVOREVSJykpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnYmxlbmQnLFxuXHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gtYmxlbmRlcidcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNoZWNrU3RyaW5nKCchPGFyY2g+JykpIHtcblx0XHRhd2FpdCB0b2tlbml6ZXIuaWdub3JlKDgpO1xuXHRcdGNvbnN0IHN0ciA9IGF3YWl0IHRva2VuaXplci5yZWFkVG9rZW4obmV3IFRva2VuLlN0cmluZ1R5cGUoMTMsICdhc2NpaScpKTtcblx0XHRpZiAoc3RyID09PSAnZGViaWFuLWJpbmFyeScpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ2RlYicsXG5cdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LWRlYidcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ2FyJyxcblx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LXVuaXgtYXJjaGl2ZSdcblx0XHR9O1xuXHR9XG5cblx0Ly8gLS0gOC1ieXRlIHNpZ25hdHVyZXMgLS1cblxuXHRpZiAoY2hlY2soWzB4ODksIDB4NTAsIDB4NEUsIDB4NDcsIDB4MEQsIDB4MEEsIDB4MUEsIDB4MEFdKSkge1xuXHRcdC8vIEFQTkcgZm9ybWF0IChodHRwczovL3dpa2kubW96aWxsYS5vcmcvQVBOR19TcGVjaWZpY2F0aW9uKVxuXHRcdC8vIDEuIEZpbmQgdGhlIGZpcnN0IElEQVQgKGltYWdlIGRhdGEpIGNodW5rICg0OSA0NCA0MSA1NClcblx0XHQvLyAyLiBDaGVjayBpZiB0aGVyZSBpcyBhbiBcImFjVExcIiBjaHVuayBiZWZvcmUgdGhlIElEQVQgb25lICg2MSA2MyA1NCA0QylcblxuXHRcdC8vIE9mZnNldCBjYWxjdWxhdGVkIGFzIGZvbGxvd3M6XG5cdFx0Ly8gLSA4IGJ5dGVzOiBQTkcgc2lnbmF0dXJlXG5cdFx0Ly8gLSA0IChsZW5ndGgpICsgNCAoY2h1bmsgdHlwZSkgKyAxMyAoY2h1bmsgZGF0YSkgKyA0IChDUkMpOiBJSERSIGNodW5rXG5cblx0XHRhd2FpdCB0b2tlbml6ZXIuaWdub3JlKDgpOyAvLyBpZ25vcmUgUE5HIHNpZ25hdHVyZVxuXG5cdFx0YXN5bmMgZnVuY3Rpb24gcmVhZENodW5rSGVhZGVyKCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0bGVuZ3RoOiBhd2FpdCB0b2tlbml6ZXIucmVhZFRva2VuKFRva2VuLklOVDMyX0JFKSxcblx0XHRcdFx0dHlwZTogYXdhaXQgdG9rZW5pemVyLnJlYWRUb2tlbihuZXcgVG9rZW4uU3RyaW5nVHlwZSg0LCAnYmluYXJ5JykpXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGRvIHtcblx0XHRcdGNvbnN0IGNodW5rID0gYXdhaXQgcmVhZENodW5rSGVhZGVyKCk7XG5cdFx0XHRpZiAoY2h1bmsubGVuZ3RoIDwgMCkge1xuXHRcdFx0XHRyZXR1cm47IC8vIEludmFsaWQgY2h1bmsgbGVuZ3RoXG5cdFx0XHR9XG5cblx0XHRcdHN3aXRjaCAoY2h1bmsudHlwZSkge1xuXHRcdFx0XHRjYXNlICdJREFUJzpcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0ZXh0OiAncG5nJyxcblx0XHRcdFx0XHRcdG1pbWU6ICdpbWFnZS9wbmcnXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0Y2FzZSAnYWNUTCc6XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdGV4dDogJ2FwbmcnLFxuXHRcdFx0XHRcdFx0bWltZTogJ2ltYWdlL2FwbmcnXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRhd2FpdCB0b2tlbml6ZXIuaWdub3JlKGNodW5rLmxlbmd0aCArIDQpOyAvLyBJZ25vcmUgY2h1bmstZGF0YSArIENSQ1xuXHRcdFx0fVxuXHRcdH0gd2hpbGUgKHRva2VuaXplci5wb3NpdGlvbiArIDggPCB0b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAncG5nJyxcblx0XHRcdG1pbWU6ICdpbWFnZS9wbmcnXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVjayhbMHg0MSwgMHg1MiwgMHg1MiwgMHg0RiwgMHg1NywgMHgzMSwgMHgwMCwgMHgwMF0pKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ2Fycm93Jyxcblx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LWFwYWNoZS1hcnJvdydcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNoZWNrKFsweDY3LCAweDZDLCAweDU0LCAweDQ2LCAweDAyLCAweDAwLCAweDAwLCAweDAwXSkpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnZ2xiJyxcblx0XHRcdG1pbWU6ICdtb2RlbC9nbHRmLWJpbmFyeSdcblx0XHR9O1xuXHR9XG5cblx0Ly8gYG1vdmAgZm9ybWF0IHZhcmlhbnRzXG5cdGlmIChcblx0XHRjaGVjayhbMHg2NiwgMHg3MiwgMHg2NSwgMHg2NV0sIHtvZmZzZXQ6IDR9KSB8fCAvLyBgZnJlZWBcblx0XHRjaGVjayhbMHg2RCwgMHg2NCwgMHg2MSwgMHg3NF0sIHtvZmZzZXQ6IDR9KSB8fCAvLyBgbWRhdGAgTUpQRUdcblx0XHRjaGVjayhbMHg2RCwgMHg2RiwgMHg2RiwgMHg3Nl0sIHtvZmZzZXQ6IDR9KSB8fCAvLyBgbW9vdmBcblx0XHRjaGVjayhbMHg3NywgMHg2OSwgMHg2NCwgMHg2NV0sIHtvZmZzZXQ6IDR9KSAvLyBgd2lkZWBcblx0KSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ21vdicsXG5cdFx0XHRtaW1lOiAndmlkZW8vcXVpY2t0aW1lJ1xuXHRcdH07XG5cdH1cblxuXHQvLyAtLSA5LWJ5dGUgc2lnbmF0dXJlcyAtLVxuXG5cdGlmIChjaGVjayhbMHg0OSwgMHg0OSwgMHg1MiwgMHg0RiwgMHgwOCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgxOF0pKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ29yZicsXG5cdFx0XHRtaW1lOiAnaW1hZ2UveC1vbHltcHVzLW9yZidcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNoZWNrU3RyaW5nKCdnaW1wIHhjZiAnKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICd4Y2YnLFxuXHRcdFx0bWltZTogJ2ltYWdlL3gteGNmJ1xuXHRcdH07XG5cdH1cblxuXHQvLyAtLSAxMi1ieXRlIHNpZ25hdHVyZXMgLS1cblxuXHRpZiAoY2hlY2soWzB4NDksIDB4NDksIDB4NTUsIDB4MDAsIDB4MTgsIDB4MDAsIDB4MDAsIDB4MDAsIDB4ODgsIDB4RTcsIDB4NzQsIDB4RDhdKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdydzInLFxuXHRcdFx0bWltZTogJ2ltYWdlL3gtcGFuYXNvbmljLXJ3Midcblx0XHR9O1xuXHR9XG5cblx0Ly8gQVNGX0hlYWRlcl9PYmplY3QgZmlyc3QgODAgYnl0ZXNcblx0aWYgKGNoZWNrKFsweDMwLCAweDI2LCAweEIyLCAweDc1LCAweDhFLCAweDY2LCAweENGLCAweDExLCAweEE2LCAweEQ5XSkpIHtcblx0XHRhc3luYyBmdW5jdGlvbiByZWFkSGVhZGVyKCkge1xuXHRcdFx0Y29uc3QgZ3VpZCA9IEJ1ZmZlci5hbGxvYygxNik7XG5cdFx0XHRhd2FpdCB0b2tlbml6ZXIucmVhZEJ1ZmZlcihndWlkKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGlkOiBndWlkLFxuXHRcdFx0XHRzaXplOiBOdW1iZXIoYXdhaXQgdG9rZW5pemVyLnJlYWRUb2tlbihUb2tlbi5VSU5UNjRfTEUpKVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRhd2FpdCB0b2tlbml6ZXIuaWdub3JlKDMwKTtcblx0XHQvLyBTZWFyY2ggZm9yIGhlYWRlciBzaG91bGQgYmUgaW4gZmlyc3QgMUtCIG9mIGZpbGUuXG5cdFx0d2hpbGUgKHRva2VuaXplci5wb3NpdGlvbiArIDI0IDwgdG9rZW5pemVyLmZpbGVJbmZvLnNpemUpIHtcblx0XHRcdGNvbnN0IGhlYWRlciA9IGF3YWl0IHJlYWRIZWFkZXIoKTtcblx0XHRcdGxldCBwYXlsb2FkID0gaGVhZGVyLnNpemUgLSAyNDtcblx0XHRcdGlmIChfY2hlY2soaGVhZGVyLmlkLCBbMHg5MSwgMHgwNywgMHhEQywgMHhCNywgMHhCNywgMHhBOSwgMHhDRiwgMHgxMSwgMHg4RSwgMHhFNiwgMHgwMCwgMHhDMCwgMHgwQywgMHgyMCwgMHg1MywgMHg2NV0pKSB7XG5cdFx0XHRcdC8vIFN5bmMgb24gU3RyZWFtLVByb3BlcnRpZXMtT2JqZWN0IChCN0RDMDc5MS1BOUI3LTExQ0YtOEVFNi0wMEMwMEMyMDUzNjUpXG5cdFx0XHRcdGNvbnN0IHR5cGVJZCA9IEJ1ZmZlci5hbGxvYygxNik7XG5cdFx0XHRcdHBheWxvYWQgLT0gYXdhaXQgdG9rZW5pemVyLnJlYWRCdWZmZXIodHlwZUlkKTtcblxuXHRcdFx0XHRpZiAoX2NoZWNrKHR5cGVJZCwgWzB4NDAsIDB4OUUsIDB4NjksIDB4RjgsIDB4NEQsIDB4NUIsIDB4Q0YsIDB4MTEsIDB4QTgsIDB4RkQsIDB4MDAsIDB4ODAsIDB4NUYsIDB4NUMsIDB4NDQsIDB4MkJdKSkge1xuXHRcdFx0XHRcdC8vIEZvdW5kIGF1ZGlvOlxuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRleHQ6ICdhc2YnLFxuXHRcdFx0XHRcdFx0bWltZTogJ2F1ZGlvL3gtbXMtYXNmJ1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoX2NoZWNrKHR5cGVJZCwgWzB4QzAsIDB4RUYsIDB4MTksIDB4QkMsIDB4NEQsIDB4NUIsIDB4Q0YsIDB4MTEsIDB4QTgsIDB4RkQsIDB4MDAsIDB4ODAsIDB4NUYsIDB4NUMsIDB4NDQsIDB4MkJdKSkge1xuXHRcdFx0XHRcdC8vIEZvdW5kIHZpZGVvOlxuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRleHQ6ICdhc2YnLFxuXHRcdFx0XHRcdFx0bWltZTogJ3ZpZGVvL3gtbXMtYXNmJ1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0YXdhaXQgdG9rZW5pemVyLmlnbm9yZShwYXlsb2FkKTtcblx0XHR9XG5cblx0XHQvLyBEZWZhdWx0IHRvIEFTRiBnZW5lcmljIGV4dGVuc2lvblxuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdhc2YnLFxuXHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3ZuZC5tcy1hc2YnXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVjayhbMHhBQiwgMHg0QiwgMHg1NCwgMHg1OCwgMHgyMCwgMHgzMSwgMHgzMSwgMHhCQiwgMHgwRCwgMHgwQSwgMHgxQSwgMHgwQV0pKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ2t0eCcsXG5cdFx0XHRtaW1lOiAnaW1hZ2Uva3R4J1xuXHRcdH07XG5cdH1cblxuXHRpZiAoKGNoZWNrKFsweDdFLCAweDEwLCAweDA0XSkgfHwgY2hlY2soWzB4N0UsIDB4MTgsIDB4MDRdKSkgJiYgY2hlY2soWzB4MzAsIDB4NEQsIDB4NDksIDB4NDVdLCB7b2Zmc2V0OiA0fSkpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnbWllJyxcblx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LW1pZSdcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNoZWNrKFsweDI3LCAweDBBLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwXSwge29mZnNldDogMn0pKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ3NocCcsXG5cdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veC1lc3JpLXNoYXBlJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoY2hlY2soWzB4MDAsIDB4MDAsIDB4MDAsIDB4MEMsIDB4NkEsIDB4NTAsIDB4MjAsIDB4MjAsIDB4MEQsIDB4MEEsIDB4ODcsIDB4MEFdKSkge1xuXHRcdC8vIEpQRUctMjAwMCBmYW1pbHlcblxuXHRcdGF3YWl0IHRva2VuaXplci5pZ25vcmUoMjApO1xuXHRcdGNvbnN0IHR5cGUgPSBhd2FpdCB0b2tlbml6ZXIucmVhZFRva2VuKG5ldyBUb2tlbi5TdHJpbmdUeXBlKDQsICdhc2NpaScpKTtcblx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdGNhc2UgJ2pwMiAnOlxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGV4dDogJ2pwMicsXG5cdFx0XHRcdFx0bWltZTogJ2ltYWdlL2pwMidcblx0XHRcdFx0fTtcblx0XHRcdGNhc2UgJ2pweCAnOlxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGV4dDogJ2pweCcsXG5cdFx0XHRcdFx0bWltZTogJ2ltYWdlL2pweCdcblx0XHRcdFx0fTtcblx0XHRcdGNhc2UgJ2pwbSAnOlxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGV4dDogJ2pwbScsXG5cdFx0XHRcdFx0bWltZTogJ2ltYWdlL2pwbSdcblx0XHRcdFx0fTtcblx0XHRcdGNhc2UgJ21qcDInOlxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGV4dDogJ21qMicsXG5cdFx0XHRcdFx0bWltZTogJ2ltYWdlL21qMidcblx0XHRcdFx0fTtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cblxuXHRpZiAoXG5cdFx0Y2hlY2soWzB4RkYsIDB4MEFdKSB8fFxuXHRcdGNoZWNrKFsweDAwLCAweDAwLCAweDAwLCAweDBDLCAweDRBLCAweDU4LCAweDRDLCAweDIwLCAweDBELCAweDBBLCAweDg3LCAweDBBXSlcblx0KSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ2p4bCcsXG5cdFx0XHRtaW1lOiAnaW1hZ2UvanhsJ1xuXHRcdH07XG5cdH1cblxuXHQvLyAtLSBVbnNhZmUgc2lnbmF0dXJlcyAtLVxuXG5cdGlmIChcblx0XHRjaGVjayhbMHgwLCAweDAsIDB4MSwgMHhCQV0pIHx8XG5cdFx0Y2hlY2soWzB4MCwgMHgwLCAweDEsIDB4QjNdKVxuXHQpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnbXBnJyxcblx0XHRcdG1pbWU6ICd2aWRlby9tcGVnJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoY2hlY2soWzB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsIDB4MDBdKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICd0dGYnLFxuXHRcdFx0bWltZTogJ2ZvbnQvdHRmJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoY2hlY2soWzB4MDAsIDB4MDAsIDB4MDEsIDB4MDBdKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdpY28nLFxuXHRcdFx0bWltZTogJ2ltYWdlL3gtaWNvbidcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNoZWNrKFsweDAwLCAweDAwLCAweDAyLCAweDAwXSkpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnY3VyJyxcblx0XHRcdG1pbWU6ICdpbWFnZS94LWljb24nXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVjayhbMHhEMCwgMHhDRiwgMHgxMSwgMHhFMCwgMHhBMSwgMHhCMSwgMHgxQSwgMHhFMV0pKSB7XG5cdFx0Ly8gRGV0ZWN0ZWQgTWljcm9zb2Z0IENvbXBvdW5kIEZpbGUgQmluYXJ5IEZpbGUgKE1TLUNGQikgRm9ybWF0LlxuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdjZmInLFxuXHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gtY2ZiJ1xuXHRcdH07XG5cdH1cblxuXHQvLyBJbmNyZWFzZSBzYW1wbGUgc2l6ZSBmcm9tIDEyIHRvIDI1Ni5cblx0YXdhaXQgdG9rZW5pemVyLnBlZWtCdWZmZXIoYnVmZmVyLCB7bGVuZ3RoOiBNYXRoLm1pbigyNTYsIHRva2VuaXplci5maWxlSW5mby5zaXplKSwgbWF5QmVMZXNzOiB0cnVlfSk7XG5cblx0Ly8gLS0gMTUtYnl0ZSBzaWduYXR1cmVzIC0tXG5cblx0aWYgKGNoZWNrU3RyaW5nKCdCRUdJTjonKSkge1xuXHRcdGlmIChjaGVja1N0cmluZygnVkNBUkQnLCB7b2Zmc2V0OiA2fSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ3ZjZicsXG5cdFx0XHRcdG1pbWU6ICd0ZXh0L3ZjYXJkJ1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAoY2hlY2tTdHJpbmcoJ1ZDQUxFTkRBUicsIHtvZmZzZXQ6IDZ9KSkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnaWNzJyxcblx0XHRcdFx0bWltZTogJ3RleHQvY2FsZW5kYXInXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXG5cdC8vIGByYWZgIGlzIGhlcmUganVzdCB0byBrZWVwIGFsbCB0aGUgcmF3IGltYWdlIGRldGVjdG9ycyB0b2dldGhlci5cblx0aWYgKGNoZWNrU3RyaW5nKCdGVUpJRklMTUNDRC1SQVcnKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdyYWYnLFxuXHRcdFx0bWltZTogJ2ltYWdlL3gtZnVqaWZpbG0tcmFmJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoY2hlY2tTdHJpbmcoJ0V4dGVuZGVkIE1vZHVsZTonKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICd4bScsXG5cdFx0XHRtaW1lOiAnYXVkaW8veC14bSdcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNoZWNrU3RyaW5nKCdDcmVhdGl2ZSBWb2ljZSBGaWxlJykpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAndm9jJyxcblx0XHRcdG1pbWU6ICdhdWRpby94LXZvYydcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNoZWNrKFsweDA0LCAweDAwLCAweDAwLCAweDAwXSkgJiYgYnVmZmVyLmxlbmd0aCA+PSAxNikgeyAvLyBSb3VnaCAmIHF1aWNrIGNoZWNrIFBpY2tsZS9BU0FSXG5cdFx0Y29uc3QganNvblNpemUgPSBidWZmZXIucmVhZFVJbnQzMkxFKDEyKTtcblx0XHRpZiAoanNvblNpemUgPiAxMiAmJiBidWZmZXIubGVuZ3RoID49IGpzb25TaXplICsgMTYpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IGhlYWRlciA9IGJ1ZmZlci5zbGljZSgxNiwganNvblNpemUgKyAxNikudG9TdHJpbmcoKTtcblx0XHRcdFx0Y29uc3QganNvbiA9IEpTT04ucGFyc2UoaGVhZGVyKTtcblx0XHRcdFx0Ly8gQ2hlY2sgaWYgUGlja2xlIGlzIEFTQVJcblx0XHRcdFx0aWYgKGpzb24uZmlsZXMpIHsgLy8gRmluYWwgY2hlY2ssIGFzc3VyaW5nIFBpY2tsZS9BU0FSIGZvcm1hdFxuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRleHQ6ICdhc2FyJyxcblx0XHRcdFx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LWFzYXInXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoXykge1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmIChjaGVjayhbMHgwNiwgMHgwRSwgMHgyQiwgMHgzNCwgMHgwMiwgMHgwNSwgMHgwMSwgMHgwMSwgMHgwRCwgMHgwMSwgMHgwMiwgMHgwMSwgMHgwMSwgMHgwMl0pKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ214ZicsXG5cdFx0XHRtaW1lOiAnYXBwbGljYXRpb24vbXhmJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoY2hlY2tTdHJpbmcoJ1NDUk0nLCB7b2Zmc2V0OiA0NH0pKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ3MzbScsXG5cdFx0XHRtaW1lOiAnYXVkaW8veC1zM20nXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVjayhbMHg0N10sIHtvZmZzZXQ6IDR9KSAmJiAoY2hlY2soWzB4NDddLCB7b2Zmc2V0OiAxOTJ9KSB8fCBjaGVjayhbMHg0N10sIHtvZmZzZXQ6IDE5Nn0pKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdtdHMnLFxuXHRcdFx0bWltZTogJ3ZpZGVvL21wMnQnXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVjayhbMHg0MiwgMHg0RiwgMHg0RiwgMHg0QiwgMHg0RCwgMHg0RiwgMHg0MiwgMHg0OV0sIHtvZmZzZXQ6IDYwfSkpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnbW9iaScsXG5cdFx0XHRtaW1lOiAnYXBwbGljYXRpb24veC1tb2JpcG9ja2V0LWVib29rJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoY2hlY2soWzB4NDQsIDB4NDksIDB4NDMsIDB4NERdLCB7b2Zmc2V0OiAxMjh9KSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdkY20nLFxuXHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL2RpY29tJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoY2hlY2soWzB4NEMsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsIDB4MTQsIDB4MDIsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4QzAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4NDZdKSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRleHQ6ICdsbmsnLFxuXHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gubXMuc2hvcnRjdXQnIC8vIEludmVudGVkIGJ5IHVzXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVjayhbMHg2MiwgMHg2RiwgMHg2RiwgMHg2QiwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHg2RCwgMHg2MSwgMHg3MiwgMHg2QiwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMF0pKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ2FsaWFzJyxcblx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LmFwcGxlLmFsaWFzJyAvLyBJbnZlbnRlZCBieSB1c1xuXHRcdH07XG5cdH1cblxuXHRpZiAoXG5cdFx0Y2hlY2soWzB4NEMsIDB4NTBdLCB7b2Zmc2V0OiAzNH0pICYmXG5cdFx0KFxuXHRcdFx0Y2hlY2soWzB4MDAsIDB4MDAsIDB4MDFdLCB7b2Zmc2V0OiA4fSkgfHxcblx0XHRcdGNoZWNrKFsweDAxLCAweDAwLCAweDAyXSwge29mZnNldDogOH0pIHx8XG5cdFx0XHRjaGVjayhbMHgwMiwgMHgwMCwgMHgwMl0sIHtvZmZzZXQ6IDh9KVxuXHRcdClcblx0KSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ2VvdCcsXG5cdFx0XHRtaW1lOiAnYXBwbGljYXRpb24vdm5kLm1zLWZvbnRvYmplY3QnXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjaGVjayhbMHgwNiwgMHgwNiwgMHhFRCwgMHhGNSwgMHhEOCwgMHgxRCwgMHg0NiwgMHhFNSwgMHhCRCwgMHgzMSwgMHhFRiwgMHhFNywgMHhGRSwgMHg3NCwgMHhCNywgMHgxRF0pKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ2luZGQnLFxuXHRcdFx0bWltZTogJ2FwcGxpY2F0aW9uL3gtaW5kZXNpZ24nXG5cdFx0fTtcblx0fVxuXG5cdC8vIEluY3JlYXNlIHNhbXBsZSBzaXplIGZyb20gMjU2IHRvIDUxMlxuXHRhd2FpdCB0b2tlbml6ZXIucGVla0J1ZmZlcihidWZmZXIsIHtsZW5ndGg6IE1hdGgubWluKDUxMiwgdG9rZW5pemVyLmZpbGVJbmZvLnNpemUpLCBtYXlCZUxlc3M6IHRydWV9KTtcblxuXHQvLyBSZXF1aXJlcyBhIGJ1ZmZlciBzaXplIG9mIDUxMiBieXRlc1xuXHRpZiAodGFySGVhZGVyQ2hlY2tzdW1NYXRjaGVzKGJ1ZmZlcikpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAndGFyJyxcblx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi94LXRhcidcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNoZWNrKFsweEZGLCAweEZFLCAweEZGLCAweDBFLCAweDUzLCAweDAwLCAweDZCLCAweDAwLCAweDY1LCAweDAwLCAweDc0LCAweDAwLCAweDYzLCAweDAwLCAweDY4LCAweDAwLCAweDU1LCAweDAwLCAweDcwLCAweDAwLCAweDIwLCAweDAwLCAweDRELCAweDAwLCAweDZGLCAweDAwLCAweDY0LCAweDAwLCAweDY1LCAweDAwLCAweDZDLCAweDAwXSkpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXh0OiAnc2twJyxcblx0XHRcdG1pbWU6ICdhcHBsaWNhdGlvbi92bmQuc2tldGNodXAuc2twJ1xuXHRcdH07XG5cdH1cblxuXHRpZiAoY2hlY2tTdHJpbmcoJy0tLS0tQkVHSU4gUEdQIE1FU1NBR0UtLS0tLScpKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGV4dDogJ3BncCcsXG5cdFx0XHRtaW1lOiAnYXBwbGljYXRpb24vcGdwLWVuY3J5cHRlZCdcblx0XHR9O1xuXHR9XG5cblx0Ly8gQ2hlY2sgTVBFRyAxIG9yIDIgTGF5ZXIgMyBoZWFkZXIsIG9yICdsYXllciAwJyBmb3IgQURUUyAoTVBFRyBzeW5jLXdvcmQgMHhGRkUpXG5cdGlmIChidWZmZXIubGVuZ3RoID49IDIgJiYgY2hlY2soWzB4RkYsIDB4RTBdLCB7b2Zmc2V0OiAwLCBtYXNrOiBbMHhGRiwgMHhFMF19KSkge1xuXHRcdGlmIChjaGVjayhbMHgxMF0sIHtvZmZzZXQ6IDEsIG1hc2s6IFsweDE2XX0pKSB7XG5cdFx0XHQvLyBDaGVjayBmb3IgKEFEVFMpIE1QRUctMlxuXHRcdFx0aWYgKGNoZWNrKFsweDA4XSwge29mZnNldDogMSwgbWFzazogWzB4MDhdfSkpIHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRleHQ6ICdhYWMnLFxuXHRcdFx0XHRcdG1pbWU6ICdhdWRpby9hYWMnXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdC8vIE11c3QgYmUgKEFEVFMpIE1QRUctNFxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZXh0OiAnYWFjJyxcblx0XHRcdFx0bWltZTogJ2F1ZGlvL2FhYydcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gTVBFRyAxIG9yIDIgTGF5ZXIgMyBoZWFkZXJcblx0XHQvLyBDaGVjayBmb3IgTVBFRyBsYXllciAzXG5cdFx0aWYgKGNoZWNrKFsweDAyXSwge29mZnNldDogMSwgbWFzazogWzB4MDZdfSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ21wMycsXG5cdFx0XHRcdG1pbWU6ICdhdWRpby9tcGVnJ1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBmb3IgTVBFRyBsYXllciAyXG5cdFx0aWYgKGNoZWNrKFsweDA0XSwge29mZnNldDogMSwgbWFzazogWzB4MDZdfSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ21wMicsXG5cdFx0XHRcdG1pbWU6ICdhdWRpby9tcGVnJ1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBmb3IgTVBFRyBsYXllciAxXG5cdFx0aWYgKGNoZWNrKFsweDA2XSwge29mZnNldDogMSwgbWFzazogWzB4MDZdfSkpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGV4dDogJ21wMScsXG5cdFx0XHRcdG1pbWU6ICdhdWRpby9tcGVnJ1xuXHRcdFx0fTtcblx0XHR9XG5cdH1cbn1cblxuY29uc3Qgc3RyZWFtID0gcmVhZGFibGVTdHJlYW0gPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHQvLyBVc2luZyBgZXZhbGAgdG8gd29yayBhcm91bmQgaXNzdWVzIHdoZW4gYnVuZGxpbmcgd2l0aCBXZWJwYWNrXG5cdGNvbnN0IHN0cmVhbSA9IGV2YWwoJ3JlcXVpcmUnKSgnc3RyZWFtJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXZhbFxuXG5cdHJlYWRhYmxlU3RyZWFtLm9uKCdlcnJvcicsIHJlamVjdCk7XG5cdHJlYWRhYmxlU3RyZWFtLm9uY2UoJ3JlYWRhYmxlJywgYXN5bmMgKCkgPT4ge1xuXHRcdC8vIFNldCB1cCBvdXRwdXQgc3RyZWFtXG5cdFx0Y29uc3QgcGFzcyA9IG5ldyBzdHJlYW0uUGFzc1Rocm91Z2goKTtcblx0XHRsZXQgb3V0cHV0U3RyZWFtO1xuXHRcdGlmIChzdHJlYW0ucGlwZWxpbmUpIHtcblx0XHRcdG91dHB1dFN0cmVhbSA9IHN0cmVhbS5waXBlbGluZShyZWFkYWJsZVN0cmVhbSwgcGFzcywgKCkgPT4ge1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG91dHB1dFN0cmVhbSA9IHJlYWRhYmxlU3RyZWFtLnBpcGUocGFzcyk7XG5cdFx0fVxuXG5cdFx0Ly8gUmVhZCB0aGUgaW5wdXQgc3RyZWFtIGFuZCBkZXRlY3QgdGhlIGZpbGV0eXBlXG5cdFx0Y29uc3QgY2h1bmsgPSByZWFkYWJsZVN0cmVhbS5yZWFkKG1pbmltdW1CeXRlcykgfHwgcmVhZGFibGVTdHJlYW0ucmVhZCgpIHx8IEJ1ZmZlci5hbGxvYygwKTtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgZmlsZVR5cGUgPSBhd2FpdCBmcm9tQnVmZmVyKGNodW5rKTtcblx0XHRcdHBhc3MuZmlsZVR5cGUgPSBmaWxlVHlwZTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHR9XG5cblx0XHRyZXNvbHZlKG91dHB1dFN0cmVhbSk7XG5cdH0pO1xufSk7XG5cbmNvbnN0IGZpbGVUeXBlID0ge1xuXHRmcm9tU3RyZWFtLFxuXHRmcm9tVG9rZW5pemVyLFxuXHRmcm9tQnVmZmVyLFxuXHRzdHJlYW1cbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShmaWxlVHlwZSwgJ2V4dGVuc2lvbnMnLCB7XG5cdGdldCgpIHtcblx0XHRyZXR1cm4gbmV3IFNldChzdXBwb3J0ZWQuZXh0ZW5zaW9ucyk7XG5cdH1cbn0pO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZmlsZVR5cGUsICdtaW1lVHlwZXMnLCB7XG5cdGdldCgpIHtcblx0XHRyZXR1cm4gbmV3IFNldChzdXBwb3J0ZWQubWltZVR5cGVzKTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZmlsZVR5cGU7XG4iLCIndXNlIHN0cmljdCc7XG5jb25zdCBzdHJ0b2szID0gcmVxdWlyZSgnc3RydG9rMycpO1xuY29uc3QgY29yZSA9IHJlcXVpcmUoJy4vY29yZScpO1xuXG5hc3luYyBmdW5jdGlvbiBmcm9tRmlsZShwYXRoKSB7XG5cdGNvbnN0IHRva2VuaXplciA9IGF3YWl0IHN0cnRvazMuZnJvbUZpbGUocGF0aCk7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGF3YWl0IGNvcmUuZnJvbVRva2VuaXplcih0b2tlbml6ZXIpO1xuXHR9IGZpbmFsbHkge1xuXHRcdGF3YWl0IHRva2VuaXplci5jbG9zZSgpO1xuXHR9XG59XG5cbmNvbnN0IGZpbGVUeXBlID0ge1xuXHRmcm9tRmlsZVxufTtcblxuT2JqZWN0LmFzc2lnbihmaWxlVHlwZSwgY29yZSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShmaWxlVHlwZSwgJ2V4dGVuc2lvbnMnLCB7XG5cdGdldCgpIHtcblx0XHRyZXR1cm4gY29yZS5leHRlbnNpb25zO1xuXHR9XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGZpbGVUeXBlLCAnbWltZVR5cGVzJywge1xuXHRnZXQoKSB7XG5cdFx0cmV0dXJuIGNvcmUubWltZVR5cGVzO1xuXHR9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmaWxlVHlwZTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdGV4dGVuc2lvbnM6IFtcblx0XHQnanBnJyxcblx0XHQncG5nJyxcblx0XHQnYXBuZycsXG5cdFx0J2dpZicsXG5cdFx0J3dlYnAnLFxuXHRcdCdmbGlmJyxcblx0XHQneGNmJyxcblx0XHQnY3IyJyxcblx0XHQnY3IzJyxcblx0XHQnb3JmJyxcblx0XHQnYXJ3Jyxcblx0XHQnZG5nJyxcblx0XHQnbmVmJyxcblx0XHQncncyJyxcblx0XHQncmFmJyxcblx0XHQndGlmJyxcblx0XHQnYm1wJyxcblx0XHQnaWNucycsXG5cdFx0J2p4cicsXG5cdFx0J3BzZCcsXG5cdFx0J2luZGQnLFxuXHRcdCd6aXAnLFxuXHRcdCd0YXInLFxuXHRcdCdyYXInLFxuXHRcdCdneicsXG5cdFx0J2J6MicsXG5cdFx0Jzd6Jyxcblx0XHQnZG1nJyxcblx0XHQnbXA0Jyxcblx0XHQnbWlkJyxcblx0XHQnbWt2Jyxcblx0XHQnd2VibScsXG5cdFx0J21vdicsXG5cdFx0J2F2aScsXG5cdFx0J21wZycsXG5cdFx0J21wMicsXG5cdFx0J21wMycsXG5cdFx0J200YScsXG5cdFx0J29nYScsXG5cdFx0J29nZycsXG5cdFx0J29ndicsXG5cdFx0J29wdXMnLFxuXHRcdCdmbGFjJyxcblx0XHQnd2F2Jyxcblx0XHQnc3B4Jyxcblx0XHQnYW1yJyxcblx0XHQncGRmJyxcblx0XHQnZXB1YicsXG5cdFx0J2V4ZScsXG5cdFx0J3N3ZicsXG5cdFx0J3J0ZicsXG5cdFx0J3dhc20nLFxuXHRcdCd3b2ZmJyxcblx0XHQnd29mZjInLFxuXHRcdCdlb3QnLFxuXHRcdCd0dGYnLFxuXHRcdCdvdGYnLFxuXHRcdCdpY28nLFxuXHRcdCdmbHYnLFxuXHRcdCdwcycsXG5cdFx0J3h6Jyxcblx0XHQnc3FsaXRlJyxcblx0XHQnbmVzJyxcblx0XHQnY3J4Jyxcblx0XHQneHBpJyxcblx0XHQnY2FiJyxcblx0XHQnZGViJyxcblx0XHQnYXInLFxuXHRcdCdycG0nLFxuXHRcdCdaJyxcblx0XHQnbHonLFxuXHRcdCdjZmInLFxuXHRcdCdteGYnLFxuXHRcdCdtdHMnLFxuXHRcdCdibGVuZCcsXG5cdFx0J2JwZycsXG5cdFx0J2RvY3gnLFxuXHRcdCdwcHR4Jyxcblx0XHQneGxzeCcsXG5cdFx0JzNncCcsXG5cdFx0JzNnMicsXG5cdFx0J2pwMicsXG5cdFx0J2pwbScsXG5cdFx0J2pweCcsXG5cdFx0J21qMicsXG5cdFx0J2FpZicsXG5cdFx0J3FjcCcsXG5cdFx0J29kdCcsXG5cdFx0J29kcycsXG5cdFx0J29kcCcsXG5cdFx0J3htbCcsXG5cdFx0J21vYmknLFxuXHRcdCdoZWljJyxcblx0XHQnY3VyJyxcblx0XHQna3R4Jyxcblx0XHQnYXBlJyxcblx0XHQnd3YnLFxuXHRcdCdkY20nLFxuXHRcdCdpY3MnLFxuXHRcdCdnbGInLFxuXHRcdCdwY2FwJyxcblx0XHQnZHNmJyxcblx0XHQnbG5rJyxcblx0XHQnYWxpYXMnLFxuXHRcdCd2b2MnLFxuXHRcdCdhYzMnLFxuXHRcdCdtNHYnLFxuXHRcdCdtNHAnLFxuXHRcdCdtNGInLFxuXHRcdCdmNHYnLFxuXHRcdCdmNHAnLFxuXHRcdCdmNGInLFxuXHRcdCdmNGEnLFxuXHRcdCdtaWUnLFxuXHRcdCdhc2YnLFxuXHRcdCdvZ20nLFxuXHRcdCdvZ3gnLFxuXHRcdCdtcGMnLFxuXHRcdCdhcnJvdycsXG5cdFx0J3NocCcsXG5cdFx0J2FhYycsXG5cdFx0J21wMScsXG5cdFx0J2l0Jyxcblx0XHQnczNtJyxcblx0XHQneG0nLFxuXHRcdCdhaScsXG5cdFx0J3NrcCcsXG5cdFx0J2F2aWYnLFxuXHRcdCdlcHMnLFxuXHRcdCdsemgnLFxuXHRcdCdwZ3AnLFxuXHRcdCdhc2FyJyxcblx0XHQnc3RsJyxcblx0XHQnY2htJyxcblx0XHQnM21mJyxcblx0XHQnenN0Jyxcblx0XHQnanhsJyxcblx0XHQndmNmJ1xuXHRdLFxuXHRtaW1lVHlwZXM6IFtcblx0XHQnaW1hZ2UvanBlZycsXG5cdFx0J2ltYWdlL3BuZycsXG5cdFx0J2ltYWdlL2dpZicsXG5cdFx0J2ltYWdlL3dlYnAnLFxuXHRcdCdpbWFnZS9mbGlmJyxcblx0XHQnaW1hZ2UveC14Y2YnLFxuXHRcdCdpbWFnZS94LWNhbm9uLWNyMicsXG5cdFx0J2ltYWdlL3gtY2Fub24tY3IzJyxcblx0XHQnaW1hZ2UvdGlmZicsXG5cdFx0J2ltYWdlL2JtcCcsXG5cdFx0J2ltYWdlL3ZuZC5tcy1waG90bycsXG5cdFx0J2ltYWdlL3ZuZC5hZG9iZS5waG90b3Nob3AnLFxuXHRcdCdhcHBsaWNhdGlvbi94LWluZGVzaWduJyxcblx0XHQnYXBwbGljYXRpb24vZXB1Yit6aXAnLFxuXHRcdCdhcHBsaWNhdGlvbi94LXhwaW5zdGFsbCcsXG5cdFx0J2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQudGV4dCcsXG5cdFx0J2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQuc3ByZWFkc2hlZXQnLFxuXHRcdCdhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnByZXNlbnRhdGlvbicsXG5cdFx0J2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50Jyxcblx0XHQnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnByZXNlbnRhdGlvbm1sLnByZXNlbnRhdGlvbicsXG5cdFx0J2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0Jyxcblx0XHQnYXBwbGljYXRpb24vemlwJyxcblx0XHQnYXBwbGljYXRpb24veC10YXInLFxuXHRcdCdhcHBsaWNhdGlvbi94LXJhci1jb21wcmVzc2VkJyxcblx0XHQnYXBwbGljYXRpb24vZ3ppcCcsXG5cdFx0J2FwcGxpY2F0aW9uL3gtYnppcDInLFxuXHRcdCdhcHBsaWNhdGlvbi94LTd6LWNvbXByZXNzZWQnLFxuXHRcdCdhcHBsaWNhdGlvbi94LWFwcGxlLWRpc2tpbWFnZScsXG5cdFx0J2FwcGxpY2F0aW9uL3gtYXBhY2hlLWFycm93Jyxcblx0XHQndmlkZW8vbXA0Jyxcblx0XHQnYXVkaW8vbWlkaScsXG5cdFx0J3ZpZGVvL3gtbWF0cm9za2EnLFxuXHRcdCd2aWRlby93ZWJtJyxcblx0XHQndmlkZW8vcXVpY2t0aW1lJyxcblx0XHQndmlkZW8vdm5kLmF2aScsXG5cdFx0J2F1ZGlvL3ZuZC53YXZlJyxcblx0XHQnYXVkaW8vcWNlbHAnLFxuXHRcdCdhdWRpby94LW1zLWFzZicsXG5cdFx0J3ZpZGVvL3gtbXMtYXNmJyxcblx0XHQnYXBwbGljYXRpb24vdm5kLm1zLWFzZicsXG5cdFx0J3ZpZGVvL21wZWcnLFxuXHRcdCd2aWRlby8zZ3BwJyxcblx0XHQnYXVkaW8vbXBlZycsXG5cdFx0J2F1ZGlvL21wNCcsIC8vIFJGQyA0MzM3XG5cdFx0J2F1ZGlvL29wdXMnLFxuXHRcdCd2aWRlby9vZ2cnLFxuXHRcdCdhdWRpby9vZ2cnLFxuXHRcdCdhcHBsaWNhdGlvbi9vZ2cnLFxuXHRcdCdhdWRpby94LWZsYWMnLFxuXHRcdCdhdWRpby9hcGUnLFxuXHRcdCdhdWRpby93YXZwYWNrJyxcblx0XHQnYXVkaW8vYW1yJyxcblx0XHQnYXBwbGljYXRpb24vcGRmJyxcblx0XHQnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyxcblx0XHQnYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2gnLFxuXHRcdCdhcHBsaWNhdGlvbi9ydGYnLFxuXHRcdCdhcHBsaWNhdGlvbi93YXNtJyxcblx0XHQnZm9udC93b2ZmJyxcblx0XHQnZm9udC93b2ZmMicsXG5cdFx0J2FwcGxpY2F0aW9uL3ZuZC5tcy1mb250b2JqZWN0Jyxcblx0XHQnZm9udC90dGYnLFxuXHRcdCdmb250L290ZicsXG5cdFx0J2ltYWdlL3gtaWNvbicsXG5cdFx0J3ZpZGVvL3gtZmx2Jyxcblx0XHQnYXBwbGljYXRpb24vcG9zdHNjcmlwdCcsXG5cdFx0J2FwcGxpY2F0aW9uL2VwcycsXG5cdFx0J2FwcGxpY2F0aW9uL3gteHonLFxuXHRcdCdhcHBsaWNhdGlvbi94LXNxbGl0ZTMnLFxuXHRcdCdhcHBsaWNhdGlvbi94LW5pbnRlbmRvLW5lcy1yb20nLFxuXHRcdCdhcHBsaWNhdGlvbi94LWdvb2dsZS1jaHJvbWUtZXh0ZW5zaW9uJyxcblx0XHQnYXBwbGljYXRpb24vdm5kLm1zLWNhYi1jb21wcmVzc2VkJyxcblx0XHQnYXBwbGljYXRpb24veC1kZWInLFxuXHRcdCdhcHBsaWNhdGlvbi94LXVuaXgtYXJjaGl2ZScsXG5cdFx0J2FwcGxpY2F0aW9uL3gtcnBtJyxcblx0XHQnYXBwbGljYXRpb24veC1jb21wcmVzcycsXG5cdFx0J2FwcGxpY2F0aW9uL3gtbHppcCcsXG5cdFx0J2FwcGxpY2F0aW9uL3gtY2ZiJyxcblx0XHQnYXBwbGljYXRpb24veC1taWUnLFxuXHRcdCdhcHBsaWNhdGlvbi9teGYnLFxuXHRcdCd2aWRlby9tcDJ0Jyxcblx0XHQnYXBwbGljYXRpb24veC1ibGVuZGVyJyxcblx0XHQnaW1hZ2UvYnBnJyxcblx0XHQnaW1hZ2UvanAyJyxcblx0XHQnaW1hZ2UvanB4Jyxcblx0XHQnaW1hZ2UvanBtJyxcblx0XHQnaW1hZ2UvbWoyJyxcblx0XHQnYXVkaW8vYWlmZicsXG5cdFx0J2FwcGxpY2F0aW9uL3htbCcsXG5cdFx0J2FwcGxpY2F0aW9uL3gtbW9iaXBvY2tldC1lYm9vaycsXG5cdFx0J2ltYWdlL2hlaWYnLFxuXHRcdCdpbWFnZS9oZWlmLXNlcXVlbmNlJyxcblx0XHQnaW1hZ2UvaGVpYycsXG5cdFx0J2ltYWdlL2hlaWMtc2VxdWVuY2UnLFxuXHRcdCdpbWFnZS9pY25zJyxcblx0XHQnaW1hZ2Uva3R4Jyxcblx0XHQnYXBwbGljYXRpb24vZGljb20nLFxuXHRcdCdhdWRpby94LW11c2VwYWNrJyxcblx0XHQndGV4dC9jYWxlbmRhcicsXG5cdFx0J3RleHQvdmNhcmQnLFxuXHRcdCdtb2RlbC9nbHRmLWJpbmFyeScsXG5cdFx0J2FwcGxpY2F0aW9uL3ZuZC50Y3BkdW1wLnBjYXAnLFxuXHRcdCdhdWRpby94LWRzZicsIC8vIE5vbi1zdGFuZGFyZFxuXHRcdCdhcHBsaWNhdGlvbi94Lm1zLnNob3J0Y3V0JywgLy8gSW52ZW50ZWQgYnkgdXNcblx0XHQnYXBwbGljYXRpb24veC5hcHBsZS5hbGlhcycsIC8vIEludmVudGVkIGJ5IHVzXG5cdFx0J2F1ZGlvL3gtdm9jJyxcblx0XHQnYXVkaW8vdm5kLmRvbGJ5LmRkLXJhdycsXG5cdFx0J2F1ZGlvL3gtbTRhJyxcblx0XHQnaW1hZ2UvYXBuZycsXG5cdFx0J2ltYWdlL3gtb2x5bXB1cy1vcmYnLFxuXHRcdCdpbWFnZS94LXNvbnktYXJ3Jyxcblx0XHQnaW1hZ2UveC1hZG9iZS1kbmcnLFxuXHRcdCdpbWFnZS94LW5pa29uLW5lZicsXG5cdFx0J2ltYWdlL3gtcGFuYXNvbmljLXJ3MicsXG5cdFx0J2ltYWdlL3gtZnVqaWZpbG0tcmFmJyxcblx0XHQndmlkZW8veC1tNHYnLFxuXHRcdCd2aWRlby8zZ3BwMicsXG5cdFx0J2FwcGxpY2F0aW9uL3gtZXNyaS1zaGFwZScsXG5cdFx0J2F1ZGlvL2FhYycsXG5cdFx0J2F1ZGlvL3gtaXQnLFxuXHRcdCdhdWRpby94LXMzbScsXG5cdFx0J2F1ZGlvL3gteG0nLFxuXHRcdCd2aWRlby9NUDFTJyxcblx0XHQndmlkZW8vTVAyUCcsXG5cdFx0J2FwcGxpY2F0aW9uL3ZuZC5za2V0Y2h1cC5za3AnLFxuXHRcdCdpbWFnZS9hdmlmJyxcblx0XHQnYXBwbGljYXRpb24veC1semgtY29tcHJlc3NlZCcsXG5cdFx0J2FwcGxpY2F0aW9uL3BncC1lbmNyeXB0ZWQnLFxuXHRcdCdhcHBsaWNhdGlvbi94LWFzYXInLFxuXHRcdCdtb2RlbC9zdGwnLFxuXHRcdCdhcHBsaWNhdGlvbi92bmQubXMtaHRtbGhlbHAnLFxuXHRcdCdtb2RlbC8zbWYnLFxuXHRcdCdpbWFnZS9qeGwnLFxuXHRcdCdhcHBsaWNhdGlvbi96c3RkJ1xuXHRdXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLnN0cmluZ1RvQnl0ZXMgPSBzdHJpbmcgPT4gWy4uLnN0cmluZ10ubWFwKGNoYXJhY3RlciA9PiBjaGFyYWN0ZXIuY2hhckNvZGVBdCgwKSk7XG5cbi8qKlxuQ2hlY2tzIHdoZXRoZXIgdGhlIFRBUiBjaGVja3N1bSBpcyB2YWxpZC5cblxuQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciAtIFRoZSBUQVIgaGVhZGVyIGBbb2Zmc2V0IC4uLiBvZmZzZXQgKyA1MTJdYC5cbkBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBUQVIgaGVhZGVyIG9mZnNldC5cbkByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFRBUiBjaGVja3N1bSBpcyB2YWxpZCwgb3RoZXJ3aXNlIGBmYWxzZWAuXG4qL1xuZXhwb3J0cy50YXJIZWFkZXJDaGVja3N1bU1hdGNoZXMgPSAoYnVmZmVyLCBvZmZzZXQgPSAwKSA9PiB7XG5cdGNvbnN0IHJlYWRTdW0gPSBwYXJzZUludChidWZmZXIudG9TdHJpbmcoJ3V0ZjgnLCAxNDgsIDE1NCkucmVwbGFjZSgvXFwwLiokLywgJycpLnRyaW0oKSwgOCk7IC8vIFJlYWQgc3VtIGluIGhlYWRlclxuXHRpZiAoaXNOYU4ocmVhZFN1bSkpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRsZXQgc3VtID0gOCAqIDB4MjA7IC8vIEluaXRpYWxpemUgc2lnbmVkIGJpdCBzdW1cblxuXHRmb3IgKGxldCBpID0gb2Zmc2V0OyBpIDwgb2Zmc2V0ICsgMTQ4OyBpKyspIHtcblx0XHRzdW0gKz0gYnVmZmVyW2ldO1xuXHR9XG5cblx0Zm9yIChsZXQgaSA9IG9mZnNldCArIDE1NjsgaSA8IG9mZnNldCArIDUxMjsgaSsrKSB7XG5cdFx0c3VtICs9IGJ1ZmZlcltpXTtcblx0fVxuXG5cdHJldHVybiByZWFkU3VtID09PSBzdW07XG59O1xuXG4vKipcbklEMyBVSU5UMzIgc3luYy1zYWZlIHRva2VuaXplciB0b2tlbi5cbjI4IGJpdHMgKHJlcHJlc2VudGluZyB1cCB0byAyNTZNQikgaW50ZWdlciwgdGhlIG1zYiBpcyAwIHRvIGF2b2lkIFwiZmFsc2Ugc3luY3NpZ25hbHNcIi5cbiovXG5leHBvcnRzLnVpbnQzMlN5bmNTYWZlVG9rZW4gPSB7XG5cdGdldDogKGJ1ZmZlciwgb2Zmc2V0KSA9PiB7XG5cdFx0cmV0dXJuIChidWZmZXJbb2Zmc2V0ICsgM10gJiAweDdGKSB8ICgoYnVmZmVyW29mZnNldCArIDJdKSA8PCA3KSB8ICgoYnVmZmVyW29mZnNldCArIDFdKSA8PCAxNCkgfCAoKGJ1ZmZlcltvZmZzZXRdKSA8PCAyMSk7XG5cdH0sXG5cdGxlbjogNFxufTtcbiIsIi8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovXG5leHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IChlICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IChtICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKCh2YWx1ZSAqIGMpIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG4iLCIvKipcbiAqIEhlbHBlcnMuXG4gKi9cblxudmFyIHMgPSAxMDAwO1xudmFyIG0gPSBzICogNjA7XG52YXIgaCA9IG0gKiA2MDtcbnZhciBkID0gaCAqIDI0O1xudmFyIHcgPSBkICogNztcbnZhciB5ID0gZCAqIDM2NS4yNTtcblxuLyoqXG4gKiBQYXJzZSBvciBmb3JtYXQgdGhlIGdpdmVuIGB2YWxgLlxuICpcbiAqIE9wdGlvbnM6XG4gKlxuICogIC0gYGxvbmdgIHZlcmJvc2UgZm9ybWF0dGluZyBbZmFsc2VdXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSB2YWxcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEB0aHJvd3Mge0Vycm9yfSB0aHJvdyBhbiBlcnJvciBpZiB2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIG51bWJlclxuICogQHJldHVybiB7U3RyaW5nfE51bWJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbCkpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArXG4gICAgICBKU09OLnN0cmluZ2lmeSh2YWwpXG4gICk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtYXRjaCA9IC9eKC0/KD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhcbiAgICBzdHJcbiAgKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd5ZWFycyc6XG4gICAgY2FzZSAneWVhcic6XG4gICAgY2FzZSAneXJzJzpcbiAgICBjYXNlICd5cic6XG4gICAgY2FzZSAneSc6XG4gICAgICByZXR1cm4gbiAqIHk7XG4gICAgY2FzZSAnd2Vla3MnOlxuICAgIGNhc2UgJ3dlZWsnOlxuICAgIGNhc2UgJ3cnOlxuICAgICAgcmV0dXJuIG4gKiB3O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncyc7XG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBkLCAnZGF5Jyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgaCwgJ2hvdXInKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBtLCAnbWludXRlJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgcywgJ3NlY29uZCcpO1xuICB9XG4gIHJldHVybiBtcyArICcgbXMnO1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbXNBYnMsIG4sIG5hbWUpIHtcbiAgdmFyIGlzUGx1cmFsID0gbXNBYnMgPj0gbiAqIDEuNTtcbiAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBuKSArICcgJyArIG5hbWUgKyAoaXNQbHVyYWwgPyAncycgOiAnJyk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHZhbGlkRGF0YVVybCA9IHJlcXVpcmUoJ3ZhbGlkLWRhdGEtdXJsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKHMpID0+IHtcbiAgaWYgKCF2YWxpZERhdGFVcmwocykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBwYXJ0cyA9IHMudHJpbSgpLm1hdGNoKHZhbGlkRGF0YVVybC5yZWdleCk7XG4gIGNvbnN0IHBhcnNlZCA9IHt9O1xuXG4gIGlmIChwYXJ0c1sxXSkge1xuICAgIHBhcnNlZC5tZWRpYVR5cGUgPSBwYXJ0c1sxXS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgY29uc3QgbWVkaWFUeXBlUGFydHMgPSBwYXJ0c1sxXS5zcGxpdCgnOycpLm1hcCh4ID0+IHgudG9Mb3dlckNhc2UoKSk7XG5cbiAgICBwYXJzZWQuY29udGVudFR5cGUgPSBtZWRpYVR5cGVQYXJ0c1swXTtcblxuICAgIG1lZGlhVHlwZVBhcnRzLnNsaWNlKDEpLmZvckVhY2goKGF0dHJpYnV0ZSkgPT4ge1xuICAgICAgY29uc3QgcCA9IGF0dHJpYnV0ZS5zcGxpdCgnPScpO1xuICAgICAgcGFyc2VkW3BbMF1dID0gcFsxXTtcbiAgICB9KTtcbiAgfVxuXG4gIHBhcnNlZC5iYXNlNjQgPSAhIXBhcnRzW3BhcnRzLmxlbmd0aCAtIDJdO1xuICBwYXJzZWQuZGF0YSA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdIHx8ICcnO1xuXG4gIHBhcnNlZC50b0J1ZmZlciA9ICgpID0+IHtcbiAgICBjb25zdCBlbmNvZGluZyA9IHBhcnNlZC5iYXNlNjQgPyAnYmFzZTY0JyA6ICd1dGY4JztcblxuICAgIHJldHVybiBCdWZmZXIuZnJvbShwYXJzZWQuYmFzZTY0ID8gcGFyc2VkLmRhdGEgOiBkZWNvZGVVUklDb21wb25lbnQocGFyc2VkLmRhdGEpLCBlbmNvZGluZyk7XG4gIH07XG5cbiAgcmV0dXJuIHBhcnNlZDtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLkRlZmVycmVkID0gdm9pZCAwO1xyXG5jbGFzcyBEZWZlcnJlZCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnJlc29sdmUgPSAoKSA9PiBudWxsO1xyXG4gICAgICAgIHRoaXMucmVqZWN0ID0gKCkgPT4gbnVsbDtcclxuICAgICAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVqZWN0ID0gcmVqZWN0O1xyXG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuRGVmZXJyZWQgPSBEZWZlcnJlZDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5FbmRPZlN0cmVhbUVycm9yID0gZXhwb3J0cy5kZWZhdWx0TWVzc2FnZXMgPSB2b2lkIDA7XHJcbmV4cG9ydHMuZGVmYXVsdE1lc3NhZ2VzID0gJ0VuZC1PZi1TdHJlYW0nO1xyXG4vKipcclxuICogVGhyb3duIG9uIHJlYWQgb3BlcmF0aW9uIG9mIHRoZSBlbmQgb2YgZmlsZSBvciBzdHJlYW0gaGFzIGJlZW4gcmVhY2hlZFxyXG4gKi9cclxuY2xhc3MgRW5kT2ZTdHJlYW1FcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKGV4cG9ydHMuZGVmYXVsdE1lc3NhZ2VzKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkVuZE9mU3RyZWFtRXJyb3IgPSBFbmRPZlN0cmVhbUVycm9yO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLlN0cmVhbVJlYWRlciA9IGV4cG9ydHMuRW5kT2ZTdHJlYW1FcnJvciA9IHZvaWQgMDtcclxuY29uc3QgRW5kT2ZGaWxlU3RyZWFtXzEgPSByZXF1aXJlKFwiLi9FbmRPZkZpbGVTdHJlYW1cIik7XHJcbmNvbnN0IERlZmVycmVkXzEgPSByZXF1aXJlKFwiLi9EZWZlcnJlZFwiKTtcclxudmFyIEVuZE9mRmlsZVN0cmVhbV8yID0gcmVxdWlyZShcIi4vRW5kT2ZGaWxlU3RyZWFtXCIpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJFbmRPZlN0cmVhbUVycm9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBFbmRPZkZpbGVTdHJlYW1fMi5FbmRPZlN0cmVhbUVycm9yOyB9IH0pO1xyXG5jb25zdCBtYXhTdHJlYW1SZWFkU2l6ZSA9IDEgKiAxMDI0ICogMTAyNDsgLy8gTWF4aW11bSByZXF1ZXN0IGxlbmd0aCBvbiByZWFkLXN0cmVhbSBvcGVyYXRpb25cclxuY2xhc3MgU3RyZWFtUmVhZGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKHMpIHtcclxuICAgICAgICB0aGlzLnMgPSBzO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERlZmVycmVkIHVzZWQgZm9yIHBvc3Rwb25lZCByZWFkIHJlcXVlc3QgKGFzIG5vdCBkYXRhIGlzIHlldCBhdmFpbGFibGUgdG8gcmVhZClcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmRlZmVycmVkID0gbnVsbDtcclxuICAgICAgICB0aGlzLmVuZE9mU3RyZWFtID0gZmFsc2U7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU3RvcmUgcGVla2VkIGRhdGFcclxuICAgICAgICAgKiBAdHlwZSB7QXJyYXl9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5wZWVrUXVldWUgPSBbXTtcclxuICAgICAgICBpZiAoIXMucmVhZCB8fCAhcy5vbmNlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2Ygc3RyZWFtLlJlYWRhYmxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucy5vbmNlKCdlbmQnLCAoKSA9PiB0aGlzLnJlamVjdChuZXcgRW5kT2ZGaWxlU3RyZWFtXzEuRW5kT2ZTdHJlYW1FcnJvcigpKSk7XHJcbiAgICAgICAgdGhpcy5zLm9uY2UoJ2Vycm9yJywgZXJyID0+IHRoaXMucmVqZWN0KGVycikpO1xyXG4gICAgICAgIHRoaXMucy5vbmNlKCdjbG9zZScsICgpID0+IHRoaXMucmVqZWN0KG5ldyBFcnJvcignU3RyZWFtIGNsb3NlZCcpKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlYWQgYWhlYWQgKHBlZWspIGZyb20gc3RyZWFtLiBTdWJzZXF1ZW50IHJlYWQgb3IgcGVla3Mgd2lsbCByZXR1cm4gdGhlIHNhbWUgZGF0YVxyXG4gICAgICogQHBhcmFtIHVpbnQ4QXJyYXkgLSBVaW50OEFycmF5IChvciBCdWZmZXIpIHRvIHN0b3JlIGRhdGEgcmVhZCBmcm9tIHN0cmVhbSBpblxyXG4gICAgICogQHBhcmFtIG9mZnNldCAtIE9mZnNldCB0YXJnZXRcclxuICAgICAqIEBwYXJhbSBsZW5ndGggLSBOdW1iZXIgb2YgYnl0ZXMgdG8gcmVhZFxyXG4gICAgICogQHJldHVybnMgTnVtYmVyIG9mIGJ5dGVzIHBlZWtlZFxyXG4gICAgICovXHJcbiAgICBhc3luYyBwZWVrKHVpbnQ4QXJyYXksIG9mZnNldCwgbGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgYnl0ZXNSZWFkID0gYXdhaXQgdGhpcy5yZWFkKHVpbnQ4QXJyYXksIG9mZnNldCwgbGVuZ3RoKTtcclxuICAgICAgICB0aGlzLnBlZWtRdWV1ZS5wdXNoKHVpbnQ4QXJyYXkuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyBieXRlc1JlYWQpKTsgLy8gUHV0IHJlYWQgZGF0YSBiYWNrIHRvIHBlZWsgYnVmZmVyXHJcbiAgICAgICAgcmV0dXJuIGJ5dGVzUmVhZDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVhZCBjaHVuayBmcm9tIHN0cmVhbVxyXG4gICAgICogQHBhcmFtIGJ1ZmZlciAtIFRhcmdldCBVaW50OEFycmF5IChvciBCdWZmZXIpIHRvIHN0b3JlIGRhdGEgcmVhZCBmcm9tIHN0cmVhbSBpblxyXG4gICAgICogQHBhcmFtIG9mZnNldCAtIE9mZnNldCB0YXJnZXRcclxuICAgICAqIEBwYXJhbSBsZW5ndGggLSBOdW1iZXIgb2YgYnl0ZXMgdG8gcmVhZFxyXG4gICAgICogQHJldHVybnMgTnVtYmVyIG9mIGJ5dGVzIHJlYWRcclxuICAgICAqL1xyXG4gICAgYXN5bmMgcmVhZChidWZmZXIsIG9mZnNldCwgbGVuZ3RoKSB7XHJcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucGVla1F1ZXVlLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmVuZE9mU3RyZWFtKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFbmRPZkZpbGVTdHJlYW1fMS5FbmRPZlN0cmVhbUVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByZW1haW5pbmcgPSBsZW5ndGg7XHJcbiAgICAgICAgbGV0IGJ5dGVzUmVhZCA9IDA7XHJcbiAgICAgICAgLy8gY29uc3VtZSBwZWVrZWQgZGF0YSBmaXJzdFxyXG4gICAgICAgIHdoaWxlICh0aGlzLnBlZWtRdWV1ZS5sZW5ndGggPiAwICYmIHJlbWFpbmluZyA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgcGVla0RhdGEgPSB0aGlzLnBlZWtRdWV1ZS5wb3AoKTsgLy8gRnJvbnQgb2YgcXVldWVcclxuICAgICAgICAgICAgaWYgKCFwZWVrRGF0YSlcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGVla0RhdGEgc2hvdWxkIGJlIGRlZmluZWQnKTtcclxuICAgICAgICAgICAgY29uc3QgbGVuQ29weSA9IE1hdGgubWluKHBlZWtEYXRhLmxlbmd0aCwgcmVtYWluaW5nKTtcclxuICAgICAgICAgICAgYnVmZmVyLnNldChwZWVrRGF0YS5zdWJhcnJheSgwLCBsZW5Db3B5KSwgb2Zmc2V0ICsgYnl0ZXNSZWFkKTtcclxuICAgICAgICAgICAgYnl0ZXNSZWFkICs9IGxlbkNvcHk7XHJcbiAgICAgICAgICAgIHJlbWFpbmluZyAtPSBsZW5Db3B5O1xyXG4gICAgICAgICAgICBpZiAobGVuQ29weSA8IHBlZWtEYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgLy8gcmVtYWluZGVyIGJhY2sgdG8gcXVldWVcclxuICAgICAgICAgICAgICAgIHRoaXMucGVla1F1ZXVlLnB1c2gocGVla0RhdGEuc3ViYXJyYXkobGVuQ29weSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbnRpbnVlIHJlYWRpbmcgZnJvbSBzdHJlYW0gaWYgcmVxdWlyZWRcclxuICAgICAgICB3aGlsZSAocmVtYWluaW5nID4gMCAmJiAhdGhpcy5lbmRPZlN0cmVhbSkge1xyXG4gICAgICAgICAgICBjb25zdCByZXFMZW4gPSBNYXRoLm1pbihyZW1haW5pbmcsIG1heFN0cmVhbVJlYWRTaXplKTtcclxuICAgICAgICAgICAgY29uc3QgY2h1bmtMZW4gPSBhd2FpdCB0aGlzLnJlYWRGcm9tU3RyZWFtKGJ1ZmZlciwgb2Zmc2V0ICsgYnl0ZXNSZWFkLCByZXFMZW4pO1xyXG4gICAgICAgICAgICBieXRlc1JlYWQgKz0gY2h1bmtMZW47XHJcbiAgICAgICAgICAgIGlmIChjaHVua0xlbiA8IHJlcUxlbilcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICByZW1haW5pbmcgLT0gY2h1bmtMZW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBieXRlc1JlYWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlYWQgY2h1bmsgZnJvbSBzdHJlYW1cclxuICAgICAqIEBwYXJhbSBidWZmZXIgVGFyZ2V0IFVpbnQ4QXJyYXkgKG9yIEJ1ZmZlcikgdG8gc3RvcmUgZGF0YSByZWFkIGZyb20gc3RyZWFtIGluXHJcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IE9mZnNldCB0YXJnZXRcclxuICAgICAqIEBwYXJhbSBsZW5ndGggTnVtYmVyIG9mIGJ5dGVzIHRvIHJlYWRcclxuICAgICAqIEByZXR1cm5zIE51bWJlciBvZiBieXRlcyByZWFkXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHJlYWRGcm9tU3RyZWFtKGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgpIHtcclxuICAgICAgICBjb25zdCByZWFkQnVmZmVyID0gdGhpcy5zLnJlYWQobGVuZ3RoKTtcclxuICAgICAgICBpZiAocmVhZEJ1ZmZlcikge1xyXG4gICAgICAgICAgICBidWZmZXIuc2V0KHJlYWRCdWZmZXIsIG9mZnNldCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZWFkQnVmZmVyLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIsXHJcbiAgICAgICAgICAgICAgICBvZmZzZXQsXHJcbiAgICAgICAgICAgICAgICBsZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBkZWZlcnJlZDogbmV3IERlZmVycmVkXzEuRGVmZXJyZWQoKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmRlZmVycmVkID0gcmVxdWVzdC5kZWZlcnJlZDtcclxuICAgICAgICAgICAgdGhpcy5zLm9uY2UoJ3JlYWRhYmxlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFkRGVmZXJyZWQocmVxdWVzdCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdC5kZWZlcnJlZC5wcm9taXNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUHJvY2VzcyBkZWZlcnJlZCByZWFkIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0IERlZmVycmVkIHJlYWQgcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICByZWFkRGVmZXJyZWQocmVxdWVzdCkge1xyXG4gICAgICAgIGNvbnN0IHJlYWRCdWZmZXIgPSB0aGlzLnMucmVhZChyZXF1ZXN0Lmxlbmd0aCk7XHJcbiAgICAgICAgaWYgKHJlYWRCdWZmZXIpIHtcclxuICAgICAgICAgICAgcmVxdWVzdC5idWZmZXIuc2V0KHJlYWRCdWZmZXIsIHJlcXVlc3Qub2Zmc2V0KTtcclxuICAgICAgICAgICAgcmVxdWVzdC5kZWZlcnJlZC5yZXNvbHZlKHJlYWRCdWZmZXIubGVuZ3RoKTtcclxuICAgICAgICAgICAgdGhpcy5kZWZlcnJlZCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnMub25jZSgncmVhZGFibGUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWREZWZlcnJlZChyZXF1ZXN0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVqZWN0KGVycikge1xyXG4gICAgICAgIHRoaXMuZW5kT2ZTdHJlYW0gPSB0cnVlO1xyXG4gICAgICAgIGlmICh0aGlzLmRlZmVycmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVmZXJyZWQucmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgIHRoaXMuZGVmZXJyZWQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLlN0cmVhbVJlYWRlciA9IFN0cmVhbVJlYWRlcjtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5TdHJlYW1SZWFkZXIgPSBleHBvcnRzLkVuZE9mU3RyZWFtRXJyb3IgPSB2b2lkIDA7XHJcbnZhciBFbmRPZkZpbGVTdHJlYW1fMSA9IHJlcXVpcmUoXCIuL0VuZE9mRmlsZVN0cmVhbVwiKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiRW5kT2ZTdHJlYW1FcnJvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gRW5kT2ZGaWxlU3RyZWFtXzEuRW5kT2ZTdHJlYW1FcnJvcjsgfSB9KTtcclxudmFyIFN0cmVhbVJlYWRlcl8xID0gcmVxdWlyZShcIi4vU3RyZWFtUmVhZGVyXCIpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTdHJlYW1SZWFkZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFN0cmVhbVJlYWRlcl8xLlN0cmVhbVJlYWRlcjsgfSB9KTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5BYnN0cmFjdFRva2VuaXplciA9IHZvaWQgMDtcclxuY29uc3QgcGVla19yZWFkYWJsZV8xID0gcmVxdWlyZShcInBlZWstcmVhZGFibGVcIik7XHJcbi8qKlxyXG4gKiBDb3JlIHRva2VuaXplclxyXG4gKi9cclxuY2xhc3MgQWJzdHJhY3RUb2tlbml6ZXIge1xyXG4gICAgY29uc3RydWN0b3IoZmlsZUluZm8pIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUb2tlbml6ZXItc3RyZWFtIHBvc2l0aW9uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IDA7XHJcbiAgICAgICAgdGhpcy5udW1CdWZmZXIgPSBuZXcgVWludDhBcnJheSg4KTtcclxuICAgICAgICB0aGlzLmZpbGVJbmZvID0gZmlsZUluZm8gPyBmaWxlSW5mbyA6IHt9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWFkIGEgdG9rZW4gZnJvbSB0aGUgdG9rZW5pemVyLXN0cmVhbVxyXG4gICAgICogQHBhcmFtIHRva2VuIC0gVGhlIHRva2VuIHRvIHJlYWRcclxuICAgICAqIEBwYXJhbSBwb3NpdGlvbiAtIElmIHByb3ZpZGVkLCB0aGUgZGVzaXJlZCBwb3NpdGlvbiBpbiB0aGUgdG9rZW5pemVyLXN0cmVhbVxyXG4gICAgICogQHJldHVybnMgUHJvbWlzZSB3aXRoIHRva2VuIGRhdGFcclxuICAgICAqL1xyXG4gICAgYXN5bmMgcmVhZFRva2VuKHRva2VuLCBwb3NpdGlvbiA9IHRoaXMucG9zaXRpb24pIHtcclxuICAgICAgICBjb25zdCB1aW50OEFycmF5ID0gQnVmZmVyLmFsbG9jKHRva2VuLmxlbik7XHJcbiAgICAgICAgY29uc3QgbGVuID0gYXdhaXQgdGhpcy5yZWFkQnVmZmVyKHVpbnQ4QXJyYXksIHsgcG9zaXRpb24gfSk7XHJcbiAgICAgICAgaWYgKGxlbiA8IHRva2VuLmxlbilcclxuICAgICAgICAgICAgdGhyb3cgbmV3IHBlZWtfcmVhZGFibGVfMS5FbmRPZlN0cmVhbUVycm9yKCk7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuLmdldCh1aW50OEFycmF5LCAwKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUGVlayBhIHRva2VuIGZyb20gdGhlIHRva2VuaXplci1zdHJlYW0uXHJcbiAgICAgKiBAcGFyYW0gdG9rZW4gLSBUb2tlbiB0byBwZWVrIGZyb20gdGhlIHRva2VuaXplci1zdHJlYW0uXHJcbiAgICAgKiBAcGFyYW0gcG9zaXRpb24gLSBPZmZzZXQgd2hlcmUgdG8gYmVnaW4gcmVhZGluZyB3aXRoaW4gdGhlIGZpbGUuIElmIHBvc2l0aW9uIGlzIG51bGwsIGRhdGEgd2lsbCBiZSByZWFkIGZyb20gdGhlIGN1cnJlbnQgZmlsZSBwb3NpdGlvbi5cclxuICAgICAqIEByZXR1cm5zIFByb21pc2Ugd2l0aCB0b2tlbiBkYXRhXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHBlZWtUb2tlbih0b2tlbiwgcG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgdWludDhBcnJheSA9IEJ1ZmZlci5hbGxvYyh0b2tlbi5sZW4pO1xyXG4gICAgICAgIGNvbnN0IGxlbiA9IGF3YWl0IHRoaXMucGVla0J1ZmZlcih1aW50OEFycmF5LCB7IHBvc2l0aW9uIH0pO1xyXG4gICAgICAgIGlmIChsZW4gPCB0b2tlbi5sZW4pXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBwZWVrX3JlYWRhYmxlXzEuRW5kT2ZTdHJlYW1FcnJvcigpO1xyXG4gICAgICAgIHJldHVybiB0b2tlbi5nZXQodWludDhBcnJheSwgMCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlYWQgYSBudW1lcmljIHRva2VuIGZyb20gdGhlIHN0cmVhbVxyXG4gICAgICogQHBhcmFtIHRva2VuIC0gTnVtZXJpYyB0b2tlblxyXG4gICAgICogQHJldHVybnMgUHJvbWlzZSB3aXRoIG51bWJlclxyXG4gICAgICovXHJcbiAgICBhc3luYyByZWFkTnVtYmVyKHRva2VuKSB7XHJcbiAgICAgICAgY29uc3QgbGVuID0gYXdhaXQgdGhpcy5yZWFkQnVmZmVyKHRoaXMubnVtQnVmZmVyLCB7IGxlbmd0aDogdG9rZW4ubGVuIH0pO1xyXG4gICAgICAgIGlmIChsZW4gPCB0b2tlbi5sZW4pXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBwZWVrX3JlYWRhYmxlXzEuRW5kT2ZTdHJlYW1FcnJvcigpO1xyXG4gICAgICAgIHJldHVybiB0b2tlbi5nZXQodGhpcy5udW1CdWZmZXIsIDApO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWFkIGEgbnVtZXJpYyB0b2tlbiBmcm9tIHRoZSBzdHJlYW1cclxuICAgICAqIEBwYXJhbSB0b2tlbiAtIE51bWVyaWMgdG9rZW5cclxuICAgICAqIEByZXR1cm5zIFByb21pc2Ugd2l0aCBudW1iZXJcclxuICAgICAqL1xyXG4gICAgYXN5bmMgcGVla051bWJlcih0b2tlbikge1xyXG4gICAgICAgIGNvbnN0IGxlbiA9IGF3YWl0IHRoaXMucGVla0J1ZmZlcih0aGlzLm51bUJ1ZmZlciwgeyBsZW5ndGg6IHRva2VuLmxlbiB9KTtcclxuICAgICAgICBpZiAobGVuIDwgdG9rZW4ubGVuKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgcGVla19yZWFkYWJsZV8xLkVuZE9mU3RyZWFtRXJyb3IoKTtcclxuICAgICAgICByZXR1cm4gdG9rZW4uZ2V0KHRoaXMubnVtQnVmZmVyLCAwKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSWdub3JlIG51bWJlciBvZiBieXRlcywgYWR2YW5jZXMgdGhlIHBvaW50ZXIgaW4gdW5kZXIgdG9rZW5pemVyLXN0cmVhbS5cclxuICAgICAqIEBwYXJhbSBsZW5ndGggLSBOdW1iZXIgb2YgYnl0ZXMgdG8gaWdub3JlXHJcbiAgICAgKiBAcmV0dXJuIHJlc29sdmVzIHRoZSBudW1iZXIgb2YgYnl0ZXMgaWdub3JlZCwgZXF1YWxzIGxlbmd0aCBpZiB0aGlzIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIHRoZSBudW1iZXIgb2YgYnl0ZXMgYXZhaWxhYmxlXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGlnbm9yZShsZW5ndGgpIHtcclxuICAgICAgICBpZiAodGhpcy5maWxlSW5mby5zaXplICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZXNMZWZ0ID0gdGhpcy5maWxlSW5mby5zaXplIC0gdGhpcy5wb3NpdGlvbjtcclxuICAgICAgICAgICAgaWYgKGxlbmd0aCA+IGJ5dGVzTGVmdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiArPSBieXRlc0xlZnQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYnl0ZXNMZWZ0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucG9zaXRpb24gKz0gbGVuZ3RoO1xyXG4gICAgICAgIHJldHVybiBsZW5ndGg7XHJcbiAgICB9XHJcbiAgICBhc3luYyBjbG9zZSgpIHtcclxuICAgICAgICAvLyBlbXB0eVxyXG4gICAgfVxyXG4gICAgbm9ybWFsaXplT3B0aW9ucyh1aW50OEFycmF5LCBvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5wb3NpdGlvbiAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMucG9zaXRpb24gPCB0aGlzLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYG9wdGlvbnMucG9zaXRpb25gIG11c3QgYmUgZXF1YWwgb3IgZ3JlYXRlciB0aGFuIGB0b2tlbml6ZXIucG9zaXRpb25gJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBtYXlCZUxlc3M6IG9wdGlvbnMubWF5QmVMZXNzID09PSB0cnVlLFxyXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBvcHRpb25zLm9mZnNldCA/IG9wdGlvbnMub2Zmc2V0IDogMCxcclxuICAgICAgICAgICAgICAgIGxlbmd0aDogb3B0aW9ucy5sZW5ndGggPyBvcHRpb25zLmxlbmd0aCA6ICh1aW50OEFycmF5Lmxlbmd0aCAtIChvcHRpb25zLm9mZnNldCA/IG9wdGlvbnMub2Zmc2V0IDogMCkpLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG9wdGlvbnMucG9zaXRpb24gPyBvcHRpb25zLnBvc2l0aW9uIDogdGhpcy5wb3NpdGlvblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBtYXlCZUxlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBvZmZzZXQ6IDAsXHJcbiAgICAgICAgICAgIGxlbmd0aDogdWludDhBcnJheS5sZW5ndGgsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLnBvc2l0aW9uXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkFic3RyYWN0VG9rZW5pemVyID0gQWJzdHJhY3RUb2tlbml6ZXI7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuQnVmZmVyVG9rZW5pemVyID0gdm9pZCAwO1xyXG5jb25zdCBwZWVrX3JlYWRhYmxlXzEgPSByZXF1aXJlKFwicGVlay1yZWFkYWJsZVwiKTtcclxuY29uc3QgQWJzdHJhY3RUb2tlbml6ZXJfMSA9IHJlcXVpcmUoXCIuL0Fic3RyYWN0VG9rZW5pemVyXCIpO1xyXG5jbGFzcyBCdWZmZXJUb2tlbml6ZXIgZXh0ZW5kcyBBYnN0cmFjdFRva2VuaXplcl8xLkFic3RyYWN0VG9rZW5pemVyIHtcclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0IEJ1ZmZlclRva2VuaXplclxyXG4gICAgICogQHBhcmFtIHVpbnQ4QXJyYXkgLSBVaW50OEFycmF5IHRvIHRva2VuaXplXHJcbiAgICAgKiBAcGFyYW0gZmlsZUluZm8gLSBQYXNzIGFkZGl0aW9uYWwgZmlsZSBpbmZvcm1hdGlvbiB0byB0aGUgdG9rZW5pemVyXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHVpbnQ4QXJyYXksIGZpbGVJbmZvKSB7XHJcbiAgICAgICAgc3VwZXIoZmlsZUluZm8pO1xyXG4gICAgICAgIHRoaXMudWludDhBcnJheSA9IHVpbnQ4QXJyYXk7XHJcbiAgICAgICAgdGhpcy5maWxlSW5mby5zaXplID0gdGhpcy5maWxlSW5mby5zaXplID8gdGhpcy5maWxlSW5mby5zaXplIDogdWludDhBcnJheS5sZW5ndGg7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlYWQgYnVmZmVyIGZyb20gdG9rZW5pemVyXHJcbiAgICAgKiBAcGFyYW0gdWludDhBcnJheSAtIFVpbnQ4QXJyYXkgdG8gdG9rZW5pemVcclxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gUmVhZCBiZWhhdmlvdXIgb3B0aW9uc1xyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8bnVtYmVyPn1cclxuICAgICAqL1xyXG4gICAgYXN5bmMgcmVhZEJ1ZmZlcih1aW50OEFycmF5LCBvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5wb3NpdGlvbikge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5wb3NpdGlvbiA8IHRoaXMucG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYG9wdGlvbnMucG9zaXRpb25gIG11c3QgYmUgZXF1YWwgb3IgZ3JlYXRlciB0aGFuIGB0b2tlbml6ZXIucG9zaXRpb25gJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG9wdGlvbnMucG9zaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJ5dGVzUmVhZCA9IGF3YWl0IHRoaXMucGVla0J1ZmZlcih1aW50OEFycmF5LCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uICs9IGJ5dGVzUmVhZDtcclxuICAgICAgICByZXR1cm4gYnl0ZXNSZWFkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQZWVrIChyZWFkIGFoZWFkKSBidWZmZXIgZnJvbSB0b2tlbml6ZXJcclxuICAgICAqIEBwYXJhbSB1aW50OEFycmF5XHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlYWQgYmVoYXZpb3VyIG9wdGlvbnNcclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPG51bWJlcj59XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHBlZWtCdWZmZXIodWludDhBcnJheSwgb3B0aW9ucykge1xyXG4gICAgICAgIGNvbnN0IG5vcm1PcHRpb25zID0gdGhpcy5ub3JtYWxpemVPcHRpb25zKHVpbnQ4QXJyYXksIG9wdGlvbnMpO1xyXG4gICAgICAgIGNvbnN0IGJ5dGVzMnJlYWQgPSBNYXRoLm1pbih0aGlzLnVpbnQ4QXJyYXkubGVuZ3RoIC0gbm9ybU9wdGlvbnMucG9zaXRpb24sIG5vcm1PcHRpb25zLmxlbmd0aCk7XHJcbiAgICAgICAgaWYgKCghbm9ybU9wdGlvbnMubWF5QmVMZXNzKSAmJiBieXRlczJyZWFkIDwgbm9ybU9wdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBwZWVrX3JlYWRhYmxlXzEuRW5kT2ZTdHJlYW1FcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdWludDhBcnJheS5zZXQodGhpcy51aW50OEFycmF5LnN1YmFycmF5KG5vcm1PcHRpb25zLnBvc2l0aW9uLCBub3JtT3B0aW9ucy5wb3NpdGlvbiArIGJ5dGVzMnJlYWQpLCBub3JtT3B0aW9ucy5vZmZzZXQpO1xyXG4gICAgICAgICAgICByZXR1cm4gYnl0ZXMycmVhZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhc3luYyBjbG9zZSgpIHtcclxuICAgICAgICAvLyBlbXB0eVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuQnVmZmVyVG9rZW5pemVyID0gQnVmZmVyVG9rZW5pemVyO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmZyb21GaWxlID0gZXhwb3J0cy5GaWxlVG9rZW5pemVyID0gdm9pZCAwO1xyXG5jb25zdCBBYnN0cmFjdFRva2VuaXplcl8xID0gcmVxdWlyZShcIi4vQWJzdHJhY3RUb2tlbml6ZXJcIik7XHJcbmNvbnN0IHBlZWtfcmVhZGFibGVfMSA9IHJlcXVpcmUoXCJwZWVrLXJlYWRhYmxlXCIpO1xyXG5jb25zdCBmcyA9IHJlcXVpcmUoXCIuL0ZzUHJvbWlzZVwiKTtcclxuY2xhc3MgRmlsZVRva2VuaXplciBleHRlbmRzIEFic3RyYWN0VG9rZW5pemVyXzEuQWJzdHJhY3RUb2tlbml6ZXIge1xyXG4gICAgY29uc3RydWN0b3IoZmQsIGZpbGVJbmZvKSB7XHJcbiAgICAgICAgc3VwZXIoZmlsZUluZm8pO1xyXG4gICAgICAgIHRoaXMuZmQgPSBmZDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVhZCBidWZmZXIgZnJvbSBmaWxlXHJcbiAgICAgKiBAcGFyYW0gdWludDhBcnJheSAtIFVpbnQ4QXJyYXkgdG8gd3JpdGUgcmVzdWx0IHRvXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlYWQgYmVoYXZpb3VyIG9wdGlvbnNcclxuICAgICAqIEByZXR1cm5zIFByb21pc2UgbnVtYmVyIG9mIGJ5dGVzIHJlYWRcclxuICAgICAqL1xyXG4gICAgYXN5bmMgcmVhZEJ1ZmZlcih1aW50OEFycmF5LCBvcHRpb25zKSB7XHJcbiAgICAgICAgY29uc3Qgbm9ybU9wdGlvbnMgPSB0aGlzLm5vcm1hbGl6ZU9wdGlvbnModWludDhBcnJheSwgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5vcm1PcHRpb25zLnBvc2l0aW9uO1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZzLnJlYWQodGhpcy5mZCwgdWludDhBcnJheSwgbm9ybU9wdGlvbnMub2Zmc2V0LCBub3JtT3B0aW9ucy5sZW5ndGgsIG5vcm1PcHRpb25zLnBvc2l0aW9uKTtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uICs9IHJlcy5ieXRlc1JlYWQ7XHJcbiAgICAgICAgaWYgKHJlcy5ieXRlc1JlYWQgPCBub3JtT3B0aW9ucy5sZW5ndGggJiYgKCFvcHRpb25zIHx8ICFvcHRpb25zLm1heUJlTGVzcykpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IHBlZWtfcmVhZGFibGVfMS5FbmRPZlN0cmVhbUVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXMuYnl0ZXNSZWFkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQZWVrIGJ1ZmZlciBmcm9tIGZpbGVcclxuICAgICAqIEBwYXJhbSB1aW50OEFycmF5IC0gVWludDhBcnJheSAob3IgQnVmZmVyKSB0byB3cml0ZSBkYXRhIHRvXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlYWQgYmVoYXZpb3VyIG9wdGlvbnNcclxuICAgICAqIEByZXR1cm5zIFByb21pc2UgbnVtYmVyIG9mIGJ5dGVzIHJlYWRcclxuICAgICAqL1xyXG4gICAgYXN5bmMgcGVla0J1ZmZlcih1aW50OEFycmF5LCBvcHRpb25zKSB7XHJcbiAgICAgICAgY29uc3Qgbm9ybU9wdGlvbnMgPSB0aGlzLm5vcm1hbGl6ZU9wdGlvbnModWludDhBcnJheSwgb3B0aW9ucyk7XHJcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZnMucmVhZCh0aGlzLmZkLCB1aW50OEFycmF5LCBub3JtT3B0aW9ucy5vZmZzZXQsIG5vcm1PcHRpb25zLmxlbmd0aCwgbm9ybU9wdGlvbnMucG9zaXRpb24pO1xyXG4gICAgICAgIGlmICgoIW5vcm1PcHRpb25zLm1heUJlTGVzcykgJiYgcmVzLmJ5dGVzUmVhZCA8IG5vcm1PcHRpb25zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgcGVla19yZWFkYWJsZV8xLkVuZE9mU3RyZWFtRXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcy5ieXRlc1JlYWQ7XHJcbiAgICB9XHJcbiAgICBhc3luYyBjbG9zZSgpIHtcclxuICAgICAgICByZXR1cm4gZnMuY2xvc2UodGhpcy5mZCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5GaWxlVG9rZW5pemVyID0gRmlsZVRva2VuaXplcjtcclxuYXN5bmMgZnVuY3Rpb24gZnJvbUZpbGUoc291cmNlRmlsZVBhdGgpIHtcclxuICAgIGNvbnN0IHN0YXQgPSBhd2FpdCBmcy5zdGF0KHNvdXJjZUZpbGVQYXRoKTtcclxuICAgIGlmICghc3RhdC5pc0ZpbGUpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZpbGUgbm90IGEgZmlsZTogJHtzb3VyY2VGaWxlUGF0aH1gKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGZkID0gYXdhaXQgZnMub3Blbihzb3VyY2VGaWxlUGF0aCwgJ3InKTtcclxuICAgIHJldHVybiBuZXcgRmlsZVRva2VuaXplcihmZCwgeyBwYXRoOiBzb3VyY2VGaWxlUGF0aCwgc2l6ZTogc3RhdC5zaXplIH0pO1xyXG59XHJcbmV4cG9ydHMuZnJvbUZpbGUgPSBmcm9tRmlsZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBNb2R1bGUgY29udmVydCBmcyBmdW5jdGlvbnMgdG8gcHJvbWlzZSBiYXNlZCBmdW5jdGlvbnNcclxuICovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5yZWFkRmlsZSA9IGV4cG9ydHMud3JpdGVGaWxlU3luYyA9IGV4cG9ydHMud3JpdGVGaWxlID0gZXhwb3J0cy5yZWFkID0gZXhwb3J0cy5vcGVuID0gZXhwb3J0cy5jbG9zZSA9IGV4cG9ydHMuc3RhdCA9IGV4cG9ydHMuY3JlYXRlUmVhZFN0cmVhbSA9IGV4cG9ydHMucGF0aEV4aXN0cyA9IHZvaWQgMDtcclxuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XHJcbmV4cG9ydHMucGF0aEV4aXN0cyA9IGZzLmV4aXN0c1N5bmM7XHJcbmV4cG9ydHMuY3JlYXRlUmVhZFN0cmVhbSA9IGZzLmNyZWF0ZVJlYWRTdHJlYW07XHJcbmFzeW5jIGZ1bmN0aW9uIHN0YXQocGF0aCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBmcy5zdGF0KHBhdGgsIChlcnIsIHN0YXRzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShzdGF0cyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5leHBvcnRzLnN0YXQgPSBzdGF0O1xyXG5hc3luYyBmdW5jdGlvbiBjbG9zZShmZCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBmcy5jbG9zZShmZCwgZXJyID0+IHtcclxuICAgICAgICAgICAgaWYgKGVycilcclxuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5leHBvcnRzLmNsb3NlID0gY2xvc2U7XHJcbmFzeW5jIGZ1bmN0aW9uIG9wZW4ocGF0aCwgbW9kZSkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBmcy5vcGVuKHBhdGgsIG1vZGUsIChlcnIsIGZkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShmZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5leHBvcnRzLm9wZW4gPSBvcGVuO1xyXG5hc3luYyBmdW5jdGlvbiByZWFkKGZkLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbikge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBmcy5yZWFkKGZkLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbiwgKGVyciwgYnl0ZXNSZWFkLCBfYnVmZmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7IGJ5dGVzUmVhZCwgYnVmZmVyOiBfYnVmZmVyIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0cy5yZWFkID0gcmVhZDtcclxuYXN5bmMgZnVuY3Rpb24gd3JpdGVGaWxlKHBhdGgsIGRhdGEpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgZnMud3JpdGVGaWxlKHBhdGgsIGRhdGEsIGVyciA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0cy53cml0ZUZpbGUgPSB3cml0ZUZpbGU7XHJcbmZ1bmN0aW9uIHdyaXRlRmlsZVN5bmMocGF0aCwgZGF0YSkge1xyXG4gICAgZnMud3JpdGVGaWxlU3luYyhwYXRoLCBkYXRhKTtcclxufVxyXG5leHBvcnRzLndyaXRlRmlsZVN5bmMgPSB3cml0ZUZpbGVTeW5jO1xyXG5hc3luYyBmdW5jdGlvbiByZWFkRmlsZShwYXRoKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIGZzLnJlYWRGaWxlKHBhdGgsIChlcnIsIGJ1ZmZlcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyKVxyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoYnVmZmVyKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbmV4cG9ydHMucmVhZEZpbGUgPSByZWFkRmlsZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5SZWFkU3RyZWFtVG9rZW5pemVyID0gdm9pZCAwO1xyXG5jb25zdCBBYnN0cmFjdFRva2VuaXplcl8xID0gcmVxdWlyZShcIi4vQWJzdHJhY3RUb2tlbml6ZXJcIik7XHJcbmNvbnN0IHBlZWtfcmVhZGFibGVfMSA9IHJlcXVpcmUoXCJwZWVrLXJlYWRhYmxlXCIpO1xyXG5jb25zdCBtYXhCdWZmZXJTaXplID0gMjU2MDAwO1xyXG5jbGFzcyBSZWFkU3RyZWFtVG9rZW5pemVyIGV4dGVuZHMgQWJzdHJhY3RUb2tlbml6ZXJfMS5BYnN0cmFjdFRva2VuaXplciB7XHJcbiAgICBjb25zdHJ1Y3RvcihzdHJlYW0sIGZpbGVJbmZvKSB7XHJcbiAgICAgICAgc3VwZXIoZmlsZUluZm8pO1xyXG4gICAgICAgIHRoaXMuc3RyZWFtUmVhZGVyID0gbmV3IHBlZWtfcmVhZGFibGVfMS5TdHJlYW1SZWFkZXIoc3RyZWFtKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGZpbGUgaW5mb3JtYXRpb24sIGFuIEhUVFAtY2xpZW50IG1heSBpbXBsZW1lbnQgdGhpcyBkb2luZyBhIEhFQUQgcmVxdWVzdFxyXG4gICAgICogQHJldHVybiBQcm9taXNlIHdpdGggZmlsZSBpbmZvcm1hdGlvblxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRGaWxlSW5mbygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maWxlSW5mbztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVhZCBidWZmZXIgZnJvbSB0b2tlbml6ZXJcclxuICAgICAqIEBwYXJhbSB1aW50OEFycmF5IC0gVGFyZ2V0IFVpbnQ4QXJyYXkgdG8gZmlsbCB3aXRoIGRhdGEgcmVhZCBmcm9tIHRoZSB0b2tlbml6ZXItc3RyZWFtXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlYWQgYmVoYXZpb3VyIG9wdGlvbnNcclxuICAgICAqIEByZXR1cm5zIFByb21pc2Ugd2l0aCBudW1iZXIgb2YgYnl0ZXMgcmVhZFxyXG4gICAgICovXHJcbiAgICBhc3luYyByZWFkQnVmZmVyKHVpbnQ4QXJyYXksIG9wdGlvbnMpIHtcclxuICAgICAgICBjb25zdCBub3JtT3B0aW9ucyA9IHRoaXMubm9ybWFsaXplT3B0aW9ucyh1aW50OEFycmF5LCBvcHRpb25zKTtcclxuICAgICAgICBjb25zdCBza2lwQnl0ZXMgPSBub3JtT3B0aW9ucy5wb3NpdGlvbiAtIHRoaXMucG9zaXRpb247XHJcbiAgICAgICAgaWYgKHNraXBCeXRlcyA+IDApIHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5pZ25vcmUoc2tpcEJ5dGVzKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJ1ZmZlcih1aW50OEFycmF5LCBvcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoc2tpcEJ5dGVzIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2BvcHRpb25zLnBvc2l0aW9uYCBtdXN0IGJlIGVxdWFsIG9yIGdyZWF0ZXIgdGhhbiBgdG9rZW5pemVyLnBvc2l0aW9uYCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobm9ybU9wdGlvbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBieXRlc1JlYWQgPSBhd2FpdCB0aGlzLnN0cmVhbVJlYWRlci5yZWFkKHVpbnQ4QXJyYXksIG5vcm1PcHRpb25zLm9mZnNldCwgbm9ybU9wdGlvbnMubGVuZ3RoKTtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uICs9IGJ5dGVzUmVhZDtcclxuICAgICAgICBpZiAoKCFvcHRpb25zIHx8ICFvcHRpb25zLm1heUJlTGVzcykgJiYgYnl0ZXNSZWFkIDwgbm9ybU9wdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBwZWVrX3JlYWRhYmxlXzEuRW5kT2ZTdHJlYW1FcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnl0ZXNSZWFkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQZWVrIChyZWFkIGFoZWFkKSBidWZmZXIgZnJvbSB0b2tlbml6ZXJcclxuICAgICAqIEBwYXJhbSB1aW50OEFycmF5IC0gVWludDhBcnJheSAob3IgQnVmZmVyKSB0byB3cml0ZSBkYXRhIHRvXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlYWQgYmVoYXZpb3VyIG9wdGlvbnNcclxuICAgICAqIEByZXR1cm5zIFByb21pc2Ugd2l0aCBudW1iZXIgb2YgYnl0ZXMgcGVla2VkXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHBlZWtCdWZmZXIodWludDhBcnJheSwgb3B0aW9ucykge1xyXG4gICAgICAgIGNvbnN0IG5vcm1PcHRpb25zID0gdGhpcy5ub3JtYWxpemVPcHRpb25zKHVpbnQ4QXJyYXksIG9wdGlvbnMpO1xyXG4gICAgICAgIGxldCBieXRlc1JlYWQgPSAwO1xyXG4gICAgICAgIGlmIChub3JtT3B0aW9ucy5wb3NpdGlvbikge1xyXG4gICAgICAgICAgICBjb25zdCBza2lwQnl0ZXMgPSBub3JtT3B0aW9ucy5wb3NpdGlvbiAtIHRoaXMucG9zaXRpb247XHJcbiAgICAgICAgICAgIGlmIChza2lwQnl0ZXMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBza2lwQnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkobm9ybU9wdGlvbnMubGVuZ3RoICsgc2tpcEJ5dGVzKTtcclxuICAgICAgICAgICAgICAgIGJ5dGVzUmVhZCA9IGF3YWl0IHRoaXMucGVla0J1ZmZlcihza2lwQnVmZmVyLCB7IG1heUJlTGVzczogbm9ybU9wdGlvbnMubWF5QmVMZXNzIH0pO1xyXG4gICAgICAgICAgICAgICAgdWludDhBcnJheS5zZXQoc2tpcEJ1ZmZlci5zdWJhcnJheShza2lwQnl0ZXMpLCBub3JtT3B0aW9ucy5vZmZzZXQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ5dGVzUmVhZCAtIHNraXBCeXRlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChza2lwQnl0ZXMgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBwZWVrIGZyb20gYSBuZWdhdGl2ZSBvZmZzZXQgaW4gYSBzdHJlYW0nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobm9ybU9wdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYnl0ZXNSZWFkID0gYXdhaXQgdGhpcy5zdHJlYW1SZWFkZXIucGVlayh1aW50OEFycmF5LCBub3JtT3B0aW9ucy5vZmZzZXQsIG5vcm1PcHRpb25zLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5tYXlCZUxlc3MgJiYgZXJyIGluc3RhbmNlb2YgcGVla19yZWFkYWJsZV8xLkVuZE9mU3RyZWFtRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKCFub3JtT3B0aW9ucy5tYXlCZUxlc3MpICYmIGJ5dGVzUmVhZCA8IG5vcm1PcHRpb25zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IHBlZWtfcmVhZGFibGVfMS5FbmRPZlN0cmVhbUVycm9yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJ5dGVzUmVhZDtcclxuICAgIH1cclxuICAgIGFzeW5jIGlnbm9yZShsZW5ndGgpIHtcclxuICAgICAgICAvLyBkZWJ1ZyhgaWdub3JlICR7dGhpcy5wb3NpdGlvbn0uLi4ke3RoaXMucG9zaXRpb24gKyBsZW5ndGggLSAxfWApO1xyXG4gICAgICAgIGNvbnN0IGJ1ZlNpemUgPSBNYXRoLm1pbihtYXhCdWZmZXJTaXplLCBsZW5ndGgpO1xyXG4gICAgICAgIGNvbnN0IGJ1ZiA9IG5ldyBVaW50OEFycmF5KGJ1ZlNpemUpO1xyXG4gICAgICAgIGxldCB0b3RCeXRlc1JlYWQgPSAwO1xyXG4gICAgICAgIHdoaWxlICh0b3RCeXRlc1JlYWQgPCBsZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nID0gbGVuZ3RoIC0gdG90Qnl0ZXNSZWFkO1xyXG4gICAgICAgICAgICBjb25zdCBieXRlc1JlYWQgPSBhd2FpdCB0aGlzLnJlYWRCdWZmZXIoYnVmLCB7IGxlbmd0aDogTWF0aC5taW4oYnVmU2l6ZSwgcmVtYWluaW5nKSB9KTtcclxuICAgICAgICAgICAgaWYgKGJ5dGVzUmVhZCA8IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBieXRlc1JlYWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdG90Qnl0ZXNSZWFkICs9IGJ5dGVzUmVhZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRvdEJ5dGVzUmVhZDtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLlJlYWRTdHJlYW1Ub2tlbml6ZXIgPSBSZWFkU3RyZWFtVG9rZW5pemVyO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmZyb21CdWZmZXIgPSBleHBvcnRzLmZyb21TdHJlYW0gPSBleHBvcnRzLkVuZE9mU3RyZWFtRXJyb3IgPSB2b2lkIDA7XHJcbmNvbnN0IFJlYWRTdHJlYW1Ub2tlbml6ZXJfMSA9IHJlcXVpcmUoXCIuL1JlYWRTdHJlYW1Ub2tlbml6ZXJcIik7XHJcbmNvbnN0IEJ1ZmZlclRva2VuaXplcl8xID0gcmVxdWlyZShcIi4vQnVmZmVyVG9rZW5pemVyXCIpO1xyXG52YXIgcGVla19yZWFkYWJsZV8xID0gcmVxdWlyZShcInBlZWstcmVhZGFibGVcIik7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkVuZE9mU3RyZWFtRXJyb3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBlZWtfcmVhZGFibGVfMS5FbmRPZlN0cmVhbUVycm9yOyB9IH0pO1xyXG4vKipcclxuICogQ29uc3RydWN0IFJlYWRTdHJlYW1Ub2tlbml6ZXIgZnJvbSBnaXZlbiBTdHJlYW0uXHJcbiAqIFdpbGwgc2V0IGZpbGVTaXplLCBpZiBwcm92aWRlZCBnaXZlbiBTdHJlYW0gaGFzIHNldCB0aGUgLnBhdGggcHJvcGVydHkvXHJcbiAqIEBwYXJhbSBzdHJlYW0gLSBSZWFkIGZyb20gTm9kZS5qcyBTdHJlYW0uUmVhZGFibGVcclxuICogQHBhcmFtIGZpbGVJbmZvIC0gUGFzcyB0aGUgZmlsZSBpbmZvcm1hdGlvbiwgbGlrZSBzaXplIGFuZCBNSU1FLXR5cGUgb2YgdGhlIGNvcnJlc3BvbmRpbmcgc3RyZWFtLlxyXG4gKiBAcmV0dXJucyBSZWFkU3RyZWFtVG9rZW5pemVyXHJcbiAqL1xyXG5mdW5jdGlvbiBmcm9tU3RyZWFtKHN0cmVhbSwgZmlsZUluZm8pIHtcclxuICAgIGZpbGVJbmZvID0gZmlsZUluZm8gPyBmaWxlSW5mbyA6IHt9O1xyXG4gICAgcmV0dXJuIG5ldyBSZWFkU3RyZWFtVG9rZW5pemVyXzEuUmVhZFN0cmVhbVRva2VuaXplcihzdHJlYW0sIGZpbGVJbmZvKTtcclxufVxyXG5leHBvcnRzLmZyb21TdHJlYW0gPSBmcm9tU3RyZWFtO1xyXG4vKipcclxuICogQ29uc3RydWN0IFJlYWRTdHJlYW1Ub2tlbml6ZXIgZnJvbSBnaXZlbiBCdWZmZXIuXHJcbiAqIEBwYXJhbSB1aW50OEFycmF5IC0gVWludDhBcnJheSB0byB0b2tlbml6ZVxyXG4gKiBAcGFyYW0gZmlsZUluZm8gLSBQYXNzIGFkZGl0aW9uYWwgZmlsZSBpbmZvcm1hdGlvbiB0byB0aGUgdG9rZW5pemVyXHJcbiAqIEByZXR1cm5zIEJ1ZmZlclRva2VuaXplclxyXG4gKi9cclxuZnVuY3Rpb24gZnJvbUJ1ZmZlcih1aW50OEFycmF5LCBmaWxlSW5mbykge1xyXG4gICAgcmV0dXJuIG5ldyBCdWZmZXJUb2tlbml6ZXJfMS5CdWZmZXJUb2tlbml6ZXIodWludDhBcnJheSwgZmlsZUluZm8pO1xyXG59XHJcbmV4cG9ydHMuZnJvbUJ1ZmZlciA9IGZyb21CdWZmZXI7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuZnJvbVN0cmVhbSA9IGV4cG9ydHMuZnJvbUJ1ZmZlciA9IGV4cG9ydHMuRW5kT2ZTdHJlYW1FcnJvciA9IGV4cG9ydHMuZnJvbUZpbGUgPSB2b2lkIDA7XHJcbmNvbnN0IGZzID0gcmVxdWlyZShcIi4vRnNQcm9taXNlXCIpO1xyXG5jb25zdCBjb3JlID0gcmVxdWlyZShcIi4vY29yZVwiKTtcclxudmFyIEZpbGVUb2tlbml6ZXJfMSA9IHJlcXVpcmUoXCIuL0ZpbGVUb2tlbml6ZXJcIik7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImZyb21GaWxlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBGaWxlVG9rZW5pemVyXzEuZnJvbUZpbGU7IH0gfSk7XHJcbnZhciBjb3JlXzEgPSByZXF1aXJlKFwiLi9jb3JlXCIpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJFbmRPZlN0cmVhbUVycm9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb3JlXzEuRW5kT2ZTdHJlYW1FcnJvcjsgfSB9KTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZnJvbUJ1ZmZlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29yZV8xLmZyb21CdWZmZXI7IH0gfSk7XHJcbi8qKlxyXG4gKiBDb25zdHJ1Y3QgUmVhZFN0cmVhbVRva2VuaXplciBmcm9tIGdpdmVuIFN0cmVhbS5cclxuICogV2lsbCBzZXQgZmlsZVNpemUsIGlmIHByb3ZpZGVkIGdpdmVuIFN0cmVhbSBoYXMgc2V0IHRoZSAucGF0aCBwcm9wZXJ0eS5cclxuICogQHBhcmFtIHN0cmVhbSAtIE5vZGUuanMgU3RyZWFtLlJlYWRhYmxlXHJcbiAqIEBwYXJhbSBmaWxlSW5mbyAtIFBhc3MgYWRkaXRpb25hbCBmaWxlIGluZm9ybWF0aW9uIHRvIHRoZSB0b2tlbml6ZXJcclxuICogQHJldHVybnMgVG9rZW5pemVyXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBmcm9tU3RyZWFtKHN0cmVhbSwgZmlsZUluZm8pIHtcclxuICAgIGZpbGVJbmZvID0gZmlsZUluZm8gPyBmaWxlSW5mbyA6IHt9O1xyXG4gICAgaWYgKHN0cmVhbS5wYXRoKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhdCA9IGF3YWl0IGZzLnN0YXQoc3RyZWFtLnBhdGgpO1xyXG4gICAgICAgIGZpbGVJbmZvLnBhdGggPSBzdHJlYW0ucGF0aDtcclxuICAgICAgICBmaWxlSW5mby5zaXplID0gc3RhdC5zaXplO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvcmUuZnJvbVN0cmVhbShzdHJlYW0sIGZpbGVJbmZvKTtcclxufVxyXG5leHBvcnRzLmZyb21TdHJlYW0gPSBmcm9tU3RyZWFtO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQW5zaVN0cmluZ1R5cGUgPSBleHBvcnRzLlN0cmluZ1R5cGUgPSBleHBvcnRzLkJ1ZmZlclR5cGUgPSBleHBvcnRzLlVpbnQ4QXJyYXlUeXBlID0gZXhwb3J0cy5JZ25vcmVUeXBlID0gZXhwb3J0cy5GbG9hdDgwX0xFID0gZXhwb3J0cy5GbG9hdDgwX0JFID0gZXhwb3J0cy5GbG9hdDY0X0xFID0gZXhwb3J0cy5GbG9hdDY0X0JFID0gZXhwb3J0cy5GbG9hdDMyX0xFID0gZXhwb3J0cy5GbG9hdDMyX0JFID0gZXhwb3J0cy5GbG9hdDE2X0xFID0gZXhwb3J0cy5GbG9hdDE2X0JFID0gZXhwb3J0cy5JTlQ2NF9CRSA9IGV4cG9ydHMuVUlOVDY0X0JFID0gZXhwb3J0cy5JTlQ2NF9MRSA9IGV4cG9ydHMuVUlOVDY0X0xFID0gZXhwb3J0cy5JTlQzMl9MRSA9IGV4cG9ydHMuSU5UMzJfQkUgPSBleHBvcnRzLklOVDI0X0JFID0gZXhwb3J0cy5JTlQyNF9MRSA9IGV4cG9ydHMuSU5UMTZfTEUgPSBleHBvcnRzLklOVDE2X0JFID0gZXhwb3J0cy5JTlQ4ID0gZXhwb3J0cy5VSU5UMzJfQkUgPSBleHBvcnRzLlVJTlQzMl9MRSA9IGV4cG9ydHMuVUlOVDI0X0JFID0gZXhwb3J0cy5VSU5UMjRfTEUgPSBleHBvcnRzLlVJTlQxNl9CRSA9IGV4cG9ydHMuVUlOVDE2X0xFID0gZXhwb3J0cy5VSU5UOCA9IHZvaWQgMDtcbmNvbnN0IGllZWU3NTQgPSByZXF1aXJlKFwiaWVlZTc1NFwiKTtcbi8vIFByaW1pdGl2ZSB0eXBlc1xuZnVuY3Rpb24gZHYoYXJyYXkpIHtcbiAgICByZXR1cm4gbmV3IERhdGFWaWV3KGFycmF5LmJ1ZmZlciwgYXJyYXkuYnl0ZU9mZnNldCk7XG59XG4vKipcbiAqIDgtYml0IHVuc2lnbmVkIGludGVnZXJcbiAqL1xuZXhwb3J0cy5VSU5UOCA9IHtcbiAgICBsZW46IDEsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGR2KGFycmF5KS5nZXRVaW50OChvZmZzZXQpO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGR2KGFycmF5KS5zZXRVaW50OChvZmZzZXQsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDE7XG4gICAgfVxufTtcbi8qKlxuICogMTYtYml0IHVuc2lnbmVkIGludGVnZXIsIExpdHRsZSBFbmRpYW4gYnl0ZSBvcmRlclxuICovXG5leHBvcnRzLlVJTlQxNl9MRSA9IHtcbiAgICBsZW46IDIsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGR2KGFycmF5KS5nZXRVaW50MTYob2Zmc2V0LCB0cnVlKTtcbiAgICB9LFxuICAgIHB1dChhcnJheSwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBkdihhcnJheSkuc2V0VWludDE2KG9mZnNldCwgdmFsdWUsIHRydWUpO1xuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgMjtcbiAgICB9XG59O1xuLyoqXG4gKiAxNi1iaXQgdW5zaWduZWQgaW50ZWdlciwgQmlnIEVuZGlhbiBieXRlIG9yZGVyXG4gKi9cbmV4cG9ydHMuVUlOVDE2X0JFID0ge1xuICAgIGxlbjogMixcbiAgICBnZXQoYXJyYXksIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gZHYoYXJyYXkpLmdldFVpbnQxNihvZmZzZXQpO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGR2KGFycmF5KS5zZXRVaW50MTYob2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyAyO1xuICAgIH1cbn07XG4vKipcbiAqIDI0LWJpdCB1bnNpZ25lZCBpbnRlZ2VyLCBMaXR0bGUgRW5kaWFuIGJ5dGUgb3JkZXJcbiAqL1xuZXhwb3J0cy5VSU5UMjRfTEUgPSB7XG4gICAgbGVuOiAzLFxuICAgIGdldChhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IGRhdGFWaWV3ID0gZHYoYXJyYXkpO1xuICAgICAgICByZXR1cm4gZGF0YVZpZXcuZ2V0VWludDgob2Zmc2V0KSArIChkYXRhVmlldy5nZXRVaW50MTYob2Zmc2V0ICsgMSwgdHJ1ZSkgPDwgOCk7XG4gICAgfSxcbiAgICBwdXQoYXJyYXksIG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgZGF0YVZpZXcgPSBkdihhcnJheSk7XG4gICAgICAgIGRhdGFWaWV3LnNldFVpbnQ4KG9mZnNldCwgdmFsdWUgJiAweGZmKTtcbiAgICAgICAgZGF0YVZpZXcuc2V0VWludDE2KG9mZnNldCArIDEsIHZhbHVlID4+IDgsIHRydWUpO1xuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgMztcbiAgICB9XG59O1xuLyoqXG4gKiAyNC1iaXQgdW5zaWduZWQgaW50ZWdlciwgQmlnIEVuZGlhbiBieXRlIG9yZGVyXG4gKi9cbmV4cG9ydHMuVUlOVDI0X0JFID0ge1xuICAgIGxlbjogMyxcbiAgICBnZXQoYXJyYXksIG9mZnNldCkge1xuICAgICAgICBjb25zdCBkYXRhVmlldyA9IGR2KGFycmF5KTtcbiAgICAgICAgcmV0dXJuIChkYXRhVmlldy5nZXRVaW50MTYob2Zmc2V0KSA8PCA4KSArIGRhdGFWaWV3LmdldFVpbnQ4KG9mZnNldCArIDIpO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGRhdGFWaWV3ID0gZHYoYXJyYXkpO1xuICAgICAgICBkYXRhVmlldy5zZXRVaW50MTYob2Zmc2V0LCB2YWx1ZSA+PiA4KTtcbiAgICAgICAgZGF0YVZpZXcuc2V0VWludDgob2Zmc2V0ICsgMiwgdmFsdWUgJiAweGZmKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDM7XG4gICAgfVxufTtcbi8qKlxuICogMzItYml0IHVuc2lnbmVkIGludGVnZXIsIExpdHRsZSBFbmRpYW4gYnl0ZSBvcmRlclxuICovXG5leHBvcnRzLlVJTlQzMl9MRSA9IHtcbiAgICBsZW46IDQsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGR2KGFycmF5KS5nZXRVaW50MzIob2Zmc2V0LCB0cnVlKTtcbiAgICB9LFxuICAgIHB1dChhcnJheSwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBkdihhcnJheSkuc2V0VWludDMyKG9mZnNldCwgdmFsdWUsIHRydWUpO1xuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgNDtcbiAgICB9XG59O1xuLyoqXG4gKiAzMi1iaXQgdW5zaWduZWQgaW50ZWdlciwgQmlnIEVuZGlhbiBieXRlIG9yZGVyXG4gKi9cbmV4cG9ydHMuVUlOVDMyX0JFID0ge1xuICAgIGxlbjogNCxcbiAgICBnZXQoYXJyYXksIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gZHYoYXJyYXkpLmdldFVpbnQzMihvZmZzZXQpO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGR2KGFycmF5KS5zZXRVaW50MzIob2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyA0O1xuICAgIH1cbn07XG4vKipcbiAqIDgtYml0IHNpZ25lZCBpbnRlZ2VyXG4gKi9cbmV4cG9ydHMuSU5UOCA9IHtcbiAgICBsZW46IDEsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGR2KGFycmF5KS5nZXRJbnQ4KG9mZnNldCk7XG4gICAgfSxcbiAgICBwdXQoYXJyYXksIG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgZHYoYXJyYXkpLnNldEludDgob2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyAxO1xuICAgIH1cbn07XG4vKipcbiAqIDE2LWJpdCBzaWduZWQgaW50ZWdlciwgQmlnIEVuZGlhbiBieXRlIG9yZGVyXG4gKi9cbmV4cG9ydHMuSU5UMTZfQkUgPSB7XG4gICAgbGVuOiAyLFxuICAgIGdldChhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBkdihhcnJheSkuZ2V0SW50MTYob2Zmc2V0KTtcbiAgICB9LFxuICAgIHB1dChhcnJheSwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBkdihhcnJheSkuc2V0SW50MTYob2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyAyO1xuICAgIH1cbn07XG4vKipcbiAqIDE2LWJpdCBzaWduZWQgaW50ZWdlciwgTGl0dGxlIEVuZGlhbiBieXRlIG9yZGVyXG4gKi9cbmV4cG9ydHMuSU5UMTZfTEUgPSB7XG4gICAgbGVuOiAyLFxuICAgIGdldChhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBkdihhcnJheSkuZ2V0SW50MTYob2Zmc2V0LCB0cnVlKTtcbiAgICB9LFxuICAgIHB1dChhcnJheSwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBkdihhcnJheSkuc2V0SW50MTYob2Zmc2V0LCB2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyAyO1xuICAgIH1cbn07XG4vKipcbiAqIDI0LWJpdCBzaWduZWQgaW50ZWdlciwgTGl0dGxlIEVuZGlhbiBieXRlIG9yZGVyXG4gKi9cbmV4cG9ydHMuSU5UMjRfTEUgPSB7XG4gICAgbGVuOiAzLFxuICAgIGdldChhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IHVuc2lnbmVkID0gZXhwb3J0cy5VSU5UMjRfTEUuZ2V0KGFycmF5LCBvZmZzZXQpO1xuICAgICAgICByZXR1cm4gdW5zaWduZWQgPiAweDdmZmZmZiA/IHVuc2lnbmVkIC0gMHgxMDAwMDAwIDogdW5zaWduZWQ7XG4gICAgfSxcbiAgICBwdXQoYXJyYXksIG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgZGF0YVZpZXcgPSBkdihhcnJheSk7XG4gICAgICAgIGRhdGFWaWV3LnNldFVpbnQ4KG9mZnNldCwgdmFsdWUgJiAweGZmKTtcbiAgICAgICAgZGF0YVZpZXcuc2V0VWludDE2KG9mZnNldCArIDEsIHZhbHVlID4+IDgsIHRydWUpO1xuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgMztcbiAgICB9XG59O1xuLyoqXG4gKiAyNC1iaXQgc2lnbmVkIGludGVnZXIsIEJpZyBFbmRpYW4gYnl0ZSBvcmRlclxuICovXG5leHBvcnRzLklOVDI0X0JFID0ge1xuICAgIGxlbjogMyxcbiAgICBnZXQoYXJyYXksIG9mZnNldCkge1xuICAgICAgICBjb25zdCB1bnNpZ25lZCA9IGV4cG9ydHMuVUlOVDI0X0JFLmdldChhcnJheSwgb2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIHVuc2lnbmVkID4gMHg3ZmZmZmYgPyB1bnNpZ25lZCAtIDB4MTAwMDAwMCA6IHVuc2lnbmVkO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGRhdGFWaWV3ID0gZHYoYXJyYXkpO1xuICAgICAgICBkYXRhVmlldy5zZXRVaW50MTYob2Zmc2V0LCB2YWx1ZSA+PiA4KTtcbiAgICAgICAgZGF0YVZpZXcuc2V0VWludDgob2Zmc2V0ICsgMiwgdmFsdWUgJiAweGZmKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDM7XG4gICAgfVxufTtcbi8qKlxuICogMzItYml0IHNpZ25lZCBpbnRlZ2VyLCBCaWcgRW5kaWFuIGJ5dGUgb3JkZXJcbiAqL1xuZXhwb3J0cy5JTlQzMl9CRSA9IHtcbiAgICBsZW46IDQsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGR2KGFycmF5KS5nZXRJbnQzMihvZmZzZXQpO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGR2KGFycmF5KS5zZXRJbnQzMihvZmZzZXQsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDQ7XG4gICAgfVxufTtcbi8qKlxuICogMzItYml0IHNpZ25lZCBpbnRlZ2VyLCBCaWcgRW5kaWFuIGJ5dGUgb3JkZXJcbiAqL1xuZXhwb3J0cy5JTlQzMl9MRSA9IHtcbiAgICBsZW46IDQsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGR2KGFycmF5KS5nZXRJbnQzMihvZmZzZXQsIHRydWUpO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGR2KGFycmF5KS5zZXRJbnQzMihvZmZzZXQsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDQ7XG4gICAgfVxufTtcbi8qKlxuICogNjQtYml0IHVuc2lnbmVkIGludGVnZXIsIExpdHRsZSBFbmRpYW4gYnl0ZSBvcmRlclxuICovXG5leHBvcnRzLlVJTlQ2NF9MRSA9IHtcbiAgICBsZW46IDgsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGR2KGFycmF5KS5nZXRCaWdVaW50NjQob2Zmc2V0LCB0cnVlKTtcbiAgICB9LFxuICAgIHB1dChhcnJheSwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBkdihhcnJheSkuc2V0QmlnVWludDY0KG9mZnNldCwgdmFsdWUsIHRydWUpO1xuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgODtcbiAgICB9XG59O1xuLyoqXG4gKiA2NC1iaXQgc2lnbmVkIGludGVnZXIsIExpdHRsZSBFbmRpYW4gYnl0ZSBvcmRlclxuICovXG5leHBvcnRzLklOVDY0X0xFID0ge1xuICAgIGxlbjogOCxcbiAgICBnZXQoYXJyYXksIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gZHYoYXJyYXkpLmdldEJpZ0ludDY0KG9mZnNldCwgdHJ1ZSk7XG4gICAgfSxcbiAgICBwdXQoYXJyYXksIG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgZHYoYXJyYXkpLnNldEJpZ0ludDY0KG9mZnNldCwgdmFsdWUsIHRydWUpO1xuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgODtcbiAgICB9XG59O1xuLyoqXG4gKiA2NC1iaXQgdW5zaWduZWQgaW50ZWdlciwgQmlnIEVuZGlhbiBieXRlIG9yZGVyXG4gKi9cbmV4cG9ydHMuVUlOVDY0X0JFID0ge1xuICAgIGxlbjogOCxcbiAgICBnZXQoYXJyYXksIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gZHYoYXJyYXkpLmdldEJpZ1VpbnQ2NChvZmZzZXQpO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGR2KGFycmF5KS5zZXRCaWdVaW50NjQob2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyA4O1xuICAgIH1cbn07XG4vKipcbiAqIDY0LWJpdCBzaWduZWQgaW50ZWdlciwgQmlnIEVuZGlhbiBieXRlIG9yZGVyXG4gKi9cbmV4cG9ydHMuSU5UNjRfQkUgPSB7XG4gICAgbGVuOiA4LFxuICAgIGdldChhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBkdihhcnJheSkuZ2V0QmlnSW50NjQob2Zmc2V0KTtcbiAgICB9LFxuICAgIHB1dChhcnJheSwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBkdihhcnJheSkuc2V0QmlnSW50NjQob2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyA4O1xuICAgIH1cbn07XG4vKipcbiAqIElFRUUgNzU0IDE2LWJpdCAoaGFsZiBwcmVjaXNpb24pIGZsb2F0LCBiaWcgZW5kaWFuXG4gKi9cbmV4cG9ydHMuRmxvYXQxNl9CRSA9IHtcbiAgICBsZW46IDIsXG4gICAgZ2V0KGRhdGFWaWV3LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGllZWU3NTQucmVhZChkYXRhVmlldywgb2Zmc2V0LCBmYWxzZSwgMTAsIHRoaXMubGVuKTtcbiAgICB9LFxuICAgIHB1dChkYXRhVmlldywgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBpZWVlNzU0LndyaXRlKGRhdGFWaWV3LCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgMTAsIHRoaXMubGVuKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIHRoaXMubGVuO1xuICAgIH1cbn07XG4vKipcbiAqIElFRUUgNzU0IDE2LWJpdCAoaGFsZiBwcmVjaXNpb24pIGZsb2F0LCBsaXR0bGUgZW5kaWFuXG4gKi9cbmV4cG9ydHMuRmxvYXQxNl9MRSA9IHtcbiAgICBsZW46IDIsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGllZWU3NTQucmVhZChhcnJheSwgb2Zmc2V0LCB0cnVlLCAxMCwgdGhpcy5sZW4pO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGllZWU3NTQud3JpdGUoYXJyYXksIHZhbHVlLCBvZmZzZXQsIHRydWUsIDEwLCB0aGlzLmxlbik7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyB0aGlzLmxlbjtcbiAgICB9XG59O1xuLyoqXG4gKiBJRUVFIDc1NCAzMi1iaXQgKHNpbmdsZSBwcmVjaXNpb24pIGZsb2F0LCBiaWcgZW5kaWFuXG4gKi9cbmV4cG9ydHMuRmxvYXQzMl9CRSA9IHtcbiAgICBsZW46IDQsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGR2KGFycmF5KS5nZXRGbG9hdDMyKG9mZnNldCk7XG4gICAgfSxcbiAgICBwdXQoYXJyYXksIG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgZHYoYXJyYXkpLnNldEZsb2F0MzIob2Zmc2V0LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyA0O1xuICAgIH1cbn07XG4vKipcbiAqIElFRUUgNzU0IDMyLWJpdCAoc2luZ2xlIHByZWNpc2lvbikgZmxvYXQsIGxpdHRsZSBlbmRpYW5cbiAqL1xuZXhwb3J0cy5GbG9hdDMyX0xFID0ge1xuICAgIGxlbjogNCxcbiAgICBnZXQoYXJyYXksIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gZHYoYXJyYXkpLmdldEZsb2F0MzIob2Zmc2V0LCB0cnVlKTtcbiAgICB9LFxuICAgIHB1dChhcnJheSwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBkdihhcnJheSkuc2V0RmxvYXQzMihvZmZzZXQsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIDQ7XG4gICAgfVxufTtcbi8qKlxuICogSUVFRSA3NTQgNjQtYml0IChkb3VibGUgcHJlY2lzaW9uKSBmbG9hdCwgYmlnIGVuZGlhblxuICovXG5leHBvcnRzLkZsb2F0NjRfQkUgPSB7XG4gICAgbGVuOiA4LFxuICAgIGdldChhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBkdihhcnJheSkuZ2V0RmxvYXQ2NChvZmZzZXQpO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGR2KGFycmF5KS5zZXRGbG9hdDY0KG9mZnNldCwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgODtcbiAgICB9XG59O1xuLyoqXG4gKiBJRUVFIDc1NCA2NC1iaXQgKGRvdWJsZSBwcmVjaXNpb24pIGZsb2F0LCBsaXR0bGUgZW5kaWFuXG4gKi9cbmV4cG9ydHMuRmxvYXQ2NF9MRSA9IHtcbiAgICBsZW46IDgsXG4gICAgZ2V0KGFycmF5LCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGR2KGFycmF5KS5nZXRGbG9hdDY0KG9mZnNldCwgdHJ1ZSk7XG4gICAgfSxcbiAgICBwdXQoYXJyYXksIG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgZHYoYXJyYXkpLnNldEZsb2F0NjQob2Zmc2V0LCB2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyA4O1xuICAgIH1cbn07XG4vKipcbiAqIElFRUUgNzU0IDgwLWJpdCAoZXh0ZW5kZWQgcHJlY2lzaW9uKSBmbG9hdCwgYmlnIGVuZGlhblxuICovXG5leHBvcnRzLkZsb2F0ODBfQkUgPSB7XG4gICAgbGVuOiAxMCxcbiAgICBnZXQoYXJyYXksIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gaWVlZTc1NC5yZWFkKGFycmF5LCBvZmZzZXQsIGZhbHNlLCA2MywgdGhpcy5sZW4pO1xuICAgIH0sXG4gICAgcHV0KGFycmF5LCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGllZWU3NTQud3JpdGUoYXJyYXksIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCA2MywgdGhpcy5sZW4pO1xuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgdGhpcy5sZW47XG4gICAgfVxufTtcbi8qKlxuICogSUVFRSA3NTQgODAtYml0IChleHRlbmRlZCBwcmVjaXNpb24pIGZsb2F0LCBsaXR0bGUgZW5kaWFuXG4gKi9cbmV4cG9ydHMuRmxvYXQ4MF9MRSA9IHtcbiAgICBsZW46IDEwLFxuICAgIGdldChhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBpZWVlNzU0LnJlYWQoYXJyYXksIG9mZnNldCwgdHJ1ZSwgNjMsIHRoaXMubGVuKTtcbiAgICB9LFxuICAgIHB1dChhcnJheSwgb2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICBpZWVlNzU0LndyaXRlKGFycmF5LCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCA2MywgdGhpcy5sZW4pO1xuICAgICAgICByZXR1cm4gb2Zmc2V0ICsgdGhpcy5sZW47XG4gICAgfVxufTtcbi8qKlxuICogSWdub3JlIGEgZ2l2ZW4gbnVtYmVyIG9mIGJ5dGVzXG4gKi9cbmNsYXNzIElnbm9yZVR5cGUge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBsZW4gbnVtYmVyIG9mIGJ5dGVzIHRvIGlnbm9yZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGxlbikge1xuICAgICAgICB0aGlzLmxlbiA9IGxlbjtcbiAgICB9XG4gICAgLy8gVG9EbzogZG9uJ3QgcmVhZCwgYnV0IHNraXAgZGF0YVxuICAgIGdldChhcnJheSwgb2ZmKSB7XG4gICAgfVxufVxuZXhwb3J0cy5JZ25vcmVUeXBlID0gSWdub3JlVHlwZTtcbmNsYXNzIFVpbnQ4QXJyYXlUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcihsZW4pIHtcbiAgICAgICAgdGhpcy5sZW4gPSBsZW47XG4gICAgfVxuICAgIGdldChhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBhcnJheS5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIHRoaXMubGVuKTtcbiAgICB9XG59XG5leHBvcnRzLlVpbnQ4QXJyYXlUeXBlID0gVWludDhBcnJheVR5cGU7XG5jbGFzcyBCdWZmZXJUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcihsZW4pIHtcbiAgICAgICAgdGhpcy5sZW4gPSBsZW47XG4gICAgfVxuICAgIGdldCh1aW50OEFycmF5LCBvZmYpIHtcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHVpbnQ4QXJyYXkuc3ViYXJyYXkob2ZmLCBvZmYgKyB0aGlzLmxlbikpO1xuICAgIH1cbn1cbmV4cG9ydHMuQnVmZmVyVHlwZSA9IEJ1ZmZlclR5cGU7XG4vKipcbiAqIENvbnN1bWUgYSBmaXhlZCBudW1iZXIgb2YgYnl0ZXMgZnJvbSB0aGUgc3RyZWFtIGFuZCByZXR1cm4gYSBzdHJpbmcgd2l0aCBhIHNwZWNpZmllZCBlbmNvZGluZy5cbiAqL1xuY2xhc3MgU3RyaW5nVHlwZSB7XG4gICAgY29uc3RydWN0b3IobGVuLCBlbmNvZGluZykge1xuICAgICAgICB0aGlzLmxlbiA9IGxlbjtcbiAgICAgICAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nO1xuICAgIH1cbiAgICBnZXQodWludDhBcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBCdWZmZXIuZnJvbSh1aW50OEFycmF5KS50b1N0cmluZyh0aGlzLmVuY29kaW5nLCBvZmZzZXQsIG9mZnNldCArIHRoaXMubGVuKTtcbiAgICB9XG59XG5leHBvcnRzLlN0cmluZ1R5cGUgPSBTdHJpbmdUeXBlO1xuLyoqXG4gKiBBTlNJIExhdGluIDEgU3RyaW5nXG4gKiBVc2luZyB3aW5kb3dzLTEyNTIgLyBJU08gODg1OS0xIGRlY29kaW5nXG4gKi9cbmNsYXNzIEFuc2lTdHJpbmdUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcihsZW4pIHtcbiAgICAgICAgdGhpcy5sZW4gPSBsZW47XG4gICAgfVxuICAgIHN0YXRpYyBkZWNvZGUoYnVmZmVyLCBvZmZzZXQsIHVudGlsKSB7XG4gICAgICAgIGxldCBzdHIgPSAnJztcbiAgICAgICAgZm9yIChsZXQgaSA9IG9mZnNldDsgaSA8IHVudGlsOyArK2kpIHtcbiAgICAgICAgICAgIHN0ciArPSBBbnNpU3RyaW5nVHlwZS5jb2RlUG9pbnRUb1N0cmluZyhBbnNpU3RyaW5nVHlwZS5zaW5nbGVCeXRlRGVjb2RlcihidWZmZXJbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBzdGF0aWMgaW5SYW5nZShhLCBtaW4sIG1heCkge1xuICAgICAgICByZXR1cm4gbWluIDw9IGEgJiYgYSA8PSBtYXg7XG4gICAgfVxuICAgIHN0YXRpYyBjb2RlUG9pbnRUb1N0cmluZyhjcCkge1xuICAgICAgICBpZiAoY3AgPD0gMHhGRkZGKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjcCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjcCAtPSAweDEwMDAwO1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoKGNwID4+IDEwKSArIDB4RDgwMCwgKGNwICYgMHgzRkYpICsgMHhEQzAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgc2luZ2xlQnl0ZURlY29kZXIoYml0ZSkge1xuICAgICAgICBpZiAoQW5zaVN0cmluZ1R5cGUuaW5SYW5nZShiaXRlLCAweDAwLCAweDdGKSkge1xuICAgICAgICAgICAgcmV0dXJuIGJpdGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29kZVBvaW50ID0gQW5zaVN0cmluZ1R5cGUud2luZG93czEyNTJbYml0ZSAtIDB4ODBdO1xuICAgICAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignaW52YWxpZGluZyBlbmNvZGluZycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2RlUG9pbnQ7XG4gICAgfVxuICAgIGdldChidWZmZXIsIG9mZnNldCA9IDApIHtcbiAgICAgICAgcmV0dXJuIEFuc2lTdHJpbmdUeXBlLmRlY29kZShidWZmZXIsIG9mZnNldCwgb2Zmc2V0ICsgdGhpcy5sZW4pO1xuICAgIH1cbn1cbmV4cG9ydHMuQW5zaVN0cmluZ1R5cGUgPSBBbnNpU3RyaW5nVHlwZTtcbkFuc2lTdHJpbmdUeXBlLndpbmRvd3MxMjUyID0gWzgzNjQsIDEyOSwgODIxOCwgNDAyLCA4MjIyLCA4MjMwLCA4MjI0LCA4MjI1LCA3MTAsIDgyNDAsIDM1MixcbiAgICA4MjQ5LCAzMzgsIDE0MSwgMzgxLCAxNDMsIDE0NCwgODIxNiwgODIxNywgODIyMCwgODIyMSwgODIyNiwgODIxMSwgODIxMiwgNzMyLFxuICAgIDg0ODIsIDM1MywgODI1MCwgMzM5LCAxNTcsIDM4MiwgMzc2LCAxNjAsIDE2MSwgMTYyLCAxNjMsIDE2NCwgMTY1LCAxNjYsIDE2NywgMTY4LFxuICAgIDE2OSwgMTcwLCAxNzEsIDE3MiwgMTczLCAxNzQsIDE3NSwgMTc2LCAxNzcsIDE3OCwgMTc5LCAxODAsIDE4MSwgMTgyLCAxODMsIDE4NCxcbiAgICAxODUsIDE4NiwgMTg3LCAxODgsIDE4OSwgMTkwLCAxOTEsIDE5MiwgMTkzLCAxOTQsIDE5NSwgMTk2LCAxOTcsIDE5OCwgMTk5LCAyMDAsXG4gICAgMjAxLCAyMDIsIDIwMywgMjA0LCAyMDUsIDIwNiwgMjA3LCAyMDgsIDIwOSwgMjEwLCAyMTEsIDIxMiwgMjEzLCAyMTQsIDIxNSwgMjE2LFxuICAgIDIxNywgMjE4LCAyMTksIDIyMCwgMjIxLCAyMjIsIDIyMywgMjI0LCAyMjUsIDIyNiwgMjI3LCAyMjgsIDIyOSwgMjMwLCAyMzEsIDIzMixcbiAgICAyMzMsIDIzNCwgMjM1LCAyMzYsIDIzNywgMjM4LCAyMzksIDI0MCwgMjQxLCAyNDIsIDI0MywgMjQ0LCAyNDUsIDI0NiwgMjQ3LFxuICAgIDI0OCwgMjQ5LCAyNTAsIDI1MSwgMjUyLCAyNTMsIDI1NCwgMjU1XTtcbiIsIlwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGNhbmNlbChlKXtlJiZlLm9wdGlvbnMmJmNsZWFyVGltZW91dChlLm9wdGlvbnMudGltZXIpfWZ1bmN0aW9uIGdldFdyYXBwZXIobyxuLGksZSl7dmFyIGE9e3RpbWVyOnZvaWQgMCxsYXN0QXJnczpbXX0sdD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLHQ9W10scj0wO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyXT1hcmd1bWVudHNbcl07YS5sYXN0QXJncz10LGEudGltZXI/Y2xlYXJUaW1lb3V0KGEudGltZXIpOm4mJmkuYXBwbHkodGhpcyxhLmxhc3RBcmdzKSxhLnRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtufHxpLmFwcGx5KGUsYS5sYXN0QXJncyksYS50aW1lcj12b2lkIDB9LG8pfTtyZXR1cm4gZSYmKHQ9dC5iaW5kKGUpKSx0Lm9wdGlvbnM9YSx0fWZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KHQscixlLG8pe3ZhciBuO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiBufSxzZXQ6ZnVuY3Rpb24oZSl7bj1nZXRXcmFwcGVyKHQscixlLHRoaXMpfX0pfWZ1bmN0aW9uIG1vZGlmeURlc2NyaXB0b3IoZSx0LHIpe3ZhciBvPXIudmFsdWU7cmV0dXJuIHIudmFsdWU9Z2V0V3JhcHBlcihlLHQsbykscn1mdW5jdGlvbiBjcmVhdGVEZWJvdW5jZShlLHQpe2Zvcih2YXIgcj1bXSxvPTI7bzxhcmd1bWVudHMubGVuZ3RoO28rKylyW28tMl09YXJndW1lbnRzW29dO2lmKDA9PT1yLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJmdW5jdGlvbiBhcHBsaWVkIGRlYm91bmNlIGRlY29yYXRvciBzaG91bGQgYmUgYSBtZXRob2RcIik7aWYoMT09PXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIm1ldGhvZCBhcHBsaWVkIGRlYm91bmNlIGRlY29yYXRvciBzaG91bGQgaGF2ZSB2YWxpZCBuYW1lXCIpO3ZhciBuPXJbMF0saT1yWzFdLGE9Mz09PXIubGVuZ3RoJiZyWzJdP3JbMl06T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpO2lmKGEpcmV0dXJuIG1vZGlmeURlc2NyaXB0b3IoZSx0LGEpO2RlZmluZVByb3BlcnR5KGUsdCxuLGkpfWZ1bmN0aW9uIGRlYm91bmNlKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3ZhciByPTUwMCxvPSExO2lmKGUubGVuZ3RoJiYoXCJudW1iZXJcIj09dHlwZW9mIGVbMF18fFwib2JqZWN0XCI9PXR5cGVvZiBlWzBdJiZ2b2lkIDAhPT1lWzBdLmxlYWRpbmcpKXtcIm51bWJlclwiPT10eXBlb2YgZVswXSYmKHI9ZVswXSk7dmFyIG49dm9pZCAwO3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlWzBdJiZ2b2lkIDAhPT1lWzBdLmxlYWRpbmcmJihuPWVbMF0pLDE8ZS5sZW5ndGgmJlwib2JqZWN0XCI9PXR5cGVvZiBlWzFdJiZ2b2lkIDAhPT1lWzFdLmxlYWRpbmcmJihuPWVbMV0pLG4mJihvPW4ubGVhZGluZyksZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07cmV0dXJuIGNyZWF0ZURlYm91bmNlLmFwcGx5KHZvaWQgMCxbcixvXS5jb25jYXQoZSkpfX1yZXR1cm4gY3JlYXRlRGVib3VuY2UuYXBwbHkodm9pZCAwLFtyLG9dLmNvbmNhdChlKSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5jYW5jZWw9Y2FuY2VsLGV4cG9ydHMuZGVib3VuY2U9ZGVib3VuY2U7XG4iLCIvKmdsb2JhbCBkZWZpbmUgKi9cblxuLy8gRGV0ZWN0aW5nIGRhdGEgVVJMc1xuLy8gZGF0YSBVUkkgLSBNRE4gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9kYXRhX1VSSXNcbi8vIFRoZSBcImRhdGFcIiBVUkwgc2NoZW1lOiBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMyMzk3XG4vLyBWYWxpZCBVUkwgQ2hhcmFjdGVyczogaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMjM5NiNzZWN0aW9uMlxuXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2dvdHdhcmxvc3QvaXN0YW5idWwvYmxvYi9tYXN0ZXIvaWdub3JpbmctY29kZS1mb3ItY292ZXJhZ2UubWQjaWdub3JlLWEtdW1kLXdyYXBwZXJcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICByb290LnZhbGlkRGF0YVVybCA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiB2YWxpZERhdGFVcmwocykge1xuICAgIHJldHVybiB2YWxpZERhdGFVcmwucmVnZXgudGVzdCgocyB8fCAnJykudHJpbSgpKTtcbiAgfVxuICB2YWxpZERhdGFVcmwucmVnZXggPSAvXmRhdGE6KFthLXpdK1xcL1thLXowLTktKy5dKyg7W2EtejAtOS0uISMkJSorLnt9fH5gXSs9W2EtejAtOS0uISMkJSorLnt9KClffH5gXSspKik/KDtiYXNlNjQpPywoW2EtejAtOSEkJicsKCkqKzs9XFwtLl9+OkBcXC8/JVxcczw+XSo/KSQvaTtcblxuICByZXR1cm4gdmFsaWREYXRhVXJsO1xufSkpO1xuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBjaGF0IGFzIENoYXQgfSBmcm9tICcuLi8nO1xyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBDaGF0TW9kZWwsIE5ld3NsZXR0ZXJTdG9yZSwgV2lkIH0gZnJvbSAnLi4vd2hhdHNhcHAnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEludmFsaWRDaGF0IGV4dGVuZHMgV1BQRXJyb3Ige1xyXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IGlkOiBzdHJpbmcgfCB7IF9zZXJpYWxpemVkOiBzdHJpbmcgfSkge1xyXG4gICAgc3VwZXIoJ2NoYXRfbm90X2ZvdW5kJywgYENoYXQgbm90IGZvdW5kIGZvciAke2lkfWApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2VydEZpbmRDaGF0KGlkOiBzdHJpbmcgfCBXaWQpOiBQcm9taXNlPENoYXRNb2RlbD4ge1xyXG4gIGNvbnN0IGNoYXQgPSBhd2FpdCAoQ2hhdCBhcyBhbnkpLmZpbmQoaWQpO1xyXG5cclxuICBpZiAoIWNoYXQpIHtcclxuICAgIHRocm93IG5ldyBJbnZhbGlkQ2hhdChpZCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY2hhdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEdldENoYXQoaWQ6IHN0cmluZyB8IFdpZCk6IENoYXRNb2RlbCB7XHJcbiAgbGV0IGNoYXQgPSBudWxsO1xyXG4gIGlmIChpZC50b1N0cmluZygpLmluY2x1ZGVzKCduZXdzbGV0dGVyJykpIHtcclxuICAgIGNoYXQgPSBOZXdzbGV0dGVyU3RvcmUuZ2V0KGlkKTtcclxuICB9IGVsc2Uge1xyXG4gICAgY2hhdCA9IChDaGF0IGFzIGFueSkuZ2V0KGlkKTtcclxuICB9XHJcblxyXG4gIGlmICghY2hhdCkge1xyXG4gICAgdGhyb3cgbmV3IEludmFsaWRDaGF0KGlkKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBjaGF0O1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi91dGlsJztcclxuXHJcbmV4cG9ydCBjbGFzcyBJbnZhbGlkQ29sb3IgZXh0ZW5kcyBXUFBFcnJvciB7XHJcbiAgY29uc3RydWN0b3IocmVhZG9ubHkgY29sb3I/OiBzdHJpbmcgfCBudW1iZXIgfCB7IF9zZXJpYWxpemVkOiBzdHJpbmcgfSkge1xyXG4gICAgc3VwZXIoJ2ludmFsaWRfY29sb3InLCBgSW52YWxpZCBDb2xvciB2YWx1ZSBmb3IgJHtjb2xvcn1gKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm4gdGhlIGNvbG9yICBpbiBwb3NpdGl2ZSBkZWNpbWFsXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogYXNzZXJ0Q29sb3IoJyNkZmFlZjAnKTsgIC8vUmVzdWx0OiA0MjkyODQ5MzkyXHJcbiAqIGFzc2VydENvbG9yKCdkZmFlZjAnKTsgICAvL1Jlc3VsdDogNDI5Mjg0OTM5MlxyXG4gKiBhc3NlcnRDb2xvcigtMjExNzkwNCk7ICAgLy9SZXN1bHQ6IDQyOTI4NDkzOTJcclxuICogYXNzZXJ0Q29sb3IoNDI5Mjg0OTM5Mik7IC8vUmVzdWx0OiA0MjkyODQ5MzkyXHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydENvbG9yKGNvbG9yPzogc3RyaW5nIHwgbnVtYmVyKTogbnVtYmVyIHtcclxuICBsZXQgYXNzZXJ0ZWRDb2xvcjogbnVtYmVyO1xyXG4gIGlmICh0eXBlb2YgY29sb3IgPT09ICdudW1iZXInKSB7XHJcbiAgICBhc3NlcnRlZENvbG9yID0gY29sb3IgPiAwID8gY29sb3IgOiAweGZmZmZmZmZmICsgTnVtYmVyKGNvbG9yKSArIDE7XHJcbiAgfSBlbHNlIGlmICh0eXBlb2YgY29sb3IgPT09ICdzdHJpbmcnKSB7XHJcbiAgICBsZXQgaGV4ID0gY29sb3IudHJpbSgpLnJlcGxhY2UoJyMnLCAnJyk7XHJcbiAgICBpZiAoaGV4Lmxlbmd0aCA8PSA2KSB7XHJcbiAgICAgIGhleCA9ICdGRicgKyBoZXgucGFkU3RhcnQoNiwgJzAnKTtcclxuICAgIH1cclxuICAgIGFzc2VydGVkQ29sb3IgPSBwYXJzZUludChoZXgsIDE2KTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhyb3cgbmV3IEludmFsaWRDb2xvcihjb2xvcik7XHJcbiAgfVxyXG4gIHJldHVybiBhc3NlcnRlZENvbG9yO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi91dGlsJztcclxuaW1wb3J0IHsgQ29ubiB9IGZyb20gJy4uL3doYXRzYXBwJztcclxuXHJcbmV4cG9ydCBjbGFzcyBOb3RJc0J1c2luZXNzRXJyb3IgZXh0ZW5kcyBXUFBFcnJvciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcignaXNfbm90X2J1c2luZXNzJywgYFRoaXMgYWNjb3VudCBpcyBub3QgYSBidXNpbmVzcyB2ZXJzaW9uYCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0SXNCdXNpbmVzcygpOiB2b2lkIHtcclxuICBpZiAoIUNvbm4uaXNTTUIpIHtcclxuICAgIHRocm93IG5ldyBOb3RJc0J1c2luZXNzRXJyb3IoKTtcclxuICB9XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBnZXRNeVVzZXJXaWQgfSBmcm9tICcuLi9jb25uL2Z1bmN0aW9ucy9nZXRNeVVzZXJXaWQnO1xyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBDYXRhbG9nU3RvcmUsIFByb2R1Y3RNb2RlbCB9IGZyb20gJy4uL3doYXRzYXBwJztcclxuXHJcbmV4cG9ydCBjbGFzcyBJbnZhbGlkUHJvZHVjdCBleHRlbmRzIFdQUEVycm9yIHtcclxuICBjb25zdHJ1Y3RvcihyZWFkb25seSBpZDogc3RyaW5nKSB7XHJcbiAgICBzdXBlcigncHJvZHVjdF9ub3RfZm91bmQnLCBgUHJvZHVjdCBub3QgZm91bmQgZm9yICR7aWR9YCk7XHJcbiAgfVxyXG59XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NlcnRHZXRQcm9kdWN0KFxyXG4gIHByb2R1Y3RJZDogc3RyaW5nXHJcbik6IFByb21pc2U8UHJvZHVjdE1vZGVsPiB7XHJcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IENhdGFsb2dTdG9yZS5maW5kUHJvZHVjdCh7XHJcbiAgICBjYXRhbG9nV2lkOiBnZXRNeVVzZXJXaWQoKSxcclxuICAgIHByb2R1Y3RJZDogcHJvZHVjdElkLFxyXG4gIH0pO1xyXG4gIGNvbnN0IFByb2R1Y3QgPSBwcm9kdWN0WzBdLm1zZ1Byb2R1Y3RDb2xsZWN0aW9uLl9pbmRleFtwcm9kdWN0SWRdO1xyXG5cclxuICBpZiAoIVByb2R1Y3QpIHtcclxuICAgIHRocm93IG5ldyBJbnZhbGlkUHJvZHVjdChwcm9kdWN0SWQpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFByb2R1Y3Q7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBjcmVhdGVXaWQsIFdQUEVycm9yIH0gZnJvbSAnLi4vdXRpbCc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uL3doYXRzYXBwJztcclxuXHJcbmV4cG9ydCBjbGFzcyBJbnZhbGlkV2lkIGV4dGVuZHMgV1BQRXJyb3Ige1xyXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IGlkOiBzdHJpbmcgfCB7IF9zZXJpYWxpemVkOiBzdHJpbmcgfSkge1xyXG4gICAgc3VwZXIoJ2ludmFsaWRfd2lkJywgYEludmFsaWQgV0lEIHZhbHVlIGZvciAke2lkfWApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFdpZChpZDogc3RyaW5nIHwgeyBfc2VyaWFsaXplZDogc3RyaW5nIH0pOiBXaWQge1xyXG4gIGNvbnN0IHdpZCA9IGNyZWF0ZVdpZChpZCk7XHJcblxyXG4gIGlmICghd2lkKSB7XHJcbiAgICB0aHJvdyBuZXcgSW52YWxpZFdpZChpZCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gd2lkO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9hc3NlcnRDaGF0JztcclxuZXhwb3J0ICogZnJvbSAnLi9hc3NlcnRDb2xvcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vYXNzZXJ0SXNCdXNpbmVzcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vYXNzZXJ0UHJvZHVjdCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vYXNzZXJ0V2lkJztcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgJy4vcmVnaXN0ZXJTeW5jZWRFdmVudCc7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaW50ZXJuYWxFdiB9IGZyb20gJy4uLy4uL2V2ZW50RW1pdHRlcic7XHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IEJsb2NrbGlzdFN0b3JlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxud2VicGFjay5vbkluamVjdGVkKCgpID0+IHJlZ2lzdGVyU3luY2VkRXZlbnQoKSk7XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlclN5bmNlZEV2ZW50KCkge1xyXG4gIEJsb2NrbGlzdFN0b3JlLm9uKCdzb3J0JywgKCkgPT4ge1xyXG4gICAgaW50ZXJuYWxFdi5lbWl0KCdibG9ja2xpc3Quc3luYycpO1xyXG4gIH0pO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQmxvY2tsaXN0U3RvcmUsIFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhbGwoKTogV2lkW10ge1xyXG4gIHJldHVybiBCbG9ja2xpc3RTdG9yZS5nZXRNb2RlbHNBcnJheSgpLm1hcCgoYikgPT4gYi5pZCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBjb21wYXJlIH0gZnJvbSAnY29tcGFyZS12ZXJzaW9ucyc7XHJcblxyXG5pbXBvcnQgeyBhc3NlcnRXaWQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBDb250YWN0TW9kZWwsIENvbnRhY3RTdG9yZSwgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBTQU5JVElaRURfVkVSU0lPTl9TVFIgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9jb250YW50cyc7XHJcbmltcG9ydCAqIGFzIHdhX2Z1bmN0aW9ucyBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBCbG9ja2xpc3RSZXN1bHQgfSBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCB7IGlzQmxvY2tlZCB9IGZyb20gJy4vaXNCbG9ja2VkJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBibG9ja0NvbnRhY3QoXHJcbiAgY2hhdElkOiBzdHJpbmcgfCBXaWRcclxuKTogUHJvbWlzZTxCbG9ja2xpc3RSZXN1bHQ+IHtcclxuICBjb25zdCB3aWQgPSBhc3NlcnRXaWQoY2hhdElkKTtcclxuXHJcbiAgY29uc3QgY29udGFjdCA9IENvbnRhY3RTdG9yZS5nZXQod2lkKSB8fCBuZXcgQ29udGFjdE1vZGVsKHsgaWQ6IHdpZCB9KTtcclxuXHJcbiAgaWYgKGNvbXBhcmUoU0FOSVRJWkVEX1ZFUlNJT05fU1RSLCAnMi4yMzIzLjQnLCAnPj0nKSkge1xyXG4gICAgYXdhaXQgd2FfZnVuY3Rpb25zLmJsb2NrQ29udGFjdCh7XHJcbiAgICAgIGNvbnRhY3QsXHJcbiAgICAgIGJsb2NrRW50cnlQb2ludDogJ2Jsb2NrX2xpc3QnLFxyXG4gICAgICBiaXpPcHRPdXRBcmdzOiBudWxsLFxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGF3YWl0IHdhX2Z1bmN0aW9ucy5ibG9ja0NvbnRhY3QoY29udGFjdCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgd2lkLFxyXG4gICAgaXNCbG9ja2VkOiBpc0Jsb2NrZWQod2lkKSxcclxuICB9O1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IHsgYWxsIH0gZnJvbSAnLi9hbGwnO1xyXG5leHBvcnQgeyBibG9ja0NvbnRhY3QgfSBmcm9tICcuL2Jsb2NrQ29udGFjdCc7XHJcbmV4cG9ydCB7IGlzQmxvY2tlZCB9IGZyb20gJy4vaXNCbG9ja2VkJztcclxuZXhwb3J0IHsgdW5ibG9ja0NvbnRhY3QgfSBmcm9tICcuL3VuYmxvY2tDb250YWN0JztcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRXaWQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBCbG9ja2xpc3RTdG9yZSwgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQmxvY2tlZChjaGF0SWQ6IHN0cmluZyB8IFdpZCk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IHdpZCA9IGFzc2VydFdpZChjaGF0SWQpO1xyXG5cclxuICBjb25zdCBjb250YWN0ID0gQmxvY2tsaXN0U3RvcmUuZ2V0KHdpZCk7XHJcblxyXG4gIHJldHVybiAhIWNvbnRhY3Q7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRXaWQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBDb250YWN0TW9kZWwsIENvbnRhY3RTdG9yZSwgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgKiBhcyB3YV9mdW5jdGlvbnMgZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHsgQmxvY2tsaXN0UmVzdWx0IH0gZnJvbSAnLi4vdHlwZXMnO1xyXG5pbXBvcnQgeyBpc0Jsb2NrZWQgfSBmcm9tICcuL2lzQmxvY2tlZCc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5ibG9ja0NvbnRhY3QoXHJcbiAgY2hhdElkOiBzdHJpbmcgfCBXaWRcclxuKTogUHJvbWlzZTxCbG9ja2xpc3RSZXN1bHQ+IHtcclxuICBjb25zdCB3aWQgPSBhc3NlcnRXaWQoY2hhdElkKTtcclxuXHJcbiAgY29uc3QgY29udGFjdCA9IENvbnRhY3RTdG9yZS5nZXQod2lkKSB8fCBuZXcgQ29udGFjdE1vZGVsKHsgaWQ6IHdpZCB9KTtcclxuXHJcbiAgYXdhaXQgd2FfZnVuY3Rpb25zLnVuYmxvY2tDb250YWN0KGNvbnRhY3QpO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgd2lkLFxyXG4gICAgaXNCbG9ja2VkOiBpc0Jsb2NrZWQod2lkKSxcclxuICB9O1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICcuL2V2ZW50cyc7XHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2Z1bmN0aW9ucyc7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICcuL3JlZ2lzdGVySW5jb21pbmdDYWxsRXZlbnQnO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjUgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGludGVybmFsRXYgfSBmcm9tICcuLi8uLi9ldmVudEVtaXR0ZXInO1xyXG5pbXBvcnQgeyBjcmVhdGVXaWQgfSBmcm9tICcuLi8uLi91dGlsL2NyZWF0ZVdpZCc7XHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IENhbGxNb2RlbCwgQ2FsbFN0b3JlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBDQUxMX1NUQVRFUyB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2VudW1zJztcclxuXHJcbndlYnBhY2sub25JbmplY3RlZCgoKSA9PiByZWdpc3RlcigpKTtcclxuXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyKCkge1xyXG4gIENhbGxTdG9yZS5vbignYWRkJywgKGNhbGw6IENhbGxNb2RlbCkgPT4ge1xyXG4gICAgaWYgKGNhbGwuaXNHcm91cCkge1xyXG4gICAgICBpbnRlcm5hbEV2LmVtaXQoJ2NhbGwuaW5jb21pbmdfY2FsbCcsIHtcclxuICAgICAgICBpZDogY2FsbC5pZCxcclxuICAgICAgICBpc0dyb3VwOiBjYWxsLmlzR3JvdXAsXHJcbiAgICAgICAgaXNWaWRlbzogY2FsbC5pc1ZpZGVvLFxyXG4gICAgICAgIG9mZmVyVGltZTogY2FsbC5vZmZlclRpbWUsXHJcbiAgICAgICAgc2VuZGVyOiBjcmVhdGVXaWQoY2FsbC5wZWVySmlkKSxcclxuICAgICAgICBwZWVySmlkOiBjYWxsLnBlZXJKaWQsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBDYWxsU3RvcmUub24oJ2NoYW5nZScsIChjYWxsOiBDYWxsTW9kZWwpID0+IHtcclxuICAgIGlmIChcclxuICAgICAgLy8gRml4IGZvciBtYW50YWluIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciB2ZXJzaW9ucyBvZiB3aGF0c2FwcCB3ZWJcclxuICAgICAgY2FsbC5nZXRTdGF0ZSgpID09PSBDQUxMX1NUQVRFUy5JTkNPTUlOR19SSU5HIHx8XHJcbiAgICAgIC8vID49IDIuMzAwMC4xMDIxMy54XHJcbiAgICAgIGNhbGwuZ2V0U3RhdGUoKSA9PT0gQ0FMTF9TVEFURVMuUmVjZWl2ZWRDYWxsXHJcbiAgICApIHtcclxuICAgICAgaW50ZXJuYWxFdi5lbWl0KCdjYWxsLmluY29taW5nX2NhbGwnLCB7XHJcbiAgICAgICAgaWQ6IGNhbGwuaWQsXHJcbiAgICAgICAgaXNHcm91cDogY2FsbC5pc0dyb3VwLFxyXG4gICAgICAgIGlzVmlkZW86IGNhbGwuaXNWaWRlbyxcclxuICAgICAgICBvZmZlclRpbWU6IGNhbGwub2ZmZXJUaW1lLFxyXG4gICAgICAgIHNlbmRlcjogY3JlYXRlV2lkKGNhbGwucGVlckppZCksXHJcbiAgICAgICAgcGVlckppZDogY2FsbC5wZWVySmlkLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7IENhbGxNb2RlbCwgQ2FsbFN0b3JlLCB3ZWJzb2NrZXQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IENBTExfU1RBVEVTIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZW51bXMnO1xyXG5cclxuLyoqXHJcbiAqIEFjY2VwdCBhIGluY29taW5nIGNhbGxcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyBBY2NlcHQgYW55IGluY29taW5nIGNhbGxcclxuICogV1BQLmNhbGwuYWNjZXB0KCk7XHJcbiAqXHJcbiAqIC8vIEFjY2VwdCBzcGVjaWZpYyBjYWxsIGlkXHJcbiAqIFdQUC5jYWxsLmFjY2VwdChjYWxsSWQpO1xyXG4gKlxyXG4gKiAvLyBBY2NlcHQgYW55IGluY29taW5nIGNhbGxcclxuICogV1BQLm9uKCdjYWxsLmluY29taW5nX2NhbGwnLCAoY2FsbCkgPT4ge1xyXG4gKiAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gKiAgICAgV1BQLmNhbGwuYWNjZXB0KGNhbGwuaWQpO1xyXG4gKiAgIH0sIDEwMDApO1xyXG4gKiB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBwYXJhbSAgIHtzdHJpbmd9ICBjYWxsSWQgIFRoZSBjYWxsIElELCBlbXB0eSB0byBhY2NlcHQgdGhlIGZpcnN0IG9uZVxyXG4gKiBAcmV0dXJuICB7W3R5cGVdfSAgICAgICAgICBbcmV0dXJuIGRlc2NyaXB0aW9uXVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFjY2VwdChjYWxsSWQ/OiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICBsZXQgY2FsbDogQ2FsbE1vZGVsIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG5cclxuICBpZiAoY2FsbElkKSB7XHJcbiAgICBjYWxsID0gQ2FsbFN0b3JlLmdldChjYWxsSWQpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBGaXJzdCBpbmNvbWluZyByaW5nIG9yIGNhbGwgZ3JvdXBcclxuICAgIGNhbGwgPSBDYWxsU3RvcmUuZmluZEZpcnN0KFxyXG4gICAgICAoYykgPT4gYy5nZXRTdGF0ZSgpID09PSBDQUxMX1NUQVRFUy5JTkNPTUlOR19SSU5HIHx8IGMuaXNHcm91cFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGlmICghY2FsbCkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnY2FsbF9ub3RfZm91bmQnLFxyXG4gICAgICBgQ2FsbCAke2NhbGxJZCB8fCAnPGVtcHR5Pid9IG5vdCBmb3VuZGAsXHJcbiAgICAgIHtcclxuICAgICAgICBjYWxsSWQsXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBpZiAoY2FsbC5nZXRTdGF0ZSgpICE9PSAnSU5DT01JTkdfUklORycgJiYgIWNhbGwuaXNHcm91cCkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnY2FsbF9pc19ub3RfaW5jb21pbmdfcmluZycsXHJcbiAgICAgIGBDYWxsICR7Y2FsbElkIHx8ICc8ZW1wdHk+J30gaXMgbm90IGluY29taW5nIHJpbmdgLFxyXG4gICAgICB7XHJcbiAgICAgICAgY2FsbElkLFxyXG4gICAgICAgIHN0YXRlOiBjYWxsLmdldFN0YXRlKCksXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBpZiAoIWNhbGwucGVlckppZC5pc0dyb3VwQ2FsbCgpKSB7XHJcbiAgICBhd2FpdCB3ZWJzb2NrZXQuZW5zdXJlRTJFU2Vzc2lvbnMoW2NhbGwucGVlckppZF0pO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgY29udGVudCA9IFtcclxuICAgIHdlYnNvY2tldC5zbWF4KCdhdWRpbycsIHsgZW5jOiAnb3B1cycsIHJhdGU6ICcxNjAwMCcgfSwgbnVsbCksXHJcbiAgICB3ZWJzb2NrZXQuc21heCgnYXVkaW8nLCB7IGVuYzogJ29wdXMnLCByYXRlOiAnODAwMCcgfSwgbnVsbCksXHJcbiAgXTtcclxuXHJcbiAgaWYgKGNhbGwuaXNWaWRlbykge1xyXG4gICAgY29udGVudC5wdXNoKFxyXG4gICAgICB3ZWJzb2NrZXQuc21heChcclxuICAgICAgICAndmlkZW8nLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIG9yaWVudGF0aW9uOiAnMCcsXHJcbiAgICAgICAgICBzY3JlZW5fd2lkdGg6ICcxOTIwJyxcclxuICAgICAgICAgIHNjcmVlbl9oZWlnaHQ6ICcxMDgwJyxcclxuICAgICAgICAgIGRldmljZV9vcmllbnRhdGlvbjogJzAnLFxyXG4gICAgICAgICAgZW5jOiAndnA4JyxcclxuICAgICAgICAgIGRlYzogJ3ZwOCcsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBudWxsXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBjb250ZW50LnB1c2goXHJcbiAgICAuLi5bXHJcbiAgICAgIHdlYnNvY2tldC5zbWF4KCduZXQnLCB7IG1lZGl1bTogJzMnIH0sIG51bGwpLFxyXG4gICAgICB3ZWJzb2NrZXQuc21heCgnZW5jb3B0JywgeyBrZXlnZW46ICcyJyB9LCBudWxsKSxcclxuICAgIF1cclxuICApO1xyXG5cclxuICBjb25zdCBub2RlID0gd2Vic29ja2V0LnNtYXgoXHJcbiAgICAnY2FsbCcsXHJcbiAgICB7XHJcbiAgICAgIHRvOiBjYWxsLnBlZXJKaWQudG9TdHJpbmcoeyBsZWdhY3k6IHRydWUgfSksXHJcbiAgICAgIGlkOiB3ZWJzb2NrZXQuZ2VuZXJhdGVJZCgpLFxyXG4gICAgfSxcclxuICAgIFtcclxuICAgICAgd2Vic29ja2V0LnNtYXgoXHJcbiAgICAgICAgJ2FjY2VwdCcsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgJ2NhbGwtaWQnOiBjYWxsLmlkLFxyXG4gICAgICAgICAgJ2NhbGwtY3JlYXRvcic6IGNhbGwucGVlckppZC50b1N0cmluZyh7IGxlZ2FjeTogdHJ1ZSB9KSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRlbnRcclxuICAgICAgKSxcclxuICAgIF1cclxuICApO1xyXG5cclxuICBhd2FpdCB3ZWJzb2NrZXQuc2VuZFNtYXhTdGFuemEobm9kZSk7XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgQ2FsbE1vZGVsLCBDYWxsU3RvcmUsIHdlYnNvY2tldCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgQ0FMTF9TVEFURVMgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9lbnVtcyc7XHJcblxyXG4vKipcclxuICogRW5kIGEgY2FsbFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIEVuZCBhbnkgY2FsbFxyXG4gKiBXUFAuY2FsbC5lbmQoKTtcclxuICpcclxuICogLy8gRW5kIHNwZWNpZmljIGNhbGwgaWRcclxuICogV1BQLmNhbGwuZW5kKGNhbGxJZCk7XHJcbiAqXHJcbiAqIC8vIEVuZCBhbnkgaW5jb21pbmcgY2FsbFxyXG4gKiBXUFAub24oJ2NhbGwuaW5jb21pbmdfY2FsbCcsIChjYWxsKSA9PiB7XHJcbiAqICAgV1BQLmNhbGwuZW5kKGNhbGwuaWQpO1xyXG4gKiB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBwYXJhbSAgIHtzdHJpbmd9ICBjYWxsSWQgIFRoZSBjYWxsIElELCBlbXB0eSB0byBlbmQgdGhlIGZpcnN0IG9uZVxyXG4gKiBAcmV0dXJuICB7W3R5cGVdfSAgICAgICAgICBbcmV0dXJuIGRlc2NyaXB0aW9uXVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuZChjYWxsSWQ/OiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICBjb25zdCBjYWxsT3V0ID0gW1xyXG4gICAgQ0FMTF9TVEFURVMuQUNUSVZFLFxyXG4gICAgQ0FMTF9TVEFURVMuT1VUR09JTkdfQ0FMTElORyxcclxuICAgIENBTExfU1RBVEVTLk9VVEdPSU5HX1JJTkcsXHJcbiAgICBDQUxMX1NUQVRFUy5DYWxsQWN0aXZlLFxyXG4gIF07XHJcblxyXG4gIGxldCBjYWxsOiBDYWxsTW9kZWwgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XHJcblxyXG4gIGlmIChjYWxsSWQpIHtcclxuICAgIGNhbGwgPSBDYWxsU3RvcmUuZ2V0KGNhbGxJZCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNhbGwgPSBDYWxsU3RvcmUuYWN0aXZlQ2FsbCA/PyB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBpZiAoIWNhbGwpIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ2NhbGxfbm90X2ZvdW5kJyxcclxuICAgICAgYENhbGwgJHtjYWxsSWQgfHwgJzxlbXB0eT4nfSBub3QgZm91bmRgLFxyXG4gICAgICB7XHJcbiAgICAgICAgY2FsbElkLFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFjYWxsT3V0LmluY2x1ZGVzKGNhbGwuZ2V0U3RhdGUoKSkgJiYgIWNhbGwuaXNHcm91cCkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnY2FsbF9pc19ub3Rfb3V0Y29taW5nX2NhbGxpbmcnLFxyXG4gICAgICBgQ2FsbCAke2NhbGxJZCB8fCAnPGVtcHR5Pid9IGlzIG5vdCBpbmNvbWluZyBjYWxsaW5nYCxcclxuICAgICAge1xyXG4gICAgICAgIGNhbGxJZCxcclxuICAgICAgICBzdGF0ZTogY2FsbC5nZXRTdGF0ZSgpLFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFjYWxsLnBlZXJKaWQuaXNHcm91cENhbGwoKSkge1xyXG4gICAgYXdhaXQgd2Vic29ja2V0LmVuc3VyZUUyRVNlc3Npb25zKFtjYWxsLnBlZXJKaWRdKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IG5vZGUgPSB3ZWJzb2NrZXQuc21heChcclxuICAgICdjYWxsJyxcclxuICAgIHtcclxuICAgICAgdG86IGNhbGwucGVlckppZC50b1N0cmluZyh7IGxlZ2FjeTogdHJ1ZSB9KSxcclxuICAgICAgaWQ6IHdlYnNvY2tldC5nZW5lcmF0ZUlkKCksXHJcbiAgICB9LFxyXG4gICAgW1xyXG4gICAgICB3ZWJzb2NrZXQuc21heChcclxuICAgICAgICAndGVybWluYXRlJyxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAnY2FsbC1pZCc6IGNhbGwuaWQsXHJcbiAgICAgICAgICAnY2FsbC1jcmVhdG9yJzogY2FsbC5wZWVySmlkLnRvU3RyaW5nKHsgbGVnYWN5OiB0cnVlIH0pLFxyXG4gICAgICAgICAgLy8gY291bnQ6ICcwJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIG51bGxcclxuICAgICAgKSxcclxuICAgIF1cclxuICApO1xyXG5cclxuICBhd2FpdCB3ZWJzb2NrZXQuc2VuZFNtYXhTdGFuemEobm9kZSk7XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IHsgYWNjZXB0IH0gZnJvbSAnLi9hY2NlcHQnO1xyXG5leHBvcnQgeyBlbmQgfSBmcm9tICcuL2VuZCc7XHJcbmV4cG9ydCB7IG9mZmVyIH0gZnJvbSAnLi9vZmZlcic7XHJcbmV4cG9ydCB7IHJlamVjdCwgcmVqZWN0IGFzIHJlamVjdENhbGwgfSBmcm9tICcuL3JlamVjdCc7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0V2lkIH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgZ2V0TXlVc2VySWQgfSBmcm9tICcuLi8uLi9jb25uJztcclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHtcclxuICBDYWxsTW9kZWwsXHJcbiAgQ2FsbFN0b3JlLFxyXG4gIGZ1bmN0aW9ucyxcclxuICB3ZWJzb2NrZXQsXHJcbiAgV2lkLFxyXG59IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgQ0FMTF9TVEFURVMgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9lbnVtcyc7XHJcbmltcG9ydCB7IHVuaXhUaW1lIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHsgcGFyc2VSZWxheVJlc3BvbnNlIH0gZnJvbSAnLi9wYXJzZVJlbGF5UmVzcG9uc2UnO1xyXG5pbXBvcnQgeyBwcmVwYXJlRGVzdGlvbmF0aW9uIH0gZnJvbSAnLi9wcmVwYXJlRGVzdGluYXRpb24nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDYWxsT2ZmZXJPcHRpb25zIHtcclxuICBpc1ZpZGVvPzogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNlbmQgYSBjYWxsIG9mZmVyXHJcbiAqXHJcbiAqIFRoaXMgbWV0aG9kIG9ubHkgd2lsbCBzZW5kIGEgY2FsbCBvZmZlciwgYnV0IHRoZXJlIGFyZSBubyBhdWRpby92aWRlb1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFNlbmQgYSBjYWxsIG9mZmVyXHJcbiAqIFdQUC5jYWxsLm9mZmVyKCdbbnVtYmVyXUBjLnVzJyk7XHJcbiAqIC8vIFNlbmQgYSB2aWRlbyBjYWxsIG9mZmVyXHJcbiAqIFdQUC5jYWxsLm9mZmVyKCdbbnVtYmVyXUBjLnVzJywge2lzVmlkZW86IHRydWV9KTtcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb2ZmZXIoXHJcbiAgdG86IHN0cmluZyB8IFdpZCxcclxuICBvcHRpb25zOiBDYWxsT2ZmZXJPcHRpb25zID0ge31cclxuKTogUHJvbWlzZTxhbnk+IHtcclxuICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbjxDYWxsT2ZmZXJPcHRpb25zLCBDYWxsT2ZmZXJPcHRpb25zPihcclxuICAgIHsgaXNWaWRlbzogZmFsc2UgfSxcclxuICAgIG9wdGlvbnNcclxuICApO1xyXG5cclxuICBjb25zdCB0b1dpZCA9IGFzc2VydFdpZCh0byk7XHJcblxyXG4gIGlmICghdG9XaWQuaXNVc2VyKCkpIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ2NhbGxfaXNfbm90X3VzZXInLFxyXG4gICAgICBgVGhlICR7dG9XaWR9IGlzIG5vdCBhIHVzZXIgdG8gY2FsbGAsXHJcbiAgICAgIHtcclxuICAgICAgICB0byxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGNhbGxJZCA9IGZ1bmN0aW9ucy5yYW5kb21IZXgoMTYpLnN1YnN0cigwLCA2NCk7XHJcbiAgY29uc3QgbWUgPSBnZXRNeVVzZXJJZCgpO1xyXG5cclxuICBpZiAoIW1lKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoJ3VzZXJfaWRfaXNfbnVsbCcsICdNeSB1c2VyIGlkIGlzIG51bGwgb3IgdW5kZWZpbmVkJyk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBjb250ZW50ID0gW1xyXG4gICAgd2Vic29ja2V0LnNtYXgoJ2F1ZGlvJywgeyBlbmM6ICdvcHVzJywgcmF0ZTogJzE2MDAwJyB9LCBudWxsKSxcclxuICAgIHdlYnNvY2tldC5zbWF4KCdhdWRpbycsIHsgZW5jOiAnb3B1cycsIHJhdGU6ICc4MDAwJyB9LCBudWxsKSxcclxuICBdO1xyXG5cclxuICBpZiAob3B0aW9ucy5pc1ZpZGVvKSB7XHJcbiAgICBjb250ZW50LnB1c2goXHJcbiAgICAgIHdlYnNvY2tldC5zbWF4KFxyXG4gICAgICAgICd2aWRlbycsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgb3JpZW50YXRpb246ICcwJyxcclxuICAgICAgICAgIHNjcmVlbl93aWR0aDogJzE5MjAnLFxyXG4gICAgICAgICAgc2NyZWVuX2hlaWdodDogJzEwODAnLFxyXG4gICAgICAgICAgZGV2aWNlX29yaWVudGF0aW9uOiAnMCcsXHJcbiAgICAgICAgICBlbmM6ICd2cDgnLFxyXG4gICAgICAgICAgZGVjOiAndnA4JyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIG51bGxcclxuICAgICAgKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNvbnRlbnQucHVzaChcclxuICAgIC4uLltcclxuICAgICAgd2Vic29ja2V0LnNtYXgoJ25ldCcsIHsgbWVkaXVtOiAnMycgfSwgbnVsbCksXHJcbiAgICAgIHdlYnNvY2tldC5zbWF4KFxyXG4gICAgICAgICdjYXBhYmlsaXR5JyxcclxuICAgICAgICB7IHZlcjogJzEnIH0sXHJcbiAgICAgICAgbmV3IFVpbnQ4QXJyYXkoWzEsIDQsIDI1NSwgMTMxLCAyMDcsIDRdKVxyXG4gICAgICApLFxyXG4gICAgICB3ZWJzb2NrZXQuc21heCgnZW5jb3B0JywgeyBrZXlnZW46ICcyJyB9LCBudWxsKSxcclxuICAgIF1cclxuICApO1xyXG5cclxuICBjb25zdCBlbmNLZXkgPSBzZWxmLmNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMzIpKS5idWZmZXI7XHJcblxyXG4gIGNvbnRlbnQucHVzaCguLi4oYXdhaXQgcHJlcGFyZURlc3Rpb25hdGlvbihbdG9XaWRdLCBlbmNLZXkpKSk7XHJcblxyXG4gIGNvbnN0IG5vZGUgPSB3ZWJzb2NrZXQuc21heChcclxuICAgICdjYWxsJyxcclxuICAgIHtcclxuICAgICAgdG86IHRvV2lkLnRvU3RyaW5nKHsgbGVnYWN5OiB0cnVlIH0pLFxyXG4gICAgICBpZDogZnVuY3Rpb25zLnJhbmRvbUhleCg4KSxcclxuICAgIH0sXHJcbiAgICBbXHJcbiAgICAgIHdlYnNvY2tldC5zbWF4KFxyXG4gICAgICAgICdvZmZlcicsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgJ2NhbGwtaWQnOiBjYWxsSWQsXHJcbiAgICAgICAgICAnY2FsbC1jcmVhdG9yJzogbWUudG9TdHJpbmcoeyBsZWdhY3k6IHRydWUgfSksXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250ZW50XHJcbiAgICAgICksXHJcbiAgICBdXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgbW9kZWwgPSBuZXcgQ2FsbE1vZGVsKHtcclxuICAgIGlkOiBjYWxsSWQsXHJcbiAgICBwZWVySmlkOiB0b1dpZCxcclxuICAgIGlzVmlkZW86IG9wdGlvbnMuaXNWaWRlbyxcclxuICAgIGlzR3JvdXA6IGZhbHNlLFxyXG4gICAgb3V0Z29pbmc6IHRydWUsXHJcbiAgICBvZmZlclRpbWU6IHVuaXhUaW1lKCksXHJcbiAgICB3ZWJDbGllbnRTaG91bGRIYW5kbGU6IGZhbHNlLFxyXG4gICAgY2FuSGFuZGxlTG9jYWxseTogdHJ1ZSxcclxuICB9KTtcclxuXHJcbiAgQ2FsbFN0b3JlLmFkZChtb2RlbCk7XHJcblxyXG4gIENhbGxTdG9yZS5zZXRBY3RpdmVDYWxsKENhbGxTdG9yZS5hc3NlcnRHZXQoY2FsbElkKSk7XHJcblxyXG4gIG1vZGVsLnNldFN0YXRlKENBTExfU1RBVEVTLk9VVEdPSU5HX0NBTExJTkcpO1xyXG5cclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHdlYnNvY2tldC5zZW5kU21heFN0YW56YShub2RlKTtcclxuXHJcbiAgY29uc29sZS5pbmZvKHJlc3BvbnNlKTtcclxuICBjb25zb2xlLmluZm8ocGFyc2VSZWxheVJlc3BvbnNlKHJlc3BvbnNlKSk7XHJcblxyXG4gIHJldHVybiBtb2RlbDtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEJhc2U2NCwgd2Vic29ja2V0IH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuZnVuY3Rpb24gZXh0cmFjdElwUG9ydChkYXRhOiBVaW50OEFycmF5KSB7XHJcbiAgY29uc3QgZSA9IG5ldyBVaW50OEFycmF5KGRhdGEpO1xyXG4gIGlmICg2ICE9PSBlLmxlbmd0aCkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG4gIGNvbnN0IHQgPSBuZXcgRGF0YVZpZXcoZS5idWZmZXIpO1xyXG4gIGNvbnN0IGhvc3QgPSB7XHJcbiAgICBpcDogW3QuZ2V0VWludDgoMCksIHQuZ2V0VWludDgoMSksIHQuZ2V0VWludDgoMiksIHQuZ2V0VWludDgoMyldLFxyXG4gICAgcG9ydDogdC5nZXRVaW50MTYoNCksXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGhvc3Q7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVJlbGF5UmVzcG9uc2UocmVzcG9uc2U6IHdlYnNvY2tldC5XYXBOb2RlKSB7XHJcbiAgY29uc3QgcnRlTm9kZSA9IChyZXNwb25zZS5jb250ZW50IGFzIHdlYnNvY2tldC5XYXBOb2RlW10pLmZpbmQoXHJcbiAgICAoYykgPT4gYy50YWcgPT09ICdydGUnXHJcbiAgKSBhcyB3ZWJzb2NrZXQuV2FwTm9kZTtcclxuXHJcbiAgY29uc3QgcnRlID0gZXh0cmFjdElwUG9ydChydGVOb2RlLmNvbnRlbnQgYXMgYW55KTtcclxuXHJcbiAgY29uc3QgcmVsYXlOb2RlID0gKHJlc3BvbnNlLmNvbnRlbnQgYXMgd2Vic29ja2V0LldhcE5vZGVbXSkuZmluZChcclxuICAgIChjKSA9PiBjLnRhZyA9PT0gJ3JlbGF5J1xyXG4gICkgYXMgd2Vic29ja2V0LldhcE5vZGU7XHJcblxyXG4gIGNvbnN0IGtleU5vZGUgPSAocmVsYXlOb2RlLmNvbnRlbnQgYXMgd2Vic29ja2V0LldhcE5vZGVbXSkuZmluZChcclxuICAgIChjKSA9PiBjLnRhZyA9PT0gJ2tleSdcclxuICApIGFzIHdlYnNvY2tldC5XYXBOb2RlO1xyXG5cclxuICBjb25zdCB0ZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xyXG4gIGNvbnN0IGtleSA9IHRleHREZWNvZGVyLmRlY29kZShuZXcgVWludDhBcnJheShrZXlOb2RlLmNvbnRlbnQgYXMgVWludDhBcnJheSkpO1xyXG5cclxuICBjb25zdCB0b2tlbnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcclxuXHJcbiAgY29uc3QgdG9rZW5zTm9kZXMgPSAocmVsYXlOb2RlLmNvbnRlbnQgYXMgd2Vic29ja2V0LldhcE5vZGVbXSkuZmlsdGVyKFxyXG4gICAgKGMpID0+IGMudGFnID09PSAndG9rZW4nXHJcbiAgKTtcclxuXHJcbiAgdG9rZW5zTm9kZXMuZm9yRWFjaCgoYykgPT4ge1xyXG4gICAgY29uc3QgdG9rZW4gPSBCYXNlNjQuZW5jb2RlQjY0KG5ldyBVaW50OEFycmF5KGMuY29udGVudCBhcyBVaW50OEFycmF5KSk7XHJcbiAgICB0b2tlbnNbYy5hdHRycy5pZCB8fCAnMCddID0gdG9rZW47XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHJlbGF5czoge1xyXG4gICAgW2tleTogc3RyaW5nXToge1xyXG4gICAgICBpcDogbnVtYmVyW107XHJcbiAgICAgIHBvcnQ6IG51bWJlcjtcclxuICAgICAgcmVsYXlfaWQ6IHN0cmluZztcclxuICAgICAgdG9rZW46IHN0cmluZztcclxuICAgIH07XHJcbiAgfSA9IHt9O1xyXG5cclxuICBjb25zdCBob3N0c05vZGVzID0gKHJlbGF5Tm9kZS5jb250ZW50IGFzIHdlYnNvY2tldC5XYXBOb2RlW10pLmZpbHRlcihcclxuICAgIChjKSA9PiBjLnRhZyA9PT0gJ3RlMidcclxuICApO1xyXG5cclxuICBob3N0c05vZGVzLmZvckVhY2goKGMpID0+IHtcclxuICAgIGNvbnN0IGhvc3QgPSBleHRyYWN0SXBQb3J0KGMuY29udGVudCBhcyBVaW50OEFycmF5KTtcclxuICAgIGlmIChob3N0KSB7XHJcbiAgICAgIGNvbnN0IHJlbGF5X2lkID0gYy5hdHRycy5yZWxheV9pZCB8fCAnMCc7XHJcbiAgICAgIGNvbnN0IHRva2VuX2lkID0gYy5hdHRycy50b2tlbl9pZCB8fCAnMCc7XHJcbiAgICAgIGNvbnN0IHRva2VuID0gdG9rZW5zW3Rva2VuX2lkXTtcclxuICAgICAgcmVsYXlzW3JlbGF5X2lkXSA9IHsgLi4uaG9zdCwgcmVsYXlfaWQsIHRva2VuIH07XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiB7IHJ0ZSwga2V5LCByZWxheXMgfTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGZ1bmN0aW9ucywgbXVsdGlkZXZpY2UsIHdlYnNvY2tldCwgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByZXBhcmVEZXN0aW9uYXRpb24oXHJcbiAgd2lkczogV2lkW10sXHJcbiAgZW5jS2V5OiBBcnJheUJ1ZmZlckxpa2VcclxuKSB7XHJcbiAgY29uc3QgZmFuTGlzdCA9IGF3YWl0IGZ1bmN0aW9ucy5nZXRGYW5PdXRMaXN0KHsgd2lkcyB9KTtcclxuICBhd2FpdCB3ZWJzb2NrZXQuZW5zdXJlRTJFU2Vzc2lvbnMoZmFuTGlzdCk7XHJcblxyXG4gIGxldCBzaG91bGRIYXZlSWRlbnRpdHkgPSBmYWxzZTtcclxuICBjb25zdCBkZXN0aW5hdGlvbiA9IGF3YWl0IFByb21pc2UuYWxsKFxyXG4gICAgZmFuTGlzdC5tYXAoYXN5bmMgKHdpZCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHR5cGUsIGNpcGhlcnRleHQgfSA9IGF3YWl0IGZ1bmN0aW9ucy5lbmNyeXB0TXNnUHJvdG9idWYod2lkLCAwLCB7XHJcbiAgICAgICAgY2FsbDoge1xyXG4gICAgICAgICAgY2FsbEtleTogbmV3IFVpbnQ4QXJyYXkoZW5jS2V5KSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHNob3VsZEhhdmVJZGVudGl0eSA9IHNob3VsZEhhdmVJZGVudGl0eSB8fCB0eXBlID09PSAncGttc2cnO1xyXG5cclxuICAgICAgcmV0dXJuIHdlYnNvY2tldC5zbWF4KFxyXG4gICAgICAgICd0bycsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgamlkOiB3aWQudG9TdHJpbmcoeyBsZWdhY3k6IHRydWUgfSksXHJcbiAgICAgICAgfSxcclxuICAgICAgICBbXHJcbiAgICAgICAgICB3ZWJzb2NrZXQuc21heChcclxuICAgICAgICAgICAgJ2VuYycsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB2OiAnMicsXHJcbiAgICAgICAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICAgICAgICBjb3VudDogJzAnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjaXBoZXJ0ZXh0XHJcbiAgICAgICAgICApLFxyXG4gICAgICAgIF1cclxuICAgICAgKTtcclxuICAgIH0pXHJcbiAgKTtcclxuXHJcbiAgY29uc3QgY29udGVudDogd2Vic29ja2V0LldhcE5vZGVbXSA9IFtdO1xyXG5cclxuICBjb250ZW50LnB1c2god2Vic29ja2V0LnNtYXgoJ2Rlc3RpbmF0aW9uJywge30sIGRlc3RpbmF0aW9uKSk7XHJcblxyXG4gIGlmIChzaG91bGRIYXZlSWRlbnRpdHkpIHtcclxuICAgIGNvbnN0IGlkZW50aXR5ID0gYXdhaXQgbXVsdGlkZXZpY2UuYWR2LmdldEFEVkVuY29kZWRJZGVudGl0eSgpO1xyXG4gICAgY29udGVudC5wdXNoKHdlYnNvY2tldC5zbWF4KCdkZXZpY2UtaWRlbnRpdHknLCB1bmRlZmluZWQsIGlkZW50aXR5KSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY29udGVudDtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGdldE15VXNlcldpZCB9IGZyb20gJy4uLy4uL2Nvbm4vZnVuY3Rpb25zL2dldE15VXNlcldpZCc7XHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7IENhbGxNb2RlbCwgQ2FsbFN0b3JlLCB3ZWJzb2NrZXQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IENBTExfU1RBVEVTIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZW51bXMnO1xyXG5cclxuLyoqXHJcbiAqIFJlamVjdCBhIGluY29taW5nIGNhbGxcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyBSZWplY3QgYW55IGluY29taW5nIGNhbGxcclxuICogV1BQLmNhbGwucmVqZWN0KCk7XHJcbiAqXHJcbiAqIC8vIFJlamVjdCBzcGVjaWZpYyBjYWxsIGlkXHJcbiAqIFdQUC5jYWxsLnJlamVjdChjYWxsSWQpO1xyXG4gKlxyXG4gKiAvLyBSZWplY3QgYW55IGluY29taW5nIGNhbGxcclxuICogV1BQLm9uKCdjYWxsLmluY29taW5nX2NhbGwnLCAoY2FsbCkgPT4ge1xyXG4gKiAgIFdQUC5jYWxsLnJlamVjdChjYWxsLmlkKTtcclxuICogfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcGFyYW0gICB7c3RyaW5nfSAgY2FsbElkICBUaGUgY2FsbCBJRCwgZW1wdHkgdG8gcmVqZWN0IHRoZSBmaXJzdCBvbmVcclxuICogQHJldHVybiAge1t0eXBlXX0gICAgICAgICAgW3JldHVybiBkZXNjcmlwdGlvbl1cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWplY3QoY2FsbElkPzogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgbGV0IGNhbGw6IENhbGxNb2RlbCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcclxuXHJcbiAgaWYgKGNhbGxJZCkge1xyXG4gICAgY2FsbCA9IENhbGxTdG9yZS5nZXQoY2FsbElkKTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gRmlyc3QgaW5jb21pbmcgcmluZyBvciBjYWxsIGdyb3VwXHJcbiAgICBjYWxsID0gQ2FsbFN0b3JlLmZpbmRGaXJzdChcclxuICAgICAgKGMpID0+XHJcbiAgICAgICAgLy8gRml4IGZvciBtYW50YWluIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciB2ZXJzaW9ucyBvZiB3aGF0c2FwcCB3ZWJcclxuICAgICAgICBjLmdldFN0YXRlKCkgPT09IENBTExfU1RBVEVTLklOQ09NSU5HX1JJTkcgfHxcclxuICAgICAgICBjLmlzR3JvdXAgfHxcclxuICAgICAgICAvLyA+PSAyLjMwMDAuMTAyMTMueFxyXG4gICAgICAgIGMuZ2V0U3RhdGUoKSA9PT0gQ0FMTF9TVEFURVMuUmVjZWl2ZWRDYWxsIHx8XHJcbiAgICAgICAgYy5pc0dyb3VwXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFjYWxsKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICdjYWxsX25vdF9mb3VuZCcsXHJcbiAgICAgIGBDYWxsICR7Y2FsbElkIHx8ICc8ZW1wdHk+J30gbm90IGZvdW5kYCxcclxuICAgICAge1xyXG4gICAgICAgIGNhbGxJZCxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGlmIChcclxuICAgIGNhbGwuZ2V0U3RhdGUoKSAhPT0gQ0FMTF9TVEFURVMuSU5DT01JTkdfUklORyAmJlxyXG4gICAgY2FsbC5nZXRTdGF0ZSgpICE9PSBDQUxMX1NUQVRFUy5SZWNlaXZlZENhbGwgJiZcclxuICAgICFjYWxsLmlzR3JvdXBcclxuICApIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ2NhbGxfaXNfbm90X2luY29taW5nX3JpbmcnLFxyXG4gICAgICBgQ2FsbCAke2NhbGxJZCB8fCAnPGVtcHR5Pid9IGlzIG5vdCBpbmNvbWluZyByaW5nYCxcclxuICAgICAge1xyXG4gICAgICAgIGNhbGxJZCxcclxuICAgICAgICBzdGF0ZTogY2FsbC5nZXRTdGF0ZSgpLFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFjYWxsLnBlZXJKaWQuaXNHcm91cENhbGwoKSkge1xyXG4gICAgYXdhaXQgd2Vic29ja2V0LmVuc3VyZUUyRVNlc3Npb25zKFtjYWxsLnBlZXJKaWRdKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IG5vZGUgPSB3ZWJzb2NrZXQuc21heChcclxuICAgICdjYWxsJyxcclxuICAgIHtcclxuICAgICAgZnJvbTogZ2V0TXlVc2VyV2lkKCkudG9TdHJpbmcoeyBsZWdhY3k6IHRydWUgfSksXHJcbiAgICAgIHRvOiBjYWxsLnBlZXJKaWQudG9TdHJpbmcoeyBsZWdhY3k6IHRydWUgfSksXHJcbiAgICAgIGlkOiB3ZWJzb2NrZXQuZ2VuZXJhdGVJZCgpLFxyXG4gICAgfSxcclxuICAgIFtcclxuICAgICAgd2Vic29ja2V0LnNtYXgoXHJcbiAgICAgICAgJ3JlamVjdCcsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgJ2NhbGwtaWQnOiBjYWxsLmlkLFxyXG4gICAgICAgICAgJ2NhbGwtY3JlYXRvcic6IGNhbGwucGVlckppZC50b1N0cmluZyh7IGxlZ2FjeTogdHJ1ZSB9KSxcclxuICAgICAgICAgIGNvdW50OiAnMCcsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBudWxsXHJcbiAgICAgICksXHJcbiAgICBdXHJcbiAgKTtcclxuXHJcbiAgYXdhaXQgd2Vic29ja2V0LnNlbmRTbWF4U3RhbnphKG5vZGUpO1xyXG5cclxuICByZXR1cm4gdHJ1ZTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCAnLi9ldmVudHMnO1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9mdW5jdGlvbnMnO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBBZGQgcHJvZHVjdCBpbiBjYXJ0XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogY29uc3QgY2FydCA9IFdQUC5jYXJ0LmFkZCgnW251bWJlcl1AYy51cycsIFtcclxuICogICB7IGlkOiAncHJvZHVjdElkJywgcW50OiAyIH0sXHJcbiAqIF0pO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IENhcnRcclxuICovXHJcblxyXG5pbXBvcnQgeyBnZXRQcm9kdWN0QnlJZCB9IGZyb20gJy4uLy4uL2NhdGFsb2cnO1xyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBDYXJ0TW9kZWwsIENhcnRTdG9yZSwgUHJvZHVjdE1vZGVsIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQge1xyXG4gIGFkZFByb2R1Y3RUb0NhcnQsXHJcbiAgdXBkYXRlUHJvZHVjdFF1YW50aXR5Q2FydCxcclxufSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZChcclxuICBjaGF0SWQ6IHN0cmluZyxcclxuICBwcm9kdWN0czoge1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIHFudDogbnVtYmVyO1xyXG4gIH1bXVxyXG4pOiBQcm9taXNlPENhcnRNb2RlbCB8IHVuZGVmaW5lZD4ge1xyXG4gIGlmICghY2hhdElkIHx8ICFwcm9kdWN0cykge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnc2VuZF9yZXF1aXJlZF9wYXJhbXMnLFxyXG4gICAgICBgRm9yIGFkZCBpdGVtIGluIGNhcnQgc2VuZCBjaGF0SWQgYW5kIHByb2R1Y3RzIGFycmF5YFxyXG4gICAgKTtcclxuICB9XHJcbiAgZm9yIChjb25zdCBwcm9kdWN0IG9mIHByb2R1Y3RzKSB7XHJcbiAgICBjb25zdCBnZXQgPSBhd2FpdCBnZXRQcm9kdWN0QnlJZChjaGF0SWQsIHByb2R1Y3QuaWQgYXMgYW55KTtcclxuICAgIGlmIChnZXQpIHtcclxuICAgICAgY29uc3QgcHJvZCA9IG5ldyBQcm9kdWN0TW9kZWwoe1xyXG4gICAgICAgIGlkOiBnZXQuaWQsXHJcbiAgICAgICAgaXNIaWRkZW46IGdldC5pc19oaWRkZW4gfHwgZmFsc2UsXHJcbiAgICAgICAgY2F0YWxvZ1dpZDogY2hhdElkLFxyXG4gICAgICAgIHVybDogZ2V0LnVybCxcclxuICAgICAgICBuYW1lOiBnZXQubmFtZSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogZ2V0LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgIGF2YWlsYWJpbGl0eTogZ2V0LmF2YWlsYWJpbGl0eSxcclxuICAgICAgICBtYXhBdmFpbGFibGU6IChnZXQgYXMgYW55KT8ubWF4QXZhaWxhYmxlLFxyXG4gICAgICAgIHJldmlld1N0YXR1czogZ2V0Py5jYXBhYmlsaXR5X3RvX3Jldmlld19zdGF0dXNbMF0udmFsdWUsXHJcbiAgICAgICAgY3VycmVuY3k6IGdldC5jdXJyZW5jeSxcclxuICAgICAgICBwcmljZUFtb3VudDEwMDA6IGdldC5wcmljZSxcclxuICAgICAgICBzYWxlUHJpY2VBbW91bnQxMDAwOiBudWxsLFxyXG4gICAgICAgIHJldGFpbGVySWQ6IGdldC5yZXRhaWxlcl9pZCxcclxuICAgICAgICBpbWFnZUNvdW50OlxyXG4gICAgICAgICAgZ2V0LmltYWdlX2Nkbl91cmxzLmxlbmd0aCArIGdldC5hZGRpdGlvbmFsX2ltYWdlX2Nkbl91cmxzLmxlbmd0aCxcclxuICAgICAgICBhZGRpdGlvbmFsSW1hZ2VDZG5Vcmw6IGdldC5hZGRpdGlvbmFsX2ltYWdlX2Nkbl91cmxzLFxyXG4gICAgICAgIGFkZGl0aW9uYWxJbWFnZUhhc2hlczogZ2V0LmltYWdlX2hhc2hlc19mb3Jfd2hhdHNhcHAsXHJcbiAgICAgICAgaW1hZ2VDZG5Vcmw6IGdldC5pbWFnZV9jZG5fdXJsc1swXS52YWx1ZSxcclxuICAgICAgICBpbWFnZUhhc2g6IGdldC5pbWFnZV9oYXNoZXNfZm9yX3doYXRzYXBwWzBdLFxyXG4gICAgICB9KTtcclxuICAgICAgYXdhaXQgYWRkUHJvZHVjdFRvQ2FydChwcm9kKTtcclxuICAgICAgYXdhaXQgdXBkYXRlUHJvZHVjdFF1YW50aXR5Q2FydChwcm9kLCBwcm9kdWN0LnFudCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBDYXJ0U3RvcmUuZmluZENhcnQoY2hhdElkKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBDbGVhciBhbGwgaXRlbXMgb2YgY2FydFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGNvbnN0IGNhcnQgPSBXUFAuY2FydC5hZGQoJ1tudW1iZXJdQGMudXMnLCBbXHJcbiAqICAgeyBpZDogJ3Byb2R1Y3RJZCcsIHFudDogMiB9LFxyXG4gKiBdKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDYXJ0XHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgQ2FydFN0b3JlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyB1cGRhdGVDYXJ0IH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbGVhcih3aWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnN0IGNhcnQgPSBDYXJ0U3RvcmUuZmluZENhcnQod2lkKTtcclxuICBpZiAoIWNhcnQgfHwgIWNhcnQ/LmNhcnRJdGVtQ29sbGVjdGlvbj8ubGVuZ3RoKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICdjYXJ0X25vdF9oYXZlX3Byb2R1Y3RzJyxcclxuICAgICAgYENhcnQgZnJvbSAgJHt3aWQgfHwgJzxlbXB0eT4nfSBub3QgaGF2ZSBwcm9kdWN0c2AsXHJcbiAgICAgIHtcclxuICAgICAgICB3aWQsXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG4gIGNhcnQuY2FydEl0ZW1Db2xsZWN0aW9uPy5yZXNldCgpO1xyXG4gIGNhcnQuc2V0KCdtZXNzYWdlJywgJycpO1xyXG4gIGNhcnQudHJpZ2dlcignY2hhbmdlOmNhcnRJdGVtQ29sbGVjdGlvbicpO1xyXG4gIHVwZGF0ZUNhcnQoY2FydCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG4vKipcclxuICogR2V0IHByb2R1Y3RzIGluIGNhcnQgY2hhdFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGNvbnN0IGNhcnQgPSBXUFAuY2FydC5nZXQoJ1tudW1iZXJdQGMudXMnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDYXJ0XHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQ2FydE1vZGVsLCBDYXJ0U3RvcmUgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0KHdpZDogc3RyaW5nKTogQ2FydE1vZGVsIHwgdW5kZWZpbmVkIHtcclxuICByZXR1cm4gQ2FydFN0b3JlLmdldCh3aWQpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEdldCB0aHVtYiBvZiBhIGNhcnRcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBjb25zdCBjYXJ0ID0gV1BQLmNhcnQuZ2V0VGh1bWJGcm9tQ2FydCgnW251bWJlcl1AYy51cycpO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IENhcnRcclxuICovXHJcblxyXG5pbXBvcnQgeyBjcmVhdGVXaWQgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgQ2FydFN0b3JlLCBDYXRhbG9nU3RvcmUgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VGh1bWJGcm9tQ2FydCh3aWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgY29uc3QgY2FydCA9IGF3YWl0IENhcnRTdG9yZS5maW5kQ2FydCh3aWQpO1xyXG5cclxuICBjb25zdCBpdGVtID0gY2FydD8uY2FydEl0ZW1Db2xsZWN0aW9uPy5hdCgwKTtcclxuICBpZiAoIWl0ZW0gfHwgIWNhcnQpIHJldHVybiAnJztcclxuXHJcbiAgY29uc3QgY2F0YWxvZyA9IENhdGFsb2dTdG9yZS5nZXQoY3JlYXRlV2lkKHdpZCkgYXMgYW55KTtcclxuICBpZiAoIWNhdGFsb2cpIHJldHVybiAnJztcclxuXHJcbiAgY29uc3QgcHJvZHVjdCA9IChjYXRhbG9nLnByb2R1Y3RDb2xsZWN0aW9uIGFzIGFueSkuZ2V0KGl0ZW0uaWQpO1xyXG4gIGlmICghcHJvZHVjdCkgcmV0dXJuICcnO1xyXG5cclxuICBjb25zdCBwcm9kdWN0SW1hZ2UgPSBhd2FpdCBwcm9kdWN0Py5nZXRQcm9kdWN0SW1hZ2VDb2xsZWN0aW9uSGVhZCgpO1xyXG4gIGlmICghcHJvZHVjdEltYWdlKSByZXR1cm4gJyc7XHJcblxyXG4gIGNvbnN0IG1lZGlhRGF0YSA9IHByb2R1Y3RJbWFnZT8ubWVkaWFEYXRhO1xyXG4gIGlmIChtZWRpYURhdGEgPT0gbnVsbCkgcmV0dXJuICcnO1xyXG5cclxuICBpZiAobWVkaWFEYXRhLnByZXZpZXcpIHtcclxuICAgIGNvbnN0IGJhc2U2NCA9IGF3YWl0IG1lZGlhRGF0YT8ucHJldmlldz8uZ2V0QmFzZTY0KCk7XHJcbiAgICBpZiAoYmFzZTY0ICE9IG51bGwpIHJldHVybiBiYXNlNjQ7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gJyc7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5leHBvcnQgeyBhZGQgfSBmcm9tICcuL2FkZCc7XHJcbmV4cG9ydCB7IGNsZWFyIH0gZnJvbSAnLi9jbGVhcic7XHJcbmV4cG9ydCB7IGdldCB9IGZyb20gJy4vZ2V0JztcclxuZXhwb3J0IHsgZ2V0VGh1bWJGcm9tQ2FydCB9IGZyb20gJy4vZ2V0VGh1bWJGcm9tQ2FydCc7XHJcbmV4cG9ydCB7IHJlbW92ZSB9IGZyb20gJy4vcmVtb3ZlJztcclxuZXhwb3J0IHsgc3VibWl0IH0gZnJvbSAnLi9zdWJtaXQnO1xyXG5leHBvcnQgeyB1cGRhdGUgfSBmcm9tICcuL3VwZGF0ZSc7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFJlbW92ZSBhIHByb2R1Y3QgaW4gY2FydFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGNvbnN0IGNhcnQgPSBXUFAuY2FydC5yZW1vdmUoJ1tudW1iZXJdQGMudXMnLCAnNjk4NzMwMTE4MTI5NHByb2R1Y3RJZCcpO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IENhcnRcclxuICovXHJcblxyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBDYXJ0TW9kZWwsIENhcnRTdG9yZSB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZGVsZXRlUHJvZHVjdEZyb21DYXJ0IH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmUoXHJcbiAgY2hhdElkOiBzdHJpbmcsXHJcbiAgcHJvZHVjdElkOiBzdHJpbmdcclxuKTogUHJvbWlzZTxDYXJ0TW9kZWwgfCB1bmRlZmluZWQ+IHtcclxuICBpZiAoIWNoYXRJZCB8fCAhcHJvZHVjdElkKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICdzZW5kX3JlcXVpcmVkX3BhcmFtcycsXHJcbiAgICAgIGBGb3IgdXBkYXRlIGl0ZW0gaW4gY2FydCBzZW5kIGNoYXRJZCBhbmQgcHJvZHVjdElkYFxyXG4gICAgKTtcclxuICB9XHJcbiAgYXdhaXQgZGVsZXRlUHJvZHVjdEZyb21DYXJ0KGNoYXRJZCwgcHJvZHVjdElkKTtcclxuICByZXR1cm4gQ2FydFN0b3JlLmZpbmRDYXJ0KGNoYXRJZCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG4vKipcclxuICogU2VuZCBhIHJlcXVlc3Qgb3JkZXIgdG8gYnVzaW5lc3MgY2hhdFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGNvbnN0IGNhcnQgPSBXUFAuY2FydC5zdWJtaXQoJ1tudW1iZXJdQGMudXMnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gU2VuZCBjYXJ0IHdpdGggYSBjdXN0b20gbWVzc2FnZVxyXG4gKiBjb25zdCBjYXJ0ID0gV1BQLmNhcnQuc3VibWl0KCdbbnVtYmVyXUBjLnVzJywgJ0N1c3RvbSBtZXNzYWdlIGhlcmUnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDYXJ0XHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0RmluZENoYXQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQge1xyXG4gIGdldE1lc3NhZ2VCeUlkLFxyXG4gIHByZXBhcmVSYXdNZXNzYWdlLFxyXG4gIFNlbmRNZXNzYWdlT3B0aW9ucyxcclxufSBmcm9tICcuLi8uLi9jaGF0JztcclxuaW1wb3J0IHsgZ2V0TXlVc2VySWQgfSBmcm9tICcuLi8uLi9jb25uJztcclxuaW1wb3J0IHsgY3JlYXRlV2lkLCBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBDYXJ0U3RvcmUgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7XHJcbiAgYWRkQW5kU2VuZE1zZ1RvQ2hhdCxcclxuICBjcmVhdGVPcmRlcixcclxuICB1cGRhdGVDYXJ0LFxyXG59IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcbmltcG9ydCB7IGNsZWFyLCBnZXRUaHVtYkZyb21DYXJ0IH0gZnJvbSAnLi8nO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN1Ym1pdChcclxuICB3aWQ6IHN0cmluZyxcclxuICBtc2c/OiBzdHJpbmcsXHJcbiAgb3B0aW9ucz86IFNlbmRNZXNzYWdlT3B0aW9uc1xyXG4pOiBQcm9taXNlPGFueT4ge1xyXG4gIGlmICh3aWQudG9TdHJpbmcoKSA9PSBnZXRNeVVzZXJJZCgpPy50b1N0cmluZygpKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICdjYW5fbm90X3N1Ym1pdF9vcmRlcl90b195b3Vyc2VsZicsXHJcbiAgICAgIGBZb3UgY2FuIG5vdCBzdWJtaXQgb3JkZXIgdG8geW91cnNlbGZgXHJcbiAgICApO1xyXG4gIH1cclxuICBjb25zdCBjYXJ0ID0gQ2FydFN0b3JlLmZpbmRDYXJ0KHdpZCk7XHJcbiAgaWYgKCFjYXJ0IHx8ICFjYXJ0Py5jYXJ0SXRlbUNvbGxlY3Rpb24/Lmxlbmd0aCkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnY2FydF9ub3RfaGF2ZV9wcm9kdWN0cycsXHJcbiAgICAgIGBDYXJ0IGZyb20gICR7d2lkIHx8ICc8ZW1wdHk+J30gbm90IGhhdmUgcHJvZHVjdHNgLFxyXG4gICAgICB7XHJcbiAgICAgICAgd2lkLFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuICBjb25zdCBjaGF0ID0gYXdhaXQgYXNzZXJ0RmluZENoYXQoY3JlYXRlV2lkKHdpZCEpISk7XHJcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCBjcmVhdGVPcmRlcihjaGF0LmlkLCBjYXJ0LmNhcnRJdGVtQ29sbGVjdGlvbi50b0FycmF5KCkpO1xyXG5cclxuICBjb25zdCB0b3RhbFByaWNlID0gb3JkZXIucHJpY2U/LnRvdGFsO1xyXG5cclxuICBjb25zdCBtZXNzYWdlID0gYXdhaXQgcHJlcGFyZVJhd01lc3NhZ2UoXHJcbiAgICBjaGF0LFxyXG4gICAge1xyXG4gICAgICB0eXBlOiAnb3JkZXInLFxyXG4gICAgICBvcmRlcklkOiBvcmRlci5pZCxcclxuICAgICAgdG9rZW46IG9yZGVyLnRva2VuLFxyXG4gICAgICBvcmRlclRpdGxlOiBjaGF0Lm5hbWUgfHwgY2hhdC5mb3JtYXR0ZWRUaXRsZSxcclxuICAgICAgc2VsbGVySmlkOiBjaGF0LmlkLnRvU3RyaW5nKHtcclxuICAgICAgICBsZWdhY3k6ICEwLFxyXG4gICAgICB9KSxcclxuICAgICAgc3RhdHVzOiAxLFxyXG4gICAgICBtZXNzYWdlVmVyc2lvbjogMixcclxuICAgICAgdGh1bWJuYWlsOiBhd2FpdCBnZXRUaHVtYkZyb21DYXJ0KHdpZCksXHJcbiAgICAgIGl0ZW1Db3VudDogY2FydC5pdGVtQ291bnQsXHJcbiAgICAgIG1lc3NhZ2U6IG1zZyB8fCBjYXJ0Lm1lc3NhZ2UsXHJcbiAgICAgIHRvdGFsQW1vdW50MTAwMDpcclxuICAgICAgICB0b3RhbFByaWNlICYmIHRvdGFsUHJpY2UubGVuZ3RoID4gMCA/IHBhcnNlSW50KHRvdGFsUHJpY2UsIDEwKSA6IHZvaWQgMCxcclxuICAgICAgdG90YWxDdXJyZW5jeUNvZGU6XHJcbiAgICAgICAgb3JkZXIucHJpY2UuY3VycmVuY3kgJiYgb3JkZXIucHJpY2UuY3VycmVuY3kubGVuZ3RoID4gMFxyXG4gICAgICAgICAgPyBvcmRlci5wcmljZS5jdXJyZW5jeVxyXG4gICAgICAgICAgOiAwLFxyXG4gICAgfSxcclxuICAgIG9wdGlvbnNcclxuICApO1xyXG4gIGF3YWl0IGFkZEFuZFNlbmRNc2dUb0NoYXQoY2hhdCwgbWVzc2FnZSBhcyBhbnkpO1xyXG4gIHVwZGF0ZUNhcnQoY2FydCk7XHJcbiAgYXdhaXQgY2xlYXIod2lkKTtcclxuICBpZiAoIW9yZGVyLmlkKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICdlcnJvcl9zZW5kX29yZGVyX3JlcXVlc3QnLFxyXG4gICAgICBgRXJyb3Igd2hlbiBzZW5kaW5nIG9yZGVyIHJlcXVlc3RgXHJcbiAgICApO1xyXG4gIH1cclxuICByZXR1cm4gYXdhaXQgZ2V0TWVzc2FnZUJ5SWQoKG1lc3NhZ2UgYXMgYW55KS5pZCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG4vKipcclxuICogVXBkYXRlIHByb2R1Y3QgaW4gY2FydFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGNvbnN0IGNhcnQgPSBXUFAuY2FydC51cGRhdGUoJ1tudW1iZXJdQGMudXMnLCAnNjk4NzMwMTE4MTI5NHByb2R1Y3RJZCcsIHsgcXVhbnRpdHk6IDEyIH0pO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IENhcnRcclxuICovXHJcblxyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBDYXJ0TW9kZWwgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IGFkZCB9IGZyb20gJy4vYWRkJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGUoXHJcbiAgY2hhdElkOiBzdHJpbmcsXHJcbiAgcHJvZHVjdElkOiBzdHJpbmcsXHJcbiAgb3B0aW9uczogeyBxdWFudGl0eTogbnVtYmVyIH1cclxuKTogUHJvbWlzZTxDYXJ0TW9kZWwgfCB1bmRlZmluZWQ+IHtcclxuICBpZiAoIWNoYXRJZCB8fCAhcHJvZHVjdElkIHx8ICFvcHRpb25zLnF1YW50aXR5KSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICdzZW5kX3JlcXVpcmVkX3BhcmFtcycsXHJcbiAgICAgIGBGb3IgdXBkYXRlIGl0ZW0gaW4gY2FydCBzZW5kIGNoYXRJZCwgcHJvZHVjdElkIGFuZCBvcHRpb25zYFxyXG4gICAgKTtcclxuICB9XHJcbiAgcmV0dXJuIGFkZChjaGF0SWQsIFt7IGlkOiBwcm9kdWN0SWQsIHFudDogb3B0aW9ucy5xdWFudGl0eSB9XSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2Z1bmN0aW9ucyc7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0R2V0UHJvZHVjdCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IGNvbnZlcnRUb0ZpbGUgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgT3BhcXVlRGF0YSB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHtcclxuICBjYWxjdWxhdGVGaWxlaGFzaEZyb21CbG9iLFxyXG4gIGVkaXRQcm9kdWN0IGFzIEVkaXRQcm9kdWN0LFxyXG4gIHVwbG9hZFByb2R1Y3RJbWFnZSBhcyBVcGxvYWRQcm9kdWN0SW1hZ2UsXHJcbn0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbi8qKlxyXG4gKiBBZGQgaW1hZ2Ugb24gcHJvZHVjdFxyXG4gKiBUaGlzIGZ1bmN0aW9uIGluY2x1ZGUgYWRkaXRpb25hbCBpbWFnZXMgb24gcHJvZHVjdFxyXG4gKiBmb3IgY2hhbmdlIG1haW4gaW1hZ2UgdXNlIEBjaGFuZ2VQcm9kdWN0SW1hZ2VcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAuY2F0YWxvZy5hZGRQcm9kdWN0SW1hZ2UoJzY4Njg1OTg1ODY4OScsICdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LC4uLi4uJyk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgQ2F0YWxvZ1xyXG4gKi9cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRQcm9kdWN0SW1hZ2UoXHJcbiAgcHJvZHVjdElkOiBzdHJpbmcsXHJcbiAgY29udGVudDogc3RyaW5nXHJcbik6IFByb21pc2U8YW55PiB7XHJcbiAgY29uc3QgZmlsZSA9IGF3YWl0IGNvbnZlcnRUb0ZpbGUoY29udGVudCk7XHJcbiAgY29uc3Qgb3BhcXVlRGF0YSA9IGF3YWl0IE9wYXF1ZURhdGEuY3JlYXRlRnJvbURhdGEoZmlsZSwgZmlsZS50eXBlKTtcclxuICBjb25zdCBmaWxlaGFzaCA9IGF3YWl0IGNhbGN1bGF0ZUZpbGVoYXNoRnJvbUJsb2IoZmlsZSk7XHJcblxyXG4gIGNvbnN0IHVybCA9IGF3YWl0IFVwbG9hZFByb2R1Y3RJbWFnZShvcGFxdWVEYXRhLCBmaWxlaGFzaCk7XHJcblxyXG4gIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBhc3NlcnRHZXRQcm9kdWN0KHByb2R1Y3RJZCk7XHJcbiAgcHJvZHVjdC5hZGRpdGlvbmFsSW1hZ2VDZG5VcmwucHVzaCh1cmwpO1xyXG5cclxuICByZXR1cm4gRWRpdFByb2R1Y3QocHJvZHVjdCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRHZXRQcm9kdWN0IH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgY29udmVydFRvRmlsZSB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBPcGFxdWVEYXRhIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQge1xyXG4gIGNhbGN1bGF0ZUZpbGVoYXNoRnJvbUJsb2IsXHJcbiAgZWRpdFByb2R1Y3QgYXMgRWRpdFByb2R1Y3QsXHJcbiAgdXBsb2FkUHJvZHVjdEltYWdlIGFzIFVwbG9hZFByb2R1Y3RJbWFnZSxcclxufSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuLyoqXHJcbiAqIEFkZCBpbWFnZSBvbiBwcm9kdWN0XHJcbiAqIFRoaXMgZnVuY3Rpb24gY2hhbmdlIG1haW4gaW1hZ2Ugb2YgcHJvZHVjdFxyXG4gKiBmb3IgY2hhbmdlIGFkZGl0aW9uYWwgaW1hZ2VzIHVzZSBAYWRkUHJvZHVjdEltYWdlXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogYXdhaXQgV1BQLmNhdGFsb2cuY2hhbmdlUHJvZHVjdEltYWdlKCc2ODY4NTk4NTg2ODknLCAnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwuLi4uLicpO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IENhdGFsb2dcclxuICovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hhbmdlUHJvZHVjdEltYWdlKFxyXG4gIHByb2R1Y3RJZDogc3RyaW5nLFxyXG4gIGNvbnRlbnQ6IHN0cmluZ1xyXG4pOiBQcm9taXNlPGFueT4ge1xyXG4gIGNvbnN0IGZpbGUgPSBhd2FpdCBjb252ZXJ0VG9GaWxlKGNvbnRlbnQpO1xyXG4gIGNvbnN0IG9wYXF1ZURhdGEgPSBhd2FpdCBPcGFxdWVEYXRhLmNyZWF0ZUZyb21EYXRhKGZpbGUsIGZpbGUudHlwZSk7XHJcbiAgY29uc3QgZmlsZWhhc2ggPSBhd2FpdCBjYWxjdWxhdGVGaWxlaGFzaEZyb21CbG9iKGZpbGUpO1xyXG5cclxuICBjb25zdCB1cmwgPSBhd2FpdCBVcGxvYWRQcm9kdWN0SW1hZ2Uob3BhcXVlRGF0YSwgZmlsZWhhc2gpO1xyXG5cclxuICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgYXNzZXJ0R2V0UHJvZHVjdChwcm9kdWN0SWQpO1xyXG4gIHByb2R1Y3QuaW1hZ2VDZG5VcmwgPSB1cmw7XHJcbiAgcmV0dXJuIEVkaXRQcm9kdWN0KHByb2R1Y3QpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgUHJvZHVjdENhdGFsb2dTZXNzaW9uIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBjcmVhdGVDb2xsZWN0aW9uIGFzIENyZWF0ZUNvbGxlY3Rpb24gfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBuZXcgY29sbGVjdGlvblxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGNvbnN0IG15Q2F0YWxvZyA9IGF3YWl0IFdQUC5jYXRhbG9nLmNyZWF0ZUNvbGxlY3Rpb24oJ0NvbGxlY3Rpb24gTmFtZScsIFsnNTY1NjU2NTg5ODk4J10pO1xyXG4gKiBgYGBcclxuICpcclxuICogQHJldHVybiBSZXR1cm4gY29sbGVjdGlvbiBjcmVhdGVkXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ29sbGVjdGlvbihcclxuICBjb2xsZWN0aW9uTmFtZTogc3RyaW5nLFxyXG4gIHByb2R1Y3RzSWQ6IHN0cmluZ1tdXHJcbik6IFByb21pc2U8YW55PiB7XHJcbiAgY29uc3QgeyBzZXNzaW9uSWQgfSA9IG5ldyBQcm9kdWN0Q2F0YWxvZ1Nlc3Npb24odHJ1ZSk7XHJcblxyXG4gIHJldHVybiBhd2FpdCBDcmVhdGVDb2xsZWN0aW9uKGNvbGxlY3Rpb25OYW1lLCBwcm9kdWN0c0lkLCBgJHtzZXNzaW9uSWR9YCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIyIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBjb252ZXJ0VG9GaWxlIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7XHJcbiAgT3BhcXVlRGF0YSxcclxuICBQcm9kdWN0SW1hZ2VNb2RlbCxcclxuICBQcm9kdWN0TW9kZWwsXHJcbiAgVXNlclByZWZzLFxyXG59IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHtcclxuICBhZGRQcm9kdWN0LFxyXG4gIGNhbGN1bGF0ZUZpbGVoYXNoRnJvbUJsb2IsXHJcbiAgdXBsb2FkUHJvZHVjdEltYWdlLFxyXG59IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG4vKipcclxuICogQ3JlYXRlIG5ldyBwcm9kdWN0XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogY29uc3QgbXlDYXRhbG9nID0gYXdhaXQgV1BQLmNhdGFsb2cuYWRkUHJvZHVjdChcclxuICAgIHtcclxuICAgICAgbmFtZTogJ1Byb2R1Y3QgbmFtZScsIFxyXG4gICAgICBpbWFnZTogJ2Jhc2U2NCBpbWFnZSBzdHJpbmcnLCBcclxuICAgICAgZGVzY3JpcHRpb246ICdwcm9kdWN0IGRlc2NyaXB0aW9uJyxcclxuICAgICAgcHJpY2U6ICc4OS45MCcsXHJcbiAgICAgIGlzSGlkZGVuOiBmYWxzZSxcclxuICAgICAgdXJsOiAnaHR0cHM6Ly93cHBjb25uZWN0LmlvJyxcclxuICAgICAgcmV0YWlsZXJJZDogJ0FLQTAwMScsXHJcbiAgICB9XHJcbiAgKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEByZXR1cm4gWW91ciBjcmVhdGVkIHByb2R1Y3RcclxuICovXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIGNyZWF0ZVByb2R1Y3RQYXJhbXMge1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBpbWFnZTogc3RyaW5nO1xyXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xyXG4gIHByaWNlPzogbnVtYmVyO1xyXG4gIGlzSGlkZGVuPzogYm9vbGVhbjtcclxuICB1cmw/OiBzdHJpbmc7XHJcbiAgcmV0YWlsZXJJZD86IHN0cmluZztcclxuICBjdXJyZW5jeT86IHN0cmluZztcclxufVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUHJvZHVjdChcclxuICBwYXJhbXM6IGNyZWF0ZVByb2R1Y3RQYXJhbXNcclxuKTogUHJvbWlzZTxQcm9kdWN0TW9kZWw+IHtcclxuICBjb25zdCBmaWxlID0gYXdhaXQgY29udmVydFRvRmlsZShwYXJhbXMuaW1hZ2UpO1xyXG5cclxuICBjb25zdCBvcGFxdWVEYXRhID0gYXdhaXQgT3BhcXVlRGF0YS5jcmVhdGVGcm9tRGF0YShmaWxlLCBmaWxlLnR5cGUpO1xyXG4gIGNvbnN0IGZpbGVoYXNoID0gYXdhaXQgY2FsY3VsYXRlRmlsZWhhc2hGcm9tQmxvYihmaWxlKTtcclxuXHJcbiAgY29uc3QgdXJsID0gYXdhaXQgdXBsb2FkUHJvZHVjdEltYWdlKG9wYXF1ZURhdGEsIGZpbGVoYXNoKTtcclxuXHJcbiAgY29uc3QgUHJvZHVjdCA9IG5ldyBQcm9kdWN0TW9kZWwoKTtcclxuICBQcm9kdWN0Lm5hbWUgPSBwYXJhbXMubmFtZS50b1N0cmluZygpO1xyXG4gIFByb2R1Y3QuY2F0YWxvZ1dpZCA9IFVzZXJQcmVmcy5nZXRNZVVzZXIoKTtcclxuICBQcm9kdWN0LmltYWdlQ2RuVXJsID0gdXJsO1xyXG4gIFByb2R1Y3QucHJvZHVjdEltYWdlQ29sbGVjdGlvbiA9IG5ldyBQcm9kdWN0SW1hZ2VNb2RlbCh7XHJcbiAgICBtZWRpYVVybDogdXJsLFxyXG4gIH0pO1xyXG4gIGlmIChwYXJhbXMuZGVzY3JpcHRpb24pIFByb2R1Y3QuZGVzY3JpcHRpb24gPSBwYXJhbXMuZGVzY3JpcHRpb247XHJcbiAgaWYgKHBhcmFtcy5wcmljZSkge1xyXG4gICAgUHJvZHVjdC5wcmljZUFtb3VudDEwMDAgPSBwYXJhbXMucHJpY2UgKiAxMDAwMDtcclxuICAgIFByb2R1Y3QuY3VycmVuY3kgPSBwYXJhbXMuY3VycmVuY3kgfHwgJ0JSTCc7XHJcbiAgfVxyXG4gIGlmIChwYXJhbXMuaXNIaWRkZW4pIFByb2R1Y3QuaXNIaWRkZW4gPSBwYXJhbXMuaXNIaWRkZW47XHJcbiAgaWYgKHBhcmFtcy51cmwpIFByb2R1Y3QudXJsID0gcGFyYW1zLnVybDtcclxuICBpZiAocGFyYW1zLnJldGFpbGVySWQpIFByb2R1Y3QucmV0YWlsZXJJZCA9IHBhcmFtcy5yZXRhaWxlcklkO1xyXG5cclxuICByZXR1cm4gYXdhaXQgYWRkUHJvZHVjdChQcm9kdWN0LCAxMDAsIDEwMCk7XHJcbiAgLypjb25zdCBjYXRhbG9nID0gQ2F0YWxvZ1N0b3JlLmdldChVc2VyUHJlZnMuZ2V0TWVVc2VyKCkpO1xyXG4gIHJldHVybiBjYXRhbG9nPy5hZGRQcm9kdWN0KFByb2R1Y3QpKi9cclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjIgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFByb2R1Y3RDYXRhbG9nU2Vzc2lvbiB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZGVsZXRlQ29sbGVjdGlvbiBhcyBEZWxldGVDb2xsZWN0aW9uIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbi8qKlxyXG4gKiBEZWxldGUgYSBjb2xsZWN0aW9uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogY29uc3QgbXlDYXRhbG9nID0gYXdhaXQgV1BQLmNhdGFsb2cuZGVsZXRlQ29sbGVjdGlvbihcIjM3NzA5NTc2NzgzMjM1NFwiKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEByZXR1cm4gUmV0dXJuIHN1Y2VzcyBvciBlcnJvclxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUNvbGxlY3Rpb24oY29sbGVjdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gIGNvbnN0IHsgc2Vzc2lvbklkIH0gPSBuZXcgUHJvZHVjdENhdGFsb2dTZXNzaW9uKHRydWUpO1xyXG4gIGF3YWl0IERlbGV0ZUNvbGxlY3Rpb24oY29sbGVjdGlvbklkLCBgJHtzZXNzaW9uSWR9YCk7XHJcbiAgcmV0dXJuICdDb2xsZWN0aW9uIGRlbGV0ZWQgc3VjZXNzZnVsJztcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjIgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGRlbGV0ZVByb2R1Y3RzIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbi8qKlxyXG4gKiBHZXQgeW91ciBjdXJyZW50IGNhdGFsb2dcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyBEZWxldGUgcHJvZHVjdCBieSBpZFxyXG4gKiBjb25zdCBteUNhdGFsb2cgPSBhd2FpdCBXUFAuY2F0YWxvZy5kZWxQcm9kdWN0cygnNjEwNDIwMzcwMjkzOTM2MScpO1xyXG4gKlxyXG4gKiAvLyBEZWxldGUgdmFyaW91cyBwcm9kdWN0c1xyXG4gKiBjb25zdCBteUNhdGFsb2cgPSBhd2FpdCBXUFAuY2F0YWxvZy5kZWxQcm9kdWN0cyhbJzYxMDQyMDM3MDI5MzkzNjEnLCAnNjEwNDI4OTcwMjkzOTM2MSddKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEByZXR1cm4gUmV0dXJuIHN1Y2VzcyBvciBlcnJvciBvZiBwcm9kdWN0IGRlbGV0ZWRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxQcm9kdWN0cyhwcm9kdWN0c0lkczogc3RyaW5nW10pOiBQcm9taXNlPGFueT4ge1xyXG4gIGxldCBzdGF0dXMgPSAyMDA7XHJcbiAgdHJ5IHtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KHByb2R1Y3RzSWRzKSkge1xyXG4gICAgICBhd2FpdCBkZWxldGVQcm9kdWN0cyhwcm9kdWN0c0lkcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhd2FpdCBkZWxldGVQcm9kdWN0cyhbcHJvZHVjdHNJZHNdKTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgc3RhdHVzID0gNTAwO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHByb2R1Y3RzSWRzLFxyXG4gICAgc3RhdHVzLFxyXG4gIH07XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIyIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBQcm9kdWN0Q2F0YWxvZ1Nlc3Npb24gfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IGVkaXRDb2xsZWN0aW9uIGFzIEVkaXRDb2xsZWN0aW9uIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgbmV3IGNvbGxlY3Rpb25cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBjb25zdCBteUNhdGFsb2cgPSBhd2FpdCBXUFAuY2F0YWxvZy5FZGl0Q29sbGVjdGlvbignNTY1NjU2NTg5ODk4JywgeyBjb2xsZWN0aW9uTmFtZTogJ05ldyBOYW1lIGZvciBjb2xsZWN0aW9uJywgcHJvZHVjdHNUb0FkZDogWyc1NjU2NTIzMjIzJ10sIHByb2R1Y3RzVG9SZW1vdmU6IFsnNTY1NjUyMzIzMiddfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcmV0dXJuIFJldHVybiBjb2xsZWN0aW9uIGVkaXRlZFxyXG4gKi9cclxuaW50ZXJmYWNlIHBhcmFtc0VkaXRDb2xsZWN0aW9uIHtcclxuICBuYW1lPzogc3RyaW5nO1xyXG4gIHByb2R1Y3RzVG9BZGQ/OiBzdHJpbmdbXTtcclxuICBwcm9kdWN0c1RvUmVtb3ZlPzogc3RyaW5nW107XHJcbn1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVkaXRDb2xsZWN0aW9uKFxyXG4gIGNvbGxlY3Rpb25JZDogc3RyaW5nLFxyXG4gIHBhcmFtczogcGFyYW1zRWRpdENvbGxlY3Rpb25cclxuKTogUHJvbWlzZTxhbnk+IHtcclxuICBjb25zdCB7IHNlc3Npb25JZCB9ID0gbmV3IFByb2R1Y3RDYXRhbG9nU2Vzc2lvbih0cnVlKTtcclxuXHJcbiAgcmV0dXJuIGF3YWl0IEVkaXRDb2xsZWN0aW9uKFxyXG4gICAgY29sbGVjdGlvbklkLFxyXG4gICAgcGFyYW1zLm5hbWUsXHJcbiAgICBmYWxzZSxcclxuICAgIHBhcmFtcy5wcm9kdWN0c1RvQWRkIHx8IFtdLFxyXG4gICAgcGFyYW1zLnByb2R1Y3RzVG9SZW1vdmUgfHwgW10sXHJcbiAgICBgJHtzZXNzaW9uSWR9YFxyXG4gICk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIyIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRHZXRQcm9kdWN0IH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgUHJvZHVjdE1vZGVsIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBlZGl0UHJvZHVjdCBhcyBFZGl0UHJvZHVjdCB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG4vKipcclxuICogR2V0IHlvdXIgY3VycmVudCBjYXRhbG9nXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gR2V0IHlvdXIgY3VycmVudCBjYXRhbG9nXHJcbiAqIGNvbnN0IG15Q2F0YWxvZyA9IFdQUC5jYXRhbG9nLmVkaXRQcm9kdWN0KCc1NDk4MjU1NDc2ODg1NTkwJywge25hbWU6ICdQbGFubyAwMScsIHByaWNlOiAnODk5OTAnLCBkZXNjcmlwdGlvbjogJ0luc2VydCBkZXNjcmlwdGlvbiBmb3IgeW91ciBwcm9kdWN0JywgaXNIaWRkZW46IHRydWUsIHVybDogJ2h0dHA6Ly93d3cud3BwY29ubmVjdC5pbycsIHJldGFpbGVySWQ6ICdBS0EwMDEnfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcmV0dXJuIFJldHVybiBtb2RlbCBvZiBwcm9kdWN0IGVkaXRlZFxyXG4gKi9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgZWRpdFByb2R1Y3RQYXJhbXMge1xyXG4gIG5hbWU/OiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XHJcbiAgaW1hZ2U/OiBzdHJpbmc7XHJcbiAgcHJpY2U/OiBudW1iZXI7XHJcbiAgaXNIaWRkZW4/OiBib29sZWFuO1xyXG4gIHVybD86IHN0cmluZztcclxuICByZXRhaWxlcklkPzogc3RyaW5nO1xyXG59XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlZGl0UHJvZHVjdChcclxuICBwcm9kdWN0SWQ6IHN0cmluZyxcclxuICBwYXJhbXM6IGVkaXRQcm9kdWN0UGFyYW1zXHJcbik6IFByb21pc2U8UHJvZHVjdE1vZGVsPiB7XHJcbiAgY29uc3QgcHJvZHV0byA9IGF3YWl0IGFzc2VydEdldFByb2R1Y3QocHJvZHVjdElkKTtcclxuICBPYmplY3Qua2V5cyhwYXJhbXMpLmZvckVhY2goXHJcbiAgICAoa2V5KSA9PiAocGFyYW1zIGFzIGFueSlba2V5XSA9PT0gdW5kZWZpbmVkICYmIGRlbGV0ZSAocGFyYW1zIGFzIGFueSlba2V5XVxyXG4gICk7XHJcbiAgY29uc3QgZWRpdGVkUHJvZHVjdCA9IE9iamVjdC5hc3NpZ24ocHJvZHV0bywgcGFyYW1zKTtcclxuICByZXR1cm4gYXdhaXQgRWRpdFByb2R1Y3QoZWRpdGVkUHJvZHVjdCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBjcmVhdGVXaWQgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgUHJvZHVjdENvbGxNb2RlbCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgcXVlcnlDb2xsZWN0aW9uc0lRIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbi8qKlxyXG4gKiBHZXQgY29sbGVjdGlvbnMgb2YgY2F0YWxvZ1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFJldHJpZXZlIDIwIGNvbGxlY3Rpb25zIG9mIGNoYXRcclxuICogY29uc3QgbXlDYXRhbG9nID0gYXdhaXQgV1BQLmNhdGFsb2cuZ2V0Q29sbGVjdGlvbnMoJzU1MjE5ODU1NDU3OEBjLnVzJywgJzIwJyk7XHJcbiAqXHJcbiAqIC8vIFJldHJpZXZlIDIwIGNvbGxlY3Rpb25zIG9mIGNoYXQgYW5kIHByb2R1Y3RzIGFycmF5cyBsaW1pdCB3aXRoIDEwIHByb2R1Y3RzXHJcbiAqIGNvbnN0IG15Q2F0YWxvZyA9IGF3YWl0IFdQUC5jYXRhbG9nLmdldENvbGxlY3Rpb25zKCc1NTIxOTg1NTQ1NzhAYy51cycsICcyMCcsICcxMCcpO1xyXG4gKiBgYGBcclxuICpcclxuICogQHJldHVybiBZb3VyIGNvbGxlY3Rpb25zIG9mIHByb2R1Y3RzXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q29sbGVjdGlvbnMoXHJcbiAgY2hhdElkOiBzdHJpbmcsXHJcbiAgcW50PzogbnVtYmVyLFxyXG4gIHByb2R1Y3RzQ291bnQ/OiBudW1iZXJcclxuKTogUHJvbWlzZTxQcm9kdWN0Q29sbE1vZGVsW10+IHtcclxuICBjb25zdCB7IGNvbGxlY3Rpb25zIH0gPSBhd2FpdCBxdWVyeUNvbGxlY3Rpb25zSVEoe1xyXG4gICAgYWZ0ZXJDdXJzb3I6ICcnLFxyXG4gICAgY2F0YWxvZ1dpZDogY3JlYXRlV2lkKGNoYXRJZCksXHJcbiAgICBoZWlnaHQ6IDEwMCxcclxuICAgIHdpZHRoOiAxMDAsXHJcbiAgICBsaW1pdDogcW50IHx8IDEwLFxyXG4gICAgcHJvZHVjdHNDb3VudDogcHJvZHVjdHNDb3VudCB8fCAxMCxcclxuICB9KTtcclxuICByZXR1cm4gY29sbGVjdGlvbnM7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBDYXRhbG9nU3RvcmUsIFVzZXJQcmVmcyB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuLyoqXHJcbiAqIEdldCB5b3VyIGN1cnJlbnQgY2F0YWxvZ1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIEdldCB5b3VyIGN1cnJlbnQgY2F0YWxvZ1xyXG4gKiBjb25zdCBteUNhdGFsb2cgPSBhd2FpdCBXUFAuY2F0YWxvZy5nZXRNeUNhdGFsb2coKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEByZXR1cm4gWW91ciBjdXJyZW50IGNhdGFsb2dcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNeUNhdGFsb2coKSB7XHJcbiAgcmV0dXJuIENhdGFsb2dTdG9yZS5nZXQoVXNlclByZWZzLmdldE1heWJlTWVQblVzZXIoKSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBjcmVhdGVXaWQgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgcXVlcnlQcm9kdWN0IH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbi8qKlxyXG4gKiBSZXRyaWV2ZXMgcHJvZHVjdCBieSBpZFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFJldHJpZXZlIGRhdGEgb2YgcHJvZHVjdFxyXG4gKiBhd2FpdCBXUFAuY2F0YWxvZy5nZXRQcm9kdWN0QnlJZCgnNTUyMTk4NTU2NTY1NkBjLnVzJywgJzY4Njg1OTg1ODY4OTIzJyk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgQ2F0YWxvZ1xyXG4gKi9cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9kdWN0QnlJZChcclxuICBjaGF0SWQ6IHN0cmluZyxcclxuICBwcm9kdWN0SWQ6IG51bWJlclxyXG4pOiBQcm9taXNlPHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHJldGFpbGVyX2lkOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgdXJsOiBzdHJpbmc7XHJcbiAgY3VycmVuY3k6IHN0cmluZztcclxuICBwcmljZTogc3RyaW5nO1xyXG4gIGlzX2hpZGRlbjogYm9vbGVhbjtcclxuICBtYXhfYXZhaWxhYmxlOiBudW1iZXI7XHJcbiAgYXZhaWxhYmlsaXR5OiBzdHJpbmc7XHJcbiAgY2hlY2ttYXJrOiBib29sZWFuO1xyXG4gIGltYWdlX2hhc2hlc19mb3Jfd2hhdHNhcHA6IHN0cmluZ1tdO1xyXG4gIGltYWdlX2Nkbl91cmxzOiB7XHJcbiAgICBrZXk6ICdyZXF1ZXN0ZWQnIHwgJ2Z1bGwnO1xyXG4gICAgdmFsdWU6IHN0cmluZztcclxuICB9W107XHJcbiAgYWRkaXRpb25hbF9pbWFnZV9jZG5fdXJsczogYW55W107XHJcbiAgd2hhdHNhcHBfcHJvZHVjdF9jYW5fYXBwZWFsOiBib29sZWFuO1xyXG4gIGNhcGFiaWxpdHlfdG9fcmV2aWV3X3N0YXR1czoge1xyXG4gICAga2V5OiAnV0hBVFNBUFAnO1xyXG4gICAgdmFsdWU6ICdBUFBST1ZFRCc7XHJcbiAgfVtdO1xyXG59PiB7XHJcbiAgY29uc3Qgd2lkID0gY3JlYXRlV2lkKGNoYXRJZCk7XHJcbiAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBxdWVyeVByb2R1Y3Qod2lkLCBwcm9kdWN0SWQpO1xyXG4gIHJldHVybiBkYXRhO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgY3JlYXRlV2lkIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7IHF1ZXJ5Q2F0YWxvZyB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG4vKipcclxuICogUmV0cmlldmVzIHByb2R1Y3QgYnkgY29udGFjdCBpZFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBHZXQgcHJvZHVjdHMgb2YgY2F0YWxvZ3NcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAuY2F0YWxvZy5nZXRQcm9kdWN0cygnNTUyMTk4NTYyNTY4OUBjLnVzJywgMTApO1xyXG4gKiBgYGBcclxuICogQHJldHVybiBBIGFycmF5IHdpdGggcHJvZHVjdHNcclxuICogQGNhdGVnb3J5IENhdGFsb2dcclxuICovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZHVjdHMoY2hhdElkOiBzdHJpbmcsIHFudDogbnVtYmVyKTogUHJvbWlzZTxhbnlbXT4ge1xyXG4gIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgcXVlcnlDYXRhbG9nKFxyXG4gICAgY3JlYXRlV2lkKGNoYXRJZCksXHJcbiAgICB1bmRlZmluZWQsXHJcbiAgICBxbnQgfHwgMTAsXHJcbiAgICAxMDAsXHJcbiAgICAxMDBcclxuICApO1xyXG4gIHJldHVybiBkYXRhO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IHsgYWRkUHJvZHVjdEltYWdlIH0gZnJvbSAnLi9hZGRQcm9kdWN0SW1hZ2UnO1xyXG5leHBvcnQgeyBjaGFuZ2VQcm9kdWN0SW1hZ2UgfSBmcm9tICcuL2NoYW5nZVByb2R1Y3RJbWFnZSc7XHJcbmV4cG9ydCB7IGNyZWF0ZUNvbGxlY3Rpb24gfSBmcm9tICcuL2NyZWF0ZUNvbGxlY3Rpb24nO1xyXG5leHBvcnQgeyBjcmVhdGVQcm9kdWN0IH0gZnJvbSAnLi9jcmVhdGVQcm9kdWN0JztcclxuZXhwb3J0IHsgZGVsZXRlQ29sbGVjdGlvbiB9IGZyb20gJy4vZGVsZXRlQ29sbGVjdGlvbic7XHJcbmV4cG9ydCB7IGRlbFByb2R1Y3RzIH0gZnJvbSAnLi9kZWxldGVQcm9kdWN0JztcclxuZXhwb3J0IHsgZWRpdENvbGxlY3Rpb24gfSBmcm9tICcuL2VkaXRDb2xsZWN0aW9uJztcclxuZXhwb3J0IHsgZWRpdFByb2R1Y3QgfSBmcm9tICcuL2VkaXRQcm9kdWN0JztcclxuZXhwb3J0IHsgZ2V0Q29sbGVjdGlvbnMgfSBmcm9tICcuL2dldENvbGxlY3Rpb25zJztcclxuZXhwb3J0IHsgZ2V0TXlDYXRhbG9nIH0gZnJvbSAnLi9nZXRNeUNhdGFsb2cnO1xyXG5leHBvcnQgeyBnZXRQcm9kdWN0QnlJZCB9IGZyb20gJy4vZ2V0UHJvZHVjdEJ5SWQnO1xyXG5leHBvcnQgeyBnZXRQcm9kdWN0cyB9IGZyb20gJy4vZ2V0UHJvZHVjdHMnO1xyXG5leHBvcnQgeyByZW1vdmVQcm9kdWN0SW1hZ2UgfSBmcm9tICcuL3JlbW92ZVByb2R1Y3RJbWFnZSc7XHJcbmV4cG9ydCB7IHNldFByb2R1Y3RWaXNpYmlsaXR5IH0gZnJvbSAnLi9zZXRQcm9kdWN0VmlzaWJpbGl0eSc7XHJcbmV4cG9ydCB7IHVwZGF0ZUNhcnRFbmFibGVkIH0gZnJvbSAnLi91cGRhdGVDYXJ0RW5hYmxlZCc7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0R2V0UHJvZHVjdCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IFByb2R1Y3RNb2RlbCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZWRpdFByb2R1Y3QgYXMgRWRpdFByb2R1Y3QgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuLyoqXHJcbiAqIFJlbW92ZSBpbWFnZSBvbiBwcm9kdWN0XHJcbiAqIFRoaXMgZnVuY3Rpb24gcmVtb3ZlIGFkZGl0aW9uYWwgaW1hZ2VzIG9mIHByb2R1Y3RcclxuICogZm9yIGNoYW5nZSBtYWluIGltYWdlIHVzZSBAY2hhbmdlUHJvZHVjdEltYWdlXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogYXdhaXQgV1BQLmNhdGFsb2cucmVtb3ZlUHJvZHVjdEltYWdlKCc2ODY4NTk4NTg2ODkyMycsICcwJyk7XHJcbiAqIGBgYFxyXG4gKiBAcGFyYW0gaW5kZXggLSBJbmRleCBvZiBhcnJheSBhZGRpdGlvbmFsSW1hZ2VDZG5VcmxcclxuICogQGNhdGVnb3J5IENhdGFsb2dcclxuICovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlUHJvZHVjdEltYWdlKFxyXG4gIHByb2R1Y3RJZDogc3RyaW5nLFxyXG4gIGluZGV4OiBzdHJpbmdcclxuKTogUHJvbWlzZTxQcm9kdWN0TW9kZWw+IHtcclxuICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgYXNzZXJ0R2V0UHJvZHVjdChwcm9kdWN0SWQpO1xyXG4gIHByb2R1Y3QuYWRkaXRpb25hbEltYWdlQ2RuVXJsLnNwbGljZShpbmRleCwgMSk7XHJcblxyXG4gIHJldHVybiBFZGl0UHJvZHVjdChwcm9kdWN0KTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjIgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydEdldFByb2R1Y3QgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBwcm9kdWN0VmlzaWJpbGl0eVNldCB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG4vKipcclxuICogR2V0IHlvdXIgY3VycmVudCBjYXRhbG9nXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gU2V0IHByb2R1Y3QgdmlzaWJpbGl0eSBoaWRkZW5cclxuICogY29uc3QgbXlDYXRhbG9nID0gYXdhaXQgV1BQLmNhdGFsb2cuc2V0UHJvZHVjdFZpc2liaWxpdHkoNTQ5ODU1Njk5ODk4OTcsIHRydWUpO1xyXG4gKiBgYGBcclxuICogLy8gU2V0IHByb2R1Y3QgdmlzaWJsZVxyXG4gKiBjb25zdCBteUNhdGFsb2cgPSBhd2FpdCBXUFAuY2F0YWxvZy5zZXRQcm9kdWN0VmlzaWJpbGl0eSg1NDk4NTU2OTk4OTg5NywgZmFsc2UpO1xyXG4gKiBgYGBcclxuICpcclxuICogQHJldHVybiBSZXR1cm4gc3VjZXNzIG9mIHByb2R1Y3QgdmlzaWJpbGl0eSBzZXRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRQcm9kdWN0VmlzaWJpbGl0eShcclxuICBwcm9kdWN0SWQ6IGFueSxcclxuICBpc0hpZGRlbjogYm9vbGVhblxyXG4pOiBQcm9taXNlPGFueT4ge1xyXG4gIGF3YWl0IHByb2R1Y3RWaXNpYmlsaXR5U2V0KHByb2R1Y3RJZCwgaXNIaWRkZW4pO1xyXG4gIHJldHVybiBhd2FpdCBhc3NlcnRHZXRQcm9kdWN0KHByb2R1Y3RJZCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIyIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyB1cGRhdGVDYXJ0RW5hYmxlZCBhcyBVcGRhdGVDYXJ0RW5hYmxlZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG4vKipcclxuICogR2V0IHlvdXIgY3VycmVudCBjYXRhbG9nXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gU2V0IHByb2R1Y3QgdmlzaWJpbGl0eSBoaWRkZW5cclxuICogY29uc3QgbXlDYXRhbG9nID0gYXdhaXQgV1BQLmNhdGFsb2cuc2V0UHJvZHVjdFZpc2liaWxpdHkoNTQ5ODU1Njk5ODk4OTcsIHRydWUpO1xyXG4gKiBgYGBcclxuICogLy8gU2V0IHByb2R1Y3QgdmlzaWJsZVxyXG4gKiBjb25zdCBteUNhdGFsb2cgPSBhd2FpdCBXUFAuY2F0YWxvZy5zZXRQcm9kdWN0VmlzaWJpbGl0eSg1NDk4NTU2OTk4OTg5NywgZmFsc2UpO1xyXG4gKiBgYGBcclxuICpcclxuICogQHJldHVybiBSZXR1cm4gc3VjZXNzIG9mIHByb2R1Y3QgdmlzaWJpbGl0eSBzZXRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDYXJ0RW5hYmxlZChlbmFibGVkOiBib29sZWFuKTogUHJvbWlzZTxhbnk+IHtcclxuICByZXR1cm4gYXdhaXQgVXBkYXRlQ2FydEVuYWJsZWQoZW5hYmxlZCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2Z1bmN0aW9ucyc7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICBMaW5rUHJldmlld09wdGlvbnMsXHJcbiAgTWVzc2FnZUJ1dHRvbnNPcHRpb25zLFxyXG4gIFNlbmRNZXNzYWdlT3B0aW9ucyxcclxufSBmcm9tICcuJztcclxuaW1wb3J0IHsgTGlzdE1lc3NhZ2VPcHRpb25zIH0gZnJvbSAnLi9mdW5jdGlvbnMvc2VuZExpc3RNZXNzYWdlJztcclxuXHJcbmV4cG9ydCB0eXBlIEFsbE1lc3NhZ2VPcHRpb25zID0gU2VuZE1lc3NhZ2VPcHRpb25zICZcclxuICBMaW5rUHJldmlld09wdGlvbnMgJlxyXG4gIE1lc3NhZ2VCdXR0b25zT3B0aW9ucyAmXHJcbiAgUGFydGlhbDxMaXN0TWVzc2FnZU9wdGlvbnM+O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlZmF1bHRTZW5kTWVzc2FnZU9wdGlvbnM6IEFsbE1lc3NhZ2VPcHRpb25zID0ge1xyXG4gIGNyZWF0ZUNoYXQ6IGZhbHNlLFxyXG4gIGRldGVjdE1lbnRpb25lZDogdHJ1ZSxcclxuICBsaW5rUHJldmlldzogdHJ1ZSxcclxuICBtYXJrSXNSZWFkOiB0cnVlLFxyXG4gIHdhaXRGb3JBY2s6IHRydWUsXHJcbiAgZGVsYXk6IDAsXHJcbn07XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICcuL3JlZ2lzdGVyQWNrTWVzc2FnZUV2ZW50JztcclxuaW1wb3J0ICcuL3JlZ2lzdGVyQWN0aXZlQ2hhdEV2ZW50JztcclxuaW1wb3J0ICcuL3JlZ2lzdGVyTGl2ZUxvY2F0aW9uVXBkYXRlRXZlbnQnO1xyXG5pbXBvcnQgJy4vcmVnaXN0ZXJOZXdNZXNzYWdlRXZlbnQnO1xyXG5pbXBvcnQgJy4vcmVnaXN0ZXJQb2xsRXZlbnQnO1xyXG5pbXBvcnQgJy4vcmVnaXN0ZXJQcmVzZW5jZUNoYW5nZSc7XHJcbmltcG9ydCAnLi9yZWdpc3RlclJlYWN0aW9uc0V2ZW50JztcclxuaW1wb3J0ICcuL3JlZ2lzdGVyUmV2b2tlTWVzc2FnZUV2ZW50JztcclxuaW1wb3J0ICcuL3JlZ2lzdGVyTGFiZWxFdmVudCc7XHJcbmltcG9ydCAnLi9yZWdpc3RlckVkaXRlZE1lc3NhZ2VFdmVudCc7XHJcbmltcG9ydCAnLi9yZWdpc3RlclVucmVhZENvdW50RXZlbnQnO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGludGVybmFsRXYgfSBmcm9tICcuLi8uLi9ldmVudEVtaXR0ZXInO1xyXG5pbXBvcnQgKiBhcyB3ZWJwYWNrIGZyb20gJy4uLy4uL3dlYnBhY2snO1xyXG5pbXBvcnQgeyBNc2dLZXksIE1zZ01vZGVsLCBNc2dTdG9yZSwgVXNlclByZWZzLCBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IHdyYXBNb2R1bGVGdW5jdGlvbiB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7XHJcbiAgaGFuZGxlQ2hhdFNpbXBsZVJlY2VpcHQsXHJcbiAgaGFuZGxlR3JvdXBTaW1wbGVSZWNlaXB0LFxyXG4gIGhhbmRsZVN0YXR1c1NpbXBsZVJlY2VpcHQsXHJcbiAgU2ltcGxlQWNrRGF0YSxcclxufSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxud2VicGFjay5vbkZ1bGxSZWFkeShyZWdpc3RlckFja01lc3NhZ2VFdmVudCk7XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlckFja01lc3NhZ2VFdmVudCgpIHtcclxuICBNc2dTdG9yZS5vbignY2hhbmdlOmFjaycsIChtc2c6IE1zZ01vZGVsKSA9PiB7XHJcbiAgICBpZiAobXNnLmFjayA9PT0gMSkge1xyXG4gICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XHJcbiAgICAgICAgaW50ZXJuYWxFdi5lbWl0KCdjaGF0Lm1zZ19hY2tfY2hhbmdlJywge1xyXG4gICAgICAgICAgYWNrOiBtc2cuYWNrISxcclxuICAgICAgICAgIGNoYXQ6IG1zZy50byEsXHJcbiAgICAgICAgICBpZHM6IFttc2cuaWRdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgZnVuY3Rpb24gcHJvY2Vzc1NpbXBsZUFDSyhhY2tEYXRhOiBTaW1wbGVBY2tEYXRhKSB7XHJcbiAgICBpZiAoYWNrRGF0YS5hY2sgPCAyIHx8IGFja0RhdGEuYWNrU3RyaW5nID09PSAnc2VuZGVyJykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBjaGF0SWQ6IFdpZCA9IGFja0RhdGEuZnJvbTtcclxuICAgIGNvbnN0IHNlbmRlcjogV2lkIHwgdW5kZWZpbmVkID0gYWNrRGF0YS5wYXJ0aWNpcGFudCB8fCB1bmRlZmluZWQ7XHJcblxyXG4gICAgY29uc3QgcmVtb3RlID0gYWNrRGF0YS5mcm9tO1xyXG4gICAgY29uc3QgZnJvbU1lID1cclxuICAgICAgIWFja0RhdGEucmVjaXBpZW50IHx8XHJcbiAgICAgIFVzZXJQcmVmcy5nZXRNZVVzZXI/LigpLmVxdWFscyhhY2tEYXRhLnJlY2lwaWVudCkgfHxcclxuICAgICAgVXNlclByZWZzLmdldE1heWJlTWVQblVzZXIoKS5lcXVhbHMoYWNrRGF0YS5yZWNpcGllbnQpO1xyXG5cclxuICAgIC8vIElnbm9yZSBub24gbXkgbWVzc2FnZXMgQUNLIGV2ZW50c1xyXG4gICAgaWYgKCFmcm9tTWUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGtleXMgPSBhY2tEYXRhLmV4dGVybmFsSWRzLm1hcChcclxuICAgICAgKGlkKSA9PlxyXG4gICAgICAgIG5ldyBNc2dLZXkoe1xyXG4gICAgICAgICAgaWQsXHJcbiAgICAgICAgICByZW1vdGUsXHJcbiAgICAgICAgICBmcm9tTWUsXHJcbiAgICAgICAgICBwYXJ0aWNpcGFudDogYWNrRGF0YS5wYXJ0aWNpcGFudCxcclxuICAgICAgICB9KVxyXG4gICAgKTtcclxuXHJcbiAgICBpbnRlcm5hbEV2LmVtaXQoJ2NoYXQubXNnX2Fja19jaGFuZ2UnLCB7XHJcbiAgICAgIGFjazogYWNrRGF0YS5hY2ssXHJcbiAgICAgIGNoYXQ6IGNoYXRJZCxcclxuICAgICAgc2VuZGVyOiBzZW5kZXIsXHJcbiAgICAgIGlkczoga2V5cyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgd3JhcE1vZHVsZUZ1bmN0aW9uKGhhbmRsZUNoYXRTaW1wbGVSZWNlaXB0LCAoZnVuYywgLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgW2Fja0RhdGFdID0gYXJncztcclxuICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcclxuICAgICAgcHJvY2Vzc1NpbXBsZUFDSyhhY2tEYXRhKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGZ1bmMoLi4uYXJncyk7XHJcbiAgfSk7XHJcbiAgd3JhcE1vZHVsZUZ1bmN0aW9uKGhhbmRsZUdyb3VwU2ltcGxlUmVjZWlwdCwgKGZ1bmMsIC4uLmFyZ3MpID0+IHtcclxuICAgIGNvbnN0IFthY2tEYXRhXSA9IGFyZ3M7XHJcbiAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XHJcbiAgICAgIHByb2Nlc3NTaW1wbGVBQ0soYWNrRGF0YSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBmdW5jKC4uLmFyZ3MpO1xyXG4gIH0pO1xyXG4gIHdyYXBNb2R1bGVGdW5jdGlvbihoYW5kbGVTdGF0dXNTaW1wbGVSZWNlaXB0LCAoZnVuYywgLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgW2Fja0RhdGFdID0gYXJncztcclxuICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcclxuICAgICAgcHJvY2Vzc1NpbXBsZUFDSyhhY2tEYXRhKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGZ1bmMoLi4uYXJncyk7XHJcbiAgfSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpbnRlcm5hbEV2IH0gZnJvbSAnLi4vLi4vZXZlbnRFbWl0dGVyJztcclxuaW1wb3J0ICogYXMgd2VicGFjayBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgQ2hhdE1vZGVsLCBDaGF0U3RvcmUgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcblxyXG53ZWJwYWNrLm9uSW5qZWN0ZWQoKCkgPT4gcmVnaXN0ZXIoKSk7XHJcbmxldCBlbWl0VGltZW91dDogYW55ID0gbnVsbDtcclxuXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyKCkge1xyXG4gIENoYXRTdG9yZS5vbignY2hhbmdlOmFjdGl2ZScsIChjaGF0OiBDaGF0TW9kZWwpID0+IHtcclxuICAgIGlmIChlbWl0VGltZW91dCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQoZW1pdFRpbWVvdXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGVtaXRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGludGVybmFsRXYuZW1pdCgnY2hhdC5hY3RpdmVfY2hhdCcsIGNoYXQuYWN0aXZlID8gY2hhdCA6IG51bGwpO1xyXG4gICAgfSwgNTApO1xyXG4gIH0pO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaW50ZXJuYWxFdiB9IGZyb20gJy4uLy4uL2V2ZW50RW1pdHRlcic7XHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IE1zZ01vZGVsLCBNc2dTdG9yZSB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbndlYnBhY2sub25GdWxsUmVhZHkocmVnaXN0ZXJBY2tNZXNzYWdlRXZlbnQpO1xyXG5cclxuZnVuY3Rpb24gcmVnaXN0ZXJBY2tNZXNzYWdlRXZlbnQoKSB7XHJcbiAgTXNnU3RvcmUub24oJ2NoYW5nZTpsYXRlc3RFZGl0TXNnS2V5JywgKG1zZzogTXNnTW9kZWwpID0+IHtcclxuICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcclxuICAgICAgaW50ZXJuYWxFdi5lbWl0KCdjaGF0Lm1zZ19lZGl0ZWQnLCB7XHJcbiAgICAgICAgY2hhdDogbXNnLnRvISxcclxuICAgICAgICBpZDogbXNnLmlkLnRvU3RyaW5nKCksXHJcbiAgICAgICAgbXNnOiBtc2csXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIyIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpc01haW5SZWFkeSB9IGZyb20gJy4uLy4uL2Nvbm4nO1xyXG5pbXBvcnQgeyBpbnRlcm5hbEV2IH0gZnJvbSAnLi4vLi4vZXZlbnRFbWl0dGVyJztcclxuaW1wb3J0IHsgZ2V0TGFiZWxCeUlkLCBMYWJlbCB9IGZyb20gJy4uLy4uL2xhYmVscyc7XHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IENoYXRNb2RlbCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgd3JhcE1vZHVsZUZ1bmN0aW9uIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHtcclxuICBhZGRUb0xhYmVsQ29sbGVjdGlvbixcclxuICByZW1vdmVMYWJlbEZyb21Db2xsZWN0aW9uLFxyXG59IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcbmltcG9ydCB7IGdldCBhcyBnZXRDaGF0IH0gZnJvbSAnLi4vZnVuY3Rpb25zLyc7XHJcblxyXG53ZWJwYWNrLm9uRnVsbFJlYWR5KHJlZ2lzdGVyKTtcclxuXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyKCkge1xyXG4gIGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NMYWJlbEV2ZW50KGV2ZW50OiAnYWRkJyB8ICdyZW1vdmUnLCAuLi5hcmdzOiBhbnkpIHtcclxuICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xyXG4gICAgY29uc3QgaWRzID0gQXJyYXkuaXNBcnJheShkYXRhWzFdKSA/IGRhdGFbMV0gOiBbZGF0YVsxXV07XHJcbiAgICBjb25zdCBjaGF0SWQgPSBkYXRhWzBdO1xyXG5cclxuICAgIGlmIChpc01haW5SZWFkeSgpKSB7XHJcbiAgICAgIGNvbnN0IGxhYmVscyA9IFtdIGFzIExhYmVsW107XHJcbiAgICAgIGZvciAoY29uc3QgaWQgb2YgaWRzKSB7XHJcbiAgICAgICAgbGFiZWxzLnB1c2goYXdhaXQgZ2V0TGFiZWxCeUlkKGlkKSk7XHJcbiAgICAgIH1cclxuICAgICAgaW50ZXJuYWxFdi5lbWl0KCdjaGF0LnVwZGF0ZV9sYWJlbCcsIHtcclxuICAgICAgICBjaGF0OiBnZXRDaGF0KGNoYXRJZCkgYXMgQ2hhdE1vZGVsLFxyXG4gICAgICAgIGlkczogaWRzLFxyXG4gICAgICAgIGxhYmVsczogbGFiZWxzLFxyXG4gICAgICAgIHR5cGU6IGV2ZW50LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHdyYXBNb2R1bGVGdW5jdGlvbihhZGRUb0xhYmVsQ29sbGVjdGlvbiwgYXN5bmMgKGZ1bmMsIC4uLmFyZ3MpID0+IHtcclxuICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcclxuICAgICAgcHJvY2Vzc0xhYmVsRXZlbnQoJ2FkZCcsIGFyZ3MpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZnVuYyguLi5hcmdzKTtcclxuICB9KTtcclxuXHJcbiAgd3JhcE1vZHVsZUZ1bmN0aW9uKHJlbW92ZUxhYmVsRnJvbUNvbGxlY3Rpb24sIGFzeW5jIChmdW5jLCAuLi5hcmdzKSA9PiB7XHJcbiAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XHJcbiAgICAgIHByb2Nlc3NMYWJlbEV2ZW50KCdyZW1vdmUnLCBhcmdzKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGZ1bmMoLi4uYXJncyk7XHJcbiAgfSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpbnRlcm5hbEV2IH0gZnJvbSAnLi4vLi4vZXZlbnRFbWl0dGVyJztcclxuaW1wb3J0ICogYXMgd2VicGFjayBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgTXNnTW9kZWwsIE1zZ1N0b3JlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxud2VicGFjay5vbkluamVjdGVkKCgpID0+IHJlZ2lzdGVyTGl2ZUxvY2F0aW9uVXBkYXRlRXZlbnQoKSk7XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlckxpdmVMb2NhdGlvblVwZGF0ZUV2ZW50KCkge1xyXG4gIC8qKlxyXG4gICAqIEZvciBlYWNoIG5ldyBsaXZlIGRldGVjdGlvbiwgZmVjdGggaW5pdGlhbCBkYXRhIGFuZCBzdGFydCB1cGRhdGUgaGFuZGxlclxyXG4gICAqL1xyXG4gIE1zZ1N0b3JlLm9uKCdhZGQnLCAobXNnOiBNc2dNb2RlbCkgPT4ge1xyXG4gICAgaWYgKCFtc2cuaXNOZXdNc2cgfHwgIW1zZy5pc0xpdmUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcclxuICAgICAgaW50ZXJuYWxFdi5lbWl0KCdjaGF0LmxpdmVfbG9jYXRpb25fc3RhcnQnLCB7XHJcbiAgICAgICAgaWQ6IG1zZy5zZW5kZXIhLFxyXG4gICAgICAgIG1zZ0lkOiBtc2cuaWQsXHJcbiAgICAgICAgY2hhdDogbXNnLmNoYXQhLmlkLFxyXG4gICAgICAgIGxhdDogbXNnLmxhdCEsXHJcbiAgICAgICAgbG5nOiBtc2cubG5nISxcclxuICAgICAgICBhY2N1cmFjeTogbXNnLmFjY3VyYWN5LFxyXG4gICAgICAgIHNwZWVkOiBtc2cuc3BlZWQsXHJcbiAgICAgICAgZGVncmVlczogbXNnLmRlZ3JlZXMsXHJcbiAgICAgICAgc2hhcmVEdXJhdGlvbjogbXNnLnNoYXJlRHVyYXRpb24hLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaW50ZXJuYWxFdiB9IGZyb20gJy4uLy4uL2V2ZW50RW1pdHRlcic7XHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IENoYXRTdG9yZSwgTXNnTW9kZWwsIE1zZ1N0b3JlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBnZXRRdW90ZWRNc2dPYmogfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBnZXRRdW90ZWRNc2dLZXkgfSBmcm9tICcuLi9mdW5jdGlvbnMvJztcclxuXHJcbndlYnBhY2sub25JbmplY3RlZCgoKSA9PiByZWdpc3RlcigpKTtcclxuXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyKCkge1xyXG4gIE1zZ1N0b3JlLm9uKCdhZGQnLCAobXNnOiBNc2dNb2RlbCkgPT4ge1xyXG4gICAgaWYgKG1zZy5pc05ld01zZykge1xyXG4gICAgICBxdWV1ZU1pY3JvdGFzayhhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgbXNnID0gYXdhaXQgYWRkQXR0cmlidXRlc01zZyhtc2cpO1xyXG4gICAgICAgIGlmIChtc2cudHlwZSA9PT0gJ2NpcGhlcnRleHQnKSB7XHJcbiAgICAgICAgICBtc2cub25jZSgnY2hhbmdlOnR5cGUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcclxuICAgICAgICAgICAgICBpbnRlcm5hbEV2LmVtaXQoJ2NoYXQubmV3X21lc3NhZ2UnLCBtc2cpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWxFdi5lbWl0KCdjaGF0Lm5ld19tZXNzYWdlJywgbXNnKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGlmICh0eXBlb2YgTXNnTW9kZWwucHJvdG90eXBlLmNoYXQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTXNnTW9kZWwucHJvdG90eXBlLCAnY2hhdCcsIHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIENoYXRTdG9yZS5nZXQodGhpcy5pZD8uZnJvbU1lID8gdGhpcy50byA6IHRoaXMuZnJvbSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKHR5cGVvZiBNc2dNb2RlbC5wcm90b3R5cGUuaXNHcm91cE1zZyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNc2dNb2RlbC5wcm90b3R5cGUsICdpc0dyb3VwTXNnJywge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcz8uY2hhdD8uaXNHcm91cDtcclxuICAgICAgfSxcclxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBpZiAodHlwZW9mIE1zZ01vZGVsLnByb3RvdHlwZS5xdW90ZWRNc2dJZCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNc2dNb2RlbC5wcm90b3R5cGUsICdxdW90ZWRNc2dJZCcsIHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgcXVvdGVkTXNnSWQgPSBnZXRRdW90ZWRNc2dLZXkodGhpcyk7XHJcblxyXG4gICAgICAgIHJldHVybiBxdW90ZWRNc2dJZDtcclxuICAgICAgfSxcclxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBhZGRBdHRyaWJ1dGVzTXNnKG1zZzogYW55KTogUHJvbWlzZTxNc2dNb2RlbD4ge1xyXG4gIC8qKlxyXG4gICAqIEB0b2RvLCByZW1vdmUgdGhpc1xyXG4gICAqL1xyXG4gIGlmICghKHR5cGVvZiBtc2cucXVvdGVkU3RhbnphSUQgPT09ICd1bmRlZmluZWQnKSkge1xyXG4gICAgY29uc3QgcXVvdGVkTXNnID0gZ2V0UXVvdGVkTXNnT2JqKG1zZyk7XHJcbiAgICBpZiAoIXF1b3RlZE1zZykgcmV0dXJuIG1zZztcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1zZywge1xyXG4gICAgICBfcXVvdGVkTXNnT2JqOiB7XHJcbiAgICAgICAgdmFsdWU6IHF1b3RlZE1zZyxcclxuICAgICAgICB3cml0YWJsZTogZmFsc2UsXHJcbiAgICAgIH0sXHJcbiAgICAgIC8vIEZpeGVkIHF1b3RlZE1zZ0lkIHdoZW4gcmVjZWl2ZSBtZXNzYWdlcyBmcm9tIEBsaWRcclxuICAgICAgcXVvdGVkTXNnSWQ6IHtcclxuICAgICAgICB2YWx1ZTogcXVvdGVkTXNnLmlkLFxyXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxuICByZXR1cm4gbXNnO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaW50ZXJuYWxFdiB9IGZyb20gJy4uLy4uL2V2ZW50RW1pdHRlcic7XHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IHdyYXBNb2R1bGVGdW5jdGlvbiB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IHVwc2VydFZvdGVzIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHsgZ2V0TWVzc2FnZUJ5SWQgfSBmcm9tICcuLi9mdW5jdGlvbnMnO1xyXG5cclxud2VicGFjay5vbkZ1bGxSZWFkeShyZWdpc3Rlcik7XHJcblxyXG5jb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG5cclxuZnVuY3Rpb24gcmVnaXN0ZXIoKSB7XHJcbiAgd3JhcE1vZHVsZUZ1bmN0aW9uKHVwc2VydFZvdGVzLCBhc3luYyAoZnVuYywgLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgW2RhdGFdID0gYXJncztcclxuXHJcbiAgICBmb3IgKGNvbnN0IGQgb2YgZGF0YSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGlmIChkLnNlbmRlclRpbWVzdGFtcE1zIDwgbm93KSB7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG1zZyA9IGF3YWl0IGdldE1lc3NhZ2VCeUlkKGQucGFyZW50TXNnS2V5KTtcclxuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbnM6IGFueSA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IG9wdCBvZiBkLnNlbGVjdGVkT3B0aW9uTG9jYWxJZHMpIHtcclxuICAgICAgICAgIHNlbGVjdGVkT3B0aW9uc1tvcHRdID0gbXNnLnBvbGxPcHRpb25zLmZpbHRlcihcclxuICAgICAgICAgICAgKGk6IGFueSkgPT4gaS5sb2NhbElkID09IG9wdFxyXG4gICAgICAgICAgKVswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW50ZXJuYWxFdlxyXG4gICAgICAgICAgLmVtaXRBc3luYygnY2hhdC5wb2xsX3Jlc3BvbnNlJywge1xyXG4gICAgICAgICAgICBtc2dJZDogZC5wYXJlbnRNc2dLZXksXHJcbiAgICAgICAgICAgIGNoYXRJZDogZC5wYXJlbnRNc2dLZXkucmVtb3RlLFxyXG4gICAgICAgICAgICBzZWxlY3RlZE9wdGlvbnM6IHNlbGVjdGVkT3B0aW9ucyxcclxuICAgICAgICAgICAgdGltZXN0YW1wOiBkLnNlbmRlclRpbWVzdGFtcE1zLFxyXG4gICAgICAgICAgICBzZW5kZXI6IGQuc2VuZGVyLFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoKSA9PiBudWxsKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZ1bmMoLi4uYXJncyk7XHJcbiAgfSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpbnRlcm5hbEV2IH0gZnJvbSAnLi4vLi4vZXZlbnRFbWl0dGVyJztcclxuaW1wb3J0IHtcclxuICBDaGF0c3RhdGVNb2RlbCxcclxuICBDaGF0U3RvcmUsXHJcbiAgQ29udGFjdFN0b3JlLFxyXG4gIFByZXNlbmNlU3RvcmUsXHJcbn0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuaW50ZXJuYWxFdi5vbignY29ubi5tYWluX3JlYWR5JywgYXN5bmMgKCkgPT4ge1xyXG4gIGNvbnN0IHByb21pc2VzID0gQ2hhdFN0b3JlLm1hcCgoYykgPT4gYy5wcmVzZW5jZS5zdWJzY3JpYmUoKSk7XHJcblxyXG4gIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcclxuXHJcbiAgcmVnaXN0ZXIoKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlcigpIHtcclxuICBQcmVzZW5jZVN0b3JlLm9uKCdjaGFuZ2U6Y2hhdHN0YXRlLnR5cGUnLCAoY2hhdHN0YXRlOiBDaGF0c3RhdGVNb2RlbCkgPT4ge1xyXG4gICAgLy8gU2VhcmNoIHByZXNlbmNlIG1vZGVsIGZyb20gY2hhdHN0YXRlXHJcbiAgICBjb25zdCBwcmVzZW5jZSA9IFByZXNlbmNlU3RvcmUuZ2V0TW9kZWxzQXJyYXkoKS5maW5kKFxyXG4gICAgICAobSkgPT4gbS5jaGF0c3RhdGUgPT09IGNoYXRzdGF0ZVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBJZ25vcmUgbm90IGluaXRpYWxpemVkIHByZXNlbmNlc1xyXG4gICAgaWYgKCFwcmVzZW5jZSB8fCAhcHJlc2VuY2UuaGFzRGF0YSB8fCAhcHJlc2VuY2UuY2hhdHN0YXRlPy50eXBlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbnRhY3QgPSBDb250YWN0U3RvcmUuZ2V0KHByZXNlbmNlLmlkKTtcclxuXHJcbiAgICAgIGNvbnN0IGRhdGE6IGFueSA9IHtcclxuICAgICAgICBpZDogcHJlc2VuY2UuaWQsXHJcbiAgICAgICAgaXNPbmxpbmU6IHByZXNlbmNlLmlzT25saW5lLFxyXG4gICAgICAgIGlzR3JvdXA6IHByZXNlbmNlLmlzR3JvdXAsXHJcbiAgICAgICAgaXNVc2VyOiBwcmVzZW5jZS5pc1VzZXIsXHJcbiAgICAgICAgc2hvcnROYW1lOiBjb250YWN0ID8gY29udGFjdC5mb3JtYXR0ZWRTaG9ydE5hbWUgOiAnJyxcclxuICAgICAgICBzdGF0ZTogcHJlc2VuY2UuY2hhdHN0YXRlPy50eXBlLFxyXG4gICAgICAgIHQ6IERhdGUubm93KCksXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpZiAocHJlc2VuY2UuaXNVc2VyKSB7XHJcbiAgICAgICAgZGF0YS5pc0NvbnRhY3QgPSAhcHJlc2VuY2UuY2hhdHN0YXRlPy5kZW55O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocHJlc2VuY2UuaXNHcm91cCkge1xyXG4gICAgICAgIGRhdGEucGFydGljaXBhbnRzID0gcHJlc2VuY2UuY2hhdHN0YXRlc1xyXG4gICAgICAgICAgLmdldE1vZGVsc0FycmF5KClcclxuICAgICAgICAgIC5maWx0ZXIoKGMpID0+ICEhYy50eXBlKVxyXG4gICAgICAgICAgLm1hcCgoYykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjb250YWN0ID0gQ29udGFjdFN0b3JlLmdldChjLmlkKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgaWQ6IGMuaWQudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICBzdGF0ZTogYy50eXBlLFxyXG4gICAgICAgICAgICAgIHNob3J0TmFtZTogY29udGFjdCA/IGNvbnRhY3QuZm9ybWF0dGVkU2hvcnROYW1lIDogJycsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaW50ZXJuYWxFdi5lbWl0KCdjaGF0LnByZXNlbmNlX2NoYW5nZScsIGRhdGEpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpbnRlcm5hbEV2IH0gZnJvbSAnLi4vLi4vZXZlbnRFbWl0dGVyJztcclxuaW1wb3J0IHsgY3JlYXRlV2lkIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IE1zZ0tleSB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgd3JhcE1vZHVsZUZ1bmN0aW9uIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgY3JlYXRlT3JVcGRhdGVSZWFjdGlvbnMgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxud2VicGFjay5vbkZ1bGxSZWFkeShyZWdpc3Rlcik7XHJcblxyXG5jb25zdCByZWFjdGlvbnM6IHN0cmluZ1tdID0gW107XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlcigpIHtcclxuICB3cmFwTW9kdWxlRnVuY3Rpb24oY3JlYXRlT3JVcGRhdGVSZWFjdGlvbnMsIChmdW5jLCAuLi5hcmdzKSA9PiB7XHJcbiAgICBjb25zdCBbZGF0YV06IGFueSA9IGFyZ3M7XHJcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcclxuICAgICAgZm9yIChjb25zdCBkIG9mIGRhdGEpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgaWYgKChkIGFzIGFueSkudCA8IG5vdykge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGludGVybmFsRXYuZW1pdEFzeW5jKCdjaGF0Lm5ld19yZWFjdGlvbicsIHtcclxuICAgICAgICAgICAgaWQ6IE1zZ0tleS5mcm9tU3RyaW5nKChkIGFzIGFueSkuaWQpLFxyXG4gICAgICAgICAgICBvcnBoYW46IGQub3JwaGFuLFxyXG4gICAgICAgICAgICBvcnBoYW5SZWFzb246IGQub3JwaGFuUmVhc29uLFxyXG4gICAgICAgICAgICBtc2dJZDogTXNnS2V5LmZyb21TdHJpbmcoKGQgYXMgYW55KS5yZWFjdGlvblBhcmVudEtleSksXHJcbiAgICAgICAgICAgIHJlYWN0aW9uVGV4dDogZC5yZWFjdGlvblRleHQsXHJcbiAgICAgICAgICAgIHJlYWQ6IGQucmVhZCxcclxuICAgICAgICAgICAgc2VuZGVyOiBjcmVhdGVXaWQoKGQgYXMgYW55KS5mcm9tKSEsXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcDogKGQgYXMgYW55KS50LFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgaW5OZXdSZWFjdGlvbiA9IChhcmdzIGFzIGFueSlbMV07XHJcbiAgICAgICAgaWYgKGluTmV3UmVhY3Rpb24pIHtcclxuICAgICAgICAgIGlmIChyZWFjdGlvbnNbZGF0YS5tc2dLZXldKSByZXR1cm4gZnVuYyguLi5hcmdzKTtcclxuICAgICAgICAgIHJlYWN0aW9uc1tkYXRhLm1zZ0tleV0gPSBkYXRhO1xyXG5cclxuICAgICAgICAgIGludGVybmFsRXYuZW1pdEFzeW5jKCdjaGF0Lm5ld19yZWFjdGlvbicsIHtcclxuICAgICAgICAgICAgaWQ6IE1zZ0tleS5mcm9tU3RyaW5nKGRhdGEubXNnS2V5KSxcclxuICAgICAgICAgICAgb3JwaGFuOiBkYXRhLm9ycGhhbixcclxuICAgICAgICAgICAgb3JwaGFuUmVhc29uOiBudWxsLFxyXG4gICAgICAgICAgICBtc2dJZDogTXNnS2V5LmZyb21TdHJpbmcoZGF0YS5wYXJlbnRNc2dLZXkpLFxyXG4gICAgICAgICAgICByZWFjdGlvblRleHQ6IGRhdGEucmVhY3Rpb25UZXh0LFxyXG4gICAgICAgICAgICByZWFkOiBkYXRhLnJlYWQsXHJcbiAgICAgICAgICAgIHNlbmRlcjogY3JlYXRlV2lkKGRhdGEuc2VuZGVyVXNlckppZCkhLFxyXG4gICAgICAgICAgICB0aW1lc3RhbXA6IGRhdGEudCxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSByZWFjdGlvbnNbZGF0YS5tc2dLZXldO1xyXG4gICAgICAgICAgfSwgMTAwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZ1bmMoLi4uYXJncyk7XHJcbiAgfSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpbnRlcm5hbEV2IH0gZnJvbSAnLi4vLi4vZXZlbnRFbWl0dGVyJztcclxuaW1wb3J0ICogYXMgd2VicGFjayBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgTXNnU3RvcmUsIFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgUmF3TWVzc2FnZSB9IGZyb20gJy4uJztcclxuXHJcbndlYnBhY2sub25JbmplY3RlZCgoKSA9PiByZWdpc3RlclJldm9rZU1lc3NhZ2VFdmVudCgpKTtcclxuXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyUmV2b2tlTWVzc2FnZUV2ZW50KCkge1xyXG4gIC8qKlxyXG4gICAqIHByb2Nlc3NNdWx0aXBsZU1lc3NhZ2VzIHJlY2VpdmUgYWxsIG1zZ3MgZXZlbnRzIGJlZm9yZSB0aGUgc2NyZWVuIHByb2Nlc3NpbmcsXHJcbiAgICogc28gZm9yIHNvbWUgZXZlbnRzLCBsaWtlIHJldm9rZSwgaXMgY2FsbGVkIGhlcmUgYW5kIG5vdCBpbiBNc2dTdG9yZSxcclxuICAgKiBiZWNhdXNlIHRoZSBtZXNzYWdlIGlzIG5vdCBpbiBNc2dTdG9yZVxyXG4gICAqL1xyXG4gIGNvbnN0IHByb2Nlc3NNdWx0aXBsZU1lc3NhZ2VzID0gTXNnU3RvcmUucHJvY2Vzc011bHRpcGxlTWVzc2FnZXM7XHJcblxyXG4gIGNvbnN0IHJldm9rZVR5cGVzID0gWydyZXZva2UnLCAnc2VuZGVyX3Jldm9rZScsICdhZG1pbl9yZXZva2UnXTtcclxuXHJcbiAgTXNnU3RvcmUucHJvY2Vzc011bHRpcGxlTWVzc2FnZXMgPSAoXHJcbiAgICBjaGF0SWQ6IFdpZCxcclxuICAgIG1zZ3M6IFJhd01lc3NhZ2VbXSxcclxuICAgIC4uLmFyZ3M6IGFueVtdXHJcbiAgKSA9PiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAvLyB0cnkuLi5jYXRjaCB0byBhdm9pZCBzY3JlZW4gYmxvY2tcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBmb3IgKGNvbnN0IG1zZyBvZiBtc2dzKSB7XHJcbiAgICAgICAgICBpZiAoIW1zZy5pc05ld01zZykge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAobXNnLnR5cGUgPT09ICdwcm90b2NvbCcgJiYgcmV2b2tlVHlwZXMuaW5jbHVkZXMobXNnLnN1YnR5cGUhKSkge1xyXG4gICAgICAgICAgICBpbnRlcm5hbEV2LmVtaXQoJ2NoYXQubXNnX3Jldm9rZScsIHtcclxuICAgICAgICAgICAgICBhdXRob3I6IG1zZy5hdXRob3IsXHJcbiAgICAgICAgICAgICAgZnJvbTogbXNnLmZyb20hLFxyXG4gICAgICAgICAgICAgIGlkOiBtc2cuaWQhLFxyXG4gICAgICAgICAgICAgIHJlZklkOiBtc2cucHJvdG9jb2xNZXNzYWdlS2V5ISxcclxuICAgICAgICAgICAgICB0bzogbXNnLnRvISxcclxuICAgICAgICAgICAgICB0eXBlOiBtc2cuc3VidHlwZSBhcyBhbnksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XHJcblxyXG4gICAgICAvLyBDYWxsIHRoZSBvcmlnaW5hbCBtZXRob2RcclxuICAgICAgcHJvY2Vzc011bHRpcGxlTWVzc2FnZXNcclxuICAgICAgICAuY2FsbChNc2dTdG9yZSwgY2hhdElkLCBtc2dzLCAuLi5hcmdzKVxyXG4gICAgICAgIC50aGVuKHJlc29sdmUsIHJlamVjdCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaW50ZXJuYWxFdiB9IGZyb20gJy4uLy4uL2V2ZW50RW1pdHRlcic7XHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IENoYXRNb2RlbCwgQ2hhdFN0b3JlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxud2VicGFjay5vbkluamVjdGVkKCgpID0+IHJlZ2lzdGVyKCkpO1xyXG5sZXQgZW1pdFRpbWVvdXQ6IGFueSA9IG51bGw7XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlcigpIHtcclxuICBDaGF0U3RvcmUub24oXHJcbiAgICAnY2hhbmdlOnVucmVhZENvdW50JyxcclxuICAgIChjaGF0OiBDaGF0TW9kZWwsIHVucmVhZENvdW50OiBudW1iZXIsIHByZXZpb3VzVW5yZWFkQ291bnQ6IG51bWJlcikgPT4ge1xyXG4gICAgICBpZiAoZW1pdFRpbWVvdXQpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQoZW1pdFRpbWVvdXQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlbWl0VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGludGVybmFsRXYuZW1pdCgnY2hhdC51bnJlYWRfY291bnRfY2hhbmdlZCcsIHtcclxuICAgICAgICAgIGNoYXQsXHJcbiAgICAgICAgICB1bnJlYWRDb3VudCxcclxuICAgICAgICAgIHByZXZpb3VzVW5yZWFkQ291bnQsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sIDUwKTtcclxuICAgIH1cclxuICApO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgY29tcGFyZSB9IGZyb20gJ2NvbXBhcmUtdmVyc2lvbnMnO1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0R2V0Q2hhdCwgYXNzZXJ0V2lkIH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgQ21kLCBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IHNldEFyY2hpdmUgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuLyoqXHJcbiAqIEFyY2hpdmUgYSBjaGF0XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gQXJjaGl2ZSBhIGNoYXRcclxuICogV1BQLmNoYXQuYXJjaGl2ZSgnW251bWJlcl1AYy51cycpO1xyXG4gKlxyXG4gKiAvLyBVbmFyY2hpdmUgYSBjaGF0XHJcbiAqIFdQUC5jaGF0LmFyY2hpdmUoJ1tudW1iZXJdQGMudXMnLCBmYWxzZSk7XHJcbiAqIC8vIG9yXHJcbiAqIFdQUC5jaGF0LnVuYXJjaGl2ZSgnW251bWJlcl1AYy51cycpO1xyXG4gKiBgYGBcclxuICogQGNhdGVnb3J5IENoYXRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcmNoaXZlKGNoYXRJZDogc3RyaW5nIHwgV2lkLCBhcmNoaXZlID0gdHJ1ZSkge1xyXG4gIGNvbnN0IHdpZCA9IGFzc2VydFdpZChjaGF0SWQpO1xyXG5cclxuICBjb25zdCBjaGF0ID0gYXNzZXJ0R2V0Q2hhdCh3aWQpO1xyXG5cclxuICBpZiAoY2hhdC5hcmNoaXZlID09PSBhcmNoaXZlKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgIGAke2FyY2hpdmUgPyAnYXJjaGl2ZScgOiAndW5hcmNoaXZlJ31fZXJyb3JgLFxyXG4gICAgICBgVGhlIGNoYXQgJHt3aWQudG9TdHJpbmcoKX0gaXMgYWxyZWFkeSAke1xyXG4gICAgICAgIGFyY2hpdmUgPyAnYXJjaGl2ZWQnIDogJ3VuYXJjaGl2ZWQnXHJcbiAgICAgIH1gLFxyXG4gICAgICB7IHdpZCwgYXJjaGl2ZSB9XHJcbiAgICApO1xyXG4gIH1cclxuICBpZiAoY29tcGFyZShzZWxmLkRlYnVnLlZFUlNJT04sICcyLjMwMDAuMCcsICc+PScpKSB7XHJcbiAgICBDbWQuYXJjaGl2ZUNoYXQoY2hhdCwgYXJjaGl2ZSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGF3YWl0IHNldEFyY2hpdmUoY2hhdCwgYXJjaGl2ZSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgd2lkLFxyXG4gICAgYXJjaGl2ZSxcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogVW5hcmNoaXZlIGEgY2hhdFxyXG4gKlxyXG4gKiBAYWxpYXMgYXJjaGl2ZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFVuYXJjaGl2ZSBhIGNoYXRcclxuICogV1BQLmNoYXQudW5hcmNoaXZlKCdbbnVtYmVyXUBjLnVzJyk7XHJcbiAqXHJcbiAqIC8vIEFsaWFzIGZvclxyXG4gKiBXUFAuY2hhdC5hcmNoaXZlKCdbbnVtYmVyXUBjLnVzJywgZmFsc2UpO1xyXG4gKiBgYGBcclxuICogQGNhdGVnb3J5IENoYXRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1bmFyY2hpdmUoY2hhdElkOiBzdHJpbmcgfCBXaWQpIHtcclxuICByZXR1cm4gYXJjaGl2ZShjaGF0SWQsIGZhbHNlKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjIgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IE1zZ01vZGVsLCB3ZWJzb2NrZXQsIFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbmZ1bmN0aW9uIHBhcnNlckJ1dHRvbnMoXHJcbiAgcHJvdG86IGFueSxcclxuICBkZXZpY2VzOiBXaWRbXVxyXG4pOiB7IHByb3RvOiBhbnk7IGRldmljZXM6IFdpZFtdIH1bXSB7XHJcbiAgY29uc3QgbW9iaWxlRGV2aWNlcyA9IGRldmljZXMuZmlsdGVyKChwOiBXaWQpID0+ICFwLmRldmljZSk7XHJcbiAgY29uc3Qgd2ViRGV2aWNlcyA9IGRldmljZXMuZmlsdGVyKChwOiBXaWQpID0+IHAuZGV2aWNlKTtcclxuICBjb25zdCBpbnRlcmFjdGl2ZU1lc3NhZ2UgPSBwcm90by52aWV3T25jZU1lc3NhZ2U/Lm1lc3NhZ2U/LmludGVyYWN0aXZlTWVzc2FnZTtcclxuICBsZXQgdXNlVGVtcGxhdGVNZXNzYWdlID0gZmFsc2U7XHJcblxyXG4gIGNvbnN0IHByb3RvRm9yV2ViID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwcm90bykpO1xyXG5cclxuICBpZiAoaW50ZXJhY3RpdmVNZXNzYWdlKSB7XHJcbiAgICBjb25zdCBtZWRpYVBhcnQgPSBbXHJcbiAgICAgICdkb2N1bWVudE1lc3NhZ2UnLFxyXG4gICAgICAnZG9jdW1lbnRXaXRoQ2FwdGlvbk1lc3NhZ2UnLFxyXG4gICAgICAnaW1hZ2VNZXNzYWdlJyxcclxuICAgICAgJ3ZpZGVvTWVzc2FnZScsXHJcbiAgICBdO1xyXG4gICAgbGV0IGhlYWRlciA9IHVuZGVmaW5lZDtcclxuICAgIGxldCBoZWFkZXJUeXBlID0gMTtcclxuICAgIGZvciAobGV0IHBhcnQgb2YgbWVkaWFQYXJ0KSB7XHJcbiAgICAgIGlmIChwYXJ0IGluIGludGVyYWN0aXZlTWVzc2FnZS5oZWFkZXIpIHtcclxuICAgICAgICBjb25zdCBwYXJ0TmFtZSA9IHBhcnQ7XHJcbiAgICAgICAgaWYgKHBhcnQgPT09ICdkb2N1bWVudFdpdGhDYXB0aW9uTWVzc2FnZScpIHBhcnQgPSAnZG9jdW1lbnRNZXNzYWdlJztcclxuXHJcbiAgICAgICAgaGVhZGVyID0geyBbcGFydE5hbWVdOiBpbnRlcmFjdGl2ZU1lc3NhZ2UuaGVhZGVyW3BhcnROYW1lXSB9O1xyXG4gICAgICAgIGhlYWRlclR5cGUgPVxyXG4gICAgICAgICAgcGFydE5hbWUgPT0gJ2ltYWdlTWVzc2FnZSdcclxuICAgICAgICAgICAgPyA0XHJcbiAgICAgICAgICAgIDogcGFydE5hbWUuaW5jbHVkZXMoJ2RvY3VtZW50JylcclxuICAgICAgICAgICAgICA/IDNcclxuICAgICAgICAgICAgICA6IHBhcnROYW1lID09ICd2aWRlb01lc3NhZ2UnXHJcbiAgICAgICAgICAgICAgICA/IDVcclxuICAgICAgICAgICAgICAgIDogMTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgYnV0dG9uc01lc3NhZ2UgPSB7XHJcbiAgICAgIG1lc3NhZ2U6IHtcclxuICAgICAgICBidXR0b25zTWVzc2FnZToge1xyXG4gICAgICAgICAgaGVhZGVyVHlwZSxcclxuICAgICAgICAgIGNvbnRlbnRUZXh0OiBpbnRlcmFjdGl2ZU1lc3NhZ2U/LmJvZHk/LnRleHQgfHwgJyAnLFxyXG4gICAgICAgICAgZm9vdGVyVGV4dDogaW50ZXJhY3RpdmVNZXNzYWdlPy5mb290ZXI/LnRleHQgfHwgJyAnLFxyXG4gICAgICAgICAgLi4uaGVhZGVyLFxyXG4gICAgICAgICAgYnV0dG9uczogaW50ZXJhY3RpdmVNZXNzYWdlPy5uYXRpdmVGbG93TWVzc2FnZT8uYnV0dG9uc1xyXG4gICAgICAgICAgICAubWFwKChidXR0b246IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgIGlmIChidXR0b24ubmFtZSA9PSAncXVpY2tfcmVwbHknKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICB0eXBlOiAxLFxyXG4gICAgICAgICAgICAgICAgICBidXR0b25JZDpcclxuICAgICAgICAgICAgICAgICAgICBKU09OLnBhcnNlKGJ1dHRvbi5idXR0b25QYXJhbXNKc29uKT8uaWQgfHwgYCR7aW5kZXh9YCxcclxuICAgICAgICAgICAgICAgICAgYnV0dG9uVGV4dDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlUZXh0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgSlNPTi5wYXJzZShidXR0b24uYnV0dG9uUGFyYW1zSnNvbik/LmRpc3BsYXlfdGV4dCB8fCAnICcsXHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1c2VUZW1wbGF0ZU1lc3NhZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmlsdGVyKChpOiBhbnkpID0+IGkgIT0gbnVsbCksXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgdGVtcGxhdGVNZXNzYWdlID0ge1xyXG4gICAgICBtZXNzYWdlOiB7XHJcbiAgICAgICAgdGVtcGxhdGVNZXNzYWdlOiB7XHJcbiAgICAgICAgICBoeWRyYXRlZFRlbXBsYXRlOiB7XHJcbiAgICAgICAgICAgIGh5ZHJhdGVkQnV0dG9uczogaW50ZXJhY3RpdmVNZXNzYWdlPy5uYXRpdmVGbG93TWVzc2FnZT8uYnV0dG9uc1xyXG4gICAgICAgICAgICAgIC5tYXAoKGJ1dHRvbjogYW55LCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLm5hbWUgPT0gJ3F1aWNrX3JlcGx5Jykge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgICAgICAgICBxdWlja1JlcGx5QnV0dG9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5VGV4dDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5wYXJzZShidXR0b24uYnV0dG9uUGFyYW1zSnNvbik/LmRpc3BsYXlfdGV4dCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnICcsXHJcbiAgICAgICAgICAgICAgICAgICAgICBpZDogSlNPTi5wYXJzZShidXR0b24uYnV0dG9uUGFyYW1zSnNvbik/LmlkIHx8IGAke2luZGV4fWAsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uLm5hbWUgPT0gJ2N0YV91cmwnKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgIHVybEJ1dHRvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheVRleHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEpTT04ucGFyc2UoYnV0dG9uLmJ1dHRvblBhcmFtc0pzb24pPy5kaXNwbGF5X3RleHQgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJyAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdXJsOiBKU09OLnBhcnNlKGJ1dHRvbi5idXR0b25QYXJhbXNKc29uKT8udXJsLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbi5uYW1lID09ICdjdGFfY29weScpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgdXJsQnV0dG9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5VGV4dDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5wYXJzZShidXR0b24uYnV0dG9uUGFyYW1zSnNvbik/LmRpc3BsYXlfdGV4dCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnICcsXHJcbiAgICAgICAgICAgICAgICAgICAgICB1cmw6IGBodHRwczovL3d3dy53aGF0c2FwcC5jb20vb3RwL2NvZGUvP290cF90eXBlPUNPUFlfQ09ERSZjb2RlPW90cCR7SlNPTi5wYXJzZShidXR0b24uYnV0dG9uUGFyYW1zSnNvbik/LmNvcHlfY29kZX1gLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbi5uYW1lID09ICdjdGFfY2FsbCcpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbEJ1dHRvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheVRleHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEpTT04ucGFyc2UoYnV0dG9uLmJ1dHRvblBhcmFtc0pzb24pPy5kaXNwbGF5X3RleHQgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJyAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6IEpTT04ucGFyc2UoYnV0dG9uLmJ1dHRvblBhcmFtc0pzb24pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8ucGhvbmVfbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIC5maWx0ZXIoKGk6IGFueSkgPT4gaSAhPSBudWxsKSxcclxuICAgICAgICAgICAgLi4uaGVhZGVyLFxyXG4gICAgICAgICAgICAuLi4oaGVhZGVyVHlwZSA9PSAxXHJcbiAgICAgICAgICAgICAgPyB7IGh5ZHJhdGVkVGl0bGVUZXh0OiBpbnRlcmFjdGl2ZU1lc3NhZ2UuaGVhZGVyPy50aXRsZSB8fCAnICcgfVxyXG4gICAgICAgICAgICAgIDogdW5kZWZpbmVkKSxcclxuICAgICAgICAgICAgaHlkcmF0ZWRDb250ZW50VGV4dDogaW50ZXJhY3RpdmVNZXNzYWdlPy5ib2R5Py50ZXh0IHx8ICcgJyxcclxuICAgICAgICAgICAgaHlkcmF0ZWRGb290ZXJUZXh0OiBpbnRlcmFjdGl2ZU1lc3NhZ2U/LmZvb3Rlcj8udGV4dCB8fCAnICcsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG4gICAgZGVsZXRlIHByb3RvRm9yV2ViLnZpZXdPbmNlTWVzc2FnZTtcclxuICAgIHByb3RvRm9yV2ViLmRvY3VtZW50V2l0aENhcHRpb25NZXNzYWdlID0gdXNlVGVtcGxhdGVNZXNzYWdlXHJcbiAgICAgID8gdGVtcGxhdGVNZXNzYWdlXHJcbiAgICAgIDogYnV0dG9uc01lc3NhZ2U7XHJcbiAgICBwcm90b0ZvcldlYi5tZXNzYWdlQ29udGV4dEluZm8gPSBwcm90by5tZXNzYWdlQ29udGV4dEluZm87XHJcbiAgfVxyXG5cclxuICByZXR1cm4gW1xyXG4gICAgeyBwcm90bzogcHJvdG8sIGRldmljZXM6IG1vYmlsZURldmljZXMgfSxcclxuICAgIHsgcHJvdG86IHByb3RvRm9yV2ViLCBkZXZpY2VzOiB3ZWJEZXZpY2VzIH0sXHJcbiAgXTtcclxufVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW5jcnlwdEFuZFBhcnNlck1zZ0J1dHRvbnM8XHJcbiAgVEZ1bmMgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueSxcclxuPihcclxuICBtZXNzYWdlOiB7IHR5cGU6IHN0cmluZzsgZGF0YTogTXNnTW9kZWwgfSxcclxuICBwcm90bzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSxcclxuICBkZXZpY2VzOiBXaWRbXSxcclxuICBvcHRpb25zOiB7IFtrZXk6IHN0cmluZ106IGFueSB9LFxyXG4gIHJlcG9ydGVyOiBhbnksXHJcbiAgZ3JvdXBEYXRhOiBhbnksXHJcbiAgZnVuYzogVEZ1bmNcclxuKTogUHJvbWlzZTx3ZWJzb2NrZXQuV2FwTm9kZT4ge1xyXG4gIGlmICh0eXBlb2YgZ3JvdXBEYXRhID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICBmdW5jID0gZ3JvdXBEYXRhO1xyXG4gIH1cclxuICBjb25zdCBwYXJ0czogYW55W10gPSBbXTtcclxuICBpZiAocHJvdG8/LnZpZXdPbmNlTWVzc2FnZT8ubWVzc2FnZT8uaW50ZXJhY3RpdmVNZXNzYWdlKSB7XHJcbiAgICBjb25zdCBidXR0b25zID0gcGFyc2VyQnV0dG9ucyhwcm90bywgZGV2aWNlcyk7XHJcbiAgICBidXR0b25zLm1hcChhc3luYyAoYnRuKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZ1bmMoXHJcbiAgICAgICAgbWVzc2FnZSxcclxuICAgICAgICBidG4ucHJvdG8sXHJcbiAgICAgICAgYnRuLmRldmljZXMsXHJcbiAgICAgICAgb3B0aW9ucyxcclxuICAgICAgICByZXBvcnRlcixcclxuICAgICAgICB0eXBlb2YgZ3JvdXBEYXRhICE9PSAnZnVuY3Rpb24nID8gZ3JvdXBEYXRhIDogdW5kZWZpbmVkXHJcbiAgICAgICk7XHJcbiAgICAgIHBhcnRzLnB1c2goLi4uKHJlc3VsdCBhcyBhbnkpLnN0YW56YS5jb250ZW50WzBdLmNvbnRlbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBub2RlID0gYXdhaXQgZnVuYyhcclxuICAgIG1lc3NhZ2UsXHJcbiAgICBwcm90byxcclxuICAgIGRldmljZXMsXHJcbiAgICBvcHRpb25zLFxyXG4gICAgcmVwb3J0ZXIsXHJcbiAgICB0eXBlb2YgZ3JvdXBEYXRhICE9PSAnZnVuY3Rpb24nID8gZ3JvdXBEYXRhIDogdW5kZWZpbmVkXHJcbiAgKTtcclxuICBpZiAocGFydHMubGVuZ3RoID4gMCkgKG5vZGUgYXMgYW55KS5zdGFuemEuY29udGVudFswXS5jb250ZW50ID0gcGFydHM7XHJcblxyXG4gIHJldHVybiBub2RlO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3RyaW5nYWJsZSB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IHsgTXNnS2V5LCBNc2dNb2RlbCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgY2FuTWFya1BsYXllZCBhcyBDYW5NYXJrUGxheWVkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHsgZ2V0TWVzc2FnZUJ5SWQgfSBmcm9tICcuL2dldE1lc3NhZ2VCeUlkJztcclxuXHJcbi8qKlxyXG4gKiBHZXQgaWYgbWVzc2FnZSBjYW4gcGxheWVkXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogV1BQLmNoYXQuY2FuTWFya1BsYXllZCgnW21lc3NhZ2VfaWRdJyk7XHJcbiAqIGBgYFxyXG4gKiBAY2F0ZWdvcnkgTWVzc2FnZVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhbk1hcmtQbGF5ZWQoXHJcbiAgbWVzc2FnZUlkOiBzdHJpbmcgfCBNc2dLZXkgfCBNc2dNb2RlbCB8IFN0cmluZ2FibGVcclxuKTogUHJvbWlzZTxhbnk+IHtcclxuICBpZiAoXHJcbiAgICAhKG1lc3NhZ2VJZCBpbnN0YW5jZW9mIE1zZ01vZGVsKSAmJlxyXG4gICAgdHlwZW9mIG1lc3NhZ2VJZCAhPT0gJ3N0cmluZycgJiZcclxuICAgIHR5cGVvZiBtZXNzYWdlSWQudG9TdHJpbmcgPT09ICdmdW5jdGlvbidcclxuICApIHtcclxuICAgIG1lc3NhZ2VJZCA9IG1lc3NhZ2VJZC50b1N0cmluZygpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbXNnID1cclxuICAgIG1lc3NhZ2VJZCBpbnN0YW5jZW9mIE1zZ01vZGVsXHJcbiAgICAgID8gbWVzc2FnZUlkXHJcbiAgICAgIDogYXdhaXQgZ2V0TWVzc2FnZUJ5SWQobWVzc2FnZUlkLnRvU3RyaW5nKCkpO1xyXG5cclxuICByZXR1cm4gQ2FuTWFya1BsYXllZChtc2cpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0R2V0Q2hhdCwgYXNzZXJ0V2lkIH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGlzIHBvc3NpYmxlIHRvIG11dGUgdGhpcyBjaGF0XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogY29uc3QgY2FuTXV0ZSA9IFdQUC5jaGF0LmNhbk11dGUoJ1tudW1iZXJdQGMudXMnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDaGF0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2FuTXV0ZShjaGF0SWQ6IHN0cmluZyB8IFdpZCk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IHdpZCA9IGFzc2VydFdpZChjaGF0SWQpO1xyXG5cclxuICBjb25zdCBjaGF0ID0gYXNzZXJ0R2V0Q2hhdCh3aWQpO1xyXG5cclxuICByZXR1cm4gY2hhdC5tdXRlLmNhbk11dGUoKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjIgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFN0cmluZ2FibGUgfSBmcm9tICcuLi8uLi90eXBlcyc7XHJcbmltcG9ydCB7IE1zZ0tleSwgTXNnTW9kZWwgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IGNhblJlcGx5TXNnIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHsgZ2V0TWVzc2FnZUJ5SWQgfSBmcm9tICcuL2dldE1lc3NhZ2VCeUlkJztcclxuXHJcbi8qKlxyXG4gKiBHZXQgaWYgbWVzc2FnZSBjYW4gcmVwbHlcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBXUFAuY2hhdC5jYW5SZXBseSgnW21lc3NhZ2VfaWRdJyk7XHJcbiAqIGBgYFxyXG4gKiBAY2F0ZWdvcnkgTWVzc2FnZVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhblJlcGx5KFxyXG4gIG1lc3NhZ2VJZDogc3RyaW5nIHwgTXNnS2V5IHwgTXNnTW9kZWwgfCBTdHJpbmdhYmxlXHJcbik6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGlmIChcclxuICAgICEobWVzc2FnZUlkIGluc3RhbmNlb2YgTXNnTW9kZWwpICYmXHJcbiAgICB0eXBlb2YgbWVzc2FnZUlkICE9PSAnc3RyaW5nJyAmJlxyXG4gICAgdHlwZW9mIG1lc3NhZ2VJZC50b1N0cmluZyA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICkge1xyXG4gICAgbWVzc2FnZUlkID0gbWVzc2FnZUlkLnRvU3RyaW5nKCk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBtc2cgPVxyXG4gICAgbWVzc2FnZUlkIGluc3RhbmNlb2YgTXNnTW9kZWxcclxuICAgICAgPyBtZXNzYWdlSWRcclxuICAgICAgOiBhd2FpdCBnZXRNZXNzYWdlQnlJZChtZXNzYWdlSWQudG9TdHJpbmcoKSk7XHJcblxyXG4gIHJldHVybiBjYW5SZXBseU1zZyhtc2cpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0R2V0Q2hhdCwgYXNzZXJ0V2lkIH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBzZW5kQ2xlYXIgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuLyoqXHJcbiAqIENsZWFyIGEgY2hhdCBtZXNzYWdlXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDaGF0XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xlYXIoY2hhdElkOiBzdHJpbmcgfCBXaWQsIGtlZXBTdGFycmVkID0gdHJ1ZSkge1xyXG4gIGNvbnN0IHdpZCA9IGFzc2VydFdpZChjaGF0SWQpO1xyXG5cclxuICBjb25zdCBjaGF0ID0gYXNzZXJ0R2V0Q2hhdCh3aWQpO1xyXG5cclxuICBzZW5kQ2xlYXIoY2hhdCwga2VlcFN0YXJyZWQpO1xyXG5cclxuICBsZXQgc3RhdHVzID0gMjAwO1xyXG5cclxuICBpZiAoY2hhdC5wcm9taXNlcy5zZW5kQ2xlYXIpIHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoYXQucHJvbWlzZXMuc2VuZENsZWFyLmNhdGNoKCgpID0+ICh7XHJcbiAgICAgIHN0YXR1czogNTAwLFxyXG4gICAgfSkpO1xyXG4gICAgc3RhdHVzID0gcmVzdWx0LnN0YXR1cyB8fCBzdGF0dXM7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgd2lkLFxyXG4gICAgc3RhdHVzLFxyXG4gICAga2VlcFN0YXJyZWQsXHJcbiAgfTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENtZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZ2V0QWN0aXZlQ2hhdCB9IGZyb20gJy4nO1xyXG5cclxuLyoqXHJcbiAqIENsb3NlIHRoZSBjaGF0IHRhYlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGF3YWl0IFdQUC5jaGF0LmNsb3NlQ2hhdCgpO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IENoYXRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUNoYXQoKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3QgYWN0aXZlID0gZ2V0QWN0aXZlQ2hhdCgpO1xyXG4gIGlmICghYWN0aXZlKSByZXR1cm4gZmFsc2U7XHJcbiAgQ21kLmNsb3NlQ2hhdChhY3RpdmUpO1xyXG5cclxuICByZXR1cm4gdHJ1ZTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydEdldENoYXQsIGFzc2VydFdpZCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgc2VuZERlbGV0ZSB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG4vKipcclxuICogRGVsZXRlIGEgY2hhdFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgQ2hhdFxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShjaGF0SWQ6IHN0cmluZyB8IFdpZCkge1xyXG4gIGNvbnN0IHdpZCA9IGFzc2VydFdpZChjaGF0SWQpO1xyXG5cclxuICBjb25zdCBjaGF0ID0gYXNzZXJ0R2V0Q2hhdCh3aWQpO1xyXG5cclxuICBzZW5kRGVsZXRlKGNoYXQpO1xyXG5cclxuICBsZXQgc3RhdHVzID0gMjAwO1xyXG5cclxuICBpZiAoY2hhdC5wcm9taXNlcy5zZW5kRGVsZXRlKSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjaGF0LnByb21pc2VzLnNlbmREZWxldGUuY2F0Y2goKCkgPT4gKHtcclxuICAgICAgc3RhdHVzOiA1MDAsXHJcbiAgICB9KSk7XHJcbiAgICBzdGF0dXMgPSByZXN1bHQuc3RhdHVzIHx8IHN0YXR1cztcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB3aWQsXHJcbiAgICBzdGF0dXMsXHJcbiAgfTtcclxufVxyXG5cclxuLy8gQXZvaWQgcmVzZXJ2ZWQgd29yZCBlcnJvclxyXG5leHBvcnQgeyBfZGVsZXRlIGFzIGRlbGV0ZSB9O1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGNvbXBhcmUgfSBmcm9tICdjb21wYXJlLXZlcnNpb25zJztcclxuXHJcbmltcG9ydCB7IGFzc2VydEdldENoYXQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBpQW1BZG1pbiB9IGZyb20gJy4uLy4uL2dyb3VwJztcclxuaW1wb3J0IHsgQ21kLCBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IE1TR19UWVBFLCBTZW5kTXNnUmVzdWx0IH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZW51bXMnO1xyXG5pbXBvcnQgeyBnZXRNZXNzYWdlQnlJZCB9IGZyb20gJy4nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEZWxldGVNZXNzYWdlUmV0dXJuIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHNlbmRNc2dSZXN1bHQ6IFNlbmRNc2dSZXN1bHQ7XHJcbiAgaXNSZXZva2VkOiBib29sZWFuO1xyXG4gIGlzRGVsZXRlZDogYm9vbGVhbjtcclxuICBpc1NlbnRCeU1lOiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogRGVsZXRlIGEgbWVzc2FnZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIERlbGV0ZSBhIG1lc3NhZ2VcclxuICogV1BQLmNoYXQuZGVsZXRlTWVzc2FnZSgnW251bWJlcl1AYy51cycsICdtc2dpZCcpO1xyXG4gKiAvLyBEZWxldGUgYSBsaXN0IG9mIG1lc3NhZ2VzXHJcbiAqIFdQUC5jaGF0LmRlbGV0ZU1lc3NhZ2UoJ1tudW1iZXJdQGMudXMnLCBbJ21zZ2lkMScsICdtc2dpZDJdKTtcclxuICogLy8gRGVsZXRlIGEgbWVzc2FnZSBhbmQgZGVsZXRlIG1lZGlhXHJcbiAqIFdQUC5jaGF0LmRlbGV0ZU1lc3NhZ2UoJ1tudW1iZXJdQGMudXMnLCAnbXNnaWQnLCB0cnVlKTtcclxuICogLy8gUmV2b2tlIGEgbWVzc2FnZVxyXG4gKiBXUFAuY2hhdC5kZWxldGVNZXNzYWdlKCdbbnVtYmVyXUBjLnVzJywgJ21zZ2lkJywgdHJ1ZSwgdHJ1ZSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgTWVzc2FnZVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZU1lc3NhZ2UoXHJcbiAgY2hhdElkOiBzdHJpbmcgfCBXaWQsXHJcbiAgaWRzOiBzdHJpbmcgfCBzdHJpbmdbXSxcclxuICBkZWxldGVNZWRpYUluRGV2aWNlID0gZmFsc2UsXHJcbiAgcmV2b2tlID0gZmFsc2VcclxuKTogUHJvbWlzZTxEZWxldGVNZXNzYWdlUmV0dXJuIHwgRGVsZXRlTWVzc2FnZVJldHVybltdPiB7XHJcbiAgY29uc3QgY2hhdCA9IGFzc2VydEdldENoYXQoY2hhdElkKTtcclxuXHJcbiAgbGV0IGlzU2luZ2xlID0gZmFsc2U7XHJcblxyXG4gIGlmICghQXJyYXkuaXNBcnJheShpZHMpKSB7XHJcbiAgICBpc1NpbmdsZSA9IHRydWU7XHJcbiAgICBpZHMgPSBbaWRzXTtcclxuICB9XHJcblxyXG4gIGNvbnN0IG1zZ3MgPSBhd2FpdCBnZXRNZXNzYWdlQnlJZChpZHMpO1xyXG5cclxuICBjb25zdCByZXN1bHRzOiBEZWxldGVNZXNzYWdlUmV0dXJuW10gPSBbXTtcclxuICBmb3IgKGNvbnN0IG1zZyBvZiBtc2dzKSB7XHJcbiAgICBsZXQgc2VuZE1zZ1Jlc3VsdDogU2VuZE1zZ1Jlc3VsdCA9IFNlbmRNc2dSZXN1bHQuRVJST1JfVU5LTk9XTjtcclxuICAgIGxldCBpc1Jldm9rZWQgPSBmYWxzZTtcclxuICAgIGxldCBpc0RlbGV0ZWQgPSBmYWxzZTtcclxuICAgIGNvbnN0IGlzU2VudEJ5TWUgPSBtc2cuc2VuZGVyT2JqLmlzTWU7XHJcbiAgICBsZXQgaW1BZG1pbiA9IGZhbHNlO1xyXG4gICAgaWYgKGNoYXQuaXNHcm91cCkgaW1BZG1pbiA9IGF3YWl0IGlBbUFkbWluKGNoYXRJZCk7XHJcblxyXG4gICAgY29uc3QgY2FuUmV2b2tlID0gaXNTZW50QnlNZSB8fCBpbUFkbWluO1xyXG5cclxuICAgIGlmIChtc2cudHlwZSA9PT0gTVNHX1RZUEUuUkVWT0tFRCAmJiByZXZva2UpIHtcclxuICAgICAgc2VuZE1zZ1Jlc3VsdCA9IFNlbmRNc2dSZXN1bHQuRVJST1JfVU5LTk9XTjtcclxuICAgICAgaXNSZXZva2VkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSBpZiAocmV2b2tlICYmIGNhblJldm9rZSkge1xyXG4gICAgICBpZiAobXNnLnR5cGUgPT09ICdsaXN0Jykge1xyXG4gICAgICAgIChtc2cgYXMgYW55KS5fX3hfaXNVc2VyQ3JlYXRlZFR5cGUgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY29tcGFyZShzZWxmLkRlYnVnLlZFUlNJT04sICcyLjMwMDAuMCcsICc+PScpKSB7XHJcbiAgICAgICAgYXdhaXQgQ21kLnNlbmRSZXZva2VNc2dzKFxyXG4gICAgICAgICAgY2hhdCxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTogJ21lc3NhZ2UnLFxyXG4gICAgICAgICAgICBsaXN0OiBbbXNnXSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7IGNsZWFyTWVkaWE6IGRlbGV0ZU1lZGlhSW5EZXZpY2UgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXdhaXQgQ21kLnNlbmRSZXZva2VNc2dzKGNoYXQsIFttc2ddLCB7XHJcbiAgICAgICAgICBjbGVhck1lZGlhOiBkZWxldGVNZWRpYUluRGV2aWNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZW5kTXNnUmVzdWx0ID0gU2VuZE1zZ1Jlc3VsdC5PSztcclxuICAgICAgaXNSZXZva2VkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChjb21wYXJlKHNlbGYuRGVidWcuVkVSU0lPTiwgJzIuMzAwMC4wJywgJz49JykpIHtcclxuICAgICAgICBhd2FpdCBDbWQuc2VuZERlbGV0ZU1zZ3MoXHJcbiAgICAgICAgICBjaGF0LFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOiAnbWVzc2FnZScsXHJcbiAgICAgICAgICAgIGxpc3Q6IFttc2ddLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGRlbGV0ZU1lZGlhSW5EZXZpY2VcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGF3YWl0IENtZC5zZW5kRGVsZXRlTXNncyhjaGF0LCBbbXNnXSwge1xyXG4gICAgICAgICAgY2xlYXJNZWRpYTogZGVsZXRlTWVkaWFJbkRldmljZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2VuZE1zZ1Jlc3VsdCA9IFNlbmRNc2dSZXN1bHQuT0s7XHJcbiAgICAgIGlzRGVsZXRlZCA9ICFjaGF0Lm1zZ3MuZ2V0KG1zZy5pZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzdWx0cy5wdXNoKHtcclxuICAgICAgaWQ6IG1zZy5pZC50b1N0cmluZygpLFxyXG4gICAgICBzZW5kTXNnUmVzdWx0LFxyXG4gICAgICBpc1Jldm9rZWQsXHJcbiAgICAgIGlzRGVsZXRlZCxcclxuICAgICAgaXNTZW50QnlNZSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGlzU2luZ2xlID8gcmVzdWx0c1swXSA6IHJlc3VsdHM7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBNZWRpYUJsb2JDYWNoZSB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZ2V0TWVzc2FnZUJ5SWQgfSBmcm9tICcuJztcclxuXHJcbi8qKlxyXG4gKiBEb3dubG9hZCB0aGUgYmxvYiBvZiBhIG1lZGlhIG1lc3NhZ2VcclxuICpcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyBHZXQgYSBibG9iIGZpbGVcclxuICogYXdhaXQgV1BQLmNoYXQuZG93bmxvYWRNZWRpYSgndHJ1ZV9bbnVtYmVyXUBjLnVzX0FCQ0RFRicpO1xyXG4gKlxyXG4gKiAvLyBHZXQgYSBiYXNlNjRDb250ZW50XHJcbiAqIGF3YWl0IFdQUC5jaGF0LmRvd25sb2FkTWVkaWEoJ3RydWVfW251bWJlcl1AYy51c19BQkNERUYnKS50aGVuKFdQUC51dGlsLmJsb2JUb0Jhc2U2NCk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgTWVzc2FnZVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRvd25sb2FkTWVkaWEoaWQ6IHN0cmluZyk6IFByb21pc2U8QmxvYj4ge1xyXG4gIGNvbnN0IG1zZyA9IGF3YWl0IGdldE1lc3NhZ2VCeUlkKGlkKTtcclxuXHJcbiAgaWYgKCFtc2cubWVkaWFEYXRhKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICdtZXNzYWdlX25vdF9jb250YWluc19tZWRpYScsXHJcbiAgICAgIGBNZXNzYWdlICR7aWR9IG5vdCBjb250YWlucyBtZWRpYWAsXHJcbiAgICAgIHtcclxuICAgICAgICBpZCxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGF3YWl0IG1zZy5kb3dubG9hZE1lZGlhKHtcclxuICAgIGRvd25sb2FkRXZlbklmRXhwZW5zaXZlOiB0cnVlLFxyXG4gICAgcm1yUmVhc29uOiAxLFxyXG4gICAgaXNVc2VySW5pdGlhdGVkOiB0cnVlLFxyXG4gIH0pO1xyXG5cclxuICBsZXQgYmxvYjogQmxvYiB8IG51bGwgPSBudWxsO1xyXG5cclxuICBpZiAobXNnLm1lZGlhRGF0YS5maWxlaGFzaCkge1xyXG4gICAgYmxvYiA9IE1lZGlhQmxvYkNhY2hlLmdldChtc2cubWVkaWFEYXRhLmZpbGVoYXNoKTtcclxuICB9XHJcblxyXG4gIGlmICghYmxvYiAmJiBtc2cubWVkaWFEYXRhLm1lZGlhQmxvYikge1xyXG4gICAgYmxvYiA9IG1zZy5tZWRpYURhdGEubWVkaWFCbG9iLmZvcmNlVG9CbG9iKCk7XHJcbiAgfVxyXG5cclxuICBpZiAoIWJsb2IgJiYgbXNnLm1lZGlhT2JqZWN0Py50eXBlID09PSAnVklERU8nKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBtc2cudHlwZSA9ICdkb2N1bWVudCc7XHJcbiAgICAgIG1zZy5tZWRpYU9iamVjdC50eXBlID0gJ0RPQ1VNRU5UJztcclxuICAgICAgcmV0dXJuIGF3YWl0IGRvd25sb2FkTWVkaWEoaWQpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgbXNnLnR5cGUgPSAndmlkZW8nO1xyXG4gICAgICBtc2cubWVkaWFPYmplY3QudHlwZSA9ICdWSURFTyc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoIWJsb2IpIHtcclxuICAgIHRocm93IHtcclxuICAgICAgZXJyb3I6IHRydWUsXHJcbiAgICAgIGNvZGU6ICdtZWRpYV9ub3RfZm91bmQnLFxyXG4gICAgICBtZXNzYWdlOiAnTWVkaWEgbm90IGZvdW5kJyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYmxvYjtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7IE1zZ0tleSB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgY2FuRWRpdENhcHRpb24sIGNhbkVkaXRNc2cgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQge1xyXG4gIGRlZmF1bHRTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgTGlua1ByZXZpZXdPcHRpb25zLFxyXG4gIFJhd01lc3NhZ2UsXHJcbiAgU2VuZE1lc3NhZ2VPcHRpb25zLFxyXG4gIFNlbmRNZXNzYWdlUmV0dXJuLFxyXG59IGZyb20gJy4uJztcclxuaW1wb3J0IHsgZ2V0TWVzc2FnZUJ5SWQsIHByZXBhcmVSYXdNZXNzYWdlLCBzZW5kUmF3TWVzc2FnZSB9IGZyb20gJy4nO1xyXG5cclxuZXhwb3J0IHR5cGUgRWRpdE1lc3NhZ2VPcHRpb25zID0gU2VuZE1lc3NhZ2VPcHRpb25zICYgTGlua1ByZXZpZXdPcHRpb25zO1xyXG5cclxuLyoqXHJcbiAqIFNlbmQgYSB0ZXh0IG1lc3NhZ2VcclxuICpcclxuICogQGV4YW1wbGVcclxuICogV1BQLmNoYXQuZWRpdE1lc3NhZ2UoJ1tudW1iZXJdQGMudXMnLCAnTmV3IHRleHQgZm9yIG1lc3NhZ2UnLCB7XHJcbiAqICAgbGlua1ByZXZpZXc6IHRydWUsXHJcbiAqICAgbWVudGlvbmVkSmlkTGlzdDogWyc1NTIxOTg1MjMyMjg3QGMudXMnXVxyXG4gKiB9KTtcclxuICogYGBgXHJcbiAqIEBjYXRlZ29yeSBNZXNzYWdlXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZWRpdE1lc3NhZ2UoXHJcbiAgbXNnSWQ6IHN0cmluZyB8IE1zZ0tleSxcclxuICBuZXdUZXh0OiBzdHJpbmcsXHJcbiAgb3B0aW9uczogRWRpdE1lc3NhZ2VPcHRpb25zID0ge31cclxuKTogUHJvbWlzZTxTZW5kTWVzc2FnZVJldHVybj4ge1xyXG4gIG9wdGlvbnMgPSB7XHJcbiAgICAuLi5kZWZhdWx0U2VuZE1lc3NhZ2VPcHRpb25zLFxyXG4gICAgLi4ub3B0aW9ucyxcclxuICB9O1xyXG5cclxuICBjb25zdCBtc2cgPSBhd2FpdCBnZXRNZXNzYWdlQnlJZChtc2dJZCk7XHJcblxyXG4gIGNvbnN0IGNhbkVkaXQgPSBjYW5FZGl0TXNnKG1zZyk7XHJcbiAgY29uc3QgY2FuRWRpdENhcHRpb25NZXNzYWdlID0gY2FuRWRpdENhcHRpb24obXNnKTtcclxuICBpZiAoIWNhbkVkaXQgJiYgIWNhbkVkaXRDYXB0aW9uTWVzc2FnZSkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKGBlZGl0X21lc3NhZ2VfZXJyb3JgLCBgQ2Fubm90IGVkaXQgdGhpcyBtZXNzYWdlYCk7XHJcbiAgfVxyXG5cclxuICBsZXQgcmF3TWVzc2FnZTogUmF3TWVzc2FnZSA9IHtcclxuICAgIHR5cGU6ICdwcm90b2NvbCcsXHJcbiAgICBzdWJ0eXBlOiAnbWVzc2FnZV9lZGl0JyxcclxuICAgIHByb3RvY29sTWVzc2FnZUtleTogbXNnLmlkLFxyXG4gICAgYm9keTogbmV3VGV4dC50cmltKCksXHJcbiAgICBjYXB0aW9uOiBuZXdUZXh0LnRyaW0oKSxcclxuICAgIGVkaXRNc2dUeXBlOiBtc2cudHlwZSxcclxuICB9O1xyXG5cclxuICByYXdNZXNzYWdlID0gYXdhaXQgcHJlcGFyZVJhd01lc3NhZ2UobXNnLmNoYXQhLCByYXdNZXNzYWdlLCBvcHRpb25zKTtcclxuXHJcbiAgcmF3TWVzc2FnZS5sYXRlc3RFZGl0TXNnS2V5ID0gcmF3TWVzc2FnZS5pZDtcclxuICByYXdNZXNzYWdlLmxhdGVzdEVkaXRTZW5kZXJUaW1lc3RhbXBNcyA9IHJhd01lc3NhZ2UudDtcclxuXHJcbiAgcmV0dXJuIGF3YWl0IHNlbmRSYXdNZXNzYWdlKG1zZy5jaGF0Py5pZCwgcmF3TWVzc2FnZSwgb3B0aW9ucyk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI1IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRXaWQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBDaGF0TW9kZWwsIEdyb3VwTWV0YWRhdGFTdG9yZSwgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBmaW5kQ2hhdCB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG4vKipcclxuICogRmluZCBhIGNoYXQgYnkgaWRcclxuICpcclxuICogVGhpcyBjcmVhdGUgYSBuZXcgY2hhdCBpZiBubyBvbmUgd2FzIGZvdW5kXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDaGF0XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmluZChjaGF0SWQ6IHN0cmluZyB8IFdpZCk6IFByb21pc2U8Q2hhdE1vZGVsPiB7XHJcbiAgY29uc3Qgd2lkID0gYXNzZXJ0V2lkKGNoYXRJZCk7XHJcblxyXG4gIGNvbnN0IGNoYXQgPSBhd2FpdCBmaW5kQ2hhdChcclxuICAgIHdpZCxcclxuICAgIHdpZC5pc0xpZCgpID8gJ3VzZXJuYW1lX2NvbnRhY3RsZXNzX3NlYXJjaCcgOiAnY3JlYXRlQ2hhdCdcclxuICApO1xyXG5cclxuICBpZiAoY2hhdC5pc0dyb3VwKSB7XHJcbiAgICBhd2FpdCBHcm91cE1ldGFkYXRhU3RvcmUuZmluZChjaGF0LmlkKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBjaGF0O1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0RmluZENoYXQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBNc2dLZXksIFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZm9yd2FyZE1lc3NhZ2VzVG9DaGF0cyB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcbmltcG9ydCB7IGdldE1lc3NhZ2VCeUlkIH0gZnJvbSAnLi4nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBGb3J3YXJkTWVzc2FnZU9wdGlvbnMge1xyXG4gIGRpc3BsYXlDYXB0aW9uVGV4dD86IGJvb2xlYW47XHJcbiAgbXVsdGljYXN0PzogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEZvcndhcmQgbWVzc2FnZSB0byBhIGNoYXRcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyBGb3J3YXJkIG1lc3NhZ2VcclxuICogV1BQLmNoYXQuZm9yd2FyZE1lc3NhZ2UoJ1tudW1iZXJdQGMudXMnLCAndHJ1ZV9bbnVtYmVyXUBjLnVzX0FCQ0RFRicpO1xyXG4gKiBgYGBcclxuICogQGNhdGVnb3J5IE1lc3NhZ2VcclxuICogQHJldHVybiAge2FueX0gQW55XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZm9yd2FyZE1lc3NhZ2UoXHJcbiAgdG9DaGF0SWQ6IHN0cmluZyB8IFdpZCxcclxuICBtc2dJZDogc3RyaW5nIHwgTXNnS2V5LFxyXG4gIG9wdGlvbnM6IEZvcndhcmRNZXNzYWdlT3B0aW9ucyA9IHt9XHJcbik6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGNvbnN0IGNoYXQgPSBhd2FpdCBhc3NlcnRGaW5kQ2hhdCh0b0NoYXRJZCk7XHJcblxyXG4gIGNvbnN0IG1zZyA9IGF3YWl0IGdldE1lc3NhZ2VCeUlkKG1zZ0lkKTtcclxuXHJcbiAgcmV0dXJuIGF3YWl0IGZvcndhcmRNZXNzYWdlc1RvQ2hhdHMoXHJcbiAgICBbbXNnXSxcclxuICAgIFtjaGF0XSxcclxuICAgIG9wdGlvbnMuZGlzcGxheUNhcHRpb25UZXh0XHJcbiAgKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydEZpbmRDaGF0IH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgTXNnS2V5LCBNc2dNb2RlbCwgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBmb3J3YXJkTWVzc2FnZXMgYXMgZm9yd2FyZE1lc3NhZ2VzV2hhdHNBcHAgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBnZXRNZXNzYWdlQnlJZCB9IGZyb20gJy4vZ2V0TWVzc2FnZUJ5SWQnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBGb3J3YXJkTWVzc2FnZXNPcHRpb25zIHtcclxuICBkaXNwbGF5Q2FwdGlvblRleHQ/OiBib29sZWFuO1xyXG4gIG11bHRpY2FzdD86IGJvb2xlYW47XHJcbiAgYXBwZW5kZWRUZXh0PzogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEZvcndhcmQgbWFueSBtZXNzYWdlcyB0byBhIGNoYXRcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyBGb3J3YXJkIG1lc3NhZ2VzXHJcbiAqIFdQUC5jaGF0LmZvcndhcmRNZXNzYWdlc1doYXRzQXBwKCdbbnVtYmVyXUBjLnVzJywgWyd0cnVlX1tudW1iZXJdQGMudXNfQUJDREVGJywgLi4uXSk7XHJcbiAqIGBgYFxyXG4gKiBAY2F0ZWdvcnkgTWVzc2FnZVxyXG4gKiBAcmV0dXJuICB7YW55fSBBbnlcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmb3J3YXJkTWVzc2FnZXMoXHJcbiAgdG9DaGF0SWQ6IHN0cmluZyB8IFdpZCxcclxuICBtc2dzSWQ6IHN0cmluZ1tdIHwgTXNnS2V5W10gfCBNc2dNb2RlbFtdLFxyXG4gIG9wdGlvbnM6IEZvcndhcmRNZXNzYWdlc09wdGlvbnMgPSB7fVxyXG4pOiBQcm9taXNlPEFycmF5PGFueT4+IHtcclxuICBjb25zdCBjaGF0ID0gYXdhaXQgYXNzZXJ0RmluZENoYXQodG9DaGF0SWQpO1xyXG4gIGNvbnN0IG1zZ3M6IE1zZ01vZGVsW10gPSBbXTtcclxuXHJcbiAgZm9yIChjb25zdCBtc2cgb2YgbXNnc0lkKSB7XHJcbiAgICBpZiAobXNnIGluc3RhbmNlb2YgTXNnTW9kZWwpIHtcclxuICAgICAgbXNncy5wdXNoKG1zZyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtc2dzLnB1c2goYXdhaXQgZ2V0TWVzc2FnZUJ5SWQobXNnKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYXdhaXQgZm9yd2FyZE1lc3NhZ2VzV2hhdHNBcHAoe1xyXG4gICAgY2hhdCxcclxuICAgIG1zZ3MsXHJcbiAgICBtdWx0aWNhc3Q6IG9wdGlvbnMubXVsdGljYXN0ID8/IGZhbHNlLFxyXG4gICAgaW5jbHVkZUNhcHRpb246IG9wdGlvbnMuZGlzcGxheUNhcHRpb25UZXh0ID8/IGZhbHNlLFxyXG4gICAgYXBwZW5kZWRUZXh0OiBvcHRpb25zLmFwcGVuZGVkVGV4dCA/PyBmYWxzZSxcclxuICB9KTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydFdpZCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IGdldE15VXNlcldpZCB9IGZyb20gJy4uLy4uL2Nvbm4vZnVuY3Rpb25zL2dldE15VXNlcldpZCc7XHJcbmltcG9ydCB7IENoYXRNb2RlbCwgTXNnS2V5LCBXaWQsIFdpZEZhY3RvcnkgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IHJhbmRvbU1lc3NhZ2VJZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG4vKipcclxuICogR2VuZXJhdGUgYSBuZXcgbWVzc2FnZSBJRFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgTWVzc2FnZVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlTWVzc2FnZUlEKFxyXG4gIGNoYXQ6IHN0cmluZyB8IENoYXRNb2RlbCB8IFdpZFxyXG4pOiBQcm9taXNlPE1zZ0tleT4ge1xyXG4gIGNvbnN0IGZyb20gPSBnZXRNeVVzZXJXaWQoKTtcclxuICBsZXQgdG86IFdpZDtcclxuXHJcbiAgaWYgKGNoYXQgaW5zdGFuY2VvZiBXaWQpIHtcclxuICAgIHRvID0gY2hhdDtcclxuICB9IGVsc2UgaWYgKGNoYXQgaW5zdGFuY2VvZiBDaGF0TW9kZWwpIHtcclxuICAgIHRvID0gY2hhdC5pZDtcclxuICB9IGVsc2Uge1xyXG4gICAgdG8gPSBhc3NlcnRXaWQoY2hhdCk7XHJcbiAgfVxyXG5cclxuICBsZXQgcGFydGljaXBhbnQgPSB1bmRlZmluZWQ7XHJcblxyXG4gIGlmICh0by5pc0dyb3VwKCkpIHtcclxuICAgIGNvbnN0IHRvVXNlcldpZCA9XHJcbiAgICAgIFdpZEZhY3Rvcnk/LnRvVXNlcldpZCB8fFxyXG4gICAgICBXaWRGYWN0b3J5Py50b1VzZXJXaWRPclRocm93IHx8XHJcbiAgICAgIFdpZEZhY3Rvcnk/LmNyZWF0ZVdpZDsgLy8gbWFpbnRhaW4gY29tcGF0aWJpbGl0eSB3aXRoIG9sZGVyIHZlcnNpb25zIG9mIFdoYXRzQXBwIFdlYlxyXG4gICAgcGFydGljaXBhbnQgPSB0b1VzZXJXaWQoZnJvbSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbmV3IE1zZ0tleSh7XHJcbiAgICBmcm9tLFxyXG4gICAgdG8sXHJcbiAgICBpZDogYXdhaXQgUHJvbWlzZS5yZXNvbHZlKHJhbmRvbU1lc3NhZ2VJZCgpKSxcclxuICAgIHBhcnRpY2lwYW50LFxyXG4gICAgc2VsZkRpcjogJ291dCcsXHJcbiAgfSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRXaWQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBDaGF0TW9kZWwsIENoYXRTdG9yZSwgTmV3c2xldHRlclN0b3JlLCBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcblxyXG4vKipcclxuICogRmluZCBhIGNoYXQgYnkgaWRcclxuICpcclxuICogQGNhdGVnb3J5IENoYXRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXQoY2hhdElkOiBzdHJpbmcgfCBXaWQpOiBDaGF0TW9kZWwgfCB1bmRlZmluZWQge1xyXG4gIGNvbnN0IHdpZCA9IGFzc2VydFdpZChjaGF0SWQpO1xyXG4gIGlmICh3aWQuc2VydmVyID09PSAnbmV3c2xldHRlcicpIHtcclxuICAgIHJldHVybiBOZXdzbGV0dGVyU3RvcmUuZ2V0KHdpZCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBDaGF0U3RvcmUuZ2V0KHdpZCk7XHJcbiAgfVxyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQ2hhdFN0b3JlLCBOZXdzbGV0dGVyU3RvcmUgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcblxyXG4vKipcclxuICogUmV0dXJuIHRoZSBjdXJyZW50IGFjdGl2ZSBjaGF0XHJcbiAqXHJcbiAqIEByZXR1cm5zIFRoZSBjdXJyZW5jdCBhY3RpdmUgY2hhdCBvciB1bmRlZmluZWQgZm9yIG5vbmVcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyBHZXQgYWN0aXZlIGNoYXRcclxuICogY29uc3QgY2hhdCA9IFdQUC5jaGF0LmdldEFjdGl2ZUNoYXQoKTtcclxuICpcclxuICogV1BQLmNoYXQuc2VuZFRleHRNZXNzYWdlKGNoYXQuaWQsICdIaScpO1xyXG4gKiBgYGBcclxuICogQGNhdGVnb3J5IENoYXRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBY3RpdmVDaGF0KCkge1xyXG4gIGNvbnN0IGNoYXQgPVxyXG4gICAgQ2hhdFN0b3JlLmZpbmRGaXJzdCgoYykgPT4gYy5hY3RpdmUpIHx8XHJcbiAgICBOZXdzbGV0dGVyU3RvcmUuZmluZEZpcnN0KChjKSA9PiBjLmFjdGl2ZSk7XHJcblxyXG4gIHJldHVybiBjaGF0O1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0V2lkIH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgQ2hhdFN0b3JlLCBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcblxyXG4vKipcclxuICogR2V0IHRpbWVzdGFtcCBvZiBsYXN0IHNlZW5cclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBXUFAuY2hhdC5nZXRMYXN0U2VlbignW251bWJlcl1AYy51cycpO1xyXG4gKiBgYGBcclxuICogQGNhdGVnb3J5IENoYXRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMYXN0U2VlbihcclxuICBjaGF0SWQ6IHN0cmluZyB8IFdpZFxyXG4pOiBQcm9taXNlPG51bWJlciB8IGJvb2xlYW4+IHtcclxuICBjb25zdCB3aWQgPSBhc3NlcnRXaWQoY2hhdElkKTtcclxuICBjb25zdCBjaGF0ID0gYXdhaXQgQ2hhdFN0b3JlLmdldCh3aWQpO1xyXG4gIGlmICghY2hhdCkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICBpZiAoIWNoYXQucHJlc2VuY2UuaGFzRGF0YSkge1xyXG4gICAgYXdhaXQgY2hhdC5wcmVzZW5jZS5zdWJzY3JpYmUoKTtcclxuICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMCkpO1xyXG4gIH1cclxuICByZXR1cm4gY2hhdC5wcmVzZW5jZS5jaGF0c3RhdGUudCB8fCBmYWxzZTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7XHJcbiAgTXNnSW5mb1BhcnRpY2lwYW50TW9kZWwsXHJcbiAgTXNnSW5mb1N0b3JlLFxyXG4gIE1zZ0tleSxcclxuICBXaWQsXHJcbn0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBBQ0sgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9lbnVtcyc7XHJcbmltcG9ydCB7IGdldE1lc3NhZ2VCeUlkIH0gZnJvbSAnLi4nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWNpcGFudFN0YXR1c0FDSyB7XHJcbiAgaWQ6IHN0cmluZztcclxuICB3aWQ6IFdpZDtcclxuICBkZWxpdmVyZWRBdD86IG51bWJlcjtcclxuICByZWFkQXQ/OiBudW1iZXI7XHJcbiAgcGxheWVkQXQ/OiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgbWVzc2FnZSBBQ0sgZnJvbSBhIG1lc3NhZ2VcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyBHZXQgbWVzc2FnZSBBQ0tcclxuICogY29uc3QgYWNrSW5mbyA9IGF3YWl0IFdQUC5jaGF0LmdldE1lc3NhZ2VBQ0soJ3RydWVfW251bWJlcl1AYy51c19BQkNERUYnKTtcclxuICpcclxuICogY29uc29sZS5sb2coYWNrSW5mby5kZWxpdmVyeVJlbWFpbmluZyk7IC8vIERlbGl2ZXJ5IFJlbWFpbmluZ1xyXG4gKiBjb25zb2xlLmxvZyhhY2tJbmZvLnJlYWRSZW1haW5pbmcpOyAvLyBSZWFkIFJlbWFpbmluZ1xyXG4gKiBjb25zb2xlLmxvZyhhY2tJbmZvLnBsYXllZFJlbWFpbmluZyk7IC8vIFBsYXllZFJlbWFpbmluZywgZm9yIGF1ZGlvKHB0dCkgb25seVxyXG4gKlxyXG4gKiBjb25zb2xlLmxvZyhhY2tJbmZvLnBhcnRpY2lwYW50c1swXS5kZWxpdmVyZWRBdCk7IC8vIERlbGl2ZXJlZCBBdCwgaW4gdGltZXN0YW1wIGZvcm1hdFxyXG4gKiBjb25zb2xlLmxvZyhhY2tJbmZvLnBhcnRpY2lwYW50c1swXS5yZWFkQXQpOyAvLyBSZWFkIEF0LCBpbiB0aW1lc3RhbXAgZm9ybWF0XHJcbiAqIGNvbnNvbGUubG9nKGFja0luZm8ucGFydGljaXBhbnRzWzBdLnBsYXllZEF0KTsgLy8gUGxheWVkIEF0LCBpbiB0aW1lc3RhbXAgZm9ybWF0LCBmb3IgYXVkaW8ocHR0KSBvbmx5XHJcbiAqXHJcbiAqIC8vVG8gZ2V0IG9ubHkgaG93IHdhcyByZWNlaXZlZFxyXG4gKiBjb25zdCByZWNlaXZlZCA9IGFja0luZm8ucGFydGljaXBhbnRzLmZpbHRlcihwID0+IHAuZGVsaXZlcmVkQXQgfHwgcC5yZWFkQXQgfHwgcC5wbGF5ZWRBdCk7XHJcbiAqXHJcbiAqIC8vVG8gZ2V0IG9ubHkgaG93IHdhcyByZWFkXHJcbiAqIGNvbnN0IHJlYWQgPSBhY2tJbmZvLnBhcnRpY2lwYW50cy5maWx0ZXIocCA9PiBwLnJlYWRBdCB8fCBwLnBsYXllZEF0KTtcclxuICpcclxuICogLy9UbyBnZXQgb25seSBob3cgd2FzIHBsYXllZFxyXG4gKiBjb25zdCBwbGF5ZWQgPSBhY2tJbmZvLnBhcnRpY2lwYW50cy5maWx0ZXIocCA9PiBwLnBsYXllZEF0KTtcclxuICogYGBgXHJcbiAqIEBjYXRlZ29yeSBNZXNzYWdlXHJcbiAqIEByZXR1cm4gIHthbnl9IEFueVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE1lc3NhZ2VBQ0sobXNnSWQ6IHN0cmluZyB8IE1zZ0tleSk6IFByb21pc2U8e1xyXG4gIGFjazogQUNLO1xyXG4gIGZyb21NZTogYm9vbGVhbjtcclxuICBkZWxpdmVyeVJlbWFpbmluZzogbnVtYmVyO1xyXG4gIHJlYWRSZW1haW5pbmc6IG51bWJlcjtcclxuICBwbGF5ZWRSZW1haW5pbmc6IG51bWJlcjtcclxuICBwYXJ0aWNpcGFudHM6IFBhcnRpY2lwYW50U3RhdHVzQUNLW107XHJcbn0+IHtcclxuICBjb25zdCBtc2cgPSBhd2FpdCBnZXRNZXNzYWdlQnlJZChtc2dJZCk7XHJcblxyXG4gIGNvbnN0IGluZm8gPSBhd2FpdCBNc2dJbmZvU3RvcmUuZmluZChtc2cuaWQpO1xyXG5cclxuICBjb25zdCBwYXJ0aWNpcGFudHMgPSBuZXcgTWFwPHN0cmluZywgUGFydGljaXBhbnRTdGF0dXNBQ0s+KCk7XHJcblxyXG4gIGNvbnN0IGNhbGxiYWNrID0gKFxyXG4gICAgbTogTXNnSW5mb1BhcnRpY2lwYW50TW9kZWwsXHJcbiAgICB0eXBlOiAnZGVsaXZlcmVkQXQnIHwgJ3JlYWRBdCcgfCAncGxheWVkQXQnXHJcbiAgKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IG0uaWQudG9TdHJpbmcoKTtcclxuXHJcbiAgICBjb25zdCBzdGF0dXMgPSBwYXJ0aWNpcGFudHMuZ2V0KGlkKSB8fCB7IGlkLCB3aWQ6IG0uaWQgfTtcclxuXHJcbiAgICBzdGF0dXNbdHlwZV0gPSBtLnQ7XHJcblxyXG4gICAgcGFydGljaXBhbnRzLnNldChpZCwgc3RhdHVzKTtcclxuICB9O1xyXG5cclxuICBpbmZvPy5kZWxpdmVyeS5mb3JFYWNoKChwKSA9PiBjYWxsYmFjayhwLCAnZGVsaXZlcmVkQXQnKSk7XHJcbiAgaW5mbz8ucmVhZC5mb3JFYWNoKChwKSA9PiBjYWxsYmFjayhwLCAncmVhZEF0JykpO1xyXG4gIGluZm8/LnBsYXllZC5mb3JFYWNoKChwKSA9PiBjYWxsYmFjayhwLCAncGxheWVkQXQnKSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBhY2s6IG1zZy5hY2shLFxyXG4gICAgZnJvbU1lOiBtc2cuaWQuZnJvbU1lLFxyXG4gICAgZGVsaXZlcnlSZW1haW5pbmc6IGluZm8/LmRlbGl2ZXJ5UmVtYWluaW5nIHx8IDAsXHJcbiAgICByZWFkUmVtYWluaW5nOiBpbmZvPy5yZWFkUmVtYWluaW5nIHx8IDAsXHJcbiAgICBwbGF5ZWRSZW1haW5pbmc6IGluZm8/LnBsYXllZFJlbWFpbmluZyB8fCAwLFxyXG4gICAgcGFydGljaXBhbnRzOiBBcnJheS5mcm9tKHBhcnRpY2lwYW50cy52YWx1ZXMoKSksXHJcbiAgfTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCBEZWJ1ZyBmcm9tICdkZWJ1Zyc7XHJcblxyXG5pbXBvcnQgeyBhc3NlcnRHZXRDaGF0IH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgTXNnS2V5LCBNc2dNb2RlbCwgTXNnU3RvcmUsIFN0YXR1c1YzU3RvcmUgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IGdldFNlYXJjaENvbnRleHQgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuY29uc3QgZGVidWcgPSBEZWJ1ZygnV0EtSlM6bWVzc2FnZTpnZXRNZXNzYWdlQnlJZCcpO1xyXG5cclxuLyoqXHJcbiAqIEdldCBtZXNzYWdlIGJ5IGEgc2luZ2xlIElEIG9yIGFycmF5IG9mIElEc1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFNpbmdsZSBtZXNzYWdlXHJcbiAqIFdQUC5jaGF0LmdldE1lc3NhZ2VCeUlkKCd0cnVlX1tudW1iZXJdQGMudXNfQUJDREVGJyk7XHJcbiAqXHJcbiAqIC8vIExpc3Qgb2YgbWVzc2FnZXNcclxuICogV1BQLmNoYXQuZ2V0TWVzc2FnZUJ5SWQoWyd0cnVlX1tudW1iZXJdQGMudXNfQUJDREVGJywgJ2ZhbHNlX1tudW1iZXJdQGMudXNfNzg5NDU2J10pO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IE1lc3NhZ2VcclxuICogQHJldHVybiAge1Byb21pc2U8TXNnTW9kZWw+IHwgUHJvbWlzZTxNc2dNb2RlbFtdPn0gTGlzdCBvZiByYXcgbWVzc2FnZXNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNZXNzYWdlQnlJZChpZDogc3RyaW5nIHwgTXNnS2V5KTogUHJvbWlzZTxNc2dNb2RlbD47XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNZXNzYWdlQnlJZChcclxuICBpZHM6IChzdHJpbmcgfCBNc2dLZXkpW11cclxuKTogUHJvbWlzZTxNc2dNb2RlbFtdPjtcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE1lc3NhZ2VCeUlkKFxyXG4gIGlkczogc3RyaW5nIHwgTXNnS2V5IHwgKHN0cmluZyB8IE1zZ0tleSlbXVxyXG4pOiBQcm9taXNlPE1zZ01vZGVsIHwgTXNnTW9kZWxbXT4ge1xyXG4gIGxldCBpc1NpbmdsZSA9IGZhbHNlO1xyXG5cclxuICBpZiAoIUFycmF5LmlzQXJyYXkoaWRzKSkge1xyXG4gICAgaXNTaW5nbGUgPSB0cnVlO1xyXG4gICAgaWRzID0gW2lkc107XHJcbiAgfVxyXG5cclxuICBjb25zdCBtc2dzS2V5cyA9IGlkcy5tYXAoKGlkKSA9PiBNc2dLZXkuZnJvbVN0cmluZyhpZC50b1N0cmluZygpKSk7XHJcblxyXG4gIGxldCBtc2dzOiBNc2dNb2RlbFtdID0gW107XHJcbiAgZm9yIChjb25zdCBtc2dLZXkgb2YgbXNnc0tleXMpIHtcclxuICAgIGxldCBtc2cgPSBNc2dTdG9yZS5nZXQobXNnS2V5KTtcclxuICAgIGNvbnN0IGlzU3RhdHVzID1cclxuICAgICAgdHlwZW9mIG1zZ0tleS5yZW1vdGU/LmlzU3RhdHVzVjMgPT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgID8gbXNnS2V5LnJlbW90ZT8uaXNTdGF0dXNWMygpXHJcbiAgICAgICAgOiBtc2dLZXkucmVtb3RlPy50b1N0cmluZygpPy5pbmNsdWRlcygnc3RhdHVzQGJyb2FkY2FzdCcpO1xyXG4gICAgaWYgKCFtc2cpIHtcclxuICAgICAgaWYgKGlzU3RhdHVzKSB7XHJcbiAgICAgICAgbXNnID0gU3RhdHVzVjNTdG9yZS5nZXRNeVN0YXR1cygpLm1zZ3MuZ2V0KG1zZ0tleSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgY2hhdCA9IGFzc2VydEdldENoYXQobXNnS2V5LnJlbW90ZSk7XHJcbiAgICAgICAgbXNnID0gY2hhdC5tc2dzLmdldChtc2dLZXkpO1xyXG5cclxuICAgICAgICBpZiAoIW1zZykge1xyXG4gICAgICAgICAgZGVidWcoYHNlYXJjaGluZyByZW1vdGUgbWVzc2FnZSB3aXRoIGlkICR7bXNnS2V5LnRvU3RyaW5nKCl9YCk7XHJcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBnZXRTZWFyY2hDb250ZXh0KGNoYXQsIG1zZ0tleSk7XHJcbiAgICAgICAgICBhd2FpdCByZXN1bHQuY29sbGVjdGlvbi5sb2FkQXJvdW5kUHJvbWlzZTtcclxuXHJcbiAgICAgICAgICBtc2cgPSBjaGF0Lm1zZ3MuZ2V0KG1zZ0tleSkgfHwgcmVzdWx0LmNvbGxlY3Rpb24uZ2V0KG1zZ0tleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFtc2cpIHtcclxuICAgICAgZGVidWcoYG1lc3NhZ2UgaWQgJHttc2dLZXkudG9TdHJpbmcoKX0gbm90IGZvdW5kYCk7XHJcbiAgICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgICAnbXNnX25vdF9mb3VuZCcsXHJcbiAgICAgICAgYE1lc3NhZ2UgJHttc2dLZXkudG9TdHJpbmcoKX0gbm90IGZvdW5kYCxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZDogbXNnS2V5LnRvU3RyaW5nKCksXHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIG1zZ3MucHVzaChtc2cpO1xyXG4gIH1cclxuXHJcbiAgbXNncyA9IG1zZ3MubWFwKChtOiBhbnkpID0+IHtcclxuICAgIGlmIChtIGluc3RhbmNlb2YgTXNnTW9kZWwpIHtcclxuICAgICAgcmV0dXJuIG07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gTXNnU3RvcmUuZ2V0KG0pIHx8IG5ldyBNc2dNb2RlbChtKTtcclxuICB9KTtcclxuXHJcbiAgaWYgKGlzU2luZ2xlKSB7XHJcbiAgICByZXR1cm4gbXNnc1swXTtcclxuICB9XHJcbiAgcmV0dXJuIG1zZ3M7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRHZXRDaGF0IH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgaXNNdWx0aURldmljZSB9IGZyb20gJy4uLy4uL2Nvbm4nO1xyXG5pbXBvcnQgeyBNc2dLZXksIE1zZ01vZGVsLCBNc2dTdG9yZSwgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBtc2dGaW5kUXVlcnksIE1zZ0ZpbmRRdWVyeVBhcmFtcyB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcbmltcG9ydCB7IFJhd01lc3NhZ2UgfSBmcm9tICcuLic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEdldE1lc3NhZ2VzT3B0aW9ucyB7XHJcbiAgY291bnQ/OiBudW1iZXI7XHJcbiAgZGlyZWN0aW9uPzogJ2FmdGVyJyB8ICdiZWZvcmUnO1xyXG4gIGlkPzogc3RyaW5nO1xyXG4gIG9ubHlVbnJlYWQ/OiBib29sZWFuO1xyXG4gIG1lZGlhPzogJ3VybCcgfCAnZG9jdW1lbnQnIHwgJ2FsbCcgfCAnaW1hZ2UnO1xyXG59XHJcblxyXG4vKipcclxuICogRmV0Y2ggbWVzc2FnZXMgZnJvbSBhIGNoYXRcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyBTb21lIG1lc3NhZ2VzXHJcbiAqIFdQUC5jaGF0LmdldE1lc3NhZ2VzKCdbbnVtYmVyXUBjLnVzJywge1xyXG4gKiAgIGNvdW50OiAyMCxcclxuICogfSk7XHJcbiAqXHJcbiAqIC8vIEFsbCBtZXNzYWdlc1xyXG4gKiBXUFAuY2hhdC5nZXRNZXNzYWdlcygnW251bWJlcl1AYy51cycsIHtcclxuICogICBjb3VudDogLTEsXHJcbiAqIH0pO1xyXG4gKlxyXG4gKiAvLyBMYXN0IDIwIHVucmVhZCBtZXNzYWdlc1xyXG4gKiBXUFAuY2hhdC5nZXRNZXNzYWdlcygnW251bWJlcl1AYy51cycsIHtcclxuICogICBjb3VudDogMjAsXHJcbiAqICAgb25seVVucmVhZDogdHJ1ZSxcclxuICogfSk7XHJcbiAqXHJcbiAqIC8vIEFsbCB1bnJlYWQgbWVzc2FnZXNcclxuICogV1BQLmNoYXQuZ2V0TWVzc2FnZXMoJ1tudW1iZXJdQGMudXMnLCB7XHJcbiAqICAgY291bnQ6IC0xLFxyXG4gKiAgIG9ubHlVbnJlYWQ6IHRydWUsXHJcbiAqIH0pO1xyXG4gKlxyXG4gKiAvLyAyMCBtZXNzYWdlcyBiZWZvcmUgc3BlY2lmaWMgbWVzc2FnZVxyXG4gKiBXUFAuY2hhdC5nZXRNZXNzYWdlcygnW251bWJlcl1AYy51cycsIHtcclxuICogICBjb3VudDogMjAsXHJcbiAqICAgZGlyZWN0aW9uOiAnYmVmb3JlJyxcclxuICogICBpZDogJzxmdWxsIG1lc3NhZ2UgaWQ+J1xyXG4gKiB9KTtcclxuICpcclxuICogLy8gT25seSBtZWRpYSBtZXNzYWdlcyAodXJsLCBkb2N1bWVudCBhbmQgbGlua3MpXHJcbiAqIFdQUC5jaGF0LmdldE1lc3NhZ2VzKCdbbnVtYmVyXUBjLnVzJywge1xyXG4gKiAgIGNvdW50OiAyMCxcclxuICogICBtZWRpYTogJ2FsbCcsXHJcbiAqIH0pO1xyXG4gKlxyXG4gKiAvLyBPbmx5IGltYWdlIG1lc3NhZ2VzXHJcbiAqIFdQUC5jaGF0LmdldE1lc3NhZ2VzKCdbbnVtYmVyXUBjLnVzJywge1xyXG4gKiAgIGNvdW50OiAyMCxcclxuICogICBtZWRpYTogJ2ltYWdlJyxcclxuICogfSk7XHJcbiAqXHJcbiAqIC8vIE9ubHkgZG9jdW1lbnQgbWVzc2FnZXNcclxuICogV1BQLmNoYXQuZ2V0TWVzc2FnZXMoJ1tudW1iZXJdQGMudXMnLCB7XHJcbiAqICAgY291bnQ6IDIwLFxyXG4gKiAgIG1lZGlhOiAnZG9jdW1lbnQnLFxyXG4gKiB9KTtcclxuICpcclxuICogLy8gT25seSBsaW5rICh1cmwpIG1lc3NhZ2VzXHJcbiAqIFdQUC5jaGF0LmdldE1lc3NhZ2VzKCdbbnVtYmVyXUBjLnVzJywge1xyXG4gKiAgIGNvdW50OiAyMCxcclxuICogICBtZWRpYTogJ3VybCcsXHJcbiAqIH0pO1xyXG4gKiBgYGBcclxuICogQGNhdGVnb3J5IE1lc3NhZ2VcclxuICogQHJldHVybiAge1Jhd01lc3NhZ2VbXX0gTGlzdCBvZiByYXcgbWVzc2FnZXNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNZXNzYWdlcyhcclxuICBjaGF0SWQ6IHN0cmluZyB8IFdpZCxcclxuICBvcHRpb25zOiBHZXRNZXNzYWdlc09wdGlvbnMgPSB7fVxyXG4pOiBQcm9taXNlPFJhd01lc3NhZ2VbXT4ge1xyXG4gIGNvbnN0IGNoYXQgPSBhc3NlcnRHZXRDaGF0KGNoYXRJZCk7XHJcblxyXG4gIGxldCBjb3VudCA9IG9wdGlvbnMuY291bnQgfHwgMjA7XHJcbiAgY29uc3QgZGlyZWN0aW9uID0gb3B0aW9ucy5kaXJlY3Rpb24gPT09ICdhZnRlcicgPyAnYWZ0ZXInIDogJ2JlZm9yZSc7XHJcbiAgY29uc3QgaWQgPSBvcHRpb25zLmlkIHx8IGNoYXQubGFzdFJlY2VpdmVkS2V5Py50b1N0cmluZygpO1xyXG5cclxuICBpZiAob3B0aW9ucy5vbmx5VW5yZWFkKSB7XHJcbiAgICBpZiAoIWNoYXQuaGFzVW5yZWFkKSB7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBtYXJrZWQgYXMgdW5yZWFkLCByZXR1cm4gbGFzdCAyIG1lc3NhZ2VzXHJcbiAgICBjb25zdCB1bnJlYWRDb3VudCA9IGNoYXQudW5yZWFkQ291bnQgPCAwID8gMiA6IGNoYXQudW5yZWFkQ291bnQ7XHJcblxyXG4gICAgaWYgKGNvdW50IDwgMCkge1xyXG4gICAgICBjb3VudCA9IHVucmVhZENvdW50O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY291bnQgPSBNYXRoLm1pbihjb3VudCwgdW5yZWFkQ291bnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRml4IGZvciBtdWx0aWRldmljZVxyXG4gIGlmIChjb3VudCA9PT0gLTEgJiYgaXNNdWx0aURldmljZSgpKSB7XHJcbiAgICBjb3VudCA9IEluZmluaXR5O1xyXG4gIH1cclxuXHJcbiAgaWYgKCFvcHRpb25zLmlkICYmIGlkKSB7XHJcbiAgICBjb3VudC0tO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcGFyYW1zOiBNc2dGaW5kUXVlcnlQYXJhbXMgPSBpZFxyXG4gICAgPyAoTXNnS2V5LmZyb21TdHJpbmcoaWQpIGFzIGFueSlcclxuICAgIDoge1xyXG4gICAgICAgIHJlbW90ZTogY2hhdC5pZCxcclxuICAgICAgfTtcclxuXHJcbiAgcGFyYW1zLmNvdW50ID0gY291bnQ7XHJcbiAgcGFyYW1zLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcclxuXHJcbiAgbGV0IG1zZ3MgPSBbXTtcclxuICBpZiAob3B0aW9ucy5tZWRpYSA9PT0gJ2FsbCcpIHtcclxuICAgIGNvbnN0IHsgbWVzc2FnZXMgfSA9IGF3YWl0IG1zZ0ZpbmRRdWVyeSgnbWVkaWEnLCBwYXJhbXMpO1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobWVzc2FnZXMpKSB7XHJcbiAgICAgIG1zZ3MucHVzaCguLi5tZXNzYWdlcyk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChvcHRpb25zLm1lZGlhID09PSAnaW1hZ2UnKSB7XHJcbiAgICBjb25zdCB7IG1lc3NhZ2VzIH0gPSBhd2FpdCBtc2dGaW5kUXVlcnkoJ21lZGlhJywgcGFyYW1zKTtcclxuICAgIGZvciAoY29uc3QgTXNnIG9mIG1lc3NhZ2VzKSB7XHJcbiAgICAgIGlmIChNc2cudHlwZSA9PT0gJ2ltYWdlJykge1xyXG4gICAgICAgIG1zZ3MucHVzaChNc2cpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChvcHRpb25zLm1lZGlhICE9PSB1bmRlZmluZWQpIHtcclxuICAgIHBhcmFtcy5tZWRpYSA9IG9wdGlvbnMubWVkaWE7XHJcblxyXG4gICAgY29uc3QgeyBtZXNzYWdlcyB9ID0gYXdhaXQgbXNnRmluZFF1ZXJ5KCdtZWRpYScsIHBhcmFtcyk7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShtZXNzYWdlcykpIHtcclxuICAgICAgbXNncy5wdXNoKC4uLm1lc3NhZ2VzKTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgbXNncyA9IGF3YWl0IG1zZ0ZpbmRRdWVyeShkaXJlY3Rpb24sIHBhcmFtcyk7XHJcbiAgfVxyXG5cclxuICBpZiAoIW9wdGlvbnMuaWQgJiYgaWQpIHtcclxuICAgIGNvbnN0IG1zZyA9IE1zZ1N0b3JlLmdldChpZCk7XHJcbiAgICBpZiAobXNnKSB7XHJcbiAgICAgIG1zZ3MucHVzaChtc2cuYXR0cmlidXRlcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBtc2dzID0gbXNncy5tYXAoKG06IGFueSkgPT4ge1xyXG4gICAgaWYgKG9wdGlvbnM/Lm9ubHlVbnJlYWQpIG0uaXNOZXdNc2cgPSB0cnVlO1xyXG4gICAgaWYgKG0gaW5zdGFuY2VvZiBNc2dNb2RlbCkge1xyXG4gICAgICByZXR1cm4gbTtcclxuICAgIH1cclxuICAgIHJldHVybiBNc2dTdG9yZS5nZXQobSkgfHwgbmV3IE1zZ01vZGVsKG0pO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gbXNncztcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjIgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydEdldENoYXQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBpc0J1c2luZXNzIH0gZnJvbSAnLi4vLi4vcHJvZmlsZSc7XHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7IE5vdGVNb2RlbCwgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyByZXRyaWV2ZU9ubHlOb3RlRm9yQ2hhdEppZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucy9hZGRPckVkaXROb3RlQWN0aW9uJztcclxuXHJcbi8qKlxyXG4gKiBHZXQgbm90ZXMgZnJvbSBhIGNvbnRhY3RcclxuICogT25seSB3aGVuIGFyZSBjb25uZWN0ZWQgd2l0aCBidXNpbmVzcyBkZXZpY2VcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBXUFAuY2hhdC5nZXROb3RlcygnW251bWJlcl1AYy51cycsICdUZXh0IGZvciB5b3VyIG5vdGVzJyk7XHJcbiAqIGBgYFxyXG4gKiBAY2F0ZWdvcnkgQ2hhdFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE5vdGVzKFxyXG4gIGNoYXRJZDogc3RyaW5nIHwgV2lkXHJcbik6IFByb21pc2U8Tm90ZU1vZGVsIHwgbnVsbD4ge1xyXG4gIGNvbnN0IGNoYXQgPSBhc3NlcnRHZXRDaGF0KGNoYXRJZCk7XHJcbiAgaWYgKCFpc0J1c2luZXNzKCkpIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ2Nvbm5lY3RlZF9kZXZpY2Vfbm90X2lzX2J1c2luZXNzJyxcclxuICAgICAgYENvbm5lY3RlZCBkZXZpY2Ugbm90IGlzIGJ1c2luZXNzIGFjY291bnRgXHJcbiAgICApO1xyXG4gIH0gZWxzZSBpZiAoY2hhdC5pc0dyb3VwKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICdjYW5fbm90X2dldF9ub3Rlc19mb3JfZ3JvdXBzJyxcclxuICAgICAgYFlvdSBjYW4gbm90IGdldCBub3RlcyBmb3IgZ3JvdXBzLiBDaGF0SWQ6ICR7Y2hhdElkfWBcclxuICAgICk7XHJcbiAgfVxyXG4gIHJldHVybiBhd2FpdCByZXRyaWV2ZU9ubHlOb3RlRm9yQ2hhdEppZChjaGF0LmlkLnRvSmlkKCkpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3RyaW5nYWJsZSB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IHsgTXNnS2V5LCBNc2dNb2RlbCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIHBsYXRmb3JtIG1lc3NhZ2UgZnJvbSBtZXNzYWdlIElEXHJcbiAqXHJcbiAqIFRoZSBwbGF0Zm9ybSBjYW4gYmU6XHJcbiAqICogYW5kcm9pZFxyXG4gKiAqIGlwaG9uZVxyXG4gKiAqIHdlYlxyXG4gKiAqIHVua25vd25cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyB0byBnZXQgcGxhdGZvcm0gZnJvbSBhIG1lc3NhZ2VcclxuICogY29uc3QgcGxhdGZvcm0gPSBXUFAuY2hhdC5nZXRQbGF0Zm9ybUZyb21NZXNzYWdlKCdbbWVzc2FnZV9pZF0nKTtcclxuICogYGBgXHJcbiAqIEBjYXRlZ29yeSBNZXNzYWdlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGxhdGZvcm1Gcm9tTWVzc2FnZShcclxuICBtZXNzYWdlSWQ6IHN0cmluZyB8IE1zZ0tleSB8IE1zZ01vZGVsIHwgU3RyaW5nYWJsZVxyXG4pOiAnYW5kcm9pZCcgfCAnaXBob25lJyB8ICd3ZWInIHwgJ3Vua25vd24nIHtcclxuICBpZiAoXHJcbiAgICAhKG1lc3NhZ2VJZCBpbnN0YW5jZW9mIE1zZ01vZGVsKSAmJlxyXG4gICAgdHlwZW9mIG1lc3NhZ2VJZCAhPT0gJ3N0cmluZycgJiZcclxuICAgIHR5cGVvZiBtZXNzYWdlSWQudG9TdHJpbmcgPT09ICdmdW5jdGlvbidcclxuICApIHtcclxuICAgIG1lc3NhZ2VJZCA9IG1lc3NhZ2VJZC50b1N0cmluZygpO1xyXG4gIH1cclxuXHJcbiAgaWYgKG1lc3NhZ2VJZCBpbnN0YW5jZW9mIE1zZ01vZGVsKSB7XHJcbiAgICBtZXNzYWdlSWQgPSBtZXNzYWdlSWQuaWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBCYXNlZCBCYWlseWVzXHJcbiAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vYWRpd2Fqc2hpbmcvQmFpbGV5cy9ibG9iLzE5NDg0ZTVjZmNlZDRjMmQyMjk2ODdlNzRmNzE0NTM0Mzc1YTU3YTMvc3JjL1V0aWxzL21lc3NhZ2VzLnRzI0w2MDBcclxuICAgKi9cclxuICBjb25zdCBtc2dLZXkgPSBNc2dLZXkuZnJvbVN0cmluZyhtZXNzYWdlSWQudG9TdHJpbmcoKSk7XHJcblxyXG4gIGlmIChtc2dLZXkuaWQubGVuZ3RoID4gMjEpIHtcclxuICAgIHJldHVybiAnYW5kcm9pZCc7XHJcbiAgfVxyXG5cclxuICBpZiAobXNnS2V5LmlkLnN0YXJ0c1dpdGgoJzNBJykpIHtcclxuICAgIHJldHVybiAnaXBob25lJztcclxuICB9XHJcblxyXG4gIGlmIChtc2dLZXkuaWQuc3RhcnRzV2l0aCgnM0VCMCcpKSB7XHJcbiAgICByZXR1cm4gJ3dlYic7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gJ3Vua25vd24nO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgTXNnS2V5LCBNc2dNb2RlbCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZ2V0TWVzc2FnZUJ5SWQgfSBmcm9tICcuL2dldE1lc3NhZ2VCeUlkJztcclxuaW1wb3J0IHsgZ2V0UXVvdGVkTXNnS2V5IH0gZnJvbSAnLi9nZXRRdW90ZWRNc2dLZXknO1xyXG5cclxuLyoqXHJcbiAqIEdldCBhIHF1b3RlZCBtZXNzYWdlXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDaGF0XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UXVvdGVkTXNnKGlkOiBzdHJpbmcgfCBNc2dLZXkpOiBQcm9taXNlPE1zZ01vZGVsPiB7XHJcbiAgY29uc3QgbXNnID0gYXdhaXQgZ2V0TWVzc2FnZUJ5SWQoaWQpO1xyXG5cclxuICBpZiAoIW1zZy5xdW90ZWRTdGFuemFJRCkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnbWVzc2FnZV9ub3RfaGF2ZV9hX3JlcGx5JyxcclxuICAgICAgYE1lc3NhZ2UgJHtpZH0gZG9lcyBub3QgaGF2ZSBhIHJlcGx5YCxcclxuICAgICAge1xyXG4gICAgICAgIGlkLFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcXVvdGVkTXNnSWQgPSBnZXRRdW90ZWRNc2dLZXkobXNnKTtcclxuICByZXR1cm4gYXdhaXQgZ2V0TWVzc2FnZUJ5SWQocXVvdGVkTXNnSWQpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZ2V0TXlVc2VySWQgfSBmcm9tICcuLi8uLi9jb25uJztcclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgTXNnS2V5LCBNc2dNb2RlbCwgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuLyoqXHJcbiAqIEdldCBhIHF1b3RlZCBtZXNzYWdlXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDaGF0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UXVvdGVkTXNnS2V5KG1zZzogTXNnTW9kZWwpOiBNc2dLZXkge1xyXG4gIGlmICghbXNnLnF1b3RlZFN0YW56YUlEKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICdtZXNzYWdlX25vdF9oYXZlX2FfcmVwbHknLFxyXG4gICAgICBgTWVzc2FnZSAke21zZy5pZH0gZG9lcyBub3QgaGF2ZSBhIHJlcGx5YCxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiBtc2cuaWQsXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBjb25zdCByZW1vdGUgPSBtc2cucXVvdGVkUmVtb3RlSmlkID8gbXNnLnF1b3RlZFJlbW90ZUppZCA6IG1zZy5pZC5yZW1vdGU7XHJcbiAgY29uc3QgZnJvbU1lID0gZ2V0TXlVc2VySWQoKT8uZXF1YWxzKG1zZy5xdW90ZWRQYXJ0aWNpcGFudCkgfHwgZmFsc2U7XHJcblxyXG4gIGNvbnN0IGlzU3RhdHVzID1cclxuICAgIHR5cGVvZiBXaWQuaXNTdGF0dXNWMyA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICA/IFdpZC5pc1N0YXR1c1YzKHJlbW90ZSlcclxuICAgICAgOiBXaWQuaXNTdGF0dXMocmVtb3RlKTtcclxuXHJcbiAgY29uc3QgcXVvdGVkTXNnSWQgPSBuZXcgTXNnS2V5KHtcclxuICAgIGlkOiBtc2cucXVvdGVkU3RhbnphSUQsXHJcbiAgICBmcm9tTWU6IGZyb21NZSxcclxuICAgIHJlbW90ZTogcmVtb3RlLFxyXG4gICAgcGFydGljaXBhbnQ6XHJcbiAgICAgIFdpZC5pc0dyb3VwKG1zZy5mcm9tISkgfHwgV2lkLmlzR3JvdXAobXNnLnRvISkgfHwgaXNTdGF0dXNcclxuICAgICAgICA/IG1zZy5xdW90ZWRQYXJ0aWNpcGFudFxyXG4gICAgICAgIDogdW5kZWZpbmVkLFxyXG4gIH0pO1xyXG4gIHJldHVybiBxdW90ZWRNc2dJZDtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjIgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGNyZWF0ZVdpZCB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBNc2dLZXkgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IGdldFJlYWN0aW9ucyBhcyBHZXRSZWFjdGlvbiB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG4vKipcclxuICogR2V0IGFsbCByZWFjdGlvbnMgaW4gYSBtZXNzYWdlXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogV1BQLmNoYXQuZ2V0UmVhY3Rpb25zKCd0cnVlX1tudW1iZXJdQGMudXNfQUJDREVGJyk7XHJcbiAqIGBgYFxyXG4gKiBAY2F0ZWdvcnkgQ2hhdFxyXG4gKi9cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZWFjdGlvbnMobXNnSWQ6IHN0cmluZyk6IFByb21pc2U8e1xyXG4gIHJlYWN0aW9uQnlNZToge1xyXG4gICAgaWQ6IE1zZ0tleTtcclxuICAgIG9ycGhhbjogbnVtYmVyO1xyXG4gICAgbXNnSWQ6IE1zZ0tleTtcclxuICAgIHJlYWN0aW9uVGV4dDogc3RyaW5nO1xyXG4gICAgcmVhZDogYm9vbGVhbjtcclxuICAgIHNlbmRlclVzZXJKaWQ6IHN0cmluZztcclxuICAgIHRpbWVzdGFtcDogbnVtYmVyO1xyXG4gIH07XHJcbiAgcmVhY3Rpb25zOiB7XHJcbiAgICBhZ2dyZWdhdGVFbW9qaTogc3RyaW5nO1xyXG4gICAgaGFzUmVhY3Rpb25CeU1lOiBib29sZWFuO1xyXG4gICAgc2VuZGVyczoge1xyXG4gICAgICBpZDogTXNnS2V5O1xyXG4gICAgICBvcnBoYW46IG51bWJlcjtcclxuICAgICAgbXNnSWQ6IE1zZ0tleTtcclxuICAgICAgcmVhY3Rpb25UZXh0OiBzdHJpbmc7XHJcbiAgICAgIHJlYWQ6IGJvb2xlYW47XHJcbiAgICAgIHNlbmRlclVzZXJKaWQ6IHN0cmluZztcclxuICAgICAgdGltZXN0YW1wOiBudW1iZXI7XHJcbiAgICB9W107XHJcbiAgfVtdO1xyXG59PiB7XHJcbiAgY29uc3QgcmVhY3Rpb25zID0gYXdhaXQgR2V0UmVhY3Rpb24obXNnSWQpO1xyXG5cclxuICBjb25zdCByZXR1cm5EYXRhOiBhbnkgPSBbXTtcclxuICBmb3IgKGNvbnN0IGQgb2YgcmVhY3Rpb25zLnJlYWN0aW9ucykge1xyXG4gICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgYWdncmVnYXRlRW1vamk6IGQuYWdncmVnYXRlRW1vamksXHJcbiAgICAgIGhhc1JlYWN0aW9uQnlNZTogZC5oYXNSZWFjdGlvbkJ5TWUsXHJcbiAgICAgIHNlbmRlcnM6IDxhbnk+W10sXHJcbiAgICB9O1xyXG4gICAgZm9yIChjb25zdCBlIG9mIGQuc2VuZGVycykge1xyXG4gICAgICBkYXRhLnNlbmRlcnMucHVzaCh7XHJcbiAgICAgICAgaWQ6IGUubXNnS2V5IGFzIE1zZ0tleSxcclxuICAgICAgICBtc2dJZDogZS5wYXJlbnRNc2dLZXksXHJcbiAgICAgICAgcmVhY3Rpb25UZXh0OiBlLnJlYWN0aW9uVGV4dCxcclxuICAgICAgICByZWFkOiBlLnJlYWQsXHJcbiAgICAgICAgc2VuZGVyOiBjcmVhdGVXaWQoZS5zZW5kZXJVc2VySmlkKSEsXHJcbiAgICAgICAgb3JwaGFuOiBlLm9ycGhhbixcclxuICAgICAgICB0aW1lc3RhbXA6IGUudGltZXN0YW1wLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybkRhdGEucHVzaChkYXRhKTtcclxuICB9XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlYWN0aW9uQnlNZTogcmVhY3Rpb25zLnJlYWN0aW9uQnlNZVxyXG4gICAgICA/IDxhbnk+e1xyXG4gICAgICAgICAgaWQ6IHJlYWN0aW9ucy5yZWFjdGlvbkJ5TWUubXNnS2V5IGFzIE1zZ0tleSxcclxuICAgICAgICAgIG9ycGhhbjogcmVhY3Rpb25zLnJlYWN0aW9uQnlNZS5vcnBoYW4gYXMgbnVtYmVyLFxyXG4gICAgICAgICAgbXNnSWQ6IHJlYWN0aW9ucy5yZWFjdGlvbkJ5TWUucGFyZW50TXNnS2V5IGFzIE1zZ0tleSxcclxuICAgICAgICAgIHJlYWN0aW9uVGV4dDogcmVhY3Rpb25zLnJlYWN0aW9uQnlNZS5yZWFjdGlvblRleHQgYXMgc3RyaW5nLFxyXG4gICAgICAgICAgcmVhZDogcmVhY3Rpb25zLnJlYWN0aW9uQnlNZS5yZWFkIGFzIGJvb2xlYW4sXHJcbiAgICAgICAgICBzZW5kZXJVc2VySmlkOiBjcmVhdGVXaWQocmVhY3Rpb25zLnJlYWN0aW9uQnlNZS5zZW5kZXJVc2VySmlkKSEsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IHJlYWN0aW9ucy5yZWFjdGlvbkJ5TWUudGltZXN0YW1wIGFzIG51bWJlcixcclxuICAgICAgICB9XHJcbiAgICAgIDogdW5kZWZpbmVkLFxyXG4gICAgcmVhY3Rpb25zOiByZXR1cm5EYXRhLFxyXG4gIH07XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBvbiB9IGZyb20gJy4uLy4uL2V2ZW50RW1pdHRlcic7XHJcbmltcG9ydCB7IENoYXRNb2RlbCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgbGlzdCB9IGZyb20gJy4vbGlzdCc7XHJcblxyXG5sZXQgdW5yZWFkQ2hhdHM6IEFycmF5PENoYXRNb2RlbD4gPSBbXTtcclxuXHJcbm9uKCdjaGF0LnVucmVhZF9jb3VudF9jaGFuZ2VkJywgKHBhcmFtcykgPT4ge1xyXG4gIGlmIChwYXJhbXMudW5yZWFkQ291bnQgPiAwKSB7XHJcbiAgICBpZiAoIXVucmVhZENoYXRzLmZpbmQoKGNoYXQpID0+IGNoYXQuaWQgPT09IHBhcmFtcy5jaGF0Py5pZCkpIHtcclxuICAgICAgdW5yZWFkQ2hhdHMucHVzaChwYXJhbXMuY2hhdCk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIHVucmVhZENoYXRzID0gdW5yZWFkQ2hhdHMuZmlsdGVyKChjaGF0KSA9PiBjaGF0LmlkICE9IHBhcmFtcy5jaGF0Py5pZCk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgYWxsIGNoYXRzIHRoYXQgaGF2ZSB1bnJlYWQgbWVzc2FnZXNcclxuICpcclxuICogQGNhdGVnb3J5IENoYXRcclxuICpcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVbnJlYWRDaGF0cyhcclxuICBvbmx5TmV3VW5yZWFkczogYm9vbGVhblxyXG4pOiBQcm9taXNlPEFycmF5PENoYXRNb2RlbD4+IHtcclxuICBpZiAob25seU5ld1VucmVhZHMpIHtcclxuICAgIHJldHVybiB1bnJlYWRDaGF0cztcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGF3YWl0IGxpc3QoeyBvbmx5V2l0aFVucmVhZE1lc3NhZ2U6IHRydWUgfSk7XHJcbiAgfVxyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgTXNnS2V5LCBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IGdldFZvdGVzIGFzIEdldFZvdGVzIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHsgZ2V0TWVzc2FnZUJ5SWQgfSBmcm9tICcuL2dldE1lc3NhZ2VCeUlkJztcclxuXHJcbi8qKlxyXG4gKiBHZXQgdm90ZXMgb2YgYSBwb2xsXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogV1BQLmNoYXQuZ2V0Vm90ZXMoJ3RydWVfW251bWJlcl1AYy51c19BQkNERUYnKTtcclxuICogYGBgXHJcbiAqIEBjYXRlZ29yeSBDaGF0XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Vm90ZXMoaWQ6IHN0cmluZyB8IE1zZ0tleSk6IFByb21pc2U8e1xyXG4gIG1zZ0lkOiBNc2dLZXk7XHJcbiAgY2hhdElkOiBXaWQ7XHJcbiAgdm90ZXM6IHtcclxuICAgIHNlbGVjdGVkT3B0aW9uczogbnVtYmVyW107XHJcbiAgICB0aW1lc3RhbXA6IG51bWJlcjtcclxuICAgIHNlbmRlcjogV2lkO1xyXG4gIH1bXTtcclxufT4ge1xyXG4gIGNvbnN0IG1zZ0tleSA9IE1zZ0tleS5mcm9tU3RyaW5nKGlkLnRvU3RyaW5nKCkpO1xyXG4gIGNvbnN0IG1zZyA9IGF3YWl0IGdldE1lc3NhZ2VCeUlkKG1zZ0tleSk7XHJcblxyXG4gIGlmIChtc2cudHlwZSAhPSAncG9sbF9jcmVhdGlvbicpIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ21zZ19ub3RfZm91bmQnLFxyXG4gICAgICBgTWVzc2FnZSAke21zZ0tleS50b1N0cmluZygpfSBub3QgYSBwb2xsYCxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiBtc2dLZXkudG9TdHJpbmcoKSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHZvdGVzID0gYXdhaXQgR2V0Vm90ZXMoW21zZ0tleV0pO1xyXG4gIGNvbnN0IHJldHVybkRhdGEgPSB7XHJcbiAgICBtc2dJZDogbXNnS2V5LFxyXG4gICAgY2hhdElkOiBtc2dLZXkucmVtb3RlLFxyXG4gICAgdm90ZXM6IDxcclxuICAgICAge1xyXG4gICAgICAgIHNlbGVjdGVkT3B0aW9uczogbnVtYmVyW107XHJcbiAgICAgICAgdGltZXN0YW1wOiBudW1iZXI7XHJcbiAgICAgICAgc2VuZGVyOiBXaWQ7XHJcbiAgICAgIH1bXVxyXG4gICAgPltdLFxyXG4gIH07XHJcbiAgZm9yIChjb25zdCB2b3RlIG9mIHZvdGVzKSB7XHJcbiAgICBjb25zdCBhcnIgPSB7XHJcbiAgICAgIHNlbGVjdGVkT3B0aW9uczogPGFueT5bXSxcclxuICAgICAgdGltZXN0YW1wOiB2b3RlLnNlbmRlclRpbWVzdGFtcE1zLFxyXG4gICAgICBzZW5kZXI6IHZvdGUuc2VuZGVyLFxyXG4gICAgfTtcclxuICAgIGZvciAoY29uc3QgZCBvZiB2b3RlLnNlbGVjdGVkT3B0aW9uTG9jYWxJZHMpIHtcclxuICAgICAgYXJyLnNlbGVjdGVkT3B0aW9uc1tkXSA9IG1zZy5wb2xsT3B0aW9ucy5maWx0ZXIoXHJcbiAgICAgICAgKGk6IGFueSkgPT4gaS5sb2NhbElkID09IGRcclxuICAgICAgKVswXTtcclxuICAgIH1cclxuICAgIHJldHVybkRhdGEudm90ZXMucHVzaChhcnIpO1xyXG4gIH1cclxuICByZXR1cm4gcmV0dXJuRGF0YTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCB7IGFyY2hpdmUsIHVuYXJjaGl2ZSB9IGZyb20gJy4vYXJjaGl2ZSc7XHJcbmV4cG9ydCB7IGNhbk1hcmtQbGF5ZWQgfSBmcm9tICcuL2Nhbk1hcmtQbGF5ZWQnO1xyXG5leHBvcnQgeyBjYW5NdXRlIH0gZnJvbSAnLi9jYW5NdXRlJztcclxuZXhwb3J0IHsgY2FuUmVwbHkgfSBmcm9tICcuL2NhblJlcGx5JztcclxuZXhwb3J0IHsgY2xlYXIgfSBmcm9tICcuL2NsZWFyJztcclxuZXhwb3J0IHsgY2xvc2VDaGF0IH0gZnJvbSAnLi9jbG9zZUNoYXQnO1xyXG5leHBvcnQgeyBkZWxldGUgfSBmcm9tICcuL2RlbGV0ZSc7XHJcbmV4cG9ydCB7IGRlbGV0ZU1lc3NhZ2UsIERlbGV0ZU1lc3NhZ2VSZXR1cm4gfSBmcm9tICcuL2RlbGV0ZU1lc3NhZ2UnO1xyXG5leHBvcnQgeyBkb3dubG9hZE1lZGlhIH0gZnJvbSAnLi9kb3dubG9hZE1lZGlhJztcclxuZXhwb3J0IHsgZWRpdE1lc3NhZ2UgfSBmcm9tICcuL2VkaXRNZXNzYWdlJztcclxuZXhwb3J0IHsgZmluZCB9IGZyb20gJy4vZmluZCc7XHJcbmV4cG9ydCB7IGZvcndhcmRNZXNzYWdlLCBGb3J3YXJkTWVzc2FnZU9wdGlvbnMgfSBmcm9tICcuL2ZvcndhcmRNZXNzYWdlJztcclxuZXhwb3J0IHsgZm9yd2FyZE1lc3NhZ2VzLCBGb3J3YXJkTWVzc2FnZXNPcHRpb25zIH0gZnJvbSAnLi9mb3J3YXJkTWVzc2FnZXMnO1xyXG5leHBvcnQgeyBnZW5lcmF0ZU1lc3NhZ2VJRCB9IGZyb20gJy4vZ2VuZXJhdGVNZXNzYWdlSUQnO1xyXG5leHBvcnQgeyBnZXQgfSBmcm9tICcuL2dldCc7XHJcbmV4cG9ydCB7IGdldEFjdGl2ZUNoYXQgfSBmcm9tICcuL2dldEFjdGl2ZUNoYXQnO1xyXG5leHBvcnQgeyBnZXRMYXN0U2VlbiB9IGZyb20gJy4vZ2V0TGFzdFNlZW4nO1xyXG5leHBvcnQgeyBnZXRNZXNzYWdlQUNLIH0gZnJvbSAnLi9nZXRNZXNzYWdlQUNLJztcclxuZXhwb3J0IHsgZ2V0TWVzc2FnZUJ5SWQgfSBmcm9tICcuL2dldE1lc3NhZ2VCeUlkJztcclxuZXhwb3J0IHsgZ2V0TWVzc2FnZXMsIEdldE1lc3NhZ2VzT3B0aW9ucyB9IGZyb20gJy4vZ2V0TWVzc2FnZXMnO1xyXG5leHBvcnQgeyBnZXROb3RlcyB9IGZyb20gJy4vZ2V0Tm90ZXMnO1xyXG5leHBvcnQgeyBnZXRQbGF0Zm9ybUZyb21NZXNzYWdlIH0gZnJvbSAnLi9nZXRQbGF0Zm9ybUZyb21NZXNzYWdlJztcclxuZXhwb3J0IHsgZ2V0UXVvdGVkTXNnIH0gZnJvbSAnLi9nZXRRdW90ZWRNc2cnO1xyXG5leHBvcnQgeyBnZXRRdW90ZWRNc2dLZXkgfSBmcm9tICcuL2dldFF1b3RlZE1zZ0tleSc7XHJcbmV4cG9ydCB7IGdldFJlYWN0aW9ucyB9IGZyb20gJy4vZ2V0UmVhY3Rpb25zJztcclxuZXhwb3J0IHsgZ2V0VW5yZWFkQ2hhdHMgfSBmcm9tICcuL2dldFVucmVhZENoYXRzJztcclxuZXhwb3J0IHsgZ2V0Vm90ZXMgfSBmcm9tICcuL2dldFZvdGVzJztcclxuZXhwb3J0IHsga2VlcE1lc3NhZ2UgfSBmcm9tICcuL2tlZXBNZXNzYWdlJztcclxuZXhwb3J0IHsgQ2hhdExpc3RPcHRpb25zLCBsaXN0IH0gZnJvbSAnLi9saXN0JztcclxuZXhwb3J0IHsgbWFya0lzQ29tcG9zaW5nIH0gZnJvbSAnLi9tYXJrSXNDb21wb3NpbmcnO1xyXG5leHBvcnQgeyBtYXJrSXNQYXVzZWQgfSBmcm9tICcuL21hcmtJc1BhdXNlZCc7XHJcbmV4cG9ydCB7IG1hcmtJc1JlYWQgfSBmcm9tICcuL21hcmtJc1JlYWQnO1xyXG5leHBvcnQgeyBtYXJrSXNSZWNvcmRpbmcgfSBmcm9tICcuL21hcmtJc1JlY29yZGluZyc7XHJcbmV4cG9ydCB7IG1hcmtJc1VucmVhZCB9IGZyb20gJy4vbWFya0lzVW5yZWFkJztcclxuZXhwb3J0IHsgbWFya1BsYXllZCB9IGZyb20gJy4vbWFya1BsYXllZCc7XHJcbmV4cG9ydCB7IG11dGUgfSBmcm9tICcuL211dGUnO1xyXG5leHBvcnQgeyBvcGVuQ2hhdEF0IH0gZnJvbSAnLi9vcGVuQ2hhdEF0JztcclxuZXhwb3J0IHsgb3BlbkNoYXRCb3R0b20gfSBmcm9tICcuL29wZW5DaGF0Qm90dG9tJztcclxuZXhwb3J0IHsgb3BlbkNoYXRGcm9tVW5yZWFkIH0gZnJvbSAnLi9vcGVuQ2hhdEZyb21VbnJlYWQnO1xyXG5leHBvcnQgeyBwaW4sIHVucGluIH0gZnJvbSAnLi9waW4nO1xyXG5leHBvcnQgeyBwaW5Nc2csIHVucGluTXNnIH0gZnJvbSAnLi9waW5Nc2cnO1xyXG5leHBvcnQgeyBMaW5rUHJldmlld09wdGlvbnMsIHByZXBhcmVMaW5rUHJldmlldyB9IGZyb20gJy4vcHJlcGFyZUxpbmtQcmV2aWV3JztcclxuZXhwb3J0IHtcclxuICBNZXNzYWdlQnV0dG9uc09wdGlvbnMsXHJcbiAgcHJlcGFyZU1lc3NhZ2VCdXR0b25zLFxyXG59IGZyb20gJy4vcHJlcGFyZU1lc3NhZ2VCdXR0b25zJztcclxuZXhwb3J0IHsgcHJlcGFyZVJhd01lc3NhZ2UgfSBmcm9tICcuL3ByZXBhcmVSYXdNZXNzYWdlJztcclxuZXhwb3J0IHsgcmVxdWVzdFBob25lTnVtYmVyIH0gZnJvbSAnLi9yZXF1ZXN0UGhvbmVOdW1iZXInO1xyXG5leHBvcnQgeyBzZW5kQ2F0YWxvZ01lc3NhZ2UgfSBmcm9tICcuL3NlbmRDYXRhbG9nTWVzc2FnZSc7XHJcbmV4cG9ydCB7XHJcbiAgT3JkZXJJdGVtcyxcclxuICBPcmRlck1lc3NhZ2VPcHRpb25zLFxyXG4gIHNlbmRDaGFyZ2VNZXNzYWdlLFxyXG59IGZyb20gJy4vc2VuZENoYXJnZU1lc3NhZ2UnO1xyXG5leHBvcnQge1xyXG4gIFBvb2xNZXNzYWdlT3B0aW9ucyxcclxuICBzZW5kQ3JlYXRlUG9sbE1lc3NhZ2UsXHJcbn0gZnJvbSAnLi9zZW5kQ3JlYXRlUG9sbE1lc3NhZ2UnO1xyXG5leHBvcnQgeyBzZW5kRXZlbnRNZXNzYWdlIH0gZnJvbSAnLi9zZW5kRXZlbnRNZXNzYWdlJztcclxuZXhwb3J0IHtcclxuICBBdWRpb01lc3NhZ2VPcHRpb25zLFxyXG4gIEF1dG9EZXRlY3RNZXNzYWdlT3B0aW9ucyxcclxuICBEb2N1bWVudE1lc3NhZ2VPcHRpb25zLFxyXG4gIEZpbGVNZXNzYWdlT3B0aW9ucyxcclxuICBJbWFnZU1lc3NhZ2VPcHRpb25zLFxyXG4gIHNlbmRGaWxlTWVzc2FnZSxcclxuICBTdGlja2VyTWVzc2FnZU9wdGlvbnMsXHJcbiAgVmlkZW9NZXNzYWdlT3B0aW9ucyxcclxufSBmcm9tICcuL3NlbmRGaWxlTWVzc2FnZSc7XHJcbmV4cG9ydCB7XHJcbiAgR3JvdXBJbnZpdGVNZXNzYWdlLFxyXG4gIHNlbmRHcm91cEludml0ZU1lc3NhZ2UsXHJcbn0gZnJvbSAnLi9zZW5kR3JvdXBJbnZpdGVNZXNzYWdlJztcclxuZXhwb3J0IHsgTGlzdE1lc3NhZ2VPcHRpb25zLCBzZW5kTGlzdE1lc3NhZ2UgfSBmcm9tICcuL3NlbmRMaXN0TWVzc2FnZSc7XHJcbmV4cG9ydCB7XHJcbiAgTG9jYXRpb25NZXNzYWdlT3B0aW9ucyxcclxuICBzZW5kTG9jYXRpb25NZXNzYWdlLFxyXG59IGZyb20gJy4vc2VuZExvY2F0aW9uTWVzc2FnZSc7XHJcbmV4cG9ydCB7IHNlbmRQaXhLZXlNZXNzYWdlIH0gZnJvbSAnLi9zZW5kUGl4S2V5TWVzc2FnZSc7XHJcbmV4cG9ydCB7IHNlbmRSYXdNZXNzYWdlIH0gZnJvbSAnLi9zZW5kUmF3TWVzc2FnZSc7XHJcbmV4cG9ydCB7IHNlbmRSZWFjdGlvblRvTWVzc2FnZSB9IGZyb20gJy4vc2VuZFJlYWN0aW9uVG9NZXNzYWdlJztcclxuZXhwb3J0IHtcclxuICBTY2hlZHVsZWRDYWxsTWVzc2FnZU9wdGlvbnMsXHJcbiAgc2VuZFNjaGVkdWxlZENhbGxNZXNzYWdlLFxyXG59IGZyb20gJy4vc2VuZFNjaGVkdWxlZENhbGxNZXNzYWdlJztcclxuZXhwb3J0IHsgc2VuZFRleHRNZXNzYWdlLCBUZXh0TWVzc2FnZU9wdGlvbnMgfSBmcm9tICcuL3NlbmRUZXh0TWVzc2FnZSc7XHJcbmV4cG9ydCB7XHJcbiAgc2VuZFZDYXJkQ29udGFjdE1lc3NhZ2UsXHJcbiAgVkNhcmRDb250YWN0LFxyXG59IGZyb20gJy4vc2VuZFZDYXJkQ29udGFjdE1lc3NhZ2UnO1xyXG5leHBvcnQgeyBzZXRDaGF0TGlzdCB9IGZyb20gJy4vc2V0Q2hhdExpc3QnO1xyXG5leHBvcnQgeyBzZXRJbnB1dFRleHQgfSBmcm9tICcuL3NldElucHV0VGV4dCc7XHJcbmV4cG9ydCB7IHNldE5vdGVzIH0gZnJvbSAnLi9zZXROb3Rlcyc7XHJcbmV4cG9ydCB7IHN0YXJNZXNzYWdlLCBTdGFyTWVzc2FnZVJldHVybiB9IGZyb20gJy4vc3Rhck1lc3NhZ2UnO1xyXG5leHBvcnQgeyB1bm11dGUgfSBmcm9tICcuL3VubXV0ZSc7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaUFtQWRtaW4gfSBmcm9tICcuLi8uLi9ncm91cCc7XHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7IE1zZ0tleSwgTXNnTW9kZWwgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IEtJQ19FTlRSWV9QT0lOVF9UWVBFIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZW51bXMnO1xyXG5pbXBvcnQge1xyXG4gIGtlZXBNZXNzYWdlIGFzIEtlZXBNZXNzYWdlLFxyXG4gIHVuZG9LZWVwTWVzc2FnZSxcclxufSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBnZXRNZXNzYWdlQnlJZCB9IGZyb20gJy4vZ2V0TWVzc2FnZUJ5SWQnO1xyXG5cclxuLyoqXHJcbiAqIEtlZXAgb3IgdW5rZWVwIGEgbWVzc2FnZSBpbiBhIGdyb3VwIGNoYXQgd2l0aCBleHBpcmF0aW9uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gVG8ga2VlcCBhIG1lc3NhZ2UgaW4gY2hhdFxyXG4gKiBXUFAuY2hhdC5rZWVwTWVzc2FnZSgndHJ1ZV9bbnVtYmVyXUBjLnVzX0FCQ0RFRicsIHRydWUpO1xyXG4gKlxyXG4gKiAvLyBUbyB1bmtlZXAgYSBtZXNzYWdlIGluIGNoYXRcclxuICogV1BQLmNoYXQua2VlcE1lc3NhZ2UoJ3RydWVfW251bWJlcl1AYy51c19BQkNERUYnLCBmYWxzZSk7XHJcbiAqIGBgYFxyXG4gKiBAY2F0ZWdvcnkgQ2hhdFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGtlZXBNZXNzYWdlKFxyXG4gIG1zZ0lkOiBzdHJpbmcgfCBNc2dLZXksXHJcbiAgdmFsdWUgPSB0cnVlXHJcbik6IFByb21pc2U8TXNnTW9kZWw+IHtcclxuICBjb25zdCBtc2cgPSBhd2FpdCBnZXRNZXNzYWdlQnlJZChtc2dJZCk7XHJcbiAgaWYgKCEoYXdhaXQgaUFtQWRtaW4obXNnLmlkLnJlbW90ZSkpKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoJ3lvdV9ub3RfZ3JvdXBfYWRtaW4nLCAnWW91IGlzIG5vdCBhIGdyb3VwIGFkbWluJyk7XHJcbiAgfSBlbHNlIGlmIChtc2cuaXNFeHBpcmVkKCkpIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcignbXNnX2V4cGlyZWQnLCAnVGhpcyBtZXNzYWdlIGhhcyBleHBpcmVkJyk7XHJcbiAgfSBlbHNlIGlmICh2YWx1ZSkge1xyXG4gICAgYXdhaXQgS2VlcE1lc3NhZ2UobXNnLCBLSUNfRU5UUllfUE9JTlRfVFlQRS5DSEFUKTtcclxuICAgIHJldHVybiBhd2FpdCBnZXRNZXNzYWdlQnlJZChtc2dJZCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGF3YWl0IHVuZG9LZWVwTWVzc2FnZShcclxuICAgICAgbXNnLFxyXG4gICAgICB7IGRlbGV0ZUV4cGlyZWQ6IHRydWUgfSxcclxuICAgICAgS0lDX0VOVFJZX1BPSU5UX1RZUEUuQ0hBVFxyXG4gICAgKTtcclxuICAgIHJldHVybiBhd2FpdCBnZXRNZXNzYWdlQnlJZChtc2dJZCk7XHJcbiAgfVxyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICBDaGF0TW9kZWwsXHJcbiAgQ2hhdFN0b3JlLFxyXG4gIEdyb3VwTWV0YWRhdGFTdG9yZSxcclxuICBMYWJlbFN0b3JlLFxyXG4gIE5ld3NsZXR0ZXJTdG9yZSxcclxuICBXaWQsXHJcbn0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBnZXQgfSBmcm9tICcuL2dldCc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENoYXRMaXN0T3B0aW9ucyB7XHJcbiAgaWQ/OiBXaWQ7XHJcbiAgY291bnQ/OiBudW1iZXI7XHJcbiAgZGlyZWN0aW9uPzogJ2FmdGVyJyB8ICdiZWZvcmUnO1xyXG4gIG9ubHlDb21tdW5pdGllcz86IGJvb2xlYW47XHJcbiAgb25seUdyb3Vwcz86IGJvb2xlYW47XHJcbiAgb25seU5ld3NsZXR0ZXI/OiBib29sZWFuO1xyXG4gIG9ubHlVc2Vycz86IGJvb2xlYW47XHJcbiAgb25seVdpdGhVbnJlYWRNZXNzYWdlPzogYm9vbGVhbjtcclxuICB3aXRoTGFiZWxzPzogc3RyaW5nW107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm4gYSBsaXN0IG9mIGNoYXRzXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gQWxsIGNoYXRzXHJcbiAqIGNvbnN0IGNoYXRzID0gYXdhaXQgV1BQLmNoYXQubGlzdCgpO1xyXG4gKlxyXG4gKiAvLyBTb21lIGNoYXRzXHJcbiAqIGNvbnN0IGNoYXRzID0gV1BQLmNoYXQubGlzdCh7Y291bnQ6IDIwfSk7XHJcbiAqXHJcbiAqIC8vIDIwIGNoYXRzIGJlZm9yZSBzcGVjaWZpYyBjaGF0XHJcbiAqIGNvbnN0IGNoYXRzID0gV1BQLmNoYXQubGlzdCh7Y291bnQ6IDIwLCBkaXJlY3Rpb246ICdiZWZvcmUnLCBpZDogJ1tudW1iZXJdQGMudXMnfSk7XHJcbiAqXHJcbiAqIC8vIE9ubHkgdXNlcnMgY2hhdHNcclxuICogY29uc3QgY2hhdHMgPSBhd2FpdCBXUFAuY2hhdC5saXN0KHtvbmx5VXNlcnM6IHRydWV9KTtcclxuICpcclxuICogLy8gT25seSBncm91cHMgY2hhdHNcclxuICogY29uc3QgY2hhdHMgPSBhd2FpdCBXUFAuY2hhdC5saXN0KHtvbmx5R3JvdXBzOiB0cnVlfSk7XHJcbiAqXHJcbiAqIC8vIE9ubHkgY29tbXVuaXRpZXMgY2hhdHNcclxuICogY29uc3QgY2hhdHMgPSBhd2FpdCBXUFAuY2hhdC5saXN0KHtvbmx5Q29tbXVuaXRpZXM6IHRydWV9KTtcclxuICpcclxuICogLy8gT25seSBOZXdzbGV0dGVyXHJcbiAqIGNvbnN0IGNoYXRzID0gYXdhaXQgV1BQLmNoYXQubGlzdCh7b25seU5ld3NsZXR0ZXI6IHRydWV9KTtcclxuICpcclxuICogLy8gT25seSB3aXRoIGxhYmVsIFRleHRcclxuICogY29uc3QgY2hhdHMgPSBhd2FpdCBXUFAuY2hhdC5saXN0KHt3aXRoTGFiZWxzOiBbJ1Rlc3QnXX0pO1xyXG4gKlxyXG4gKiAvLyBPbmx5IHdpdGggbGFiZWwgaWRcclxuICogY29uc3QgY2hhdHMgPSBhd2FpdCBXUFAuY2hhdC5saXN0KHt3aXRoTGFiZWxzOiBbJzEnXX0pO1xyXG4gKlxyXG4gKiAvLyBPbmx5IHdpdGggbGFiZWwgd2l0aCBvbmUgb2YgdGV4dCBvciBpZFxyXG4gKiBjb25zdCBjaGF0cyA9IGF3YWl0IFdQUC5jaGF0Lmxpc3Qoe3dpdGhMYWJlbHM6IFsnQWxmYScsJzUnXX0pO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IENoYXRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0KFxyXG4gIG9wdGlvbnM6IENoYXRMaXN0T3B0aW9ucyA9IHt9XHJcbik6IFByb21pc2U8Q2hhdE1vZGVsW10+IHtcclxuICAvLyBTZXR0aW5nIHRoZSBjaGVjayB0byBudWxsLCBzbyBpdCBkb2Vzbid0IGJyZWFrIGV4aXN0aW5nIGNvZGVzLlxyXG4gIGNvbnN0IGNvdW50ID0gb3B0aW9ucy5jb3VudCA9PSBudWxsID8gSW5maW5pdHkgOiBvcHRpb25zLmNvdW50O1xyXG4gIGNvbnN0IGRpcmVjdGlvbiA9IG9wdGlvbnMuZGlyZWN0aW9uID09PSAnYmVmb3JlJyA/ICdiZWZvcmUnIDogJ2FmdGVyJztcclxuXHJcbiAgLy8gR2V0dGluZyBBbGwgQ2hhdHMuXHJcbiAgLy8gSURLLCB3aHkgd2UgdXNlIHNsaWNlIGhlcmUuIGRvbid0IHRoaW5rIGl0cyBuZWVkZWQuXHJcbiAgbGV0IG1vZGVscyA9IG9wdGlvbnMub25seU5ld3NsZXR0ZXJcclxuICAgID8gTmV3c2xldHRlclN0b3JlLmdldE1vZGVsc0FycmF5KCkuc2xpY2UoKVxyXG4gICAgOiBDaGF0U3RvcmUuZ2V0TW9kZWxzQXJyYXkoKS5zbGljZSgpO1xyXG5cclxuICAvLyBGaWx0ZXJpbmcgQmFzZWQgb24gT3B0aW9ucy5cclxuICBpZiAob3B0aW9ucy5vbmx5VXNlcnMpIHtcclxuICAgIG1vZGVscyA9IG1vZGVscy5maWx0ZXIoKGMpID0+IGMuaXNVc2VyKTtcclxuICB9XHJcblxyXG4gIGlmIChvcHRpb25zLm9ubHlHcm91cHMpIHtcclxuICAgIG1vZGVscyA9IG1vZGVscy5maWx0ZXIoKGMpID0+IGMuaXNHcm91cCk7XHJcbiAgfVxyXG5cclxuICBpZiAob3B0aW9ucy5vbmx5Q29tbXVuaXRpZXMpIHtcclxuICAgIG1vZGVscyA9IG1vZGVscy5maWx0ZXIoXHJcbiAgICAgIChjKSA9PiBjLmlzR3JvdXAgJiYgYy5ncm91cE1ldGFkYXRhPy5ncm91cFR5cGUgPT09ICdDT01NVU5JVFknXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgaWYgKG9wdGlvbnMub25seVdpdGhVbnJlYWRNZXNzYWdlKSB7XHJcbiAgICBtb2RlbHMgPSBtb2RlbHMuZmlsdGVyKChjKSA9PiBjLmhhc1VucmVhZCk7XHJcbiAgfVxyXG5cclxuICBpZiAob3B0aW9ucy53aXRoTGFiZWxzKSB7XHJcbiAgICBjb25zdCBpZHMgPSBvcHRpb25zLndpdGhMYWJlbHMubWFwKCh2YWx1ZSkgPT4ge1xyXG4gICAgICBjb25zdCBsYWJlbCA9IExhYmVsU3RvcmUuZmluZEZpcnN0KChsKSA9PiBsLm5hbWUgPT09IHZhbHVlKTtcclxuICAgICAgcmV0dXJuIGxhYmVsID8gbGFiZWwuaWQgOiB2YWx1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIG1vZGVscyA9IG1vZGVscy5maWx0ZXIoKGMpID0+IGMubGFiZWxzPy5zb21lKChpZCkgPT4gaWRzLmluY2x1ZGVzKGlkKSkpO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0dGluZyBUaGUgQ2hhdCB0byBzdGFydCBmcm9tLlxyXG4gIC8vIFNlYXJjaGluZyBmb3IgY2hhdCAoaW5kZXgpIGhlcmUsIHNvIGl0IGdldHMgYXBwbGllZCBhZnRlciBhbGwgZmlsdGVyaW5nLlxyXG4gIGNvbnN0IGluZGV4Q2hhdCA9IG9wdGlvbnM/LmlkID8gZ2V0KG9wdGlvbnMuaWQpIDogbnVsbDtcclxuICBjb25zdCBzdGFydEluZGV4ID0gaW5kZXhDaGF0ID8gbW9kZWxzLmluZGV4T2YoaW5kZXhDaGF0IGFzIGFueSkgOiAwO1xyXG5cclxuICBpZiAoZGlyZWN0aW9uID09PSAnYmVmb3JlJykge1xyXG4gICAgY29uc3QgZml4U3RhcnRJbmRleCA9IHN0YXJ0SW5kZXggLSBjb3VudCA8IDAgPyAwIDogc3RhcnRJbmRleCAtIGNvdW50O1xyXG4gICAgY29uc3QgZml4RW5kSW5kZXggPVxyXG4gICAgICBmaXhTdGFydEluZGV4ICsgY291bnQgPj0gc3RhcnRJbmRleCA/IHN0YXJ0SW5kZXggOiBmaXhTdGFydEluZGV4ICsgY291bnQ7XHJcbiAgICBtb2RlbHMgPSBtb2RlbHMuc2xpY2UoZml4U3RhcnRJbmRleCwgZml4RW5kSW5kZXgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBtb2RlbHMgPSBtb2RlbHMuc2xpY2Uoc3RhcnRJbmRleCwgc3RhcnRJbmRleCArIGNvdW50KTtcclxuICB9XHJcblxyXG4gIC8vIEF0dGFjaGluZyBHcm91cCBNZXRhZGF0YSBvbiBGb3VuZCBDaGF0cy5cclxuICBmb3IgKGNvbnN0IGNoYXQgb2YgbW9kZWxzKSB7XHJcbiAgICBpZiAoY2hhdC5pc0dyb3VwKSB7XHJcbiAgICAgIGF3YWl0IEdyb3VwTWV0YWRhdGFTdG9yZS5maW5kKGNoYXQuaWQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG1vZGVscztcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydEdldENoYXQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBDaGF0UHJlc2VuY2UsIFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgbWFya0lzUGF1c2VkIH0gZnJvbSAnLic7XHJcblxyXG4vKipcclxuICogTWFyayBhIGNoYXQgdG8gY29tcG9zaW5nIHN0YXRlXHJcbiAqIGFuZCBrZWVwIHNlbmRpbmcgXCJpcyB3cml0dGluZyBhIG1lc3NhZ2VcIlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIE1hcmsgaXMgY29tcG9zaW5nXHJcbiAqIFdQUC5jaGF0Lm1hcmtJc0NvbXBvc2luZygnW251bWJlcl1AYy51cycpO1xyXG4gKlxyXG4gKiAvLyBNYXJrIGlzIGNvbXBvc2luZyBmb3IgNSBzZWNvbmRzXHJcbiAqIFdQUC5jaGF0Lm1hcmtJc0NvbXBvc2luZygnW251bWJlcl1AYy51cycsIDUwMDApO1xyXG4gKiBgYGBcclxuICogQGNhdGVnb3J5IENoYXRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYXJrSXNDb21wb3NpbmcoY2hhdElkOiBzdHJpbmcgfCBXaWQsIGR1cmF0aW9uPzogbnVtYmVyKSB7XHJcbiAgY29uc3QgY2hhdCA9IGFzc2VydEdldENoYXQoY2hhdElkKTtcclxuXHJcbiAgYXdhaXQgY2hhdC5wcmVzZW5jZS5zdWJzY3JpYmUoKTtcclxuXHJcbiAgYXdhaXQgQ2hhdFByZXNlbmNlLm1hcmtDb21wb3NpbmcoY2hhdCk7XHJcblxyXG4gIGlmIChjaGF0LnBhdXNlZFRpbWVySWQpIHtcclxuICAgIGNsZWFyVGltZW91dChjaGF0LnBhdXNlZFRpbWVySWQpO1xyXG4gICAgY2hhdC51bnNldCgncGF1c2VkVGltZXJJZCcpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGR1cmF0aW9uKSB7XHJcbiAgICBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xyXG4gICAgICBjaGF0LnBhdXNlZFRpbWVySWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBtYXJrSXNQYXVzZWQoY2hhdElkKS50aGVuKHJlc29sdmUsIHJlc29sdmUpO1xyXG4gICAgICB9LCBkdXJhdGlvbik7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRHZXRDaGF0IH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgQ2hhdFByZXNlbmNlLCBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcblxyXG4vKipcclxuICogTWFyayBhIGNoYXQgaXMgcGF1c2VkIHN0YXRlXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gTWFyayBhcyByZWNvcmRpbmdcclxuICogV1BQLmNoYXQubWFya0lzUGF1c2VkKCdbbnVtYmVyXUBjLnVzJyk7XHJcbiAqIGBgYFxyXG4gKiBAY2F0ZWdvcnkgQ2hhdFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1hcmtJc1BhdXNlZChjaGF0SWQ6IHN0cmluZyB8IFdpZCkge1xyXG4gIGNvbnN0IGNoYXQgPSBhc3NlcnRHZXRDaGF0KGNoYXRJZCk7XHJcblxyXG4gIGF3YWl0IGNoYXQucHJlc2VuY2Uuc3Vic2NyaWJlKCk7XHJcblxyXG4gIGF3YWl0IENoYXRQcmVzZW5jZS5tYXJrUGF1c2VkKGNoYXQpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0R2V0Q2hhdCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgc2VuZFNlZW4gfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuLyoqXHJcbiAqIE1hcmsgYSBjaGF0IGFzIHJlYWQgYW5kIHNlbmQgU0VFTiBldmVudFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFNvbWUgbWVzc2FnZXNcclxuICogV1BQLmNoYXQubWFya0lzUmVhZCgnW251bWJlcl1AYy51cycpO1xyXG4gKiBgYGBcclxuICogQGNhdGVnb3J5IENoYXRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYXJrSXNSZWFkKGNoYXRJZDogc3RyaW5nIHwgV2lkKSB7XHJcbiAgY29uc3QgY2hhdCA9IGFzc2VydEdldENoYXQoY2hhdElkKTtcclxuXHJcbiAgY29uc3QgdW5yZWFkQ291bnQgPSBjaGF0LnVucmVhZENvdW50ITtcclxuXHJcbiAgYXdhaXQgc2VuZFNlZW4oY2hhdCwgZmFsc2UpO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgd2lkOiBjaGF0LmlkLFxyXG4gICAgdW5yZWFkQ291bnQsXHJcbiAgfTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydEdldENoYXQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBDaGF0UHJlc2VuY2UsIFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgbWFya0lzUGF1c2VkIH0gZnJvbSAnLic7XHJcblxyXG4vKipcclxuICogTWFyayBhIGNoYXQgdG8gcmVjb3JkaW5nIHN0YXRlXHJcbiAqIGFuZCBrZWVwIHNlbmRpbmcgXCJpcyByZWNvcmRpbmdcIlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIE1hcmsgaXMgcmVjb3JkaW5nXHJcbiAqIFdQUC5jaGF0Lm1hcmtJc1JlY29yZGluZygnW251bWJlcl1AYy51cycpO1xyXG4gKlxyXG4gKiAvLyBNYXJrIGlzIHJlY29yZGluZyBmb3IgNSBzZWNvbmRzXHJcbiAqIFdQUC5jaGF0Lm1hcmtJc1JlY29yZGluZygnW251bWJlcl1AYy51cycsIDUwMDApO1xyXG4gKiBgYGBcclxuICogQGNhdGVnb3J5IENoYXRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYXJrSXNSZWNvcmRpbmcoY2hhdElkOiBzdHJpbmcgfCBXaWQsIGR1cmF0aW9uPzogbnVtYmVyKSB7XHJcbiAgY29uc3QgY2hhdCA9IGFzc2VydEdldENoYXQoY2hhdElkKTtcclxuXHJcbiAgYXdhaXQgY2hhdC5wcmVzZW5jZS5zdWJzY3JpYmUoKTtcclxuXHJcbiAgYXdhaXQgQ2hhdFByZXNlbmNlLm1hcmtSZWNvcmRpbmcoY2hhdCk7XHJcblxyXG4gIGlmIChkdXJhdGlvbikge1xyXG4gICAgYXdhaXQgbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcclxuICAgICAgY2hhdC5wYXVzZWRUaW1lcklkID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgbWFya0lzUGF1c2VkKGNoYXRJZCkudGhlbihyZXNvbHZlLCByZXNvbHZlKTtcclxuICAgICAgfSwgZHVyYXRpb24pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0R2V0Q2hhdCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgbWFya1VucmVhZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG4vKipcclxuICogTWFyayBhIGNoYXQgYXMgdW5yZWFkXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gU29tZSBtZXNzYWdlc1xyXG4gKiBXUFAuY2hhdC5tYXJrSXNVbnJlYWQoJ1tudW1iZXJdQGMudXMnKTtcclxuICogYGBgXHJcbiAqIEBjYXRlZ29yeSBDaGF0XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFya0lzVW5yZWFkKGNoYXRJZDogc3RyaW5nIHwgV2lkKSB7XHJcbiAgY29uc3QgY2hhdCA9IGFzc2VydEdldENoYXQoY2hhdElkKTtcclxuXHJcbiAgYXdhaXQgbWFya1VucmVhZChjaGF0LCB0cnVlKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHdpZDogY2hhdC5pZCxcclxuICB9O1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3RyaW5nYWJsZSB9IGZyb20gJy4uLy4uL3R5cGVzJztcclxuaW1wb3J0IHsgTXNnS2V5LCBNc2dNb2RlbCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgbWFya1BsYXllZCBhcyBNYXJrUGxheWVkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHsgZ2V0TWVzc2FnZUJ5SWQgfSBmcm9tICcuL2dldE1lc3NhZ2VCeUlkJztcclxuXHJcbi8qKlxyXG4gKiBNYXJrIG1lc3NhZ2UgYXMgcGxheWVkXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogV1BQLmNoYXQubWFya1BsYXllZCgnW21lc3NhZ2VfaWRdJyk7XHJcbiAqIGBgYFxyXG4gKiBAY2F0ZWdvcnkgTWVzc2FnZVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1hcmtQbGF5ZWQoXHJcbiAgbWVzc2FnZUlkOiBzdHJpbmcgfCBNc2dLZXkgfCBNc2dNb2RlbCB8IFN0cmluZ2FibGVcclxuKTogUHJvbWlzZTxhbnk+IHtcclxuICBpZiAoXHJcbiAgICAhKG1lc3NhZ2VJZCBpbnN0YW5jZW9mIE1zZ01vZGVsKSAmJlxyXG4gICAgdHlwZW9mIG1lc3NhZ2VJZCAhPT0gJ3N0cmluZycgJiZcclxuICAgIHR5cGVvZiBtZXNzYWdlSWQudG9TdHJpbmcgPT09ICdmdW5jdGlvbidcclxuICApIHtcclxuICAgIG1lc3NhZ2VJZCA9IG1lc3NhZ2VJZC50b1N0cmluZygpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbXNnID1cclxuICAgIG1lc3NhZ2VJZCBpbnN0YW5jZW9mIE1zZ01vZGVsXHJcbiAgICAgID8gbWVzc2FnZUlkXHJcbiAgICAgIDogYXdhaXQgZ2V0TWVzc2FnZUJ5SWQobWVzc2FnZUlkLnRvU3RyaW5nKCkpO1xyXG5cclxuICBhd2FpdCBNYXJrUGxheWVkKG1zZyk7XHJcbiAgcmV0dXJuIGF3YWl0IGdldE1lc3NhZ2VCeUlkKG1lc3NhZ2VJZC50b1N0cmluZygpKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydEdldENoYXQsIGFzc2VydFdpZCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgdW5peFRpbWUgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuLyoqXHJcbiAqIE11dGUgYSBjaGF0LCB5b3UgY2FuIHVzZSBkdXJhdGlvbiBvciBleHBpcmF0aW9uXHJcbiAqIEZvciBleHBpcmF0aW9uLCB1c2UgdW5peCB0aW1lc3RhbXAgKHNlY29uZHMgb25seSlcclxuICogRm9yIGR1cmF0aW9uLCB1c2Ugc2Vjb25kc1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIE11dGUgZm9yIDYwIHNlY29uZHNcclxuICogV1BQLmNoYXQubXV0ZSgnW251bWJlcl1AYy51cycsIHtkdXJhdGlvbjogNjB9KTtcclxuICpcclxuICogLy8gTXV0ZSB1dGlsIDIwMjEtMDEtMDFcclxuICogV1BQLmNoYXQubXV0ZSgnW251bWJlcl1AYy51cycsIHtleHBpcmF0aW9uOiAxNjQxMDA2MDAwfSk7XHJcbiAqXHJcbiAqIC8vIG9yIHVzaW5nIGRhdGVcclxuICogY29uc3QgZXhwaXJhdGlvbiA9IG5ldyBEYXRlKCcyMDIyLTAxLTAxIDAwOjAwOjAwJyk7XHJcbiAqIFdQUC5jaGF0Lm11dGUoJ1tudW1iZXJdQGMudXMnLCB7ZXhwaXJhdGlvbjogZXhwaXJhdGlvbn0pO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IENoYXRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtdXRlKFxyXG4gIGNoYXRJZDogc3RyaW5nIHwgV2lkLFxyXG4gIHRpbWU6IHsgZXhwaXJhdGlvbjogbnVtYmVyIHwgRGF0ZSB9IHwgeyBkdXJhdGlvbjogbnVtYmVyIH1cclxuKSB7XHJcbiAgY29uc3Qgd2lkID0gYXNzZXJ0V2lkKGNoYXRJZCk7XHJcblxyXG4gIGNvbnN0IGNoYXQgPSBhc3NlcnRHZXRDaGF0KHdpZCk7XHJcblxyXG4gIGxldCBleHBpcmF0aW9uID0gMDtcclxuXHJcbiAgaWYgKCdleHBpcmF0aW9uJyBpbiB0aW1lKSB7XHJcbiAgICBpZiAodHlwZW9mIHRpbWUuZXhwaXJhdGlvbiA9PT0gJ251bWJlcicpIHtcclxuICAgICAgZXhwaXJhdGlvbiA9IHRpbWUuZXhwaXJhdGlvbjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGV4cGlyYXRpb24gPSB0aW1lLmV4cGlyYXRpb24uZ2V0VGltZSgpIC8gMTAwMDtcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKCdkdXJhdGlvbicgaW4gdGltZSkge1xyXG4gICAgZXhwaXJhdGlvbiA9IHVuaXhUaW1lKCkgKyB0aW1lLmR1cmF0aW9uO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoJ2ludmFsaWRfdGltZV9tdXRlJywgJ0ludmFsaWQgdGltZSBmb3IgbXV0ZScsIHsgdGltZSB9KTtcclxuICB9XHJcblxyXG4gIGlmIChleHBpcmF0aW9uIDwgdW5peFRpbWUoKSkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKCduZWdhdGl2ZV90aW1lX211dGUnLCAnTmVnYXRpdmUgZHVyYXRpb24gZm9yIG11dGUnLCB7XHJcbiAgICAgIHRpbWUsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGF3YWl0IGNoYXQubXV0ZS5tdXRlKHtcclxuICAgIGV4cGlyYXRpb24sXHJcbiAgICBpc0F1dG9NdXRlZDogZmFsc2UsXHJcbiAgICBzZW5kRGV2aWNlOiB0cnVlLFxyXG4gIH0pO1xyXG4gIHJldHVybiB7XHJcbiAgICB3aWQsXHJcbiAgICBleHBpcmF0aW9uOiBjaGF0Lm11dGUuZXhwaXJhdGlvbixcclxuICAgIGlzTXV0ZWQ6IGNoYXQubXV0ZS5leHBpcmF0aW9uICE9PSAwLFxyXG4gIH07XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRGaW5kQ2hhdCwgYXNzZXJ0V2lkIH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgQ21kLCBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IGdldFNlYXJjaENvbnRleHQgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBnZXRNZXNzYWdlQnlJZCB9IGZyb20gJy4nO1xyXG5cclxuLyoqXHJcbiAqIE9wZW4gdGhlIGNoYXQgaW4gdGhlIFdoYXRzQXBwIGludGVyZmFjZSBpbiBhIHNwZWNpZmljIG1lc3NhZ2VcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAuY2hhdC5vcGVuQ2hhdEF0KCdbbnVtYmVyXUBjLnVzJywgPG1lc3NhZ2VfaWQ+KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDaGF0XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb3BlbkNoYXRBdChcclxuICBjaGF0SWQ6IHN0cmluZyB8IFdpZCxcclxuICBtZXNzYWdlSWQ6IHN0cmluZ1xyXG4pOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICBjb25zdCB3aWQgPSBhc3NlcnRXaWQoY2hhdElkKTtcclxuXHJcbiAgY29uc3QgY2hhdCA9IGF3YWl0IGFzc2VydEZpbmRDaGF0KHdpZCk7XHJcblxyXG4gIGNvbnN0IG1zZyA9IGF3YWl0IGdldE1lc3NhZ2VCeUlkKG1lc3NhZ2VJZCk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBtc2dDb250ZXh0ID0gZ2V0U2VhcmNoQ29udGV4dChjaGF0LCBtc2cpO1xyXG4gICAgcmV0dXJuIGF3YWl0IENtZC5vcGVuQ2hhdEF0KGNoYXQsIG1zZ0NvbnRleHQpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnN0IG1zZ0NvbnRleHQgPSBnZXRTZWFyY2hDb250ZXh0KGNoYXQsIG1zZy5pZC5fc2VyaWFsaXplZCk7XHJcbiAgICByZXR1cm4gYXdhaXQgQ21kLm9wZW5DaGF0QXQoeyBjaGF0LCBtc2dDb250ZXh0IH0pO1xyXG4gIH1cclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydEZpbmRDaGF0LCBhc3NlcnRXaWQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBDbWQsIFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbi8qKlxyXG4gKiBPcGVuIHRoZSBjaGF0IGluIHRoZSBXaGF0c0FwcCBpbnRlcmZhY2UgaW4gYm90dG9tIHBvc2l0aW9uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogYXdhaXQgV1BQLmNoYXQub3BlbkNoYXRCb3R0b20oJ1tudW1iZXJdQGMudXMnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDaGF0XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb3BlbkNoYXRCb3R0b20oY2hhdElkOiBzdHJpbmcgfCBXaWQpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICBjb25zdCB3aWQgPSBhc3NlcnRXaWQoY2hhdElkKTtcclxuXHJcbiAgY29uc3QgY2hhdCA9IGF3YWl0IGFzc2VydEZpbmRDaGF0KHdpZCk7XHJcblxyXG4gIHJldHVybiBhd2FpdCBDbWQub3BlbkNoYXRCb3R0b20oY2hhdCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRGaW5kQ2hhdCwgYXNzZXJ0V2lkIH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgQ21kLCBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcblxyXG4vKipcclxuICogT3BlbiB0aGUgY2hhdCBpbiB0aGUgV2hhdHNBcHAgaW50ZXJmYWNlIGZyb20gZmlyc3QgdW5yZWFkIG1lc3NhZ2VcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAuY2hhdC5vcGVuQ2hhdEZyb21VbnJlYWQoJ1tudW1iZXJdQGMudXMnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDaGF0XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb3BlbkNoYXRGcm9tVW5yZWFkKFxyXG4gIGNoYXRJZDogc3RyaW5nIHwgV2lkXHJcbik6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGNvbnN0IHdpZCA9IGFzc2VydFdpZChjaGF0SWQpO1xyXG5cclxuICBjb25zdCBjaGF0ID0gYXdhaXQgYXNzZXJ0RmluZENoYXQod2lkKTtcclxuXHJcbiAgcmV0dXJuIGF3YWl0IENtZC5vcGVuQ2hhdEZyb21VbnJlYWQoY2hhdCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRHZXRDaGF0LCBhc3NlcnRXaWQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IHNldFBpbiB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG4vKipcclxuICogUGluIGEgY2hhdFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFBpbiBhIGNoYXRcclxuICogV1BQLmNoYXQucGluKCdbbnVtYmVyXUBjLnVzJyk7XHJcbiAqXHJcbiAqIC8vIFVucGluIGEgY2hhdFxyXG4gKiBXUFAuY2hhdC5waW4oJ1tudW1iZXJdQGMudXMnLCBmYWxzZSk7XHJcbiAqIC8vIG9yXHJcbiAqIFdQUC5jaGF0LnVucGluKCdbbnVtYmVyXUBjLnVzJyk7XHJcbiAqIGBgYFxyXG4gKiBAY2F0ZWdvcnkgQ2hhdFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBpbihjaGF0SWQ6IHN0cmluZyB8IFdpZCwgcGluID0gdHJ1ZSkge1xyXG4gIGNvbnN0IHdpZCA9IGFzc2VydFdpZChjaGF0SWQpO1xyXG5cclxuICBjb25zdCBjaGF0ID0gYXNzZXJ0R2V0Q2hhdCh3aWQpO1xyXG5cclxuICBpZiAoY2hhdC5waW4gPT09IHBpbikge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICBgJHtwaW4gPyAncGluJyA6ICd1bnBpbid9X2Vycm9yYCxcclxuICAgICAgYFRoZSBjaGF0ICR7d2lkLnRvU3RyaW5nKCl9IGlzIGFscmVhZHkgJHtwaW4gPyAncGlubmVkJyA6ICd1bnBpbm5lZCd9YCxcclxuICAgICAgeyB3aWQsIHBpbjogcGluIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBhd2FpdCBzZXRQaW4oY2hhdCwgcGluKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHdpZCxcclxuICAgIHBpbjogcGluLFxyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVbnBpbiBhIGNoYXRcclxuICpcclxuICogQGFsaWFzIHBpblxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFVucGluIGEgY2hhdFxyXG4gKiBXUFAuY2hhdC51bnBpbignW251bWJlcl1AYy51cycpO1xyXG4gKlxyXG4gKiAvLyBBbGlhcyBmb3JcclxuICogV1BQLmNoYXQucGluKCdbbnVtYmVyXUBjLnVzJywgZmFsc2UpO1xyXG4gKiBgYGBcclxuICogQGNhdGVnb3J5IENoYXRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1bnBpbihjaGF0SWQ6IHN0cmluZyB8IFdpZCkge1xyXG4gIHJldHVybiBwaW4oY2hhdElkLCBmYWxzZSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRHZXRDaGF0IH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgTXNnS2V5LCBNc2dNb2RlbCwgUGluSW5DaGF0U3RvcmUgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IEFDSywgTVNHX1RZUEUsIFBJTl9TVEFURSwgU2VuZE1zZ1Jlc3VsdCB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2VudW1zJztcclxuaW1wb3J0IHsgc2VuZFBpbkluQ2hhdE1zZyB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcbmltcG9ydCB7IGdldE1lc3NhZ2VCeUlkIH0gZnJvbSAnLi9nZXRNZXNzYWdlQnlJZCc7XHJcblxyXG4vKipcclxuICogUGluIGEgbWVzc2FnZSBpbiBjaGF0XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gUGluIGEgbWVzc2FnZSBpbiBjaGF0XHJcbiAqIFdQUC5jaGF0LnBpbk1zZygndHJ1ZV9bbnVtYmVyXUBjLnVzX0FCQ0RFRicpO1xyXG4gKlxyXG4gKiAvLyBQaW4gYSBtZXNzYWdlIGluIGNoYXQgZm9yIDMwIGRheXNcclxuICogV1BQLmNoYXQucGluTXNnKCd0cnVlX1tudW1iZXJdQGMudXNfQUJDREVGJywgMjU5MjAwMCk7XHJcbiAqXHJcbiAqIC8vIFVucGluIGEgbWVzc2FnZVxyXG4gKiBXUFAuY2hhdC5waW5Nc2coJ3RydWVfW251bWJlcl1AYy51c19BQkNERUYnLCBmYWxzZSk7XHJcbiAqIC8vIG9yXHJcbiAqIFdQUC5jaGF0LnVucGluTXNnKCd0cnVlX1tudW1iZXJdQGMudXNfQUJDREVGJyk7XHJcbiAqIGBgYFxyXG4gKiBAY2F0ZWdvcnkgQ2hhdFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBpbk1zZyhcclxuICBtc2dJZDogc3RyaW5nIHwgTXNnS2V5LFxyXG4gIHBpbiA9IHRydWUsXHJcbiAgc2Vjb25kcyA9IDYwNDgwMCAvLyBkZWZhdWx0IDcgZGF5c1xyXG4pOiBQcm9taXNlPHsgbWVzc2FnZTogTXNnTW9kZWw7IHBpbm5lZDogYm9vbGVhbjsgcmVzdWx0OiBTZW5kTXNnUmVzdWx0IH0+IHtcclxuICBjb25zdCBtc2cgPSBhd2FpdCBnZXRNZXNzYWdlQnlJZChtc2dJZCk7XHJcbiAgY29uc3QgY2hhdCA9IGFzc2VydEdldENoYXQobXNnLmlkLnJlbW90ZSk7XHJcbiAgY29uc3QgcGlubmVkID0gUGluSW5DaGF0U3RvcmUuZ2V0QnlQYXJlbnRNc2dLZXkobXNnLmlkKTtcclxuXHJcbiAgaWYgKGNoYXQuaXNOZXdzbGV0dGVyKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgIGAke3BpbiA/ICdwaW4nIDogJ3VucGluJ31fZXJyb3JgLFxyXG4gICAgICBgVGhlIG1zZyAke21zZ0lkLnRvU3RyaW5nKCl9IHdhcyBub3QgcGlubmVkLiBOb3QgY2FuIHBpbiBpbiBOZXdzbGV0dGVyYCxcclxuICAgICAgeyBtc2dJZCwgcGluOiBwaW4gfVxyXG4gICAgKTtcclxuICB9IGVsc2UgaWYgKGNoYXQuaXNHcm91cCAmJiAhY2hhdC5ncm91cE1ldGFkYXRhPy5wYXJ0aWNpcGFudHM/LmlBbU1lbWJlcigpKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgIGAke3BpbiA/ICdwaW4nIDogJ3VucGluJ31fZXJyb3JgLFxyXG4gICAgICBgWW91IG5vdCBhIG1lbWJlciBvZiBncm91cCwgdG8gcGluIG1zZyAke21zZ0lkLnRvU3RyaW5nKCl9YCxcclxuICAgICAgeyBtc2dJZCwgcGluOiBwaW4gfVxyXG4gICAgKTtcclxuICB9IGVsc2UgaWYgKFxyXG4gICAgY2hhdC5pc0dyb3VwICYmXHJcbiAgICAoY2hhdC5ncm91cE1ldGFkYXRhPy5yZXN0cmljdCB8fCBjaGF0Lmdyb3VwTWV0YWRhdGE/LmFubm91bmNlKSAmJlxyXG4gICAgIWNoYXQuZ3JvdXBNZXRhZGF0YT8ucGFydGljaXBhbnRzLmlBbUFkbWluKClcclxuICApIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgYCR7cGluID8gJ3BpbicgOiAndW5waW4nfV9lcnJvcmAsXHJcbiAgICAgIGBZb3Ugbm90IGhhdmUgcGVybWlzc2lvbiB0byBwaW4gbXNnICR7bXNnSWQudG9TdHJpbmcoKX1gLFxyXG4gICAgICB7IG1zZ0lkLCBwaW46IHBpbiB9XHJcbiAgICApO1xyXG4gIH0gZWxzZSBpZiAoXHJcbiAgICBtc2cuaXNOb3RpZmljYXRpb24gfHxcclxuICAgIG1zZy5pc1ZpZXdPbmNlIHx8XHJcbiAgICBtc2cudHlwZSA9PT0gTVNHX1RZUEUuUkVWT0tFRCB8fFxyXG4gICAgKG1zZz8uYWNrIHx8IDApIDwgQUNLLlNFTlRcclxuICApIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgYCR7cGluID8gJ3BpbicgOiAndW5waW4nfV9lcnJvcmAsXHJcbiAgICAgIGBUaGUgbXNnICR7bXNnSWQudG9TdHJpbmcoKX0gbm90IGNhbiBiZSBwaW5uZWRgLFxyXG4gICAgICB7IG1zZ0lkLCBwaW46IHBpbiB9XHJcbiAgICApO1xyXG4gIH0gZWxzZSBpZiAoXHJcbiAgICBwaW5uZWQgJiZcclxuICAgIHBpbm5lZC5waW5UeXBlID09PSAocGluID8gUElOX1NUQVRFLlBJTiA6IFBJTl9TVEFURS5VTlBJTilcclxuICApIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgYCR7cGluID8gJ3BpbicgOiAndW5waW4nfV9lcnJvcmAsXHJcbiAgICAgIGBUaGUgbXNnICR7bXNnSWQudG9TdHJpbmcoKX0gaXMgYWxyZWFkeSAke3BpbiA/ICdwaW5uZWQnIDogJ3VucGlubmVkJ31gLFxyXG4gICAgICB7IG1zZ0lkLCBwaW46IHBpbiB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZFBpbkluQ2hhdE1zZyhcclxuICAgIG1zZyxcclxuICAgIHBpbiA9PSB0cnVlID8gUElOX1NUQVRFLlBJTiA6IFBJTl9TVEFURS5VTlBJTixcclxuICAgIHBpbiA/IHNlY29uZHMgOiB1bmRlZmluZWRcclxuICApO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbWVzc2FnZTogbXNnLFxyXG4gICAgcGlubmVkOiByZXN1bHQubWVzc2FnZVNlbmRSZXN1bHQgPT09IFNlbmRNc2dSZXN1bHQuT0sgPyBwaW4gOiAhcGluLFxyXG4gICAgcmVzdWx0OiByZXN1bHQubWVzc2FnZVNlbmRSZXN1bHQsXHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFVucGluIGEgbWVzc2FnZSBpbiBjaGF0XHJcbiAqXHJcbiAqIEBhbGlhcyBwaW5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyBVbnBpbiBhIG1lc3NhZ2VcclxuICogV1BQLmNoYXQudW5waW5Nc2coJ3RydWVfW251bWJlcl1AYy51c19BQkNERUYnKTtcclxuICpcclxuICogLy8gQWxpYXMgZm9yXHJcbiAqIFdQUC5jaGF0LnBpbk1zZygndHJ1ZV9bbnVtYmVyXUBjLnVzX0FCQ0RFRicsIGZhbHNlKTtcclxuICogYGBgXHJcbiAqIEBjYXRlZ29yeSBDaGF0XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5waW5Nc2cobXNnSWQ6IHN0cmluZyB8IE1zZ0tleSkge1xyXG4gIHJldHVybiBwaW5Nc2cobXNnSWQsIGZhbHNlKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCBEZWJ1ZyBmcm9tICdkZWJ1Zyc7XHJcblxyXG5pbXBvcnQgdHlwZSB7IEF1ZGlvTWVzc2FnZU9wdGlvbnMgfSBmcm9tICcuL3NlbmRGaWxlTWVzc2FnZSc7XHJcblxyXG5jb25zdCBkZWJ1ZyA9IERlYnVnKCdXQS1KUzpjaGF0OnNlbmRGaWxlTWVzc2FnZScpO1xyXG5cclxuLyoqXHJcbiAqIFByZXBhcmUgd2F2ZWZvcm0gZm9ybSBtZXNzYWdlIGF1ZGlvIGZpbGVcclxuICpcclxuICogQGNhdGVnb3J5IE1lc3NhZ2VcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJlcGFyZUF1ZGlvV2F2ZWZvcm0oXHJcbiAgb3B0aW9uczogQXVkaW9NZXNzYWdlT3B0aW9ucyxcclxuICBmaWxlOiBGaWxlXHJcbik6IFByb21pc2U8XHJcbiAgfCB1bmRlZmluZWRcclxuICB8IHtcclxuICAgICAgZHVyYXRpb246IG51bWJlcjtcclxuICAgICAgd2F2ZWZvcm06IFVpbnQ4QXJyYXk7XHJcbiAgICB9XHJcbj4ge1xyXG4gIGlmICghb3B0aW9ucy5pc1B0dCB8fCAhb3B0aW9ucy53YXZlZm9ybSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHNlZSBodHRwczovL2Nzcy10cmlja3MuY29tL21ha2luZy1hbi1hdWRpby13YXZlZm9ybS12aXN1YWxpemVyLXdpdGgtdmFuaWxsYS1qYXZhc2NyaXB0L1xyXG4gICAqL1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBhdWRpb0RhdGEgPSBhd2FpdCBmaWxlLmFycmF5QnVmZmVyKCk7XHJcbiAgICBjb25zdCBhdWRpb0NvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XHJcbiAgICBjb25zdCBhdWRpb0J1ZmZlciA9IGF3YWl0IGF1ZGlvQ29udGV4dC5kZWNvZGVBdWRpb0RhdGEoYXVkaW9EYXRhKTtcclxuXHJcbiAgICBjb25zdCByYXdEYXRhID0gYXVkaW9CdWZmZXIuZ2V0Q2hhbm5lbERhdGEoMCk7IC8vIFdlIG9ubHkgbmVlZCB0byB3b3JrIHdpdGggb25lIGNoYW5uZWwgb2YgZGF0YVxyXG4gICAgY29uc3Qgc2FtcGxlcyA9IDY0OyAvLyBOdW1iZXIgb2Ygc2FtcGxlcyB3ZSB3YW50IHRvIGhhdmUgaW4gb3VyIGZpbmFsIGRhdGEgc2V0XHJcbiAgICBjb25zdCBibG9ja1NpemUgPSBNYXRoLmZsb29yKHJhd0RhdGEubGVuZ3RoIC8gc2FtcGxlcyk7IC8vIHRoZSBudW1iZXIgb2Ygc2FtcGxlcyBpbiBlYWNoIHN1YmRpdmlzaW9uXHJcbiAgICBjb25zdCBmaWx0ZXJlZERhdGEgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2FtcGxlczsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGJsb2NrU3RhcnQgPSBibG9ja1NpemUgKiBpOyAvLyB0aGUgbG9jYXRpb24gb2YgdGhlIGZpcnN0IHNhbXBsZSBpbiB0aGUgYmxvY2tcclxuICAgICAgbGV0IHN1bSA9IDA7XHJcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYmxvY2tTaXplOyBqKyspIHtcclxuICAgICAgICBzdW0gPSBzdW0gKyBNYXRoLmFicyhyYXdEYXRhW2Jsb2NrU3RhcnQgKyBqXSk7IC8vIGZpbmQgdGhlIHN1bSBvZiBhbGwgdGhlIHNhbXBsZXMgaW4gdGhlIGJsb2NrXHJcbiAgICAgIH1cclxuICAgICAgZmlsdGVyZWREYXRhLnB1c2goc3VtIC8gYmxvY2tTaXplKTsgLy8gZGl2aWRlIHRoZSBzdW0gYnkgdGhlIGJsb2NrIHNpemUgdG8gZ2V0IHRoZSBhdmVyYWdlXHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGhpcyBndWFyYW50ZWVzIHRoYXQgdGhlIGxhcmdlc3QgZGF0YSBwb2ludCB3aWxsIGJlIHNldCB0byAxLCBhbmQgdGhlIHJlc3Qgb2YgdGhlIGRhdGEgd2lsbCBzY2FsZSBwcm9wb3J0aW9uYWxseS5cclxuICAgIGNvbnN0IG11bHRpcGxpZXIgPSBNYXRoLnBvdyhNYXRoLm1heCguLi5maWx0ZXJlZERhdGEpLCAtMSk7XHJcbiAgICBjb25zdCBub3JtYWxpemVkRGF0YSA9IGZpbHRlcmVkRGF0YS5tYXAoKG4pID0+IG4gKiBtdWx0aXBsaWVyKTtcclxuXHJcbiAgICAvLyBHZW5lcmF0ZSB3YXZlZm9ybSBsaWtlIFdoYXRzQXBwXHJcbiAgICBjb25zdCB3YXZlZm9ybSA9IG5ldyBVaW50OEFycmF5KFxyXG4gICAgICBub3JtYWxpemVkRGF0YS5tYXAoKG4pID0+IE1hdGguZmxvb3IoMTAwICogbikpXHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGR1cmF0aW9uOiBNYXRoLmZsb29yKGF1ZGlvQnVmZmVyLmR1cmF0aW9uKSxcclxuICAgICAgd2F2ZWZvcm0sXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBkZWJ1ZygnRmFpbGVkIHRvIGdlbmVyYXRlIHdhdmVmb3JtJywgZXJyb3IpO1xyXG4gIH1cclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7XHJcbiAgZmV0Y2hSZW1vdGVMaW5rUHJldmlld0RhdGEsXHJcbiAgZ2VuZXJhdGVUaHVtYm5haWxMaW5rUHJldmlld0RhdGEsXHJcbn0gZnJvbSAnLi4vLi4vdXRpbC9saW5rUHJldmlldyc7XHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IHdyYXBNb2R1bGVGdW5jdGlvbiB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7XHJcbiAgZmV0Y2hMaW5rUHJldmlldyxcclxuICBmaW5kRmlyc3RXZWJMaW5rLFxyXG4gIGdlbk1pbmltYWxMaW5rUHJldmlldyxcclxuICBnZXRBQlByb3BDb25maWdWYWx1ZSxcclxufSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBSYXdNZXNzYWdlIH0gZnJvbSAnLi4nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMaW5rUHJldmlld09wdGlvbnMge1xyXG4gIC8qKlxyXG4gICAqIFNlbmQgdGV4dCBtZXNzYWdlIHdpdGggbGluayBwcmV2aWV3XHJcbiAgICpcclxuICAgKiBAZGVmYXVsdCB0cnVlXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGBgYGphdmFzY3JpcHRcclxuICAgKiAvLyBBdXRvbWF0aWMgZGV0ZWN0aW9uXHJcbiAgICogV1BQLmNoYXQuc2VuZFRleHRNZXNzYWdlKCdbbnVtYmVyXUBjLnVzJywgJ1NlZSBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PXYxUEJwdFNESWg4Jyk7XHJcbiAgICpcclxuICAgKiAvLyBPdmVycmlkaW5nIHRoZSB0aXRsZSBhbmQgZGVzY3JpcHRpb25cclxuICAgKiBXUFAuY2hhdC5zZW5kVGV4dE1lc3NhZ2UoJ1tudW1iZXJdQGMudXMnLCAnU2VlIGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9djFQQnB0U0RJaDgnLCB7XHJcbiAgICogICBsaW5rUHJldmlldzoge1xyXG4gICAqICAgICB0aXRsZTogJ0Fub3RoZXIgdGV4dCcsXHJcbiAgICogICAgIGRlc2NyaXB0aW9uOiAnQW5vdGhlciBkZXNjcmlwdGlvbidcclxuICAgKiAgIH1cclxuICAgKiB9KTtcclxuICAgKiBgYGBcclxuICAgKi9cclxuICBsaW5rUHJldmlldz86XHJcbiAgICB8IGJvb2xlYW5cclxuICAgIHwge1xyXG4gICAgICAgIHRpdGxlPzogc3RyaW5nO1xyXG4gICAgICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xyXG4gICAgICAgIGNhbm9uaWNhbFVybD86IHN0cmluZztcclxuICAgICAgICBtYXRjaGVkVGV4dD86IHN0cmluZztcclxuICAgICAgICByaWNoUHJldmlld1R5cGU/OiBudW1iZXI7XHJcbiAgICAgICAgdGh1bWJuYWlsPzogc3RyaW5nO1xyXG4gICAgICAgIGRvTm90UGxheUlubGluZTogYm9vbGVhbjtcclxuICAgICAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFByZXBhcmUgYSBtZXNzYWdlIGZvciBsaW5rIHByZXZpZXdcclxuICpcclxuICogQGNhdGVnb3J5IE1lc3NhZ2VcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJlcGFyZUxpbmtQcmV2aWV3PFQgZXh0ZW5kcyBSYXdNZXNzYWdlPihcclxuICBtZXNzYWdlOiBULFxyXG4gIG9wdGlvbnM6IExpbmtQcmV2aWV3T3B0aW9uc1xyXG4pOiBQcm9taXNlPFQ+IHtcclxuICBpZiAoIW9wdGlvbnMubGlua1ByZXZpZXcpIHtcclxuICAgIHJldHVybiBtZXNzYWdlIGFzIGFueTtcclxuICB9XHJcblxyXG4gIGlmIChvcHRpb25zLmxpbmtQcmV2aWV3KSB7XHJcbiAgICBjb25zdCBvdmVycmlkZSA9XHJcbiAgICAgIHR5cGVvZiBvcHRpb25zLmxpbmtQcmV2aWV3ID09PSAnb2JqZWN0JyA/IG9wdGlvbnMubGlua1ByZXZpZXcgOiB7fTtcclxuXHJcbiAgICBjb25zdCB0ZXh0ID0gbWVzc2FnZS50eXBlID09PSAnY2hhdCcgPyBtZXNzYWdlLmJvZHkgOiAnJztcclxuXHJcbiAgICBpZiAodGV4dCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGxpbmsgPSBmaW5kRmlyc3RXZWJMaW5rKHRleHQpO1xyXG4gICAgICAgIGlmIChsaW5rKSB7XHJcbiAgICAgICAgICBjb25zdCBwcmV2aWV3ID0gYXdhaXQgZmV0Y2hMaW5rUHJldmlldyhsaW5rKTtcclxuICAgICAgICAgIGlmIChwcmV2aWV3Py5kYXRhKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMubGlua1ByZXZpZXcgPSB7IC4uLnByZXZpZXcuZGF0YSwgLi4ub3ZlcnJpZGUgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKHR5cGVvZiBvcHRpb25zLmxpbmtQcmV2aWV3ID09PSAnb2JqZWN0Jykge1xyXG4gICAgbWVzc2FnZS5zdWJ0eXBlID0gJ3VybCc7XHJcbiAgICBtZXNzYWdlID0ge1xyXG4gICAgICAuLi5tZXNzYWdlLFxyXG4gICAgICAuLi5vcHRpb25zLmxpbmtQcmV2aWV3LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHJldHVybiBtZXNzYWdlO1xyXG59XHJcblxyXG53ZWJwYWNrLm9uRnVsbFJlYWR5KCgpID0+IHtcclxuICB3cmFwTW9kdWxlRnVuY3Rpb24oZ2V0QUJQcm9wQ29uZmlnVmFsdWUsIChmdW5jLCAuLi5hcmdzKSA9PiB7XHJcbiAgICBjb25zdCBba2V5XSA9IGFyZ3M7XHJcbiAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICBjYXNlICdsaW5rX3ByZXZpZXdfd2FpdF90aW1lJzpcclxuICAgICAgICByZXR1cm4gNztcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jKC4uLmFyZ3MpO1xyXG4gIH0pO1xyXG5cclxuICB3cmFwTW9kdWxlRnVuY3Rpb24oZ2VuTWluaW1hbExpbmtQcmV2aWV3LCBhc3luYyAoZnVuYywgLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgW3VyaV0gPSBhcmdzO1xyXG5cclxuICAgIGNvbnN0IHVybCA9IHR5cGVvZiB1cmkgPT09ICdzdHJpbmcnID8gdXJpIDogdXJpLnVybDtcclxuXHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXN5bmMtcHJvbWlzZS1leGVjdXRvclxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcHJldmlld0RhdGEgPSBhd2FpdCBmZXRjaFJlbW90ZUxpbmtQcmV2aWV3RGF0YSh1cmwpO1xyXG5cclxuICAgICAgICBpZiAoIXByZXZpZXdEYXRhKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHByZXZpZXcgbm90IGZvdW5kIGZvciAke3VybH1gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHsgaW1hZ2VVcmwsIC4uLmRhdGEgfSA9IHByZXZpZXdEYXRhO1xyXG5cclxuICAgICAgICBsZXQgdGh1bWJuYWlsRGF0YTogYW55ID0ge307XHJcbiAgICAgICAgaWYgKGltYWdlVXJsKSB7XHJcbiAgICAgICAgICB0aHVtYm5haWxEYXRhID0gYXdhaXQgZ2VuZXJhdGVUaHVtYm5haWxMaW5rUHJldmlld0RhdGEoXHJcbiAgICAgICAgICAgIGltYWdlVXJsXHJcbiAgICAgICAgICApLmNhdGNoKCgpID0+IG51bGwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIC4uLmRhdGEsXHJcbiAgICAgICAgICAgIC4uLnRodW1ibmFpbERhdGEsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXNvbHZlKGF3YWl0IGZ1bmMoLi4uYXJncykpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0ICogYXMgd2VicGFjayBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHtcclxuICBUZW1wbGF0ZUJ1dHRvbkNvbGxlY3Rpb24sXHJcbiAgVGVtcGxhdGVCdXR0b25Nb2RlbCxcclxuICB3ZWJzb2NrZXQsXHJcbn0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBEUk9QX0FUVFIgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9jb250YW50cyc7XHJcbmltcG9ydCB7IHdyYXBNb2R1bGVGdW5jdGlvbiB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7XHJcbiAgY3JlYXRlRmFub3V0TXNnU3RhbnphLFxyXG4gIGNyZWF0ZU1zZ1Byb3RvYnVmLFxyXG4gIGVuY29kZU1heWJlTWVkaWFUeXBlLFxyXG4gIGdldEFCUHJvcENvbmZpZ1ZhbHVlLFxyXG4gIG1lZGlhVHlwZUZyb21Qcm90b2J1ZixcclxuICB0eXBlQXR0cmlidXRlRnJvbVByb3RvYnVmLFxyXG59IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcbmltcG9ydCB7IFJhd01lc3NhZ2UgfSBmcm9tICcuLic7XHJcbmltcG9ydCB7IGVuY3J5cHRBbmRQYXJzZXJNc2dCdXR0b25zIH0gZnJvbSAnLi9idXR0b25zUGFyc2VyJztcclxuXHJcbmV4cG9ydCB0eXBlIE1lc3NhZ2VCdXR0b25zVHlwZXMgPVxyXG4gIHwge1xyXG4gICAgICBpZDogc3RyaW5nO1xyXG4gICAgICB0ZXh0OiBzdHJpbmc7XHJcbiAgICB9XHJcbiAgfCB7XHJcbiAgICAgIHBob25lTnVtYmVyOiBzdHJpbmc7XHJcbiAgICAgIHRleHQ6IHN0cmluZztcclxuICAgIH1cclxuICB8IHtcclxuICAgICAgdXJsOiBzdHJpbmc7XHJcbiAgICAgIHRleHQ6IHN0cmluZztcclxuICAgIH1cclxuICB8IHtcclxuICAgICAgY29kZTogc3RyaW5nO1xyXG4gICAgICB0ZXh0OiBzdHJpbmc7XHJcbiAgICB9O1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlQnV0dG9uc09wdGlvbnMge1xyXG4gIC8qKlxyXG4gICAqIExpc3Qgb2YgYnV0dG9ucywgd2l0aCBhdCBsZWFzdCAxIG9wdGlvbiBhbmQgYSBtYXhpbXVtIG9mIDNcclxuICAgKi9cclxuICBidXR0b25zPzogQXJyYXk8TWVzc2FnZUJ1dHRvbnNUeXBlcz47XHJcbiAgLyoqXHJcbiAgICogVGl0bGUgZm9yIGJ1dHRvbnMsIG9ubHkgZm9yIHRleHQgbWVzc2FnZVxyXG4gICAqL1xyXG4gIHRpdGxlPzogc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIEZvb3RlciB0ZXh0IGZvciBidXR0b25zXHJcbiAgICovXHJcbiAgZm9vdGVyPzogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogUHJlcGFyZSBhIG1lc3NhZ2UgZm9yIGJ1dHRvbnNcclxuICpcclxuICogQGNhdGVnb3J5IE1lc3NhZ2VcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVNZXNzYWdlQnV0dG9uczxUIGV4dGVuZHMgUmF3TWVzc2FnZT4oXHJcbiAgbWVzc2FnZTogVCxcclxuICBvcHRpb25zOiBNZXNzYWdlQnV0dG9uc09wdGlvbnNcclxuKTogVCB7XHJcbiAgaWYgKCFvcHRpb25zLmJ1dHRvbnMpIHtcclxuICAgIHJldHVybiBtZXNzYWdlIGFzIGFueTtcclxuICB9XHJcblxyXG4gIGlmICghQXJyYXkuaXNBcnJheShvcHRpb25zLmJ1dHRvbnMpKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoJ2J1dHRvbnNfbm90X2FfYXJyYXknLCAnQnV0dG9ucyBvcHRpb25zIGlzIG5vdCBhIGFycmF5Jyk7XHJcbiAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgIT09ICdjaGF0JyAmJiBvcHRpb25zLmJ1dHRvbnMubGVuZ3RoID4gMikge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnbm90X2Fsb3dlZF9tb3JlX3RoZW5fdGhyZWVfYnV0dG9ucycsXHJcbiAgICAgICdOb3QgYWxsb3dlZCBtb3JlIHRoZW4gdGhyZWUgYnV0dG9ucyBpbiBmaWxlIG1lc3NhZ2VzJ1xyXG4gICAgKTtcclxuICB9IGVsc2UgaWYgKG9wdGlvbnMuYnV0dG9ucy5sZW5ndGggPT09IDAgfHwgb3B0aW9ucy5idXR0b25zLmxlbmd0aCA+IDMpIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ2J1dHRvbnNfbXVzdF9iZXR3ZWVuXzFfYW5kXzNfb3B0aW9ucycsXHJcbiAgICAgICdCdXR0b25zIG9wdGlvbnMgbXVzdCBoYXZlIGJldHdlZW4gMSBhbmQgMyBvcHRpb25zJ1xyXG4gICAgKTtcclxuICB9IGVsc2UgaWYgKFxyXG4gICAgb3B0aW9ucy5idXR0b25zLmZpbmQoKGk6IGFueSkgPT4gaS5waG9uZU51bWJlciB8fCBpLnVybCkgJiZcclxuICAgIG9wdGlvbnMuYnV0dG9ucy5maW5kKChpOiBhbnkpID0+IGkuaWQgJiYgaS50ZXh0KVxyXG4gICkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAncmVwbHlfYW5kX2N0YV9idG5fbm90X2FsbG93ZWQnLFxyXG4gICAgICAnSXQgaXMgbm90IHBvc3NpYmxlIHRvIHNlbmQgcmVwbHkgYnV0dG9ucyBhbmQgYWN0aW9uIGJ1dHRvbnMgdG9nZXRoZXJCdXR0b25zIG9wdGlvbnMgbXVzdCBoYXZlIGJldHdlZW4gMSBhbmQgMyBvcHRpb25zJ1xyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIG1lc3NhZ2UudGl0bGUgPSBvcHRpb25zLnRpdGxlO1xyXG4gIG1lc3NhZ2UuZm9vdGVyID0gb3B0aW9ucy5mb290ZXI7XHJcblxyXG4gIG1lc3NhZ2UuaW50ZXJhY3RpdmVNZXNzYWdlID0ge1xyXG4gICAgaGVhZGVyOiB7XHJcbiAgICAgIHRpdGxlOiBvcHRpb25zLnRpdGxlIHx8ICcgJyxcclxuICAgICAgaGFzTWVkaWFBdHRhY2htZW50OiBmYWxzZSxcclxuICAgIH0sXHJcbiAgICBib2R5OiB7XHJcbiAgICAgIHRleHQ6IG1lc3NhZ2UuYm9keSB8fCBtZXNzYWdlLmNhcHRpb24gfHwgJyAnLFxyXG4gICAgfSxcclxuICAgIGZvb3Rlcjoge1xyXG4gICAgICB0ZXh0OiBvcHRpb25zLmZvb3RlciB8fCAnICcsXHJcbiAgICB9LFxyXG4gICAgbmF0aXZlRmxvd01lc3NhZ2U6IHtcclxuICAgICAgYnV0dG9uczogb3B0aW9ucy5idXR0b25zLm1hcCgoYnV0dG9uLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIGlmICgncGhvbmVOdW1iZXInIGluIGJ1dHRvbikge1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbmFtZTogJ2N0YV9jYWxsJyxcclxuICAgICAgICAgICAgYnV0dG9uUGFyYW1zSnNvbjogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgIGRpc3BsYXlfdGV4dDogYnV0dG9uLnRleHQsXHJcbiAgICAgICAgICAgICAgcGhvbmVfbnVtYmVyOiBidXR0b24ucGhvbmVOdW1iZXIsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCd1cmwnIGluIGJ1dHRvbikge1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbmFtZTogJ2N0YV91cmwnLFxyXG4gICAgICAgICAgICBidXR0b25QYXJhbXNKc29uOiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgZGlzcGxheV90ZXh0OiBidXR0b24udGV4dCxcclxuICAgICAgICAgICAgICB1cmw6IGJ1dHRvbi51cmwsXHJcbiAgICAgICAgICAgICAgbWVyY2hhbnRfdXJsOiBidXR0b24udXJsLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgnY29kZScgaW4gYnV0dG9uKSB7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBuYW1lOiAnY3RhX2NvcHknLFxyXG4gICAgICAgICAgICBidXR0b25QYXJhbXNKc29uOiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgZGlzcGxheV90ZXh0OiBidXR0b24udGV4dCxcclxuICAgICAgICAgICAgICBjb3B5X2NvZGU6IGJ1dHRvbi5jb2RlLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgncmF3JyBpbiBidXR0b24pIHtcclxuICAgICAgICAgIHJldHVybiBidXR0b24ucmF3O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgbmFtZTogJ3F1aWNrX3JlcGx5JyxcclxuICAgICAgICAgIGJ1dHRvblBhcmFtc0pzb246IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgZGlzcGxheV90ZXh0OiBidXR0b24udGV4dCxcclxuICAgICAgICAgICAgaWQ6IGJ1dHRvbi5pZCB8fCBgJHtpbmRleH1gLFxyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgfTtcclxuICAgICAgfSksXHJcbiAgICB9LFxyXG4gIH07XHJcblxyXG4gIC8vIFRoaXMgY29kZSBpcyBvbmx5IGZvciBzZWUgYnV0dG9ucyBvbiBzZW5kZWQgZGV2aWNlXHJcbiAgbWVzc2FnZS5pc0Zyb21UZW1wbGF0ZSA9IHRydWU7XHJcbiAgbWVzc2FnZS5idXR0b25zID0gbmV3IFRlbXBsYXRlQnV0dG9uQ29sbGVjdGlvbigpO1xyXG4gIG1lc3NhZ2UuaHlkcmF0ZWRCdXR0b25zID0gb3B0aW9ucy5idXR0b25zLm1hcCgoYnV0dG9uLCBpbmRleCkgPT4ge1xyXG4gICAgaWYgKCdwaG9uZU51bWJlcicgaW4gYnV0dG9uKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgIGNhbGxCdXR0b246IHtcclxuICAgICAgICAgIGRpc3BsYXlUZXh0OiBidXR0b24udGV4dCxcclxuICAgICAgICAgIHBob25lTnVtYmVyOiBidXR0b24ucGhvbmVOdW1iZXIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIGlmICgndXJsJyBpbiBidXR0b24pIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgdXJsQnV0dG9uOiB7XHJcbiAgICAgICAgICBkaXNwbGF5VGV4dDogYnV0dG9uLnRleHQsXHJcbiAgICAgICAgICB1cmw6IGJ1dHRvbi51cmwsXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIGlmICgnY29kZScgaW4gYnV0dG9uKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgIHVybEJ1dHRvbjoge1xyXG4gICAgICAgICAgZGlzcGxheVRleHQ6IGJ1dHRvbi50ZXh0LFxyXG4gICAgICAgICAgdXJsOiBgaHR0cHM6Ly93d3cud2hhdHNhcHAuY29tL290cC9jb2RlLz9vdHBfdHlwZT1DT1BZX0NPREUmY29kZT1vdHAke2J1dHRvbi5jb2RlfWAsXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgIHF1aWNrUmVwbHlCdXR0b246IHtcclxuICAgICAgICBkaXNwbGF5VGV4dDogYnV0dG9uLnRleHQsXHJcbiAgICAgICAgaWQ6IGJ1dHRvbi5pZCB8fCBgJHtpbmRleH1gLFxyXG4gICAgICB9LFxyXG4gICAgfTtcclxuICB9KTtcclxuXHJcbiAgbWVzc2FnZS5idXR0b25zLmFkZChcclxuICAgIG1lc3NhZ2UuaHlkcmF0ZWRCdXR0b25zLm1hcCgoZSwgdDogbnVtYmVyKSA9PiB7XHJcbiAgICAgIGNvbnN0IGkgPSBgJHtudWxsICE9IGUuaW5kZXggPyBlLmluZGV4IDogdH1gO1xyXG5cclxuICAgICAgaWYgKGUudXJsQnV0dG9uKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUZW1wbGF0ZUJ1dHRvbk1vZGVsKHtcclxuICAgICAgICAgIGlkOiBpLFxyXG4gICAgICAgICAgZGlzcGxheVRleHQ6IGUudXJsQnV0dG9uPy5kaXNwbGF5VGV4dCxcclxuICAgICAgICAgIHVybDogZS51cmxCdXR0b24/LnVybCxcclxuICAgICAgICAgIHN1YnR5cGU6ICd1cmwnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZS5jYWxsQnV0dG9uKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUZW1wbGF0ZUJ1dHRvbk1vZGVsKHtcclxuICAgICAgICAgIGlkOiBpLFxyXG4gICAgICAgICAgZGlzcGxheVRleHQ6IGUuY2FsbEJ1dHRvbi5kaXNwbGF5VGV4dCxcclxuICAgICAgICAgIHBob25lTnVtYmVyOiBlLmNhbGxCdXR0b24ucGhvbmVOdW1iZXIsXHJcbiAgICAgICAgICBzdWJ0eXBlOiAnY2FsbCcsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBuZXcgVGVtcGxhdGVCdXR0b25Nb2RlbCh7XHJcbiAgICAgICAgaWQ6IGksXHJcbiAgICAgICAgZGlzcGxheVRleHQ6IGUucXVpY2tSZXBseUJ1dHRvbj8uZGlzcGxheVRleHQsXHJcbiAgICAgICAgc2VsZWN0aW9uSWQ6IGUucXVpY2tSZXBseUJ1dHRvbj8uaWQsXHJcbiAgICAgICAgc3VidHlwZTogJ3F1aWNrX3JlcGx5JyxcclxuICAgICAgfSk7XHJcbiAgICB9KVxyXG4gICk7XHJcblxyXG4gIHJldHVybiBtZXNzYWdlO1xyXG59XHJcblxyXG53ZWJwYWNrLm9uRnVsbFJlYWR5KCgpID0+IHtcclxuICB3cmFwTW9kdWxlRnVuY3Rpb24oY3JlYXRlTXNnUHJvdG9idWYsIChmdW5jLCAuLi5hcmdzKSA9PiB7XHJcbiAgICBjb25zdCBbbWVzc2FnZV0gPSBhcmdzO1xyXG4gICAgY29uc3QgciA9IGZ1bmMoLi4uYXJncyk7XHJcbiAgICBpZiAobWVzc2FnZS5pbnRlcmFjdGl2ZU1lc3NhZ2U/Lm5hdGl2ZUZsb3dNZXNzYWdlPy5idXR0b25zICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgY29uc3QgbWVkaWFQYXJ0ID0gW1xyXG4gICAgICAgICdkb2N1bWVudE1lc3NhZ2UnLFxyXG4gICAgICAgICdkb2N1bWVudFdpdGhDYXB0aW9uTWVzc2FnZScsXHJcbiAgICAgICAgJ2ltYWdlTWVzc2FnZScsXHJcbiAgICAgICAgJ2xvY2F0aW9uTWVzc2FnZScsXHJcbiAgICAgICAgJ3ZpZGVvTWVzc2FnZScsXHJcbiAgICAgIF07XHJcbiAgICAgIGZvciAobGV0IHBhcnQgb2YgbWVkaWFQYXJ0KSB7XHJcbiAgICAgICAgaWYgKHBhcnQgaW4gcikge1xyXG4gICAgICAgICAgY29uc3QgcGFydE5hbWUgPSBwYXJ0O1xyXG4gICAgICAgICAgaWYgKHBhcnQgPT09ICdkb2N1bWVudFdpdGhDYXB0aW9uTWVzc2FnZScpIHBhcnQgPSAnZG9jdW1lbnRNZXNzYWdlJztcclxuXHJcbiAgICAgICAgICBtZXNzYWdlLmludGVyYWN0aXZlTWVzc2FnZS5oZWFkZXIgPSB7XHJcbiAgICAgICAgICAgIC4uLm1lc3NhZ2UuaW50ZXJhY3RpdmVNZXNzYWdlLmhlYWRlcixcclxuICAgICAgICAgICAgW2Ake3BhcnR9YF06IHJbcGFydE5hbWVdPy5tZXNzYWdlPy5kb2N1bWVudE1lc3NhZ2UgfHwgcltwYXJ0TmFtZV0sXHJcbiAgICAgICAgICAgIGhhc01lZGlhQXR0YWNobWVudDogdHJ1ZSxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBkZWxldGUgcltwYXJ0TmFtZV07XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHR5cGVvZiByLmV4dGVuZGVkVGV4dE1lc3NhZ2UgIT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgIGRlbGV0ZSByLmV4dGVuZGVkVGV4dE1lc3NhZ2U7XHJcbiAgICAgIGlmICh0eXBlb2Ygci5jb252ZXJzYXRpb24gIT09ICd1bmRlZmluZWQnKSBkZWxldGUgci5jb252ZXJzYXRpb247XHJcbiAgICAgIHIudmlld09uY2VNZXNzYWdlID0ge1xyXG4gICAgICAgIG1lc3NhZ2U6IHtcclxuICAgICAgICAgIGludGVyYWN0aXZlTWVzc2FnZTogbWVzc2FnZS5pbnRlcmFjdGl2ZU1lc3NhZ2UsXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiByO1xyXG4gIH0pO1xyXG5cclxuICB3cmFwTW9kdWxlRnVuY3Rpb24oZW5jb2RlTWF5YmVNZWRpYVR5cGUsIChmdW5jLCAuLi5hcmdzKSA9PiB7XHJcbiAgICBjb25zdCBbdHlwZV0gPSBhcmdzO1xyXG4gICAgaWYgKHR5cGUgPT09ICdidXR0b24nKSB7XHJcbiAgICAgIHJldHVybiBEUk9QX0FUVFI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuYyguLi5hcmdzKTtcclxuICB9KTtcclxuXHJcbiAgd3JhcE1vZHVsZUZ1bmN0aW9uKG1lZGlhVHlwZUZyb21Qcm90b2J1ZiwgKGZ1bmMsIC4uLmFyZ3MpID0+IHtcclxuICAgIGNvbnN0IFtwcm90b10gPSBhcmdzO1xyXG4gICAgaWYgKFxyXG4gICAgICBwcm90by5kb2N1bWVudFdpdGhDYXB0aW9uTWVzc2FnZT8ubWVzc2FnZT8udGVtcGxhdGVNZXNzYWdlXHJcbiAgICAgICAgPy5oeWRyYXRlZFRlbXBsYXRlXHJcbiAgICApIHtcclxuICAgICAgcmV0dXJuIGZ1bmMoXHJcbiAgICAgICAgcHJvdG8uZG9jdW1lbnRXaXRoQ2FwdGlvbk1lc3NhZ2U/Lm1lc3NhZ2U/LnRlbXBsYXRlTWVzc2FnZVxyXG4gICAgICAgICAgPy5oeWRyYXRlZFRlbXBsYXRlXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuYyguLi5hcmdzKTtcclxuICB9KTtcclxuXHJcbiAgd3JhcE1vZHVsZUZ1bmN0aW9uKHR5cGVBdHRyaWJ1dGVGcm9tUHJvdG9idWYsIChmdW5jLCAuLi5hcmdzKSA9PiB7XHJcbiAgICBjb25zdCBbcHJvdG9dID0gYXJncztcclxuXHJcbiAgICBpZiAocHJvdG8/LnZpZXdPbmNlTWVzc2FnZT8uaW50ZXJhY3RpdmVNZXNzYWdlKSB7XHJcbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwcm90bz8udmlld09uY2VNZXNzYWdlPy5pbnRlcmFjdGl2ZU1lc3NhZ2UpO1xyXG5cclxuICAgICAgY29uc3QgbWVzc2FnZVBhcnQgPSBbXHJcbiAgICAgICAgJ2RvY3VtZW50TWVzc2FnZScsXHJcbiAgICAgICAgJ2RvY3VtZW50V2l0aENhcHRpb25NZXNzYWdlJyxcclxuICAgICAgICAnaW1hZ2VNZXNzYWdlJyxcclxuICAgICAgICAnbG9jYXRpb25NZXNzYWdlJyxcclxuICAgICAgICAndmlkZW9NZXNzYWdlJyxcclxuICAgICAgXTtcclxuXHJcbiAgICAgIGlmIChtZXNzYWdlUGFydC5zb21lKChwYXJ0KSA9PiBrZXlzLmluY2x1ZGVzKHBhcnQpKSkge1xyXG4gICAgICAgIHJldHVybiAnbWVkaWEnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gJ3RleHQnO1xyXG4gICAgfSBlbHNlIGlmIChcclxuICAgICAgcHJvdG8/LmRvY3VtZW50V2l0aENhcHRpb25NZXNzYWdlPy5tZXNzYWdlPy50ZW1wbGF0ZU1lc3NhZ2VcclxuICAgICAgICA/Lmh5ZHJhdGVkVGVtcGxhdGVcclxuICAgICkge1xyXG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoXHJcbiAgICAgICAgcHJvdG8/LmRvY3VtZW50V2l0aENhcHRpb25NZXNzYWdlPy5tZXNzYWdlPy50ZW1wbGF0ZU1lc3NhZ2VcclxuICAgICAgICAgID8uaHlkcmF0ZWRUZW1wbGF0ZVxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgbWVzc2FnZVBhcnQgPSBbXHJcbiAgICAgICAgJ2RvY3VtZW50TWVzc2FnZScsXHJcbiAgICAgICAgJ2ltYWdlTWVzc2FnZScsXHJcbiAgICAgICAgJ2xvY2F0aW9uTWVzc2FnZScsXHJcbiAgICAgICAgJ3ZpZGVvTWVzc2FnZScsXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBpZiAobWVzc2FnZVBhcnQuc29tZSgocGFydCkgPT4ga2V5cy5pbmNsdWRlcyhwYXJ0KSkpIHtcclxuICAgICAgICByZXR1cm4gJ21lZGlhJztcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuICd0ZXh0JztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIHByb3RvPy5idXR0b25zTWVzc2FnZT8uaGVhZGVyVHlwZSA9PT0gMSB8fFxyXG4gICAgICBwcm90bz8uYnV0dG9uc01lc3NhZ2U/LmhlYWRlclR5cGUgPT09IDJcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gJ3RleHQnO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmdW5jKC4uLmFyZ3MpO1xyXG4gIH0pO1xyXG5cclxuICB3cmFwTW9kdWxlRnVuY3Rpb24oY3JlYXRlRmFub3V0TXNnU3RhbnphLCBhc3luYyAoZnVuYywgLi4uYXJncykgPT4ge1xyXG4gICAgbGV0IGJ1dHRvbk5vZGU6IHdlYnNvY2tldC5XYXBOb2RlIHwgbnVsbCA9IG51bGw7XHJcbiAgICBjb25zdCBwcm90bzogYW55ID0gYXJnc1sxXS5pZCA/IGFyZ3NbMl0gOiBhcmdzWzFdO1xyXG5cclxuICAgIGlmIChwcm90by5idXR0b25zTWVzc2FnZSkge1xyXG4gICAgICBidXR0b25Ob2RlID0gd2Vic29ja2V0LnNtYXgoJ2J1dHRvbnMnKTtcclxuICAgIH0gZWxzZSBpZiAocHJvdG8ubGlzdE1lc3NhZ2UpIHtcclxuICAgICAgLy8gVGhlIHRyaWNrIHRvIHNlbmQgbGlzdCBtZXNzYWdlIGlzIHRvIGZvcmNlIHRoZSAncHJvZHVjdF9saXN0JyB0eXBlIGluIHRoZSBiaXogbm9kZVxyXG4gICAgICAvLyBjb25zdCBsaXN0VHlwZTogbnVtYmVyID0gcHJvdG8ubGlzdE1lc3NhZ2UubGlzdFR5cGUgfHwgMDtcclxuICAgICAgY29uc3QgbGlzdFR5cGUgPSAyO1xyXG5cclxuICAgICAgY29uc3QgdHlwZXMgPSBbJ3Vua25vd24nLCAnc2luZ2xlX3NlbGVjdCcsICdwcm9kdWN0X2xpc3QnXTtcclxuXHJcbiAgICAgIGJ1dHRvbk5vZGUgPSB3ZWJzb2NrZXQuc21heCgnbGlzdCcsIHtcclxuICAgICAgICB2OiAnMicsXHJcbiAgICAgICAgdHlwZTogdHlwZXNbbGlzdFR5cGVdLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbm9kZSA9IGF3YWl0IGZ1bmMoLi4uYXJncyk7XHJcbiAgICBpZiAocHJvdG8/LnZpZXdPbmNlTWVzc2FnZT8ubWVzc2FnZT8uaW50ZXJhY3RpdmVNZXNzYWdlKSB7XHJcbiAgICAgIG5vZGUgPSBhd2FpdCBlbmNyeXB0QW5kUGFyc2VyTXNnQnV0dG9ucyguLi5hcmdzLCBmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWJ1dHRvbk5vZGUpIHtcclxuICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29udGVudCA9XHJcbiAgICAgIChub2RlLmNvbnRlbnQgYXMgd2Vic29ja2V0LldhcE5vZGVbXSkgfHwgKG5vZGUgYXMgYW55KS5zdGFuemEuY29udGVudDtcclxuXHJcbiAgICBsZXQgYml6Tm9kZSA9IGNvbnRlbnQuZmluZCgoYykgPT4gYy50YWcgPT09ICdiaXonKTtcclxuXHJcbiAgICBpZiAoIWJpek5vZGUpIHtcclxuICAgICAgYml6Tm9kZSA9IHdlYnNvY2tldC5zbWF4KCdiaXonLCB7fSwgbnVsbCk7XHJcbiAgICAgIGNvbnRlbnQucHVzaChiaXpOb2RlKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaGFzQnV0dG9uTm9kZSA9IGZhbHNlO1xyXG5cclxuICAgIGlmIChBcnJheS5pc0FycmF5KGJpek5vZGUuY29udGVudCkpIHtcclxuICAgICAgaGFzQnV0dG9uTm9kZSA9ICEhYml6Tm9kZS5jb250ZW50LmZpbmQoKGMpID0+IGMudGFnID09PSBidXR0b25Ob2RlPy50YWcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYml6Tm9kZS5jb250ZW50ID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFoYXNCdXR0b25Ob2RlKSB7XHJcbiAgICAgIGJpek5vZGUuY29udGVudC5wdXNoKGJ1dHRvbk5vZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBub2RlO1xyXG4gIH0pO1xyXG5cclxuICB3cmFwTW9kdWxlRnVuY3Rpb24oZ2V0QUJQcm9wQ29uZmlnVmFsdWUsIChmdW5jLCAuLi5hcmdzKSA9PiB7XHJcbiAgICBjb25zdCBba2V5XSA9IGFyZ3M7XHJcbiAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICBjYXNlICd3ZWJfdW53cmFwX21lc3NhZ2VfZm9yX3N0YW56YV9hdHRyaWJ1dGVzJzpcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIC8qY2FzZSAnZW5hYmxlX3dlYl9jYWxsaW5nJzpcclxuICAgICAgICByZXR1cm4gdHJ1ZTsqL1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmMoLi4uYXJncyk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydFdpZCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IGdldE15VXNlcldpZCB9IGZyb20gJy4uLy4uL2Nvbm4vZnVuY3Rpb25zL2dldE15VXNlcldpZCc7XHJcbmltcG9ydCB7IGdldFBhcnRpY2lwYW50cyB9IGZyb20gJy4uLy4uL2dyb3VwJztcclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHtcclxuICBCb3RQcm9maWxlU3RvcmUsXHJcbiAgQ2hhdE1vZGVsLFxyXG4gIE1zZ0tleSxcclxuICBNc2dNb2RlbCxcclxuICBXaWQsXHJcbn0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBBQ0sgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9lbnVtcyc7XHJcbmltcG9ydCB7XHJcbiAgY2FuUmVwbHlNc2csXHJcbiAgZ2VuQm90TXNnU2VjcmV0RnJvbU1zZ1NlY3JldCxcclxuICBnZXRFcGhlbWVyYWxGaWVsZHMsXHJcbiAgdW5peFRpbWUsXHJcbn0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHsgZGVmYXVsdFNlbmRNZXNzYWdlT3B0aW9ucywgUmF3TWVzc2FnZSwgU2VuZE1lc3NhZ2VPcHRpb25zIH0gZnJvbSAnLi4nO1xyXG5pbXBvcnQge1xyXG4gIGdlbmVyYXRlTWVzc2FnZUlELFxyXG4gIGdldE1lc3NhZ2VCeUlkLFxyXG4gIG1hcmtJc0NvbXBvc2luZyxcclxuICBtYXJrSXNQYXVzZWQsXHJcbiAgbWFya0lzUmVjb3JkaW5nLFxyXG59IGZyb20gJy4nO1xyXG5cclxuLyoqXHJcbiAqIFByZXBhcmUgYSByYXcgbWVzc2FnZVxyXG4gKiBAY2F0ZWdvcnkgTWVzc2FnZVxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcmVwYXJlUmF3TWVzc2FnZTxUIGV4dGVuZHMgUmF3TWVzc2FnZT4oXHJcbiAgY2hhdDogQ2hhdE1vZGVsLFxyXG4gIG1lc3NhZ2U6IFQsXHJcbiAgb3B0aW9uczogU2VuZE1lc3NhZ2VPcHRpb25zID0ge31cclxuKTogUHJvbWlzZTxUPiB7XHJcbiAgb3B0aW9ucyA9IHtcclxuICAgIC4uLmRlZmF1bHRTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgICAuLi5vcHRpb25zLFxyXG4gIH07XHJcblxyXG4gIG1lc3NhZ2UgPSB7XHJcbiAgICB0OiB1bml4VGltZSgpLFxyXG4gICAgZnJvbTogZ2V0TXlVc2VyV2lkKCksXHJcbiAgICB0bzogY2hhdC5pZCxcclxuICAgIHNlbGY6ICdvdXQnLFxyXG4gICAgaXNOZXdNc2c6IHRydWUsXHJcbiAgICBsb2NhbDogdHJ1ZSxcclxuICAgIGFjazogQUNLLkNMT0NLLFxyXG4gICAgLi4ubWVzc2FnZSxcclxuICB9O1xyXG5cclxuICBpZiAob3B0aW9ucy5kZWxheSkge1xyXG4gICAgaWYgKG1lc3NhZ2UudHlwZSA9PSAnY2hhdCcpIHtcclxuICAgICAgYXdhaXQgbWFya0lzQ29tcG9zaW5nKGNoYXQuaWQpO1xyXG4gICAgfSBlbHNlIGlmICgob3B0aW9ucyBhcyBhbnkpPy5pc1B0dCkge1xyXG4gICAgICBhd2FpdCBtYXJrSXNSZWNvcmRpbmcoY2hhdC5pZCk7XHJcbiAgICB9XHJcbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT5cclxuICAgICAgc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKHRydWUpLCBvcHRpb25zLmRlbGF5KVxyXG4gICAgKTtcclxuICAgIGF3YWl0IG1hcmtJc1BhdXNlZChjaGF0LmlkKTtcclxuICB9XHJcblxyXG4gIGlmIChtZXNzYWdlLnR5cGUgIT09ICdwcm90b2NvbCcpIHtcclxuICAgIGNvbnN0IGVwaGVtZXJhbCA9IGdldEVwaGVtZXJhbEZpZWxkcyhjaGF0KTtcclxuXHJcbiAgICBtZXNzYWdlID0ge1xyXG4gICAgICAuLi5lcGhlbWVyYWwsXHJcbiAgICAgIC4uLm1lc3NhZ2UsXHJcbiAgICB9O1xyXG4gIH1cclxuICAvKipcclxuICAgKiBBZGRpbmcgZmllbGRzIGZvciBDaGF0cyB3aXRoIGJvdHNcclxuICAgKi9cclxuICBpZiAoY2hhdC5pZD8uaXNCb3QoKSkge1xyXG4gICAgbWVzc2FnZSA9IHtcclxuICAgICAgLi4ubWVzc2FnZSxcclxuICAgICAgbWVzc2FnZVNlY3JldDogYXdhaXQgZ2VuQm90TXNnU2VjcmV0RnJvbU1zZ1NlY3JldChcclxuICAgICAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDMyKSlcclxuICAgICAgKSxcclxuICAgICAgYm90UGVyc29uYUlkOiBCb3RQcm9maWxlU3RvcmUuZ2V0KGNoYXQuaWQ/LnRvU3RyaW5nKCkpIS5wZXJzb25hSWQsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgaWYgKG9wdGlvbnMubWVzc2FnZUlkKSB7XHJcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMubWVzc2FnZUlkID09PSAnc3RyaW5nJykge1xyXG4gICAgICBvcHRpb25zLm1lc3NhZ2VJZCA9IE1zZ0tleS5mcm9tU3RyaW5nKG9wdGlvbnMubWVzc2FnZUlkKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW9wdGlvbnMubWVzc2FnZUlkLmZyb21NZSkge1xyXG4gICAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICAgJ21lc3NhZ2Vfa2V5X2lzX25vdF9mcm9tX21lJyxcclxuICAgICAgICAnTWVzc2FnZSBrZXkgaXMgbm90IGZyb20gbWUnLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIG1lc3NhZ2VJZDogb3B0aW9ucy5tZXNzYWdlSWQudG9TdHJpbmcoKSxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFvcHRpb25zLm1lc3NhZ2VJZC5yZW1vdGUuZXF1YWxzKGNoYXQuaWQpKSB7XHJcbiAgICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgICAnbWVzc2FnZV9rZXlfcmVtb3RlX2lkX2lzX25vdF9zYW1lX29mX2NoYXQnLFxyXG4gICAgICAgICdNZXNzYWdlIGtleSByZW1vdGUgSUQgaXMgbm90IHNhbWUgb2YgY2hhdCcsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbWVzc2FnZUlkOiBvcHRpb25zLm1lc3NhZ2VJZC50b1N0cmluZygpLFxyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBtZXNzYWdlLmlkID0gb3B0aW9ucy5tZXNzYWdlSWQ7XHJcbiAgfVxyXG5cclxuICBpZiAoIW1lc3NhZ2UuaWQpIHtcclxuICAgIG1lc3NhZ2UuaWQgPSBhd2FpdCBnZW5lcmF0ZU1lc3NhZ2VJRChjaGF0KTtcclxuICB9XHJcblxyXG4gIGlmIChvcHRpb25zLm1lbnRpb25lZExpc3QgJiYgIUFycmF5LmlzQXJyYXkob3B0aW9ucy5tZW50aW9uZWRMaXN0KSkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnbWVudGlvbmVkX2xpc3RfaXNfbm90X2FycmF5JyxcclxuICAgICAgJ1RoZSBvcHRpb24gbWVudGlvbmVkTGlzdCBpcyBub3QgYW4gYXJyYXknLFxyXG4gICAgICB7XHJcbiAgICAgICAgbWVudGlvbmVkTGlzdDogb3B0aW9ucy5tZW50aW9uZWRMaXN0LFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVHJ5IHRvIGRldGVjdCBtZW50aW9uZWQgbGlzdCBmcm9tIG1lc3NhZ2VcclxuICAgKi9cclxuICBpZiAoXHJcbiAgICBvcHRpb25zLmRldGVjdE1lbnRpb25lZCAmJlxyXG4gICAgY2hhdC5pc0dyb3VwICYmXHJcbiAgICAoIW9wdGlvbnMubWVudGlvbmVkTGlzdCB8fCAhb3B0aW9ucy5tZW50aW9uZWRMaXN0Lmxlbmd0aClcclxuICApIHtcclxuICAgIGNvbnN0IHRleHQgPSBtZXNzYWdlLnR5cGUgPT09ICdjaGF0JyA/IG1lc3NhZ2UuYm9keSA6IG1lc3NhZ2UuY2FwdGlvbjtcclxuXHJcbiAgICBvcHRpb25zLm1lbnRpb25lZExpc3QgPSBvcHRpb25zLm1lbnRpb25lZExpc3QgfHwgW107XHJcblxyXG4gICAgY29uc3QgaWRzID0gdGV4dD8ubWF0Y2goLyg/PD1AKShcXGQrKVxcYi9nKSB8fCBbXTtcclxuXHJcbiAgICBpZiAoaWRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3QgcGFydGljaXBhbnRzID0gKGF3YWl0IGdldFBhcnRpY2lwYW50cyhjaGF0LmlkKSkubWFwKChwKSA9PlxyXG4gICAgICAgIHAuaWQudG9TdHJpbmcoKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgZm9yIChjb25zdCBpZCBvZiBpZHMpIHtcclxuICAgICAgICBjb25zdCB3aWQgPSBgJHtpZH1AYy51c2A7XHJcbiAgICAgICAgaWYgKCFwYXJ0aWNpcGFudHMuaW5jbHVkZXMod2lkKSkge1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9wdGlvbnMubWVudGlvbmVkTGlzdC5wdXNoKHdpZCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCB0aGUgbWV0YWRhdGEgZm9yICBtZW50aW9uZWQgbGlzdFxyXG4gICAqL1xyXG4gIGlmIChvcHRpb25zLm1lbnRpb25lZExpc3QpIHtcclxuICAgIGNvbnN0IG1lbnRpb25lZExpc3QgPSBvcHRpb25zLm1lbnRpb25lZExpc3QubWFwKChtKSA9PlxyXG4gICAgICBtIGluc3RhbmNlb2YgV2lkID8gbSA6IGFzc2VydFdpZChtKVxyXG4gICAgKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IG0gb2YgbWVudGlvbmVkTGlzdCkge1xyXG4gICAgICBpZiAoIW0uaXNVc2VyKCkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICAgICAnbWVudGlvbmVkX2lzX25vdF91c2VyJyxcclxuICAgICAgICAgICdNZW50aW9uZWQgaXMgbm90IGFuIHVzZXInLFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBtZW50aW9uZWRJZDogbS50b1N0cmluZygpLFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBtZXNzYWdlLm1lbnRpb25lZEppZExpc3QgPSBtZW50aW9uZWRMaXN0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUXVvdGUgYSBtZXNzYWdlLCBsaWtlIGEgcmVwbHkgbWVzc2FnZVxyXG4gICAqL1xyXG4gIGlmIChvcHRpb25zLnF1b3RlZE1zZykge1xyXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnF1b3RlZE1zZyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgb3B0aW9ucy5xdW90ZWRNc2cgPSBNc2dLZXkuZnJvbVN0cmluZyhvcHRpb25zLnF1b3RlZE1zZyk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucy5xdW90ZWRNc2cgaW5zdGFuY2VvZiBNc2dLZXkpIHtcclxuICAgICAgb3B0aW9ucy5xdW90ZWRNc2cgPSBhd2FpdCBnZXRNZXNzYWdlQnlJZChvcHRpb25zLnF1b3RlZE1zZyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCEob3B0aW9ucy5xdW90ZWRNc2cgaW5zdGFuY2VvZiBNc2dNb2RlbCkpIHtcclxuICAgICAgdGhyb3cgbmV3IFdQUEVycm9yKCdpbnZhbGlkX3F1b3RlZF9tc2cnLCAnSW52YWxpZCBxdW90ZWRNc2cnLCB7XHJcbiAgICAgICAgcXVvdGVkTXNnOiBvcHRpb25zLnF1b3RlZE1zZyxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFvcHRpb25zLnF1b3RlZE1zZz8uaXNTdGF0dXNWMyAmJiAhY2FuUmVwbHlNc2cob3B0aW9ucy5xdW90ZWRNc2cpKSB7XHJcbiAgICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgICAncXVvdGVkX21zZ19jYW5fbm90X3JlcGx5JyxcclxuICAgICAgICAnUXVvdGVkTXNnIGNhbiBub3QgcmVwbHknLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHF1b3RlZE1zZzogb3B0aW9ucy5xdW90ZWRNc2csXHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIG1lc3NhZ2UgPSB7XHJcbiAgICAgIC4uLm1lc3NhZ2UsXHJcbiAgICAgIC4uLm9wdGlvbnMucXVvdGVkTXNnLm1zZ0NvbnRleHRJbmZvKGNoYXQuaWQpLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHJldHVybiBtZXNzYWdlO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0V2lkIH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHtcclxuICBkZWZhdWx0U2VuZE1lc3NhZ2VPcHRpb25zLFxyXG4gIFJhd01lc3NhZ2UsXHJcbiAgU2VuZE1lc3NhZ2VPcHRpb25zLFxyXG4gIFNlbmRNZXNzYWdlUmV0dXJuLFxyXG59IGZyb20gJy4uJztcclxuaW1wb3J0IHsgc2VuZFJhd01lc3NhZ2UgfSBmcm9tICcuJztcclxuXHJcbi8qKlxyXG4gKiBSZXF1ZXN0IHRoZSByZWFsIHBob25lIG51bWJlciBmb3IgYSBMSUQgY2hhdCAoW251bWJlcl1AbGlkKVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFJlcXVlc3RcclxuICogV1BQLmNoYXQucmVxdWVzdFBob25lTnVtYmVyKCdbbnVtYmVyXUBsaWQnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBNZXNzYWdlXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVxdWVzdFBob25lTnVtYmVyKFxyXG4gIGNoYXRJZDogYW55LFxyXG4gIG9wdGlvbnM6IFNlbmRNZXNzYWdlT3B0aW9ucyA9IHt9XHJcbik6IFByb21pc2U8U2VuZE1lc3NhZ2VSZXR1cm4+IHtcclxuICBvcHRpb25zID0ge1xyXG4gICAgLi4uZGVmYXVsdFNlbmRNZXNzYWdlT3B0aW9ucyxcclxuICAgIC4uLm9wdGlvbnMsXHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgd2lkID0gYXNzZXJ0V2lkKGNoYXRJZCk7XHJcblxyXG4gIGlmICghd2lkLmlzTGlkKCkpIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ25vdF9hX2xpZF9jaGF0JyxcclxuICAgICAgYHJlcXVlc3RQaG9uZU51bWJlciBzaG91bGQgbm90IGJlIGNhbGxlZCBmb3Igbm9uIGxpZCBjaGF0ICR7d2lkLnRvU3RyaW5nKCl9YFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHJhd01lc3NhZ2U6IFJhd01lc3NhZ2UgPSB7XHJcbiAgICB0eXBlOiAncmVxdWVzdF9waG9uZV9udW1iZXInLFxyXG4gIH07XHJcblxyXG4gIHJldHVybiBhd2FpdCBzZW5kUmF3TWVzc2FnZShjaGF0SWQsIHJhd01lc3NhZ2UsIG9wdGlvbnMpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0V2lkIH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgZG93bmxvYWRJbWFnZSB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBDYXRhbG9nU3RvcmUsIFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHtcclxuICBkZWZhdWx0U2VuZE1lc3NhZ2VPcHRpb25zLFxyXG4gIFJhd01lc3NhZ2UsXHJcbiAgU2VuZE1lc3NhZ2VPcHRpb25zLFxyXG4gIFNlbmRNZXNzYWdlUmV0dXJuLFxyXG59IGZyb20gJy4uJztcclxuaW1wb3J0IHsgc2VuZFJhd01lc3NhZ2UgfSBmcm9tICcuJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2F0YWxvZ01lc3NhZ2VPcHRpb25zIGV4dGVuZHMgU2VuZE1lc3NhZ2VPcHRpb25zIHtcclxuICBqcGVnVGh1bWJuYWlsPzogc3RyaW5nO1xyXG4gIHRpdGxlPzogc3RyaW5nO1xyXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xyXG4gIHRleHRNZXNzYWdlPzogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogU2VuZCBjYXRhbG9nIG1lc3NhZ2VcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBXUFAuY2hhdC5zZW5kQ2F0YWxvZ01lc3NhZ2UoXHJcbiAqICAnW251bWJlcl1AYy51cycsXHJcbiAqICAnW251bWJlcl1AYy51cycsXHJcbiAqIHtcclxuICogICB0aXRsZTogJ015IENhdGFsb2cnLFxyXG4gKiAgIGRlc2NyaXB0aW9uOiAnVGhpcyBpcyBteSBjYXRhbG9nJyxcclxuICogICB0ZXh0TWVzc2FnZTogJ0NoZWNrIG91dCBteSBjYXRhbG9nJyxcclxuICogICBqcGVnVGh1bWJuYWlsOiAnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwuLi4nXHJcbiAqIH1cclxuICogKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBNZXNzYWdlXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZENhdGFsb2dNZXNzYWdlKFxyXG4gIGNoYXRUb1NlbmQ6IHN0cmluZyB8IFdpZCxcclxuICBjaGF0RnJvbUNhdGFsb2c6IHN0cmluZyB8IFdpZCxcclxuICBvcHRzOiBDYXRhbG9nTWVzc2FnZU9wdGlvbnNcclxuKTogUHJvbWlzZTxTZW5kTWVzc2FnZVJldHVybj4ge1xyXG4gIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAuLi5kZWZhdWx0U2VuZE1lc3NhZ2VPcHRpb25zLFxyXG4gICAgLi4ub3B0cyxcclxuICB9O1xyXG4gIGNoYXRUb1NlbmQgPSBhc3NlcnRXaWQoY2hhdFRvU2VuZCk7XHJcbiAgY2hhdEZyb21DYXRhbG9nID0gYXNzZXJ0V2lkKGNoYXRGcm9tQ2F0YWxvZyk7XHJcbiAgY29uc3QgY2F0YWxvZyA9IENhdGFsb2dTdG9yZS5nZXQoY2hhdEZyb21DYXRhbG9nKTtcclxuXHJcbiAgaWYgKCFvcHRpb25zLmpwZWdUaHVtYm5haWwpIHtcclxuICAgIGNvbnN0IHVybCA9IChjYXRhbG9nPy5wcm9kdWN0Q29sbGVjdGlvbiBhcyBhbnkpPy5fbW9kZWxzWzBdPy5pbWFnZUNkblVybDtcclxuICAgIGlmICh1cmwpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBkb3dubG9hZCA9IGF3YWl0IGRvd25sb2FkSW1hZ2UodXJsKTtcclxuICAgICAgICBvcHRpb25zLmpwZWdUaHVtYm5haWwgPSBkb3dubG9hZC5kYXRhLnNwbGl0KCcsJywgMilbMV07XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgY2F0YWxvZ0xpbmsgPSBgaHR0cHM6Ly93YS5tZS9jLyR7Y2hhdEZyb21DYXRhbG9nLnRvU3RyaW5nKCkuc3BsaXQoJ0AnKVswXX1gO1xyXG4gIGxldCByYXdNZXNzYWdlOiBSYXdNZXNzYWdlID0ge307XHJcbiAgcmF3TWVzc2FnZSA9IHtcclxuICAgIHR5cGU6ICdjaGF0JyxcclxuICAgIGRlc2NyaXB0aW9uOiBvcHRpb25zPy5kZXNjcmlwdGlvbiA/PyAnTGVhcm4gbW9yZSBhYm91dCB0aGlzIGNhdGFsb2cnLFxyXG4gICAgbWF0Y2hlZFRleHQ6IGNhdGFsb2dMaW5rLFxyXG4gICAgc3VidHlwZTogJ3VybCcsXHJcbiAgICB0aHVtYm5haWw6IG9wdGlvbnMuanBlZ1RodW1ibmFpbCxcclxuICAgIHRodW1ibmFpbEhlaWdodDogb3B0aW9ucy5qcGVnVGh1bWJuYWlsID8gMTAwIDogdW5kZWZpbmVkLFxyXG4gICAgdGh1bWJuYWlsV2lkdGg6IG9wdGlvbnMuanBlZ1RodW1ibmFpbCA/IDEwMCA6IHVuZGVmaW5lZCxcclxuICAgIHRpdGxlOiBvcHRpb25zPy50aXRsZSA/PyBgVmlldyBjYXRhbG9nIG9uIFdoYXRzQXBwYCxcclxuICAgIGJvZHk6IG9wdGlvbnMudGV4dE1lc3NhZ2VcclxuICAgICAgPyBgJHtvcHRpb25zLnRleHRNZXNzYWdlfVxcbiR7Y2F0YWxvZ0xpbmt9YFxyXG4gICAgICA6IGNhdGFsb2dMaW5rLFxyXG4gICAgcmljaFByZXZpZXdUeXBlOiAwLFxyXG4gIH0gYXMgYW55O1xyXG4gIHJldHVybiBhd2FpdCBzZW5kUmF3TWVzc2FnZShjaGF0VG9TZW5kLCByYXdNZXNzYWdlLCBvcHRpb25zKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGdldE15VXNlcldpZCB9IGZyb20gJy4uLy4uL2Nvbm4vZnVuY3Rpb25zL2dldE15VXNlcldpZCc7XHJcbmltcG9ydCB7IGdlbmVyYXRlT3JkZXJVbmlxdWVJZCwgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgQ2F0YWxvZ1N0b3JlLCBVc2VyUHJlZnMgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7XHJcbiAgY3VycmVuY3lGb3JDb3VudHJ5U2hvcnRjb2RlLFxyXG4gIGdldENvdW50cnlTaG9ydGNvZGVCeVBob25lLFxyXG4gIHF1ZXJ5UHJvZHVjdCxcclxufSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQge1xyXG4gIGRlZmF1bHRTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgUmF3TWVzc2FnZSxcclxuICBTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgU2VuZE1lc3NhZ2VSZXR1cm4sXHJcbn0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBzZW5kUmF3TWVzc2FnZSB9IGZyb20gJy4nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBPcmRlckl0ZW1zIHtcclxuICB0eXBlOiAncHJvZHVjdCcgfCAnY3VzdG9tJztcclxuICBpZD86IG51bWJlcltdIHwgc3RyaW5nW107XHJcbiAgbmFtZT86IHN0cmluZztcclxuICBwcmljZT86IG51bWJlcjtcclxuICBxbnQ/OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgT3JkZXJNZXNzYWdlT3B0aW9ucyBleHRlbmRzIFNlbmRNZXNzYWdlT3B0aW9ucyB7XHJcbiAgbm90ZXM/OiBzdHJpbmc7XHJcbiAgZGlzY291bnQ/OiBudW1iZXI7XHJcbiAgdGF4PzogbnVtYmVyO1xyXG4gIHNoaXBwaW5nPzogbnVtYmVyO1xyXG4gIG9mZnNldD86IG51bWJlcjtcclxuICBwaXg/OiB7XHJcbiAgICBrZXlUeXBlOiAnQ05QSicgfCAnQ1BGJyB8ICdQSE9ORScgfCAnRU1BSUwnIHwgJ0VWUCc7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBrZXk6IHN0cmluZztcclxuICB9O1xyXG4gIC8vIFRleHQgZm9yIGV4dGVybmFsIHBheW1lbnQgKG91dCBvZiB3aGF0c2FwcClcclxuICBwYXltZW50X2luc3RydWN0aW9uPzogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogU2VuZCBhIG9yZGVyIG1lc3NhZ2VcclxuICogVG8gc2VuZCAocHJpY2VzLCB0YXgsIHNoaXBwaW5nIG9yIGRpc2NvdW50KSwgZm9yIGV4YW1wbGU6IFVTRCAxMi45MCwgc2VuZCB0aGVtIHdpdGhvdXQgZG90cyBvciBjb21tYXMsIGxpa2U6IDEyOTAwXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gU2VuZCBjaGFyZ2Ugd2l0aCBhIHByb2R1Y3RcclxuICogV1BQLmNoYXQuc2VuZENoYXJnZU1lc3NhZ2UoJ1tudW1iZXJdQGMudXMnLCBbXHJcbiAqICAgeyB0eXBlOiAncHJvZHVjdCcsIGlkOiAnNjc2ODk4OTc4NzgnLCBxbnQ6IDIgfSxcclxuICogICB7IHR5cGU6ICdwcm9kdWN0JywgaWQ6ICczNzg3ODc3NDQ1NycsIHFudDogMSB9LFxyXG4gKiBdXHJcbiAqXHJcbiAqIC8vIFNlbmQgY2hhcmdlIHdpdGggYSBjdXN0b20gaXRlbVxyXG4gKiBXUFAuY2hhdC5zZW5kQ2hhcmdlTWVzc2FnZSgnW251bWJlcl1AYy51cycsIFtcclxuICogICB7IHR5cGU6ICdjdXN0b20nLCBuYW1lOiAnSXRlbSBkZSBjb3N0IHRlc3QnLCBwcmljZTogMTIwMDAwLCBxbnQ6IDIgfSxcclxuICogXVxyXG4gKlxyXG4gKiAvLyBTZW5kIGNoYXJnZSB3aXRoIGN1c3RvbSBvcHRpb25zXHJcbiAqIFdQUC5jaGF0LnNlbmRDaGFyZ2VNZXNzYWdlKCdbbnVtYmVyXUBjLnVzJywgW1xyXG4gKiAgIHsgdHlwZTogJ3Byb2R1Y3QnLCBpZDogJzM3ODc4Nzc0NDU3JywgcW50OiAxIH0sXHJcbiAqICAgeyB0eXBlOiAnY3VzdG9tJywgbmFtZTogJ0l0ZW0gZGUgY29zdCB0ZXN0JywgcHJpY2U6IDEyMDAwMCwgcW50OiAyIH0sXHJcbiAqIF0sXHJcbiAqIHsgdGF4OiAxMDAwMCwgc2hpcHBpbmc6IDQwMDAsIGRpc2NvdW50OiAxMDAwMCB9XHJcbiAqXHJcbiAqIC8vIFNlbmQgY2hhcmdlIHdpdGggUGl4IGRhdGEgKGF1dG8gZ2VuZXJhdGUgY29weS1wYXN0ZSBwaXggY29kZSlcclxuICogV1BQLmNoYXQuc2VuZENoYXJnZU1lc3NhZ2UoJ1tudW1iZXJdQGMudXMnLCBbXHJcbiAqICAgeyB0eXBlOiAnY3VzdG9tJywgbmFtZTogJ0l0ZW0gZGUgY29zdCB0ZXN0JywgcHJpY2U6IDEyMDAwMCwgcW50OiAyIH0sXHJcbiAqIF0sXHJcbiAqIHtcclxuICogICB0YXg6IDEwMDAwLFxyXG4gKiAgIHNoaXBwaW5nOiA0MDAwLFxyXG4gKiAgIGRpc2NvdW50OiAxMDAwMCxcclxuICogICBwaXg6IHtcclxuICogICAgIGtleVR5cGU6ICdDUEYnLFxyXG4gKiAgICAga2V5OiAnMDA1NTUwOTU5OTknLFxyXG4gKiAgICAgbmFtZTogJ05hbWUgb2Ygc2VsbGVyJyxcclxuICogICB9LFxyXG4gKiB9KTtcclxuICogYGBgXHJcbiAqIEBjYXRlZ29yeSBNZXNzYWdlXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZENoYXJnZU1lc3NhZ2UoXHJcbiAgY2hhdElkOiBhbnksXHJcbiAgaXRlbXM6IE9yZGVySXRlbXNbXSxcclxuICBvcHRpb25zPzogT3JkZXJNZXNzYWdlT3B0aW9uc1xyXG4pOiBQcm9taXNlPFNlbmRNZXNzYWdlUmV0dXJuPiB7XHJcbiAgaWYgKCFpdGVtcyB8fCAhY2hhdElkKVxyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAncGFyYW1ldGVyX25vdF9mb3VudCcsXHJcbiAgICAgICdQbGVhc2UsIHNlbmQgYWxsIHRoZSByZXF1aXJlZCBwYXJhbWV0ZXJzJ1xyXG4gICAgKTtcclxuICBvcHRpb25zID0ge1xyXG4gICAgLi4uZGVmYXVsdFNlbmRNZXNzYWdlT3B0aW9ucyxcclxuICAgIC4uLm9wdGlvbnMsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcHJvZHVjdHMgPSBbXTtcclxuICBsZXQgc3VidG90YWwgPSAwO1xyXG4gIGxldCB0aHVtYkRlZmF1bHQgPSBudWxsO1xyXG5cclxuICBjb25zdCB1c2VyID0gZ2V0TXlVc2VyV2lkKCk7XHJcblxyXG4gIGNvbnN0IGNhdGFsb2cgPSBDYXRhbG9nU3RvcmUuZ2V0KHVzZXIpO1xyXG4gIGZvciAoY29uc3QgcHJvZHVjdCBvZiBpdGVtcykge1xyXG4gICAgaWYgKHByb2R1Y3QudHlwZSA9PSAncHJvZHVjdCcpIHtcclxuICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBxdWVyeVByb2R1Y3QoXHJcbiAgICAgICAgdXNlcixcclxuICAgICAgICBwcm9kdWN0LmlkLFxyXG4gICAgICAgIDEwMCxcclxuICAgICAgICAxMDAsXHJcbiAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgIHRydWVcclxuICAgICAgKTtcclxuICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAndW5kZWZpbmVkJylcclxuICAgICAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICAgICAncHJvZHVjdF9ub3RfZm91bmQnLFxyXG4gICAgICAgICAgYFRoZSBwcm9kdWN0IGlkICR7cHJvZHVjdC5pZH0gbm90IGZvdW5kYFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCBjb2xsZWN0aW9uID0gKGNhdGFsb2c/LnByb2R1Y3RDb2xsZWN0aW9uIGFzIGFueSkuZ2V0KFxyXG4gICAgICAgIHByb2R1Y3QuaWQgYXMgYW55XHJcbiAgICAgICk7XHJcbiAgICAgIGlmICghdGh1bWJEZWZhdWx0KSB7XHJcbiAgICAgICAgY29uc3QgbWVkaWFQcm9kdWN0SW1hZ2UgPSBjb2xsZWN0aW9uLmdldFByb2R1Y3RJbWFnZUNvbGxlY3Rpb25IZWFkKCk7XHJcbiAgICAgICAgdGh1bWJEZWZhdWx0ID0gbWVkaWFQcm9kdWN0SW1hZ2UubWVkaWFEYXRhLnByZXZpZXcuZ2V0QmFzZTY0KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGl0ZW0gPSB7XHJcbiAgICAgICAgcmV0YWlsZXJfaWQ6IGRhdGEuaWQsXHJcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxyXG4gICAgICAgIGFtb3VudDoge1xyXG4gICAgICAgICAgdmFsdWU6IE51bWJlcihkYXRhLnByaWNlKSxcclxuICAgICAgICAgIG9mZnNldDogTnVtYmVyKG9wdGlvbnMub2Zmc2V0KSB8fCAxMDAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcXVhbnRpdHk6IE51bWJlcihwcm9kdWN0LnFudCB8fCAxKSxcclxuICAgICAgICBpc0N1c3RvbUl0ZW06IGZhbHNlLFxyXG4gICAgICAgIGlzUXVhbnRpdHlTZXQ6IHRydWUsXHJcbiAgICAgIH07XHJcbiAgICAgIHN1YnRvdGFsICs9IE51bWJlcihkYXRhLnByaWNlKSAqIE51bWJlcihwcm9kdWN0LnFudCB8fCAxKTtcclxuICAgICAgcHJvZHVjdHMucHVzaChpdGVtKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGl0ZW0gPSB7XHJcbiAgICAgICAgcmV0YWlsZXJfaWQ6IGBjdXN0b20taXRlbS0ke2dlbmVyYXRlT3JkZXJVbmlxdWVJZCgpfWAsXHJcbiAgICAgICAgbmFtZTogcHJvZHVjdC5uYW1lLFxyXG4gICAgICAgIGFtb3VudDoge1xyXG4gICAgICAgICAgdmFsdWU6IE51bWJlcihwcm9kdWN0LnByaWNlKSxcclxuICAgICAgICAgIG9mZnNldDogTnVtYmVyKG9wdGlvbnMub2Zmc2V0KSB8fCAxMDAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcXVhbnRpdHk6IE51bWJlcihwcm9kdWN0LnFudCB8fCAxKSxcclxuICAgICAgICBpc0N1c3RvbUl0ZW06IHRydWUsXHJcbiAgICAgICAgaXNRdWFudGl0eVNldDogdHJ1ZSxcclxuICAgICAgfTtcclxuICAgICAgc3VidG90YWwgKz0gTnVtYmVyKHByb2R1Y3QucHJpY2UpICogTnVtYmVyKHByb2R1Y3QucW50IHx8IDEpO1xyXG4gICAgICBwcm9kdWN0cy5wdXNoKGl0ZW0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgdG90YWxfYW1vdW50ID1cclxuICAgIHN1YnRvdGFsICtcclxuICAgIE51bWJlcihvcHRpb25zPy50YXggfHwgMCkgK1xyXG4gICAgTnVtYmVyKG9wdGlvbnM/LnNoaXBwaW5nIHx8IDApIC1cclxuICAgIE51bWJlcihvcHRpb25zPy5kaXNjb3VudCB8fCAwKTtcclxuICBjb25zdCBidXR0b25QYXJhbXNKc29uID0ge1xyXG4gICAgcmVmZXJlbmNlX2lkOiBnZW5lcmF0ZU9yZGVyVW5pcXVlSWQoKSxcclxuICAgIHR5cGU6ICdwaHlzaWNhbC1nb29kcycsXHJcbiAgICBwYXltZW50X2NvbmZpZ3VyYXRpb246ICdtZXJjaGFudF9jYXRlZ29yaXphdGlvbl9jb2RlJyxcclxuICAgIGN1cnJlbmN5OiBhd2FpdCBjdXJyZW5jeUZvckNvdW50cnlTaG9ydGNvZGUoXHJcbiAgICAgIGF3YWl0IGdldENvdW50cnlTaG9ydGNvZGVCeVBob25lKFVzZXJQcmVmcy5nZXRNYXliZU1lUG5Vc2VyKCkudXNlcilcclxuICAgICksXHJcbiAgICB0b3RhbF9hbW91bnQ6IHtcclxuICAgICAgdmFsdWU6IHRvdGFsX2Ftb3VudCxcclxuICAgICAgb2Zmc2V0OiBOdW1iZXIob3B0aW9ucy5vZmZzZXQpIHx8IDEwMDAsXHJcbiAgICB9LFxyXG4gICAgb3JkZXJfdHlwZTogJ09SREVSJyxcclxuICAgIG9yZGVyOiB7XHJcbiAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxyXG4gICAgICBpdGVtczogcHJvZHVjdHMsXHJcbiAgICAgIHN1YnRvdGFsOiB7XHJcbiAgICAgICAgdmFsdWU6IE51bWJlcihzdWJ0b3RhbCksXHJcbiAgICAgICAgb2Zmc2V0OiBOdW1iZXIob3B0aW9ucy5vZmZzZXQpIHx8IDEwMDAsXHJcbiAgICAgIH0sXHJcbiAgICAgIHRheDogb3B0aW9ucz8udGF4XHJcbiAgICAgICAgPyB7IHZhbHVlOiBvcHRpb25zPy50YXgsIG9mZnNldDogTnVtYmVyKG9wdGlvbnMub2Zmc2V0KSB8fCAxMDAwIH1cclxuICAgICAgICA6IG51bGwsXHJcbiAgICAgIHNoaXBwaW5nOiBvcHRpb25zPy5zaGlwcGluZ1xyXG4gICAgICAgID8geyB2YWx1ZTogb3B0aW9ucz8uc2hpcHBpbmcsIG9mZnNldDogTnVtYmVyKG9wdGlvbnMub2Zmc2V0KSB8fCAxMDAwIH1cclxuICAgICAgICA6IG51bGwsXHJcbiAgICAgIGRpc2NvdW50OiBvcHRpb25zPy5kaXNjb3VudFxyXG4gICAgICAgID8geyB2YWx1ZTogb3B0aW9ucz8uZGlzY291bnQsIG9mZnNldDogTnVtYmVyKG9wdGlvbnMub2Zmc2V0KSB8fCAxMDAwIH1cclxuICAgICAgICA6IG51bGwsXHJcbiAgICB9LFxyXG4gICAgcGF5bWVudF9zZXR0aW5nczpcclxuICAgICAgdHlwZW9mIG9wdGlvbnMucGl4ICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgICAgID8gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgcGl4X3N0YXRpY19jb2RlOiB7XHJcbiAgICAgICAgICAgICAgICBrZXk6IG9wdGlvbnMucGl4LmtleSxcclxuICAgICAgICAgICAgICAgIGtleV90eXBlOiBvcHRpb25zLnBpeC5rZXlUeXBlLFxyXG4gICAgICAgICAgICAgICAgbWVyY2hhbnRfbmFtZTogb3B0aW9ucy5waXgubmFtZSxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHR5cGU6ICdwaXhfc3RhdGljX2NvZGUnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgY2FyZHM6IHtcclxuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB0eXBlOiAnY2FyZHMnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIDogdW5kZWZpbmVkLFxyXG4gICAgZXh0ZXJuYWxfcGF5bWVudF9jb25maWd1cmF0aW9uczogb3B0aW9ucy5wYXltZW50X2luc3RydWN0aW9uXHJcbiAgICAgID8gW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOiAncGF5bWVudF9pbnN0cnVjdGlvbicsXHJcbiAgICAgICAgICAgIHBheW1lbnRfaW5zdHJ1Y3Rpb246IG9wdGlvbnMucGF5bWVudF9pbnN0cnVjdGlvbixcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgXVxyXG4gICAgICA6IHVuZGVmaW5lZCxcclxuICB9O1xyXG5cclxuICBjb25zdCBtZXNzYWdlOiBSYXdNZXNzYWdlID0ge1xyXG4gICAgdHlwZTogJ2ludGVyYWN0aXZlJyxcclxuICAgIGNhcHRpb246IG9wdGlvbnM/Lm5vdGVzLFxyXG4gICAgbmF0aXZlRmxvd05hbWU6ICdvcmRlcl9kZXRhaWxzJyxcclxuICAgIGludGVyYWN0aXZlVHlwZTogJ25hdGl2ZV9mbG93JyxcclxuICAgIGludGVyYWN0aXZlSGVhZGVyOiB7XHJcbiAgICAgIGhhc21lZGlhQXR0YWNobWVudDogZmFsc2UsXHJcbiAgICAgIG1lZGlhVHlwZTogdW5kZWZpbmVkLFxyXG4gICAgICBzdWJ0aXRsZTogdW5kZWZpbmVkLFxyXG4gICAgICB0aHVtYm5haWw6IHRodW1iRGVmYXVsdCxcclxuICAgICAgdGl0bGU6IG51bGwsXHJcbiAgICB9LFxyXG4gICAgaW50ZXJhY3RpdmVQYXlsb2FkOiB7XHJcbiAgICAgIGJ1dHRvbnM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBidXR0b25QYXJhbXNKc29uOiBKU09OLnN0cmluZ2lmeShidXR0b25QYXJhbXNKc29uKSxcclxuICAgICAgICAgIG5hbWU6ICdyZXZpZXdfYW5kX3BheScsXHJcbiAgICAgICAgfSxcclxuICAgICAgXSxcclxuICAgICAgbWVzc2FnZVZlcnNpb246IDEsXHJcbiAgICB9LFxyXG4gIH07XHJcbiAgcmV0dXJuIGF3YWl0IHNlbmRSYXdNZXNzYWdlKGNoYXRJZCwgbWVzc2FnZSwgb3B0aW9ucyk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gIGRlZmF1bHRTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgUmF3TWVzc2FnZSxcclxuICBTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgU2VuZE1lc3NhZ2VSZXR1cm4sXHJcbn0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBzZW5kUmF3TWVzc2FnZSB9IGZyb20gJy4nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQb29sTWVzc2FnZU9wdGlvbnMgZXh0ZW5kcyBTZW5kTWVzc2FnZU9wdGlvbnMge1xyXG4gIHNlbGVjdGFibGVDb3VudD86IG51bWJlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNlbmQgYSBjcmVhdGUgcG9sbCBtZXNzYWdlXHJcbiAqXHJcbiAqIE5vdGU6IFRoaXMgb25seSB3b3JrcyBmb3IgZ3JvdXBzXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gU2luZ2xlIHBvb2xcclxuICogV1BQLmNoYXQuc2VuZENyZWF0ZVBvbGxNZXNzYWdlKFxyXG4gKiAgJ1tudW1iZXJdQGcudXMnLFxyXG4gKiAgJ0EgcG9sbCBuYW1lJyxcclxuICogIFsnT3B0aW9uIDEnLCAnT3B0aW9uIDInLCAnT3B0aW9uIDMnXVxyXG4gKiApO1xyXG4gKiBgYGBcclxuICogLy8gU2VsZWN0YWJsZSBDb3VudFxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFNpbmdsZSBwb29sXHJcbiAqIFdQUC5jaGF0LnNlbmRDcmVhdGVQb2xsTWVzc2FnZShcclxuICogICdbbnVtYmVyXUBnLnVzJyxcclxuICogICdBIHBvbGwgbmFtZScsXHJcbiAqICBbJ09wdGlvbiAxJywgJ09wdGlvbiAyJywgJ09wdGlvbiAzJ10sXHJcbiAqICB7XHJcbiAqICAgIHNlbGVjdGFibGVDb3VudDogMSxcclxuICogIH1cclxuICogKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBNZXNzYWdlXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZENyZWF0ZVBvbGxNZXNzYWdlKFxyXG4gIGNoYXRJZDogYW55LFxyXG4gIG5hbWU6IHN0cmluZyxcclxuICBjaG9pY2VzOiBzdHJpbmdbXSxcclxuICBvcHRpb25zOiBQb29sTWVzc2FnZU9wdGlvbnMgPSB7fVxyXG4pOiBQcm9taXNlPFNlbmRNZXNzYWdlUmV0dXJuPiB7XHJcbiAgb3B0aW9ucyA9IHtcclxuICAgIC4uLmRlZmF1bHRTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgICAuLi5vcHRpb25zLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJhd01lc3NhZ2U6IFJhd01lc3NhZ2UgPSB7XHJcbiAgICB0eXBlOiAncG9sbF9jcmVhdGlvbicsXHJcbiAgICBwb2xsTmFtZTogbmFtZSxcclxuICAgIHBvbGxPcHRpb25zOiBjaG9pY2VzLm1hcCgobmFtZSwgbG9jYWxJZCkgPT4gKHsgbmFtZSwgbG9jYWxJZCB9KSksXHJcbiAgICBwb2xsRW5jS2V5OiBzZWxmLmNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMzIpKSxcclxuICAgIHBvbGxTZWxlY3RhYmxlT3B0aW9uc0NvdW50OiBvcHRpb25zLnNlbGVjdGFibGVDb3VudCB8fCAwLFxyXG4gICAgbWVzc2FnZVNlY3JldDogc2VsZi5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDMyKSksXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGF3YWl0IHNlbmRSYXdNZXNzYWdlKGNoYXRJZCwgcmF3TWVzc2FnZSwgb3B0aW9ucyk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBjcmVhdGVFdmVudENhbGxMaW5rIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHtcclxuICBkZWZhdWx0U2VuZE1lc3NhZ2VPcHRpb25zLFxyXG4gIFJhd01lc3NhZ2UsXHJcbiAgU2VuZE1lc3NhZ2VPcHRpb25zLFxyXG4gIFNlbmRNZXNzYWdlUmV0dXJuLFxyXG59IGZyb20gJy4uJztcclxuaW1wb3J0IHsgc2VuZFJhd01lc3NhZ2UgfSBmcm9tICcuJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRNZXNzYWdlT3B0aW9ucyBleHRlbmRzIFNlbmRNZXNzYWdlT3B0aW9ucyB7XHJcbiAgY2FsbFR5cGU/OiAndmlkZW8nIHwgJ3ZvaWNlJztcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XHJcbiAgc3RhcnRUaW1lOiBudW1iZXI7XHJcbiAgZW5kVGltZT86IG51bWJlcjtcclxuICBsb2NhdGlvbj86IHtcclxuICAgIGRlZ3JlZXNMYXRpdHVkZTogbnVtYmVyO1xyXG4gICAgZGVncmVlc0xvbmdpdHVkZTogbnVtYmVyO1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZW5kIGEgRXZlbnQgTWVzc2FnZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFNpbXBsZSBjb20gc3RhcnQgdGltZSBhbmQgZW5kXHJcbiAqIFdQUC5jaGF0LnNlbmRFdmVudE1lc3NhZ2UoJ1tudW1iZXJdQGMudXMnLCB7XHJcbiAqICBuYW1lOiBcIlRpdGxlIG9mIGV2ZW50XCJcclxuICogIGRlc2NyaXB0aW9uOiAnRGVzY3JpcHRpb24gb2YgeW91ciBldmVudCcsXHJcbiAqICBzdGFydFRpbWU6IDE3Mjk1NTE2MDBcclxuICogIGVuZFRpbWU6IDE3Mjk1NTE5MDBcclxuICogfSk7XHJcbiAqXHJcbiAqIC8vIEV2ZW50IHdpdGggbG9jYXRpb25cclxuICogV1BQLmNoYXQuc2VuZEV2ZW50TWVzc2FnZSgnW251bWJlcl1AYy51cycsIHtcclxuICogIG5hbWU6IFwiVGl0bGUgb2YgZXZlbnRcIlxyXG4gKiAgZGVzY3JpcHRpb246ICdEZXNjcmlwdGlvbiBvZiB5b3VyIGV2ZW50JyxcclxuICogIHN0YXJ0VGltZTogMTcyOTU1MTYwMFxyXG4gKiAgbG9jYXRpb246IHtcclxuICogICBkZWdyZWVzTGF0aXR1ZGU6IC0yMi45NTE4NTUxLFxyXG4gKiAgIGRlZ3JlZXNMb25naXR1ZGU6IC00My4yMTA4MzM4LFxyXG4gKiAgIG5hbWU6ICdDcmlzdG8gUmVkZW50b3IgLSBSSicsXHJcbiAqICB9XHJcbiAqIH0pO1xyXG4gKlxyXG4gKiAvLyBFdmVudCB3aXRoIGxpbmsgZm9yIGNhbGwgKHVzZSB2b2ljZSBvciB2aWRlbylcclxuICogV1BQLmNoYXQuc2VuZEV2ZW50TWVzc2FnZSgnW251bWJlcl1AYy51cycsIHtcclxuICogIG5hbWU6IFwiVGl0bGUgb2YgZXZlbnRcIlxyXG4gKiAgY2FsbFR5cGU6ICd2b2ljZScsXHJcbiAqICBkZXNjcmlwdGlvbjogJ0Rlc2NyaXB0aW9uIG9mIHlvdXIgZXZlbnQnLFxyXG4gKiAgc3RhcnRUaW1lOiAxNzI5NTUxNjAwXHJcbiAqIH0pO1xyXG4gKiBgYGBcclxuICogQGNhdGVnb3J5IE1lc3NhZ2VcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kRXZlbnRNZXNzYWdlKFxyXG4gIGNoYXRJZDogYW55LFxyXG4gIG9wdGlvbnM6IEV2ZW50TWVzc2FnZU9wdGlvbnNcclxuKTogUHJvbWlzZTxTZW5kTWVzc2FnZVJldHVybj4ge1xyXG4gIG9wdGlvbnMgPSB7XHJcbiAgICAuLi5kZWZhdWx0U2VuZE1lc3NhZ2VPcHRpb25zLFxyXG4gICAgLi4ub3B0aW9ucyxcclxuICB9O1xyXG5cclxuICBpZiAoXHJcbiAgICB0eXBlb2Ygb3B0aW9ucy5jYWxsVHlwZSA9PT0gJ3N0cmluZycgJiZcclxuICAgIG9wdGlvbnMuY2FsbFR5cGUgIT0gJ3ZvaWNlJyAmJlxyXG4gICAgb3B0aW9ucy5jYWxsVHlwZSAhPSAndmlkZW8nXHJcbiAgKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgIGBjYWxsVHlwZV9pc19pbnZhbGlkYCxcclxuICAgICAgYFBhcmFtIGNhbGxUeXBlOiAke29wdGlvbnMuY2FsbFR5cGV9IGlzIG5vdCBhIHZhbGlkIHR5cGUgY2FsbC4gVXNlIHZvaWNlIG9yIHZpZGVvYFxyXG4gICAgKTtcclxuICB9XHJcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKG9wdGlvbnMuc3RhcnRUaW1lICogMTAwMCk7XHJcbiAgZGF0ZS5zZXRIb3VycyhkYXRlLmdldEhvdXJzKCkgKyAyKTtcclxuICBjb25zdCBkZWZhdWx0RW5kVGltZSA9IE1hdGguZmxvb3IoZGF0ZS5nZXRUaW1lKCkgLyAxMDAwKTtcclxuXHJcbiAgY29uc3QgcmF3TWVzc2FnZTogUmF3TWVzc2FnZSA9IHtcclxuICAgIHR5cGU6ICdldmVudF9jcmVhdGlvbicsXHJcbiAgICBldmVudE5hbWU6IG9wdGlvbnMubmFtZSB8fCAnICcsXHJcbiAgICBldmVudExvY2F0aW9uOiBvcHRpb25zPy5sb2NhdGlvbixcclxuICAgIGV2ZW50RGVzY3JpcHRpb246IG9wdGlvbnM/LmRlc2NyaXB0aW9uIHx8ICcgJyxcclxuICAgIGV2ZW50U3RhcnRUaW1lOiBvcHRpb25zLnN0YXJ0VGltZSxcclxuICAgIGV2ZW50RW5kVGltZTogb3B0aW9ucz8uZW5kVGltZSB8fCBkZWZhdWx0RW5kVGltZSxcclxuICAgIGlzRXZlbnRDYW5jZWxlZDogZmFsc2UsXHJcbiAgICBjYWxsVHlwZTogb3B0aW9ucy5jYWxsVHlwZSB8fCAwLFxyXG4gICAga2luZDogJ2V2ZW50Q3JlYXRpb24nLFxyXG4gICAgbWVzc2FnZVNlY3JldDogY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgzMikpLFxyXG4gICAgdmlld01vZGU6ICdWSVNJQkxFJyxcclxuICAgIGV2ZW50Sm9pbkxpbms6XHJcbiAgICAgIHR5cGVvZiBvcHRpb25zPy5jYWxsVHlwZSA9PT0gJ3N0cmluZydcclxuICAgICAgICA/IGF3YWl0IGNyZWF0ZUV2ZW50Q2FsbExpbmsob3B0aW9ucy5zdGFydFRpbWUsIG9wdGlvbnMuY2FsbFR5cGUpXHJcbiAgICAgICAgOiB1bmRlZmluZWQsXHJcbiAgfSBhcyBhbnk7XHJcblxyXG4gIHJldHVybiBhd2FpdCBzZW5kUmF3TWVzc2FnZShjaGF0SWQsIHJhd01lc3NhZ2UsIG9wdGlvbnMpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IERlYnVnIGZyb20gJ2RlYnVnJztcclxuXHJcbmltcG9ydCB7IGFzc2VydEZpbmRDaGF0IH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHtcclxuICBibG9iVG9BcnJheUJ1ZmZlcixcclxuICBjcmVhdGVXaWQsXHJcbiAgZ2V0VmlkZW9JbmZvRnJvbUJ1ZmZlcixcclxuICBXUFBFcnJvcixcclxufSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgY29udmVydFRvRmlsZSB9IGZyb20gJy4uLy4uL3V0aWwvY29udmVydFRvRmlsZSc7XHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7XHJcbiAgQ2hhdE1vZGVsLFxyXG4gIE1lZGlhUHJlcCxcclxuICBNc2dLZXksXHJcbiAgTXNnTW9kZWwsXHJcbiAgT3BhcXVlRGF0YSxcclxuICBTdGF0dXNWM1N0b3JlLFxyXG4gIFdpZCxcclxufSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IFNlbmRNc2dSZXN1bHQgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9lbnVtcyc7XHJcbmltcG9ydCB7IHdyYXBNb2R1bGVGdW5jdGlvbiB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7XHJcbiAgZ2VuZXJhdGVWaWRlb1RodW1ic0FuZER1cmF0aW9uLFxyXG4gIGlzQW5pbWF0ZWRXZWJwLFxyXG4gIHByb2Nlc3NSYXdTdGlja2VyLFxyXG4gIFNUQVRVU19KSUQsXHJcbiAgdXBsb2FkTWVkaWEsXHJcbn0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHtcclxuICBkZWZhdWx0U2VuZE1lc3NhZ2VPcHRpb25zLFxyXG4gIFJhd01lc3NhZ2UsXHJcbiAgU2VuZE1lc3NhZ2VPcHRpb25zLFxyXG4gIFNlbmRNZXNzYWdlUmV0dXJuLFxyXG59IGZyb20gJy4uJztcclxuaW1wb3J0IHtcclxuICBnZXRNZXNzYWdlQnlJZCxcclxuICBtYXJrSXNSZWFkLFxyXG4gIE1lc3NhZ2VCdXR0b25zT3B0aW9ucyxcclxuICBwcmVwYXJlTWVzc2FnZUJ1dHRvbnMsXHJcbiAgcHJlcGFyZVJhd01lc3NhZ2UsXHJcbn0gZnJvbSAnLic7XHJcbmltcG9ydCB7IHByZXBhcmVBdWRpb1dhdmVmb3JtIH0gZnJvbSAnLi9wcmVwYXJlQXVkaW9XYXZlZm9ybSc7XHJcblxyXG5jb25zdCBkZWJ1ZyA9IERlYnVnKCdXQS1KUzptZXNzYWdlJyk7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVNZXNzYWdlT3B0aW9ucyBleHRlbmRzIFNlbmRNZXNzYWdlT3B0aW9ucyB7XHJcbiAgdHlwZT86IHN0cmluZztcclxuICBjYXB0aW9uPzogc3RyaW5nO1xyXG4gIGZvb3Rlcj86IHN0cmluZztcclxuICBmaWxlbmFtZT86IHN0cmluZztcclxuICBtaW1ldHlwZT86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBdXRvRGV0ZWN0TWVzc2FnZU9wdGlvbnMgZXh0ZW5kcyBGaWxlTWVzc2FnZU9wdGlvbnMge1xyXG4gIHR5cGU6ICdhdXRvLWRldGVjdCc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZW5kIGFuIGF1ZGlvIG1lc3NhZ2UgYXMgYSBQVFQsIGxpa2UgYSByZWNvcmRlZCBtZXNzYWdlXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gUFRUIGF1ZGlvXHJcbiAqIFdQUC5jaGF0LnNlbmRGaWxlTWVzc2FnZShcclxuICogICdbbnVtYmVyXUBjLnVzJyxcclxuICogICdkYXRhOmF1ZGlvL21wMztiYXNlNjQsPGEgbG9uZyBiYXNlNjQgZmlsZS4uLj4nLFxyXG4gKiAge1xyXG4gKiAgICB0eXBlOiAnYXVkaW8nLFxyXG4gKiAgICBpc1B0dDogdHJ1ZSAvLyBmYWxzZSBmb3IgY29tbW9uIGF1ZGlvXHJcbiAqICB9XHJcbiAqICk7XHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBBdWRpb01lc3NhZ2VPcHRpb25zIGV4dGVuZHMgRmlsZU1lc3NhZ2VPcHRpb25zIHtcclxuICB0eXBlOiAnYXVkaW8nO1xyXG4gIGlzUHR0PzogYm9vbGVhbjtcclxuICBpc1ZpZXdPbmNlPzogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBTZW5kIGFuIGF1ZGlvIG1lc3NhZ2UgYXMgYSBQVFQgd2l0aCB3YXZlZm9ybVxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBgYGBqYXZhc2NyaXB0XHJcbiAgICogLy8gRW5hYmxlIHdhdmVmb3JtXHJcbiAgICogV1BQLmNoYXQuc2VuZEZpbGVNZXNzYWdlKFxyXG4gICAqICAnW251bWJlcl1AYy51cycsXHJcbiAgICogICdkYXRhOmF1ZGlvL21wMztiYXNlNjQsPGEgbG9uZyBiYXNlNjQgZmlsZS4uLj4nLFxyXG4gICAqICB7XHJcbiAgICogICAgdHlwZTogJ2F1ZGlvJyxcclxuICAgKiAgICBpc1B0dDogdHJ1ZSxcclxuICAgKiAgICB3YXZlZm9ybTogdHJ1ZSAvLyBmYWxzZSB0byBkaXNhYmxlXHJcbiAgICogIH1cclxuICAgKiApO1xyXG4gICAqIC8vIERpc2FibGUgd2F2ZWZvcm1cclxuICAgKiBXUFAuY2hhdC5zZW5kRmlsZU1lc3NhZ2UoXHJcbiAgICogICdbbnVtYmVyXUBjLnVzJyxcclxuICAgKiAgJ2RhdGE6YXVkaW8vbXAzO2Jhc2U2NCw8YSBsb25nIGJhc2U2NCBmaWxlLi4uPicsXHJcbiAgICogIHtcclxuICAgKiAgICB0eXBlOiAnYXVkaW8nLFxyXG4gICAqICAgIGlzUHR0OiB0cnVlLFxyXG4gICAqICAgIHdhdmVmb3JtOiBmYWxzZVxyXG4gICAqICB9XHJcbiAgICogKTtcclxuICAgKiBgYGBcclxuICAgKi9cclxuICB3YXZlZm9ybT86IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRG9jdW1lbnRNZXNzYWdlT3B0aW9uc1xyXG4gIGV4dGVuZHMgRmlsZU1lc3NhZ2VPcHRpb25zLFxyXG4gICAgTWVzc2FnZUJ1dHRvbnNPcHRpb25zIHtcclxuICB0eXBlOiAnZG9jdW1lbnQnO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEltYWdlTWVzc2FnZU9wdGlvbnNcclxuICBleHRlbmRzIEZpbGVNZXNzYWdlT3B0aW9ucyxcclxuICAgIE1lc3NhZ2VCdXR0b25zT3B0aW9ucyB7XHJcbiAgdHlwZTogJ2ltYWdlJztcclxuICBpc1ZpZXdPbmNlPzogYm9vbGVhbjtcclxuICBpc0hEPzogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTdGlja2VyTWVzc2FnZU9wdGlvbnMgZXh0ZW5kcyBGaWxlTWVzc2FnZU9wdGlvbnMge1xyXG4gIHR5cGU6ICdzdGlja2VyJztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBWaWRlb01lc3NhZ2VPcHRpb25zXHJcbiAgZXh0ZW5kcyBGaWxlTWVzc2FnZU9wdGlvbnMsXHJcbiAgICBNZXNzYWdlQnV0dG9uc09wdGlvbnMge1xyXG4gIHR5cGU6ICd2aWRlbyc7XHJcbiAgaXNHaWY/OiBib29sZWFuO1xyXG4gIGlzUHR2PzogYm9vbGVhbjtcclxuICBpc1ZpZXdPbmNlPzogYm9vbGVhbjtcclxuICBpc0hEPzogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNlbmQgYSBmaWxlIG1lc3NhZ2UsIHRoYXQgY2FuIGJlIGFuIGF1ZGlvLCBkb2N1bWVudCwgaW1hZ2UsIHN0aWNrZXIgb3IgdmlkZW9cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyBTaW5nbGUgZG9jdW1lbnRcclxuICogV1BQLmNoYXQuc2VuZEZpbGVNZXNzYWdlKFxyXG4gKiAgJ1tudW1iZXJdQGMudXMnLFxyXG4gKiAgJ2RhdGE6YXBwbGljYXRpb24vbXN3b3JkO2Jhc2U2NCw8YSBsb25nIGJhc2U2NCBmaWxlLi4uPicsXHJcbiAqICB7XHJcbiAqICAgIHR5cGU6ICdkb2N1bWVudCcsXHJcbiAqICAgIGNhcHRpb246ICdNeSBkb2N1bWVudCcsIC8vIE9wdGlvbmFsXHJcbiAqICAgIGZpbGVuYW1lOiAnbXlmaWxlLmRvYycsIC8vIE9wdGlvbmFsXHJcbiAqICAgIG1pbWV0eXBlOiAnYXBwbGljYXRpb24vbXN3b3JkJyAvLyBPcHRpb25hbFxyXG4gKiAgfVxyXG4gKiApO1xyXG4gKlxyXG4gKiAvLyBJbWFnZSB3aXRoIHZpZXcgb25jZVxyXG4gKiBXUFAuY2hhdC5zZW5kRmlsZU1lc3NhZ2UoXHJcbiAqICAnW251bWJlcl1AYy51cycsXHJcbiAqICAnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCw8YSBsb25nIGJhc2U2NCBmaWxlLi4uPicsXHJcbiAqICB7XHJcbiAqICAgIHR5cGU6ICdpbWFnZScsXHJcbiAqICAgIGNhcHRpb246ICdNeSBpbWFnZScsIC8vIE9wdGlvbmFsXHJcbiAqICAgIGlzVmlld09uY2U6IHRydWVcclxuICogIH1cclxuICogKTtcclxuICpcclxuICogLy8gUFRUIGF1ZGlvXHJcbiAqIFdQUC5jaGF0LnNlbmRGaWxlTWVzc2FnZShcclxuICogICdbbnVtYmVyXUBjLnVzJyxcclxuICogICdkYXRhOmF1ZGlvL21wMztiYXNlNjQsPGEgbG9uZyBiYXNlNjQgZmlsZS4uLj4nLFxyXG4gKiAge1xyXG4gKiAgICB0eXBlOiAnYXVkaW8nLFxyXG4gKiAgICBpc1B0dDogdHJ1ZSAvLyBmYWxzZSBmb3IgY29tbW9uIGF1ZGlvXHJcbiAqICB9XHJcbiAqICk7XHJcbiAqXHJcbiAqIC8vIEltYWdlIHdpdGggdmlldyBidXR0b25zXHJcbiAqIFdQUC5jaGF0LnNlbmRGaWxlTWVzc2FnZShcclxuICogICdbbnVtYmVyXUBjLnVzJyxcclxuICogICdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LDxhIGxvbmcgYmFzZTY0IGZpbGUuLi4+JyxcclxuICogIHtcclxuICogICAgdHlwZTogJ2ltYWdlJyxcclxuICogICAgY2FwdGlvbjogJ015IGltYWdlJ1xyXG4gKiAgICBidXR0b25zOiBbXHJcbiAqICAgICAge1xyXG4gKiAgICAgICAgaWQ6ICd5b3VyIGN1c3RvbSBpZCAxJyxcclxuICogICAgICAgIHRleHQ6ICdTb21lIHRleHQnXHJcbiAqICAgICAgfSxcclxuICogICAgICB7XHJcbiAqICAgICAgICBpZDogJ2Fub3RoZXIgaWQgMicsXHJcbiAqICAgICAgICB0ZXh0OiAnQW5vdGhlciB0ZXh0J1xyXG4gKiAgICAgIH1cclxuICogICAgXSxcclxuICogICAgZm9vdGVyOiAnRm9vdGVyIHRleHQnIC8vIE9wdGlvbmFsXHJcbiAqICB9XHJcbiAqICk7XHJcbiAqXHJcbiAqIC8vIEltYWdlIGFzIFN0aWNrZXJcclxuICogV1BQLmNoYXQuc2VuZEZpbGVNZXNzYWdlKFxyXG4gKiAgICdbbnVtYmVyXUBjLnVzJyxcclxuICogICAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LDxhIGxvbmcgYmFzZTY0IGZpbGUuLi4+JyxcclxuICogICB7XHJcbiAqICAgICB0eXBlOiAnc3RpY2tlcidcclxuICogICB9XHJcbiAqICk7XHJcbiAqXHJcbiAqIC8vIEEgc2ltcGxlIHZpZGVvXHJcbiAqIFdQUC5jaGF0LnNlbmRGaWxlTWVzc2FnZShcclxuICogICdbbnVtYmVyXUBjLnVzJyxcclxuICogICdkYXRhOnZpZGVvL21wNDtiYXNlNjQsPGEgbG9uZyBiYXNlNjQgZmlsZS4uLj4nLFxyXG4gKiAge1xyXG4gKiAgICB0eXBlOiAndmlkZW8nLFxyXG4gKiAgfVxyXG4gKiApO1xyXG4gKlxyXG4gKiAvLyBBIFBUViBWaWRlbyAobWljcm8gdmlkZW8pXHJcbiAqIFdQUC5jaGF0LnNlbmRGaWxlTWVzc2FnZShcclxuICogICdbbnVtYmVyXUBjLnVzJyxcclxuICogICdkYXRhOnZpZGVvL21wNDtiYXNlNjQsPGEgbG9uZyBiYXNlNjQgZmlsZS4uLj4nLFxyXG4gKiAge1xyXG4gKiAgICB0eXBlOiAndmlkZW8nLFxyXG4gKiAgICBpc1B0djogdHJ1ZSxcclxuICogIH1cclxuICogKTtcclxuICpcclxuICogLy8gTWVkaWEgdXNpbmcgTGluaywgdGhlIGxpbmsgbXVzdCBiZSBwdWJsaWMgYWNjZXNzaWJsZVxyXG4gKiAvLyBDT1JTIG11c3QgYmUgZW5hYmxlZCBvbiB0aGUgc2VydmVyIGFuZCBhdmFpbGFibGUgZm9yIGFsbCBkb21haW5zXHJcbiAqIC8vIChBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW46ICopXHJcbiAqIC8vIElmIHRoZSBzZXJ2ZXIgZG9lcyBub3QgaGF2ZSBDT1JTIGVuYWJsZWQsIHlvdSBjYW4gdXNlIGEgcHVibGljIENPUlMgcHJveHlcclxuICogV1BQLmNoYXQuc2VuZEZpbGVNZXNzYWdlKFxyXG4gKiAgJ1tudW1iZXJdQGMudXMnLFxyXG4gKiAgJ2h0dHBzOi8vZXhhbXBsZS5jb20vaW1hZ2UuanBnJyxcclxuICogIHtcclxuICogICAgdHlwZTogJ2ltYWdlJyxcclxuICogICAgY2FwdGlvbjogJ015IGltYWdlIGZyb20gVVJMJywgLy8gT3B0aW9uYWxcclxuICogIH1cclxuICogKTtcclxuICogYGBgXHJcbiAqIEBjYXRlZ29yeSBNZXNzYWdlXHJcbiAqIEByZXR1cm4gIHtTZW5kTWVzc2FnZVJldHVybn0gVGhlIHJlc3VsdFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRGaWxlTWVzc2FnZShcclxuICBjaGF0SWQ6IHN0cmluZyB8IFdpZCxcclxuICBjb250ZW50OiBzdHJpbmcgfCBCbG9iIHwgRmlsZSxcclxuICBvcHRpb25zOlxyXG4gICAgfCBBdXRvRGV0ZWN0TWVzc2FnZU9wdGlvbnNcclxuICAgIHwgQXVkaW9NZXNzYWdlT3B0aW9uc1xyXG4gICAgfCBEb2N1bWVudE1lc3NhZ2VPcHRpb25zXHJcbiAgICB8IEltYWdlTWVzc2FnZU9wdGlvbnNcclxuICAgIHwgVmlkZW9NZXNzYWdlT3B0aW9uc1xyXG4gICAgfCBTdGlja2VyTWVzc2FnZU9wdGlvbnNcclxuKTogUHJvbWlzZTxTZW5kTWVzc2FnZVJldHVybj4ge1xyXG4gIG9wdGlvbnMgPSB7XHJcbiAgICAuLi5kZWZhdWx0U2VuZE1lc3NhZ2VPcHRpb25zLFxyXG4gICAgLi4ue1xyXG4gICAgICB0eXBlOiAnYXV0by1kZXRlY3QnLFxyXG4gICAgICB3YXZlZm9ybTogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICAuLi5vcHRpb25zLFxyXG4gIH07XHJcblxyXG4gIGxldCBjaGF0OiBDaGF0TW9kZWw7XHJcbiAgaWYgKGNoYXRJZD8udG9TdHJpbmcoKSA9PSAnc3RhdHVzQGJyb2FkY2FzdCcpIHtcclxuICAgIGNoYXQgPSBuZXcgQ2hhdE1vZGVsKHtcclxuICAgICAgaWQ6IGNyZWF0ZVdpZChTVEFUVVNfSklEKSxcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjaGF0ID0gYXdhaXQgYXNzZXJ0RmluZENoYXQoY2hhdElkKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGZpbGUgPSBhd2FpdCBjb252ZXJ0VG9GaWxlKGNvbnRlbnQsIG9wdGlvbnMubWltZXR5cGUsIG9wdGlvbnMuZmlsZW5hbWUpO1xyXG5cclxuICBjb25zdCBmaWxlbmFtZSA9IGZpbGUubmFtZTtcclxuXHJcbiAgY29uc3Qgb3BhcXVlRGF0YSA9IGF3YWl0IE9wYXF1ZURhdGEuY3JlYXRlRnJvbURhdGEoZmlsZSwgZmlsZS50eXBlKTtcclxuXHJcbiAgY29uc3QgcmF3TWVkaWFPcHRpb25zOiB7XHJcbiAgICBpc1B0dD86IGJvb2xlYW47XHJcbiAgICBhc0RvY3VtZW50PzogYm9vbGVhbjtcclxuICAgIGFzR2lmPzogYm9vbGVhbjtcclxuICAgIGlzQXVkaW8/OiBib29sZWFuO1xyXG4gICAgYXNTdGlja2VyPzogYm9vbGVhbjtcclxuICAgIHByZWNvbXB1dGVkRmllbGRzPzoge1xyXG4gICAgICBkdXJhdGlvbjogbnVtYmVyO1xyXG4gICAgICB3YXZlZm9ybTogVWludDhBcnJheTtcclxuICAgIH07XHJcbiAgfSA9IHt9O1xyXG5cclxuICBsZXQgaXNWaWV3T25jZTogYm9vbGVhbiB8IHVuZGVmaW5lZDtcclxuICBsZXQgbWF4RGltZW5zaW9uO1xyXG5cclxuICBpZiAob3B0aW9ucy50eXBlID09PSAnYXVkaW8nKSB7XHJcbiAgICByYXdNZWRpYU9wdGlvbnMuaXNQdHQgPSBvcHRpb25zLmlzUHR0O1xyXG4gICAgaWYgKG9wdGlvbnMuaXNQdHQpIHtcclxuICAgICAgaXNWaWV3T25jZSA9IG9wdGlvbnMuaXNWaWV3T25jZTtcclxuICAgIH1cclxuICAgIHJhd01lZGlhT3B0aW9ucy5wcmVjb21wdXRlZEZpZWxkcyA9IGF3YWl0IHByZXBhcmVBdWRpb1dhdmVmb3JtKFxyXG4gICAgICBvcHRpb25zIGFzIGFueSxcclxuICAgICAgZmlsZVxyXG4gICAgKTtcclxuICB9IGVsc2UgaWYgKG9wdGlvbnMudHlwZSA9PT0gJ2ltYWdlJykge1xyXG4gICAgaXNWaWV3T25jZSA9IG9wdGlvbnMuaXNWaWV3T25jZTtcclxuICAgIG1heERpbWVuc2lvbiA9IG9wdGlvbnM/LmlzSEQgPyAyNTYwIDogMTYwMDtcclxuICB9IGVsc2UgaWYgKG9wdGlvbnMudHlwZSA9PT0gJ3ZpZGVvJykge1xyXG4gICAgaXNWaWV3T25jZSA9IG9wdGlvbnMuaXNWaWV3T25jZTtcclxuICAgIHJhd01lZGlhT3B0aW9ucy5hc0dpZiA9IG9wdGlvbnMuaXNHaWY7XHJcbiAgfSBlbHNlIGlmIChvcHRpb25zLnR5cGUgPT09ICdkb2N1bWVudCcpIHtcclxuICAgIHJhd01lZGlhT3B0aW9ucy5hc0RvY3VtZW50ID0gdHJ1ZTtcclxuICB9IGVsc2UgaWYgKG9wdGlvbnMudHlwZSA9PT0gJ3N0aWNrZXInKSB7XHJcbiAgICByYXdNZWRpYU9wdGlvbnMuYXNTdGlja2VyID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGNvbnN0IG1lZGlhUHJlcCA9IE1lZGlhUHJlcC5wcmVwUmF3TWVkaWEob3BhcXVlRGF0YSwge1xyXG4gICAgLi4ucmF3TWVkaWFPcHRpb25zLFxyXG4gICAgbWF4RGltZW5zaW9uLFxyXG4gIH0pO1xyXG5cclxuICAvLyBUaGUgZ2VuZXJhdGVkIG1lc3NhZ2UgaW4gYHNlbmRUb0NoYXRgIGlzIG1lcmdlZCB3aXRoIGBwcm9kdWN0TXNnT3B0aW9uc2BcclxuICBsZXQgcmF3TWVzc2FnZSA9IGF3YWl0IHByZXBhcmVSYXdNZXNzYWdlPFJhd01lc3NhZ2U+KFxyXG4gICAgY2hhdCxcclxuICAgIHtcclxuICAgICAgY2FwdGlvbjogb3B0aW9ucy5jYXB0aW9uIHx8IGZpbGVuYW1lLFxyXG4gICAgICBmaWxlbmFtZTogZmlsZW5hbWUsXHJcbiAgICAgIGZvb3Rlcjogb3B0aW9ucy5mb290ZXIsXHJcbiAgICAgIGlzQ2FwdGlvbkJ5VXNlcjogb3B0aW9ucy5jYXB0aW9uICE9IHVuZGVmaW5lZCxcclxuICAgIH0sXHJcbiAgICBvcHRpb25zXHJcbiAgKTtcclxuXHJcbiAgcmF3TWVzc2FnZSA9IHByZXBhcmVNZXNzYWdlQnV0dG9ucyhyYXdNZXNzYWdlLCBvcHRpb25zIGFzIGFueSk7XHJcblxyXG4gIGlmIChvcHRpb25zLm1hcmtJc1JlYWQpIHtcclxuICAgIGRlYnVnKGBtYXJraW5nIGNoYXQgaXMgcmVhZCBiZWZvcmUgc2VuZCBmaWxlYCk7XHJcbiAgICAvLyBUcnkgdG8gbWFyayBpcyByZWFkIGFuZCBpZ25vcmUgZXJyb3JzXHJcbiAgICBhd2FpdCBtYXJrSXNSZWFkKGNoYXQuaWQpLmNhdGNoKCgpID0+IG51bGwpO1xyXG4gIH1cclxuXHJcbiAgYXdhaXQgbWVkaWFQcmVwLndhaXRGb3JQcmVwKCk7XHJcbiAgY29uc3QgbWVkaWFEYXRhID1cclxuICAgIChtZWRpYVByZXAgYXMgYW55KS5fbWVkaWFEYXRhIHx8IChtZWRpYVByZXAgYXMgYW55KS5tZWRpYURhdGE7XHJcbiAgaWYgKChvcHRpb25zIGFzIGFueSk/LmlzUHR2KSB7XHJcbiAgICBtZWRpYURhdGEudHlwZSA9ICdwdHYnO1xyXG4gICAgbWVkaWFEYXRhLmZ1bGxIZWlnaHQgPSAxMTI4O1xyXG4gICAgbWVkaWFEYXRhLmZ1bGxXaWR0aCA9IDExMjg7XHJcbiAgfVxyXG4gIGRlYnVnKGBzZW5kaW5nIG1lc3NhZ2UgKCR7b3B0aW9ucy50eXBlfSkgd2l0aCBpZCAke3Jhd01lc3NhZ2UuaWR9YCk7XHJcbiAgY29uc3Qgc2VuZE1zZ1Jlc3VsdCA9IG1lZGlhUHJlcC5zZW5kVG9DaGF0KGNoYXQsIHtcclxuICAgIGNhcHRpb246IG9wdGlvbnMuY2FwdGlvbixcclxuICAgIGZvb3Rlcjogb3B0aW9ucy5mb290ZXIsXHJcbiAgICBpc1ZpZXdPbmNlLFxyXG4gICAgcHJvZHVjdE1zZ09wdGlvbnM6IGNoYXRJZCA9PT0gJ3N0YXR1c0Bicm9hZGNhc3QnID8gdW5kZWZpbmVkIDogcmF3TWVzc2FnZSxcclxuICAgIGFkZEV2ZW5XaGlsZVByZXBhcmluZzogZmFsc2UsXHJcbiAgICB0eXBlOiByYXdNZXNzYWdlLnR5cGUsXHJcbiAgfSBhcyBhbnkpO1xyXG4gIC8vIFdhaXQgZm9yIG1lc3NhZ2UgcmVnaXN0ZXJcclxuICBsZXQgbWVzc2FnZTogYW55ID0gbnVsbDtcclxuXHJcbiAgaWYgKHJhd01lc3NhZ2UudG8/LnRvU3RyaW5nKCkgPT0gJ3N0YXR1c0Bicm9hZGNhc3QnKSB7XHJcbiAgICBtZXNzYWdlID0gYXdhaXQgbmV3IFByb21pc2U8TXNnTW9kZWw+KChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIFN0YXR1c1YzU3RvcmUub24oXHJcbiAgICAgICAgJ2NoYW5nZTpsYXN0UmVjZWl2ZWRLZXknLFxyXG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIGZuKGNoYXQ6IENoYXRNb2RlbCwgbXNnS2V5OiBNc2dLZXkpIHtcclxuICAgICAgICAgIGlmIChjaGF0LmlkLnRvU3RyaW5nKCkgPT0gcmF3TWVzc2FnZS5mcm9tPy50b1N0cmluZygpKSB7XHJcbiAgICAgICAgICAgIFN0YXR1c1YzU3RvcmUub2ZmKCdjaGFuZ2U6bGFzdFJlY2VpdmVkS2V5JywgZm4pO1xyXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgZ2V0TWVzc2FnZUJ5SWQobXNnS2V5KTtcclxuICAgICAgICAgICAgcmVzb2x2ZShtZXNzYWdlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgbWVzc2FnZSA9IGF3YWl0IG5ldyBQcm9taXNlPE1zZ01vZGVsPigocmVzb2x2ZSkgPT4ge1xyXG4gICAgICBjaGF0Lm1zZ3Mub24oJ2FkZCcsIGZ1bmN0aW9uIGZuKG1zZzogTXNnTW9kZWwpIHtcclxuICAgICAgICBpZiAobXNnLmlkID09PSByYXdNZXNzYWdlLmlkKSB7XHJcbiAgICAgICAgICBjaGF0Lm1zZ3Mub2ZmKCdhZGQnLCBmbik7XHJcbiAgICAgICAgICByZXNvbHZlKG1zZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGVidWcoYG1lc3NhZ2UgZmlsZSAke21lc3NhZ2UuaWR9IHF1ZXVlZGApO1xyXG5cclxuICBmdW5jdGlvbiB1cGxvYWRTdGFnZShtZWRpYURhdGE6IGFueSwgc3RhZ2U6IHN0cmluZykge1xyXG4gICAgZGVidWcoYG1lc3NhZ2UgZmlsZSAke21lc3NhZ2UuaWR9IGlzICR7c3RhZ2V9YCk7XHJcbiAgfVxyXG4gIG1lc3NhZ2Uub24oJ2NoYW5nZTptZWRpYURhdGEubWVkaWFTdGFnZScsIHVwbG9hZFN0YWdlKTtcclxuXHJcbiAgc2VuZE1zZ1Jlc3VsdC5maW5hbGx5KCgpID0+IHtcclxuICAgIG1lc3NhZ2Uub2ZmKCdjaGFuZ2U6bWVkaWFEYXRhLm1lZGlhU3RhZ2UnLCB1cGxvYWRTdGFnZSk7XHJcbiAgfSk7XHJcblxyXG4gIGlmIChjaGF0SWQgIT09ICdzdGF0dXNAYnJvYWRjYXN0Jykge1xyXG4gICAgaWYgKG9wdGlvbnMud2FpdEZvckFjaykge1xyXG4gICAgICBkZWJ1Zyhgd2FpdGluZyBhY2sgZm9yICR7bWVzc2FnZS5pZH1gKTtcclxuXHJcbiAgICAgIGNvbnN0IHNlbmRSZXN1bHQgPSBhd2FpdCBzZW5kTXNnUmVzdWx0O1xyXG5cclxuICAgICAgZGVidWcoXHJcbiAgICAgICAgYGFjayByZWNlaXZlZCBmb3IgJHttZXNzYWdlLmlkfSAoQUNLOiAke21lc3NhZ2UuYWNrfSwgU2VuZFJlc3VsdDogJHtzZW5kUmVzdWx0fSlgXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWQ6IG1lc3NhZ2UuaWQ/LnRvU3RyaW5nKCksXHJcbiAgICAgIGFjazogbWVzc2FnZS5hY2shLFxyXG4gICAgICBzZW5kTXNnUmVzdWx0LFxyXG4gICAgfTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gRm9yY2VkIGEgbW9kZSB0byByZXR1cm4gdGhlIElEIHNpbmNlIHNlbmRNZWRpYVJlc3VsdCB3YXMgZ2l2aW5nIGFuIGVycm9yIHdoZW4gc2VuZGluZyB3aXRoIGNlcnRhaW4gcGFyYW1ldGVycy5cclxuICAgIGNvbnN0IG1zZyA9IGF3YWl0IG5ldyBQcm9taXNlPE1zZ01vZGVsPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICByZWplY3QoXHJcbiAgICAgICAgICBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICAgICAgICd0aW1lb3V0X29uX3NlbmRfc3RhdHVzJyxcclxuICAgICAgICAgICAgJ1RpbWVvdXQgZm9yIHdhaXQgcmVzcG9uc2Ugb2Ygc2VuZCBtZWRpYSBzdGF0dXMnXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKTtcclxuICAgICAgfSwgMzAwMDApO1xyXG5cclxuICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZ2V0ID0gYXdhaXQgZ2V0TWVzc2FnZUJ5SWQobWVzc2FnZS5pZCk7XHJcbiAgICAgICAgaWYgKGdldC5hY2shID4gMCkge1xyXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XHJcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgICAgICByZXNvbHZlKGdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAxNTAwKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWQ6IG1zZy5pZD8udG9TdHJpbmcoKSxcclxuICAgICAgYWNrOiBtc2cuYWNrISxcclxuICAgICAgc2VuZE1zZ1Jlc3VsdDoge1xyXG4gICAgICAgIG1lc3NhZ2VTZW5kUmVzdWx0OiBTZW5kTXNnUmVzdWx0Lk9LLFxyXG4gICAgICB9IGFzIGFueSxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogR2VuZXJhdGUgYSB3aGl0ZSB0aHVtYm5haWwgYXMgV2hhdHNBcHAgZ2VuZXJhdGUgZm9yIHZpZGVvIGZpbGVzXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZVdoaXRlVGh1bWIod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIG1heFNpemU6IG51bWJlcikge1xyXG4gIGxldCByID0gbnVsbCAhPSBoZWlnaHQgPyBoZWlnaHQgOiBtYXhTaXplLFxyXG4gICAgaSA9IG51bGwgIT0gd2lkdGggPyB3aWR0aCA6IG1heFNpemU7XHJcbiAgciA+IGlcclxuICAgID8gciA+IG1heFNpemUgJiYgKChpICo9IG1heFNpemUgLyByKSwgKHIgPSBtYXhTaXplKSlcclxuICAgIDogaSA+IG1heFNpemUgJiYgKChyICo9IG1heFNpemUgLyBpKSwgKGkgPSBtYXhTaXplKSk7XHJcblxyXG4gIGNvbnN0IGJvdW5kcyA9IHsgd2lkdGg6IE1hdGgubWF4KHIsIDEpLCBoZWlnaHQ6IE1hdGgubWF4KGksIDEpIH07XHJcblxyXG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpITtcclxuXHJcbiAgY2FudmFzLndpZHRoID0gYm91bmRzLndpZHRoO1xyXG4gIGNhbnZhcy5oZWlnaHQgPSBib3VuZHMuaGVpZ2h0O1xyXG5cclxuICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcclxuICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHVybDogY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycpLFxyXG4gICAgd2lkdGg6IGJvdW5kcy53aWR0aCxcclxuICAgIGhlaWdodDogYm91bmRzLmhlaWdodCxcclxuICAgIGZ1bGxXaWR0aDogd2lkdGgsXHJcbiAgICBmdWxsSGVpZ2h0OiBoZWlnaHQsXHJcbiAgfTtcclxufVxyXG5cclxud2VicGFjay5vbkZ1bGxSZWFkeSgoKSA9PiB7XHJcbiAgd3JhcE1vZHVsZUZ1bmN0aW9uKGdlbmVyYXRlVmlkZW9UaHVtYnNBbmREdXJhdGlvbiwgYXN5bmMgKGZ1bmMsIC4uLmFyZ3MpID0+IHtcclxuICAgIGNvbnN0IFtkYXRhXSA9IGFyZ3M7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIGF3YWl0IGZ1bmMoLi4uYXJncyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdNRURJQV9FUlJfU1JDX05PVF9TVVBQT1JURUQnKVxyXG4gICAgICApIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBkYXRhLmZpbGUuYXJyYXlCdWZmZXIoKTtcclxuICAgICAgICAgIGNvbnN0IGluZm8gPSBnZXRWaWRlb0luZm9Gcm9tQnVmZmVyKGFycmF5QnVmZmVyKTtcclxuXHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkdXJhdGlvbjogaW5mby5kdXJhdGlvbixcclxuICAgICAgICAgICAgdGh1bWJzOiBkYXRhLm1heERpbWVuc2lvbnMubWFwKChkKSA9PlxyXG4gICAgICAgICAgICAgIGdlbmVyYXRlV2hpdGVUaHVtYihpbmZvLndpZHRoLCBpbmZvLmhlaWdodCwgZClcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHdyYXBNb2R1bGVGdW5jdGlvbihwcm9jZXNzUmF3U3RpY2tlciwgYXN5bmMgKGZ1bmMsIC4uLmFyZ3MpID0+IHtcclxuICAgIGNvbnN0IFtkYXRhXSA9IGFyZ3M7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmdW5jKC4uLmFyZ3MpO1xyXG5cclxuICAgIGlmIChkYXRhLnR5cGUoKSA9PT0gJ2ltYWdlL3dlYnAnKSB7XHJcbiAgICAgIGNvbnN0IGJsb2IgPSBkYXRhLmZvcmNlVG9CbG9iKCk7XHJcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IGJsb2JUb0FycmF5QnVmZmVyKGJsb2IpO1xyXG5cclxuICAgICAgaWYgKGlzQW5pbWF0ZWRXZWJwKGJ1ZmZlcikpIHtcclxuICAgICAgICByZXN1bHQubWVkaWFCbG9iID0gYXdhaXQgT3BhcXVlRGF0YS5jcmVhdGVGcm9tRGF0YShibG9iLCBkYXRhLnR5cGUoKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH0pO1xyXG5cclxuICB3cmFwTW9kdWxlRnVuY3Rpb24odXBsb2FkTWVkaWEsIGFzeW5jIChmdW5jLCAuLi5hcmdzKSA9PiB7XHJcbiAgICBjb25zdCBbZGF0YV0gPSBhcmdzO1xyXG4gICAgaWYgKChkYXRhIGFzIGFueSkubWVkaWFUeXBlID09ICdwdHYnKSB7XHJcbiAgICAgIChkYXRhIGFzIGFueSkubWVkaWFUeXBlID0gJ3ZpZGVvJztcclxuICAgICAgcmV0dXJuIGF3YWl0IGZ1bmMoZGF0YSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gYXdhaXQgZnVuYyguLi5hcmdzKTtcclxuICAgIH1cclxuICB9KTtcclxufSk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZ2V0UHJvZmlsZVBpY3R1cmVVcmwgfSBmcm9tICcuLi8uLi9jb250YWN0JztcclxuaW1wb3J0IHsgZW5zdXJlR3JvdXAgfSBmcm9tICcuLi8uLi9ncm91cCc7XHJcbmltcG9ydCB7IGRvd25sb2FkSW1hZ2UgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQge1xyXG4gIGRlZmF1bHRTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgUmF3TWVzc2FnZSxcclxuICBTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgU2VuZE1lc3NhZ2VSZXR1cm4sXHJcbn0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBzZW5kUmF3TWVzc2FnZSB9IGZyb20gJy4nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBHcm91cEludml0ZU1lc3NhZ2UgZXh0ZW5kcyBTZW5kTWVzc2FnZU9wdGlvbnMge1xyXG4gIGpwZWdUaHVtYm5haWw/OiBzdHJpbmc7XHJcbiAgaW52aXRlQ29kZTogc3RyaW5nO1xyXG4gIGludml0ZUNvZGVFeHBpcmF0aW9uPzogbnVtYmVyO1xyXG4gIGdyb3VwSWQ6IHN0cmluZyB8IFdpZDtcclxuICBncm91cE5hbWU/OiBzdHJpbmc7XHJcbiAgY2FwdGlvbj86IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIFNlbmQgYSBncm91cCBpbnZpdGUgbWVzc2FnZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIFdQUC5jaGF0LnNlbmRHcm91cEludml0ZU1lc3NhZ2UoXHJcbiAqICAnW251bWJlcl1AYy51cycsXHJcbiAqICB7XHJcbiAqICAgIGludml0ZUNvZGU6ICcxMjMnLFxyXG4gKiAgICBncm91cElkOiAnNzg5QGcudXMnXHJcbiAqICB9XHJcbiAqICk7XHJcbiAqXHJcbiAqIC8vIEFmdGVyIGEgaW52aXRlXHJcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFdQUC5ncm91cC5hZGRQYXJ0aWNpcGFudHMoJzc4OUBnLnVzJywgJzEyM0BjLnVzJyk7XHJcbiAqIGNvbnN0IHBhcnRpY2lwYW50ID0gcmVzdWx0WycxMjNAYy51cyddO1xyXG4gKiBpZiAocGFydGljaXBhbnQuaW52aXRlX2NvZGUpIHtcclxuICogICBXUFAuY2hhdC5zZW5kR3JvdXBJbnZpdGVNZXNzYWdlKFxyXG4gKiAgICAgJzEyM0BjLnVzJyxcclxuICogICAgIHtcclxuICogICAgICAgaW52aXRlQ29kZTogcGFydGljaXBhbnQuaW52aXRlX2NvZGUsXHJcbiAqICAgICAgIGludml0ZUNvZGVFeHBpcmF0aW9uOiBwYXJ0aWNpcGFudC5pbnZpdGVfY29kZV9leHAsXHJcbiAqICAgICAgIGdyb3VwSWQ6ICc3ODlAZy51cydcclxuICogICAgIH1cclxuICogICApO1xyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgTWVzc2FnZVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRHcm91cEludml0ZU1lc3NhZ2UoXHJcbiAgY2hhdElkOiBhbnksXHJcbiAgb3B0aW9uczogR3JvdXBJbnZpdGVNZXNzYWdlXHJcbik6IFByb21pc2U8U2VuZE1lc3NhZ2VSZXR1cm4+IHtcclxuICBvcHRpb25zID0ge1xyXG4gICAgLi4uZGVmYXVsdFNlbmRNZXNzYWdlT3B0aW9ucyxcclxuICAgIC4uLm9wdGlvbnMsXHJcbiAgfTtcclxuXHJcbiAgaWYgKCFvcHRpb25zLmdyb3VwTmFtZSkge1xyXG4gICAgY29uc3QgZ3JvdXAgPSBhd2FpdCBlbnN1cmVHcm91cChvcHRpb25zLmdyb3VwSWQpO1xyXG4gICAgb3B0aW9ucy5ncm91cE5hbWUgPSBncm91cC5uYW1lO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFvcHRpb25zLmpwZWdUaHVtYm5haWwpIHtcclxuICAgIGNvbnN0IHVybCA9IGF3YWl0IGdldFByb2ZpbGVQaWN0dXJlVXJsKG9wdGlvbnMuZ3JvdXBJZCwgZmFsc2UpO1xyXG4gICAgaWYgKHVybCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGRvd25sb2FkID0gYXdhaXQgZG93bmxvYWRJbWFnZSh1cmwpO1xyXG4gICAgICAgIG9wdGlvbnMuanBlZ1RodW1ibmFpbCA9IGRvd25sb2FkLmRhdGEuc3BsaXQoJywnLCAyKVsxXTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNvbnN0IGludml0ZUxpbmsgPSBgaHR0cHM6Ly9jaGF0LndoYXRzYXBwLmNvbS8ke29wdGlvbnMuaW52aXRlQ29kZX1gO1xyXG4gIGxldCByYXdNZXNzYWdlOiBSYXdNZXNzYWdlID0ge307XHJcbiAgaWYgKG9wdGlvbnMuaW52aXRlQ29kZUV4cGlyYXRpb24pIHtcclxuICAgIHJhd01lc3NhZ2UgPSB7XHJcbiAgICAgIHR5cGU6ICdncm91cHNfdjRfaW52aXRlJyxcclxuICAgICAgaW52aXRlR3JwSnBlZ1RodW06IG9wdGlvbnMuanBlZ1RodW1ibmFpbCxcclxuICAgICAgaW52aXRlQ29kZTogb3B0aW9ucy5pbnZpdGVDb2RlLFxyXG4gICAgICBpbnZpdGVDb2RlRXhwOiBvcHRpb25zLmludml0ZUNvZGVFeHBpcmF0aW9uIHx8ICcnLFxyXG4gICAgICBpbnZpdGVHcnA6IG9wdGlvbnMuZ3JvdXBJZCxcclxuICAgICAgaW52aXRlR3JwTmFtZTogb3B0aW9ucy5ncm91cE5hbWUsXHJcbiAgICAgIGNvbW1lbnQ6IG9wdGlvbnMuY2FwdGlvbixcclxuICAgIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIHJhd01lc3NhZ2UgPSB7XHJcbiAgICAgIHR5cGU6ICdjaGF0JyxcclxuICAgICAgc3VidHlwZTogJ3VybCcsXHJcbiAgICAgIHRodW1ibmFpbDogb3B0aW9ucy5qcGVnVGh1bWJuYWlsLFxyXG4gICAgICB0aHVtYm5haWxIZWlnaHQ6IG9wdGlvbnMuanBlZ1RodW1ibmFpbCA/IDEwMCA6IHVuZGVmaW5lZCxcclxuICAgICAgdGh1bWJuYWlsV2lkdGg6IG9wdGlvbnMuanBlZ1RodW1ibmFpbCA/IDEwMCA6IHVuZGVmaW5lZCxcclxuICAgICAgdGl0bGU6IG9wdGlvbnMuZ3JvdXBOYW1lLFxyXG4gICAgICBpbnZpdGVHcnBUeXBlOiAnREVGQVVMVCcsXHJcbiAgICAgIGNhbm9uaWNhbFVybDogYGh0dHBzOi8vY2hhdC53aGF0c2FwcC5jb20vJHtvcHRpb25zLmludml0ZUNvZGV9YCxcclxuICAgICAgZGVzY3JpcHRpb246IG9wdGlvbnMuY2FwdGlvblxyXG4gICAgICAgID8gYCR7b3B0aW9ucy5jYXB0aW9ufVxcbiR7aW52aXRlTGlua31gXHJcbiAgICAgICAgOiBpbnZpdGVMaW5rLFxyXG4gICAgICBib2R5OiBvcHRpb25zLmNhcHRpb24gPyBgJHtvcHRpb25zLmNhcHRpb259XFxuJHtpbnZpdGVMaW5rfWAgOiBpbnZpdGVMaW5rLFxyXG4gICAgICBtYXRjaGVkVGV4dDogYGh0dHBzOi8vY2hhdC53aGF0c2FwcC5jb20vJHtvcHRpb25zLmludml0ZUNvZGV9YCxcclxuICAgICAgcmljaFByZXZpZXdUeXBlOiAwLFxyXG4gICAgfSBhcyBhbnk7XHJcbiAgfVxyXG4gIHJldHVybiBhd2FpdCBzZW5kUmF3TWVzc2FnZShjaGF0SWQsIHJhd01lc3NhZ2UsIG9wdGlvbnMpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0ICogYXMgd2VicGFjayBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgd3JhcE1vZHVsZUZ1bmN0aW9uIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgdHlwZUF0dHJpYnV0ZUZyb21Qcm90b2J1ZiB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcbmltcG9ydCB7XHJcbiAgZGVmYXVsdFNlbmRNZXNzYWdlT3B0aW9ucyxcclxuICBSYXdNZXNzYWdlLFxyXG4gIFNlbmRNZXNzYWdlT3B0aW9ucyxcclxuICBTZW5kTWVzc2FnZVJldHVybixcclxufSBmcm9tICcuLic7XHJcbmltcG9ydCB7IHNlbmRSYXdNZXNzYWdlIH0gZnJvbSAnLic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIExpc3RNZXNzYWdlT3B0aW9ucyBleHRlbmRzIFNlbmRNZXNzYWdlT3B0aW9ucyB7XHJcbiAgYnV0dG9uVGV4dDogc3RyaW5nO1xyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgdGl0bGU/OiBzdHJpbmc7XHJcbiAgZm9vdGVyPzogc3RyaW5nO1xyXG4gIHNlY3Rpb25zOiBBcnJheTx7XHJcbiAgICB0aXRsZTogc3RyaW5nO1xyXG4gICAgcm93czogQXJyYXk8e1xyXG4gICAgICByb3dJZDogc3RyaW5nO1xyXG4gICAgICB0aXRsZTogc3RyaW5nO1xyXG4gICAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gICAgfT47XHJcbiAgfT47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZW5kIGEgbGlzdCBtZXNzYWdlXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogV1BQLmNoYXQuc2VuZExpc3RNZXNzYWdlKCdbbnVtYmVyXUBjLnVzJywge1xyXG4gKiAgIGJ1dHRvblRleHQ6ICdDbGljayBNZSEnLCAvL3JlcXVpcmVkXHJcbiAqICAgZGVzY3JpcHRpb246IFwiSGVsbG8gaXQncyBsaXN0IG1lc3NhZ2VcIiwgLy9yZXF1aXJlZFxyXG4gKiAgIHRpdGxlOiAnSGVsbG8gdXNlcicsIC8vb3B0aW9uYWxcclxuICogICBmb290ZXI6ICdDbGljayBhbmQgY2hvb3NlIG9uZScsIC8vb3B0aW9uYWxcclxuICogICBzZWN0aW9uczogW3tcclxuICogICAgIHRpdGxlOiAnU2VjdGlvbiAxJyxcclxuICogICAgIHJvd3M6IFt7XHJcbiAqICAgICAgIHJvd0lkOiAncm93aWQxJyxcclxuICogICAgICAgdGl0bGU6ICdSb3cgMScsXHJcbiAqICAgICAgIGRlc2NyaXB0aW9uOiBcIkhlbGxvIGl0J3MgZGVzY3JpcHRpb24gMVwiLFxyXG4gKiAgICAgfSx7XHJcbiAqICAgICAgIHJvd0lkOiAncm93aWQyJyxcclxuICogICAgICAgdGl0bGU6ICdSb3cgMicsXHJcbiAqICAgICAgIGRlc2NyaXB0aW9uOiBcIkhlbGxvIGl0J3MgZGVzY3JpcHRpb24gMlwiLFxyXG4gKiAgICAgfV1cclxuICogICB9XVxyXG4gKiB9KTtcclxuICogYGBgXHJcbiAqIEBjYXRlZ29yeSBNZXNzYWdlXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZExpc3RNZXNzYWdlKFxyXG4gIGNoYXRJZDogYW55LFxyXG4gIG9wdGlvbnM6IExpc3RNZXNzYWdlT3B0aW9uc1xyXG4pOiBQcm9taXNlPFNlbmRNZXNzYWdlUmV0dXJuPiB7XHJcbiAgb3B0aW9ucyA9IHtcclxuICAgIC4uLmRlZmF1bHRTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgICAuLi5vcHRpb25zLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNlY3Rpb25zID0gb3B0aW9ucy5zZWN0aW9ucztcclxuXHJcbiAgaWYgKCFBcnJheS5pc0FycmF5KHNlY3Rpb25zKSkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKCdpbnZhbGlkX2xpc3RfdHlwZScsICdTZWN0aW9ucyBtdXN0IGJlIGFuIGFycmF5Jyk7XHJcbiAgfVxyXG5cclxuICBpZiAoc2VjdGlvbnMubGVuZ3RoID09PSAwIHx8IHNlY3Rpb25zLmxlbmd0aCA+IDEwKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICdpbnZhbGlkX2xpc3Rfc2l6ZScsXHJcbiAgICAgICdTZWN0aW9ucyBvcHRpb25zIG11c3QgaGF2ZSBiZXR3ZWVuIDEgYW5kIDEwIG9wdGlvbnMnXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbGlzdDogUmF3TWVzc2FnZVsnbGlzdCddID0ge1xyXG4gICAgYnV0dG9uVGV4dDogb3B0aW9ucy5idXR0b25UZXh0LFxyXG4gICAgZGVzY3JpcHRpb246IG9wdGlvbnMuZGVzY3JpcHRpb24gfHwgJyAnLFxyXG4gICAgdGl0bGU6IG9wdGlvbnMudGl0bGUsXHJcbiAgICBmb290ZXJUZXh0OiBvcHRpb25zLmZvb3RlcixcclxuICAgIGxpc3RUeXBlOiAxLFxyXG4gICAgc2VjdGlvbnMsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgbWVzc2FnZTogUmF3TWVzc2FnZSA9IHtcclxuICAgIHR5cGU6ICdsaXN0JyxcclxuICAgIGxpc3QsXHJcbiAgICBmb290ZXI6IG9wdGlvbnMuZm9vdGVyLFxyXG4gIH07XHJcblxyXG4gIHJldHVybiBhd2FpdCBzZW5kUmF3TWVzc2FnZShjaGF0SWQsIG1lc3NhZ2UsIG9wdGlvbnMpO1xyXG59XHJcblxyXG53ZWJwYWNrLm9uRnVsbFJlYWR5KCgpID0+IHtcclxuICB3cmFwTW9kdWxlRnVuY3Rpb24odHlwZUF0dHJpYnV0ZUZyb21Qcm90b2J1ZiwgKGZ1bmMsIC4uLmFyZ3MpID0+IHtcclxuICAgIGNvbnN0IFtwcm90b10gPSBhcmdzO1xyXG4gICAgaWYgKHByb3RvLmxpc3RNZXNzYWdlKSB7XHJcbiAgICAgIHJldHVybiAndGV4dCc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuYyguLi5hcmdzKTtcclxuICB9KTtcclxufSk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgd2VicGFjayBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgd3JhcE1vZHVsZUZ1bmN0aW9uIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHtcclxuICBtZWRpYVR5cGVGcm9tUHJvdG9idWYsXHJcbiAgdHlwZUF0dHJpYnV0ZUZyb21Qcm90b2J1ZixcclxufSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQge1xyXG4gIGRlZmF1bHRTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgUmF3TWVzc2FnZSxcclxuICBTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgU2VuZE1lc3NhZ2VSZXR1cm4sXHJcbn0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBzZW5kUmF3TWVzc2FnZSB9IGZyb20gJy4nO1xyXG5pbXBvcnQge1xyXG4gIE1lc3NhZ2VCdXR0b25zT3B0aW9ucyxcclxuICBwcmVwYXJlTWVzc2FnZUJ1dHRvbnMsXHJcbn0gZnJvbSAnLi9wcmVwYXJlTWVzc2FnZUJ1dHRvbnMnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMb2NhdGlvbk1lc3NhZ2VPcHRpb25zXHJcbiAgZXh0ZW5kcyBTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgICBNZXNzYWdlQnV0dG9uc09wdGlvbnMge1xyXG4gIC8qKlxyXG4gICAqIGxhdGl0dWRlIGluIGRlZ3JlZXNcclxuICAgKi9cclxuICBsYXQ6IG51bWJlciB8IHN0cmluZztcclxuICAvKipcclxuICAgKiBsb25naXR1ZGUgaW4gZGVncmVlc1xyXG4gICAqL1xyXG4gIGxuZzogbnVtYmVyIHwgc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIFRoZSBmdWxsIGFkZHJlc3Mgb2YgcGxhY2VcclxuICAgKi9cclxuICBhZGRyZXNzPzogc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIE5hbWUgb2YgdGhlIHBsYWNlXHJcbiAgICovXHJcbiAgbmFtZT86IHN0cmluZztcclxuICAvKipcclxuICAgKiBVUkwgdG8gb3BlbiB3aGVuIGNsaWNrIG9uIHRoZSBhZGRyZXNzL25hbWVcclxuICAgKi9cclxuICB1cmw/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZW5kIGEgbG9jYXRpb24gbWVzc2FnZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIGZ1bGwgZXhhbXBsZVxyXG4gKiBXUFAuY2hhdC5zZW5kTG9jYXRpb25NZXNzYWdlKCdbbnVtYmVyXUBjLnVzJywge1xyXG4gKiAgbGF0OiAtMjIuOTUyMDEsXHJcbiAqICBsbmc6IC00My4yMTAyNjAxLFxyXG4gKiAgbmFtZTogJ0NyaXN0byBSZW5kZW50b3InLCAvLyBvcHRpb25hbFxyXG4gKiAgYWRkcmVzczogJ1BhcnF1ZSBOYWNpb25hbCBkYSBUaWp1Y2EgLSBBbHRvIGRhIEJvYSBWaXN0YSwgUmlvIGRlIEphbmVpcm8gLSBSSicsIC8vIG9wdGlvbmFsXHJcbiAqICB1cmw6ICdodHRwczovL3NhbnR1YXJpb2NyaXN0b3JlZGVudG9yLmNvbS5ici8nIC8vIG9wdGlvbmFsXHJcbiAqIH0pO1xyXG4gKlxyXG4gKiAvLyBtaW5pbWFsXHJcbiAqIFdQUC5jaGF0LnNlbmRMb2NhdGlvbk1lc3NhZ2UoJ1tudW1iZXJdQGMudXMnLCB7XHJcbiAqICBsYXQ6IC0yMi45NTIwMSxcclxuICogIGxuZzogLTQzLjIxMDI2MDEsXHJcbiAqIH0pO1xyXG4gKlxyXG4gKiAvLyBuYW1lIGFuZCBhZGRyZXNzXHJcbiAqIFdQUC5jaGF0LnNlbmRMb2NhdGlvbk1lc3NhZ2UoJ1tudW1iZXJdQGMudXMnLCB7XHJcbiAqICBsYXQ6IC0yMi45NTIwMSxcclxuICogIGxuZzogLTQzLjIxMDI2MDEsXHJcbiAqICBuYW1lOiAnQ3Jpc3RvIFJlbmRlbnRvcicsXHJcbiAqICBhZGRyZXNzOiAnUGFycXVlIE5hY2lvbmFsIGRhIFRpanVjYSAtIEFsdG8gZGEgQm9hIFZpc3RhLCBSaW8gZGUgSmFuZWlybyAtIFJKJ1xyXG4gKiB9KTtcclxuICpcclxuICogLy8gd2l0aCBidXR0b25zXHJcbiAqIFdQUC5jaGF0LnNlbmRMb2NhdGlvbk1lc3NhZ2UoJ1tudW1iZXJdQGMudXMnLCB7XHJcbiAqICBsYXQ6IC0yMi45NTIwMSxcclxuICogIGxuZzogLTQzLjIxMDI2MDEsXHJcbiAqICBuYW1lOiAnQ3Jpc3RvIFJlbmRlbnRvcicsXHJcbiAqICBhZGRyZXNzOiAnUGFycXVlIE5hY2lvbmFsIGRhIFRpanVjYSAtIEFsdG8gZGEgQm9hIFZpc3RhLCBSaW8gZGUgSmFuZWlybyAtIFJKJyxcclxuICogIGJ1dHRvbnM6IFtcclxuICogICAgICB7XHJcbiAqICAgICAgICAgIHVybDogJ2h0dHBzOi8vZXhhbXBsZS50ZXN0LycsXHJcbiAqICAgICAgICAgIHRleHQ6ICdVUkwgZXhhbXBsZSdcclxuICogICAgICB9LFxyXG4gKiAgICAgIHtcclxuICogICAgICAgICAgcGhvbmVOdW1iZXI6ICcrNTUgMTIgMzQ1NiA3Nzc3JyxcclxuICogICAgICAgICAgdGV4dDogJ1Bob25lIE51bWJlcidcclxuICogICAgICB9LFxyXG4gKiAgICAgIHtcclxuICogICAgICAgICAgaWQ6ICdpZDEnLFxyXG4gKiAgICAgICAgICB0ZXh0OiAnRmlyc3QnXHJcbiAqICAgICAgfSxcclxuICogICAgICB7XHJcbiAqICAgICAgICAgIGlkOiAnaWQyJyxcclxuICogICAgICAgICAgdGV4dDogJ1NlY29uZCdcclxuICogICAgICB9LFxyXG4gKiAgICAgIHtcclxuICogICAgICAgICAgaWQ6ICdvdGhlcicsXHJcbiAqICAgICAgICAgIHRleHQ6ICdPdGhlcidcclxuICogICAgICB9XHJcbiAqICBdLFxyXG4gKiB9KTtcclxuICogYGBgXHJcbiAqIEBjYXRlZ29yeSBNZXNzYWdlXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZExvY2F0aW9uTWVzc2FnZShcclxuICBjaGF0SWQ6IGFueSxcclxuICBvcHRpb25zOiBMb2NhdGlvbk1lc3NhZ2VPcHRpb25zXHJcbik6IFByb21pc2U8U2VuZE1lc3NhZ2VSZXR1cm4+IHtcclxuICBvcHRpb25zID0ge1xyXG4gICAgLi4uZGVmYXVsdFNlbmRNZXNzYWdlT3B0aW9ucyxcclxuICAgIC4uLm9wdGlvbnMsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgbG9jYXRpb24gPVxyXG4gICAgb3B0aW9ucy5uYW1lICYmIG9wdGlvbnMuYWRkcmVzc1xyXG4gICAgICA/IGAke29wdGlvbnMubmFtZX1cXG4ke29wdGlvbnMuYWRkcmVzc31gXHJcbiAgICAgIDogb3B0aW9ucy5uYW1lIHx8IG9wdGlvbnMuYWRkcmVzcyB8fCAnJztcclxuXHJcbiAgaWYgKHR5cGVvZiBvcHRpb25zLmxhdCA9PT0gJ3N0cmluZycpIHtcclxuICAgIG9wdGlvbnMubGF0ID0gcGFyc2VGbG9hdChvcHRpb25zLmxhdCk7XHJcbiAgfVxyXG5cclxuICBpZiAodHlwZW9mIG9wdGlvbnMubG5nID09PSAnc3RyaW5nJykge1xyXG4gICAgb3B0aW9ucy5sbmcgPSBwYXJzZUZsb2F0KG9wdGlvbnMubG5nKTtcclxuICB9XHJcblxyXG4gIGxldCByYXdNZXNzYWdlOiBSYXdNZXNzYWdlID0ge1xyXG4gICAgdHlwZTogJ2xvY2F0aW9uJyxcclxuICAgIGxhdDogb3B0aW9ucy5sYXQsXHJcbiAgICBsbmc6IG9wdGlvbnMubG5nLFxyXG4gICAgbG9jOiBsb2NhdGlvbixcclxuICAgIGNsaWVudFVybDogb3B0aW9ucy51cmwsXHJcbiAgfTtcclxuXHJcbiAgcmF3TWVzc2FnZSA9IHByZXBhcmVNZXNzYWdlQnV0dG9ucyhyYXdNZXNzYWdlLCBvcHRpb25zIGFzIGFueSk7XHJcblxyXG4gIHJldHVybiBhd2FpdCBzZW5kUmF3TWVzc2FnZShjaGF0SWQsIHJhd01lc3NhZ2UsIG9wdGlvbnMpO1xyXG59XHJcblxyXG53ZWJwYWNrLm9uRnVsbFJlYWR5KCgpID0+IHtcclxuICB3cmFwTW9kdWxlRnVuY3Rpb24obWVkaWFUeXBlRnJvbVByb3RvYnVmLCAoZnVuYywgLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgW3Byb3RvXSA9IGFyZ3M7XHJcbiAgICBpZiAocHJvdG8ubG9jYXRpb25NZXNzYWdlKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmMoLi4uYXJncyk7XHJcbiAgfSk7XHJcblxyXG4gIHdyYXBNb2R1bGVGdW5jdGlvbih0eXBlQXR0cmlidXRlRnJvbVByb3RvYnVmLCAoZnVuYywgLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgW3Byb3RvXSA9IGFyZ3M7XHJcbiAgICBpZiAocHJvdG8ubG9jYXRpb25NZXNzYWdlKSB7XHJcbiAgICAgIHJldHVybiAndGV4dCc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuYyguLi5hcmdzKTtcclxuICB9KTtcclxufSk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZ2VuZXJhdGVPcmRlclVuaXF1ZUlkLCBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQge1xyXG4gIGRlZmF1bHRTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgUmF3TWVzc2FnZSxcclxuICBTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgU2VuZE1lc3NhZ2VSZXR1cm4sXHJcbn0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBzZW5kUmF3TWVzc2FnZSB9IGZyb20gJy4nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBPcmRlckl0ZW1zIHtcclxuICB0eXBlOiAncHJvZHVjdCcgfCAnY3VzdG9tJztcclxuICBpZD86IG51bWJlcltdIHwgc3RyaW5nW107XHJcbiAgbmFtZT86IHN0cmluZztcclxuICBwcmljZT86IG51bWJlcjtcclxuICBxbnQ/OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgT3JkZXJNZXNzYWdlT3B0aW9ucyBleHRlbmRzIFNlbmRNZXNzYWdlT3B0aW9ucyB7XHJcbiAgbm90ZXM/OiBzdHJpbmc7XHJcbiAgZGlzY291bnQ/OiBudW1iZXI7XHJcbiAgdGF4PzogbnVtYmVyO1xyXG4gIHNoaXBwaW5nPzogbnVtYmVyO1xyXG4gIG9mZnNldD86IG51bWJlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNlbmQgYSBpbnZvaWNlIG1lc3NhZ2VcclxuICogVG8gc2VuZCAocHJpY2VzLCB0YXgsIHNoaXBwaW5nIG9yIGRpc2NvdW50KSwgZm9yIGV4YW1wbGU6IFVTRCAxMi45MCwgc2VuZCB0aGVtIHdpdGhvdXQgZG90cyBvciBjb21tYXMsIGxpa2U6IDEyOTAwXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gU2VuZCBQSVggS2V5IE1lc3NhZ2UgKEJyYXppbCBQaXggS2V5KVxyXG4gKiBXUFAuY2hhdC5zZW5kUGl4S2V5TWVzc2FnZSgnW251bWJlcl1AYy51cycsIHtcclxuICogICAgIGtleVR5cGU6ICdDTlBKJyxcclxuICogICAgIG5hbWU6ICdXUFBDT05ORUNULVRFQU0nLFxyXG4gKiAgICAga2V5OiAnMzM0NjA1MTYwMDAxNzgnLFxyXG4gKiAgICAgaW5zdHJ1Y3Rpb25zOiAnUGF5IHRleHQgZm9yIGluc3RydWN0aW9ucyBoZXJlJyxcclxuICogfSk7XHJcbiAqXHJcbiAqIGBgYFxyXG4gKiBAY2F0ZWdvcnkgTWVzc2FnZVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRQaXhLZXlNZXNzYWdlKFxyXG4gIGNoYXRJZDogYW55LFxyXG4gIHBhcmFtczoge1xyXG4gICAga2V5VHlwZTogJ0NOUEonIHwgJ0NQRicgfCAnUEhPTkUnIHwgJ0VNQUlMJyB8ICdFVlAnO1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAga2V5OiBzdHJpbmc7XHJcbiAgICBpbnN0cnVjdGlvbnM/OiBzdHJpbmc7XHJcbiAgfSxcclxuICBvcHRpb25zPzogU2VuZE1lc3NhZ2VPcHRpb25zXHJcbik6IFByb21pc2U8U2VuZE1lc3NhZ2VSZXR1cm4+IHtcclxuICBpZiAoIWNoYXRJZCB8fCAhcGFyYW1zLmtleVR5cGUgfHwgIXBhcmFtcy5uYW1lIHx8ICFwYXJhbXMua2V5KVxyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAncGFyYW1ldGVyX25vdF9mb3VudCcsXHJcbiAgICAgICdQbGVhc2UsIHNlbmQgYWxsIHRoZSByZXF1aXJlZCBwYXJhbWV0ZXJzJ1xyXG4gICAgKTtcclxuICBvcHRpb25zID0ge1xyXG4gICAgLi4uZGVmYXVsdFNlbmRNZXNzYWdlT3B0aW9ucyxcclxuICAgIC4uLm9wdGlvbnMsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYnV0dG9uUGFyYW1zSnNvbiA9IHtcclxuICAgIG9yZGVyOiB7XHJcbiAgICAgIGl0ZW1zOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbmFtZTogJycsXHJcbiAgICAgICAgICByZXRhaWxlcl9pZDogYGN1c3RvbS1pdGVtLSR7Z2VuZXJhdGVPcmRlclVuaXF1ZUlkKCl9YCxcclxuICAgICAgICAgIGFtb3VudDoge1xyXG4gICAgICAgICAgICBvZmZzZXQ6IDEsXHJcbiAgICAgICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHF1YW50aXR5OiAwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF0sXHJcbiAgICAgIG9yZGVyX3R5cGU6ICdPUkRFUl9XSVRIT1VUX0FNT1VOVCcsXHJcbiAgICAgIHN0YXR1czogJ3BheW1lbnRfcmVxdWVzdGVkJyxcclxuICAgICAgc3VidG90YWw6IHtcclxuICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICBvZmZzZXQ6IDEsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgdG90YWxfYW1vdW50OiB7XHJcbiAgICAgIHZhbHVlOiAwLFxyXG4gICAgICBvZmZzZXQ6IDEsXHJcbiAgICB9LFxyXG4gICAgcmVmZXJlbmNlX2lkOiBnZW5lcmF0ZU9yZGVyVW5pcXVlSWQoKSxcclxuICAgIHBheW1lbnRfc2V0dGluZ3M6IFtcclxuICAgICAge1xyXG4gICAgICAgIHR5cGU6ICdwaXhfc3RhdGljX2NvZGUnLFxyXG4gICAgICAgIHBpeF9zdGF0aWNfY29kZToge1xyXG4gICAgICAgICAga2V5X3R5cGU6IHBhcmFtcy5rZXlUeXBlLFxyXG4gICAgICAgICAgbWVyY2hhbnRfbmFtZTogcGFyYW1zLm5hbWUsXHJcbiAgICAgICAgICBrZXk6IHBhcmFtcy5rZXksXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHR5cGU6ICdjYXJkcycsXHJcbiAgICAgICAgY2FyZHM6IHtcclxuICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gICAgZXh0ZXJuYWxfcGF5bWVudF9jb25maWd1cmF0aW9uczogW1xyXG4gICAgICB7XHJcbiAgICAgICAgcGF5bWVudF9pbnN0cnVjdGlvbjogcGFyYW1zLmluc3RydWN0aW9ucyB8fCAnJyxcclxuICAgICAgICB0eXBlOiAncGF5bWVudF9pbnN0cnVjdGlvbicsXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gICAgYWRkaXRpb25hbF9ub3RlOiAnJyxcclxuICAgIGN1cnJlbmN5OiAnQlJMJyxcclxuICAgIHR5cGU6ICdwaHlzaWNhbC1nb29kcycsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgbWVzc2FnZTogUmF3TWVzc2FnZSA9IHtcclxuICAgIHR5cGU6ICdpbnRlcmFjdGl2ZScsXHJcbiAgICBjYXB0aW9uOiAnJyxcclxuICAgIG5hdGl2ZUZsb3dOYW1lOiAncGF5bWVudF9pbmZvJyxcclxuICAgIGludGVyYWN0aXZlVHlwZTogJ25hdGl2ZV9mbG93JyxcclxuICAgIGludGVyYWN0aXZlUGF5bG9hZDoge1xyXG4gICAgICBidXR0b25zOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgYnV0dG9uUGFyYW1zSnNvbjogSlNPTi5zdHJpbmdpZnkoYnV0dG9uUGFyYW1zSnNvbiksXHJcbiAgICAgICAgICBuYW1lOiAncGF5bWVudF9pbmZvJyxcclxuICAgICAgICB9LFxyXG4gICAgICBdLFxyXG4gICAgICBtZXNzYWdlVmVyc2lvbjogMSxcclxuICAgIH0sXHJcbiAgICBtZXNzYWdlU2VjcmV0OiBzZWxmLmNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMzIpKSxcclxuICB9O1xyXG4gIHJldHVybiBhd2FpdCBzZW5kUmF3TWVzc2FnZShjaGF0SWQsIG1lc3NhZ2UsIG9wdGlvbnMpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IERlYnVnIGZyb20gJ2RlYnVnJztcclxuXHJcbmltcG9ydCB7IGFzc2VydEZpbmRDaGF0IH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgZ2V0QW5ub3VuY2VtZW50R3JvdXAgfSBmcm9tICcuLi8uLi9jb21tdW5pdHknO1xyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBHcm91cE1ldGFkYXRhU3RvcmUsIE1zZ01vZGVsIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBBQ0sgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9lbnVtcyc7XHJcbmltcG9ydCB7XHJcbiAgYWRkQW5kU2VuZE1lc3NhZ2VFZGl0LFxyXG4gIGFkZEFuZFNlbmRNc2dUb0NoYXQsXHJcbiAgYWRkTmV3c2xldHRlck1zZ3NSZWNvcmRzLFxyXG4gIG1zZ0RhdGFGcm9tTXNnTW9kZWwsXHJcbiAgc2VuZE5ld3NsZXR0ZXJNZXNzYWdlSm9iLFxyXG4gIHVwZGF0ZU5ld3NsZXR0ZXJNc2dSZWNvcmQsXHJcbn0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHtcclxuICBkZWZhdWx0U2VuZE1lc3NhZ2VPcHRpb25zLFxyXG4gIFJhd01lc3NhZ2UsXHJcbiAgU2VuZE1lc3NhZ2VPcHRpb25zLFxyXG4gIFNlbmRNZXNzYWdlUmV0dXJuLFxyXG59IGZyb20gJy4uJztcclxuaW1wb3J0IHsgZ2V0TWVzc2FnZUJ5SWQsIG1hcmtJc1JlYWQsIHByZXBhcmVSYXdNZXNzYWdlIH0gZnJvbSAnLic7XHJcblxyXG5jb25zdCBkZWJ1ZyA9IERlYnVnKCdXQS1KUzptZXNzYWdlJyk7XHJcblxyXG4vKipcclxuICogU2VuZCBhIHJhdyBtZXNzYWdlXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBNZXNzYWdlXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFJhd01lc3NhZ2UoXHJcbiAgY2hhdElkOiBhbnksXHJcbiAgcmF3TWVzc2FnZTogUmF3TWVzc2FnZSxcclxuICBvcHRpb25zOiBTZW5kTWVzc2FnZU9wdGlvbnMgPSB7fVxyXG4pOiBQcm9taXNlPFNlbmRNZXNzYWdlUmV0dXJuPiB7XHJcbiAgb3B0aW9ucyA9IHtcclxuICAgIC4uLmRlZmF1bHRTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgICAuLi5vcHRpb25zLFxyXG4gIH07XHJcblxyXG4gIC8vIEFsd2F5cyB1c2UgYXNzZXJ0RmluZENoYXQgdG8gcHJvcGVybHkgaGFuZGxlIEBsaWQgY2hhdHMgYW5kIG90aGVyIGNhc2VzXHJcbiAgY29uc3QgY2hhdCA9IGF3YWl0IGFzc2VydEZpbmRDaGF0KGNoYXRJZCk7XHJcblxyXG4gIC8qKlxyXG4gICAqIFdoZW4gdGhlIGdyb3VwIGlzIGdyb3VwVHlwZSAnQ09NTVVOSVRZJywgaXRzIGEgaW5zdGFuY2Ugb2YgYSBncm91cCBjcmVhdGVkLCB5b3UgY2FuXHJcbiAgICogbm90IHNlbmQgbWVzc2FnZSBmb3IgdGhpcyBncm91cHR5cGUuIFlvdSBvbmx5IGNhbiBzZW5kIG1lc3NhZ2UgZm9yIGxpbmtlZCBhbm5vdW5jZW1lbnQgZ3JvdXBzXHJcbiAgICovXHJcbiAgaWYgKGNoYXQuaXNHcm91cCAmJiBjaGF0LmlzUGFyZW50R3JvdXApIHtcclxuICAgIGNvbnN0IGdyb3VwRGF0YSA9IEdyb3VwTWV0YWRhdGFTdG9yZS5nZXQoY2hhdC5pZD8udG9TdHJpbmcoKSk7XHJcbiAgICBpZiAoZ3JvdXBEYXRhPy5ncm91cFR5cGUgPT0gJ0NPTU1VTklUWScpIHtcclxuICAgICAgY29uc3QgYW5ub3VuY2VHcm91cCA9IGdldEFubm91bmNlbWVudEdyb3VwKGdyb3VwRGF0YS5pZCk7XHJcbiAgICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgICAnY2FuX25vdF9zZW5kX21lc3NhZ2VfdG9fdGhpc19ncm91cFR5cGUnLFxyXG4gICAgICAgIGBZb3UgY2FuIG5vdCBzZW5kIG1lc3NhZ2UgdG8gdGhpcyBncm91cFR5cGUgJ0NPTU1VTklUWScsIHNlbmQgZm9yIEFubm91bmNlbWVudCBHcm91cC4gQ29ycmVjdCBhbm5vdW5jZW1lbnQgZ3JvdXBJZDogJHthbm5vdW5jZUdyb3VwPy50b1N0cmluZygpfWBcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJhd01lc3NhZ2UgPSBhd2FpdCBwcmVwYXJlUmF3TWVzc2FnZShjaGF0LCByYXdNZXNzYWdlLCBvcHRpb25zKTtcclxuXHJcbiAgaWYgKG9wdGlvbnMubWFya0lzUmVhZCkge1xyXG4gICAgZGVidWcoYG1hcmtpbmcgY2hhdCBpcyByZWFkIGJlZm9yZSBzZW5kIG1lc3NhZ2VgKTtcclxuICAgIC8vIFRyeSB0byBtYXJrIGlzIHJlYWQgYW5kIGlnbm9yZSBlcnJvcnNcclxuICAgIGF3YWl0IG1hcmtJc1JlYWQoY2hhdC5pZCkuY2F0Y2goKCkgPT4gbnVsbCk7XHJcbiAgfVxyXG5cclxuICBkZWJ1Zyhgc2VuZGluZyBtZXNzYWdlICgke3Jhd01lc3NhZ2UudHlwZX0pIHdpdGggaWQgJHtyYXdNZXNzYWdlLmlkfWApO1xyXG4gIGxldCByZXN1bHQgPSBudWxsIGFzIGFueTtcclxuICBpZiAoY2hhdD8uaXNOZXdzbGV0dGVyICYmIHJhd01lc3NhZ2UudHlwZSkge1xyXG4gICAgY29uc3QgdmFsaWRUeXBlcyA9IFsnY2hhdCcsICdpbWFnZScsICd2aWRlbycsICdwb2xsX2NyZWF0aW9uJ107XHJcbiAgICBpZiAoIXZhbGlkVHlwZXMuaW5jbHVkZXMocmF3TWVzc2FnZS50eXBlKSlcclxuICAgICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAgICd0eXBlX25vdF92YWxpZF9mb3JfbmV3c2xldHRlcicsXHJcbiAgICAgICAgJ1BsZWFzZSwgc2VuZCBhIHZhbGlkIHR5cGUgZm9yIHNlbmQgbWVzc2FnZSB0byBuZXdzbGV0dGVyLiBWYWxpZCB0eXBlczogXCJjaGF0XCIsIFwiaW1hZ2VcIiwgXCJ2aWRlb1wiLCBcInBvbGxfY3JlYXRpb25cIidcclxuICAgICAgKTtcclxuICAgIGNvbnN0IG1zZyA9IG5ldyBNc2dNb2RlbChyYXdNZXNzYWdlIGFzIGFueSk7XHJcbiAgICBhd2FpdCBhZGROZXdzbGV0dGVyTXNnc1JlY29yZHMoW2F3YWl0IG1zZ0RhdGFGcm9tTXNnTW9kZWwobXNnKV0pO1xyXG4gICAgY29uc3QgcmVzdWx0TmV3c2xldHRlciA9IGF3YWl0IHNlbmROZXdzbGV0dGVyTWVzc2FnZUpvYih7XHJcbiAgICAgIHR5cGU6XHJcbiAgICAgICAgcmF3TWVzc2FnZS50eXBlID09ICdjaGF0JyAmJiAhcmF3TWVzc2FnZS5lZGl0TXNnVHlwZVxyXG4gICAgICAgICAgPyAndGV4dCdcclxuICAgICAgICAgIDogcmF3TWVzc2FnZS50eXBlID09ICdwb2xsX2NyZWF0aW9uJ1xyXG4gICAgICAgICAgICA/ICdwb2xsQ3JlYXRpb24nXHJcbiAgICAgICAgICAgIDogJ21lZGlhJyxcclxuICAgICAgbXNnRGF0YTogcmF3TWVzc2FnZSxcclxuICAgICAgbXNnOiBuZXcgTXNnTW9kZWwocmF3TWVzc2FnZSBhcyBhbnkpLFxyXG4gICAgICBuZXdzbGV0dGVySmlkOiBjaGF0LmlkLnRvU3RyaW5nKCksXHJcbiAgICB9KTtcclxuICAgIGNoYXQubXNncy5hZGQobXNnKTtcclxuXHJcbiAgICBpZiAocmVzdWx0TmV3c2xldHRlci5zdWNjZXNzKSB7XHJcbiAgICAgIG1zZy50ID0gcmVzdWx0TmV3c2xldHRlci5hY2sudDtcclxuICAgICAgbXNnLnNlcnZlcklkID0gcmVzdWx0TmV3c2xldHRlci5zZXJ2ZXJJZDtcclxuICAgIH1cclxuICAgIG1zZy51cGRhdGVBY2soQUNLLlNFTlQsIHRydWUpO1xyXG4gICAgYXdhaXQgdXBkYXRlTmV3c2xldHRlck1zZ1JlY29yZChtc2cpO1xyXG4gICAgcmVzdWx0ID0gW21zZywgJ09LJ107XHJcbiAgfSBlbHNlIGlmIChcclxuICAgIHJhd01lc3NhZ2UudHlwZSA9PT0gJ3Byb3RvY29sJyAmJlxyXG4gICAgcmF3TWVzc2FnZS5zdWJ0eXBlID09PSAnbWVzc2FnZV9lZGl0J1xyXG4gICkge1xyXG4gICAgY29uc3QgbXNnID0gYXdhaXQgZ2V0TWVzc2FnZUJ5SWQocmF3TWVzc2FnZS5wcm90b2NvbE1lc3NhZ2VLZXkpO1xyXG4gICAgYXdhaXQgYWRkQW5kU2VuZE1lc3NhZ2VFZGl0KG1zZywgcmF3TWVzc2FnZSk7XHJcbiAgICByZXN1bHQgPSBbYXdhaXQgZ2V0TWVzc2FnZUJ5SWQocmF3TWVzc2FnZS5wcm90b2NvbE1lc3NhZ2VLZXkpLCBudWxsXTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmVzdWx0ID0gYXdhaXQgYWRkQW5kU2VuZE1zZ1RvQ2hhdChjaGF0LCByYXdNZXNzYWdlKTtcclxuICB9XHJcbiAgZGVidWcoYG1lc3NhZ2UgJHtyYXdNZXNzYWdlLmlkfSBxdWV1ZWRgKTtcclxuXHJcbiAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHJlc3VsdFswXTtcclxuICBpZiAob3B0aW9ucy53YWl0Rm9yQWNrKSB7XHJcbiAgICBkZWJ1Zyhgd2FpdGluZyBhY2sgZm9yICR7cmF3TWVzc2FnZS5pZH1gKTtcclxuXHJcbiAgICBjb25zdCBzZW5kUmVzdWx0ID0gYXdhaXQgcmVzdWx0WzFdO1xyXG5cclxuICAgIGRlYnVnKFxyXG4gICAgICBgYWNrIHJlY2VpdmVkIGZvciAke3Jhd01lc3NhZ2UuaWR9IChBQ0s6ICR7bWVzc2FnZS5hY2t9LCBTZW5kUmVzdWx0OiAke3NlbmRSZXN1bHR9KWBcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaWQ6IG1lc3NhZ2UuaWQudG9TdHJpbmcoKSxcclxuICAgIGFjazogbWVzc2FnZS5hY2shLFxyXG4gICAgLi4uKG1lc3NhZ2UubGF0ZXN0RWRpdE1zZ0tleSAmJiB7XHJcbiAgICAgIGxhdGVzdEVkaXRNc2dLZXk6IG1lc3NhZ2UubGF0ZXN0RWRpdE1zZ0tleSxcclxuICAgIH0pLFxyXG4gICAgLi4uKG1lc3NhZ2UuZnJvbSAmJiB7XHJcbiAgICAgIGZyb206IG1lc3NhZ2UuZnJvbS50b1N0cmluZygpLFxyXG4gICAgfSksXHJcbiAgICAuLi4oY2hhdCAmJiB7XHJcbiAgICAgIHRvOiBjaGF0LmlkLnRvU3RyaW5nKCksXHJcbiAgICB9KSxcclxuICAgIHNlbmRNc2dSZXN1bHQ6IHJlc3VsdFsxXSEsXHJcbiAgfTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFN0cmluZ2FibGUgfSBmcm9tICcuLi8uLi90eXBlcyc7XHJcbmltcG9ydCB7IE1zZ0tleSwgTXNnTW9kZWwgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IHNlbmRSZWFjdGlvblRvTXNnIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHsgZ2V0TWVzc2FnZUJ5SWQgfSBmcm9tICcuL2dldE1lc3NhZ2VCeUlkJztcclxuXHJcbi8qKlxyXG4gKiBTZW5kIGEgcmVhY3Rpb24gdG8gYSBtZXNzYWdlXHJcbiAqXHJcbiAqIEZ1bGwgRW1vamkgTGlzdDogaHR0cHM6Ly91bmljb2RlLm9yZy9lbW9qaS9jaGFydHMvZnVsbC1lbW9qaS1saXN0Lmh0bWxcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyB0byByZWFjdCBhIG1lc3NhZ2VcclxuICogV1BQLmNoYXQuc2VuZFJlYWN0aW9uVG9NZXNzYWdlKCdbbWVzc2FnZV9pZF0nLCAn8J+krycpO1xyXG4gKlxyXG4gKiAvLyB0byByZW1vdmVcclxuICogV1BQLmNoYXQuc2VuZFJlYWN0aW9uVG9NZXNzYWdlKCdbbWVzc2FnZV9pZF0nLCBmYWxzZSk7XHJcbiAqXHJcbiAqIGBgYFxyXG4gKiBAY2F0ZWdvcnkgTWVzc2FnZVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRSZWFjdGlvblRvTWVzc2FnZShcclxuICBtZXNzYWdlSWQ6IHN0cmluZyB8IE1zZ0tleSB8IE1zZ01vZGVsIHwgU3RyaW5nYWJsZSxcclxuICByZWFjdGlvbjogc3RyaW5nIHwgZmFsc2UgfCBudWxsXHJcbikge1xyXG4gIGlmIChcclxuICAgICEobWVzc2FnZUlkIGluc3RhbmNlb2YgTXNnTW9kZWwpICYmXHJcbiAgICB0eXBlb2YgbWVzc2FnZUlkICE9PSAnc3RyaW5nJyAmJlxyXG4gICAgdHlwZW9mIG1lc3NhZ2VJZC50b1N0cmluZyA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICkge1xyXG4gICAgbWVzc2FnZUlkID0gbWVzc2FnZUlkLnRvU3RyaW5nKCk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBtc2cgPVxyXG4gICAgbWVzc2FnZUlkIGluc3RhbmNlb2YgTXNnTW9kZWxcclxuICAgICAgPyBtZXNzYWdlSWRcclxuICAgICAgOiBhd2FpdCBnZXRNZXNzYWdlQnlJZChtZXNzYWdlSWQudG9TdHJpbmcoKSk7XHJcblxyXG4gIGlmICghcmVhY3Rpb24pIHtcclxuICAgIHJlYWN0aW9uID0gJyc7XHJcbiAgfVxyXG5cclxuICBjb25zdCBzZW5kTXNnUmVzdWx0ID0gYXdhaXQgc2VuZFJlYWN0aW9uVG9Nc2cobXNnLCByZWFjdGlvbik7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBzZW5kTXNnUmVzdWx0LFxyXG4gIH07XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gIGRlZmF1bHRTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgU2VuZE1lc3NhZ2VPcHRpb25zLFxyXG4gIFNlbmRNZXNzYWdlUmV0dXJuLFxyXG59IGZyb20gJy4uJztcclxuaW1wb3J0IHsgc2VuZEV2ZW50TWVzc2FnZSB9IGZyb20gJy4nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTY2hlZHVsZWRDYWxsTWVzc2FnZU9wdGlvbnMgZXh0ZW5kcyBTZW5kTWVzc2FnZU9wdGlvbnMge1xyXG4gIHNjaGVkdWxlZFRpbWVzdGFtcE1zOiBudW1iZXIgfCBzdHJpbmc7XHJcbiAgY2FsbFR5cGU6ICd2aWRlbycgfCAndm9pY2UnO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZW5kIGEgc2NoZWR1bGVkIGNhbGwgbWVzc2FnZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIFdQUC5jaGF0LnNlbmRTY2hlZHVsZWRDYWxsTWVzc2FnZSgnW251bWJlcl1AYy51cycsIHtcclxuICogIHRpdGxlOiBcIlRpdGxlIG9mIGV2ZW50IGNhbGxcIlxyXG4gKiAgZGVzY3JpcHRpb246ICdEZXNjcmlwdGlvbiBmb3IgQ2FsbFwiLFxyXG4gKiAgY2FsbFR5cGU6ICd2b2ljZSdcclxuICogIHNjaGVkdWxlZFRpbWVzdGFtcE1zOiAxNjk2MDg0MjIyMDAwXHJcbiAqIH0pO1xyXG4gKiBgYGBcclxuICogQGNhdGVnb3J5IE1lc3NhZ2VcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kU2NoZWR1bGVkQ2FsbE1lc3NhZ2UoXHJcbiAgY2hhdElkOiBhbnksXHJcbiAgb3B0aW9uczogU2NoZWR1bGVkQ2FsbE1lc3NhZ2VPcHRpb25zXHJcbik6IFByb21pc2U8U2VuZE1lc3NhZ2VSZXR1cm4+IHtcclxuICBvcHRpb25zID0ge1xyXG4gICAgLi4ueyBjYWxsVHlwZTogJ3ZvaWNlJyB9LFxyXG4gICAgLi4uZGVmYXVsdFNlbmRNZXNzYWdlT3B0aW9ucyxcclxuICAgIC4uLm9wdGlvbnMsXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGF3YWl0IHNlbmRFdmVudE1lc3NhZ2UoY2hhdElkLCB7XHJcbiAgICAuLi5vcHRpb25zLFxyXG4gICAgbmFtZTogb3B0aW9ucy50aXRsZSxcclxuICAgIGRlc2NyaXB0aW9uOiBvcHRpb25zPy5kZXNjcmlwdGlvbixcclxuICAgIGNhbGxUeXBlOiBvcHRpb25zLmNhbGxUeXBlLFxyXG4gICAgc3RhcnRUaW1lOiBwYXJzZUludChvcHRpb25zLnNjaGVkdWxlZFRpbWVzdGFtcE1zPy50b1N0cmluZygpKSAvIDEwMDAsXHJcbiAgfSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gIGRlZmF1bHRTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgTGlua1ByZXZpZXdPcHRpb25zLFxyXG4gIE1lc3NhZ2VCdXR0b25zT3B0aW9ucyxcclxuICBSYXdNZXNzYWdlLFxyXG4gIFNlbmRNZXNzYWdlT3B0aW9ucyxcclxuICBTZW5kTWVzc2FnZVJldHVybixcclxufSBmcm9tICcuLic7XHJcbmltcG9ydCB7IHByZXBhcmVMaW5rUHJldmlldywgcHJlcGFyZU1lc3NhZ2VCdXR0b25zLCBzZW5kUmF3TWVzc2FnZSB9IGZyb20gJy4nO1xyXG5cclxuZXhwb3J0IHR5cGUgVGV4dE1lc3NhZ2VPcHRpb25zID0gU2VuZE1lc3NhZ2VPcHRpb25zICZcclxuICBNZXNzYWdlQnV0dG9uc09wdGlvbnMgJlxyXG4gIExpbmtQcmV2aWV3T3B0aW9ucztcclxuXHJcbi8qKlxyXG4gKiBTZW5kIGEgdGV4dCBtZXNzYWdlXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogV1BQLmNoYXQuc2VuZFRleHRNZXNzYWdlKCdbbnVtYmVyXUBjLnVzJywgJ0hlbGxvIG5ldyBjb250YWN0Jywge1xyXG4gKiAgIGNyZWF0ZUNoYXQ6IHRydWVcclxuICogfSk7XHJcbiAqXHJcbiAqIC8vIFdpdGggQnV0dG9uc1xyXG4gKiAvLyBBdHRlbnRpb246IFRoZSBidXR0b25zIGFyZSBhbiBhbHRlcm5hdGl2ZSBzb2x1dGlvbiB3ZSBmb3VuZCB0byBtYWtlIGl0IHdvcmsuIFRoZXJlIGlzIG5vIGd1YXJhbnRlZSB0aGF0IHRoZXkgd2lsbCBjb250aW51ZSBmdW5jdGlvbmluZywgb3Igd2hlbiB0aGV5IG1pZ2h0IHN0b3A6IFRoZSBvbmx5IGNlcnRhaW50eSBpczogVGhleSB3aWxsIHN0b3AsIHNvIHVzZSB0aGVtIHJlc3BvbnNpYmx5LlxyXG4gKiBXUFAuY2hhdC5zZW5kVGV4dE1lc3NhZ2UoJ1tudW1iZXJdQGMudXMnLCAnSGVsbG8nLCB7XHJcbiAqICAgdXNlSW50ZXJhY3RpdmVNZXNzYWdlOiB0cnVlLCAvLyBGYWxzZSBmb3IgbGVnYWN5XHJcbiAqICAgYnV0dG9uczogW1xyXG4gKiAgICAge1xyXG4gKiAgICAgICB1cmw6ICdodHRwczovL3dwcGNvbm5lY3QuaW8vJyxcclxuICogICAgICAgdGV4dDogJ1dQUENvbm5lY3QgU2l0ZSdcclxuICogICAgIH0sXHJcbiAqICAgICB7XHJcbiAqICAgICAgIHBob25lTnVtYmVyOiAnKzU1IDExIDIyMzM0NDU1JyxcclxuICogICAgICAgdGV4dDogJ0NhbGwgbWUnXHJcbiAqICAgICB9LFxyXG4gKiAgICAge1xyXG4gKiAgICAgICBpZDogJ3lvdXIgY3VzdG9tIGlkIDEnLFxyXG4gKiAgICAgICB0ZXh0OiAnU29tZSB0ZXh0J1xyXG4gKiAgICAgfSxcclxuICogICAgIHtcclxuICogICAgICAgY29kZTogJzc4OTg5MCcsXHJcbiAqICAgICAgIHRleHQ6ICdBbm90aGVyIHRleHQnXHJcbiAqICAgICB9XHJcbiAqICAgXSxcclxuICogICB0aXRsZTogJ1RpdGxlIHRleHQnLCAvLyBPcHRpb25hbFxyXG4gKiAgIGZvb3RlcjogJ0Zvb3RlciB0ZXh0JyAvLyBPcHRpb25hbFxyXG4gKiB9KTtcclxuICogYGBgXHJcbiAqIEBjYXRlZ29yeSBNZXNzYWdlXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFRleHRNZXNzYWdlKFxyXG4gIGNoYXRJZDogYW55LFxyXG4gIGNvbnRlbnQ6IGFueSxcclxuICBvcHRpb25zOiBUZXh0TWVzc2FnZU9wdGlvbnMgPSB7fVxyXG4pOiBQcm9taXNlPFNlbmRNZXNzYWdlUmV0dXJuPiB7XHJcbiAgb3B0aW9ucyA9IHtcclxuICAgIC4uLmRlZmF1bHRTZW5kTWVzc2FnZU9wdGlvbnMsXHJcbiAgICAuLi5vcHRpb25zLFxyXG4gIH07XHJcblxyXG4gIGxldCByYXdNZXNzYWdlOiBSYXdNZXNzYWdlID0ge1xyXG4gICAgYm9keTogY29udGVudCxcclxuICAgIHR5cGU6ICdjaGF0JyxcclxuICAgIHN1YnR5cGU6IG51bGwsXHJcbiAgICB1cmxUZXh0OiBudWxsLFxyXG4gICAgdXJsTnVtYmVyOiBudWxsLFxyXG4gIH07XHJcblxyXG4gIHJhd01lc3NhZ2UgPSBwcmVwYXJlTWVzc2FnZUJ1dHRvbnMocmF3TWVzc2FnZSwgb3B0aW9ucyk7XHJcbiAgcmF3TWVzc2FnZSA9IGF3YWl0IHByZXBhcmVMaW5rUHJldmlldyhyYXdNZXNzYWdlLCBvcHRpb25zKTtcclxuXHJcbiAgcmV0dXJuIGF3YWl0IHNlbmRSYXdNZXNzYWdlKGNoYXRJZCwgcmF3TWVzc2FnZSwgb3B0aW9ucyk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRXaWQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBnZXRNeVVzZXJXaWQgfSBmcm9tICcuLi8uLi9jb25uL2Z1bmN0aW9ucy9nZXRNeVVzZXJXaWQnO1xyXG5pbXBvcnQge1xyXG4gIENvbnRhY3RNb2RlbCxcclxuICBDb250YWN0U3RvcmUsXHJcbiAgVkNhcmQsXHJcbiAgVkNhcmREYXRhLFxyXG4gIFdpZCxcclxufSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7XHJcbiAgZGVmYXVsdFNlbmRNZXNzYWdlT3B0aW9ucyxcclxuICBSYXdNZXNzYWdlLFxyXG4gIFNlbmRNZXNzYWdlT3B0aW9ucyxcclxuICBTZW5kTWVzc2FnZVJldHVybixcclxufSBmcm9tICcuLic7XHJcbmltcG9ydCB7IHNlbmRSYXdNZXNzYWdlIH0gZnJvbSAnLic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFZDYXJkQ29udGFjdCB7XHJcbiAgaWQ6IHN0cmluZyB8IFdpZDtcclxuICBuYW1lOiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZW5kIGEgVkNhcmQgYXMgbWVzc2FnZVxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIHNpbmdsZSBjb250YWN0XHJcbiAqIFdQUC5jaGF0LnNlbmRWQ2FyZENvbnRhY3RNZXNzYWdlKCdbbnVtYmVyXUBjLnVzJywge1xyXG4gKiAgIGlkOiAnMTIzNDU2QGMudXMnLFxyXG4gKiAgIG5hbWU6ICdUaGUgQ29udGFjdCBOYW1lJ1xyXG4gKiB9KTtcclxuICpcclxuICogLy8gbXVsdGlwbGUgY29udGFjdHNcclxuICogV1BQLmNoYXQuc2VuZFZDYXJkQ29udGFjdE1lc3NhZ2UoJ1tudW1iZXJdQGMudXMnLCBbXHJcbiAqICAge1xyXG4gKiAgICAgaWQ6ICcxMjM0NTZAYy51cycsXHJcbiAqICAgICBuYW1lOiAnVGhlIENvbnRhY3QgTmFtZSdcclxuICogICB9LFxyXG4gKiAgIHtcclxuICogICAgIGlkOiAnNDU2Nzg5QGMudXMnLFxyXG4gKiAgICAgbmFtZTogJ0Fub3RoZXIgQ29udGFjdCdcclxuICogICB9LFxyXG4gKiBdKTtcclxuICpcclxuICogYGBgXHJcbiAqIEBjYXRlZ29yeSBNZXNzYWdlXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFZDYXJkQ29udGFjdE1lc3NhZ2UoXHJcbiAgY2hhdElkOiBhbnksXHJcbiAgY29udGFjdHM6IHN0cmluZyB8IFdpZCB8IFZDYXJkQ29udGFjdCB8IChzdHJpbmcgfCBXaWQgfCBWQ2FyZENvbnRhY3QpW10sXHJcbiAgb3B0aW9uczogU2VuZE1lc3NhZ2VPcHRpb25zID0ge31cclxuKTogUHJvbWlzZTxTZW5kTWVzc2FnZVJldHVybj4ge1xyXG4gIG9wdGlvbnMgPSB7XHJcbiAgICAuLi5kZWZhdWx0U2VuZE1lc3NhZ2VPcHRpb25zLFxyXG4gICAgLi4ub3B0aW9ucyxcclxuICB9O1xyXG5cclxuICBpZiAoIUFycmF5LmlzQXJyYXkoY29udGFjdHMpKSB7XHJcbiAgICBjb250YWN0cyA9IFtjb250YWN0c107XHJcbiAgfVxyXG5cclxuICBjb25zdCB2Y2FyZHM6IFZDYXJkRGF0YVtdID0gW107XHJcblxyXG4gIGZvciAoY29uc3QgY29udGFjdCBvZiBjb250YWN0cykge1xyXG4gICAgbGV0IGlkID0gJyc7XHJcbiAgICBsZXQgbmFtZSA9ICcnO1xyXG5cclxuICAgIGlmICh0eXBlb2YgY29udGFjdCA9PT0gJ29iamVjdCcgJiYgJ25hbWUnIGluIGNvbnRhY3QpIHtcclxuICAgICAgaWQgPSBjb250YWN0LmlkLnRvU3RyaW5nKCk7XHJcbiAgICAgIG5hbWUgPSBjb250YWN0Lm5hbWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZCA9IGNvbnRhY3QudG9TdHJpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgY29udGFjdE1vZGVsID0gQ29udGFjdFN0b3JlLmdldChpZCk7XHJcbiAgICBpZiAoIWNvbnRhY3RNb2RlbCkge1xyXG4gICAgICBjb250YWN0TW9kZWwgPSBuZXcgQ29udGFjdE1vZGVsKHtcclxuICAgICAgICBpZDogYXNzZXJ0V2lkKGlkKSxcclxuICAgICAgICBuYW1lLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1c2VyID0gZ2V0TXlVc2VyV2lkKCk7XHJcblxyXG4gICAgaWYgKCFuYW1lICYmIGNvbnRhY3RNb2RlbC5pZC5lcXVhbHModXNlcikpIHtcclxuICAgICAgbmFtZSA9IGNvbnRhY3RNb2RlbC5kaXNwbGF5TmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobmFtZSkge1xyXG4gICAgICAvLyBDcmVhdGUgYSBjbG9uZVxyXG4gICAgICBjb250YWN0TW9kZWwgPSBuZXcgQ29udGFjdE1vZGVsKGNvbnRhY3RNb2RlbC5hdHRyaWJ1dGVzKTtcclxuICAgICAgY29udGFjdE1vZGVsLm5hbWUgPSBuYW1lO1xyXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29udGFjdE1vZGVsLCAnZm9ybWF0dGVkTmFtZScsIHsgdmFsdWU6IG5hbWUgfSk7XHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb250YWN0TW9kZWwsICdkaXNwbGF5TmFtZScsIHsgdmFsdWU6IG5hbWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmNhcmRzLnB1c2goVkNhcmQudmNhcmRGcm9tQ29udGFjdE1vZGVsKGNvbnRhY3RNb2RlbCkpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbWVzc2FnZTogUmF3TWVzc2FnZSA9IHt9O1xyXG5cclxuICBpZiAodmNhcmRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgbWVzc2FnZS50eXBlID0gJ3ZjYXJkJztcclxuICAgIG1lc3NhZ2UuYm9keSA9IHZjYXJkc1swXS52Y2FyZDtcclxuICAgIG1lc3NhZ2UudmNhcmRGb3JtYXR0ZWROYW1lID0gdmNhcmRzWzBdLmRpc3BsYXlOYW1lO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBtZXNzYWdlLnR5cGUgPSAnbXVsdGlfdmNhcmQnO1xyXG4gICAgbWVzc2FnZS52Y2FyZExpc3QgPSB2Y2FyZHM7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc2VuZFJhd01lc3NhZ2UoY2hhdElkLCBtZXNzYWdlLCBvcHRpb25zKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IENtZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgd3JhcE1vZHVsZUZ1bmN0aW9uIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHtcclxuICBnZXRTaG91bGRBcHBlYXJJbkxpc3QsXHJcbiAgaXNGaWx0ZXJFeGNsdWRlZEZyb21TZWFyY2hUcmVhdG1lbnRJbkluYm94RmxvdyxcclxufSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuLyoqXHJcbiAqIFNldCBjdXN0b20gQ2hhdCBsaXN0IGluIHBhbmVsIG9mIHdoYXRzYXBwXHJcbiAqICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyBZb3VyIGN1c3RvbSBsaXN0XHJcbiAqIFdQUC5jaGF0LnNldENoYXRMaXN0KCdjdXN0b20nLCBbJ251bWJlckBjLnVzJywgJ251bWJlcjJAYy51cyddKTtcclxuICpcclxuICogLy8gTGlzdCBvbmx5IHdpdGggdW5yZWFkIGNoYXRzXHJcbiAqIFdQUC5jaGF0LnNldENoYXRMaXN0KCd1bnJlYWQnKTtcclxuICpcclxuICogLy8gTGlzdCBvbmx5IHdpdGggZmF2b3JpdGVzIGNoYXRzXHJcbiAqIFdQUC5jaGF0LnNldENoYXRMaXN0KCdmYXZvcml0ZXMnKTtcclxuICpcclxuICogLy8gTGlzdCBvbmx5IHdpdGggZ3JvdXBzIGNoYXRzXHJcbiAqIFdQUC5jaGF0LnNldENoYXRMaXN0KCdncm91cCcpO1xyXG4gKlxyXG4gKiAvLyBMaXN0IG9ubHkgbGFiZWxzIGNoYXRcclxuICogV1BQLmNoYXQuc2V0Q2hhdExpc3QoJ2xhYmVscycsICc0NTQ1NDVfbGFiZWxJZCcpO1xyXG4gKiBgYGBcclxuICogQGNhdGVnb3J5IENoYXRcclxuICovXHJcbmxldCBhbGxvd0xpc3Q6IHN0cmluZ1tdID0gW107XHJcbmxldCBmaWx0ZXJUeXBlOiBzdHJpbmcgPSAnYWxsJztcclxuXHJcbmV4cG9ydCBlbnVtIEZpbHRlckNoYXRMaXN0VHlwZXMge1xyXG4gIEFMTCA9ICdhbGwnLFxyXG4gIENVU1RPTSA9ICdjdXN0b20nLFxyXG4gIFVOUkVBRCA9ICd1bnJlYWQnLFxyXG4gIFBFUlNPTkFMID0gJ3BlcnNvbmFsJyxcclxuICBOT05fQ09OVEFDVCA9ICdub25fY29udGFjdCcsXHJcbiAgR1JPVVAgPSAnZ3JvdXAnLFxyXG4gIEZBVk9SSVRFUyA9ICdmYXZvcml0ZXMnLFxyXG4gIENPTlRBQ1QgPSAnY29udGFjdCcsXHJcbiAgQlVTSU5FU1MgPSAnYnVzaW5lc3MnLFxyXG4gIEJST0FEQ0FTVCA9ICdicm9hZGNhc3QnLFxyXG4gIExBQkVMUyA9ICdsYWJlbHMnLFxyXG4gIEFTU0lHTkVEX1RPX1lPVSA9ICdhc3NpZ25lZF90b195b3UnLFxyXG59XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRDaGF0TGlzdChcclxuICB0eXBlOiBGaWx0ZXJDaGF0TGlzdFR5cGVzLFxyXG4gIGlkcz86IHN0cmluZyB8IHN0cmluZ1tdXHJcbik6IFByb21pc2U8eyB0eXBlOiBGaWx0ZXJDaGF0TGlzdFR5cGVzOyBsaXN0Pzogc3RyaW5nW10gfT4ge1xyXG4gIGZpbHRlclR5cGUgPSB0eXBlO1xyXG4gIGlmICghdHlwZSkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKCdzZW5kX3R5cGVfZmlsdGVyJywgYFBsZWFzZSBzZW5kIGEgdmFsaWQgdHlwZSBmaWx0ZXJgKTtcclxuICB9IGVsc2UgaWYgKHR5cGUgPT0gRmlsdGVyQ2hhdExpc3RUeXBlcy5MQUJFTFMgJiYgIWlkcykge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKCdzZW5kX2xhYmVsSWQnLCBgUGxlYXNlIHNlbmQgYSB2YWxpZCBsYWJlbCBpZGApO1xyXG4gIH0gZWxzZSBpZiAodHlwZSA9PSBGaWx0ZXJDaGF0TGlzdFR5cGVzLkNVU1RPTSAmJiAhaWRzKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoJ3NlbmRfaWRzJywgYFBsZWFzZSBzZW5kIGEgdmFsaWQgaWRzYCk7XHJcbiAgfVxyXG4gIGlmICh0eXBlb2YgaWRzID09ICdzdHJpbmcnKSBpZHMgPSBbaWRzXTtcclxuICBpZiAodHlwZSA9PSBGaWx0ZXJDaGF0TGlzdFR5cGVzLkNVU1RPTSAmJiBpZHMpIHtcclxuICAgIGFsbG93TGlzdCA9IGlkcztcclxuICAgIENtZC50cmlnZ2VyKCdzZXRfYWN0aXZlX2ZpbHRlcicsICd1bnJlYWQnKTtcclxuICAgIENtZC50cmlnZ2VyKCdzZXRfYWN0aXZlX2ZpbHRlcicpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdHlwZTogdHlwZSBhcyBhbnksXHJcbiAgICAgIGxpc3Q6IGFsbG93TGlzdCxcclxuICAgIH07XHJcbiAgfSBlbHNlIGlmICh0eXBlID09IEZpbHRlckNoYXRMaXN0VHlwZXMuQUxMKSB7XHJcbiAgICBDbWQudHJpZ2dlcignc2V0X2FjdGl2ZV9maWx0ZXInKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHR5cGU6IHR5cGUgYXMgYW55LFxyXG4gICAgfTtcclxuICB9IGVsc2UgaWYgKHR5cGUgPT0gRmlsdGVyQ2hhdExpc3RUeXBlcy5MQUJFTFMpIHtcclxuICAgIENtZC50cmlnZ2VyKCdzZXRfYWN0aXZlX2ZpbHRlcicsIEZpbHRlckNoYXRMaXN0VHlwZXMuTEFCRUxTLCBpZHMhWzBdKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHR5cGU6IHR5cGUgYXMgYW55LFxyXG4gICAgfTtcclxuICB9IGVsc2Uge1xyXG4gICAgQ21kLnRyaWdnZXIoJ3NldF9hY3RpdmVfZmlsdGVyJywgJ3VucmVhZCcpO1xyXG4gICAgQ21kLnRyaWdnZXIoJ3NldF9hY3RpdmVfZmlsdGVyJywgdHlwZSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0eXBlOiB0eXBlIGFzIGFueSxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG53ZWJwYWNrLm9uRnVsbFJlYWR5KGFwcGx5UGF0Y2gsIDEwMDApO1xyXG5cclxuZnVuY3Rpb24gYXBwbHlQYXRjaCgpIHtcclxuICB3cmFwTW9kdWxlRnVuY3Rpb24oZ2V0U2hvdWxkQXBwZWFySW5MaXN0LCAoZnVuYywgLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgW2NoYXRdID0gYXJncztcclxuXHJcbiAgICBpZiAoZmlsdGVyVHlwZSA9PT0gRmlsdGVyQ2hhdExpc3RUeXBlcy5DVVNUT00pIHtcclxuICAgICAgaWYgKGFsbG93TGlzdC5pbmNsdWRlcyhjaGF0LmlkPy50b1N0cmluZygpKSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jKC4uLmFyZ3MpO1xyXG4gIH0pO1xyXG4gIC8qKlxyXG4gICAqIElmIGEgY3VzdG9tIGxpc3QgaXMgc2V0IGFuZCB0aGUgdXNlciBjbGlja3Mgb24gJ2Zhdm9yaXRlcycgb3IgJ3VucmVhZCwnXHJcbiAgICogc2hvdyB0aGUgY29ycmVjdCBsaXN0LCBub3QganVzdCB0aGUgYWxsb3dlZCBjb250YWN0cy5cclxuICAgKi9cclxuICB3cmFwTW9kdWxlRnVuY3Rpb24oXHJcbiAgICBpc0ZpbHRlckV4Y2x1ZGVkRnJvbVNlYXJjaFRyZWF0bWVudEluSW5ib3hGbG93LFxyXG4gICAgYXN5bmMgKGZ1bmMsIC4uLmFyZ3MpID0+IHtcclxuICAgICAgY29uc3QgW3R5cGVdID0gYXJncztcclxuXHJcbiAgICAgIGlmICh0eXBlID09PSBGaWx0ZXJDaGF0TGlzdFR5cGVzLkxBQkVMUykgcmV0dXJuIGZ1bmMoLi4uYXJncyk7XHJcblxyXG4gICAgICBpZiAoZmlsdGVyVHlwZSA9PSBGaWx0ZXJDaGF0TGlzdFR5cGVzLkNVU1RPTSkge1xyXG4gICAgICAgIGZpbHRlclR5cGUgPSBGaWx0ZXJDaGF0TGlzdFR5cGVzLkFMTDtcclxuICAgICAgICBDbWQudHJpZ2dlcignc2V0X2FjdGl2ZV9maWx0ZXInLCAnZGVmYXVsdCcpO1xyXG4gICAgICAgIENtZC50cmlnZ2VyKCdzZXRfYWN0aXZlX2ZpbHRlcicsIHR5cGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmaWx0ZXJUeXBlID0gRmlsdGVyQ2hhdExpc3RUeXBlcy5BTEw7XHJcbiAgICAgIENtZC50cmlnZ2VyKCdzZXRfYWN0aXZlX2ZpbHRlcicsIHR5cGUpO1xyXG4gICAgICByZXR1cm4gZnVuYyguLi5hcmdzKTtcclxuICAgIH1cclxuICApO1xyXG59XHJcblxyXG4vKipcclxuICogQ3VzdG9tIFdyYXAgZnVuY3Rpb24gd2l0aCB0aGUgY2FsbGJhY2tcclxuICpcclxuICogVGhpcyBpcyBub3QgdGhlIGJlc3Qgd2F5IHRvIGZpeCB0aGUgd3JhcHBlciBmb3IgdGhpcyBmdW5jdGlvbjtcclxuICogSSBuZWVkIHRvIGltcHJvdmUgaXQgc29vbi4gSG93ZXZlciwgdGhlIGlkZWEgaXMgdG8gbWFrZSBpdCB3b3JrLlxyXG4gKiBEdWUgdG8gdGhlIGxhY2sgb2YgdGltZSBhbmQgdGhlIHVyZ2VuY3kgaW4gdGhlIFdoYXRzQXBwIGdyb3VwcyxcclxuICogSSdtIGNvbW1pdHRpbmcgaXQgdGhpcyB3YXkgdG8gcHJvdmlkZSBhIHF1aWNrIHNvbHV0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBTaG91bGRBcHBlYXJGdW5jdGlvbjxURnVuYyBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gYW55PihcclxuICBmdW5jOiBURnVuYyxcclxuICBjYWxsYmFjazogKGZ1bmM6IFRGdW5jLCAuLi5hcmdzOiBQYXJhbWV0ZXJzPFRGdW5jPikgPT4gUmV0dXJuVHlwZTxURnVuYz5cclxuKTogVEZ1bmMge1xyXG4gIGNvbnN0IHdyYXBwZWRGdW5jOiBhbnkgPSAoLi4uYXJnczogUGFyYW1ldGVyczxURnVuYz4pID0+IHtcclxuICAgIHJldHVybiBjYWxsYmFjayhmdW5jLCAuLi5hcmdzKTtcclxuICB9O1xyXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFxyXG4gICAgd3JhcHBlZEZ1bmMsXHJcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhnZXRTaG91bGRBcHBlYXJJbkxpc3QpXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIHdyYXBwZWRGdW5jIGFzIFRGdW5jO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0RmluZENoYXQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBnZXRBY3RpdmVDaGF0IH0gZnJvbSAnLi4vLi4vY2hhdCc7XHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7IENvbXBvc2VCb3hBY3Rpb25zLCBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IHVuaXhUaW1lIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRJbnB1dFRleHQoXHJcbiAgdGV4dDogc3RyaW5nLFxyXG4gIGNoYXRJZD86IHN0cmluZyB8IFdpZFxyXG4pOiBQcm9taXNlPHtcclxuICB0ZXh0OiBzdHJpbmc7XHJcbiAgdGltZXN0YW1wOiBudW1iZXI7XHJcbn0+IHtcclxuICBjb25zdCBjaGF0ID1cclxuICAgIGNoYXRJZCAhPT0gdW5kZWZpbmVkID8gYXdhaXQgYXNzZXJ0RmluZENoYXQoY2hhdElkKSA6IGdldEFjdGl2ZUNoYXQoKTtcclxuXHJcbiAgaWYgKCFjaGF0KSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoJ25vdF9pbl9jaGF0JywgJ05vdCBhY3RpdmUgY2hhdCBvciBpbnZhbGlkIHdpZCB2YWx1ZScpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBpZiAoY2hhdD8uYWN0aXZlKSB7XHJcbiAgICAgIGNoYXQuc2V0Q29tcG9zZUNvbnRlbnRzKHsgdGV4dDogdGV4dCwgdGltZXN0YW1wOiB1bml4VGltZSgpIH0pO1xyXG4gICAgICBDb21wb3NlQm94QWN0aW9ucy5zZXRUZXh0Q29udGVudChjaGF0LCB0ZXh0KTtcclxuICAgICAgcmV0dXJuIGNoYXQuZ2V0Q29tcG9zZUNvbnRlbnRzKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjaGF0Py5zZXRDb21wb3NlQ29udGVudHMoeyB0ZXh0OiB0ZXh0LCB0aW1lc3RhbXA6IHVuaXhUaW1lKCkgfSk7XHJcbiAgICAgIHJldHVybiBjaGF0LmdldENvbXBvc2VDb250ZW50cygpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjIgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydEdldENoYXQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBpc0J1c2luZXNzIH0gZnJvbSAnLi4vLi4vcHJvZmlsZSc7XHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7IE5vdGVNb2RlbCwgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQge1xyXG4gIGFkZE9yRWRpdE5vdGVBY3Rpb24sXHJcbiAgcmV0cmlldmVPbmx5Tm90ZUZvckNoYXRKaWQsXHJcbn0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zL2FkZE9yRWRpdE5vdGVBY3Rpb24nO1xyXG5cclxuLyoqXHJcbiAqIFNldCBub3RlcyBmb3IgYSBjb250YWN0XHJcbiAqIE9ubHkgd2hlbiBhcmUgY29ubmVjdGVkIHdpdGggYnVzaW5lc3MgZGV2aWNlXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogV1BQLmNoYXQuc2V0Tm90ZXMoJ1tudW1iZXJdQGMudXMnLCAnVGV4dCBmb3IgeW91ciBub3RlcycpO1xyXG4gKiBgYGBcclxuICogQGNhdGVnb3J5IENoYXRcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXROb3RlcyhcclxuICBjaGF0SWQ6IHN0cmluZyB8IFdpZCxcclxuICBjb250ZW50OiBzdHJpbmdcclxuKTogUHJvbWlzZTxOb3RlTW9kZWwgfCBudWxsPiB7XHJcbiAgY29uc3QgY2hhdCA9IGFzc2VydEdldENoYXQoY2hhdElkKTtcclxuICBpZiAoIWlzQnVzaW5lc3MoKSkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnY29ubmVjdGVkX2RldmljZV9ub3RfaXNfYnVzaW5lc3MnLFxyXG4gICAgICBgQ29ubmVjdGVkIGRldmljZSBub3QgaXMgYnVzaW5lc3MgYWNjb3VudGBcclxuICAgICk7XHJcbiAgfSBlbHNlIGlmICghY29udGVudCkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnbWlzc2luZ19jb250ZW50X2Zvcl9ub3RlcycsXHJcbiAgICAgIGBNaXNzaW5nIGNvbnRlbnQgZm9yIG5vdGVzYFxyXG4gICAgKTtcclxuICB9IGVsc2UgaWYgKGNoYXQuaXNHcm91cCkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnY2FuX25vdF9zZXRfbm90ZXNfZm9yX2dyb3VwcycsXHJcbiAgICAgIGBZb3UgY2FuIG5vdCBzZXQgbm90ZXMgZm9yIGdyb3Vwcy4gQ2hhdElkOiAke2NoYXRJZH1gXHJcbiAgICApO1xyXG4gIH1cclxuICBjb25zdCBleGlzdHNOb3RlID0gYXdhaXQgcmV0cmlldmVPbmx5Tm90ZUZvckNoYXRKaWQoY2hhdC5pZC50b0ppZCgpKTtcclxuICBhd2FpdCBhZGRPckVkaXROb3RlQWN0aW9uKFxyXG4gICAge1xyXG4gICAgICBhY3Rpb25UeXBlOiBleGlzdHNOb3RlID8gJ2VkaXQnIDogJ2FkZCcsXHJcbiAgICAgIGNoYXRKaWQ6IGNoYXQuaWQudG9KaWQoKSxcclxuICAgICAgY29udGVudCxcclxuICAgICAgY3JlYXRlZEF0OiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSxcclxuICAgICAgaWQ6IGV4aXN0c05vdGU/LmlkLFxyXG4gICAgICBub3RlVHlwZTogJ3Vuc3RydWN0dXJlZCcsXHJcbiAgICB9LFxyXG4gICAgdHJ1ZVxyXG4gICk7XHJcbiAgcmV0dXJuIGF3YWl0IHJldHJpZXZlT25seU5vdGVGb3JDaGF0SmlkKGNoYXQuaWQudG9KaWQoKSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRHZXRDaGF0IH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgQ21kLCBNc2dNb2RlbCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZ2V0TWVzc2FnZUJ5SWQgfSBmcm9tICcuJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3Rhck1lc3NhZ2VSZXR1cm4ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgc3RhcjogYm9vbGVhbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIE1zZ3NQZXJDaGF0IHtcclxuICBba2V5OiBzdHJpbmddOiBNc2dNb2RlbFtdO1xyXG59XHJcblxyXG4vKipcclxuICogU3Rhci9VbnN0YXIgYSBtZXNzYWdlXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gc3RhciBhIG1lc3NhZ2VcclxuICogV1BQLmNoYXQuc3Rhck1lc3NhZ2UoJzxtZXNzYWdlIGlkPicpO1xyXG4gKlxyXG4gKiAvLyB1bnN0YXIgYSBtZXNzYWdlXHJcbiAqIFdQUC5jaGF0LnN0YXJNZXNzYWdlKCc8bWVzc2FnZSBpZD4nLCBmYWxzZSk7XHJcbiAqIGBgYFxyXG4gKiBAY2F0ZWdvcnkgTWVzc2FnZVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0YXJNZXNzYWdlKFxyXG4gIGlkOiBzdHJpbmcsXHJcbiAgc3RhcjogYm9vbGVhblxyXG4pOiBQcm9taXNlPFN0YXJNZXNzYWdlUmV0dXJuPjtcclxuLyoqXHJcbiAqIFN0YXIvVW5zdGFyIG1lc3NhZ2VzXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gc3RhciBtZXNzYWdlc1xyXG4gKiBXUFAuY2hhdC5zdGFyTWVzc2FnZShbJzxtZXNzYWdlIGlkPicsICc8bWVzc2FnZSBpZD4nXSk7XHJcbiAqXHJcbiAqIC8vIHVuc3RhciBtZXNzYWdlc1xyXG4gKiBXUFAuY2hhdC5zdGFyTWVzc2FnZShbJzxtZXNzYWdlIGlkPicsICc8bWVzc2FnZSBpZD4nXSwgZmFsc2UpO1xyXG4gKiBgYGBcclxuICogQGNhdGVnb3J5IE1lc3NhZ2VcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdGFyTWVzc2FnZShcclxuICBpZHM6IHN0cmluZ1tdLFxyXG4gIHN0YXI6IGJvb2xlYW5cclxuKTogUHJvbWlzZTxTdGFyTWVzc2FnZVJldHVybltdPjtcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0YXJNZXNzYWdlKFxyXG4gIGlkczogc3RyaW5nIHwgc3RyaW5nW10sXHJcbiAgc3RhciA9IHRydWVcclxuKTogUHJvbWlzZTxTdGFyTWVzc2FnZVJldHVybiB8IFN0YXJNZXNzYWdlUmV0dXJuW10+IHtcclxuICBsZXQgaXNTaW5nbGUgPSBmYWxzZTtcclxuXHJcbiAgaWYgKCFBcnJheS5pc0FycmF5KGlkcykpIHtcclxuICAgIGlzU2luZ2xlID0gdHJ1ZTtcclxuICAgIGlkcyA9IFtpZHNdO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgYWxsTWVzc2FnZXMgPSBhd2FpdCBnZXRNZXNzYWdlQnlJZChpZHMpO1xyXG5cclxuICAvLyBncm91cCBtZXNzYWdlcyBieSBjaGF0XHJcbiAgY29uc3QgbXNnc1BlckNoYXQ6IE1zZ3NQZXJDaGF0ID0gYWxsTWVzc2FnZXMucmVkdWNlKChyLCBtc2cpID0+IHtcclxuICAgIGNvbnN0IGlkID0gbXNnLmlkLnJlbW90ZS50b1N0cmluZygpO1xyXG4gICAgcltpZF0gPSByW2lkXSB8fCBbXTtcclxuICAgIHJbaWRdLnB1c2gobXNnKTtcclxuICAgIHJldHVybiByO1xyXG4gIH0sIHt9IGFzIE1zZ3NQZXJDaGF0KTtcclxuXHJcbiAgY29uc3QgcmVzdWx0czogU3Rhck1lc3NhZ2VSZXR1cm5bXSA9IGFsbE1lc3NhZ2VzLm1hcCgobSkgPT4gKHtcclxuICAgIGlkOiBtLmlkLnRvU3RyaW5nKCksXHJcbiAgICBzdGFyOiBtLnN0YXIgfHwgZmFsc2UsXHJcbiAgfSkpO1xyXG5cclxuICBmb3IgKGNvbnN0IGNoYXRJZCBpbiBtc2dzUGVyQ2hhdCkge1xyXG4gICAgY29uc3QgY2hhdCA9IGFzc2VydEdldENoYXQoY2hhdElkKTtcclxuICAgIGNvbnN0IG1zZ3MgPSBtc2dzUGVyQ2hhdFtjaGF0SWRdO1xyXG5cclxuICAgIGlmIChzdGFyKSB7XHJcbiAgICAgIENtZC5zZW5kU3Rhck1zZ3MoY2hhdCwgbXNncyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBDbWQuc2VuZFVuc3Rhck1zZ3MoY2hhdCwgbXNncyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYXQucHJvbWlzZXMuc2VuZFN0YXJNc2dzKSB7XHJcbiAgICAgIGF3YWl0IGNoYXQucHJvbWlzZXMuc2VuZFN0YXJNc2dzO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKGlzU2luZ2xlKSB7XHJcbiAgICByZXR1cm4gcmVzdWx0c1swXTtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXN1bHRzO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0R2V0Q2hhdCwgYXNzZXJ0V2lkIH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuLyoqXHJcbiAqIFVubXV0ZSBhIGNoYXRcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBXUFAuY2hhdC51bm11dGUoJ1tudW1iZXJdQGMudXMnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDaGF0XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5tdXRlKGNoYXRJZDogc3RyaW5nIHwgV2lkKSB7XHJcbiAgY29uc3Qgd2lkID0gYXNzZXJ0V2lkKGNoYXRJZCk7XHJcblxyXG4gIGNvbnN0IGNoYXQgPSBhc3NlcnRHZXRDaGF0KHdpZCk7XHJcblxyXG4gIHJldHVybiBjaGF0Lm11dGUudW5tdXRlKHsgc2VuZERldmljZTogdHJ1ZSB9KTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCAnLi9ldmVudHMnO1xyXG5pbXBvcnQgJy4vcGF0Y2gnO1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9kZWZhdWx0U2VuZE1lc3NhZ2VPcHRpb25zJztcclxuZXhwb3J0ICogZnJvbSAnLi9mdW5jdGlvbnMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3R5cGVzJztcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIyIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyB3ZWJwYWNrIGZyb20gJy4uL3dlYnBhY2snO1xyXG5pbXBvcnQgeyBDaGF0TW9kZWwsIENvbnRhY3RTdG9yZSwgZnVuY3Rpb25zIH0gZnJvbSAnLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyB3cmFwTW9kdWxlRnVuY3Rpb24gfSBmcm9tICcuLi93aGF0c2FwcC9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZUNoYXQsXHJcbiAgY3JlYXRlQ2hhdFJlY29yZCxcclxuICBmaW5kQ2hhdCxcclxuICBnZXRFbmZvcmNlQ3VycmVudExpZCxcclxuICBnZXRFeGlzdGluZyxcclxuICBpc0xpZE1pZ3JhdGVkLFxyXG4gIGlzVW5yZWFkVHlwZU1zZyxcclxuICBtZWRpYVR5cGVGcm9tUHJvdG9idWYsXHJcbiAgdG9Vc2VyTGlkLFxyXG4gIHR5cGVBdHRyaWJ1dGVGcm9tUHJvdG9idWYsXHJcbn0gZnJvbSAnLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHsgQXBpQ29udGFjdCB9IGZyb20gJy4uL3doYXRzYXBwL21pc2MnO1xyXG5cclxud2VicGFjay5vbkZ1bGxSZWFkeShhcHBseVBhdGNoLCAxMDAwKTtcclxud2VicGFjay5vbkZ1bGxSZWFkeShhcHBseVBhdGNoTW9kZWwpO1xyXG5cclxuZnVuY3Rpb24gYXBwbHlQYXRjaCgpIHtcclxuICB3cmFwTW9kdWxlRnVuY3Rpb24obWVkaWFUeXBlRnJvbVByb3RvYnVmLCAoZnVuYywgLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgW3Byb3RvXSA9IGFyZ3M7XHJcbiAgICBpZiAocHJvdG8uZGV2aWNlU2VudE1lc3NhZ2UpIHtcclxuICAgICAgY29uc3QgeyBtZXNzYWdlOiBuIH0gPSBwcm90by5kZXZpY2VTZW50TWVzc2FnZTtcclxuICAgICAgcmV0dXJuIG4gPyBtZWRpYVR5cGVGcm9tUHJvdG9idWYobikgOiBudWxsO1xyXG4gICAgfVxyXG4gICAgaWYgKHByb3RvLmVwaGVtZXJhbE1lc3NhZ2UpIHtcclxuICAgICAgY29uc3QgeyBtZXNzYWdlOiBuIH0gPSBwcm90by5lcGhlbWVyYWxNZXNzYWdlO1xyXG4gICAgICByZXR1cm4gbiA/IG1lZGlhVHlwZUZyb21Qcm90b2J1ZihuKSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAocHJvdG8udmlld09uY2VNZXNzYWdlKSB7XHJcbiAgICAgIGNvbnN0IHsgbWVzc2FnZTogbiB9ID0gcHJvdG8udmlld09uY2VNZXNzYWdlO1xyXG4gICAgICByZXR1cm4gbiA/IG1lZGlhVHlwZUZyb21Qcm90b2J1ZihuKSA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZ1bmMoLi4uYXJncyk7XHJcbiAgfSk7XHJcblxyXG4gIHdyYXBNb2R1bGVGdW5jdGlvbih0eXBlQXR0cmlidXRlRnJvbVByb3RvYnVmLCAoZnVuYywgLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgW3Byb3RvXSA9IGFyZ3M7XHJcblxyXG4gICAgaWYgKHByb3RvLmVwaGVtZXJhbE1lc3NhZ2UpIHtcclxuICAgICAgY29uc3QgeyBtZXNzYWdlOiBuIH0gPSBwcm90by5lcGhlbWVyYWxNZXNzYWdlO1xyXG4gICAgICByZXR1cm4gbiA/IHR5cGVBdHRyaWJ1dGVGcm9tUHJvdG9idWYobikgOiAndGV4dCc7XHJcbiAgICB9XHJcbiAgICBpZiAocHJvdG8uZGV2aWNlU2VudE1lc3NhZ2UpIHtcclxuICAgICAgY29uc3QgeyBtZXNzYWdlOiBuIH0gPSBwcm90by5kZXZpY2VTZW50TWVzc2FnZTtcclxuICAgICAgcmV0dXJuIG4gPyB0eXBlQXR0cmlidXRlRnJvbVByb3RvYnVmKG4pIDogJ3RleHQnO1xyXG4gICAgfVxyXG4gICAgaWYgKHByb3RvLnZpZXdPbmNlTWVzc2FnZSkge1xyXG4gICAgICBjb25zdCB7IG1lc3NhZ2U6IG4gfSA9IHByb3RvLnZpZXdPbmNlTWVzc2FnZTtcclxuICAgICAgcmV0dXJuIG4gPyB0eXBlQXR0cmlidXRlRnJvbVByb3RvYnVmKG4pIDogJ3RleHQnO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmdW5jKC4uLmFyZ3MpO1xyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBSZWluZm9yY2UgdW5yZWFkIG1lc3NhZ2VzIGZvciBidXR0b25zIGFuZCBsaXN0c1xyXG4gICAqL1xyXG4gIHdyYXBNb2R1bGVGdW5jdGlvbihpc1VucmVhZFR5cGVNc2csIChmdW5jLCAuLi5hcmdzKSA9PiB7XHJcbiAgICBjb25zdCBbbXNnXSA9IGFyZ3M7XHJcblxyXG4gICAgc3dpdGNoIChtc2cudHlwZSkge1xyXG4gICAgICBjYXNlICdidXR0b25zX3Jlc3BvbnNlJzpcclxuICAgICAgY2FzZSAnaHNtJzpcclxuICAgICAgY2FzZSAnbGlzdCc6XHJcbiAgICAgIGNhc2UgJ2xpc3RfcmVzcG9uc2UnOlxyXG4gICAgICBjYXNlICd0ZW1wbGF0ZV9idXR0b25fcmVwbHknOlxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmdW5jKC4uLmFyZ3MpO1xyXG4gIH0pO1xyXG5cclxuICB3cmFwTW9kdWxlRnVuY3Rpb24oY3JlYXRlQ2hhdFJlY29yZCwgYXN5bmMgKGZ1bmMsIC4uLmFyZ3MpID0+IHtcclxuICAgIGNvbnN0IG1heEF0dGVtcHRzID0gNTtcclxuICAgIGxldCBkZWxheSA9IDEwMDA7XHJcblxyXG4gICAgZm9yIChsZXQgYXR0ZW1wdCA9IDE7IGF0dGVtcHQgPD0gbWF4QXR0ZW1wdHM7IGF0dGVtcHQrKykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCBmdW5jKC4uLmFyZ3MpO1xyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBpZiAoYXR0ZW1wdCA9PT0gbWF4QXR0ZW1wdHMpIHtcclxuICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5KSk7XHJcbiAgICAgICAgZGVsYXkgKj0gMjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB3cmFwTW9kdWxlRnVuY3Rpb24oZmluZENoYXQsIGFzeW5jIChmdW5jLCAuLi5hcmdzKSA9PiB7XHJcbiAgICBjb25zdCBbY2hhdElkLCBjb250ZXh0XSA9IGFyZ3M7XHJcblxyXG4gICAgaWYgKCFjaGF0SWQuaXNMaWQoKSkge1xyXG4gICAgICByZXR1cm4gYXdhaXQgZnVuYyguLi5hcmdzKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb250YWN0ID0gQ29udGFjdFN0b3JlLmdldChjaGF0SWQpO1xyXG4gICAgY29uc3QgZXhpc3RpbmdDaGF0ID0gYXdhaXQgZ2V0RXhpc3RpbmcoY2hhdElkKTtcclxuICAgIGlmICghZXhpc3RpbmdDaGF0ICYmIGNvbnRhY3QpIHtcclxuICAgICAgLy8gV2hhdHNBcHAgV2ViIGxvZ2ljOiBGb3IgdXNlcm5hbWVfY29udGFjdGxlc3Nfc2VhcmNoIGNvbnRleHQsIHByZWZlciBwaG9uZSBudW1iZXIgaWYgYXZhaWxhYmxlXHJcbiAgICAgIC8vIFRoaXMgcHJldmVudHMgZHVwbGljYXRlIGNoYXRzIChvbmUgd2l0aCBMSUQsIG9uZSB3aXRoIHBob25lIG51bWJlcilcclxuICAgICAgY29uc3QgVkFMSURfVVNFUk5BTUVfT1JJR0lOUyA9IG5ldyBTZXQoW1xyXG4gICAgICAgICd1c2VybmFtZV9jaGFuZ2Vfbm90aWZpY2F0aW9uJyxcclxuICAgICAgICAndXNlcm5hbWVfY29udGFjdGxlc3Nfc2VhcmNoJyxcclxuICAgICAgXSk7XHJcbiAgICAgIGNvbnN0IHBob25lTnVtYmVyV2lkID0gQXBpQ29udGFjdC5nZXRQaG9uZU51bWJlcihjaGF0SWQpO1xyXG4gICAgICBjb25zdCBzaG91bGRVc2VQaG9uZU51bWJlciA9XHJcbiAgICAgICAgVkFMSURfVVNFUk5BTUVfT1JJR0lOUy5oYXMoY29udGV4dCkgJiYgcGhvbmVOdW1iZXJXaWQgIT0gbnVsbDtcclxuXHJcbiAgICAgIGlmIChzaG91bGRVc2VQaG9uZU51bWJlcikge1xyXG4gICAgICAgIC8vIFVzZSB0aGUgcGhvbmUgbnVtYmVyIFdJRCB0byBjcmVhdGUvZmluZCB0aGUgY2hhdFxyXG4gICAgICAgIC8vIENhbGwgZmluZENoYXQgd2l0aCB0aGUgcGhvbmUgbnVtYmVyIGluc3RlYWQgb2YgTElEXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGZpbmRDaGF0KHBob25lTnVtYmVyV2lkLCBjb250ZXh0KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ3JlYXRlIHdpdGggTElEIGZvciBvdGhlciBjb250ZXh0c1xyXG4gICAgICBjb25zdCBjaGF0UGFyYW1zOiBhbnkgPSB7IGNoYXRJZCB9O1xyXG4gICAgICBhd2FpdCBjcmVhdGVDaGF0KFxyXG4gICAgICAgIGNoYXRQYXJhbXMsXHJcbiAgICAgICAgJ2NyZWF0ZUNoYXQnLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGNyZWF0ZWRMb2NhbGx5OiB0cnVlLFxyXG4gICAgICAgICAgbGlkT3JpZ2luVHlwZTogJ2dlbmVyYWwnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge31cclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIGF3YWl0IGZ1bmMoLi4uYXJncykhO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGF3YWl0IGZ1bmMoLi4uYXJncyk7XHJcbiAgfSk7XHJcblxyXG4gIHdyYXBNb2R1bGVGdW5jdGlvbihnZXRFbmZvcmNlQ3VycmVudExpZCwgKF9mdW5jLCAuLi5hcmdzKSA9PiB7XHJcbiAgICBjb25zdCBbVXNlcldpZF0gPSBhcmdzO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IExJRCA9IHRvVXNlckxpZCA/IHRvVXNlckxpZChVc2VyV2lkKSA6IG51bGw7XHJcbiAgICAgIHJldHVybiBMSUQgfHwgVXNlcldpZDtcclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICByZXR1cm4gVXNlcldpZDtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgd3JhcE1vZHVsZUZ1bmN0aW9uKGlzTGlkTWlncmF0ZWQsIChmdW5jLCAuLi5hcmdzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gZnVuYyguLi5hcmdzKTtcclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFwcGx5UGF0Y2hNb2RlbCgpIHtcclxuICBjb25zdCBmdW5jczoge1xyXG4gICAgW2tleTogc3RyaW5nXTogKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk7XHJcbiAgfSA9IHtcclxuICAgIHNob3VsZEFwcGVhckluTGlzdDogZnVuY3Rpb25zLmdldFNob3VsZEFwcGVhckluTGlzdCxcclxuICAgIGlzVXNlcjogZnVuY3Rpb25zLmdldElzVXNlcixcclxuICAgIGlzUFNBOiBmdW5jdGlvbnMuZ2V0SXNQU0EsXHJcbiAgICBpc0dyb3VwOiBmdW5jdGlvbnMuZ2V0SXNHcm91cCxcclxuICAgIGlzTmV3c2xldHRlcjogZnVuY3Rpb25zLmdldElzTmV3c2xldHRlcixcclxuICAgIHByZXZpZXdNZXNzYWdlOiBmdW5jdGlvbnMuZ2V0UHJldmlld01lc3NhZ2UsXHJcbiAgICBzaG93Q2hhbmdlTnVtYmVyTm90aWZpY2F0aW9uOiBmdW5jdGlvbnMuZ2V0U2hvd0NoYW5nZU51bWJlck5vdGlmaWNhdGlvbixcclxuICAgIGhhc1VucmVhZDogZnVuY3Rpb25zLmdldEhhc1VucmVhZCxcclxuICB9O1xyXG5cclxuICBmb3IgKGNvbnN0IGF0dHIgaW4gZnVuY3MpIHtcclxuICAgIGNvbnN0IGZ1bmMgPSBmdW5jc1thdHRyXTtcclxuICAgIGlmICh0eXBlb2YgKENoYXRNb2RlbC5wcm90b3R5cGUgYXMgYW55KVthdHRyXSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENoYXRNb2RlbC5wcm90b3R5cGUsIGF0dHIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHJldHVybiBmdW5jKHRoaXMpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLCBNc2dLZXksIE1zZ01vZGVsLCBXaWQgfSBmcm9tICcuLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IFNlbmRNc2dSZXN1bHQgfSBmcm9tICcuLi93aGF0c2FwcC9lbnVtcyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNlbmRNZXNzYWdlT3B0aW9ucyB7XHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgbmV3IGNoYXQgdG8gYSBuZXcgY29udGFjdFxyXG4gICAqXHJcbiAgICogQGRlZmF1bHQgZmFsc2VcclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogYGBgamF2YXNjcmlwdFxyXG4gICAqIFdQUC5jaGF0LnNlbmRUZXh0TWVzc2FnZSgnW251bWJlcl1AYy51cycsICdIZWxsbyBuZXcgY29udGFjdCcsIHtcclxuICAgKiAgIGNyZWF0ZUNoYXQ6IHRydWVcclxuICAgKiB9KTtcclxuICAgKiBgYGBcclxuICAgKi9cclxuICBjcmVhdGVDaGF0PzogYm9vbGVhbjtcclxuXHJcbiAgLyoqXHJcbiAgICogQXV0b21hdGljIGRldGVjdCBhbmQgYWRkIHRoZSBtZW50aW9uZWQgY29udGFjdHMgd2l0aCBAW251bWJlcl1cclxuICAgKlxyXG4gICAqIEBkZWZhdWx0IHRydWVcclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogYGBgamF2YXNjcmlwdFxyXG4gICAqIFdQUC5jaGF0LnNlbmRUZXh0TWVzc2FnZSgnW251bWJlcl1AYy51cycsICdIZWxsbyBAMTIzIGFuZCBANDU2Jywge1xyXG4gICAqICAgZGV0ZWN0TWVudGlvbmVkOiB0cnVlXHJcbiAgICogfSk7XHJcbiAgICogYGBgXHJcbiAgICovXHJcbiAgZGV0ZWN0TWVudGlvbmVkPzogYm9vbGVhbjtcclxuXHJcbiAgLyoqXHJcbiAgICogQXV0b21hdGljYWxseSBtYXJrIGNoYXQgaXMgcmVhZCBhZnRlciBzZW5kIGEgbWVzc2FnZVxyXG4gICAqXHJcbiAgICogQGRlZmF1bHQgdHJ1ZVxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBgYGBqYXZhc2NyaXB0XHJcbiAgICogV1BQLmNoYXQuc2VuZFRleHRNZXNzYWdlKCdbbnVtYmVyXUBjLnVzJywgJ1JlcGx5aW5nIHlvdXIgbWVzc2FnZScsIHtcclxuICAgKiAgIG1hcmtJc1JlYWQ6IHRydWVcclxuICAgKiB9KTtcclxuICAgKiBgYGBcclxuICAgKi9cclxuICBtYXJrSXNSZWFkPzogYm9vbGVhbjtcclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKi9cclxuICBtZXNzYWdlSWQ/OiBzdHJpbmcgfCBNc2dLZXk7XHJcblxyXG4gIC8qKlxyXG4gICAqIERlZmluZSBhIG1lbnRpb25lZCBsaXN0IGZvciBhIG1lc3NhZ2VcclxuICAgKiBUaGlzIG9wdGlvbiB3b3JrIGJldHRlciB3aXRoIGEgbWVzc2FnZSB3aXRoIG1lbnNpb25cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogYGBgamF2YXNjcmlwdFxyXG4gICAqIFdQUC5jaGF0LnNlbmRUZXh0TWVzc2FnZSgnW251bWJlcl1AYy51cycsICdIZWxsbyBAMTIzIGFuZCBANDU2Jywge1xyXG4gICAqICAgbWVudGlvbmVkTGlzdDogWycxMjNAYy51cycsICc0NTZAYy51cyddXHJcbiAgICogfSlcclxuICAgKiBgYGBcclxuICAgKi9cclxuICBtZW50aW9uZWRMaXN0PzogKHN0cmluZyB8IFdpZClbXTtcclxuXHJcbiAgLyoqXHJcbiAgICogUXVvdGUgYSBtZXNzYWdlLCBsaWtlIGEgcmVwbHkgbWVzc2FnZVxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBgYGBqYXZhc2NyaXB0XHJcbiAgICogV1BQLmNoYXQuc2VuZFRleHRNZXNzYWdlKCdbbnVtYmVyXUBjLnVzJywgJ1RoaXMgaXMgYSByZXBseScsIHtcclxuICAgKiAgIHF1b3RlZE1zZzogJ3RydWVfW251bWJlcl1AYy51c18zRUIwRjQzNUQ5NUQzMkM0QzYzOCdcclxuICAgKiB9KVxyXG4gICAqIGBgYFxyXG4gICAqL1xyXG4gIHF1b3RlZE1zZz86IHN0cmluZyB8IE1zZ0tleSB8IE1zZ01vZGVsO1xyXG5cclxuICAvKipcclxuICAgKiBXYWl0IGZvciBzZW5kIHdoaWxlIHRoZSBBQ0sgb2YgbWVzc2FnZSBpcyBTRU5UKDEpXHJcbiAgICpcclxuICAgKiBAZGVmYXVsdCB0cnVlXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGBgYGphdmFzY3JpcHRcclxuICAgKiBXUFAuY2hhdC5zZW5kVGV4dE1lc3NhZ2UoJ1tudW1iZXJdQGMudXMnLCAnV2FpdCBmb3Igc2VudCcsIHtcclxuICAgKiAgIHdhaXRGb3JBY2s6IHRydWVcclxuICAgKiB9KVxyXG4gICAqIGBgYFxyXG4gICAqL1xyXG4gIHdhaXRGb3JBY2s/OiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIERlbGF5IHNvbWUgdGltZSAoaW4gbXMpIGJlZm9yZSBzZW5kaW5nIG1lc3NhZ2VcclxuICAgKiBXaGlsZSBkZWxheWluZywgVHlwaW5nIFN0YXR1cyBpcyB1c2VkIHRvIGxvb2sgbGlrZSBhIGh1bWFuIGludGVyYWN0aW9uXHJcbiAgICogQGRlZmF1bHQgMFxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogYGBgamF2YXNjcmlwdFxyXG4gICAqIFdQUC5jaGF0LnNlbmRUZXh0TWVzc2FnZSgnW251bWJlcl1AYy51cycsICdEZWxheSB3aXRoIHR5cGluZycsIHtcclxuICAgKiAgIGRlbGF5OiA0MDAwXHJcbiAgICogfSlcclxuICAgKiBgYGBcclxuICAgKi9cclxuICBkZWxheT86IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTZW5kTWVzc2FnZVJldHVybiB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBmcm9tPzogc3RyaW5nO1xyXG4gIHRvPzogc3RyaW5nO1xyXG4gIGxhdGVzdEVkaXRNc2dLZXk/OiBNc2dLZXk7XHJcbiAgYWNrOiBudW1iZXI7XHJcbiAgc2VuZE1zZ1Jlc3VsdDogUHJvbWlzZTxTZW5kTXNnUmVzdWx0PjtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgUmF3TWVzc2FnZSA9IE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3I8TXNnTW9kZWw+O1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydFdpZCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgc2VuZExpbmtTdWJncm91cHMgYXMgU2VuZExpbmtTdWJncm91cHMgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuLyoqXHJcbiAqIEFkZCBncm91cHMgZG8gY29tbXVuaXR5XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogYXdhaXQgV1BQLmNvbW11bml0eS5hZGRTdWJncm91cHMoJzEyMzQ1NkBnLnVzJywgWycxMjM0NTZAZy51cycsICcxMjM0NTZAZy51cyddKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDb21tdW5pdHlcclxuICovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkU3ViZ3JvdXBzKFxyXG4gIHBhcmVudEdyb3VwSWQ6IHN0cmluZyB8IFdpZCxcclxuICBzdWJncm91cElkczogKHN0cmluZyB8IFdpZCkgfCAoc3RyaW5nIHwgV2lkKVtdXHJcbik6IFByb21pc2U8e1xyXG4gIGZhaWxlZEdyb3VwczogeyBlcnJvcjogc3RyaW5nOyBqaWQ6IHN0cmluZyB9W107XHJcbiAgbGlua2VkR3JvdXBKaWRzOiBzdHJpbmdbXTtcclxufT4ge1xyXG4gIGlmICghQXJyYXkuaXNBcnJheShzdWJncm91cElkcykpIHtcclxuICAgIHN1Ymdyb3VwSWRzID0gW3N1Ymdyb3VwSWRzXTtcclxuICB9XHJcbiAgY29uc3QgcGFyZW50V2lkID0gYXNzZXJ0V2lkKHBhcmVudEdyb3VwSWQpO1xyXG4gIGNvbnN0IHN1Ykdyb3Vwc1dpZHMgPSBzdWJncm91cElkcy5tYXAoYXNzZXJ0V2lkKTtcclxuICByZXR1cm4gYXdhaXQgU2VuZExpbmtTdWJncm91cHMoe1xyXG4gICAgcGFyZW50R3JvdXBJZDogcGFyZW50V2lkLFxyXG4gICAgc3ViZ3JvdXBJZHM6IHN1Ykdyb3Vwc1dpZHMsXHJcbiAgfSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRXaWQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7XHJcbiAgc2VuZENyZWF0ZUNvbW11bml0eSxcclxuICBzZW5kTGlua1N1Ymdyb3VwcyxcclxufSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIGNvbW11bml0eVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGF3YWl0IFdQUC5jb21tdW5pdHkuY3JlYXRlKCdOYW1lIGZvciBjb21tdW5pdHknLCAnZGVzY3JpcHRpb24gZm9yIGNvbW11bml0eScsIFsnMTIzNDU2QGcudXMnLCAnMTIzNDU2QGcudXMnXSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgQ29tbXVuaXR5XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlKFxyXG4gIG5hbWU6IHN0cmluZyxcclxuICBkZXNjOiBzdHJpbmcsXHJcbiAgc3ViR3JvdXBzSWRzOiAoc3RyaW5nIHwgV2lkKSB8IChzdHJpbmcgfCBXaWQpW11cclxuKTogUHJvbWlzZTxhbnk+IHtcclxuICBpZiAoIUFycmF5LmlzQXJyYXkoc3ViR3JvdXBzSWRzKSkge1xyXG4gICAgc3ViR3JvdXBzSWRzID0gW3N1Ykdyb3Vwc0lkc107XHJcbiAgfVxyXG5cclxuICBjb25zdCBzdWJHcm91cHNXaWRzID0gc3ViR3JvdXBzSWRzLm1hcChhc3NlcnRXaWQpO1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmRDcmVhdGVDb21tdW5pdHkoe1xyXG4gICAgbmFtZTogbmFtZSxcclxuICAgIGRlc2M6IGRlc2MsXHJcbiAgICBjbG9zZWQ6IGZhbHNlLFxyXG4gIH0pO1xyXG4gIGNvbnN0IGxpbmtHcm91cHMgPSBhd2FpdCBzZW5kTGlua1N1Ymdyb3Vwcyh7XHJcbiAgICBwYXJlbnRHcm91cElkOiByZXN1bHQud2lkLFxyXG4gICAgc3ViZ3JvdXBJZHM6IHN1Ykdyb3Vwc1dpZHMsXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB3aWQ6IHJlc3VsdC53aWQsXHJcbiAgICBzdWJHcm91cHM6IGxpbmtHcm91cHMsXHJcbiAgfTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydFdpZCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgc2VuZERlYWN0aXZhdGVDb21tdW5pdHkgYXMgU2VuZERlYWN0aXZhdGVDb21tdW5pdHkgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuLyoqXHJcbiAqIERlYWN0aXZhdGVkIGEgY29tbXVuaXR5XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogYXdhaXQgV1BQLmNvbW11bml0eS5kZWFjdGl2YXRlKCcxMjM0NTZAZy51cycpO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IENvbW11bml0eVxyXG4gKi9cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWFjdGl2YXRlKGNvbW11bml0eUlkOiBzdHJpbmcgfCBXaWQpOiBQcm9taXNlPGFueT4ge1xyXG4gIGNvbnN0IHdpZCA9IGFzc2VydFdpZChjb21tdW5pdHlJZCk7XHJcbiAgcmV0dXJuIFNlbmREZWFjdGl2YXRlQ29tbXVuaXR5KHtcclxuICAgIHBhcmVudEdyb3VwSWQ6IHdpZCxcclxuICB9KTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGVuc3VyZUdyb3VwQW5kUGFydGljaXBhbnRzIH0gZnJvbSAnLi4vLi4vZ3JvdXAnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCAqIGFzIHdhX2Z1bmN0aW9ucyBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuLyoqXHJcbiAqIFJlbW92ZSBhZG1pbiBvZiBjb21tdW5pdHkgcGFydGljaXBhbnRcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAuY29tbXVuaXR5LmRlbW90ZVBhcnRpY2lwYW50cygnMTIzNDU2QGcudXMnLCAnMTIzNDU2QGMudXMnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDb21tdW5pdHlcclxuICovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVtb3RlUGFydGljaXBhbnRzKFxyXG4gIGNvbW11bml0eUlkOiBzdHJpbmcgfCBXaWQsXHJcbiAgcGFydGljaXBhbnRzSWRzOiAoc3RyaW5nIHwgV2lkKSB8IChzdHJpbmcgfCBXaWQpW11cclxuKTogUHJvbWlzZTxhbnk+IHtcclxuICBjb25zdCB7IGdyb3VwQ2hhdCwgcGFydGljaXBhbnRzIH0gPSBhd2FpdCBlbnN1cmVHcm91cEFuZFBhcnRpY2lwYW50cyhcclxuICAgIGNvbW11bml0eUlkLFxyXG4gICAgcGFydGljaXBhbnRzSWRzXHJcbiAgKTtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgd2FfZnVuY3Rpb25zLmRlbW90ZUNvbW11bml0eVBhcnRpY2lwYW50cyhncm91cENoYXQsIHBhcnRpY2lwYW50cyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwYXJ0aWNpcGFudHM6IHBhcnRpY2lwYW50c0lkcyxcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHBhcnRpY2lwYW50czogcGFydGljaXBhbnRzSWRzLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgZXJyb3I6IGVycm9yLFxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBHcm91cE1ldGFkYXRhU3RvcmUsIFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZ2V0U3ViZ3JvdXBzIH0gZnJvbSAnLi9nZXRTdWJncm91cHMnO1xyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgZGVmYXVsdCBhbm5vdW5jZW1lbnQgZ3JvdXAgb2YgYSBjb21tdW5pdHlcclxuICogWW91IGNhbiBwYXNzIGFueSBncm91cCBpZCBpbnNpZGUgYSBjb21tdW5pdHlcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBXUFAuY29tbXVuaXR5LmdldEFubm91bmNlbWVudEdyb3VwKCcxMjM0NTZAZy51cycpO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IENvbW11bml0eVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBbm5vdW5jZW1lbnRHcm91cChcclxuICBjb21tdW5pdHlJZDogc3RyaW5nIHwgV2lkXHJcbik6IFdpZCB8IHVuZGVmaW5lZCB7XHJcbiAgY29uc3QgYWxsR3JvdXBzID0gZ2V0U3ViZ3JvdXBzKGNvbW11bml0eUlkKTtcclxuICBmb3IgKGNvbnN0IGdyb3VwIG9mIGFsbEdyb3Vwcykge1xyXG4gICAgY29uc3QgZ3JvdXBEYXRhID0gR3JvdXBNZXRhZGF0YVN0b3JlLmdldChncm91cC50b1N0cmluZygpKTtcclxuICAgIGlmIChncm91cERhdGE/Lmdyb3VwVHlwZSA9PSAnTElOS0VEX0FOTk9VTkNFTUVOVF9HUk9VUCcpIHtcclxuICAgICAgcmV0dXJuIGdyb3VwRGF0YS5pZDtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHVuZGVmaW5lZDtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydFdpZCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZ2V0Q29tbXVuaXR5UGFydGljaXBhbnRzIGFzIEdldENvbW11bml0eVBhcnRpY2lwYW50cyB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG4vKipcclxuICogR2V0IGFsbCBwYXJ0aWNpcGFudHMgb2YgYSBjb21tdW5pdHlcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAuY29tbXVuaXR5LmdldFBhcnRpY2lwYW50cygnMTIzNDU2QGcudXMnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDb21tdW5pdHlcclxuICovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGFydGljaXBhbnRzKGNvbW11bml0eUlkOiBzdHJpbmcgfCBXaWQpOiBQcm9taXNlPGFueT4ge1xyXG4gIGNvbnN0IHdpZCA9IGFzc2VydFdpZChjb21tdW5pdHlJZCk7XHJcbiAgcmV0dXJuIEdldENvbW11bml0eVBhcnRpY2lwYW50cyh3aWQpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgR3JvdXBNZXRhZGF0YVN0b3JlLCBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcblxyXG4vKipcclxuICogR2V0IGFsbCBzdWJncm91cHMgb2YgYSBjb21tdW5pdHlcclxuICogWW91IGNhbiBwYXNzIGlkIG9mIGdyb3VwIGNvbW11bml0eSwgb3IgaWQgb2YgYSBpbnNpZGUgYSBncnVwb1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGF3YWl0IFdQUC5jb21tdW5pdHkuZ2V0U3ViZ3JvdXBzKCcxMjM0NTZAZy51cycpO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IENvbW11bml0eVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdWJncm91cHMoY29tbXVuaXR5SWQ6IHN0cmluZyB8IFdpZCk6IFdpZFtdIHtcclxuICBjb25zdCBncm91cERhdGEgPSBHcm91cE1ldGFkYXRhU3RvcmUuZ2V0KGNvbW11bml0eUlkLnRvU3RyaW5nKCkpO1xyXG4gIGlmICghZ3JvdXBEYXRhKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICdncm91cF9ub3RfZXhpc3QnLFxyXG4gICAgICBgR3JvdXBJZCAke2NvbW11bml0eUlkPy50b1N0cmluZygpfSBub3QgZXhpc3RzYFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGlmIChncm91cERhdGEuam9pbmVkU3ViZ3JvdXBzPy5sZW5ndGggPiAwKSB7XHJcbiAgICByZXR1cm4gZ3JvdXBEYXRhLmpvaW5lZFN1Ymdyb3VwcztcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgcGFyZW50R3JvdXBEYXRhID0gR3JvdXBNZXRhZGF0YVN0b3JlLmdldChcclxuICAgICAgZ3JvdXBEYXRhLnBhcmVudEdyb3VwPy50b1N0cmluZygpXHJcbiAgICApITtcclxuICAgIHJldHVybiBwYXJlbnRHcm91cERhdGEuam9pbmVkU3ViZ3JvdXBzO1xyXG4gIH1cclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCB7IGFkZFN1Ymdyb3VwcyB9IGZyb20gJy4vYWRkU3ViZ3JvdXBzJztcclxuZXhwb3J0IHsgY3JlYXRlIH0gZnJvbSAnLi9jcmVhdGUnO1xyXG5leHBvcnQgeyBkZWFjdGl2YXRlIH0gZnJvbSAnLi9kZWFjdGl2YXRlJztcclxuZXhwb3J0IHsgZGVtb3RlUGFydGljaXBhbnRzIH0gZnJvbSAnLi9kZW1vdGVQYXJ0aWNpcGFudHMnO1xyXG5leHBvcnQgeyBnZXRBbm5vdW5jZW1lbnRHcm91cCB9IGZyb20gJy4vZ2V0QW5ub3VuY2VtZW50R3JvdXAnO1xyXG5leHBvcnQgeyBnZXRQYXJ0aWNpcGFudHMgfSBmcm9tICcuL2dldFBhcnRpY2lwYW50cyc7XHJcbmV4cG9ydCB7IGdldFN1Ymdyb3VwcyB9IGZyb20gJy4vZ2V0U3ViZ3JvdXBzJztcclxuZXhwb3J0IHsgcHJvbW90ZVBhcnRpY2lwYW50cyB9IGZyb20gJy4vcHJvbW90ZVBhcnRpY2lwYW50cyc7XHJcbmV4cG9ydCB7IHJlbW92ZVN1Ymdyb3VwcyB9IGZyb20gJy4vcmVtb3ZlU3ViZ3JvdXBzJztcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBlbnN1cmVHcm91cEFuZFBhcnRpY2lwYW50cyB9IGZyb20gJy4uLy4uL2dyb3VwJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgKiBhcyB3YV9mdW5jdGlvbnMgZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbi8qKlxyXG4gKiBQcm9tb3RlIHBhcnRpY2lwYW50IG9mIGNvbW11bml0eSB0byBhZG1pblxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGF3YWl0IFdQUC5jb21tdW5pdHkucHJvbW90ZVBhcnRpY2lwYW50cygnMTIzNDU2QGcudXMnLCAnMTIzNDU2QGMudXMnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDb21tdW5pdHlcclxuICovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvbW90ZVBhcnRpY2lwYW50cyhcclxuICBjb21tdW5pdHlJZDogc3RyaW5nIHwgV2lkLFxyXG4gIHBhcnRpY2lwYW50c0lkczogKHN0cmluZyB8IFdpZCkgfCAoc3RyaW5nIHwgV2lkKVtdXHJcbik6IFByb21pc2U8YW55PiB7XHJcbiAgY29uc3QgeyBncm91cENoYXQsIHBhcnRpY2lwYW50cyB9ID0gYXdhaXQgZW5zdXJlR3JvdXBBbmRQYXJ0aWNpcGFudHMoXHJcbiAgICBjb21tdW5pdHlJZCxcclxuICAgIHBhcnRpY2lwYW50c0lkc1xyXG4gICk7XHJcblxyXG4gIHJldHVybiB3YV9mdW5jdGlvbnMucHJvbW90ZUNvbW11bml0eVBhcnRpY2lwYW50cyhncm91cENoYXQsIHBhcnRpY2lwYW50cyk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRXaWQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IHNlbmRVbmxpbmtTdWJncm91cHMgYXMgU2VuZFVubGlua1N1Ymdyb3VwcyB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG4vKipcclxuICogUmVtb3ZlIGdyb3VwcyBmcm9tIGNvbW11bml0eVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGF3YWl0IFdQUC5jb21tdW5pdHkuc2VuZFVubGlua1N1Ymdyb3VwcygnMTIzNDU2QGcudXMnLCBbJzEyMzQ1NkBnLnVzJywgJzEyMzQ1NkBnLnVzJ10pO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IENvbW11bml0eVxyXG4gKi9cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmVTdWJncm91cHMoXHJcbiAgcGFyZW50R3JvdXBJZDogc3RyaW5nIHwgV2lkLFxyXG4gIHN1Ymdyb3VwSWRzOiAoc3RyaW5nIHwgV2lkKSB8IChzdHJpbmcgfCBXaWQpW11cclxuKTogUHJvbWlzZTx7XHJcbiAgZmFpbGVkR3JvdXBzOiB7IGVycm9yOiBzdHJpbmc7IGppZDogc3RyaW5nIH1bXTtcclxuICBsaW5rZWRHcm91cEppZHM6IHN0cmluZ1tdO1xyXG59PiB7XHJcbiAgaWYgKCFBcnJheS5pc0FycmF5KHN1Ymdyb3VwSWRzKSkge1xyXG4gICAgc3ViZ3JvdXBJZHMgPSBbc3ViZ3JvdXBJZHNdO1xyXG4gIH1cclxuICBjb25zdCBwYXJlbnRXaWQgPSBhc3NlcnRXaWQocGFyZW50R3JvdXBJZCk7XHJcbiAgY29uc3Qgc3ViR3JvdXBzV2lkcyA9IHN1Ymdyb3VwSWRzLm1hcChhc3NlcnRXaWQpO1xyXG4gIHJldHVybiBhd2FpdCBTZW5kVW5saW5rU3ViZ3JvdXBzKHtcclxuICAgIHBhcmVudEdyb3VwSWQ6IHBhcmVudFdpZCxcclxuICAgIHN1Ymdyb3VwSWRzOiBzdWJHcm91cHNXaWRzLFxyXG4gIH0pO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9mdW5jdGlvbnMnO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjIgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENvbmZpZyB9IGZyb20gJy4vQ29uZmlnJztcclxuXHJcbmV4cG9ydCBjb25zdCBkZWZhdWx0Q29uZmlnOiBDb25maWcgPSB7XHJcbiAgZGV2aWNlTmFtZTogZmFsc2UsXHJcbiAgbGl2ZUxvY2F0aW9uTGltaXQ6IDEwLFxyXG4gIGRpc2FibGVHb29nbGVBbmFseXRpY3M6IGZhbHNlLFxyXG4gIGdvb2dsZUFuYWx5dGljc0lkOiBudWxsLFxyXG4gIGdvb2dsZUFuYWx5dGljc1VzZXJQcm9wZXJ0eToge30sXHJcbiAgbGlua1ByZXZpZXdBcGlTZXJ2ZXJzOiBudWxsLFxyXG4gIHBvd2VyZWRCeTogJ1dBLUpTJyxcclxuICBzZW5kU3RhdHVzVG9EZXZpY2U6IGZhbHNlLFxyXG4gIHN5bmNBbGxTdGF0dXM6IHRydWUsXHJcbn07XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaW50ZXJuYWxFdiB9IGZyb20gJy4uL2V2ZW50RW1pdHRlcic7XHJcbmltcG9ydCB7IENvbmZpZyB9IGZyb20gJy4vQ29uZmlnJztcclxuaW1wb3J0IHsgZGVmYXVsdENvbmZpZyB9IGZyb20gJy4vZGVmYXVsdENvbmZpZyc7XHJcblxyXG5leHBvcnQgeyBDb25maWcgfSBmcm9tICcuL0NvbmZpZyc7XHJcblxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XHJcbiAgICBXUFBDb25maWc6IENvbmZpZztcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IHNldHRlZCA9IHdpbmRvdy5XUFBDb25maWcgfHwge307XHJcblxyXG5jb25zdCBtZXJnZWQgPSB7IC4uLmRlZmF1bHRDb25maWcsIC4uLnNldHRlZCB9O1xyXG5cclxuY29uc3QgY3JlYXRlSGFuZGVyID0gPFQ+KHBhdGg6IChzdHJpbmcgfCBudW1iZXIgfCBzeW1ib2wpW10gPSBbXSkgPT4gKHtcclxuICBnZXQ6ICh0YXJnZXQ6IFQsIGtleToga2V5b2YgVCk6IGFueSA9PiB7XHJcbiAgICBpZiAoa2V5ID09ICdpc1Byb3h5Jykge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHRhcmdldFtrZXldID09PSAnb2JqZWN0JyAmJiB0YXJnZXRba2V5XSAhPSBudWxsKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJveHkodGFyZ2V0W2tleV0sIGNyZWF0ZUhhbmRlcjxhbnk+KFsuLi5wYXRoLCBrZXldKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRhcmdldFtrZXldO1xyXG4gIH0sXHJcbiAgc2V0OiAodGFyZ2V0OiBULCBrZXk6IGtleW9mIFQsIHZhbHVlOiBhbnkpID0+IHtcclxuICAgIHRhcmdldFtrZXldID0gdmFsdWU7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgaW50ZXJuYWxFdi5lbWl0QXN5bmMoJ2NvbmZpZy51cGRhdGUnLCB7XHJcbiAgICAgICAgY29uZmlnOiBjb25maWcsXHJcbiAgICAgICAga2V5LFxyXG4gICAgICAgIHBhdGg6IFsuLi5wYXRoLCBrZXldLFxyXG4gICAgICAgIHRhcmdldCxcclxuICAgICAgICB2YWx1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge31cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWc6IENvbmZpZyA9IG5ldyBQcm94eTxDb25maWc+KG1lcmdlZCwgY3JlYXRlSGFuZGVyPENvbmZpZz4oKSk7XHJcblxyXG53aW5kb3cuV1BQQ29uZmlnID0gY29uZmlnO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCAnLi9yZWdpc3RlckF1dGhDb2RlQ2hhbmdlRXZlbnQnO1xyXG5pbXBvcnQgJy4vcmVnaXN0ZXJBdXRoZW50aWNhdGVkRXZlbnQnO1xyXG5pbXBvcnQgJy4vcmVnaXN0ZXJMb2dvdXRFdmVudCc7XHJcbmltcG9ydCAnLi9yZWdpc3RlckxvZ291dFJlYXNvbkV2ZW50JztcclxuaW1wb3J0ICcuL3JlZ2lzdGVyTWFpbkluaXQnO1xyXG5pbXBvcnQgJy4vcmVnaXN0ZXJNYWluTG9hZGVkRXZlbnQnO1xyXG5pbXBvcnQgJy4vcmVnaXN0ZXJNYWluUmVhZHlFdmVudCc7XHJcbmltcG9ydCAnLi9yZWdpc3Rlck5lZWRzVXBkYXRlRXZlbnQnO1xyXG5pbXBvcnQgJy4vcmVnaXN0ZXJPbmxpbmVFdmVudCc7XHJcbmltcG9ydCAnLi9yZWdpc3RlclFSQ29kZUlkbGVFdmVudCc7XHJcbmltcG9ydCAnLi9yZWdpc3RlclJlcXVpcmVBdXRoRXZlbnQnO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGludGVybmFsRXYgfSBmcm9tICcuLi8uLi9ldmVudEVtaXR0ZXInO1xyXG5pbXBvcnQgKiBhcyB3ZWJwYWNrIGZyb20gJy4uLy4uL3dlYnBhY2snO1xyXG5pbXBvcnQgeyBDb25uIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBnZXRBdXRoQ29kZSB9IGZyb20gJy4uJztcclxuXHJcbndlYnBhY2sub25JbmplY3RlZChyZWdpc3RlckF1dGhDb2RlQ2hhbmdlRXZlbnQpO1xyXG5cclxuZnVuY3Rpb24gcmVnaXN0ZXJBdXRoQ29kZUNoYW5nZUV2ZW50KCkge1xyXG4gIGNvbnN0IHRyaWdnZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBhdXRoQ29kZSA9IGF3YWl0IGdldEF1dGhDb2RlKCkuY2F0Y2goKCkgPT4gbnVsbCk7XHJcbiAgICBpbnRlcm5hbEV2LmVtaXQoJ2Nvbm4uYXV0aF9jb2RlX2NoYW5nZScsIGF1dGhDb2RlKTtcclxuICB9O1xyXG5cclxuICB0cmlnZ2VyKCk7XHJcbiAgQ29ubi5vbignY2hhbmdlOnJlZicsIHRyaWdnZXIpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaW50ZXJuYWxFdiB9IGZyb20gJy4uLy4uL2V2ZW50RW1pdHRlcic7XHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IENtZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgaXNBdXRoZW50aWNhdGVkIH0gZnJvbSAnLi4nO1xyXG5cclxud2VicGFjay5vbkluamVjdGVkKHJlZ2lzdGVyKTtcclxuXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyKCkge1xyXG4gIGxldCBpc0F1dGggPSBpc0F1dGhlbnRpY2F0ZWQoKTtcclxuXHJcbiAgY29uc3QgdHJpZ2dlciA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghaXNBdXRoKSB7XHJcbiAgICAgIGludGVybmFsRXYuZW1pdCgnY29ubi5hdXRoZW50aWNhdGVkJyk7XHJcbiAgICAgIGlzQXV0aCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGlmIChDbWQuaXNNYWluTG9hZGVkKSB7XHJcbiAgICB0cmlnZ2VyKCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIENtZC5vbignbWFpbl9sb2FkZWQnLCB0cmlnZ2VyKTtcclxuICB9XHJcblxyXG4gIENtZC5vbignbG9nb3V0JywgKCkgPT4ge1xyXG4gICAgaXNBdXRoID0gZmFsc2U7XHJcbiAgfSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpbnRlcm5hbEV2IH0gZnJvbSAnLi4vLi4vZXZlbnRFbWl0dGVyJztcclxuaW1wb3J0ICogYXMgd2VicGFjayBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgQ21kIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxud2VicGFjay5vbkluamVjdGVkKHJlZ2lzdGVyTG9nb3V0RXZlbnQpO1xyXG5cclxuZnVuY3Rpb24gcmVnaXN0ZXJMb2dvdXRFdmVudCgpIHtcclxuICBDbWQub24oJ2xvZ291dCcsICgpID0+IGludGVybmFsRXYuZW1pdCgnY29ubi5sb2dvdXQnKSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpbnRlcm5hbEV2IH0gZnJvbSAnLi4vLi4vZXZlbnRFbWl0dGVyJztcclxuaW1wb3J0ICogYXMgd2VicGFjayBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgd3JhcE1vZHVsZUZ1bmN0aW9uIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgZ2V0RXJyb3JDb2RlRnJvbUxvZ291dFJlYXNvbiB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG53ZWJwYWNrLm9uSW5qZWN0ZWQocmVnaXN0ZXJMb2dvdXRSZWFzb25FdmVudCk7XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlckxvZ291dFJlYXNvbkV2ZW50KCkge1xyXG4gIHdyYXBNb2R1bGVGdW5jdGlvbihnZXRFcnJvckNvZGVGcm9tTG9nb3V0UmVhc29uLCAoZnVuYywgLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgW2RhdGFdOiBhbnkgPSBhcmdzO1xyXG4gICAgaW50ZXJuYWxFdi5lbWl0KCdjb25uLmxvZ291dF9yZWFzb24nLCBkYXRhKTtcclxuXHJcbiAgICByZXR1cm4gZnVuYyguLi5hcmdzKTtcclxuICB9KTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGludGVybmFsRXYgfSBmcm9tICcuLi8uLi9ldmVudEVtaXR0ZXInO1xyXG5pbXBvcnQgKiBhcyB3ZWJwYWNrIGZyb20gJy4uLy4uL3dlYnBhY2snO1xyXG5pbXBvcnQgeyBpc01haW5Jbml0IH0gZnJvbSAnLi4vZnVuY3Rpb25zJztcclxuXHJcbndlYnBhY2sub25JbmplY3RlZChyZWdpc3Rlcik7XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlcigpIHtcclxuICBjb25zdCBjaGVjayA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgIGlmIChpc01haW5Jbml0KCkpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbChjaGVjayk7XHJcbiAgICAgIGludGVybmFsRXYuZW1pdCgnY29ubi5tYWluX2luaXQnKTtcclxuICAgIH1cclxuICB9LCAxMDApO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaW50ZXJuYWxFdiB9IGZyb20gJy4uLy4uL2V2ZW50RW1pdHRlcic7XHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IENtZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbndlYnBhY2sub25JbmplY3RlZChyZWdpc3Rlcik7XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlcigpIHtcclxuICBjb25zdCB0cmlnZ2VyID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaW50ZXJuYWxFdi5lbWl0KCdjb25uLm1haW5fbG9hZGVkJyk7XHJcbiAgfTtcclxuXHJcbiAgaWYgKENtZC5pc01haW5Mb2FkZWQpIHtcclxuICAgIHRyaWdnZXIoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgQ21kLm9uKCdtYWluX2xvYWRlZCcsIHRyaWdnZXIpO1xyXG4gIH1cclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGludGVybmFsRXYgfSBmcm9tICcuLi8uLi9ldmVudEVtaXR0ZXInO1xyXG5pbXBvcnQgKiBhcyB3ZWJwYWNrIGZyb20gJy4uLy4uL3dlYnBhY2snO1xyXG5pbXBvcnQgeyBDbWQsIFN0cmVhbSB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbndlYnBhY2sub25JbmplY3RlZChyZWdpc3Rlcik7XHJcbmxldCBpc01haW5SZWFkeSA9IGZhbHNlO1xyXG5cclxuZnVuY3Rpb24gcmVnaXN0ZXIoKSB7XHJcbiAgY29uc3QgdHJpZ2dlciA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghaXNNYWluUmVhZHkpIHtcclxuICAgICAgaXNNYWluUmVhZHkgPSB0cnVlO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IChpc01haW5SZWFkeSA9IGZhbHNlKSwgMTAwMCk7XHJcbiAgICAgIGludGVybmFsRXYuZW1pdCgnY29ubi5tYWluX3JlYWR5Jyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgaWYgKFN0cmVhbS5tb2RlID09PSAnTUFJTicpIHtcclxuICAgIHRyaWdnZXIoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgQ21kLm9uKCdtYWluX3N0cmVhbV9tb2RlX3JlYWR5JywgdHJpZ2dlcik7XHJcbiAgICBDbWQub24oJ21haW5fc3RyZWFtX21vZGVfcmVhZHlfbGVnYWN5JywgdHJpZ2dlcik7XHJcbiAgfVxyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaW50ZXJuYWxFdiB9IGZyb20gJy4uLy4uL2V2ZW50RW1pdHRlcic7XHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IFN0cmVhbSB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbndlYnBhY2sub25JbmplY3RlZChyZWdpc3Rlcik7XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlcigpIHtcclxuICBjb25zdCB0cmlnZ2VyID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaW50ZXJuYWxFdi5lbWl0KCdjb25uLm5lZWRzX3VwZGF0ZScpO1xyXG4gIH07XHJcblxyXG4gIGlmIChTdHJlYW0ubmVlZHNVcGRhdGUpIHtcclxuICAgIHRyaWdnZXIoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgU3RyZWFtLm9uKCdjaGFuZ2U6bmVlZHNVcGRhdGUnLCB0cmlnZ2VyKTtcclxuICB9XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpbnRlcm5hbEV2IH0gZnJvbSAnLi4vLi4vZXZlbnRFbWl0dGVyJztcclxuaW1wb3J0ICogYXMgd2VicGFjayBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgTmV0d29ya1N0YXR1cywgTmV0d29ya1N0YXR1c01vZGVsIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxud2VicGFjay5vbkluamVjdGVkKHJlZ2lzdGVyKTtcclxuXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyKCkge1xyXG4gIE5ldHdvcmtTdGF0dXMub24oXHJcbiAgICAnY2hhbmdlOm9ubGluZScsXHJcbiAgICAobW9kZWw6IE5ldHdvcmtTdGF0dXNNb2RlbCwgb25saW5lOiBib29sZWFuKSA9PiB7XHJcbiAgICAgIGludGVybmFsRXYuZW1pdCgnY29ubi5vbmxpbmUnLCBvbmxpbmUpO1xyXG4gICAgfVxyXG4gICk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpbnRlcm5hbEV2IH0gZnJvbSAnLi4vLi4vZXZlbnRFbWl0dGVyJztcclxuaW1wb3J0ICogYXMgd2VicGFjayBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgU29ja2V0IH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBpc0lkbGUgfSBmcm9tICcuLic7XHJcblxyXG53ZWJwYWNrLm9uSW5qZWN0ZWQocmVnaXN0ZXJRUkNvZGVJZGxlRXZlbnQpO1xyXG5cclxuZnVuY3Rpb24gcmVnaXN0ZXJRUkNvZGVJZGxlRXZlbnQoKSB7XHJcbiAgY29uc3QgdHJpZ2dlciA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IGlkbGUgPSBpc0lkbGUoKTtcclxuICAgIGlmIChpZGxlKSB7XHJcbiAgICAgIGludGVybmFsRXYuZW1pdCgnY29ubi5xcmNvZGVfaWRsZScpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgdHJpZ2dlcigpO1xyXG4gIFNvY2tldC5vbignY2hhbmdlOnN0YXRlJywgdHJpZ2dlcik7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpbnRlcm5hbEV2IH0gZnJvbSAnLi4vLi4vZXZlbnRFbWl0dGVyJztcclxuaW1wb3J0ICogYXMgd2VicGFjayBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgU29ja2V0IH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBTT0NLRVRfU1RBVEUgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9lbnVtcy9TT0NLRVRfU1RBVEUnO1xyXG5pbXBvcnQgeyBpc0F1dGhlbnRpY2F0ZWQgfSBmcm9tICcuLic7XHJcblxyXG53ZWJwYWNrLm9uSW5qZWN0ZWQocmVnaXN0ZXJSZXF1aXJlQXV0aEV2ZW50KTtcclxuXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyUmVxdWlyZUF1dGhFdmVudCgpIHtcclxuICBsZXQgZmlyZWQgPSBmYWxzZTtcclxuICBjb25zdCB0cmlnZ2VyID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKGlzQXV0aGVudGljYXRlZCgpKSB7XHJcbiAgICAgIGZpcmVkID0gZmFsc2U7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZmlyZWQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChcclxuICAgICAgU29ja2V0LnN0YXRlID09PSBTT0NLRVRfU1RBVEUuVU5QQUlSRUQgfHxcclxuICAgICAgU29ja2V0LnN0YXRlID09PSBTT0NLRVRfU1RBVEUuVU5QQUlSRURfSURMRVxyXG4gICAgKSB7XHJcbiAgICAgIGZpcmVkID0gdHJ1ZTtcclxuICAgICAgaW50ZXJuYWxFdi5lbWl0KCdjb25uLnJlcXVpcmVfYXV0aCcpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHRyaWdnZXIoKTtcclxuICBTb2NrZXQub24oJ2NoYW5nZTpzdGF0ZScsIHRyaWdnZXIpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgRW52aXJvbWVudCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbi8qKlxyXG4gKiBDaGFuZ2UgdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQgZGV2aWNlIGJldHdlZW4gV2ViIGFuZCBXaW5kb3dzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZUVudmlyb21lbnREZXZpY2UoKSB7XHJcbiAgRW52aXJvbWVudC5kZWZhdWx0LmlzV2ViID0gIUVudmlyb21lbnQuZGVmYXVsdC5pc1dlYjtcclxuICBFbnZpcm9tZW50LmRlZmF1bHQuaXNXaW5kb3dzID0gIUVudmlyb21lbnQuZGVmYXVsdC5pc1dpbmRvd3M7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBmdW5jdGlvbnMgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IGlzQXV0aGVudGljYXRlZCB9IGZyb20gJy4nO1xyXG5cclxuLyoqXHJcbiAqIEFsdGVybmF0aXZlIGxvZ2luIG1ldGhvZCB1c2luZyBjb2RlXHJcbiAqIEdldCB0aGUgTGluayBEZXZpY2UgQ29kZSBmb3IgQXV0aGVudGljYXRpb24gdXNpbmcgdGhlIHBob25lIG51bWJlclxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGNvbnN0IGNvZGUgPSBhd2FpdCBXUFAuY29ubi5nZW5MaW5rRGV2aWNlQ29kZUZvclBob25lTnVtYmVyKCdbbnVtYmVyXScpO1xyXG4gKlxyXG4gKiAvLyBEaXNhYmxlIHB1c2ggbm90aWZpY2F0aW9uXHJcbiAqIGNvbnN0IGNvZGUgPSBhd2FpdCBXUFAuY29ubi5nZW5MaW5rRGV2aWNlQ29kZUZvclBob25lTnVtYmVyKCdbbnVtYmVyXScsIGZhbHNlKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDb25uXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuTGlua0RldmljZUNvZGVGb3JQaG9uZU51bWJlcihcclxuICBwaG9uZTogc3RyaW5nLFxyXG4gIHNlbmRQdXNoTm90aWZpY2F0aW9uID0gdHJ1ZVxyXG4pOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gIGlmICghcGhvbmUgfHwgdHlwZW9mIHBob25lICE9PSAnc3RyaW5nJykge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnc2VuZF90aGVfcGhvbmVfbnVtYmVyX3RvX2Nvbm5lY3QnLFxyXG4gICAgICBcIkNhbid0IGdldCBjb2RlIGZvciB3aXRob3V0IHBob25lIG51bWJlciBwYXJhbVwiXHJcbiAgICApO1xyXG4gIH1cclxuICBpZiAoaXNBdXRoZW50aWNhdGVkKCkpIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ2Nhbm5vdF9nZXRfY29kZV9mb3JfYWxyZWFkeV9hdXRoZW50aWNhdGVkJyxcclxuICAgICAgXCJDYW4ndCBnZXQgY29kZSBmb3IgYWxyZWFkeSBhdXRoZW50aWNhdGVkIHVzZXJcIlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGF3YWl0IGZ1bmN0aW9ucy5pbml0aWFsaXplQWx0RGV2aWNlTGlua2luZygpO1xyXG4gIHJldHVybiBhd2FpdCBmdW5jdGlvbnMuZ2VuTGlua0RldmljZUNvZGVGb3JQaG9uZU51bWJlcihcclxuICAgIHBob25lLFxyXG4gICAgc2VuZFB1c2hOb3RpZmljYXRpb25cclxuICApO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQmFzZTY0LCBDb25uIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBhZHYsIHdhTm9pc2VJbmZvLCB3YVNpZ25hbFN0b3JlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvbXVsdGlkZXZpY2UnO1xyXG5pbXBvcnQgeyBBdXRoQ29kZSB9IGZyb20gJy4uJztcclxuaW1wb3J0IHsgaXNBdXRoZW50aWNhdGVkLCBpc011bHRpRGV2aWNlLCBpc1JlZ2lzdGVyZWQgfSBmcm9tICcuJztcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm4gdGhlIGN1cnJlbnQgYXV0aCBjb2RlXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogY29uc3QgYXV0aENvZGUgPSBhd2FpdCBXUFAuY29ubi5nZXRBdXRoQ29kZSgpO1xyXG4gKiBjb25zb2xlLmxvZyhhdXRoQ29kZS5mdWxsQ29kZSk7IC8vIE91dHB1dDogYSBsb25nIHN0cmluZyB0byBnZW5lcmF0ZSBhIFFSQ29kZVxyXG4gKiBgYGBcclxuICpcclxuICogQHJldHVybiAge1Byb21pc2U8QXV0aENvZGU+fVtyZXR1cm4gZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXV0aENvZGUoKTogUHJvbWlzZTxBdXRoQ29kZSB8IG51bGw+IHtcclxuICBpZiAoIUNvbm4ucmVmIHx8IENvbm4uY29ubmVjdGVkIHx8IGlzQXV0aGVudGljYXRlZCgpIHx8IGlzUmVnaXN0ZXJlZCgpKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGNvbnN0IHJlZiA9IENvbm4ucmVmO1xyXG5cclxuICBpZiAoaXNNdWx0aURldmljZSgpKSB7XHJcbiAgICBjb25zdCByZWdpc3RyYXRpb25JbmZvID0gYXdhaXQgd2FTaWduYWxTdG9yZS5nZXRSZWdpc3RyYXRpb25JbmZvKCk7XHJcbiAgICBjb25zdCBub2lzZUluZm8gPSBhd2FpdCB3YU5vaXNlSW5mby5nZXQoKTtcclxuXHJcbiAgICBjb25zdCBzdGF0aWNLZXlQYWlyID0gQmFzZTY0LmVuY29kZUI2NChub2lzZUluZm8uc3RhdGljS2V5UGFpci5wdWJLZXkpO1xyXG4gICAgY29uc3QgaWRlbnRpdHlLZXlQYWlyID0gQmFzZTY0LmVuY29kZUI2NChcclxuICAgICAgcmVnaXN0cmF0aW9uSW5mby5pZGVudGl0eUtleVBhaXIucHViS2V5XHJcbiAgICApO1xyXG4gICAgY29uc3Qgc2VjcmV0S2V5ID0gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGFkdi5nZXRBRFZTZWNyZXRLZXkoKSk7XHJcblxyXG4gICAgY29uc3QgZnVsbENvZGUgPSBbcmVmLCBzdGF0aWNLZXlQYWlyLCBpZGVudGl0eUtleVBhaXIsIHNlY3JldEtleV0uam9pbignLCcpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHR5cGU6ICdtdWx0aWRldmljZScsXHJcbiAgICAgIHJlZixcclxuICAgICAgc3RhdGljS2V5UGFpcixcclxuICAgICAgaWRlbnRpdHlLZXlQYWlyLFxyXG4gICAgICBzZWNyZXRLZXksXHJcbiAgICAgIGZ1bGxDb2RlLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHJldHVybiBudWxsO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgd2FfZnVuY3Rpb25zIGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEhpc3RvcnlTeW5jUHJvZ3Jlc3Mge1xyXG4gIHByb2dyZXNzOiBudW1iZXIgfCBudWxsO1xyXG4gIHBhdXNlZDogYm9vbGVhbjtcclxuICBpblByb2dyZXNzOiBib29sZWFuO1xyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlIG9mIHN5bmNpbmcgb2xkIG1lc3NhZ2VzIHByb2dyZXNzXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogY29uc3QgaW5mbyA9IFdQUC5jb25uLmdldEhpc3RvcnlTeW5jUHJvZ3Jlc3MoKTtcclxuICogY29uc29sZS5sb2coaW5mby5wcm9ncmVzcyk7IC8vIE91dHB1dDogNTBcclxuICogY29uc29sZS5sb2coaW5mby5wYXVzZWQpOyAvLyBPdXRwdXQ6IGZhbHNlMFxyXG4gKiBjb25zb2xlLmxvZyhpbmZvLmluUHJvZ3Jlc3MpOyAvLyBPdXRwdXQ6IHRydWVcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGlzdG9yeVN5bmNQcm9ncmVzcygpOiBIaXN0b3J5U3luY1Byb2dyZXNzIHtcclxuICBjb25zdCBpbmZvID0gd2FfZnVuY3Rpb25zLmdldEhpc3RvcnlTeW5jUHJvZ3Jlc3MoKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHByb2dyZXNzOiBpbmZvLnJlYWxQcm9ncmVzcyB8fCAwLFxyXG4gICAgcGF1c2VkOiAoaW5mbz8ucmVtYWluaW5nUGF1c2VkU2Vjb25kcyB8fCAwKSA+IDAsXHJcbiAgICBpblByb2dyZXNzOiAoaW5mbz8ucmVhbFByb2dyZXNzIHx8IDApIDwgMTAwLFxyXG4gIH07XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBVc2VyUHJlZnMsIFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZ2V0TXlVc2VyV2lkIH0gZnJvbSAnLi9nZXRNeVVzZXJXaWQnO1xyXG5cclxuLyoqXHJcbiAqIFJldHVybiB0aGUgY3VycmVudCBsb2dnZWQgdXNlciBJRCB3aXRoIGRldmljZSBpZFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGNvbnN0IHdpZCA9IFdQUC5jb25uLmdldE15RGV2aWNlSWQoKTtcclxuICogY29uc29sZS5sb2cod2lkLnRvU3RyaW5nKCkpOyAvLyBPdXRwdXQ6IDEyMzo0QGMudXNcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TXlEZXZpY2VJZCgpOiBXaWQgfCB1bmRlZmluZWQge1xyXG4gIGNvbnN0IHVzZXIgPSBnZXRNeVVzZXJXaWQoKTtcclxuXHJcbiAgcmV0dXJuIHVzZXIgPyB1c2VyIDogVXNlclByZWZzLmdldE1lKCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IGdldE15VXNlcldpZCB9IGZyb20gJy4vZ2V0TXlVc2VyV2lkJztcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm4gdGhlIGN1cnJlbnQgbG9nZ2VkIHVzZXIgSUQgd2l0aG91dCBkZXZpY2UgaWRcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBjb25zdCB3aWQgPSBXUFAuY29ubi5nZXRNeVVzZXJJZCgpO1xyXG4gKiBjb25zb2xlLmxvZyh3aWQudG9TdHJpbmcoKSk7IC8vIE91dHB1dDogMTIzQGMudXNcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TXlVc2VySWQoKTogV2lkIHwgdW5kZWZpbmVkIHtcclxuICBjb25zdCB1c2VyID0gZ2V0TXlVc2VyV2lkKCk7XHJcbiAgcmV0dXJuIHVzZXI7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBVc2VyUHJlZnMsIFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm4gdGhlIGN1cnJlbnQgbG9nZ2VkIHVzZXIgSUQgd2l0aG91dCBkZXZpY2UgaWRcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBjb25zdCB3aWQgPSBXUFAuY29ubi5nZXRNeVVzZXJJZCgpO1xyXG4gKiBjb25zb2xlLmxvZyh3aWQudG9TdHJpbmcoKSk7IC8vIE91dHB1dDogMTIzQGMudXNcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TXlVc2VyV2lkKCk6IFdpZCB7XHJcbiAgY29uc3QgdXNlciA9XHJcbiAgICB0eXBlb2YgVXNlclByZWZzLmdldE1heWJlTWVVc2VyID09PSAnZnVuY3Rpb24nXHJcbiAgICAgID8gVXNlclByZWZzLmdldE1heWJlTWVVc2VyKClcclxuICAgICAgOiBVc2VyUHJlZnMuZ2V0TWF5YmVNZVBuVXNlcigpO1xyXG5cclxuICByZXR1cm4gdXNlcjtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjIgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENvbm4gfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcblxyXG4vKipcclxuICogQ2hlY2sgd2hhdCdzIGRldmljZSBwbGF0Zm9ybSBpcyBjb25uZWN0ZWRcclxuICogQHJldHVybnMgYW5kcm9pZCB8IGlwaG9uZSB8IHdwXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogY29uc3QgZ2V0UGxhdGZvcm0gPSBXUFAuY29ubi5nZXRQbGF0Zm9ybSgpO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQbGF0Zm9ybSgpOiBhbnkge1xyXG4gIHJldHVybiBDb25uLnBsYXRmb3JtO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IHsgY2hhbmdlRW52aXJvbWVudERldmljZSB9IGZyb20gJy4vY2hhbmdlRW52aXJvbWVudERldmljZSc7XHJcbmV4cG9ydCB7IGdlbkxpbmtEZXZpY2VDb2RlRm9yUGhvbmVOdW1iZXIgfSBmcm9tICcuL2dlbkxpbmtEZXZpY2VDb2RlRm9yUGhvbmVOdW1iZXInO1xyXG5leHBvcnQgeyBnZXRBdXRoQ29kZSB9IGZyb20gJy4vZ2V0QXV0aENvZGUnO1xyXG5leHBvcnQge1xyXG4gIGdldEhpc3RvcnlTeW5jUHJvZ3Jlc3MsXHJcbiAgSGlzdG9yeVN5bmNQcm9ncmVzcyxcclxufSBmcm9tICcuL2dldEhpc3RvcnlTeW5jUHJvZ3Jlc3MnO1xyXG5leHBvcnQgeyBnZXRNeURldmljZUlkIH0gZnJvbSAnLi9nZXRNeURldmljZUlkJztcclxuZXhwb3J0IHsgZ2V0TXlVc2VySWQgfSBmcm9tICcuL2dldE15VXNlcklkJztcclxuZXhwb3J0IHsgZ2V0UGxhdGZvcm0gfSBmcm9tICcuL2dldFBsYXRmb3JtJztcclxuZXhwb3J0IHsgaXNBdXRoZW50aWNhdGVkIH0gZnJvbSAnLi9pc0F1dGhlbnRpY2F0ZWQnO1xyXG5leHBvcnQgeyBpc0lkbGUgfSBmcm9tICcuL2lzSWRsZSc7XHJcbmV4cG9ydCB7IGlzTWFpbkluaXQgfSBmcm9tICcuL2lzTWFpbkluaXQnO1xyXG5leHBvcnQgeyBpc01haW5Mb2FkZWQgfSBmcm9tICcuL2lzTWFpbkxvYWRlZCc7XHJcbmV4cG9ydCB7IGlzTWFpblJlYWR5IH0gZnJvbSAnLi9pc01haW5SZWFkeSc7XHJcbmV4cG9ydCB7IGlzTXVsdGlEZXZpY2UgfSBmcm9tICcuL2lzTXVsdGlEZXZpY2UnO1xyXG5leHBvcnQgeyBpc09ubGluZSB9IGZyb20gJy4vaXNPbmxpbmUnO1xyXG5leHBvcnQgeyBpc1JlZ2lzdGVyZWQgfSBmcm9tICcuL2lzUmVnaXN0ZXJlZCc7XHJcbmV4cG9ydCB7IGpvaW5XZWJCZXRhIH0gZnJvbSAnLi9qb2luV2ViQmV0YSc7XHJcbmV4cG9ydCB7IGxvZ291dCB9IGZyb20gJy4vbG9nb3V0JztcclxuZXhwb3J0IHsgbWFya0F2YWlsYWJsZSwgbWFya1VuYXZhaWxhYmxlIH0gZnJvbSAnLi9tYXJrQXZhaWxhYmxlJztcclxuZXhwb3J0IHsgbmVlZHNVcGRhdGUgfSBmcm9tICcuL25lZWRzVXBkYXRlJztcclxuZXhwb3J0IHsgcmVmcmVzaFFSIH0gZnJvbSAnLi9yZWZyZXNoUVInO1xyXG5leHBvcnQgeyBzZXRLZWVwQWxpdmUgfSBmcm9tICcuL3NldEtlZXBBbGl2ZSc7XHJcbmV4cG9ydCB7IHNldExpbWl0IH0gZnJvbSAnLi9zZXRMaW1pdCc7XHJcbmV4cG9ydCB7IHNldE11bHRpRGV2aWNlIH0gZnJvbSAnLi9zZXRNdWx0aURldmljZSc7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgd2FfZnVuY3Rpb25zIGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKCk6IGJvb2xlYW4ge1xyXG4gIHJldHVybiB3YV9mdW5jdGlvbnMuaXNBdXRoZW50aWNhdGVkKCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTb2NrZXQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IFNPQ0tFVF9TVEFURSB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2VudW1zL1NPQ0tFVF9TVEFURSc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNJZGxlKCk6IGJvb2xlYW4ge1xyXG4gIHJldHVybiBTb2NrZXQuc3RhdGUgPT09IFNPQ0tFVF9TVEFURS5VTlBBSVJFRF9JRExFO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlzIG1haW4gaW50ZXJmYWNlIGlzIGluaXRpYWxpemluZ1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGNvbnN0IGlzTWFpbkluaXQgPSBXUFAuY29ubi5pc01haW5Jbml0KCk7XHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTWFpbkluaXQoKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIEJvb2xlYW4oKHdpbmRvdyBhcyBhbnkpLkRlYnVnPy5WRVJTSU9OKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENtZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpcyBtYWluIGludGVyZmFjZSBpcyBhdXRoZW50aWNhdGVkIGFuZCBsb2FkZWQsIGJvdCBub3Qgc3luY2VkXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogY29uc3QgaXNNYWluTG9hZGVkID0gV1BQLmNvbm4uaXNNYWluTG9hZGVkKCk7XHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTWFpbkxvYWRlZCgpOiBib29sZWFuIHtcclxuICByZXR1cm4gQ21kLmlzTWFpbkxvYWRlZDtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjIgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGludGVybmFsRXYgfSBmcm9tICcuLi8uLi9ldmVudEVtaXR0ZXInO1xyXG5cclxubGV0IGlzUmVhZHkgPSBmYWxzZTtcclxuXHJcbmludGVybmFsRXYub25jZSgnY29ubi5tYWluX3JlYWR5JywgKCkgPT4ge1xyXG4gIGlzUmVhZHkgPSB0cnVlO1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpcyBtYWluIGludGVyZmFjZSBpcyBhdXRoZW50aWNhdGVkLCBsb2FkZWQgYW5kIHN5bmNlZFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGNvbnN0IGlzTWFpblJlYWR5ID0gV1BQLmNvbm4uaXNNYWluUmVhZHkoKTtcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNNYWluUmVhZHkoKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIGlzUmVhZHk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNNdWx0aURldmljZSgpOiBib29sZWFuIHtcclxuICAvKipcclxuICAgKiBhbHdheXMgdHJ1ZSBmb3IgPj0gMi4yMjQxLjZcclxuICAgKi9cclxuICByZXR1cm4gdHJ1ZTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IE5ldHdvcmtTdGF0dXMgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcblxyXG4vKipcclxuICogQ2hlY2sgaXMgb25saW5lXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogY29uc3QgaXNPbmxpbmUgPSBXUFAuY29ubi5pc09ubGluZSgpO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc09ubGluZSgpOiBib29sZWFuIHtcclxuICByZXR1cm4gTmV0d29ya1N0YXR1cy5vbmxpbmU7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyB3YV9mdW5jdGlvbnMgZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpcyB0aGUgY3VycmVudCBicm93c2VyIGlzIGxvZ2dlZCBiZWZvcmUgbG9hZGluZ1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGNvbnN0IGlzUmVnaXN0ZXJlZCA9IFdQUC5jb25uLmlzUmVnaXN0ZXJlZCgpO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1JlZ2lzdGVyZWQoKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIHdhX2Z1bmN0aW9ucy5pc1JlZ2lzdGVyZWQoKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7XHJcbiAgY2hhbmdlT3B0SW5TdGF0dXNGb3JFeHRlcm5hbFdlYkJldGEsXHJcbiAgZ2V0V2hhdHNBcHBXZWJFeHRlcm5hbEJldGFKb2luZWRJZGIsXHJcbn0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbi8qKlxyXG4gKiBKb2luIG9yIGxlYXZlIG9mIFdoYXRzQXBwIFdlYiBiZXRhIHByb2dyYW0uXHJcbiAqIFdpbGwgcmV0dXJuIHRoZSB2YWx1ZSBzZXRlZFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIEZvciBqb2luIG9uIEJldGFcclxuICogV1BQLmNvbm4uam9pbldlYkJldGEodHJ1ZSk7XHJcbiAqXHJcbiAqIC8vIEZvciBsZWF2ZSBvZiBCZXRhXHJcbiAqIFdQUC5jb25uLmpvaW5XZWJCZXRhKHRydWUpO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBqb2luV2ViQmV0YSh2YWx1ZTogYm9vbGVhbik6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGNvbnN0IGluaXRpYWxWYWx1ZSA9IGF3YWl0IGdldFdoYXRzQXBwV2ViRXh0ZXJuYWxCZXRhSm9pbmVkSWRiKCk7XHJcbiAgaWYgKGluaXRpYWxWYWx1ZSA9PT0gdmFsdWUpIHJldHVybiBpbml0aWFsVmFsdWU7XHJcblxyXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJykge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAndmFsdWVfbm90X2FfYm9vbGVhbicsXHJcbiAgICAgIGBWYWx1ZSAke3ZhbHVlIHx8ICc8ZW1wdHk+J30gaXMgbm90IGEgYm9vbGVhbmAsXHJcbiAgICAgIHtcclxuICAgICAgICB2YWx1ZSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGF3YWl0IGNoYW5nZU9wdEluU3RhdHVzRm9yRXh0ZXJuYWxXZWJCZXRhKHZhbHVlKTtcclxuICByZXR1cm4gYXdhaXQgZ2V0V2hhdHNBcHBXZWJFeHRlcm5hbEJldGFKb2luZWRJZGIoKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENtZCwgU29ja2V0IH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ291dCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICBTb2NrZXQubG9nb3V0KCk7XHJcblxyXG4gIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICBDbWQub25jZSgnbG9nb3V0JywgcmVzb2x2ZSk7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3RyZWFtIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuLyoqXHJcbiAqIFNldCB0aGUgb25saW5lIHN0YXRlIHRvIG9ubGluZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGF3YWl0IFdQUC5jb25uLm1hcmtBdmFpbGFibGUoKTtcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFya0F2YWlsYWJsZShhdmFpbGFibGUgPSB0cnVlKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmVhbSwgJ2F2YWlsYWJsZScsIHtcclxuICAgIGdldDogKCkgPT4gYXZhaWxhYmxlLFxyXG4gICAgc2V0OiAodikgPT4ge1xyXG4gICAgICBpZiAodiAhPSBhdmFpbGFibGUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgU3RyZWFtLnRyaWdnZXIoJ2NoYW5nZTphdmFpbGFibGUnKTtcclxuICAgIH0sXHJcbiAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgfSk7XHJcblxyXG4gIGlmIChhdmFpbGFibGUpIHtcclxuICAgIFN0cmVhbS5tYXJrQXZhaWxhYmxlKCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIFN0cmVhbS5tYXJrVW5hdmFpbGFibGUoKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICogU2V0IHRoZSBvbmxpbmUgc3RhdGUgdG8gb2ZmbGluZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGF3YWl0IFdQUC5jb25uLm1hcmtVbmF2YWlsYWJsZSgpO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYXJrVW5hdmFpbGFibGUoKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgcmV0dXJuIG1hcmtBdmFpbGFibGUoZmFsc2UpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3RyZWFtIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIHdoYXRzYXBwIHdlYiBpcyBhc2tpbmcgZm9yIHVwZGF0ZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGNvbnN0IG5lZWRzVXBkYXRlID0gV1BQLmNvbm4ubmVlZHNVcGRhdGUoKTtcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbmVlZHNVcGRhdGUoKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIFN0cmVhbS5uZWVkc1VwZGF0ZTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGludGVybmFsRXYgfSBmcm9tICcuLi8uLi9ldmVudEVtaXR0ZXInO1xyXG5pbXBvcnQgeyBDbWQsIFNvY2tldCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgQXV0aENvZGUgfSBmcm9tICcuLic7XHJcbmltcG9ydCB7IGlzQXV0aGVudGljYXRlZCwgaXNNdWx0aURldmljZSB9IGZyb20gJy4nO1xyXG5cclxuLyoqXHJcbiAqIFJlZnJlc2ggdGhlIGN1cnJlbnQgUVJDb2RlIHdoZW4gaXMgd2FpdGluZyBmb3Igc2NhbiBhbmQgcmV0dXJuIHRoZSBjdXJyZW50IGNvZGVcclxuICpcclxuICogRm9yIGxlZ2FjeTogSXQgd2lsbCB3YWl0IGZvciBuZXh0IGNvZGVcclxuICogRm9yIG11bHRpZGV2aWNlOiBJdCB3aWxsIGdlbmVyYXRlIGEgbmV3IG9uZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGF3YWl0IFdQUC5jb25uLnJlZnJlc2hRUigpO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWZyZXNoUVIoKTogUHJvbWlzZTxBdXRoQ29kZSB8IG51bGw+IHtcclxuICBpZiAoaXNBdXRoZW50aWNhdGVkKCkpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzTXVsdGlEZXZpY2UoKSkge1xyXG4gICAgQ21kLnJlZnJlc2hRUigpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBTb2NrZXQucG9rZSgpO1xyXG4gIH1cclxuICByZXR1cm4gYXdhaXQgaW50ZXJuYWxFdi53YWl0Rm9yKCdjb25uLmF1dGhfY29kZV9jaGFuZ2UnKS50aGVuKCh2KSA9PiB2WzBdKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmNvbnN0IG9yaWdpbmFsSGFzRm9jdXMgPSBkb2N1bWVudC5oYXNGb2N1cztcclxubGV0IGludGVydmFsOiBhbnk7XHJcblxyXG4vKipcclxuICogU2V0IGtlZXAgYWxpdmUgc3RhdGUsIHRoYXQgd2lsbCBmb3JjZSB0aGUgZm9jdXNlZCBhbmQgb25saW5lIHN0YXRlXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gVG8gZW5hYmxlXHJcbiAqIGF3YWl0IFdQUC5jb25uLnNldEtlZXBBbGl2ZSgpO1xyXG4gKlxyXG4gKiAvLyBUbyBkaXNhYmxlXHJcbiAqIGF3YWl0IFdQUC5jb25uLnNldEtlZXBBbGl2ZShmYWxzZSk7XHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEtlZXBBbGl2ZShlbmFibGUgPSB0cnVlKSB7XHJcbiAgaWYgKGVuYWJsZSkge1xyXG4gICAgZG9jdW1lbnQuaGFzRm9jdXMgPSAoKSA9PiB0cnVlO1xyXG4gICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChcclxuICAgICAgKCkgPT4gZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3Njcm9sbCcpKSxcclxuICAgICAgMTUwMDBcclxuICAgICk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGRvY3VtZW50Lmhhc0ZvY3VzID0gb3JpZ2luYWxIYXNGb2N1cztcclxuICAgIGlmIChpbnRlcnZhbCkge1xyXG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICAgICAgaW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuICEhaW50ZXJ2YWw7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgKiBhcyB3ZWJwYWNrIGZyb20gJy4uLy4uL3dlYnBhY2snO1xyXG5pbXBvcnQgeyBTZXJ2ZXJQcm9wc0NvbnN0YW50cyB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgd3JhcE1vZHVsZUZ1bmN0aW9uIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgZ2V0TnVtQ2hhdHNQaW5uZWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxubGV0IHVubGltaXRlZFBpbjogdW5kZWZpbmVkIHwgYm9vbGVhbiA9IHVuZGVmaW5lZDtcclxuXHJcbndlYnBhY2sub25GdWxsUmVhZHkoKCkgPT4ge1xyXG4gIHdyYXBNb2R1bGVGdW5jdGlvbihnZXROdW1DaGF0c1Bpbm5lZCwgKGZ1bmMsIC4uLmFyZ3MpID0+IHtcclxuICAgIGNvbnN0IGdldE51bUNoYXRzUGlubmVkT3JpZ2luYWwgPSBmdW5jKC4uLmFyZ3MpO1xyXG4gICAgcmV0dXJuIHVubGltaXRlZFBpbiA/IDEgOiBnZXROdW1DaGF0c1Bpbm5lZE9yaWdpbmFsO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBDaGFuZ2UgdGhlIGxpbWl0IG9mIE1lZGlhU2l6ZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqICAvL0NoYW5nZSB0aGUgbWF4aW11bSBzaXplIChieXRlcykgZm9yIHVwbG9hZGluZyBtZWRpYSAobWF4IDcwTUIpXHJcbiAqICBXUFAuY29ubi5zZXRMaW1pdCgnbWF4TWVkaWFTaXplJywxNjc3NzIxNik7XHJcbiAqIGBgYFxyXG4gKiBAZGVwcmVjYXRlZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldExpbWl0KGtleTogJ21heE1lZGlhU2l6ZScsIHZhbHVlOiBudW1iZXIpOiBudW1iZXI7XHJcbi8qKlxyXG4gKiBDaGFuZ2UgdGhlIGxpbWl0IG9mIEZpbGVTaXplXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogIC8vQ2hhbmdlIHRoZSBtYXhpbXVtIHNpemUgKGJ5dGVzKSBmb3IgdXBsb2FkaW5nIGZpbGVzIChtYXggMUdCKVxyXG4gKiAgV1BQLmNvbm4uc2V0TGltaXQoJ21heEZpbGVTaXplJywxMDQ4NTc2MDApO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRMaW1pdChrZXk6ICdtYXhGaWxlU2l6ZScsIHZhbHVlOiBudW1iZXIpOiBudW1iZXI7XHJcbi8qKlxyXG4gKiBDaGFuZ2UgdGhlIGxpbWl0IG9mIFNoYXJlXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogIC8vQ2hhbmdlIHRoZSBtYXhpbXVtIG51bWJlciBvZiBjb250YWN0cyB0aGF0IGNhbiBiZSBzZWxlY3RlZCB3aGVuIHNoYXJpbmcgKERlZmF1bHQgNSlcclxuICogIFdQUC5jb25uLnNldExpbWl0KCdtYXhTaGFyZScsMTAwKTtcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0TGltaXQoa2V5OiAnbWF4U2hhcmUnLCB2YWx1ZTogbnVtYmVyKTogbnVtYmVyO1xyXG4vKipcclxuICogQ2hhbmdlIHRoZSBsaW1pdCBvZiBTdGF0dXMgVmlkZW8gRHVyYXRpb25cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAgLy9DaGFuZ2UgdGhlIG1heGltdW0gdGltZSAoc2Vjb25kcykgb2YgYSB2aWRlbyBzdGF0dXNcclxuICogIFdQUC5jb25uLnNldExpbWl0KCdzdGF0dXNWaWRlb01heER1cmF0aW9uJywxMjApO1xyXG4gKiBgYGBcclxuICogQGRlcHJlY2F0ZWRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRMaW1pdChrZXk6ICdzdGF0dXNWaWRlb01heER1cmF0aW9uJywgdmFsdWU6IG51bWJlcik6IG51bWJlcjtcclxuLyoqXHJcbiAqIENoYW5nZSB0aGUgbGltaXQgb2YgUGluXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogIC8vUmVtb3ZlIHBpbm5lZCBjb252ZXJzYXRpb24gbGltaXQgKG9ubHkgd2hhdHNhcHAgd2ViKSAoRGVmYXVsdCAzKVxyXG4gKiAgV1BQLmNvbm4uc2V0TGltaXQoJ3VubGltaXRlZFBpbicsdHJ1ZSk7XHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldExpbWl0KGtleTogJ3VubGltaXRlZFBpbicsIHZhbHVlOiBib29sZWFuKTogYm9vbGVhbjtcclxuLyoqXHJcbiAqIENoYW5nZSB0aGUgbGltaXRzXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogIC8vQ2hhbmdlIHRoZSBtYXhpbXVtIHNpemUgKGJ5dGVzKSBmb3IgdXBsb2FkaW5nIG1lZGlhIChtYXggNzBNQilcclxuICogIFdQUC5jb25uLnNldExpbWl0KCdtYXhNZWRpYVNpemUnLDE2Nzc3MjE2KTtcclxuICpcclxuICogIC8vQ2hhbmdlIHRoZSBtYXhpbXVtIHNpemUgKGJ5dGVzKSBmb3IgdXBsb2FkaW5nIGZpbGVzIChtYXggMUdCKVxyXG4gKiAgV1BQLmNvbm4uc2V0TGltaXQoJ21heEZpbGVTaXplJywxMDQ4NTc2MDApO1xyXG4gKlxyXG4gKiAgLy9DaGFuZ2UgdGhlIG1heGltdW0gbnVtYmVyIG9mIGNvbnRhY3RzIHRoYXQgY2FuIGJlIHNlbGVjdGVkIHdoZW4gc2hhcmluZyAoRGVmYXVsdCA1KVxyXG4gKiAgV1BQLmNvbm4uc2V0TGltaXQoJ21heFNoYXJlJywxMDApO1xyXG4gKlxyXG4gKiAgLy9DaGFuZ2UgdGhlIG1heGltdW0gdGltZSAoc2Vjb25kcykgb2YgYSB2aWRlbyBzdGF0dXNcclxuICogIFdQUC5jb25uLnNldExpbWl0KCdzdGF0dXNWaWRlb01heER1cmF0aW9uJywxMjApO1xyXG4gKlxyXG4gKiAgLy9SZW1vdmUgcGlubmVkIGNvbnZlcnNhdGlvbiBsaW1pdCAob25seSB3aGF0c2FwcCB3ZWIpIChEZWZhdWx0IDMpXHJcbiAqICBXUFAuY29ubi5zZXRMaW1pdCgndW5saW1pdGVkUGluJyx0cnVlKTtcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0TGltaXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBib29sZWFuIHwgbnVtYmVyKTogYW55IHtcclxuICBzd2l0Y2ggKGtleSkge1xyXG4gICAgY2FzZSAnbWF4TWVkaWFTaXplJzoge1xyXG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJyB8fCB2YWx1ZSA+IDczNDAwMzIwKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAgICAgYG1heE1lZGlhU2l6ZV9lcnJvcmAsXHJcbiAgICAgICAgICB0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInXHJcbiAgICAgICAgICAgID8gYFZhbHVlIHR5cGUgaW52YWxpZCFgXHJcbiAgICAgICAgICAgIDogYE1heGltdW0gdmFsdWUgaXMgNzBNQmBcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICAgIC8vU2VydmVyUHJvcHMubWVkaWEgPSB2YWx1ZTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY2FzZSAnbWF4RmlsZVNpemUnOiB7XHJcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInIHx8IHZhbHVlID4gMTA3Mzc0MTgyNCkge1xyXG4gICAgICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgICAgIGBtYXhGaWxlU2l6ZV9lcnJvcmAsXHJcbiAgICAgICAgICB0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInXHJcbiAgICAgICAgICAgID8gYFZhbHVlIHR5cGUgaW52YWxpZCFgXHJcbiAgICAgICAgICAgIDogYE1heGltdW0gdmFsdWUgaXMgMUdCYFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgICAgU2VydmVyUHJvcHNDb25zdGFudHMuTUFYX0ZJTEVfU0laRV9CWVRFUyA9IHZhbHVlO1xyXG4gICAgICByZXR1cm4gU2VydmVyUHJvcHNDb25zdGFudHMuTUFYX0ZJTEVfU0laRV9CWVRFUztcclxuICAgIH1cclxuXHJcbiAgICBjYXNlICdtYXhTaGFyZSc6IHtcclxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHtcclxuICAgICAgICB0aHJvdyBuZXcgV1BQRXJyb3IoYG1heFNoYXJlX2Vycm9yYCwgYFZhbHVlIHR5cGUgaW52YWxpZCFgKTtcclxuICAgICAgfVxyXG4gICAgICBTZXJ2ZXJQcm9wc0NvbnN0YW50cy5NVUxUSUNBU1RfTElNSVRfR0xPQkFMID0gdmFsdWU7XHJcbiAgICAgIHJldHVybiBTZXJ2ZXJQcm9wc0NvbnN0YW50cy5NVUxUSUNBU1RfTElNSVRfR0xPQkFMO1xyXG4gICAgfVxyXG5cclxuICAgIGNhc2UgJ3N0YXR1c1ZpZGVvTWF4RHVyYXRpb24nOiB7XHJcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAgICAgYHN0YXR1c1ZpZGVvTWF4RHVyYXRpb25fZXJyb3JgLFxyXG4gICAgICAgICAgYFZhbHVlIHR5cGUgaW52YWxpZCFgXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgICAvL1NlcnZlclByb3BzLnN0YXR1c1ZpZGVvTWF4RHVyYXRpb24gPSB2YWx1ZTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY2FzZSAndW5saW1pdGVkUGluJzoge1xyXG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgICB0aHJvdyBuZXcgV1BQRXJyb3IoYHVubGltaXRlZFBpbl9lcnJvcmAsIGBWYWx1ZSB0eXBlIGludmFsaWQhYCk7XHJcbiAgICAgIH1cclxuICAgICAgdmFsdWUgPyAodW5saW1pdGVkUGluID0gdmFsdWUpIDogKHVubGltaXRlZFBpbiA9IHVuZGVmaW5lZCk7XHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBkZWZhdWx0OiB7XHJcbiAgICAgIHRocm93IG5ldyBXUFBFcnJvcihgc2V0TGltaXRfZXJyb3JgLCBgS2V5IHR5cGUgaW52YWxpZCFgKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBDbWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcblxyXG4vKipcclxuICogQHBhcmFtIG1kIElmIGl0J3MgdHJ1ZSwgV2hhdHNBcHAgV0VCIHdpbGwgc3dpdGNoIHRvIE1ELiBJZiBpdCdzIGZhbHNlLCBXaGF0c0FwcCBXRUIgd2lsbCBzd2l0Y2ggdG8gTGVnYWN5LlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIFdQUC5jb25uLnNldE11bHRpRGV2aWNlKHRydWUpXHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldE11bHRpRGV2aWNlKG1kID0gdHJ1ZSk6IGJvb2xlYW4ge1xyXG4gIGlmIChtZCkge1xyXG4gICAgQ21kLnVwZ3JhZGVUb01EUHJvZCgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBDbWQuZG93bmdyYWRlV2ViY2xpZW50KCk7XHJcbiAgfVxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICcuL2V2ZW50cyc7XHJcbmltcG9ydCAnLi9wYXRjaCc7XHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2Z1bmN0aW9ucyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMnO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IElzT2ZmaWNpYWxDbGllbnQgfSBmcm9tICcuLi93aGF0c2FwcCc7XHJcblxyXG53ZWJwYWNrLm9uSW5qZWN0ZWQoKCkgPT4ge1xyXG4gIC8qKlxyXG4gICAqIFdoZW4gc2VuZGluZyBsb2dzIHRvIHRoZSBXaGF0c0FwcCBzZXJ2ZXIsIGl0IHdpbGwgYWx3YXlzIHJlcG9ydCB0aGF0IHRoZSBvY1ZlcnNpb24gaXMgdHJ1ZS5cclxuICAgKi9cclxuICBJc09mZmljaWFsQ2xpZW50LmlzT2ZmaWNpYWxDbGllbnQgPSB0cnVlO1xyXG59KTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEF1dGhDb2RlU2luZ2xlRGV2aWNlIHtcclxuICB0eXBlOiAnc2luZ2xlJztcclxuICByZWY6IHN0cmluZztcclxuICBrZXlQYWlyOiBzdHJpbmc7XHJcbiAgYnJvd3NlcklkOiBzdHJpbmc7XHJcbiAgZnVsbENvZGU6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBdXRoQ29kZU11bHRpRGV2aWNlIHtcclxuICB0eXBlOiAnbXVsdGlkZXZpY2UnO1xyXG4gIHJlZjogc3RyaW5nO1xyXG4gIHN0YXRpY0tleVBhaXI6IHN0cmluZztcclxuICBpZGVudGl0eUtleVBhaXI6IHN0cmluZztcclxuICBzZWNyZXRLZXk6IHN0cmluZztcclxuICBmdWxsQ29kZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBBdXRoQ29kZSA9IEF1dGhDb2RlU2luZ2xlRGV2aWNlIHwgQXV0aENvZGVNdWx0aURldmljZTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRXaWQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBDb250YWN0TW9kZWwsIENvbnRhY3RTdG9yZSwgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuLyoqXHJcbiAqIEdldCBhIGNvbnRhY3QgYnkgaWRcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAuY29udGFjdC5nZXQoJ1tudW1iZXJdQGMudXMnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDb250YWN0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldChcclxuICBjb250YWN0SWQ6IHN0cmluZyB8IFdpZFxyXG4pOiBQcm9taXNlPENvbnRhY3RNb2RlbCB8IHVuZGVmaW5lZD4ge1xyXG4gIGNvbnN0IHdpZCA9IGFzc2VydFdpZChjb250YWN0SWQpO1xyXG5cclxuICByZXR1cm4gQ29udGFjdFN0b3JlLmdldCh3aWQpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0V2lkIH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHtcclxuICBCdXNpbmVzc1Byb2ZpbGVNb2RlbCxcclxuICBCdXNpbmVzc1Byb2ZpbGVTdG9yZSxcclxuICBXaWQsXHJcbn0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgY3VycmVudCB0ZXh0IHN0YXR1c1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGNvbnN0IHVybCA9IGF3YWl0IFdQUC5jb250YWN0LmdldEJ1c2luZXNzUHJvZmlsZSgnW251bWJlcl1AYy51cycpO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IENvbnRhY3RcclxuICovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QnVzaW5lc3NQcm9maWxlKFxyXG4gIGNvbnRhY3RJZDogc3RyaW5nIHwgV2lkXHJcbik6IFByb21pc2U8QnVzaW5lc3NQcm9maWxlTW9kZWw+IHtcclxuICBjb25zdCB3aWQgPSBhc3NlcnRXaWQoY29udGFjdElkKTtcclxuXHJcbiAgY29uc3QgcHJvZmlsZSA9IGF3YWl0IEJ1c2luZXNzUHJvZmlsZVN0b3JlLmZldGNoQml6UHJvZmlsZSh3aWQpO1xyXG5cclxuICByZXR1cm4gcHJvZmlsZTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENvbnRhY3RTdG9yZSwgZnVuY3Rpb25zLCBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcblxyXG4vKipcclxuICogR2V0IGFsbCBjb21tb25zIGdyb3VwcyBmb3IgdGhlIGNvbnRhY3RcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBjb25zdCBncm91cHNfaWRzID0gYXdhaXQgV1BQLmNvbnRhY3QuZ2V0Q29tbW9uR3JvdXBzKCdbbnVtYmVyXUBjLnVzJyk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgQ29udGFjdFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbW1vbkdyb3Vwcyh3aWQ6IFdpZCB8IHN0cmluZykge1xyXG4gIGNvbnN0IGNvbnRhY3QgPSBDb250YWN0U3RvcmUuZ2V0KHdpZCk7XHJcblxyXG4gIGlmICghY29udGFjdCkge1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZ3JvdXBzID0gYXdhaXQgZnVuY3Rpb25zLmZpbmRDb21tb25Hcm91cHMoY29udGFjdCk7XHJcbiAgcmV0dXJuIGdyb3Vwcy5nZXRNb2RlbHNBcnJheSgpLm1hcCgoZykgPT4gZy5pZCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRXaWQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBQcm9maWxlUGljVGh1bWJTdG9yZSwgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgY3VycmVudCB0ZXh0IHN0YXR1c1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGNvbnN0IHVybCA9IGF3YWl0IFdQUC5jb250YWN0LmdldFByb2ZpbGVQaWN0dXJlVXJsKCdbbnVtYmVyXUBjLnVzJyk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgQ29udGFjdFxyXG4gKi9cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9maWxlUGljdHVyZVVybChcclxuICBjb250YWN0SWQ6IHN0cmluZyB8IFdpZCxcclxuICBmdWxsID0gdHJ1ZVxyXG4pIHtcclxuICBjb25zdCB3aWQgPSBhc3NlcnRXaWQoY29udGFjdElkKTtcclxuXHJcbiAgY29uc3QgcHJvZmlsZVBpYyA9IGF3YWl0IFByb2ZpbGVQaWNUaHVtYlN0b3JlLmZpbmQod2lkKTtcclxuXHJcbiAgaWYgKCFwcm9maWxlUGljKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBpZiAoZnVsbCkge1xyXG4gICAgcmV0dXJuIHByb2ZpbGVQaWMuaW1nRnVsbDtcclxuICB9XHJcblxyXG4gIHJldHVybiBwcm9maWxlUGljLmltZztcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydFdpZCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IFN0YXR1c1N0b3JlLCBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IHF1ZXJ5RXhpc3RzIH0gZnJvbSAnLi9xdWVyeUV4aXN0cyc7XHJcblxyXG4vKipcclxuICogR2V0IHRoZSBjdXJyZW50IHRleHQgc3RhdHVzXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogYXdhaXQgV1BQLmNvbnRhY3QuZ2V0U3RhdHVzKCdbbnVtYmVyXUBjLnVzJyk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgQ29udGFjdFxyXG4gKi9cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTdGF0dXMoY29udGFjdElkOiBzdHJpbmcgfCBXaWQpIHtcclxuICBjb25zdCB3aWQgPSBhc3NlcnRXaWQoY29udGFjdElkKTtcclxuXHJcbiAgY29uc3QgZXhpc3RzID0gYXdhaXQgcXVlcnlFeGlzdHMod2lkKTtcclxuXHJcbiAgaWYgKCFleGlzdHMpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbW9kZWwgPSBhd2FpdCBTdGF0dXNTdG9yZS5maW5kKHdpZCk7XHJcblxyXG4gIHJldHVybiBtb2RlbC5zdGF0dXMgfHwgbnVsbDtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCB7IGdldCB9IGZyb20gJy4vZ2V0JztcclxuZXhwb3J0IHsgZ2V0QnVzaW5lc3NQcm9maWxlIH0gZnJvbSAnLi9nZXRCdXNpbmVzc1Byb2ZpbGUnO1xyXG5leHBvcnQgeyBnZXRDb21tb25Hcm91cHMgfSBmcm9tICcuL2dldENvbW1vbkdyb3Vwcyc7XHJcbmV4cG9ydCB7IGdldFByb2ZpbGVQaWN0dXJlVXJsIH0gZnJvbSAnLi9nZXRQcm9maWxlUGljdHVyZVVybCc7XHJcbmV4cG9ydCB7IGdldFN0YXR1cyB9IGZyb20gJy4vZ2V0U3RhdHVzJztcclxuZXhwb3J0IHsgQ29udGFjdExpc3RPcHRpb25zLCBsaXN0IH0gZnJvbSAnLi9saXN0JztcclxuZXhwb3J0IHsgcXVlcnlFeGlzdHMgfSBmcm9tICcuL3F1ZXJ5RXhpc3RzJztcclxuZXhwb3J0IHsgcmVtb3ZlIH0gZnJvbSAnLi9yZW1vdmUnO1xyXG5leHBvcnQgeyBzYXZlIH0gZnJvbSAnLi9zYXZlJztcclxuZXhwb3J0IHsgc3Vic2NyaWJlUHJlc2VuY2UgfSBmcm9tICcuL3N1YnNjcmliZVByZXNlbmNlJztcclxuZXhwb3J0IHsgdW5zdWJzY3JpYmVQcmVzZW5jZSB9IGZyb20gJy4vdW5zdWJzY3JpYmVQcmVzZW5jZSc7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQ29udGFjdE1vZGVsLCBDb250YWN0U3RvcmUsIExhYmVsU3RvcmUgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbnRhY3RMaXN0T3B0aW9ucyB7XHJcbiAgb25seU15Q29udGFjdHM/OiBib29sZWFuO1xyXG4gIHdpdGhMYWJlbHM/OiBzdHJpbmdbXTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybiBhIGxpc3Qgb2YgY29udGFjdHNcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyBBbGwgY29udGFjdHNcclxuICogY29uc3QgY29udGF0cyA9IGF3YWl0IFdQUC5jb250YWN0Lmxpc3QoKTtcclxuICpcclxuICogLy8gT25seSBteSBjb250YWN0c1xyXG4gKiBjb25zdCBjb250YWN0cyA9IGF3YWl0IFdQUC5jb250YWN0Lmxpc3Qoe29ubHlNeUNvbnRhY3RzOiB0cnVlfSk7XHJcbiAqXHJcbiAqIC8vIE9ubHkgd2l0aCBsYWJlbCBUZXh0XHJcbiAqIGNvbnN0IGNvbnRhY3RzID0gYXdhaXQgV1BQLmNvbnRhY3QubGlzdCh7d2l0aExhYmVsczogWydUZXN0J119KTtcclxuICpcclxuICogLy8gT25seSB3aXRoIGxhYmVsIGlkXHJcbiAqIGNvbnN0IGNvbnRhY3RzID0gYXdhaXQgV1BQLmNvbnRhY3QubGlzdCh7d2l0aExhYmVsczogWycxJ119KTtcclxuICpcclxuICogLy8gT25seSB3aXRoIGxhYmVsIHdpdGggb25lIG9mIHRleHQgb3IgaWRcclxuICogY29uc3QgY29udGFjdHMgPSBhd2FpdCBXUFAuY29udGFjdC5saXN0KHt3aXRoTGFiZWxzOiBbJ0FsZmEnLCc1J119KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDb250YWN0XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGlzdChcclxuICBvcHRpb25zOiBDb250YWN0TGlzdE9wdGlvbnMgPSB7fVxyXG4pOiBQcm9taXNlPENvbnRhY3RNb2RlbFtdPiB7XHJcbiAgbGV0IG1vZGVscyA9IENvbnRhY3RTdG9yZS5nZXRNb2RlbHNBcnJheSgpLnNsaWNlKCk7XHJcblxyXG4gIGlmIChvcHRpb25zLm9ubHlNeUNvbnRhY3RzKSB7XHJcbiAgICBtb2RlbHMgPSBtb2RlbHMuZmlsdGVyKChjKSA9PiBjLmlzTXlDb250YWN0KTtcclxuICB9XHJcblxyXG4gIGlmIChvcHRpb25zLndpdGhMYWJlbHMpIHtcclxuICAgIGNvbnN0IGlkcyA9IG9wdGlvbnMud2l0aExhYmVscy5tYXAoKHZhbHVlKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxhYmVsID0gTGFiZWxTdG9yZS5maW5kRmlyc3QoKGwpID0+IGwubmFtZSA9PT0gdmFsdWUpO1xyXG5cclxuICAgICAgaWYgKGxhYmVsKSB7XHJcbiAgICAgICAgcmV0dXJuIGxhYmVsLmlkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICBtb2RlbHMgPSBtb2RlbHMuZmlsdGVyKChjKSA9PiBjLmxhYmVscz8uc29tZSgoaWQpID0+IGlkcy5pbmNsdWRlcyhpZCkpKTtcclxuICB9XHJcbiAgcmV0dXJuIG1vZGVscztcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydFdpZCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IGNyZWF0ZVdpZCB9IGZyb20gJy4uLy4uL3V0aWwvY3JlYXRlV2lkJztcclxuaW1wb3J0IHsgQXBpQ29udGFjdCwgVVN5bmNRdWVyeSwgVVN5bmNVc2VyLCBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5RXhpc3RzUmVzdWx0IHtcclxuICB3aWQ6IFdpZDtcclxuICBiaXo6IGJvb2xlYW47XHJcbiAgYml6SW5mbz86IHtcclxuICAgIHZlcmlmaWVkTmFtZT86IHtcclxuICAgICAgaXNBcGk6IGJvb2xlYW47XHJcbiAgICAgIGxldmVsOiBzdHJpbmc7XHJcbiAgICAgIG5hbWU6IHN0cmluZztcclxuICAgICAgcHJpdmFjeU1vZGU6IGFueTtcclxuICAgICAgc2VyaWFsOiBzdHJpbmc7XHJcbiAgICB9O1xyXG4gIH07XHJcbiAgZGlzYXBwZWFyaW5nTW9kZT86IHtcclxuICAgIGR1cmF0aW9uOiBudW1iZXI7XHJcbiAgICBzZXR0aW5nVGltZXN0YW1wOiBudW1iZXI7XHJcbiAgfTtcclxuICBzdGF0dXM/OiBzdHJpbmc7XHJcbiAgbGlkPzogV2lkO1xyXG59XHJcblxyXG5jb25zdCBjYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBRdWVyeUV4aXN0c1Jlc3VsdCB8IG51bGw+KCk7XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgdGhlIG51bWJlciBleGlzdHMgYW5kIHdoYXQgaXMgY29ycmVjdCBJRFxyXG4gKlxyXG4gKiBUaGlzIGhlbHAgdG8gaWRlbnRpZnkgbnVtYmVycyB3aXRoIG5pbmUgZGlnaXQgaW4gQnJhemlsXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgV1BQLmNvbnRhY3QucXVlcnlFeGlzdHMoJ1tudW1iZXJdQGMudXMnKTtcclxuICogY29uc29sZS5sb2cocmVzdWx0LndpZCk7IC8vIENvcnJlY3QgSURcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDb250YWN0XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcXVlcnlFeGlzdHMoXHJcbiAgY29udGFjdElkOiBzdHJpbmcgfCBXaWRcclxuKTogUHJvbWlzZTxRdWVyeUV4aXN0c1Jlc3VsdCB8IG51bGw+IHtcclxuICBjb25zdCB3aWQgPSBhc3NlcnRXaWQoY29udGFjdElkKTtcclxuXHJcbiAgY29uc3QgaWQgPSBgKyR7d2lkLnRvU3RyaW5nKCl9YDtcclxuICBpZiAoY2FjaGUuaGFzKGlkKSkge1xyXG4gICAgcmV0dXJuIGNhY2hlLmdldChpZCkhO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgc3luY1VzZXIgPSBuZXcgVVN5bmNVc2VyKCk7XHJcbiAgY29uc3Qgc3luY1F1ZXJ5ID0gbmV3IFVTeW5jUXVlcnkoKTtcclxuICBjb25zdCBpc0xpZCA9IHdpZC5pc0xpZCgpO1xyXG4gIGlmIChpc0xpZCkge1xyXG4gICAgc3luY1VzZXIud2l0aElkKHdpZCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHN5bmNRdWVyeS53aXRoQ29udGFjdFByb3RvY29sKCk7XHJcbiAgICBzeW5jVXNlci53aXRoUGhvbmUoaWQucmVwbGFjZSgnQGMudXMnLCAnJykpO1xyXG4gICAgaWYgKHdpZC5pc1VzZXIoKSkge1xyXG4gICAgICBjb25zdCBsaWQgPSBBcGlDb250YWN0LmdldEN1cnJlbnRMaWQoY3JlYXRlV2lkKGlkLnJlcGxhY2UoJysnLCAnJykpKTtcclxuICAgICAgaWYgKGxpZCkge1xyXG4gICAgICAgIHN5bmNVc2VyLndpdGhMaWQobGlkKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBzeW5jUXVlcnlcclxuICAgIC53aXRoVXNlcihzeW5jVXNlcilcclxuICAgIC53aXRoQnVzaW5lc3NQcm90b2NvbCgpXHJcbiAgICAud2l0aERpc2FwcGVhcmluZ01vZGVQcm90b2NvbCgpXHJcbiAgICAud2l0aFN0YXR1c1Byb3RvY29sKClcclxuICAgIC53aXRoTGlkUHJvdG9jb2woKTtcclxuXHJcbiAgY29uc3QgZ2V0ID0gYXdhaXQgc3luY1F1ZXJ5LmV4ZWN1dGUoKTtcclxuXHJcbiAgbGV0IHJlc3VsdCA9IG51bGw7XHJcblxyXG4gIGlmIChnZXQ/LmVycm9yPy5hbGwgfHwgZ2V0Py5lcnJvcj8uY29udGFjdCkge1xyXG4gICAgcmVzdWx0ID0gbnVsbDtcclxuICB9XHJcbiAgaWYgKEFycmF5LmlzQXJyYXkoZ2V0Lmxpc3QpKSB7XHJcbiAgICByZXN1bHQgPSBnZXQubGlzdFswXTtcclxuICAgIGlmIChyZXN1bHQ/LmNvbnRhY3Q/LnR5cGUgPT09ICdvdXQnKSB7XHJcbiAgICAgIHJlc3VsdCA9IG51bGw7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBsaWQgPSByZXN1bHQ/LmxpZDtcclxuICAgICAgcmVzdWx0ID0ge1xyXG4gICAgICAgIHdpZDogcmVzdWx0LmlkLFxyXG4gICAgICAgIGJpejogdHlwZW9mIHJlc3VsdC5idXNpbmVzcyAhPT0gJ3VuZGVmaW5lZCcsXHJcbiAgICAgICAgYml6SW5mbzogcmVzdWx0LmJ1c2luZXNzLFxyXG4gICAgICAgIGRpc2FwcGVhcmluZ01vZGU6XHJcbiAgICAgICAgICB0eXBlb2YgcmVzdWx0LmRpc2FwcGVhcmluZ19tb2RlICE9PSAndW5kZWZpbmVkJ1xyXG4gICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiByZXN1bHQuZGlzYXBwZWFyaW5nX21vZGU/LmR1cmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ1RpbWVzdGFtcDogcmVzdWx0LmRpc2FwcGVhcmluZ19tb2RlPy50LFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgc3RhdHVzOiByZXN1bHQuc3RhdHVzLFxyXG4gICAgICAgIGxpZDogbGlkID8gY3JlYXRlV2lkKGxpZCkgOiB1bmRlZmluZWQsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlc3VsdCA9IG51bGw7XHJcbiAgfVxyXG4gIGNhY2hlLnNldChpZCwgcmVzdWx0KTtcclxuXHJcbiAgLy8gRGVsZXRlIGZyb20gY2FjaGUgYWZ0ZXIgNW1pbiBpcyBzdWNjZXNzIG9yIDE1cyBmb3IgZmFpbHVyZVxyXG4gIGNvbnN0IHRpbWVvdXQgPSByZXN1bHQgPyAzMDAwMDAgOiAxNTAwMDtcclxuICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgIGNhY2hlLmRlbGV0ZShpZCk7XHJcbiAgfSwgdGltZW91dCk7XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRXaWQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBDb250YWN0TW9kZWwsIFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZGVsZXRlQ29udGFjdEFjdGlvbiwgZ2V0SXNNeUNvbnRhY3QgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBnZXQgfSBmcm9tICcuL2dldCc7XHJcblxyXG4vKipcclxuICogUmVtb3ZlL2RlbGV0ZSBjb250YWN0IGluIHRoZSBkZXZpY2VcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAuY29udGFjdC5yZW1vdmUoJzU1MzM5OTk5OTk5OTlAYy51cycpO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IENvbnRhY3RcclxuICovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKFxyXG4gIGNvbnRhY3RJZDogc3RyaW5nIHwgV2lkXHJcbik6IFByb21pc2U8Q29udGFjdE1vZGVsIHwgdW5kZWZpbmVkPiB7XHJcbiAgY29udGFjdElkID0gYXNzZXJ0V2lkKGNvbnRhY3RJZCk7XHJcbiAgY29uc3QgY29udGFjdCA9IGF3YWl0IGdldChjb250YWN0SWQpO1xyXG4gIGlmICghY29udGFjdCkgdGhyb3cgbmV3IFdQUEVycm9yKCdjb250YWN0X25vdF9mb3VuZCcsICdDb250YWN0IG5vdCBmb3VuZCcpO1xyXG4gIGNvbnN0IGlzTXlDb250YWN0ID0gZ2V0SXNNeUNvbnRhY3QoY29udGFjdCk7XHJcbiAgaWYgKCFpc015Q29udGFjdClcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ251bWJlcl9pc19ub3RfeW91cl9jb250YWN0JyxcclxuICAgICAgYFRoZSBudW1iZXIgJHtjb250YWN0SWQuX3NlcmlhbGl6ZWR9IGlzIG5vdCB5b3VyIGNvbnRhY3RgXHJcbiAgICApO1xyXG5cclxuICBhd2FpdCBkZWxldGVDb250YWN0QWN0aW9uKGNvbnRhY3RJZC50b1N0cmluZygpLnNwbGl0KCdAJylbMF0pO1xyXG4gIHJldHVybiBhd2FpdCBnZXQoY29udGFjdElkKTtcclxufVxyXG4iLCIvKiFcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBhc3NlcnRXaWQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcbmltcG9ydCB7IENvbnRhY3RNb2RlbCwgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xuaW1wb3J0IHsgc2F2ZUNvbnRhY3RBY3Rpb24gfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xuaW1wb3J0IHsgZ2V0IH0gZnJvbSAnLi9nZXQnO1xuXG4vKipcbiAqIENyZWF0ZSBuZXcgb3IgdXBkYXRlIGEgY29udGFjdCBpbiB0aGUgZGV2aWNlXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGF3YWl0IFdQUC5jb250YWN0LnNhdmUoJzU1MzM5OTk5OTk5OTlAYy51cycsICdKb2huJywge1xuICogICBzdXJuYW1lOiAnRG9lJyxcbiAqICAgc3luY0FkcmVzc0Jvb2s6IHRydWUsXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBjYXRlZ29yeSBDb250YWN0XG4gKi9cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmUoXG4gIGNvbnRhY3RJZDogc3RyaW5nIHwgV2lkLFxuICBuYW1lOiBzdHJpbmcsXG4gIG9wdGlvbnM/OiB7IHN1cm5hbWU/OiBzdHJpbmc7IHN5bmNBZHJlc3NCb29rPzogYm9vbGVhbiB9XG4pOiBQcm9taXNlPENvbnRhY3RNb2RlbCB8IHVuZGVmaW5lZD4ge1xuICBpZiAoIWNvbnRhY3RJZCB8fCAhbmFtZSkge1xuICAgIHRocm93IG5ldyBXUFBFcnJvcihcbiAgICAgICdzZW5kX3RoZV9yZXF1aXJlZF9maWVsZHMnLFxuICAgICAgJ1BsZWFzZSwgc2VuZCB0aGUgY29udGFjdCBpZCBsaWtlIDxudW1iZXJAYy51cz4gYW5kIHRoZSBuYW1lIGZvciB5b3VyIGNvbnRhY3QnXG4gICAgKTtcbiAgfVxuICBjb250YWN0SWQgPSBhc3NlcnRXaWQoY29udGFjdElkKTtcbiAgYXdhaXQgc2F2ZUNvbnRhY3RBY3Rpb24oXG4gICAgY29udGFjdElkLnRvU3RyaW5nKCkuc3BsaXQoJ0AnKVswXSxcbiAgICBudWxsLFxuICAgIG51bGwsXG4gICAgbnVsbCxcbiAgICBuYW1lLFxuICAgIG9wdGlvbnM/LnN1cm5hbWUgPz8gJycsXG4gICAgb3B0aW9ucz8uc3luY0FkcmVzc0Jvb2sgPz8gdHJ1ZVxuICApO1xuICByZXR1cm4gYXdhaXQgZ2V0KGNvbnRhY3RJZCk7XG59XG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFByZXNlbmNlU3RvcmUsIFdpZCwgV2lkRmFjdG9yeSB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgc3Vic2NyaWJlUHJlc2VuY2UgYXMgc2VuZFN1YnNjcmliZVByZXNlbmNlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbi8qKlxyXG4gKiBTdWJzY3JpYmUgcHJlc2VudGUgZnJvbSBhIGNvbnRhY3RcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAuY29udGFjdC5zdWJzY3JpYmVQcmVzZW5jZSgnW251bWJlcl1AYy51cycpO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IENvbnRhY3RcclxuICovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3Vic2NyaWJlUHJlc2VuY2UoXHJcbiAgaWRzOiBzdHJpbmcgfCBzdHJpbmdbXVxyXG4pOiBQcm9taXNlPFdpZFtdPiB7XHJcbiAgaWYgKCFBcnJheS5pc0FycmF5KGlkcykpIHtcclxuICAgIGlkcyA9IFtpZHNdO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gW107XHJcbiAgZm9yIChjb25zdCBpZCBvZiBpZHMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHdpZCA9IFdpZEZhY3RvcnkuY3JlYXRlV2lkKGlkKTtcclxuICAgICAgYXdhaXQgc2VuZFN1YnNjcmliZVByZXNlbmNlKHdpZCk7XHJcbiAgICAgIGlmIChQcmVzZW5jZVN0b3JlLmdldCh3aWQpKSB7XHJcbiAgICAgICAgcmVzdWx0LnB1c2god2lkKTtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG4gICAgICBhd2FpdCBQcmVzZW5jZVN0b3JlLmZpbmQod2lkKTtcclxuICAgICAgcmVzdWx0LnB1c2god2lkKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxyXG4gIH1cclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgUHJlc2VuY2VTdG9yZSwgV2lkLCBXaWRGYWN0b3J5IH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuLyoqXHJcbiAqIFVuc3Vic2NyaWJlIHByZXNlbmNlIG9mIGEgY29udGFjdFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGF3YWl0IFdQUC5jb250YWN0LnVuc3Vic2NyaWJlUHJlc2VuY2UoJ1tudW1iZXJdQGMudXMnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBDb250YWN0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVuc3Vic2NyaWJlUHJlc2VuY2UoXHJcbiAgaWRzOiBzdHJpbmcgfCBzdHJpbmdbXVxyXG4pOiBQcm9taXNlPFdpZFtdPiB7XHJcbiAgaWYgKCFBcnJheS5pc0FycmF5KGlkcykpIHtcclxuICAgIGlkcyA9IFtpZHNdO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gW107XHJcbiAgZm9yIChjb25zdCBpZCBvZiBpZHMpIHtcclxuICAgIGNvbnN0IHdpZCA9IFdpZEZhY3RvcnkuY3JlYXRlV2lkKGlkKTtcclxuICAgIGNvbnN0IHByZXNlbmNlID0gUHJlc2VuY2VTdG9yZS5nZXQod2lkKTtcclxuICAgIGlmICghcHJlc2VuY2UpIHtcclxuICAgICAgcmVzdWx0LnB1c2god2lkKTtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcbiAgICBwcmVzZW5jZS5kZWxldGUoKTtcclxuICAgIHJlc3VsdC5wdXNoKHdpZCk7XHJcbiAgfVxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgJy4vcGF0Y2gnO1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9mdW5jdGlvbnMnO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IENvbnRhY3RNb2RlbCwgZnVuY3Rpb25zIH0gZnJvbSAnLi4vd2hhdHNhcHAnO1xyXG5cclxud2VicGFjay5vbkluamVjdGVkKGFwcGx5UGF0Y2gpO1xyXG5cclxuZnVuY3Rpb24gYXBwbHlQYXRjaCgpIHtcclxuICBjb25zdCBmdW5jczoge1xyXG4gICAgW2tleTogc3RyaW5nXTogKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk7XHJcbiAgfSA9IHtcclxuICAgIGlzTXlDb250YWN0OiBmdW5jdGlvbnMuZ2V0SXNNeUNvbnRhY3QsXHJcbiAgICBtZW50aW9uTmFtZTogZnVuY3Rpb25zLmdldE1lbnRpb25OYW1lLFxyXG4gICAgbm90aWZ5TmFtZTogZnVuY3Rpb25zLmdldE5vdGlmeU5hbWUsXHJcbiAgICBwbkZvckxpZDogZnVuY3Rpb25zLmdldFBuRm9yTGlkLFxyXG4gICAgZGlzcGxheU5hbWVPclBuRm9yTGlkOiBmdW5jdGlvbnMuZ2V0RGlzcGxheU5hbWVPclBuRm9yTGlkLFxyXG4gICAgZm9ybWF0dGVkUGhvbmU6IGZ1bmN0aW9ucy5nZXRGb3JtYXR0ZWRQaG9uZSxcclxuICAgIHVzZXJpZDogZnVuY3Rpb25zLmdldFVzZXJpZCxcclxuICAgIHVzZXJoYXNoOiBmdW5jdGlvbnMuZ2V0VXNlcmhhc2gsXHJcbiAgICBzZWFyY2hOYW1lOiBmdW5jdGlvbnMuZ2V0U2VhcmNoTmFtZSxcclxuICAgIHNlYXJjaFZlcmlmaWVkTmFtZTogZnVuY3Rpb25zLmdldFNlYXJjaFZlcmlmaWVkTmFtZSxcclxuICAgIGhlYWRlcjogZnVuY3Rpb25zLmdldEhlYWRlcixcclxuICAgIGlzTWU6IGZ1bmN0aW9ucy5nZXRJc01lLFxyXG4gICAgaXNVc2VyOiBmdW5jdGlvbnMuZ2V0SXNVc2VyLFxyXG4gICAgaXNHcm91cDogZnVuY3Rpb25zLmdldElzR3JvdXAsXHJcbiAgICBpc0Jyb2FkY2FzdDogZnVuY3Rpb25zLmdldElzQnJvYWRjYXN0LFxyXG4gICAgaXNQU0E6IGZ1bmN0aW9ucy5nZXRJc1BTQSxcclxuICAgIGlzSUFTOiBmdW5jdGlvbnMuZ2V0SXNJQVMsXHJcbiAgICBpc1N1cHBvcnRBY2NvdW50OiBmdW5jdGlvbnMuZ2V0SXNTdXBwb3J0QWNjb3VudCxcclxuICAgIGZvcm1hdHRlZFNob3J0TmFtZVdpdGhOb25CcmVha2luZ1NwYWNlczpcclxuICAgICAgZnVuY3Rpb25zLmdldEZvcm1hdHRlZFNob3J0TmFtZVdpdGhOb25CcmVha2luZ1NwYWNlcyxcclxuICAgIGZvcm1hdHRlZFNob3J0TmFtZTogZnVuY3Rpb25zLmdldEZvcm1hdHRlZFNob3J0TmFtZSxcclxuICAgIGZvcm1hdHRlZE5hbWU6IGZ1bmN0aW9ucy5nZXRGb3JtYXR0ZWROYW1lLFxyXG4gICAgZm9ybWF0dGVkVXNlcjogZnVuY3Rpb25zLmdldEZvcm1hdHRlZFVzZXIsXHJcbiAgICBpc1dBQ29udGFjdDogZnVuY3Rpb25zLmdldElzV0FDb250YWN0LFxyXG4gICAgY2FuUmVxdWVzdFBob25lTnVtYmVyOiBmdW5jdGlvbnMuZ2V0Q2FuUmVxdWVzdFBob25lTnVtYmVyLFxyXG4gICAgc2hvd0J1c2luZXNzQ2hlY2ttYXJrQXNQcmltYXJ5OiBmdW5jdGlvbnMuZ2V0U2hvd0J1c2luZXNzQ2hlY2ttYXJrQXNQcmltYXJ5LFxyXG4gICAgc2hvd0J1c2luZXNzQ2hlY2ttYXJrQXNTZWNvbmRhcnk6XHJcbiAgICAgIGZ1bmN0aW9ucy5nZXRTaG93QnVzaW5lc3NDaGVja21hcmtBc1NlY29uZGFyeSxcclxuICAgIHNob3dCdXNpbmVzc0NoZWNrbWFya0luQ2hhdGxpc3Q6XHJcbiAgICAgIGZ1bmN0aW9ucy5nZXRTaG93QnVzaW5lc3NDaGVja21hcmtJbkNoYXRsaXN0LFxyXG4gICAgaXNEaXNwbGF5TmFtZUFwcHJvdmVkOiBmdW5jdGlvbnMuZ2V0SXNEaXNwbGF5TmFtZUFwcHJvdmVkLFxyXG4gICAgc2hvdWxkRm9yY2VCdXNpbmVzc1VwZGF0ZTogZnVuY3Rpb25zLmdldFNob3VsZEZvcmNlQnVzaW5lc3NVcGRhdGUsXHJcbiAgfTtcclxuXHJcbiAgZm9yIChjb25zdCBhdHRyIGluIGZ1bmNzKSB7XHJcbiAgICBjb25zdCBmdW5jID0gZnVuY3NbYXR0cl07XHJcbiAgICBpZiAodHlwZW9mIChDb250YWN0TW9kZWwucHJvdG90eXBlIGFzIGFueSlbYXR0cl0gPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb250YWN0TW9kZWwucHJvdG90eXBlLCBhdHRyLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gZnVuYyh0aGlzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xyXG5pbXBvcnQgKiBhcyB3ZWJwYWNrIGZyb20gJy4vd2VicGFjayc7XHJcblxyXG4vLyBVcGRhdGUgZGV2aWNlTmFtZSBjb25uZWN0ZWRcclxud2VicGFjay5vbkluamVjdGVkKCgpID0+IHtcclxuICBpZiAoIWNvbmZpZy5kZXZpY2VOYW1lKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCBtID0gd2VicGFjay5zZWFyY2goKG0pID0+IG0uZGVmYXVsdC5pbmZvICYmIG0uZGVmYXVsdC5oYXJkUmVmcmVzaCk7XHJcbiAgaWYgKG0pIHtcclxuICAgIGNvbnN0IGluZm8gPSBtLmRlZmF1bHQuaW5mbygpO1xyXG5cclxuICAgIGluZm8ub3MgPSBjb25maWcuZGV2aWNlTmFtZTtcclxuICAgIGluZm8udmVyc2lvbiA9IHVuZGVmaW5lZDtcclxuICAgIGluZm8ubmFtZSA9IHVuZGVmaW5lZDtcclxuICAgIGluZm8udWEgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgbS5kZWZhdWx0LmluZm8gPSAoKSA9PiBpbmZvO1xyXG4gIH1cclxufSk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGVudW0gVGV4dEZvbnRTdHlsZSB7XHJcbiAgU0FOU19TRVJJRiA9IDAsXHJcbiAgU0VSSUYgPSAxLFxyXG4gIE5PUklDQU5fUkVHVUxBUiA9IDIsXHJcbiAgQlJZTkRBTl9XUklURSA9IDMsXHJcbiAgQkVCQVNORVVFX1JFR1VMQVIgPSA0LFxyXG4gIE9TV0FMRF9IRUFWWSA9IDUsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFByaXZhY3lEaXNhbGxvd2VkTGlzdFR5cGUge1xyXG4gIEFib3V0ID0gJ3N0YXR1cycsXHJcbiAgR3JvdXBBZGQgPSAnZ3JvdXBhZGQnLFxyXG4gIExhc3RTZWVuID0gJ2xhc3QnLFxyXG4gIFByb2ZpbGVQaWN0dXJlID0gJ3Byb2ZpbGUnLFxyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICBDYW5jZWxhYmxlUHJvbWlzZSxcclxuICBDb25zdHJ1Y3Rvck9wdGlvbnMsXHJcbiAgZXZlbnQsXHJcbiAgRXZlbnRBbmRMaXN0ZW5lcixcclxuICBFdmVudEVtaXR0ZXIyLFxyXG4gIGV2ZW50TlMsXHJcbiAgR2VuZXJhbEV2ZW50RW1pdHRlcixcclxuICBMaXN0ZW5lcixcclxuICBMaXN0ZW5lckZuLFxyXG4gIExpc3RlblRvT3B0aW9ucyxcclxuICBPbmNlT3B0aW9ucyxcclxuICBXYWl0Rm9yT3B0aW9ucyxcclxufSBmcm9tICdldmVudGVtaXR0ZXIyJztcclxuXHJcbmV4cG9ydHMuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyMjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgV2FpdEZvckZpbHRlciB7XHJcbiAgKC4uLnZhbHVlczogYW55W10pOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE9uT3B0aW9ucyB7XHJcbiAgLyoqXHJcbiAgICogaW52b2tlIHRoZSBsaXN0ZW5lciBpbiBhc3luYyBtb2RlIHVzaW5nIHNldEltbWVkaWF0ZSAoZmFsbGJhY2sgdG8gc2V0VGltZW91dCBpZiBub3QgYXZhaWxhYmxlKSBvciBwcm9jZXNzLm5leHRUaWNrIGRlcGVuZGluZyBvbiB0aGUgbmV4dFRpY2sgb3B0aW9uLlxyXG4gICAqL1xyXG4gIGFzeW5jPzogYm9vbGVhbjtcclxuXHJcbiAgLyoqXHJcbiAgICogYWRkaXRpb25hbGx5IHdyYXBzIHRoZSBsaXN0ZW5lciB0byBhIFByb21pc2UgZm9yIGxhdGVyIGludm9jYXRpb24gdXNpbmcgZW1pdEFzeW5jIG1ldGhvZC4gVGhpcyBvcHRpb24gd2lsbCBiZSBhY3RpdmF0ZWQgYnkgZGVmYXVsdCBpZiBpdHMgdmFsdWUgaXMgdW5kZWZpbmVkIGFuZCB0aGUgbGlzdGVuZXIgZnVuY3Rpb24gaXMgYW4gYXN5bmNocm9ub3VzIGZ1bmN0aW9uICh3aG9zZSBjb25zdHJ1Y3RvciBuYW1lIGlzIEFzeW5jRnVuY3Rpb24pLlxyXG4gICAqL1xyXG4gIHByb21pc2lmeT86IGJvb2xlYW47XHJcblxyXG4gIC8qKlxyXG4gICAqIGFjdGl2YXRlcyByZXR1cm5pbmcgYSBsaXN0ZW5lciBvYmplY3QgaW5zdGVhZCBvZiAndGhpcycgYnkgdGhlIHN1YnNjcmlwdGlvbiBtZXRob2QuXHJcbiAgICovXHJcbiAgb2JqZWN0aWZ5PzogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgTGlzdGVuZXJUeXBlPFQ+ID0gW1RdIGV4dGVuZHMgWyguLi5hcmdzOiBpbmZlciBVKSA9PiBhbnldXHJcbiAgPyBVXHJcbiAgOiBbVF0gZXh0ZW5kcyBbdm9pZF1cclxuICAgID8gW11cclxuICAgIDogW1RdO1xyXG5cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgRXZlbnRFbWl0dGVyPEV2ZW50RGF0YT4ge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBDb25zdHJ1Y3Rvck9wdGlvbnMpO1xyXG5cclxuICBlbWl0PE5hbWUgZXh0ZW5kcyBrZXlvZiBFdmVudERhdGE+KFxyXG4gICAgZXZlbnQ6IE5hbWUsXHJcbiAgICAuLi5hcmdzOiBMaXN0ZW5lclR5cGU8RXZlbnREYXRhW05hbWVdPlxyXG4gICk6IGJvb2xlYW47XHJcblxyXG4gIGVtaXRBc3luYzxOYW1lIGV4dGVuZHMga2V5b2YgRXZlbnREYXRhPihcclxuICAgIGV2ZW50OiBOYW1lLFxyXG4gICAgLi4uYXJnczogTGlzdGVuZXJUeXBlPEV2ZW50RGF0YVtOYW1lXT5cclxuICApOiBQcm9taXNlPGFueVtdPjtcclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBhIGxpc3RlbmVyIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3RlbmVycyBhcnJheSBmb3IgdGhlIHNwZWNpZmllZCBldmVudC5cclxuICAgKi9cclxuICBhZGRMaXN0ZW5lcjxOYW1lIGV4dGVuZHMga2V5b2YgRXZlbnREYXRhPihcclxuICAgIGV2ZW50OiBOYW1lLFxyXG4gICAgbGlzdGVuZXI6ICguLi5hcmdzOiBMaXN0ZW5lclR5cGU8RXZlbnREYXRhW05hbWVdPikgPT4gdm9pZFxyXG4gICk6IHRoaXMgfCBMaXN0ZW5lcjtcclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBhIGxpc3RlbmVyIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3RlbmVycyBhcnJheSBmb3IgdGhlIHNwZWNpZmllZCBldmVudC5cclxuICAgKi9cclxuICBvbjxOYW1lIGV4dGVuZHMga2V5b2YgRXZlbnREYXRhPihcclxuICAgIGV2ZW50OiBOYW1lLFxyXG4gICAgbGlzdGVuZXI6ICguLi5hcmdzOiBMaXN0ZW5lclR5cGU8RXZlbnREYXRhW05hbWVdPikgPT4gdm9pZCxcclxuICAgIG9wdGlvbnM6IE9uT3B0aW9ucyAmIHsgb2JqZWN0aWZ5OiB0cnVlIH1cclxuICApOiBMaXN0ZW5lcjtcclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBhIGxpc3RlbmVyIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3RlbmVycyBhcnJheSBmb3IgdGhlIHNwZWNpZmllZCBldmVudC5cclxuICAgKi9cclxuICBvbjxOYW1lIGV4dGVuZHMga2V5b2YgRXZlbnREYXRhPihcclxuICAgIGV2ZW50OiBOYW1lLFxyXG4gICAgbGlzdGVuZXI6ICguLi5hcmdzOiBMaXN0ZW5lclR5cGU8RXZlbnREYXRhW05hbWVdPikgPT4gdm9pZCxcclxuICAgIG9wdGlvbnM/OiBib29sZWFuIHwgT25PcHRpb25zXHJcbiAgKTogdGhpcztcclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBhIGxpc3RlbmVyIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3RlbmVycyBhcnJheSBmb3IgdGhlIHNwZWNpZmllZCBldmVudC5cclxuICAgKi9cclxuICBwcmVwZW5kTGlzdGVuZXI8TmFtZSBleHRlbmRzIGtleW9mIEV2ZW50RGF0YT4oXHJcbiAgICBldmVudDogTmFtZSxcclxuICAgIGxpc3RlbmVyOiAoLi4uYXJnczogTGlzdGVuZXJUeXBlPEV2ZW50RGF0YVtOYW1lXT4pID0+IHZvaWQsXHJcbiAgICBvcHRpb25zOiBPbk9wdGlvbnMgJiB7IG9iamVjdGlmeTogdHJ1ZSB9XHJcbiAgKTogTGlzdGVuZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZHMgYSBsaXN0ZW5lciB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaXN0ZW5lcnMgYXJyYXkgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQuXHJcbiAgICovXHJcbiAgcHJlcGVuZExpc3RlbmVyPE5hbWUgZXh0ZW5kcyBrZXlvZiBFdmVudERhdGE+KFxyXG4gICAgZXZlbnQ6IE5hbWUsXHJcbiAgICBsaXN0ZW5lcjogKC4uLmFyZ3M6IExpc3RlbmVyVHlwZTxFdmVudERhdGFbTmFtZV0+KSA9PiB2b2lkLFxyXG4gICAgb3B0aW9ucz86IGJvb2xlYW4gfCBPbk9wdGlvbnNcclxuICApOiB0aGlzO1xyXG5cclxuICAvKipcclxuICAgKiBBZGRzIGEgb25lIHRpbWUgbGlzdGVuZXIgZm9yIHRoZSBldmVudC4gVGhlIGxpc3RlbmVyIGlzIGludm9rZWQgb25seSB0aGUgZmlyc3QgdGltZSB0aGUgZXZlbnQgaXMgZmlyZWQsIGFmdGVyIHdoaWNoIGl0IGlzIHJlbW92ZWQuXHJcbiAgICovXHJcbiAgb25jZTxOYW1lIGV4dGVuZHMga2V5b2YgRXZlbnREYXRhPihcclxuICAgIGV2ZW50OiBOYW1lLFxyXG4gICAgbGlzdGVuZXI6ICguLi5hcmdzOiBMaXN0ZW5lclR5cGU8RXZlbnREYXRhW05hbWVdPikgPT4gdm9pZCxcclxuICAgIG9wdGlvbnM6IE9uT3B0aW9ucyAmIHsgb2JqZWN0aWZ5OiB0cnVlIH1cclxuICApOiBMaXN0ZW5lcjtcclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBhIG9uZSB0aW1lIGxpc3RlbmVyIGZvciB0aGUgZXZlbnQuIFRoZSBsaXN0ZW5lciBpcyBpbnZva2VkIG9ubHkgdGhlIGZpcnN0IHRpbWUgdGhlIGV2ZW50IGlzIGZpcmVkLCBhZnRlciB3aGljaCBpdCBpcyByZW1vdmVkLlxyXG4gICAqL1xyXG4gIG9uY2U8TmFtZSBleHRlbmRzIGtleW9mIEV2ZW50RGF0YT4oXHJcbiAgICBldmVudDogTmFtZSxcclxuICAgIGxpc3RlbmVyOiAoLi4uYXJnczogTGlzdGVuZXJUeXBlPEV2ZW50RGF0YVtOYW1lXT4pID0+IHZvaWQsXHJcbiAgICBvcHRpb25zPzogdHJ1ZSB8IE9uT3B0aW9uc1xyXG4gICk6IHRoaXM7XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZHMgYSBvbmUgdGltZSBsaXN0ZW5lciBmb3IgdGhlIGV2ZW50LiBUaGUgbGlzdGVuZXIgaXMgaW52b2tlZCBvbmx5IHRoZSBmaXJzdCB0aW1lIHRoZSBldmVudCBpcyBmaXJlZCwgYWZ0ZXIgd2hpY2ggaXQgaXMgcmVtb3ZlZC4gVGhlIGxpc3RlbmVyIGlzIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3RlbmVycyBhcnJheVxyXG4gICAqL1xyXG4gIHByZXBlbmRPbmNlTGlzdGVuZXI8TmFtZSBleHRlbmRzIGtleW9mIEV2ZW50RGF0YT4oXHJcbiAgICBldmVudDogTmFtZSxcclxuICAgIGxpc3RlbmVyOiAoLi4uYXJnczogTGlzdGVuZXJUeXBlPEV2ZW50RGF0YVtOYW1lXT4pID0+IHZvaWQsXHJcbiAgICBvcHRpb25zOiBPbk9wdGlvbnMgJiB7IG9iamVjdGlmeTogdHJ1ZSB9XHJcbiAgKTogTGlzdGVuZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZHMgYSBvbmUgdGltZSBsaXN0ZW5lciBmb3IgdGhlIGV2ZW50LiBUaGUgbGlzdGVuZXIgaXMgaW52b2tlZCBvbmx5IHRoZSBmaXJzdCB0aW1lIHRoZSBldmVudCBpcyBmaXJlZCwgYWZ0ZXIgd2hpY2ggaXQgaXMgcmVtb3ZlZC4gVGhlIGxpc3RlbmVyIGlzIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3RlbmVycyBhcnJheVxyXG4gICAqL1xyXG4gIHByZXBlbmRPbmNlTGlzdGVuZXI8TmFtZSBleHRlbmRzIGtleW9mIEV2ZW50RGF0YT4oXHJcbiAgICBldmVudDogTmFtZSxcclxuICAgIGxpc3RlbmVyOiAoLi4uYXJnczogTGlzdGVuZXJUeXBlPEV2ZW50RGF0YVtOYW1lXT4pID0+IHZvaWQsXHJcbiAgICBvcHRpb25zPzogYm9vbGVhbiB8IE9uT3B0aW9uc1xyXG4gICk6IHRoaXM7XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgZXhlY3V0ZSBuIHRpbWVzIGZvciB0aGUgZXZlbnQgYmVmb3JlIGJlaW5nIHJlbW92ZWQuIFRoZSBsaXN0ZW5lciBpcyBpbnZva2VkIG9ubHkgdGhlIGZpcnN0IG4gdGltZXMgdGhlIGV2ZW50IGlzIGZpcmVkLCBhZnRlciB3aGljaCBpdCBpcyByZW1vdmVkLlxyXG4gICAqL1xyXG4gIG1hbnk8TmFtZSBleHRlbmRzIGtleW9mIEV2ZW50RGF0YT4oXHJcbiAgICBldmVudDogTmFtZSxcclxuICAgIHRpbWVzVG9MaXN0ZW46IG51bWJlcixcclxuICAgIGxpc3RlbmVyOiAoLi4uYXJnczogTGlzdGVuZXJUeXBlPEV2ZW50RGF0YVtOYW1lXT4pID0+IHZvaWQsXHJcbiAgICBvcHRpb25zOiBPbk9wdGlvbnMgJiB7IG9iamVjdGlmeTogdHJ1ZSB9XHJcbiAgKTogTGlzdGVuZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgZXhlY3V0ZSBuIHRpbWVzIGZvciB0aGUgZXZlbnQgYmVmb3JlIGJlaW5nIHJlbW92ZWQuIFRoZSBsaXN0ZW5lciBpcyBpbnZva2VkIG9ubHkgdGhlIGZpcnN0IG4gdGltZXMgdGhlIGV2ZW50IGlzIGZpcmVkLCBhZnRlciB3aGljaCBpdCBpcyByZW1vdmVkLlxyXG4gICAqL1xyXG4gIG1hbnk8TmFtZSBleHRlbmRzIGtleW9mIEV2ZW50RGF0YT4oXHJcbiAgICBldmVudDogTmFtZSxcclxuICAgIHRpbWVzVG9MaXN0ZW46IG51bWJlcixcclxuICAgIGxpc3RlbmVyOiAoLi4uYXJnczogTGlzdGVuZXJUeXBlPEV2ZW50RGF0YVtOYW1lXT4pID0+IHZvaWQsXHJcbiAgICBvcHRpb25zPzogYm9vbGVhbiB8IE9uT3B0aW9uc1xyXG4gICk6IHRoaXM7XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgZXhlY3V0ZSBuIHRpbWVzIGZvciB0aGUgZXZlbnQgYmVmb3JlIGJlaW5nIHJlbW92ZWQuIFRoZSBsaXN0ZW5lciBpcyBpbnZva2VkIG9ubHkgdGhlIGZpcnN0IG4gdGltZXMgdGhlIGV2ZW50IGlzIGZpcmVkLCBhZnRlciB3aGljaCBpdCBpcyByZW1vdmVkLiBUaGUgbGlzdGVuZXIgaXMgYWRkZWQgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgbGlzdGVuZXJzIGFycmF5LlxyXG4gICAqL1xyXG4gIHByZXBlbmRNYW55PE5hbWUgZXh0ZW5kcyBrZXlvZiBFdmVudERhdGE+KFxyXG4gICAgZXZlbnQ6IE5hbWUsXHJcbiAgICB0aW1lc1RvTGlzdGVuOiBudW1iZXIsXHJcbiAgICBsaXN0ZW5lcjogKC4uLmFyZ3M6IExpc3RlbmVyVHlwZTxFdmVudERhdGFbTmFtZV0+KSA9PiB2b2lkLFxyXG4gICAgb3B0aW9uczogT25PcHRpb25zICYgeyBvYmplY3RpZnk6IHRydWUgfVxyXG4gICk6IExpc3RlbmVyO1xyXG5cclxuICAvKipcclxuICAgKiBBZGRzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGV4ZWN1dGUgbiB0aW1lcyBmb3IgdGhlIGV2ZW50IGJlZm9yZSBiZWluZyByZW1vdmVkLiBUaGUgbGlzdGVuZXIgaXMgaW52b2tlZCBvbmx5IHRoZSBmaXJzdCBuIHRpbWVzIHRoZSBldmVudCBpcyBmaXJlZCwgYWZ0ZXIgd2hpY2ggaXQgaXMgcmVtb3ZlZC4gVGhlIGxpc3RlbmVyIGlzIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3RlbmVycyBhcnJheS5cclxuICAgKi9cclxuICBwcmVwZW5kTWFueTxOYW1lIGV4dGVuZHMga2V5b2YgRXZlbnREYXRhPihcclxuICAgIGV2ZW50OiBOYW1lLFxyXG4gICAgdGltZXNUb0xpc3RlbjogbnVtYmVyLFxyXG4gICAgbGlzdGVuZXI6ICguLi5hcmdzOiBMaXN0ZW5lclR5cGU8RXZlbnREYXRhW05hbWVdPikgPT4gdm9pZCxcclxuICAgIG9wdGlvbnM/OiBib29sZWFuIHwgT25PcHRpb25zXHJcbiAgKTogdGhpcztcclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIGFueSBldmVudCBpcyBlbWl0dGVkLiBUaGUgZXZlbnQgbmFtZSBpcyBwYXNzZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBjYWxsYmFjay5cclxuICAgKi9cclxuICBvbkFueShsaXN0ZW5lcjogRXZlbnRBbmRMaXN0ZW5lcik6IHRoaXM7XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiBhbnkgZXZlbnQgaXMgZW1pdHRlZC4gVGhlIGV2ZW50IG5hbWUgaXMgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgY2FsbGJhY2suIFRoZSBsaXN0ZW5lciBpcyBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaXN0ZW5lcnMgYXJyYXlcclxuICAgKi9cclxuICBwcmVwZW5kQW55KGxpc3RlbmVyOiBFdmVudEFuZExpc3RlbmVyKTogdGhpcztcclxuXHJcbiAgLyoqXHJcbiAgICogUmVtb3ZlcyB0aGUgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuJ1xyXG4gICAqL1xyXG4gIG9mZkFueShsaXN0ZW5lcjogTGlzdGVuZXJGbik6IHRoaXM7XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZSBhIGxpc3RlbmVyIGZyb20gdGhlIGxpc3RlbmVyIGFycmF5IGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50LiBDYXV0aW9uOiBDYWxsaW5nIHRoaXMgbWV0aG9kIGNoYW5nZXMgdGhlIGFycmF5IGluZGljZXMgaW4gdGhlIGxpc3RlbmVyIGFycmF5IGJlaGluZCB0aGUgbGlzdGVuZXIuXHJcbiAgICovXHJcbiAgcmVtb3ZlTGlzdGVuZXI8TmFtZSBleHRlbmRzIGtleW9mIEV2ZW50RGF0YT4oXHJcbiAgICBldmVudDogTmFtZSxcclxuICAgIGxpc3RlbmVyOiAoLi4uYXJnczogTGlzdGVuZXJUeXBlPEV2ZW50RGF0YVtOYW1lXT4pID0+IHZvaWRcclxuICApOiB0aGlzO1xyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmUgYSBsaXN0ZW5lciBmcm9tIHRoZSBsaXN0ZW5lciBhcnJheSBmb3IgdGhlIHNwZWNpZmllZCBldmVudC4gQ2F1dGlvbjogQ2FsbGluZyB0aGlzIG1ldGhvZCBjaGFuZ2VzIHRoZSBhcnJheSBpbmRpY2VzIGluIHRoZSBsaXN0ZW5lciBhcnJheSBiZWhpbmQgdGhlIGxpc3RlbmVyLlxyXG4gICAqL1xyXG4gIG9mZjxOYW1lIGV4dGVuZHMga2V5b2YgRXZlbnREYXRhPihcclxuICAgIGV2ZW50OiBOYW1lLFxyXG4gICAgbGlzdGVuZXI6ICguLi5hcmdzOiBMaXN0ZW5lclR5cGU8RXZlbnREYXRhW05hbWVdPikgPT4gdm9pZFxyXG4gICk6IHRoaXM7XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZXMgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cclxuICAgKi9cclxuICByZW1vdmVBbGxMaXN0ZW5lcnM8TmFtZSBleHRlbmRzIGtleW9mIEV2ZW50RGF0YT4oZXZlbnQ/OiBOYW1lKTogdGhpcztcclxuXHJcbiAgLyoqXHJcbiAgICogQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93cyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cclxuICAgKi9cclxuICBzZXRNYXhMaXN0ZW5lcnMobjogbnVtYmVyKTogdm9pZDtcclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBtYXggbGlzdGVuZXIgdmFsdWUgZm9yIHRoZSBFdmVudEVtaXR0ZXIgd2hpY2ggaXMgZWl0aGVyIHNldCBieSBlbWl0dGVyLnNldE1heExpc3RlbmVycyhuKSBvciBkZWZhdWx0cyB0byBFdmVudEVtaXR0ZXIyLmRlZmF1bHRNYXhMaXN0ZW5lcnNcclxuICAgKi9cclxuICBnZXRNYXhMaXN0ZW5lcnMoKTogbnVtYmVyO1xyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxyXG4gICAqXHJcbiAgICogTm90ZTogTGlzdGVuZXJzIG9yZGVyIG5vdCBndWFyYW50ZWVkXHJcbiAgICovXHJcbiAgZXZlbnROYW1lczxOYW1lIGV4dGVuZHMga2V5b2YgRXZlbnREYXRhPihuc0FzQXJyYXk/OiBib29sZWFuKTogTmFtZVtdO1xyXG5cclxuICBsaXN0ZW5lckNvdW50PE5hbWUgZXh0ZW5kcyBrZXlvZiBFdmVudERhdGE+KGV2ZW50PzogTmFtZSk6IG51bWJlcjtcclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQuIFRoaXMgYXJyYXkgY2FuIGJlIG1hbmlwdWxhdGVkLCBlLmcuIHRvIHJlbW92ZSBsaXN0ZW5lcnMuXHJcbiAgICovXHJcbiAgbGlzdGVuZXJzPE5hbWUgZXh0ZW5kcyBrZXlvZiBFdmVudERhdGE+KGV2ZW50PzogTmFtZSk6IExpc3RlbmVyRm5bXTtcclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgdGhhdCBhcmUgbGlzdGVuaW5nIGZvciBhbnkgZXZlbnQgdGhhdCBpcyBzcGVjaWZpZWQuIFRoaXMgYXJyYXkgY2FuIGJlIG1hbmlwdWxhdGVkLCBlLmcuIHRvIHJlbW92ZSBsaXN0ZW5lcnMuXHJcbiAgICovXHJcbiAgbGlzdGVuZXJzQW55KCk6IExpc3RlbmVyRm5bXTtcclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhIHRoZW5hYmxlIG9iamVjdCAocHJvbWlzZSBpbnRlcmZhY2UpIHRoYXQgcmVzb2x2ZXMgd2hlbiBhIHNwZWNpZmljIGV2ZW50IG9jY3Vyc1xyXG4gICAqL1xyXG4gIHdhaXRGb3I8TmFtZSBleHRlbmRzIGtleW9mIEV2ZW50RGF0YT4oXHJcbiAgICBldmVudDogTmFtZSxcclxuICAgIHRpbWVvdXQ/OiBudW1iZXJcclxuICApOiBDYW5jZWxhYmxlUHJvbWlzZTxMaXN0ZW5lclR5cGU8RXZlbnREYXRhW05hbWVdPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSB0aGVuYWJsZSBvYmplY3QgKHByb21pc2UgaW50ZXJmYWNlKSB0aGF0IHJlc29sdmVzIHdoZW4gYSBzcGVjaWZpYyBldmVudCBvY2N1cnNcclxuICAgKi9cclxuICB3YWl0Rm9yPE5hbWUgZXh0ZW5kcyBrZXlvZiBFdmVudERhdGE+KFxyXG4gICAgZXZlbnQ6IE5hbWUsXHJcbiAgICBmaWx0ZXI/OiBXYWl0Rm9yRmlsdGVyXHJcbiAgKTogQ2FuY2VsYWJsZVByb21pc2U8TGlzdGVuZXJUeXBlPEV2ZW50RGF0YVtOYW1lXT4+O1xyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGEgdGhlbmFibGUgb2JqZWN0IChwcm9taXNlIGludGVyZmFjZSkgdGhhdCByZXNvbHZlcyB3aGVuIGEgc3BlY2lmaWMgZXZlbnQgb2NjdXJzXHJcbiAgICovXHJcbiAgd2FpdEZvcjxOYW1lIGV4dGVuZHMga2V5b2YgRXZlbnREYXRhPihcclxuICAgIGV2ZW50OiBOYW1lLFxyXG4gICAgb3B0aW9ucz86IFdhaXRGb3JPcHRpb25zXHJcbiAgKTogQ2FuY2VsYWJsZVByb21pc2U8TGlzdGVuZXJUeXBlPEV2ZW50RGF0YVtOYW1lXT4+O1xyXG5cclxuICBsaXN0ZW5UbyhcclxuICAgIHRhcmdldDogR2VuZXJhbEV2ZW50RW1pdHRlcixcclxuICAgIGV2ZW50czogZXZlbnQgfCBldmVudE5TLFxyXG4gICAgb3B0aW9ucz86IExpc3RlblRvT3B0aW9uc1xyXG4gICk6IHRoaXM7XHJcblxyXG4gIGxpc3RlblRvKFxyXG4gICAgdGFyZ2V0OiBHZW5lcmFsRXZlbnRFbWl0dGVyLFxyXG4gICAgZXZlbnRzOiBldmVudFtdLFxyXG4gICAgb3B0aW9ucz86IExpc3RlblRvT3B0aW9uc1xyXG4gICk6IHRoaXM7XHJcblxyXG4gIGxpc3RlblRvKFxyXG4gICAgdGFyZ2V0OiBHZW5lcmFsRXZlbnRFbWl0dGVyLFxyXG4gICAgZXZlbnRzOiBvYmplY3QsXHJcbiAgICBvcHRpb25zPzogTGlzdGVuVG9PcHRpb25zXHJcbiAgKTogdGhpcztcclxuXHJcbiAgc3RvcExpc3RlbmluZ1RvKFxyXG4gICAgdGFyZ2V0PzogR2VuZXJhbEV2ZW50RW1pdHRlcixcclxuICAgIGV2ZW50PzogZXZlbnQgfCBldmVudE5TXHJcbiAgKTogYm9vbGVhbjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2tzIHdoZXRoZXIgZW1pdHRlciBoYXMgYW55IGxpc3RlbmVycy5cclxuICAgKi9cclxuICBoYXNMaXN0ZW5lcnM8TmFtZSBleHRlbmRzIGtleW9mIEV2ZW50RGF0YT4oZXZlbnQ/OiBOYW1lKTogYm9vbGVhbjtcclxuXHJcbiAgc3RhdGljIG9uY2UoXHJcbiAgICBlbWl0dGVyOiBFdmVudEVtaXR0ZXIyLFxyXG4gICAgZXZlbnQ6IHN0cmluZyxcclxuICAgIG9wdGlvbnM/OiBPbmNlT3B0aW9uc1xyXG4gICk6IENhbmNlbGFibGVQcm9taXNlPGFueVtdPjtcclxuXHJcbiAgc3RhdGljIGRlZmF1bHRNYXhMaXN0ZW5lcnM6IG51bWJlcjtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjIgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEJsb2NrbGlzdEV2ZW50VHlwZXMgfSBmcm9tICcuLi9ibG9ja2xpc3QvZXZlbnRzL2V2ZW50VHlwZXMnO1xyXG5pbXBvcnQgeyBDYWxsRXZlbnRUeXBlcyB9IGZyb20gJy4uL2NhbGwvZXZlbnRzL2V2ZW50VHlwZXMnO1xyXG5pbXBvcnQgeyBDaGF0RXZlbnRUeXBlcyB9IGZyb20gJy4uL2NoYXQvZXZlbnRzL2V2ZW50VHlwZXMnO1xyXG5pbXBvcnQgeyBDb25maWdFdmVudFR5cGVzIH0gZnJvbSAnLi4vY29uZmlnL2V2ZW50VHlwZXMnO1xyXG5pbXBvcnQgeyBDb25uRXZlbnRUeXBlcyB9IGZyb20gJy4uL2Nvbm4vZXZlbnRzL2V2ZW50VHlwZXMnO1xyXG5pbXBvcnQgeyBHcm91cEV2ZW50VHlwZXMgfSBmcm9tICcuLi9ncm91cC9ldmVudHMvZXZlbnRUeXBlcyc7XHJcbmltcG9ydCB7IE9yZGVyRXZlbnRUeXBlcyB9IGZyb20gJy4uL29yZGVyL2V2ZW50cy9ldmVudFR5cGVzJztcclxuaW1wb3J0IHsgU3RhdHVzRXZlbnRUeXBlcyB9IGZyb20gJy4uL3N0YXR1cy9ldmVudHMvZXZlbnRUeXBlcyc7XHJcbmltcG9ydCB7IFdlYnBhY2tFdmVudHMgfSBmcm9tICcuLi93ZWJwYWNrL2V2ZW50VHlwZXMnO1xyXG5cclxuZXhwb3J0IHsgQmxvY2tsaXN0RXZlbnRUeXBlcyB9IGZyb20gJy4uL2Jsb2NrbGlzdC9ldmVudHMvZXZlbnRUeXBlcyc7XHJcbmV4cG9ydCB7IENhbGxFdmVudFR5cGVzIH0gZnJvbSAnLi4vY2FsbC9ldmVudHMvZXZlbnRUeXBlcyc7XHJcbmV4cG9ydCB7IENoYXRFdmVudFR5cGVzIH0gZnJvbSAnLi4vY2hhdC9ldmVudHMvZXZlbnRUeXBlcyc7XHJcbmV4cG9ydCB7IENvbmZpZ0V2ZW50VHlwZXMgfSBmcm9tICcuLi9jb25maWcvZXZlbnRUeXBlcyc7XHJcbmV4cG9ydCB7IENvbm5FdmVudFR5cGVzIH0gZnJvbSAnLi4vY29ubi9ldmVudHMvZXZlbnRUeXBlcyc7XHJcbmV4cG9ydCB7IEdyb3VwRXZlbnRUeXBlcyB9IGZyb20gJy4uL2dyb3VwL2V2ZW50cy9ldmVudFR5cGVzJztcclxuZXhwb3J0IHsgT3JkZXJFdmVudFR5cGVzIH0gZnJvbSAnLi4vb3JkZXIvZXZlbnRzL2V2ZW50VHlwZXMnO1xyXG5leHBvcnQgeyBTdGF0dXNFdmVudFR5cGVzIH0gZnJvbSAnLi4vc3RhdHVzL2V2ZW50cy9ldmVudFR5cGVzJztcclxuZXhwb3J0IHsgV2VicGFja0V2ZW50cyB9IGZyb20gJy4uL3dlYnBhY2svZXZlbnRUeXBlcyc7XHJcblxyXG5leHBvcnQgdHlwZSBFdmVudFR5cGVzID0gQmxvY2tsaXN0RXZlbnRUeXBlcyAmXHJcbiAgQ2FsbEV2ZW50VHlwZXMgJlxyXG4gIENoYXRFdmVudFR5cGVzICZcclxuICBDb25maWdFdmVudFR5cGVzICZcclxuICBDb25uRXZlbnRUeXBlcyAmXHJcbiAgR3JvdXBFdmVudFR5cGVzICZcclxuICBPcmRlckV2ZW50VHlwZXMgJlxyXG4gIFN0YXR1c0V2ZW50VHlwZXMgJlxyXG4gIFdlYnBhY2tFdmVudHM7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IERlYnVnIGZyb20gJ2RlYnVnJztcclxuXHJcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJy4vZXZlbnRFbWl0dGVyJztcclxuaW1wb3J0IHsgRXZlbnRUeXBlcyB9IGZyb20gJy4vZXZlbnRUeXBlcyc7XHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2V2ZW50VHlwZXMnO1xyXG5cclxuY29uc3QgZGVidWcgPSBEZWJ1ZygnV0EtSlM6ZXZlbnQnKTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbnRlcm5hbEV2ID0gbmV3IEV2ZW50RW1pdHRlcjxFdmVudFR5cGVzPih7XHJcbiAgbWF4TGlzdGVuZXJzOiBJbmZpbml0eSxcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgZXYgPSBuZXcgRXZlbnRFbWl0dGVyPFxyXG4gIEV2ZW50VHlwZXMgJiB7IGFsZmE6IHN0cmluZzsgYmV0YTogKGZyb206IG51bWJlciwgdG86IHN0cmluZykgPT4gdm9pZCB9XHJcbj4oe1xyXG4gIG1heExpc3RlbmVyczogSW5maW5pdHksXHJcbn0pO1xyXG5cclxuaW50ZXJuYWxFdi5vbkFueSgoZXZlbnQsIC4uLnZhbHVlcykgPT4ge1xyXG4gIGV2LmVtaXQoZXZlbnQgYXMgYW55LCAuLi52YWx1ZXMpO1xyXG4gIGlmIChkZWJ1Zy5lbmFibGVkKSB7XHJcbiAgICBkZWJ1ZyhldmVudCwgLi4udmFsdWVzKTtcclxuICB9XHJcbn0pO1xyXG5cclxuZXhwb3J0IHsgRXZlbnRFbWl0dGVyIH07XHJcblxyXG5leHBvcnQgY29uc3QgYWRkTGlzdGVuZXIgPSBldi5hZGRMaXN0ZW5lci5iaW5kKGV2KTtcclxuZXhwb3J0IGNvbnN0IGVtaXQgPSBldi5lbWl0LmJpbmQoZXYpO1xyXG5leHBvcnQgY29uc3QgZW1pdEFzeW5jID0gZXYuZW1pdEFzeW5jLmJpbmQoZXYpO1xyXG5leHBvcnQgY29uc3QgZXZlbnROYW1lcyA9IGV2LmV2ZW50TmFtZXMuYmluZChldik7XHJcbmV4cG9ydCBjb25zdCBnZXRNYXhMaXN0ZW5lcnMgPSBldi5nZXRNYXhMaXN0ZW5lcnMuYmluZChldik7XHJcbmV4cG9ydCBjb25zdCBoYXNMaXN0ZW5lcnMgPSBldi5oYXNMaXN0ZW5lcnMuYmluZChldik7XHJcbmV4cG9ydCBjb25zdCBsaXN0ZW5UbyA9IGV2Lmxpc3RlblRvLmJpbmQoZXYpO1xyXG5leHBvcnQgY29uc3QgbGlzdGVuZXJDb3VudCA9IGV2Lmxpc3RlbmVyQ291bnQuYmluZChldik7XHJcbmV4cG9ydCBjb25zdCBsaXN0ZW5lcnMgPSBldi5saXN0ZW5lcnMuYmluZChldik7XHJcbmV4cG9ydCBjb25zdCBsaXN0ZW5lcnNBbnkgPSBldi5saXN0ZW5lcnNBbnkuYmluZChldik7XHJcbmV4cG9ydCBjb25zdCBtYW55ID0gZXYubWFueS5iaW5kKGV2KTtcclxuZXhwb3J0IGNvbnN0IG9mZiA9IGV2Lm9mZi5iaW5kKGV2KTtcclxuZXhwb3J0IGNvbnN0IG9mZkFueSA9IGV2Lm9mZkFueS5iaW5kKGV2KTtcclxuZXhwb3J0IGNvbnN0IG9uID0gZXYub24uYmluZChldik7XHJcbmV4cG9ydCBjb25zdCBvbkFueSA9IGV2Lm9uQW55LmJpbmQoZXYpO1xyXG5leHBvcnQgY29uc3Qgb25jZSA9IGV2Lm9uY2UuYmluZChldik7XHJcbmV4cG9ydCBjb25zdCBwcmVwZW5kQW55ID0gZXYucHJlcGVuZEFueS5iaW5kKGV2KTtcclxuZXhwb3J0IGNvbnN0IHByZXBlbmRMaXN0ZW5lciA9IGV2LnByZXBlbmRMaXN0ZW5lci5iaW5kKGV2KTtcclxuZXhwb3J0IGNvbnN0IHByZXBlbmRNYW55ID0gZXYucHJlcGVuZE1hbnkuYmluZChldik7XHJcbmV4cG9ydCBjb25zdCBwcmVwZW5kT25jZUxpc3RlbmVyID0gZXYucHJlcGVuZE9uY2VMaXN0ZW5lci5iaW5kKGV2KTtcclxuZXhwb3J0IGNvbnN0IHJlbW92ZUFsbExpc3RlbmVycyA9IGV2LnJlbW92ZUFsbExpc3RlbmVycy5iaW5kKGV2KTtcclxuZXhwb3J0IGNvbnN0IHJlbW92ZUxpc3RlbmVyID0gZXYucmVtb3ZlTGlzdGVuZXIuYmluZChldik7XHJcbmV4cG9ydCBjb25zdCBzZXRNYXhMaXN0ZW5lcnMgPSBldi5zZXRNYXhMaXN0ZW5lcnMuYmluZChldik7XHJcbmV4cG9ydCBjb25zdCBzdG9wTGlzdGVuaW5nVG8gPSBldi5zdG9wTGlzdGVuaW5nVG8uYmluZChldik7XHJcbmV4cG9ydCBjb25zdCB3YWl0Rm9yID0gZXYud2FpdEZvci5iaW5kKGV2KTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgJy4vcmVnaXN0ZXJQYXJ0aWNpcGFudHNDaGFuZ2VkRXZlbnQnO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGludGVybmFsRXYgfSBmcm9tICcuLi8uLi9ldmVudEVtaXR0ZXInO1xyXG5pbXBvcnQgKiBhcyB3ZWJwYWNrIGZyb20gJy4uLy4uL3dlYnBhY2snO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IHdyYXBNb2R1bGVGdW5jdGlvbiB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IHVwZGF0ZURCRm9yR3JvdXBBY3Rpb24gfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxud2VicGFjay5vbkZ1bGxSZWFkeShyZWdpc3Rlcik7XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlcigpIHtcclxuICBjb25zdCBldmVudFR5cGVzID0gWydhZGQnLCAncmVtb3ZlJywgJ2RlbW90ZScsICdwcm9tb3RlJ107XHJcblxyXG4gIHdyYXBNb2R1bGVGdW5jdGlvbih1cGRhdGVEQkZvckdyb3VwQWN0aW9uLCAoZnVuYywgLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgW21ldGEsIGFjdGlvbl0gPSBhcmdzO1xyXG5cclxuICAgIGxldCBhY3Rpb25UeXBlID0gYWN0aW9uLmFjdGlvblR5cGUgfHwgYWN0aW9uLmFjdGlvbjtcclxuICAgIGlmIChldmVudFR5cGVzLmluY2x1ZGVzKGFjdGlvblR5cGUpKSB7XHJcbiAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcclxuICAgICAgICBjb25zdCBwYXJ0aWNpcGFudHM6IFdpZFtdID0gYWN0aW9uLnBhcnRpY2lwYW50cy5tYXAoKHApID0+IHtcclxuICAgICAgICAgIGlmICgnaWQnIGluIHApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHAuaWQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gcDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgYWN0aW9uVHlwZSA9PT0gJ2FkZCcgJiZcclxuICAgICAgICAgIChhY3Rpb24uaXNJbnZpdGUgfHwgYWN0aW9uLnJlYXNvbiA9PT0gJ2ludml0ZScpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBhY3Rpb25UeXBlID0gJ2pvaW4nO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICBhY3Rpb25UeXBlID09PSAncmVtb3ZlJyAmJlxyXG4gICAgICAgICAgcGFydGljaXBhbnRzLnNvbWUoKHApID0+IHAuZXF1YWxzKG1ldGEuYXV0aG9yKSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGFjdGlvblR5cGUgPSAnbGVhdmUnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJuYWxFdi5lbWl0KCdncm91cC5wYXJ0aWNpcGFudF9jaGFuZ2VkJywge1xyXG4gICAgICAgICAgYXV0aG9yOiBtZXRhLmF1dGhvcj8udG9TdHJpbmcoKSxcclxuICAgICAgICAgIGF1dGhvclB1c2hOYW1lOiBtZXRhLnB1c2huYW1lLFxyXG4gICAgICAgICAgZ3JvdXBJZDogbWV0YS5jaGF0SWQudG9TdHJpbmcoKSxcclxuICAgICAgICAgIGFjdGlvbjogYWN0aW9uVHlwZSBhcyBhbnksXHJcbiAgICAgICAgICBvcGVyYXRpb246IChhY3Rpb24uYWN0aW9uVHlwZSB8fCBhY3Rpb24uYWN0aW9uKSBhcyBhbnksXHJcbiAgICAgICAgICBwYXJ0aWNpcGFudHM6IHBhcnRpY2lwYW50cy5tYXAoKHApID0+IHAudG9TdHJpbmcoKSksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmMoLi4uYXJncyk7XHJcbiAgfSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBjb21wYXJlIH0gZnJvbSAnY29tcGFyZS12ZXJzaW9ucyc7XHJcblxyXG5pbXBvcnQgeyBjcmVhdGVXaWQsIFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7IENvbnRhY3RTdG9yZSwgZnVuY3Rpb25zLCBQYXJ0aWNpcGFudE1vZGVsLCBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IGVuc3VyZUdyb3VwQW5kUGFydGljaXBhbnRzIH0gZnJvbSAnLi9lbnN1cmVHcm91cEFuZFBhcnRpY2lwYW50cyc7XHJcblxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XHJcbiAgICBEZWJ1Zzoge1xyXG4gICAgICBWRVJTSU9OOiBzdHJpbmc7XHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgbWVzc2FnZUNvZGVzOiB7XHJcbiAgW2tleTogbnVtYmVyXTogc3RyaW5nO1xyXG59ID0ge1xyXG4gIDIwMDogJ09LJyxcclxuICA0MDM6IFwiQ2FuJ3Qgam9pbiB0aGlzIGdyb3VwIGJlY2F1c2UgdGhlIG51bWJlciB3YXMgcmVzdHJpY3RlZCBpdC5cIixcclxuICA0MDk6IFwiQ2FuJ3Qgam9pbiB0aGlzIGdyb3VwIGJlY2F1c2UgdGhlIG51bWJlciBpcyBhbHJlYWR5IGEgbWVtYmVyIG9mIGl0LlwiLFxyXG4gIDQyMTogJ01lbWJlciBub3QgYWRkZWQsIGF3YWl0aW5nIGFwcHJvdmFsIScsXHJcbn07XHJcblxyXG4vKipcclxuICogQWRkIG9uZSBvciBtb3JlIHBhcnRpY2lwYW50cyB0byBhIGdyb3VwXHJcbiAqXHJcbiAqIFRoZSBtZXRob2QgcmV0dXJuIGEgb2JqZWN0IHdpdGggdGhlIHJlc3VsdCBvZiBlYWNoIHBhcnRpY2lwYW50IGFzIHRoZSBrZXlcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBXUFAuZ3JvdXAuYWRkUGFydGljaXBhbnRzKCdbZ3JvdXBAZy51c10nLCBbbnVtYmVyQGMudXNdKTtcclxuICpcclxuICogLy8gR2V0IHBhcnRpY2lwYW50IHJlc3VsdDpcclxuICogY29uc29sZS5sb2cocmVzdWx0WycxMjNAYy51cyddLmNvZGUpO1xyXG4gKiBjb25zb2xlLmxvZyhyZXN1bHRbJzEyM0BjLnVzJ10uaW52aXRlX2NvZGUpO1xyXG4gKiBjb25zb2xlLmxvZyhyZXN1bHRbJzEyM0BjLnVzJ10uaW52aXRlX2NvZGVfZXhwKTtcclxuICogY29uc29sZS5sb2cocmVzdWx0WycxMjNAYy51cyddLm1lc3NhZ2UpO1xyXG4gKiBjb25zb2xlLmxvZyhyZXN1bHRbJzEyM0BjLnVzJ10ud2lkKTtcclxuICpcclxuICogY29uc3QgbWVtYmVyUmVzdWx0ID0gcmVzdWx0WycxMjNAYy51cyddOyAvLyBUbyBhIHZhcmlhYmxlXHJcbiAqIC8vIG9yXHJcbiAqIGNvbnN0IG1lbWJlclJlc3VsdCA9IE9iamVjdC52YWx1ZXMocmVzdWx0KVswXTsgLy8gQWx3YXlzIHRoZSBmaXJzdCBtZW1iZXIgcmVzdWx0XHJcbiAqXHJcbiAqIC8vIEhvdyB0byBzZW5kIGEgY3VzdG9tIGludml0ZSBsaW5rXHJcbiAqIGNvbnN0IGxpbmsgPSAnaHR0cHM6Ly9jaGF0LndoYXRzYXBwLmNvbS8nICsgcmVzdWx0WycxMjNAYy51cyddLmludml0ZV9jb2RlO1xyXG4gKiBjb25zb2xlLmxvZyhsaW5rKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBHcm91cFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZFBhcnRpY2lwYW50cyhcclxuICBncm91cElkOiBzdHJpbmcgfCBXaWQsXHJcbiAgcGFydGljaXBhbnRzSWRzOiAoc3RyaW5nIHwgV2lkKSB8IChzdHJpbmcgfCBXaWQpW11cclxuKTogUHJvbWlzZTx7XHJcbiAgW2tleTogYCR7bnVtYmVyfUBjLnVzYF06IHtcclxuICAgIHdpZDogc3RyaW5nO1xyXG4gICAgY29kZTogbnVtYmVyO1xyXG4gICAgbWVzc2FnZTogc3RyaW5nO1xyXG4gICAgaW52aXRlX2NvZGU6IHN0cmluZyB8IG51bGw7XHJcbiAgICBpbnZpdGVfY29kZV9leHA6IG51bWJlciB8IG51bGw7XHJcbiAgfTtcclxufT4ge1xyXG4gIGNvbnN0IHsgZ3JvdXBDaGF0LCBwYXJ0aWNpcGFudHMgfSA9IGF3YWl0IGVuc3VyZUdyb3VwQW5kUGFydGljaXBhbnRzKFxyXG4gICAgZ3JvdXBJZCxcclxuICAgIHBhcnRpY2lwYW50c0lkcyxcclxuICAgIHRydWVcclxuICApO1xyXG5cclxuICBsZXQgbWVtYmVyczogYW55W10gPSBbXTtcclxuXHJcbiAgaWYgKGNvbXBhcmUoc2VsZi5EZWJ1Zy5WRVJTSU9OLCAnMi4yMzIwLjAnLCAnPj0nKSkge1xyXG4gICAgaWYgKGdyb3VwQ2hhdC5ncm91cE1ldGFkYXRhPy5pc0xpZEFkZHJlc3NpbmdNb2RlKSB7XHJcbiAgICAgIG1lbWJlcnMgPSBwYXJ0aWNpcGFudHMubWFwKChwOiBQYXJ0aWNpcGFudE1vZGVsKSA9PiAoe1xyXG4gICAgICAgIHBob25lTnVtYmVyOiBwLmlkLFxyXG4gICAgICAgIGxpZDogZnVuY3Rpb25zLmdldEN1cnJlbnRMaWQocC5pZCksXHJcbiAgICAgIH0pKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG1lbWJlcnMgPSBwYXJ0aWNpcGFudHMubWFwKChwOiBQYXJ0aWNpcGFudE1vZGVsKSA9PiAoe1xyXG4gICAgICAgIHBob25lTnVtYmVyOiBwLmlkLFxyXG4gICAgICB9KSk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmIChncm91cENoYXQuZ3JvdXBNZXRhZGF0YT8uaXNMaWRBZGRyZXNzaW5nTW9kZSkge1xyXG4gICAgICBtZW1iZXJzID0gcGFydGljaXBhbnRzLm1hcCgocDogUGFydGljaXBhbnRNb2RlbCkgPT5cclxuICAgICAgICBmdW5jdGlvbnMuZ2V0Q3VycmVudExpZChwLmlkKVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbWVtYmVycyA9IHBhcnRpY2lwYW50cy5tYXAoKHA6IFBhcnRpY2lwYW50TW9kZWwpID0+IHAuaWQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZnVuY3Rpb25zLnNlbmRBZGRQYXJ0aWNpcGFudHMoZ3JvdXBDaGF0LmlkLCBtZW1iZXJzKTtcclxuXHJcbiAgaWYgKHJlc3VsdC5zdGF0dXMgPj0gNDAwKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICdncm91cF9hZGRfcGFydGljaXBhbnRfZXJyb3InLFxyXG4gICAgICAnRmFpbGVkIHRvIGFkZCBwYXJ0aWNpcGFudHMgdG8gdGhlIGdyb3VwJyxcclxuICAgICAgeyBncm91cElkLCBwYXJ0aWNpcGFudHNJZHMgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGRhdGE6IHtcclxuICAgIFtrZXk6IGAke251bWJlcn1AYy51c2BdOiB7XHJcbiAgICAgIHdpZDogc3RyaW5nO1xyXG4gICAgICBjb2RlOiBudW1iZXI7XHJcbiAgICAgIG1lc3NhZ2U6IHN0cmluZztcclxuICAgICAgaW52aXRlX2NvZGU6IHN0cmluZyB8IG51bGw7XHJcbiAgICAgIGludml0ZV9jb2RlX2V4cDogbnVtYmVyIHwgbnVsbDtcclxuICAgIH07XHJcbiAgfSA9IHt9O1xyXG5cclxuICBmb3IgKGNvbnN0IHIgb2YgcmVzdWx0LnBhcnRpY2lwYW50cyB8fCBbXSkge1xyXG4gICAgbGV0IHVzZXJXaWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG4gICAgbGV0IGNvZGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG4gICAgbGV0IGludml0ZV9jb2RlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxuICAgIGxldCBpbnZpdGVfY29kZV9leHA6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgIGlmICgndXNlcldpZCcgaW4gcikge1xyXG4gICAgICB1c2VyV2lkID0gci51c2VyV2lkLnRvU3RyaW5nKCk7XHJcbiAgICAgIGNvZGUgPSByLmNvZGU7XHJcbiAgICAgIGludml0ZV9jb2RlID0gci5pbnZpdGVfY29kZTtcclxuICAgICAgaW52aXRlX2NvZGVfZXhwID0gci5pbnZpdGVfY29kZV9leHA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB1c2VyV2lkID0gT2JqZWN0LmtleXMocilbMF0gYXMgYCR7bnVtYmVyfUBjLnVzYDtcclxuXHJcbiAgICAgIGNvbnN0IGQgPSAociBhcyBhbnkpW3VzZXJXaWRdO1xyXG4gICAgICBjb2RlID0gZC5jb2RlO1xyXG4gICAgICBpbnZpdGVfY29kZSA9IGQuaW52aXRlX2NvZGU7XHJcbiAgICAgIGludml0ZV9jb2RlX2V4cCA9IGQuaW52aXRlX2NvZGVfZXhwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb2RlICE9PSAnNDAzJykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIENvbnRhY3RTdG9yZS5nYWRkKGNyZWF0ZVdpZCh1c2VyV2lkKSBhcyBhbnksIHsgc2lsZW50OiB0cnVlIH0pO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge31cclxuICAgIH1cclxuXHJcbiAgICBkYXRhW3VzZXJXaWQgYXMgYCR7bnVtYmVyfUBjLnVzYF0gPSB7XHJcbiAgICAgIHdpZDogdXNlcldpZCxcclxuICAgICAgY29kZTogTnVtYmVyKGNvZGUpLFxyXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlQ29kZXNbTnVtYmVyKGNvZGUpXSB8fCBcIkNhbid0IEpvaW4uLCB1bmtub3duIGVycm9yXCIsXHJcbiAgICAgIGludml0ZV9jb2RlOiBpbnZpdGVfY29kZSxcclxuICAgICAgaW52aXRlX2NvZGVfZXhwOiBOdW1iZXIoaW52aXRlX2NvZGVfZXhwKSB8fCBudWxsLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHJldHVybiBkYXRhO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0V2lkIH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBtZW1iZXJzaGlwQXBwcm92YWxSZXF1ZXN0QWN0aW9uIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbi8qKlxyXG4gKiBBcHByb3ZlIGEgbWVtYmVyc2hpcCByZXF1ZXN0IHRvIGdyb3VwXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogYXdhaXQgV1BQLmdyb3VwLmFwcHJvdmUoMTIzNDU2NDVAZy51cywgNTU1NDk5OTk5OTk5OUBjLnVzKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBHcm91cFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFwcHJvdmUoXHJcbiAgZ3JvdXBJZDogc3RyaW5nIHwgV2lkLFxyXG4gIG1lbWJlcnNoaXBJZHM6IChzdHJpbmcgfCBXaWQpIHwgKHN0cmluZyB8IFdpZClbXVxyXG4pOiBQcm9taXNlPFxyXG4gIHtcclxuICAgIGVycm9yOiBhbnk7XHJcbiAgICB3aWQ6IFdpZDtcclxuICB9W11cclxuPiB7XHJcbiAgZ3JvdXBJZCA9IGFzc2VydFdpZChncm91cElkKTtcclxuICBpZiAoIUFycmF5LmlzQXJyYXkobWVtYmVyc2hpcElkcykpIHtcclxuICAgIG1lbWJlcnNoaXBJZHMgPSBbbWVtYmVyc2hpcElkc107XHJcbiAgfVxyXG4gIGNvbnN0IHdpZHMgPSBtZW1iZXJzaGlwSWRzLm1hcChhc3NlcnRXaWQpO1xyXG5cclxuICB0cnkge1xyXG4gICAgcmV0dXJuIGF3YWl0IG1lbWJlcnNoaXBBcHByb3ZhbFJlcXVlc3RBY3Rpb24oZ3JvdXBJZCwgd2lkcywgJ0FwcHJvdmUnKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnZXJyb3Jfb25fYWNjZXB0X21lbWJlcnNoaXBfcmVxdWVzdCcsXHJcbiAgICAgIGBFcnJvciBvbiBhY2NlcHQgbWVtYmVyIG9uIGdyb3VwICR7Z3JvdXBJZC50b1N0cmluZygpfWBcclxuICAgICk7XHJcbiAgfVxyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBlbnN1cmVHcm91cCB9IGZyb20gJy4vJztcclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiB5b3VyIGFjY291bnQgaXMgYWxsb3dlZCB0byBhZGQgbmV3IHBhcnRpY2lwYW50c1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFdQUC5ncm91cC5jYW5BZGQoJ2dyb3VwQGcudXMnKTtcclxuICogY29uc29sZS5sb2cocmVzdWx0KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBHcm91cFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhbkFkZChncm91cElkOiBzdHJpbmcgfCBXaWQpIHtcclxuICBjb25zdCBncm91cENoYXQgPSBhd2FpdCBlbnN1cmVHcm91cChncm91cElkKTtcclxuICByZXR1cm4gZ3JvdXBDaGF0Lmdyb3VwTWV0YWRhdGEhLnBhcnRpY2lwYW50cy5jYW5BZGQoKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZW5zdXJlR3JvdXBBbmRQYXJ0aWNpcGFudHMgfSBmcm9tICcuLyc7XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgeW91ciBhY2NvdW50IGlzIGFsbG93ZWQgdG8gZGVtb3RlIHBhcnRpY2lwYW50c1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGF3YWl0IFdQUC5ncm91cC5jYW5EZW1vdGUoJ2dyb3VwQGcudXMnKTtcclxuICogY29uc29sZS5sb2cocmVzdWx0KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBHcm91cFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhbkRlbW90ZShcclxuICBncm91cElkOiBzdHJpbmcgfCBXaWQsXHJcbiAgcGFydGljaXBhbnRzSWRzOiAoc3RyaW5nIHwgV2lkKSB8IChzdHJpbmcgfCBXaWQpW11cclxuKSB7XHJcbiAgY29uc3QgeyBncm91cENoYXQsIHBhcnRpY2lwYW50cyB9ID0gYXdhaXQgZW5zdXJlR3JvdXBBbmRQYXJ0aWNpcGFudHMoXHJcbiAgICBncm91cElkLFxyXG4gICAgcGFydGljaXBhbnRzSWRzXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIHBhcnRpY2lwYW50cy5ldmVyeSgocCkgPT5cclxuICAgIGdyb3VwQ2hhdC5ncm91cE1ldGFkYXRhIS5wYXJ0aWNpcGFudHMuY2FuRGVtb3RlKHApXHJcbiAgKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZW5zdXJlR3JvdXBBbmRQYXJ0aWNpcGFudHMgfSBmcm9tICcuLyc7XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgeW91ciBhY2NvdW50IGlzIGFsbG93ZWQgdG8gcHJvbW90ZSBwYXJ0aWNpcGFudHNcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAuZ3JvdXAuY2FuUHJvbW90ZSgnZ3JvdXBAZy51cycpO1xyXG4gKiBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IEdyb3VwXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuUHJvbW90ZShcclxuICBncm91cElkOiBzdHJpbmcgfCBXaWQsXHJcbiAgcGFydGljaXBhbnRzSWRzOiAoc3RyaW5nIHwgV2lkKSB8IChzdHJpbmcgfCBXaWQpW11cclxuKSB7XHJcbiAgY29uc3QgeyBncm91cENoYXQsIHBhcnRpY2lwYW50cyB9ID0gYXdhaXQgZW5zdXJlR3JvdXBBbmRQYXJ0aWNpcGFudHMoXHJcbiAgICBncm91cElkLFxyXG4gICAgcGFydGljaXBhbnRzSWRzXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIHBhcnRpY2lwYW50cy5ldmVyeSgocCkgPT5cclxuICAgIGdyb3VwQ2hhdC5ncm91cE1ldGFkYXRhIS5wYXJ0aWNpcGFudHMuY2FuUHJvbW90ZShwKVxyXG4gICk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IGVuc3VyZUdyb3VwQW5kUGFydGljaXBhbnRzIH0gZnJvbSAnLi8nO1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIHlvdXIgYWNjb3VudCBpcyBhbGxvd2VkIHRvIHJlbW92ZSBwYXJ0aWNpcGFudHNcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBXUFAuZ3JvdXAuY2FuUmVtb3ZlKCdncm91cEBnLnVzJyk7XHJcbiAqIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgR3JvdXBcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5SZW1vdmUoXHJcbiAgZ3JvdXBJZDogc3RyaW5nIHwgV2lkLFxyXG4gIHBhcnRpY2lwYW50c0lkczogKHN0cmluZyB8IFdpZCkgfCAoc3RyaW5nIHwgV2lkKVtdXHJcbikge1xyXG4gIGNvbnN0IHsgZ3JvdXBDaGF0LCBwYXJ0aWNpcGFudHMgfSA9IGF3YWl0IGVuc3VyZUdyb3VwQW5kUGFydGljaXBhbnRzKFxyXG4gICAgZ3JvdXBJZCxcclxuICAgIHBhcnRpY2lwYW50c0lkc1xyXG4gICk7XHJcblxyXG4gIHJldHVybiBwYXJ0aWNpcGFudHMuZXZlcnkoKHApID0+XHJcbiAgICBncm91cENoYXQuZ3JvdXBNZXRhZGF0YSEucGFydGljaXBhbnRzLmNhblJlbW92ZShwKVxyXG4gICk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRXaWQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgKiBhcyBDaGF0IGZyb20gJy4uLy4uL2NoYXQnO1xyXG5pbXBvcnQgeyBnZXRNeVVzZXJXaWQgfSBmcm9tICcuLi8uLi9jb25uL2Z1bmN0aW9ucy9nZXRNeVVzZXJXaWQnO1xyXG5pbXBvcnQgKiBhcyBDb250YWN0IGZyb20gJy4uLy4uL2NvbnRhY3QnO1xyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBDb250YWN0U3RvcmUsIFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0ICogYXMgd2FfZnVuY3Rpb25zIGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG4vKipcclxuICogQ3JlYXRlIGEgbmV3IGdyb3VwXHJcbiAqXHJcbiAqIFRoZSBtZXRob2QgcmV0dXJuIGEgb2JqZWN0IHdpdGggdGhlIHJlc3VsdCBvZiBlYWNoIHBhcnRpY2lwYW50IGFzIHRoZSBrZXlcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBXUFAuZ3JvdXAuY3JlYXRlKCdUZXN0IEdyb3VwJywgWydudW1iZXJAYy51cyddKTtcclxuICpcclxuICogY29uc29sZS5sb2cocmVzdWx0LmdpZC50b1N0cmluZygpKTsgLy8gR2V0IHRoZSBncm91cCBJRFxyXG4gKlxyXG4gKiAvLyBHZXQgcGFydGljaXBhbnQgcmVzdWx0OlxyXG4gKiBjb25zb2xlLmxvZyhyZXN1bHRbJ251bWJlckBjLnVzJ10uY29kZSk7XHJcbiAqIGNvbnNvbGUubG9nKHJlc3VsdFsnbnVtYmVyQGMudXMnXS5pbnZpdGVfY29kZSk7XHJcbiAqIGNvbnNvbGUubG9nKHJlc3VsdFsnbnVtYmVyQGMudXMnXS5pbnZpdGVfY29kZV9leHApO1xyXG4gKiBjb25zb2xlLmxvZyhyZXN1bHRbJ251bWJlckBjLnVzJ10ubWVzc2FnZSk7XHJcbiAqIGNvbnNvbGUubG9nKHJlc3VsdFsnbnVtYmVyQGMudXMnXS53aWQpO1xyXG4gKlxyXG4gKiBjb25zdCBtZW1iZXJSZXN1bHQgPSByZXN1bHRbJ251bWJlckBjLnVzJ107IC8vIFRvIGEgdmFyaWFibGVcclxuICogLy8gb3JcclxuICogY29uc3QgbWVtYmVyUmVzdWx0ID0gT2JqZWN0LnZhbHVlcyhyZXN1bHQpWzBdOyAvLyBBbHdheXMgdGhlIGZpcnN0IG1lbWJlciByZXN1bHRcclxuICpcclxuICogLy8gSG93IHRvIHNlbmQgYSBjdXN0b20gaW52aXRlIGxpbmtcclxuICogY29uc3QgbGluayA9ICdodHRwczovL2NoYXQud2hhdHNhcHAuY29tLycgKyByZXN1bHRbJ251bWJlckBjLnVzJ10uaW52aXRlX2NvZGU7XHJcbiAqIGNvbnNvbGUubG9nKGxpbmspO1xyXG4gKlxyXG4gKiAvLyBDcmVhdGUgYSBTdWJncm91cCBmb3IgYSBjb21tdW5pdHlcclxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgV1BQLmdyb3VwLmNyZWF0ZSgnVGVzdCBHcm91cCcsIFsnbnVtYmVyQGMudXMnXSwgJ2NvbW11bml0QGcudXMnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBHcm91cFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZShcclxuICBncm91cE5hbWU6IHN0cmluZyxcclxuICBwYXJ0aWNpcGFudHNJZHM6IChzdHJpbmcgfCBXaWQpIHwgKHN0cmluZyB8IFdpZClbXSxcclxuICBwYXJlbnRHcm91cDogc3RyaW5nIHwgV2lkXHJcbik6IFByb21pc2U8e1xyXG4gIGdpZDogV2lkO1xyXG4gIHBhcnRpY2lwYW50czoge1xyXG4gICAgW2tleTogYCR7bnVtYmVyfUBjLnVzYF06IHtcclxuICAgICAgd2lkOiBzdHJpbmc7XHJcbiAgICAgIGNvZGU6IG51bWJlcjtcclxuICAgICAgaW52aXRlX2NvZGU6IHN0cmluZyB8IG51bGw7XHJcbiAgICAgIGludml0ZV9jb2RlX2V4cDogbnVtYmVyIHwgbnVsbDtcclxuICAgIH07XHJcbiAgfTtcclxufT4ge1xyXG4gIGlmICghQXJyYXkuaXNBcnJheShwYXJ0aWNpcGFudHNJZHMpKSB7XHJcbiAgICBwYXJ0aWNpcGFudHNJZHMgPSBbcGFydGljaXBhbnRzSWRzXTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHBhcnRpY2lwYW50c1dpZHMgPSBwYXJ0aWNpcGFudHNJZHMubWFwKGFzc2VydFdpZCk7XHJcblxyXG4gIGNvbnN0IG1lV2lkID0gZ2V0TXlVc2VyV2lkKCk7XHJcbiAgY29uc3Qgd2lkczogV2lkW10gPSBbXTtcclxuXHJcbiAgZm9yIChjb25zdCB3aWQgb2YgcGFydGljaXBhbnRzV2lkcykge1xyXG4gICAgaWYgKG1lV2lkLmVxdWFscyh3aWQpKSB7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbnRhY3QgPSBDb250YWN0U3RvcmUuZ2V0KHdpZCk7XHJcbiAgICBpZiAoY29udGFjdCkge1xyXG4gICAgICB3aWRzLnB1c2goY29udGFjdC5pZCk7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGluZm8gPSBhd2FpdCBDb250YWN0LnF1ZXJ5RXhpc3RzKHdpZCk7XHJcblxyXG4gICAgaWYgKCFpbmZvKSB7XHJcbiAgICAgIHRocm93IG5ldyBXUFBFcnJvcigncGFydGljaXBhbnRfbm90X2V4aXN0cycsICdQYXJ0aWNpcGFudCBub3QgZXhpc3RzJywge1xyXG4gICAgICAgIGlkOiB3aWQsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChtZVdpZC5lcXVhbHMoaW5mby53aWQpKSB7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHdpZHMucHVzaChpbmZvLndpZCk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBwYXJlbnRXaWQgPSBwYXJlbnRHcm91cCA/IGFzc2VydFdpZChwYXJlbnRHcm91cCkgOiB1bmRlZmluZWQ7XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdhX2Z1bmN0aW9ucy5zZW5kQ3JlYXRlR3JvdXAoXHJcbiAgICBncm91cE5hbWUsXHJcbiAgICB3aWRzLFxyXG4gICAgdW5kZWZpbmVkLFxyXG4gICAgcGFyZW50V2lkXHJcbiAgKTtcclxuXHJcbiAgaWYgKHJlc3VsdC5naWQpIHtcclxuICAgIGNvbnN0IGNoYXRHcm91cCA9IGF3YWl0IENoYXQuZmluZChyZXN1bHQuZ2lkKTtcclxuXHJcbiAgICAvLyBXYWl0IGdyb3VwIG1ldGEgdG8gYmUgbm90IHN0YWxlXHJcbiAgICBpZiAoY2hhdEdyb3VwLmdyb3VwTWV0YWRhdGE/LnN0YWxlICE9PSBmYWxzZSkge1xyXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgIGNoYXRHcm91cC5vbignY2hhbmdlOmdyb3VwTWV0YWRhdGEuc3RhbGUnLCBmdW5jdGlvbiBmbigpIHtcclxuICAgICAgICAgIGlmIChjaGF0R3JvdXAuZ3JvdXBNZXRhZGF0YT8uc3RhbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgY2hhdEdyb3VwLm9mZignY2hhbmdlOmdyb3VwTWV0YWRhdGEuc3RhbGUnLCBmbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgcGFydGljaXBhbnRzOiB7XHJcbiAgICBba2V5OiBgJHtudW1iZXJ9QGMudXNgXToge1xyXG4gICAgICB3aWQ6IHN0cmluZztcclxuICAgICAgY29kZTogbnVtYmVyO1xyXG4gICAgICBpbnZpdGVfY29kZTogc3RyaW5nIHwgbnVsbDtcclxuICAgICAgaW52aXRlX2NvZGVfZXhwOiBudW1iZXIgfCBudWxsO1xyXG4gICAgfTtcclxuICB9ID0ge307XHJcblxyXG4gIGZvciAoY29uc3QgciBvZiByZXN1bHQucGFydGljaXBhbnRzIHx8IFtdKSB7XHJcbiAgICBsZXQgdXNlcldpZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcbiAgICBsZXQgY29kZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcbiAgICBsZXQgaW52aXRlX2NvZGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG4gICAgbGV0IGludml0ZV9jb2RlX2V4cDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgaWYgKCd1c2VyV2lkJyBpbiByKSB7XHJcbiAgICAgIHVzZXJXaWQgPSByLnVzZXJXaWQudG9TdHJpbmcoKTtcclxuICAgICAgY29kZSA9IHIuY29kZTtcclxuICAgICAgaW52aXRlX2NvZGUgPSByLmludml0ZV9jb2RlO1xyXG4gICAgICBpbnZpdGVfY29kZV9leHAgPSByLmludml0ZV9jb2RlX2V4cDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHVzZXJXaWQgPSBPYmplY3Qua2V5cyhyKVswXSBhcyBgJHtudW1iZXJ9QGMudXNgO1xyXG5cclxuICAgICAgY29uc3QgZCA9IChyIGFzIGFueSlbdXNlcldpZF07XHJcbiAgICAgIGNvZGUgPSBkLmNvZGU7XHJcbiAgICAgIGludml0ZV9jb2RlID0gZC5pbnZpdGVfY29kZTtcclxuICAgICAgaW52aXRlX2NvZGVfZXhwID0gZC5pbnZpdGVfY29kZV9leHA7XHJcbiAgICB9XHJcblxyXG4gICAgcGFydGljaXBhbnRzW3VzZXJXaWQgYXMgYCR7bnVtYmVyfUBjLnVzYF0gPSB7XHJcbiAgICAgIHdpZDogdXNlcldpZCxcclxuICAgICAgY29kZTogTnVtYmVyKGNvZGUpLFxyXG4gICAgICBpbnZpdGVfY29kZTogaW52aXRlX2NvZGUsXHJcbiAgICAgIGludml0ZV9jb2RlX2V4cDogTnVtYmVyKGludml0ZV9jb2RlX2V4cCkgfHwgbnVsbCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgZ2lkOiByZXN1bHQuZ2lkLFxyXG4gICAgcGFydGljaXBhbnRzLFxyXG4gIH07XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCAqIGFzIHdhX2Z1bmN0aW9ucyBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBlbnN1cmVHcm91cEFuZFBhcnRpY2lwYW50cyB9IGZyb20gJy4vZW5zdXJlR3JvdXBBbmRQYXJ0aWNpcGFudHMnO1xyXG5cclxuLyoqXHJcbiAqIFJlbW92ZSBhZG1pbiBvZiBhIGdyb3VwXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gT25lIG1lbWJlclxyXG4gKiBhd2FpdCBXUFAuZ3JvdXAuZGVtb3RlUGFydGljaXBhbnRzKCcxMjM0NTZAZy51cycsICcxMjM0NTZAYy51cycpO1xyXG4gKlxyXG4gKiAvLyBNb3JlIHRoYW4gb25lIG1lbWJlclxyXG4gKiBhd2FpdCBXUFAuZ3JvdXAuZGVtb3RlUGFydGljaXBhbnRzKCcxMjM0NTZAZy51cycsIFsnMTIzNDU2QGMudXMnLCcxMjM0NTZAYy51cyddKTtcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVtb3RlUGFydGljaXBhbnRzKFxyXG4gIGdyb3VwSWQ6IHN0cmluZyB8IFdpZCxcclxuICBwYXJ0aWNpcGFudHNJZHM6IChzdHJpbmcgfCBXaWQpIHwgKHN0cmluZyB8IFdpZClbXVxyXG4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICBjb25zdCB7IGdyb3VwQ2hhdCwgcGFydGljaXBhbnRzIH0gPSBhd2FpdCBlbnN1cmVHcm91cEFuZFBhcnRpY2lwYW50cyhcclxuICAgIGdyb3VwSWQsXHJcbiAgICBwYXJ0aWNpcGFudHNJZHNcclxuICApO1xyXG5cclxuICBpZiAoXHJcbiAgICBwYXJ0aWNpcGFudHMuc29tZShcclxuICAgICAgKHApID0+ICFncm91cENoYXQuZ3JvdXBNZXRhZGF0YT8ucGFydGljaXBhbnRzLmNhbkRlbW90ZShwKVxyXG4gICAgKVxyXG4gICkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnZ3JvdXBfcGFydGljaXBhbnRfaXNfYWxyZWFkeV9ub3RfYV9ncm91cF9hZG1pbicsXHJcbiAgICAgIGBHcm91cCAke2dyb3VwQ2hhdC5pZC5fc2VyaWFsaXplZH06IEdyb3VwIHBhcnRpY2lwYW50IGlzIGFscmVhZHkgbm90IGEgZ3JvdXAgYWRtaW5gXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHdhX2Z1bmN0aW9ucy5kZW1vdGVQYXJ0aWNpcGFudHMoZ3JvdXBDaGF0LCBwYXJ0aWNpcGFudHMpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0R2V0Q2hhdCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7IEdyb3VwTWV0YWRhdGFTdG9yZSwgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuc3VyZUdyb3VwKGdyb3VwSWQ6IHN0cmluZyB8IFdpZCwgY2hlY2tJc0FkbWluID0gZmFsc2UpIHtcclxuICBjb25zdCBncm91cENoYXQgPSBhc3NlcnRHZXRDaGF0KGdyb3VwSWQpO1xyXG5cclxuICBpZiAoIWdyb3VwQ2hhdC5pc0dyb3VwKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICdub3RfYV9ncm91cCcsXHJcbiAgICAgIGBDaGF0ICR7Z3JvdXBDaGF0LmlkLl9zZXJpYWxpemVkfSBpcyBub3QgYSBncm91cGBcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBkYXRhZ3JvdXAgPSBhd2FpdCBHcm91cE1ldGFkYXRhU3RvcmUuZmluZChncm91cENoYXQuaWQpO1xyXG5cclxuICBpZiAoXHJcbiAgICBjaGVja0lzQWRtaW4gJiZcclxuICAgICFkYXRhZ3JvdXAucGFydGljaXBhbnRzLmlBbUFkbWluKCkgJiZcclxuICAgIGRhdGFncm91cC5tZW1iZXJBZGRNb2RlICE9PSAnYWxsX21lbWJlcl9hZGQnXHJcbiAgKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICdncm91cF95b3VfYXJlX25vdF9hZG1pbicsXHJcbiAgICAgIGBZb3UgYXJlIG5vdCBhZG1pbiBpbiAke2dyb3VwQ2hhdC5pZC5fc2VyaWFsaXplZH1gXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGdyb3VwQ2hhdDtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydFdpZCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7IFBhcnRpY2lwYW50TW9kZWwsIFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZW5zdXJlR3JvdXAgfSBmcm9tICcuJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbnN1cmVHcm91cEFuZFBhcnRpY2lwYW50cyhcclxuICBncm91cElkOiBzdHJpbmcgfCBXaWQsXHJcbiAgcGFydGljaXBhbnRzSWRzOiAoc3RyaW5nIHwgV2lkKSB8IChzdHJpbmcgfCBXaWQpW10sXHJcbiAgY3JlYXRlSWZOb3RFeGlzdHMgPSBmYWxzZVxyXG4pIHtcclxuICBjb25zdCBncm91cENoYXQgPSBhd2FpdCBlbnN1cmVHcm91cChncm91cElkLCB0cnVlKTtcclxuXHJcbiAgaWYgKCFBcnJheS5pc0FycmF5KHBhcnRpY2lwYW50c0lkcykpIHtcclxuICAgIHBhcnRpY2lwYW50c0lkcyA9IFtwYXJ0aWNpcGFudHNJZHNdO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgd2lkcyA9IHBhcnRpY2lwYW50c0lkcy5tYXAoYXNzZXJ0V2lkKTtcclxuXHJcbiAgY29uc3QgcGFydGljaXBhbnRzID0gd2lkcy5tYXA8UGFydGljaXBhbnRNb2RlbD4oKHdpZCkgPT4ge1xyXG4gICAgbGV0IHBhcnRpY2lwYW50ID0gZ3JvdXBDaGF0Lmdyb3VwTWV0YWRhdGE/LnBhcnRpY2lwYW50cy5nZXQod2lkKTtcclxuXHJcbiAgICBpZiAoIXBhcnRpY2lwYW50ICYmIGNyZWF0ZUlmTm90RXhpc3RzKSB7XHJcbiAgICAgIHBhcnRpY2lwYW50ID0gbmV3IFBhcnRpY2lwYW50TW9kZWwoe1xyXG4gICAgICAgIGlkOiB3aWQsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghcGFydGljaXBhbnQpIHtcclxuICAgICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAgICdncm91cF9wYXJ0aWNpcGFudF9ub3RfZm91bmQnLFxyXG4gICAgICAgIGBHcm91cCAke2dyb3VwQ2hhdC5pZC5fc2VyaWFsaXplZH06IFBhcnRpY2lwYW50ICcke3BhcnRpY2lwYW50fScgbm90IGZvdW5kYFxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBwYXJ0aWNpcGFudDtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGdyb3VwQ2hhdCxcclxuICAgIHBhcnRpY2lwYW50cyxcclxuICB9O1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZ2V0IH0gZnJvbSAnLi4vLi4vY2hhdCc7XHJcbmltcG9ydCB7IHF1ZXJ5QWxsR3JvdXBzIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbi8qKlxyXG4gKiBHZXQgYWxsIGdyb3Vwc1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIFdQUC5ncm91cC5nZXRBbGxHcm91cHMoKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBHcm91cFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbEdyb3VwcygpIHtcclxuICBjb25zdCBncm91cHNBcnIgPSBbXTtcclxuICBjb25zdCBncm91cHMgPSBhd2FpdCBxdWVyeUFsbEdyb3VwcygpO1xyXG4gIGZvciAoY29uc3QgZ3JwIG9mIGdyb3Vwcykge1xyXG4gICAgZ3JvdXBzQXJyLnB1c2goZ2V0KGdycC5pZCkpO1xyXG4gIH1cclxuICByZXR1cm4gZ3JvdXBzQXJyO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgc2VuZFF1ZXJ5R3JvdXBJbnZpdGUgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuLyoqXHJcbiAqIEdldCBncm91cCBpbmZvIGZyb20gYW4gaW52aXRlQ29kZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGF3YWl0IFdQUC5ncm91cC5nZXRHcm91cEluZm9Gcm9tSW52aXRlQ29kZSgnPGludml0ZUNvZGU+Jyk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgR3JvdXBcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRHcm91cEluZm9Gcm9tSW52aXRlQ29kZShpbnZpdGVDb2RlOiBzdHJpbmcpIHtcclxuICBpbnZpdGVDb2RlID0gaW52aXRlQ29kZS5yZXBsYWNlKCdjaGF0LndoYXRzYXBwLmNvbS8nLCAnJyk7XHJcbiAgaW52aXRlQ29kZSA9IGludml0ZUNvZGUucmVwbGFjZSgnaW52aXRlLycsICcnKTtcclxuICBpbnZpdGVDb2RlID0gaW52aXRlQ29kZS5yZXBsYWNlKCdodHRwczovLycsICcnKTtcclxuICBpbnZpdGVDb2RlID0gaW52aXRlQ29kZS5yZXBsYWNlKCdodHRwOi8vJywgJycpO1xyXG5cclxuICBjb25zdCByZXN1bHQgPSAoYXdhaXQgc2VuZFF1ZXJ5R3JvdXBJbnZpdGUoaW52aXRlQ29kZSkuY2F0Y2goKCkgPT4gbnVsbCkpXHJcbiAgICA/Lmdyb3VwSW5mbztcclxuXHJcbiAgaWYgKCFyZXN1bHQpIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcignaW52YWxpZF9pbnZpdGVfY29kZScsICdJbnZhbGlkIEludml0ZSBDb2RlJywge1xyXG4gICAgICBpbnZpdGVDb2RlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgLi4ucmVzdWx0LFxyXG4gICAgZGVzY093bmVyOiByZXN1bHQuZGVzY093bmVyPy50b1N0cmluZygpLFxyXG4gICAgaWQ6IHJlc3VsdC5pZC50b1N0cmluZygpLFxyXG4gICAgb3duZXI6IHJlc3VsdC5vd25lcj8udG9TdHJpbmcoKSxcclxuICAgIHBhcnRpY2lwYW50czogcmVzdWx0LnBhcnRpY2lwYW50cy5tYXAoKHApID0+ICh7XHJcbiAgICAgIC4uLnAsXHJcbiAgICAgIGlkOiBwLmlkLnRvU3RyaW5nKCksXHJcbiAgICB9KSksXHJcbiAgICBzdWJqZWN0T3duZXI6IHJlc3VsdC5zdWJqZWN0T3duZXI/LnRvU3RyaW5nKCksXHJcbiAgfTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGZ1bmN0aW9ucyB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIG1heCBudW1iZXIgb2YgcGFydGljaXBhbnRzIGZvciBhIGdyb3VwXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogY29uc3QgbGltaXQgPSBhd2FpdCBXUFAuZ3JvdXAuZ2V0R3JvdXBTaXplTGltaXQoKTtcclxuICogY29uc29sZS5sb2cobGltaXQpO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IEdyb3VwXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0R3JvdXBTaXplTGltaXQoKSB7XHJcbiAgY29uc3QgbGltaXQgPSBmdW5jdGlvbnMuZ2V0R3JvdXBTaXplTGltaXQoKTtcclxuXHJcbiAgcmV0dXJuIGxpbWl0O1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBzZW5kUXVlcnlHcm91cEludml0ZUNvZGUgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBlbnN1cmVHcm91cCB9IGZyb20gJy4vJztcclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIGN1cnJlbmQgaW52aXRlIGNvZGUgb2YgdGhlIGdyb3VwXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogY29uc3QgY29kZSA9IFdQUC5ncm91cC5nZXRJbnZpdGVDb2RlKCdbZ3JvdXAtaWRdQGcudXMnKTtcclxuICogY29uc3QgbGluayA9ICdodHRwczovL2NoYXQud2hhdHNhcHAuY29tLycgKyBjb2RlO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IEdyb3VwXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0SW52aXRlQ29kZShncm91cElkOiBzdHJpbmcgfCBXaWQpIHtcclxuICBjb25zdCBncm91cENoYXQgPSBhd2FpdCBlbnN1cmVHcm91cChncm91cElkLCB0cnVlKTtcclxuXHJcbiAgcmV0dXJuIGF3YWl0IHNlbmRRdWVyeUdyb3VwSW52aXRlQ29kZShncm91cENoYXQuaWQpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0V2lkIH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgR3JvdXBNZXRhZGF0YVN0b3JlLCBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IGdldE1lbWJlcnNoaXBBcHByb3ZhbFJlcXVlc3RzIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbi8qKlxyXG4gKiBSZXRyaWV2ZSBhIGxpc3RhIG9mIGEgbWVtYmVyc2hpcCBhcHByb3ZhbCByZXF1ZXN0c1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGF3YWl0IFdQUC5ncm91cC5nZXRNZW1iZXJzaGlwUmVxdWVzdHMoMTIzNDU2NDVAZy51cyk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgR3JvdXBcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNZW1iZXJzaGlwUmVxdWVzdHMoZ3JvdXBJZDogc3RyaW5nIHwgV2lkKTogUHJvbWlzZTxcclxuICB7XHJcbiAgICBhZGRlZEJ5OiBXaWQ7XHJcbiAgICBpZDogV2lkO1xyXG4gICAgcGFyZW50R3JvdXBJZD86IFdpZDtcclxuICAgIHJlcXVlc3RNZXRob2Q6ICdJbnZpdGVMaW5rJyB8ICdMaW5rZWRHcm91cEpvaW4nIHwgJ05vbkFkbWluQWRkJztcclxuICAgIHQ6IG51bWJlcjtcclxuICB9W11cclxuPiB7XHJcbiAgZ3JvdXBJZCA9IGFzc2VydFdpZChncm91cElkKTtcclxuICBhd2FpdCBHcm91cE1ldGFkYXRhU3RvcmUuZmluZChncm91cElkKTtcclxuICByZXR1cm4gYXdhaXQgZ2V0TWVtYmVyc2hpcEFwcHJvdmFsUmVxdWVzdHMoZ3JvdXBJZCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IGVuc3VyZUdyb3VwIH0gZnJvbSAnLi8nO1xyXG5cclxuLyoqXHJcbiAqIEdldCBhbiBhcnJheSBvZiBwYXJ0aWNpcGFudHMgb2YgYSBncm91cFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIFdQUC5ncm91cC5nZXRQYXJ0aWNpcGFudHMoJ1tncm91cC1pZF1AZy51cycpO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IEdyb3VwXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGFydGljaXBhbnRzKGdyb3VwSWQ6IHN0cmluZyB8IFdpZCkge1xyXG4gIGNvbnN0IGdyb3VwQ2hhdCA9IGF3YWl0IGVuc3VyZUdyb3VwKGdyb3VwSWQpO1xyXG4gIHJldHVybiBncm91cENoYXQuZ3JvdXBNZXRhZGF0YSEucGFydGljaXBhbnRzLmdldE1vZGVsc0FycmF5KCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IGVuc3VyZUdyb3VwIH0gZnJvbSAnLi8nO1xyXG5cclxuLyoqXHJcbiAqIEdldCBhbiBhcnJheSBvZiBwYXN0IHBhcnRpY2lwYW50cyBvZiBhIGdyb3VwXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogV1BQLmdyb3VwLmdldFBhc3RQYXJ0aWNpcGFudHMoJ1tncm91cC1pZF1AZy51cycpO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IEdyb3VwXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGFzdFBhcnRpY2lwYW50cyhncm91cElkOiBzdHJpbmcgfCBXaWQpIHtcclxuICBjb25zdCBncm91cENoYXQgPSBhd2FpdCBlbnN1cmVHcm91cChncm91cElkKTtcclxuICByZXR1cm4gZ3JvdXBDaGF0Lmdyb3VwTWV0YWRhdGEhLnBhc3RQYXJ0aWNpcGFudHMuZ2V0TW9kZWxzQXJyYXkoKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZW5zdXJlR3JvdXAgfSBmcm9tICcuLyc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaUFtQWRtaW4oZ3JvdXBJZDogc3RyaW5nIHwgV2lkKSB7XHJcbiAgY29uc3QgZ3JvdXBDaGF0ID0gYXdhaXQgZW5zdXJlR3JvdXAoZ3JvdXBJZCk7XHJcbiAgcmV0dXJuIGdyb3VwQ2hhdC5ncm91cE1ldGFkYXRhIS5wYXJ0aWNpcGFudHMuaUFtQWRtaW4oKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZW5zdXJlR3JvdXAgfSBmcm9tICcuLyc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaUFtTWVtYmVyKGdyb3VwSWQ6IHN0cmluZyB8IFdpZCkge1xyXG4gIGNvbnN0IGdyb3VwQ2hhdCA9IGF3YWl0IGVuc3VyZUdyb3VwKGdyb3VwSWQpO1xyXG4gIHJldHVybiBncm91cENoYXQuZ3JvdXBNZXRhZGF0YSEucGFydGljaXBhbnRzLmlBbU1lbWJlcigpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBlbnN1cmVHcm91cCB9IGZyb20gJy4vJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpQW1SZXN0cmljdGVkTWVtYmVyKGdyb3VwSWQ6IHN0cmluZyB8IFdpZCkge1xyXG4gIGNvbnN0IGdyb3VwQ2hhdCA9IGF3YWl0IGVuc3VyZUdyb3VwKGdyb3VwSWQpO1xyXG4gIHJldHVybiBncm91cENoYXQuZ3JvdXBNZXRhZGF0YSEucGFydGljaXBhbnRzLmlBbVJlc3RyaWN0ZWRNZW1iZXIoKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZW5zdXJlR3JvdXAgfSBmcm9tICcuLyc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaUFtU3VwZXJBZG1pbihncm91cElkOiBzdHJpbmcgfCBXaWQpIHtcclxuICBjb25zdCBncm91cENoYXQgPSBhd2FpdCBlbnN1cmVHcm91cChncm91cElkKTtcclxuICByZXR1cm4gZ3JvdXBDaGF0Lmdyb3VwTWV0YWRhdGEhLnBhcnRpY2lwYW50cy5pQW1NZW1iZXIoKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCB7IGFkZFBhcnRpY2lwYW50cyB9IGZyb20gJy4vYWRkUGFydGljaXBhbnRzJztcclxuZXhwb3J0IHsgYXBwcm92ZSB9IGZyb20gJy4vYXBwcm92ZSc7XHJcbmV4cG9ydCB7IGNhbkFkZCB9IGZyb20gJy4vY2FuQWRkJztcclxuZXhwb3J0IHsgY2FuRGVtb3RlIH0gZnJvbSAnLi9jYW5EZW1vdGUnO1xyXG5leHBvcnQgeyBjYW5Qcm9tb3RlIH0gZnJvbSAnLi9jYW5Qcm9tb3RlJztcclxuZXhwb3J0IHsgY2FuUmVtb3ZlIH0gZnJvbSAnLi9jYW5SZW1vdmUnO1xyXG5leHBvcnQgeyBjcmVhdGUgfSBmcm9tICcuL2NyZWF0ZSc7XHJcbmV4cG9ydCB7IGRlbW90ZVBhcnRpY2lwYW50cyB9IGZyb20gJy4vZGVtb3RlUGFydGljaXBhbnRzJztcclxuZXhwb3J0IHsgZW5zdXJlR3JvdXAgfSBmcm9tICcuL2Vuc3VyZUdyb3VwJztcclxuZXhwb3J0IHsgZW5zdXJlR3JvdXBBbmRQYXJ0aWNpcGFudHMgfSBmcm9tICcuL2Vuc3VyZUdyb3VwQW5kUGFydGljaXBhbnRzJztcclxuZXhwb3J0IHsgZ2V0QWxsR3JvdXBzIH0gZnJvbSAnLi9nZXRBbGxHcm91cHMnO1xyXG5leHBvcnQgeyBnZXRHcm91cEluZm9Gcm9tSW52aXRlQ29kZSB9IGZyb20gJy4vZ2V0R3JvdXBJbmZvRnJvbUludml0ZUNvZGUnO1xyXG5leHBvcnQgeyBnZXRHcm91cFNpemVMaW1pdCB9IGZyb20gJy4vZ2V0R3JvdXBTaXplTGltaXQnO1xyXG5leHBvcnQgeyBnZXRJbnZpdGVDb2RlIH0gZnJvbSAnLi9nZXRJbnZpdGVDb2RlJztcclxuZXhwb3J0IHsgZ2V0TWVtYmVyc2hpcFJlcXVlc3RzIH0gZnJvbSAnLi9nZXRNZW1iZXJzaGlwUmVxdWVzdHMnO1xyXG5leHBvcnQgeyBnZXRQYXJ0aWNpcGFudHMgfSBmcm9tICcuL2dldFBhcnRpY2lwYW50cyc7XHJcbmV4cG9ydCB7IGdldFBhc3RQYXJ0aWNpcGFudHMgfSBmcm9tICcuL2dldFBhc3RQYXJ0aWNpcGFudHMnO1xyXG5leHBvcnQgeyBpQW1BZG1pbiB9IGZyb20gJy4vaUFtQWRtaW4nO1xyXG5leHBvcnQgeyBpQW1NZW1iZXIgfSBmcm9tICcuL2lBbU1lbWJlcic7XHJcbmV4cG9ydCB7IGlBbVJlc3RyaWN0ZWRNZW1iZXIgfSBmcm9tICcuL2lBbVJlc3RyaWN0ZWRNZW1iZXInO1xyXG5leHBvcnQgeyBpQW1TdXBlckFkbWluIH0gZnJvbSAnLi9pQW1TdXBlckFkbWluJztcclxuZXhwb3J0IHsgam9pbiB9IGZyb20gJy4vam9pbic7XHJcbmV4cG9ydCB7IGxlYXZlIH0gZnJvbSAnLi9sZWF2ZSc7XHJcbmV4cG9ydCB7IHByb21vdGVQYXJ0aWNpcGFudHMgfSBmcm9tICcuL3Byb21vdGVQYXJ0aWNpcGFudHMnO1xyXG5leHBvcnQgeyByZWplY3QgfSBmcm9tICcuL3JlamVjdCc7XHJcbmV4cG9ydCB7IHJlbW92ZUljb24gfSBmcm9tICcuL3JlbW92ZUljb24nO1xyXG5leHBvcnQgeyByZW1vdmVQYXJ0aWNpcGFudHMgfSBmcm9tICcuL3JlbW92ZVBhcnRpY2lwYW50cyc7XHJcbmV4cG9ydCB7IHJldm9rZUludml0ZUNvZGUgfSBmcm9tICcuL3Jldm9rZUludml0ZUNvZGUnO1xyXG5leHBvcnQgeyBzZXREZXNjcmlwdGlvbiB9IGZyb20gJy4vc2V0RGVzY3JpcHRpb24nO1xyXG5leHBvcnQgeyBzZXRJY29uIH0gZnJvbSAnLi9zZXRJY29uJztcclxuZXhwb3J0IHsgR3JvdXBQcm9wZXJ0eSwgc2V0UHJvcGVydHkgfSBmcm9tICcuL3NldFByb3BlcnR5JztcclxuZXhwb3J0IHsgc2V0U3ViamVjdCB9IGZyb20gJy4vc2V0U3ViamVjdCc7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgc2VuZEpvaW5Hcm91cFZpYUludml0ZSB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG4vKipcclxuICogSm9pbiBpbiBhIGdyb3VwIGZyb20gYW4gaW52aXRlIGNvZGUuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogYXdhaXQgV1BQLmdyb3VwLmpvaW4oJ2FiY2RlLi4uLicpO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IEdyb3VwXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gam9pbihpbnZpdGVDb2RlOiBzdHJpbmcpIHtcclxuICBpbnZpdGVDb2RlID0gaW52aXRlQ29kZS5yZXBsYWNlKCdjaGF0LndoYXRzYXBwLmNvbS8nLCAnJyk7XHJcbiAgaW52aXRlQ29kZSA9IGludml0ZUNvZGUucmVwbGFjZSgnaW52aXRlLycsICcnKTtcclxuICBpbnZpdGVDb2RlID0gaW52aXRlQ29kZS5yZXBsYWNlKCdodHRwczovLycsICcnKTtcclxuICBpbnZpdGVDb2RlID0gaW52aXRlQ29kZS5yZXBsYWNlKCdodHRwOi8vJywgJycpO1xyXG5cclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kSm9pbkdyb3VwVmlhSW52aXRlKGludml0ZUNvZGUpO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaWQ6IHJlc3VsdC50b1N0cmluZygpLFxyXG4gIH07XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IHNlbmRFeGl0R3JvdXAgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBlbnN1cmVHcm91cCB9IGZyb20gJy4nO1xyXG5cclxuLyoqXHJcbiAqIExlYXZlIGZyb20gYSBncm91cC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAuZ3JvdXAubGVhdmUoJ1tudW1iZXJdQGcudXMnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBHcm91cFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxlYXZlKGdyb3VwSWQ6IHN0cmluZyB8IFdpZCkge1xyXG4gIGNvbnN0IGdyb3VwQ2hhdCA9IGF3YWl0IGVuc3VyZUdyb3VwKGdyb3VwSWQpO1xyXG5cclxuICByZXR1cm4gYXdhaXQgc2VuZEV4aXRHcm91cChncm91cENoYXQpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgKiBhcyB3YV9mdW5jdGlvbnMgZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHsgZW5zdXJlR3JvdXBBbmRQYXJ0aWNpcGFudHMgfSBmcm9tICcuL2Vuc3VyZUdyb3VwQW5kUGFydGljaXBhbnRzJztcclxuXHJcbi8qKlxyXG4gKiBQcm9tb3RlIGdyb3VwIG1lbWJlciB0byBhZG1pblxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIE9uZSBtZW1iZXJcclxuICogYXdhaXQgV1BQLmdyb3VwLnByb21vdGVQYXJ0aWNpcGFudHMoJzEyMzQ1NkBnLnVzJywgJzEyMzQ1NkBjLnVzJyk7XHJcbiAqXHJcbiAqIC8vIE1vcmUgdGhhbiBvbmUgbWVtYmVyXHJcbiAqIGF3YWl0IFdQUC5ncm91cC5wcm9tb3RlUGFydGljaXBhbnRzKCcxMjM0NTZAZy51cycsIFsnMTIzNDU2QGMudXMnLCcxMjM0NTZAYy51cyddKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBHcm91cFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb21vdGVQYXJ0aWNpcGFudHMoXHJcbiAgZ3JvdXBJZDogc3RyaW5nIHwgV2lkLFxyXG4gIHBhcnRpY2lwYW50c0lkczogKHN0cmluZyB8IFdpZCkgfCAoc3RyaW5nIHwgV2lkKVtdXHJcbik6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnN0IHsgZ3JvdXBDaGF0LCBwYXJ0aWNpcGFudHMgfSA9IGF3YWl0IGVuc3VyZUdyb3VwQW5kUGFydGljaXBhbnRzKFxyXG4gICAgZ3JvdXBJZCxcclxuICAgIHBhcnRpY2lwYW50c0lkc1xyXG4gICk7XHJcblxyXG4gIGlmIChcclxuICAgIHBhcnRpY2lwYW50cy5zb21lKFxyXG4gICAgICAocCkgPT4gIWdyb3VwQ2hhdC5ncm91cE1ldGFkYXRhPy5wYXJ0aWNpcGFudHMuY2FuUHJvbW90ZShwKVxyXG4gICAgKVxyXG4gICkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnZ3JvdXBfcGFydGljaXBhbnRfaXNfYWxyZWFkeV9hX2dyb3VwX2FkbWluJyxcclxuICAgICAgYEdyb3VwICR7Z3JvdXBDaGF0LmlkLl9zZXJpYWxpemVkfTogR3JvdXAgcGFydGljaXBhbnQgaXMgYWxyZWFkeSBhIGdyb3VwIGFkbWluYFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB3YV9mdW5jdGlvbnMucHJvbW90ZVBhcnRpY2lwYW50cyhncm91cENoYXQsIHBhcnRpY2lwYW50cyk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRXaWQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IG1lbWJlcnNoaXBBcHByb3ZhbFJlcXVlc3RBY3Rpb24gfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuLyoqXHJcbiAqIFJlamVjdCBhIG1lbWJlcnNoaXAgcmVxdWVzdCB0byBncm91cFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGF3YWl0IFdQUC5ncm91cC5yZWplY3QoMTIzNDU2NDVAZy51cywgNTU1NDk5OTk5OTk5OUBjLnVzKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBHcm91cFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlamVjdChcclxuICBncm91cElkOiBzdHJpbmcgfCBXaWQsXHJcbiAgbWVtYmVyc2hpcElkczogKHN0cmluZyB8IFdpZCkgfCAoc3RyaW5nIHwgV2lkKVtdXHJcbik6IFByb21pc2U8XHJcbiAge1xyXG4gICAgZXJyb3I6IGFueTtcclxuICAgIHdpZDogV2lkO1xyXG4gIH1bXVxyXG4+IHtcclxuICBncm91cElkID0gYXNzZXJ0V2lkKGdyb3VwSWQpO1xyXG4gIGlmICghQXJyYXkuaXNBcnJheShtZW1iZXJzaGlwSWRzKSkge1xyXG4gICAgbWVtYmVyc2hpcElkcyA9IFttZW1iZXJzaGlwSWRzXTtcclxuICB9XHJcbiAgY29uc3Qgd2lkcyA9IG1lbWJlcnNoaXBJZHMubWFwKGFzc2VydFdpZCk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gYXdhaXQgbWVtYmVyc2hpcEFwcHJvdmFsUmVxdWVzdEFjdGlvbihncm91cElkLCB3aWRzLCAnUmVqZWN0Jyk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ2Vycm9yX29uX3JlamVjdF9tZW1iZXJzaGlwX3JlcXVlc3QnLFxyXG4gICAgICBgRXJyb3Igb24gcmVqZWN0IG1lbWJlciBvbiBncm91cCAke2dyb3VwSWQudG9TdHJpbmcoKX1gXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGZ1bmN0aW9ucywgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBlbnN1cmVHcm91cCB9IGZyb20gJy4vJztcclxuXHJcbi8qKlxyXG4gKiBSZW1vdmUgdGhlIGdyb3VwIGljb24gKGdyb3VwIHByb2ZpbGUgcGljdHVyZSlcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAuZ3JvdXAucmVtb3ZlSWNvbignW2dyb3VwQGcudXNdJyk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgR3JvdXBcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmVJY29uKGdyb3VwSWQ6IHN0cmluZyB8IFdpZCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGNvbnN0IGdyb3VwQ2hhdCA9IGF3YWl0IGVuc3VyZUdyb3VwKGdyb3VwSWQpO1xyXG5cclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBmdW5jdGlvbnMucmVxdWVzdERlbGV0ZVBpY3R1cmUoZ3JvdXBDaGF0LmlkKTtcclxuXHJcbiAgcmV0dXJuIHJlc3VsdC5zdGF0dXMgPT09IDIwMDtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydFdpZCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7IFBhcnRpY2lwYW50TW9kZWwsIFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0ICogYXMgd2FfZnVuY3Rpb25zIGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcbmltcG9ydCB7IGVuc3VyZUdyb3VwIH0gZnJvbSAnLi9lbnN1cmVHcm91cCc7XHJcbmltcG9ydCB7IGVuc3VyZUdyb3VwQW5kUGFydGljaXBhbnRzIH0gZnJvbSAnLi9lbnN1cmVHcm91cEFuZFBhcnRpY2lwYW50cyc7XHJcblxyXG4vKipcclxuICogUmVtb3ZlIHBhcnRpY2lwYW50cyBvZiBhIGdyb3VwXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gT25lIG1lbWJlclxyXG4gKiBhd2FpdCBXUFAuZ3JvdXAucmVtb3ZlUGFydGljaXBhbnRzKCcxMjM0NTZAZy51cycsICcxMjM0NTZAYy51cycpO1xyXG4gKlxyXG4gKiAvLyBNb3JlIHRoYW4gb25lIG1lbWJlclxyXG4gKiBhd2FpdCBXUFAuZ3JvdXAucmVtb3ZlUGFydGljaXBhbnRzKCcxMjM0NTZAZy51cycsIFsnMTIzNDU2QGMudXMnLCcxMjM0NTZAYy51cyddKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBHcm91cFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZVBhcnRpY2lwYW50cyhcclxuICBncm91cElkOiBzdHJpbmcgfCBXaWQsXHJcbiAgcGFydGljaXBhbnRzSWRzOiAoc3RyaW5nIHwgV2lkKSB8IChzdHJpbmcgfCBXaWQpW11cclxuKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgaWYgKCFBcnJheS5pc0FycmF5KHBhcnRpY2lwYW50c0lkcykpIHtcclxuICAgIHBhcnRpY2lwYW50c0lkcyA9IFtwYXJ0aWNpcGFudHNJZHNdO1xyXG4gIH1cclxuICBjb25zdCBncm91cENoYXQgPSBhd2FpdCBlbnN1cmVHcm91cChncm91cElkLCB0cnVlKTtcclxuICBjb25zdCB2YWxpZFdpZHM6IFdpZFtdID0gW107XHJcbiAgY29uc3Qgd2lkcyA9IHBhcnRpY2lwYW50c0lkcy5tYXAoYXNzZXJ0V2lkKTtcclxuXHJcbiAgd2lkcy5tYXA8UGFydGljaXBhbnRNb2RlbCB8IGFueT4oKHdpZCkgPT4ge1xyXG4gICAgY29uc3QgcGFydGljaXBhbnQgPSBncm91cENoYXQuZ3JvdXBNZXRhZGF0YT8ucGFydGljaXBhbnRzLmdldCh3aWQpO1xyXG4gICAgaWYgKHBhcnRpY2lwYW50KSB2YWxpZFdpZHMucHVzaCh3aWQpO1xyXG4gIH0pO1xyXG4gIGlmICh2YWxpZFdpZHMubGVuZ3RoID09PSAwKVxyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnbm90X3ZhbGlkX2dyb3VwX3BhcnRpY2lwYW50cycsXHJcbiAgICAgIGBObyB2YWxpZCBwYXJ0aWNpcGFudHMgZm91bmQgZm9yIHRoZSBncm91cCAke2dyb3VwSWR9YFxyXG4gICAgKTtcclxuXHJcbiAgY29uc3QgeyBwYXJ0aWNpcGFudHMgfSA9IGF3YWl0IGVuc3VyZUdyb3VwQW5kUGFydGljaXBhbnRzKGdyb3VwSWQsIHZhbGlkV2lkcyk7XHJcbiAgaWYgKFxyXG4gICAgcGFydGljaXBhbnRzLnNvbWUoXHJcbiAgICAgIChwKSA9PiAhZ3JvdXBDaGF0Lmdyb3VwTWV0YWRhdGE/LnBhcnRpY2lwYW50cy5jYW5SZW1vdmUocClcclxuICAgIClcclxuICApIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ2dyb3VwX3BhcnRpY2lwYW50X2lzX25vdF9hX2dyb3VwX21lbWJlcicsXHJcbiAgICAgIGBHcm91cCAke2dyb3VwQ2hhdC5pZC5fc2VyaWFsaXplZH06IEdyb3VwIHBhcnRpY2lwYW50IGlzIG5vdCBhIGdyb3VwIG1lbWJlcmBcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gd2FfZnVuY3Rpb25zLnJlbW92ZVBhcnRpY2lwYW50cyhncm91cENoYXQsIHBhcnRpY2lwYW50cyk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IHNlbmRSZXZva2VHcm91cEludml0ZUNvZGUgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBlbnN1cmVHcm91cCB9IGZyb20gJy4nO1xyXG5cclxuLyoqXHJcbiAqIFJldm9rZSB0aGUgY3VycmVudCBpbnZpdGUgY29kZSBhbmQgZ2VuZXJhdGUgbmV3IG9uZS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBjb25zdCBjb2RlID0gV1BQLmdyb3VwLnJldm9rZUludml0ZUNvZGUoJ1tncm91cC1pZF1AZy51cycpO1xyXG4gKiBjb25zdCBsaW5rID0gJ2h0dHBzOi8vY2hhdC53aGF0c2FwcC5jb20vJyArIGNvZGU7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgR3JvdXBcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXZva2VJbnZpdGVDb2RlKGdyb3VwSWQ6IHN0cmluZyB8IFdpZCkge1xyXG4gIGNvbnN0IGdyb3VwQ2hhdCA9IGF3YWl0IGVuc3VyZUdyb3VwKGdyb3VwSWQsIHRydWUpO1xyXG5cclxuICByZXR1cm4gYXdhaXQgc2VuZFJldm9rZUdyb3VwSW52aXRlQ29kZShncm91cENoYXQuaWQpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQge1xyXG4gIHJhbmRvbU1lc3NhZ2VJZCxcclxuICBzZW5kU2V0R3JvdXBEZXNjcmlwdGlvbixcclxufSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBlbnN1cmVHcm91cCB9IGZyb20gJy4vJztcclxuXHJcbi8qKlxyXG4gKiBEZWZpbmUgdGhlIGdyb3VwIGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogYXdhaXQgV1BQLmdyb3VwLnNldERlc2NyaXB0aW9uKCdbZ3JvdXAtaWRdQGcudXMnLCAnbmV3IGdyb3VwIGRlc2NyaXB0aW9uJyk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgR3JvdXBcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXREZXNjcmlwdGlvbihcclxuICBncm91cElkOiBzdHJpbmcgfCBXaWQsXHJcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xyXG4pIHtcclxuICBjb25zdCBncm91cENoYXQgPSBhd2FpdCBlbnN1cmVHcm91cChncm91cElkKTtcclxuXHJcbiAgaWYgKCFncm91cENoYXQuZ3JvdXBNZXRhZGF0YT8uY2FuU2V0RGVzY3JpcHRpb24oKSkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAneW91X2FyZV9ub3RfYWxsb3dlZF9zZXRfZ3JvdXBfZGVzY3JpcHRpb24nLFxyXG4gICAgICBgWW91IGFyZSBub3QgYWxsb3dlZCB0byBzZXQgZ3JvdXAgZGVzY3JpcHRpb24gaW4gJHtncm91cENoYXQuaWQuX3NlcmlhbGl6ZWR9YCxcclxuICAgICAge1xyXG4gICAgICAgIGdyb3VwSWQ6IGdyb3VwQ2hhdC5pZC50b1N0cmluZygpLFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHRvZG8gY2hhbmdlIHJhbmRvbU1lc3NhZ2VJZCB0byByYW5kb21IZXhcclxuICAgKi9cclxuICBjb25zdCB0YWdJZCA9IGF3YWl0IFByb21pc2UucmVzb2x2ZShyYW5kb21NZXNzYWdlSWQoKSk7XHJcblxyXG4gIGF3YWl0IHNlbmRTZXRHcm91cERlc2NyaXB0aW9uKFxyXG4gICAgZ3JvdXBDaGF0LmlkLFxyXG4gICAgZGVzY3JpcHRpb24sXHJcbiAgICB0YWdJZCxcclxuICAgIGdyb3VwQ2hhdC5ncm91cE1ldGFkYXRhPy5kZXNjSWRcclxuICApO1xyXG5cclxuICBncm91cENoYXQuZ3JvdXBNZXRhZGF0YSEuZGVzY0lkID0gdGFnSWQ7XHJcbiAgZ3JvdXBDaGF0Lmdyb3VwTWV0YWRhdGEhLmRlc2MgPSBkZXNjcmlwdGlvbjtcclxuXHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBibG9iVG9CYXNlNjQsIGNvbnZlcnRUb0ZpbGUsIHJlc2l6ZUltYWdlLCBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IHNlbmRTZXRQaWN0dXJlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHsgZW5zdXJlR3JvdXAsIGlBbVJlc3RyaWN0ZWRNZW1iZXIgfSBmcm9tICcuLyc7XHJcblxyXG4vKipcclxuICogU2V0IHRoZSBncm91cCBpY29uIChncm91cCBwcm9maWxlIHBpY3R1cmUpXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogYXdhaXQgV1BQLmdyb3VwLnNldEljb24oJ1tncm91cEBnLnVzXScsICdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LC4uLi4uJyk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgR3JvdXBcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRJY29uKFxyXG4gIGdyb3VwSWQ6IHN0cmluZyB8IFdpZCxcclxuICBjb250ZW50OiBzdHJpbmdcclxuKTogUHJvbWlzZTx7XHJcbiAgZXVybDogc3RyaW5nO1xyXG4gIHN0YXR1czogbnVtYmVyO1xyXG4gIHRhZzogc3RyaW5nO1xyXG4gIHRva2VuOiBzdHJpbmc7XHJcbiAgX2R1cGxpY2F0ZTogYm9vbGVhbjtcclxufT4ge1xyXG4gIGNvbnN0IGdyb3VwQ2hhdCA9IGF3YWl0IGVuc3VyZUdyb3VwKGdyb3VwSWQpO1xyXG5cclxuICBpZiAoYXdhaXQgaUFtUmVzdHJpY3RlZE1lbWJlcihncm91cElkKSkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnZ3JvdXBfeW91X2FyZV9yZXN0cmljdGVkX21lbWJlcicsXHJcbiAgICAgIGBZb3UgYXJlIGEgcmVzdHJpY3RlZCBtZW1iZXIgaW4gJHtncm91cENoYXQuaWQuX3NlcmlhbGl6ZWR9YFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGZpbGUgPSBhd2FpdCBjb252ZXJ0VG9GaWxlKGNvbnRlbnQpO1xyXG5cclxuICBjb25zdCB0aHVtYkZpbGUgPSBhd2FpdCByZXNpemVJbWFnZShmaWxlLCB7XHJcbiAgICB3aWR0aDogOTYsXHJcbiAgICBoZWlnaHQ6IDk2LFxyXG4gICAgbWltZVR5cGU6ICdpbWFnZS9qcGVnJyxcclxuICAgIHJlc2l6ZTogJ2NvdmVyJyxcclxuICB9KTtcclxuXHJcbiAgY29uc3QgcGljdHVyZUZpbGUgPSBhd2FpdCByZXNpemVJbWFnZShmaWxlLCB7XHJcbiAgICB3aWR0aDogNjQwLFxyXG4gICAgaGVpZ2h0OiA2NDAsXHJcbiAgICBtaW1lVHlwZTogJ2ltYWdlL2pwZWcnLFxyXG4gICAgcmVzaXplOiAnY292ZXInLFxyXG4gIH0pO1xyXG5cclxuICBjb25zdCB0aHVtYkJhc2U2NCA9IGF3YWl0IGJsb2JUb0Jhc2U2NCh0aHVtYkZpbGUpO1xyXG4gIGNvbnN0IHBpY3R1cmVCYXNlNjQgPSBhd2FpdCBibG9iVG9CYXNlNjQocGljdHVyZUZpbGUpO1xyXG5cclxuICByZXR1cm4gc2VuZFNldFBpY3R1cmUoZ3JvdXBDaGF0LmlkLCB0aHVtYkJhc2U2NCwgcGljdHVyZUJhc2U2NCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IEdST1VQX1NFVFRJTkdfVFlQRSB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2VudW1zJztcclxuaW1wb3J0IHsgc2VuZFNldEdyb3VwUHJvcGVydHkgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBlbnN1cmVHcm91cCB9IGZyb20gJy4vJztcclxuXHJcbmV4cG9ydCBlbnVtIEdyb3VwUHJvcGVydHkge1xyXG4gIEFOTk9VTkNFTUVOVCA9ICdhbm5vdW5jZW1lbnQnLFxyXG4gIEVQSEVNRVJBTCA9ICdlcGhlbWVyYWwnLFxyXG4gIFJFU1RSSUNUID0gJ3Jlc3RyaWN0JyxcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCB0aGUgZ3JvdXAgcHJvcGVydHlcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyBPbmx5IGFkbWlucyBjYW4gc2VuZCBtZXNzYWdlXHJcbiAqIGF3YWl0IFdQUC5ncm91cC5zZXRQcm9wZXJ0eSgnW2dyb3VwLWlkXUBnLnVzJywgJ2Fubm91bmNlbWVudCcsIHRydWUpO1xyXG4gKlxyXG4gKiAvLyBBbGwgY2FuIHNlbmQgbWVzc2FnZVxyXG4gKiBhd2FpdCBXUFAuZ3JvdXAuc2V0UHJvcGVydHkoJ1tncm91cC1pZF1AZy51cycsICdhbm5vdW5jZW1lbnQnLCBmYWxzZSk7XHJcbiAqXHJcbiAqIC8vIERpc2F0YmxlIHRlbXBvcmFyeSBtZXNzYWdlc1xyXG4gKiBhd2FpdCBXUFAuZ3JvdXAuc2V0UHJvcGVydHkoJ1tncm91cC1pZF1AZy51cycsICdlcGhlbWVyYWwnLCAwKTtcclxuICpcclxuICogLy8gRW5hYmxlIHRlbXBvcmFyeSBtZXNzYWdlcyBmb3IgMjQgaG91cnNcclxuICogYXdhaXQgV1BQLmdyb3VwLnNldFByb3BlcnR5KCdbZ3JvdXAtaWRdQGcudXMnLCAnZXBoZW1lcmFsJywgODY0MDApO1xyXG4gKlxyXG4gKiAvLyBFbmFibGUgdGVtcG9yYXJ5IG1lc3NhZ2VzIGZvciA3IGRheXNcclxuICogYXdhaXQgV1BQLmdyb3VwLnNldFByb3BlcnR5KCdbZ3JvdXAtaWRdQGcudXMnLCAnZXBoZW1lcmFsJywgNjA0ODAwKTtcclxuICpcclxuICogLy8gRW5hYmxlIHRlbXBvcmFyeSBtZXNzYWdlcyBmb3IgOTAgZGF5c1xyXG4gKiBhd2FpdCBXUFAuZ3JvdXAuc2V0UHJvcGVydHkoJ1tncm91cC1pZF1AZy51cycsICdlcGhlbWVyYWwnLCA3Nzc2MDAwKTtcclxuICpcclxuICogLy8gT25seSBhZG1pbnMgY2FuIGVkaXQgZ3JvdXAgcHJvcGVydGllc1xyXG4gKiBhd2FpdCBXUFAuZ3JvdXAuc2V0UHJvcGVydHkoJ1tncm91cC1pZF1AZy51cycsICdyZXN0cmljdCcsIHRydWUpO1xyXG4gKlxyXG4gKiAvLyBBbGwgY2FuIGVkaXQgZ3JvdXAgcHJvcGVydGllc1xyXG4gKiBhd2FpdCBXUFAuZ3JvdXAuc2V0UHJvcGVydHkoJ1tncm91cC1pZF1AZy51cycsICdyZXN0cmljdCcsIGZhbHNlKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBHcm91cFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNldFByb3BlcnR5KFxyXG4gIGdyb3VwSWQ6IHN0cmluZyB8IFdpZCxcclxuICBwcm9wZXJ0eTogR3JvdXBQcm9wZXJ0eSxcclxuICB2YWx1ZTogMCB8IDEgfCA4NjQwMCB8IDYwNDgwMCB8IDc3NzYwMDAgfCBib29sZWFuXHJcbikge1xyXG4gIGNvbnN0IGdyb3VwQ2hhdCA9IGF3YWl0IGVuc3VyZUdyb3VwKGdyb3VwSWQpO1xyXG5cclxuICBpZiAoXHJcbiAgICBwcm9wZXJ0eSAhPT0gR3JvdXBQcm9wZXJ0eS5BTk5PVU5DRU1FTlQgJiZcclxuICAgICFncm91cENoYXQuZ3JvdXBNZXRhZGF0YT8uY2FuU2V0R3JvdXBQcm9wZXJ0eSgpXHJcbiAgKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICd5b3VfYXJlX25vdF9hbGxvd2VkX3NldF9ncm91cF9wcm9wZXJ0eScsXHJcbiAgICAgIGBZb3UgYXJlIG5vdCBhbGxvd2VkIHRvIHNldCBwcm9wZXJ0eSBpbiAke2dyb3VwQ2hhdC5pZC5fc2VyaWFsaXplZH1gLFxyXG4gICAgICB7XHJcbiAgICAgICAgZ3JvdXBJZDogZ3JvdXBDaGF0LmlkLnRvU3RyaW5nKCksXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBpZiAoXHJcbiAgICBwcm9wZXJ0eSA9PSBHcm91cFByb3BlcnR5LkFOTk9VTkNFTUVOVCAmJlxyXG4gICAgIWdyb3VwQ2hhdC5ncm91cE1ldGFkYXRhPy5jYW5TZXRFcGhlbWVyYWxTZXR0aW5nKClcclxuICApIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ3lvdV9hcmVfbm90X2FsbG93ZWRfc2V0X2VwaGVtZXJhbF9zZXR0aW5nJyxcclxuICAgICAgYFlvdSBhcmUgbm90IGFsbG93ZWQgdG8gc2V0IGVwaGVtZXJhbCBzZXR0aW5nIGluICR7Z3JvdXBDaGF0LmlkLl9zZXJpYWxpemVkfWAsXHJcbiAgICAgIHtcclxuICAgICAgICBncm91cElkOiBncm91cENoYXQuaWQudG9TdHJpbmcoKSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGlmIChwcm9wZXJ0eSA9PT0gR3JvdXBQcm9wZXJ0eS5FUEhFTUVSQUwpIHtcclxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJyB8fCB2YWx1ZSA9PT0gMSkge1xyXG4gICAgICB2YWx1ZSA9IDYwNDgwMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB0aGUgdmFsdWUgaXMgZGlmZmVyZW50IGZyb20gdGhvc2UgYWxsb3dlZFxyXG4gICAgaWYgKCFbMCwgODY0MDAsIDYwNDgwMCwgNzc3NjAwMF0uaW5jbHVkZXModmFsdWUpKSB7XHJcbiAgICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgICAnaW52YWxpZF9lcGhlbWVyYWxfZHVyYXRpb24nLFxyXG4gICAgICAgICdJbnZhbGlkIGVwaGVtZXJhbCBkdXJhdGlvbicsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBNRCB1c2VzIG51bWJlclxyXG4gICAgdmFsdWUgPSB2YWx1ZSA/IDEgOiAwO1xyXG4gIH1cclxuXHJcbiAgYXdhaXQgc2VuZFNldEdyb3VwUHJvcGVydHkoXHJcbiAgICBncm91cENoYXQuaWQsXHJcbiAgICBwcm9wZXJ0eSBhcyB1bmtub3duIGFzIEdST1VQX1NFVFRJTkdfVFlQRSxcclxuICAgIHZhbHVlXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IHNlbmRTZXRHcm91cFN1YmplY3QgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBlbnN1cmVHcm91cCB9IGZyb20gJy4vJztcclxuXHJcbi8qKlxyXG4gKiBEZWZpbmUgdGhlIGdyb3VwIHN1YmplY3RcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAuZ3JvdXAuc2V0U3ViamVjdCgnW2dyb3VwLWlkXUBnLnVzJywgJ25ldyBncm91cCBzdWJqZWN0Jyk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgR3JvdXBcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRTdWJqZWN0KGdyb3VwSWQ6IHN0cmluZyB8IFdpZCwgc3ViamVjdDogc3RyaW5nKSB7XHJcbiAgY29uc3QgZ3JvdXBDaGF0ID0gYXdhaXQgZW5zdXJlR3JvdXAoZ3JvdXBJZCk7XHJcblxyXG4gIGlmICghZ3JvdXBDaGF0Lmdyb3VwTWV0YWRhdGE/LmNhblNldFN1YmplY3QoKSkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAneW91X2FyZV9ub3RfYWxsb3dlZF9zZXRfZ3JvdXBfc3ViamVjdCcsXHJcbiAgICAgIGBZb3UgYXJlIG5vdCBhbGxvd2VkIHRvIHNldCBncm91cCBzdWJqZWN0IGluICR7Z3JvdXBDaGF0LmlkLl9zZXJpYWxpemVkfWAsXHJcbiAgICAgIHtcclxuICAgICAgICBncm91cElkOiBncm91cENoYXQuaWQudG9TdHJpbmcoKSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGF3YWl0IHNlbmRTZXRHcm91cFN1YmplY3QoZ3JvdXBDaGF0LmlkLCBzdWJqZWN0KTtcclxuXHJcbiAgZ3JvdXBDaGF0Lm5hbWUgPSBzdWJqZWN0O1xyXG4gIGdyb3VwQ2hhdC5mb3JtYXR0ZWRUaXRsZSA9IHN1YmplY3Q7XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICcuL2V2ZW50cyc7XHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2Z1bmN0aW9ucyc7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICd0eXBlc2NyaXB0LWRlYm91bmNlLWRlY29yYXRvcic7XHJcblxyXG5mdW5jdGlvbiByYW5kb21OdW1iZXIobWluID0gMCwgbWF4ID0gMjE0NzQ4MzY0Nykge1xyXG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkgKyBtaW4pO1xyXG59XHJcblxyXG4vKipcclxuICogW1RyYWNrZXIgZGVzY3JpcHRpb25dXHJcbiAqXHJcbiAqIEBzZWUgaHR0cHM6Ly93d3cudGh5bmdzdGVyLmNvbS9nYTQtbWVhc3VyZW1lbnQtcHJvdG9jb2wtY2hlYXRzaGVldC9cclxuICovXHJcbmV4cG9ydCBjbGFzcyBUcmFja2VyIHtcclxuICBzdGF0aWMgY29sbGVjdFVSTCA9ICdodHRwczovL2FuYWx5dGljcy5nb29nbGUuY29tL2cvY29sbGVjdCc7XHJcbiAgc3RhdGljIHBhZ2VMb2FkSGFzaCA9IHJhbmRvbU51bWJlcigpO1xyXG5cclxuICBzdGF0aWMgZ2V0IGNsaWVudFN0YXRlKCkge1xyXG4gICAgY29uc3QgZmlyc3RWaXNpdCA9ICFsb2NhbFN0b3JhZ2VbJ2NpZCddO1xyXG5cclxuICAgIGNvbnN0IGNpZCA9XHJcbiAgICAgIGxvY2FsU3RvcmFnZVsnY2lkJ10gfHxcclxuICAgICAgc2Vzc2lvblN0b3JhZ2VbJ2NpZCddIHx8XHJcbiAgICAgIHJhbmRvbU51bWJlcigxMDAwMDAwMDAwKSArICcuJyArIE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xyXG5cclxuICAgIGxvY2FsU3RvcmFnZVsnY2lkJ10gPSBzZXNzaW9uU3RvcmFnZVsnY2lkJ10gPSBjaWQ7XHJcblxyXG4gICAgcmV0dXJuIHsgZmlyc3RWaXNpdCwgY2lkIH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGV2ZW50czogW1xyXG4gICAgc3RyaW5nLFxyXG4gICAgUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbj4gfCB1bmRlZmluZWQsXHJcbiAgICBudW1iZXIsXHJcbiAgXVtdID0gW107XHJcbiAgcHJpdmF0ZSB1c2VyUHJvcGVydGllczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xyXG5cclxuICBwcml2YXRlIGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcclxuICBwcml2YXRlIGhpdHNDb3VudCA9IDE7XHJcblxyXG4gIHB1YmxpYyBkb2N1bWVudFRpdGxlID0gJyc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHRyYWNraW5nSWQ6IHN0cmluZykge31cclxuXHJcbiAgcHJpdmF0ZSBnZXQgc2lkKCkge1xyXG4gICAgY29uc3Qgc2lkX2tleSA9IGAke3RoaXMudHJhY2tpbmdJZH1fc2lkYDtcclxuXHJcbiAgICBjb25zdCBzaWQgPSBzZXNzaW9uU3RvcmFnZVtzaWRfa2V5XSB8fCBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcclxuXHJcbiAgICBzZXNzaW9uU3RvcmFnZVtzaWRfa2V5XSA9IHNpZDtcclxuXHJcbiAgICByZXR1cm4gc2lkO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXQgc2N0KCkge1xyXG4gICAgY29uc3Qgc2N0X2tleSA9IGAke3RoaXMudHJhY2tpbmdJZH1fc2N0YDtcclxuICAgIGxldCBjb3VudCA9IHBhcnNlSW50KGxvY2FsU3RvcmFnZVtzY3Rfa2V5XSk7XHJcblxyXG4gICAgaWYgKGlzTmFOKGNvdW50KSkge1xyXG4gICAgICBjb3VudCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgbG9jYWxTdG9yYWdlW3NjdF9rZXldID0gY291bnQgKyAxO1xyXG5cclxuICAgIHJldHVybiBsb2NhbFN0b3JhZ2Vbc2N0X2tleV07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldEhlYWRlcigpIHtcclxuICAgIGNvbnN0IHsgY2lkLCBmaXJzdFZpc2l0IH0gPSBUcmFja2VyLmNsaWVudFN0YXRlO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHY6IDIsIC8vIFByb3RvY29sIFZlcnNpb25cclxuICAgICAgdGlkOiB0aGlzLnRyYWNraW5nSWQsIC8vIE1lYXN1cmVtZW50IElEXHJcbiAgICAgIF9wOiBUcmFja2VyLnBhZ2VMb2FkSGFzaCxcclxuICAgICAgY2lkOiBjaWQsIC8vIENsaWVudCBJRFxyXG4gICAgICBfZnY6IGZpcnN0VmlzaXQgPyAxIDogdm9pZCAwLCAvLyBDbGllbnQgSURcclxuICAgICAgdWw6IChuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgJycpLnRvTG93ZXJDYXNlKCkgfHwgdm9pZCAwLCAvLyBVc2VyIExhbmd1YWdlXHJcbiAgICAgIHNyOiBgJHtzY3JlZW4ud2lkdGh9eCR7c2NyZWVuLmhlaWdodH1gLCAvLyBTY3JlZW4gUmVzb2x1dGlvblxyXG4gICAgICBfczogdGhpcy5oaXRzQ291bnQrKywgLy8gU2Vzc2lvbiBIaXRzIGNvdW50XHJcbiAgICAgIHNpZDogdGhpcy5zaWQsIC8vIFNlc3Npb24gSURcclxuICAgICAgc2N0OiB0aGlzLnNjdCwgLy8gU2Vzc2lvbiBDb3VudFxyXG4gICAgICBzZWc6IDEsIC8vIFNlc3Npb24gRW5nYWdlZFxyXG4gICAgICBkbDogbG9jYXRpb24uaHJlZiwgLy8gRG9jdW1lbnQgbG9jYXRpb25cclxuICAgICAgZHI6IGRvY3VtZW50LnJlZmVycmVyLCAvLyBEb2N1bWVudCByZWZlcnJlclxyXG4gICAgICBkdDogdGhpcy5kb2N1bWVudFRpdGxlIHx8IGRvY3VtZW50LnRpdGxlLCAvLyBEb2N1bWVudCB0aXRsZVxyXG4gICAgICAvLyAgIF9kYmc6IDEsIC8vIERlYnVnXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSBjdXJyZW50IHVzZXIgcHJvcGVydGllc1xyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0VXNlclByb3BlcnRpZXMoKSB7XHJcbiAgICBjb25zdCB1c2VyUHJvcGVydGllcyA9IHRoaXMudXNlclByb3BlcnRpZXM7XHJcbiAgICB0aGlzLnVzZXJQcm9wZXJ0aWVzID0ge307XHJcblxyXG4gICAgY29uc3QgZGF0YSA9IE9iamVjdC5lbnRyaWVzKHVzZXJQcm9wZXJ0aWVzKVxyXG4gICAgICAuZmlsdGVyKChbLCB2XSkgPT4gdHlwZW9mIHYgIT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAubWFwKChbaywgdl0pID0+IHtcclxuICAgICAgICBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICByZXR1cm4gW2B1cG4uJHtrfWAsIFN0cmluZyh2KV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbYHVwLiR7a31gLCBTdHJpbmcodildO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFByb2Nlc3MgYWxsIHF1ZXVlZCBldmVudHNcclxuICAgKi9cclxuICBAZGVib3VuY2UoMTAwMClcclxuICBwcml2YXRlIHByb2Nlc3NFdmVudHMoKSB7XHJcbiAgICBjb25zdCBldmVudHMgPSB0aGlzLmV2ZW50cztcclxuICAgIHRoaXMuZXZlbnRzID0gW107XHJcblxyXG4gICAgaWYgKCFldmVudHMubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBldmVudHNEYXRhID0gZXZlbnRzLm1hcCgoW25hbWUsIHBhcmFtcywgdGltZV0pID0+IHtcclxuICAgICAgY29uc3QgZGF0YTogW3N0cmluZywgc3RyaW5nXVtdID0gW107XHJcblxyXG4gICAgICBkYXRhLnB1c2goWydlbicsIG5hbWVdKTtcclxuICAgICAgZGF0YS5wdXNoKFsnX2VlJywgJzEnXSk7XHJcblxyXG4gICAgICBpZiAocGFyYW1zKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrIGluIHBhcmFtcykge1xyXG4gICAgICAgICAgY29uc3QgdiA9IHBhcmFtc1trXTtcclxuICAgICAgICAgIGlmICh0eXBlb2YgdiA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICBkYXRhLnB1c2goW2BlcG4uJHtrfWAsIFN0cmluZyh2KV0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGF0YS5wdXNoKFtgZXAuJHtrfWAsIFN0cmluZyh2KV0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZGF0YS5wdXNoKFsnX2V0JywgU3RyaW5nKHRpbWUpXSk7XHJcblxyXG4gICAgICByZXR1cm4gZGF0YTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGhlYWRlciA9IE9iamVjdC5lbnRyaWVzKHRoaXMuZ2V0SGVhZGVyKCkpXHJcbiAgICAgIC5maWx0ZXIoKFssIHZdKSA9PiB0eXBlb2YgdiAhPT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgIC5tYXAoKFtrLCB2XSkgPT4gW2ssIFN0cmluZyh2KV0pO1xyXG5cclxuICAgIGhlYWRlci5wdXNoKC4uLnRoaXMuZ2V0VXNlclByb3BlcnRpZXMoKSk7XHJcblxyXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhoZWFkZXIpO1xyXG5cclxuICAgIGlmIChldmVudHNEYXRhLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBldmVudHNEYXRhWzBdKSB7XHJcbiAgICAgICAgdXJsLmFwcGVuZChrLCB2KTtcclxuICAgICAgfVxyXG4gICAgICBuYXZpZ2F0b3Iuc2VuZEJlYWNvbihgJHtUcmFja2VyLmNvbGxlY3RVUkx9PyR7dXJsLnRvU3RyaW5nKCl9YCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBTZW5kIGEgYmF0Y2ggb2YgZXZlbnRzXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBldmVudHNEYXRhLm1hcCgoZSkgPT4gbmV3IFVSTFNlYXJjaFBhcmFtcyhlKS50b1N0cmluZygpKTtcclxuXHJcbiAgICAgIG5hdmlnYXRvci5zZW5kQmVhY29uKFxyXG4gICAgICAgIGAke1RyYWNrZXIuY29sbGVjdFVSTH0/JHt1cmwudG9TdHJpbmcoKX1gLFxyXG4gICAgICAgIGRhdGEuam9pbignXFxuJylcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlbmQgYSB1c2VyIGVuZ2FnZW1lbnQgZWFjaCA1IG1pbnV0ZXNcclxuICAgKi9cclxuICBAZGVib3VuY2UoMzAwMDAwKVxyXG4gIHByaXZhdGUgcHJvY2Vzc1VzZXJFbmdhZ2VtZW50KCkge1xyXG4gICAgdGhpcy50cmFja0V2ZW50KCd1c2VyX2VuZ2FnZW1lbnQnKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB0cmFja0V2ZW50KFxyXG4gICAgZXZlbnROYW1lOiBzdHJpbmcsXHJcbiAgICBwYXJhbXM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuPlxyXG4gICkge1xyXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgIGNvbnN0IHRpbWUgPSBub3cgLSB0aGlzLmxhc3RUaW1lO1xyXG4gICAgdGhpcy5sYXN0VGltZSA9IG5vdztcclxuXHJcbiAgICB0aGlzLmV2ZW50cy5wdXNoKFtldmVudE5hbWUsIHBhcmFtcywgdGltZV0pO1xyXG4gICAgdGhpcy5wcm9jZXNzRXZlbnRzKCk7XHJcbiAgICB0aGlzLnByb2Nlc3NVc2VyRW5nYWdlbWVudCgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldFVzZXJQcm9wZXJ0eShrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xyXG4gICAgdGhpcy51c2VyUHJvcGVydGllc1trZXldID0gdmFsdWU7XHJcbiAgICB0aGlzLnRyYWNrRXZlbnQoJ3VzZXJfZW5nYWdlbWVudCcpO1xyXG4gIH1cclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjIgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XHJcbmltcG9ydCAqIGFzIGNvbm4gZnJvbSAnLi4vY29ubic7XHJcbmltcG9ydCB7IGludGVybmFsRXYgfSBmcm9tICcuLi9ldmVudEVtaXR0ZXInO1xyXG5pbXBvcnQgeyBUcmFja2VyIH0gZnJvbSAnLi9UcmFja2VyJztcclxuXHJcbmV4cG9ydCAqIGZyb20gJy4vVHJhY2tlcic7XHJcblxyXG5kZWNsYXJlIGNvbnN0IF9fVkVSU0lPTl9fOiBzdHJpbmc7XHJcbmV4cG9ydCBjb25zdCB3YVZlcnNpb24gPSBfX1ZFUlNJT05fXztcclxuXHJcbi8qKlxyXG4gKiBBbHdheXMga2VlcCB0aGUgbWFpbiB0cmFja2VyIG9ubHkgZm9yIHZlcnNpb24gcmVwb3J0XHJcbiAqL1xyXG5jb25zdCB0aXRsZVBhcnRzID0gWydXOiAnLCAnLScsICcsIFdBLUpTOiAnLCB3YVZlcnNpb25dO1xyXG5cclxuY29uc3QgbWFpblRyYWNrZXIgPSBuZXcgVHJhY2tlcignRy1NVFE0S1kxMTBGJyk7XHJcblxyXG5jb25zdCBvdGhlclRyYWNrZXIgPSBjb25maWcuZ29vZ2xlQW5hbHl0aWNzSWRcclxuICA/IG5ldyBUcmFja2VyKGNvbmZpZy5nb29nbGVBbmFseXRpY3NJZClcclxuICA6IG51bGw7XHJcblxyXG5pbnRlcm5hbEV2Lm9uKCd3ZWJwYWNrLmluamVjdGVkJywgKCkgPT4ge1xyXG4gIGNvbnN0IGF1dGhlbnRpY2F0ZWQgPSBjb25uLmlzQXV0aGVudGljYXRlZCgpO1xyXG4gIGNvbnN0IG1ldGhvZCA9IGNvbm4uaXNNdWx0aURldmljZSgpID8gJ211bHRpZGV2aWNlJyA6ICdsZWdhY3knO1xyXG5cclxuICAvLyBBZGQgdmVyc2lvbiBpbmZvXHJcbiAgaWYgKCFjb25maWcuZGlzYWJsZUdvb2dsZUFuYWx5dGljcykge1xyXG4gICAgbWFpblRyYWNrZXIuZG9jdW1lbnRUaXRsZSA9IHRpdGxlUGFydHMuam9pbignJyk7XHJcblxyXG4gICAgbWFpblRyYWNrZXIuc2V0VXNlclByb3BlcnR5KCdtZXRob2QnLCBtZXRob2QpO1xyXG4gICAgbWFpblRyYWNrZXIuc2V0VXNlclByb3BlcnR5KCd3YV9qcycsIHdhVmVyc2lvbik7XHJcbiAgICBtYWluVHJhY2tlci5zZXRVc2VyUHJvcGVydHkoJ3Bvd2VyZWRfYnknLCBjb25maWcucG93ZXJlZEJ5IHx8ICctJyk7XHJcbiAgfVxyXG5cclxuICBpbnRlcm5hbEV2Lm9uKCdjb25uLm1haW5faW5pdCcsICgpID0+IHtcclxuICAgIHRpdGxlUGFydHNbMV0gPSAod2luZG93IGFzIGFueSkuRGVidWc/LlZFUlNJT04gfHwgJy0nO1xyXG5cclxuICAgIGlmICghY29uZmlnLmRpc2FibGVHb29nbGVBbmFseXRpY3MpIHtcclxuICAgICAgbWFpblRyYWNrZXIuZG9jdW1lbnRUaXRsZSA9IHRpdGxlUGFydHMuam9pbignJyk7XHJcblxyXG4gICAgICBtYWluVHJhY2tlci5zZXRVc2VyUHJvcGVydHkoJ3doYXRzYXBwJywgdGl0bGVQYXJ0c1sxXSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGlmIChvdGhlclRyYWNrZXIgJiYgIWNvbmZpZy5kaXNhYmxlR29vZ2xlQW5hbHl0aWNzKSB7XHJcbiAgICBtYWluVHJhY2tlci50cmFja0V2ZW50KCdwYWdlX3ZpZXcnLCB7IGF1dGhlbnRpY2F0ZWQsIG1ldGhvZCB9KTtcclxuXHJcbiAgICBvdGhlclRyYWNrZXIuZG9jdW1lbnRUaXRsZSA9IHRpdGxlUGFydHMuam9pbignLScpO1xyXG5cclxuICAgIG90aGVyVHJhY2tlci5zZXRVc2VyUHJvcGVydHkoJ21ldGhvZCcsIG1ldGhvZCk7XHJcbiAgICBvdGhlclRyYWNrZXIuc2V0VXNlclByb3BlcnR5KCd3YV9qcycsIHdhVmVyc2lvbik7XHJcbiAgICBvdGhlclRyYWNrZXIuc2V0VXNlclByb3BlcnR5KCdwb3dlcmVkX2J5JywgY29uZmlnLnBvd2VyZWRCeSB8fCAnLScpO1xyXG4gICAgaW50ZXJuYWxFdi5vbignY29ubi5tYWluX2luaXQnLCAoKSA9PiB7XHJcbiAgICAgIHRpdGxlUGFydHNbMV0gPSAod2luZG93IGFzIGFueSkuRGVidWc/LlZFUlNJT04gfHwgJy0nO1xyXG5cclxuICAgICAgb3RoZXJUcmFja2VyLmRvY3VtZW50VGl0bGUgPSB0aXRsZVBhcnRzLmpvaW4oJycpO1xyXG5cclxuICAgICAgb3RoZXJUcmFja2VyLnNldFVzZXJQcm9wZXJ0eSgnd2hhdHNhcHAnLCB0aXRsZVBhcnRzWzFdKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICh0eXBlb2YgY29uZmlnLmdvb2dsZUFuYWx5dGljc1VzZXJQcm9wZXJ0eSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29uZmlnLmdvb2dsZUFuYWx5dGljc1VzZXJQcm9wZXJ0eSkge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gY29uZmlnLmdvb2dsZUFuYWx5dGljc1VzZXJQcm9wZXJ0eVtrZXldO1xyXG4gICAgICAgIG90aGVyVHJhY2tlci5zZXRVc2VyUHJvcGVydHkoa2V5LCB2YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvdGhlclRyYWNrZXIudHJhY2tFdmVudCgncGFnZV92aWV3JywgeyBhdXRoZW50aWNhdGVkLCBtZXRob2QgfSk7XHJcbiAgfVxyXG5cclxuICBpbnRlcm5hbEV2Lm9uKCdjb25maWcudXBkYXRlJywgKGV2dCkgPT4ge1xyXG4gICAgaWYgKCFjb25maWcuZGlzYWJsZUdvb2dsZUFuYWx5dGljcykge1xyXG4gICAgICBpZiAoZXZ0LnBhdGhbMF0gPT09ICdwb3dlcmVkQnknKSB7XHJcbiAgICAgICAgbWFpblRyYWNrZXIuc2V0VXNlclByb3BlcnR5KCdwb3dlcmVkX2J5JywgZXZ0LnZhbHVlIHx8ICctJyk7XHJcbiAgICAgICAgaWYgKG90aGVyVHJhY2tlcikge1xyXG4gICAgICAgICAgb3RoZXJUcmFja2VyLnNldFVzZXJQcm9wZXJ0eSgncG93ZXJlZF9ieScsIGV2dC52YWx1ZSB8fCAnLScpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICBldnQucGF0aFswXSA9PT0gJ2dvb2dsZUFuYWx5dGljc1VzZXJQcm9wZXJ0eScgJiZcclxuICAgICAgICBvdGhlclRyYWNrZXJcclxuICAgICAgKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcuZ29vZ2xlQW5hbHl0aWNzVXNlclByb3BlcnR5ID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29uZmlnLmdvb2dsZUFuYWx5dGljc1VzZXJQcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNvbmZpZy5nb29nbGVBbmFseXRpY3NVc2VyUHJvcGVydHlba2V5XTtcclxuICAgICAgICAgICAgb3RoZXJUcmFja2VyLnNldFVzZXJQcm9wZXJ0eShrZXksIHZhbHVlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxufSk7XHJcblxyXG5pZiAoIWNvbmZpZy5kaXNhYmxlR29vZ2xlQW5hbHl0aWNzKSB7XHJcbiAgaW50ZXJuYWxFdi5vbignY29ubi5hdXRoZW50aWNhdGVkJywgKCkgPT4ge1xyXG4gICAgY29uc3QgbWV0aG9kID0gY29ubi5pc011bHRpRGV2aWNlKCkgPyAnbXVsdGlkZXZpY2UnIDogJ2xlZ2FjeSc7XHJcbiAgICBtYWluVHJhY2tlci50cmFja0V2ZW50KCdsb2dpbicsIHsgbWV0aG9kIH0pO1xyXG4gICAgaWYgKG90aGVyVHJhY2tlcikge1xyXG4gICAgICBtYWluVHJhY2tlci50cmFja0V2ZW50KCdsb2dpbicsIHsgbWV0aG9kIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBpbnRlcm5hbEV2Lm9uKCdjb25uLmxvZ291dCcsICgpID0+IHtcclxuICAgIGNvbnN0IG1ldGhvZCA9IGNvbm4uaXNNdWx0aURldmljZSgpID8gJ211bHRpZGV2aWNlJyA6ICdsZWdhY3knO1xyXG4gICAgbWFpblRyYWNrZXIudHJhY2tFdmVudCgnbG9nb3V0JywgeyBtZXRob2QgfSk7XHJcbiAgICBpZiAob3RoZXJUcmFja2VyKSB7XHJcbiAgICAgIG90aGVyVHJhY2tlci50cmFja0V2ZW50KCdsb2dvdXQnLCB7IG1ldGhvZCB9KTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrRXhjZXB0aW9uKGRlc2NyaXB0aW9uOiBzdHJpbmcsIGZhdGFsID0gZmFsc2UpIHtcclxuICBpZiAoY29uZmlnLmRpc2FibGVHb29nbGVBbmFseXRpY3MpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIG1haW5UcmFja2VyLnRyYWNrRXZlbnQoJ2V4Y2VwdGlvbicsIHsgZGVzY3JpcHRpb24sIGZhdGFsIH0pO1xyXG4gIGlmIChvdGhlclRyYWNrZXIpIHtcclxuICAgIG90aGVyVHJhY2tlci50cmFja0V2ZW50KCdleGNlcHRpb24nLCB7IGRlc2NyaXB0aW9uLCBmYXRhbCB9KTtcclxuICB9XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG4vKiBlc2xpbnQtZGlzYWJsZSBzaW1wbGUtaW1wb3J0LXNvcnQvZXhwb3J0cyAqL1xyXG4vKiBlc2xpbnQtZGlzYWJsZSBzaW1wbGUtaW1wb3J0LXNvcnQvaW1wb3J0cyAqL1xyXG5pbXBvcnQgJy4vY29uZmlnJztcclxuaW1wb3J0ICcuL2RldmljZU5hbWUnO1xyXG5pbXBvcnQgJy4vZ3RhZyc7XHJcblxyXG5pbXBvcnQgKiBhcyB3ZWJwYWNrIGZyb20gJy4vd2VicGFjayc7XHJcblxyXG5leHBvcnQgeyB3ZWJwYWNrIH07XHJcbmV4cG9ydCB7IGlzSW5qZWN0ZWQsIGlzUmVhZHksIGlzRnVsbFJlYWR5IH0gZnJvbSAnLi93ZWJwYWNrJztcclxuXHJcbmV4cG9ydCB7IGNvbmZpZywgQ29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xyXG5cclxuZXhwb3J0ICogYXMgYmxvY2tsaXN0IGZyb20gJy4vYmxvY2tsaXN0JztcclxuZXhwb3J0ICogYXMgY2FsbCBmcm9tICcuL2NhbGwnO1xyXG5leHBvcnQgKiBhcyBjYXJ0IGZyb20gJy4vY2FydCc7XHJcbmV4cG9ydCAqIGFzIHByaXZhY3kgZnJvbSAnLi9wcml2YWN5JztcclxuZXhwb3J0ICogYXMgY2F0YWxvZyBmcm9tICcuL2NhdGFsb2cnO1xyXG5leHBvcnQgKiBhcyBjaGF0IGZyb20gJy4vY2hhdCc7XHJcbmV4cG9ydCAqIGFzIGNvbm4gZnJvbSAnLi9jb25uJztcclxuZXhwb3J0ICogYXMgY29udGFjdCBmcm9tICcuL2NvbnRhY3QnO1xyXG5leHBvcnQgKiBhcyBldiBmcm9tICcuL2V2ZW50RW1pdHRlcic7XHJcbmV4cG9ydCAqIGFzIGNvbW11bml0eSBmcm9tICcuL2NvbW11bml0eSc7XHJcbmV4cG9ydCAqIGFzIGdyb3VwIGZyb20gJy4vZ3JvdXAnO1xyXG5leHBvcnQgKiBhcyBsYWJlbHMgZnJvbSAnLi9sYWJlbHMnO1xyXG5leHBvcnQgKiBhcyBwcm9maWxlIGZyb20gJy4vcHJvZmlsZSc7XHJcbmV4cG9ydCAqIGFzIHN0YXR1cyBmcm9tICcuL3N0YXR1cyc7XHJcbmV4cG9ydCAqIGFzIHV0aWwgZnJvbSAnLi91dGlsJztcclxuZXhwb3J0ICogYXMgbmV3c2xldHRlciBmcm9tICcuL25ld3NsZXR0ZXInO1xyXG5leHBvcnQgKiBhcyB3aGF0c2FwcCBmcm9tICcuL3doYXRzYXBwJztcclxuZXhwb3J0ICogYXMgb3JkZXIgZnJvbSAnLi9vcmRlcic7XHJcblxyXG5leHBvcnQge1xyXG4gIGVtaXQsXHJcbiAgZW1pdEFzeW5jLFxyXG4gIGV2ZW50TmFtZXMsXHJcbiAgZ2V0TWF4TGlzdGVuZXJzLFxyXG4gIGhhc0xpc3RlbmVycyxcclxuICBsaXN0ZW5UbyxcclxuICBsaXN0ZW5lckNvdW50LFxyXG4gIGxpc3RlbmVycyxcclxuICBsaXN0ZW5lcnNBbnksXHJcbiAgbWFueSxcclxuICBvZmYsXHJcbiAgb2ZmQW55LFxyXG4gIG9uLFxyXG4gIG9uQW55LFxyXG4gIG9uY2UsXHJcbiAgcHJlcGVuZEFueSxcclxuICBwcmVwZW5kTGlzdGVuZXIsXHJcbiAgcHJlcGVuZE1hbnksXHJcbiAgcHJlcGVuZE9uY2VMaXN0ZW5lcixcclxuICByZW1vdmVBbGxMaXN0ZW5lcnMsXHJcbiAgcmVtb3ZlTGlzdGVuZXIsXHJcbiAgc2V0TWF4TGlzdGVuZXJzLFxyXG4gIHN0b3BMaXN0ZW5pbmdUbyxcclxuICB3YWl0Rm9yLFxyXG59IGZyb20gJy4vZXZlbnRFbWl0dGVyJztcclxuXHJcbmRlY2xhcmUgY29uc3QgX19WRVJTSU9OX186IHN0cmluZztcclxuZGVjbGFyZSBjb25zdCBfX1NVUFBPUlRFRF9XSEFUU0FQUF9XRUJfXzogc3RyaW5nO1xyXG5leHBvcnQgY29uc3QgdmVyc2lvbiA9IF9fVkVSU0lPTl9fO1xyXG5leHBvcnQgY29uc3Qgc3VwcG9ydGVkV2hhdHNhcHBXZWIgPSBfX1NVUFBPUlRFRF9XSEFUU0FQUF9XRUJfXztcclxuZXhwb3J0IGNvbnN0IGxpY2Vuc2UgPSAnQXBhY2hlLTIuMCc7XHJcblxyXG53ZWJwYWNrLmluamVjdExvYWRlcigpO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydElzQnVzaW5lc3MgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQge1xyXG4gIGdldEFsbExhYmVsQ29sb3JzLFxyXG4gIGdldE5leHRMYWJlbElkLFxyXG4gIGxhYmVsQWRkQWN0aW9uLFxyXG59IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcbmltcG9ydCB7IGNvbG9ySXNJbkxhYmVsUGFsZXR0ZSwgZ2V0TGFiZWxCeUlkLCBnZXROZXdMYWJlbENvbG9yIH0gZnJvbSAnLic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE5ld0xhYmVsT3B0aW9ucyB7XHJcbiAgLyoqXHJcbiAgICogSWYgaXQncyBkZWNpbWFsLCBzZW5kIGl0IGFzIGEgbnVtYmVyLiBJZiBpdCdzIGhleGFkZWNpbWFsLCBzZW5kIGl0IGFzIGEgc3RyaW5nLlxyXG4gICAqIElmIGxhYmVsQ29sb3IgaXMgb21pdHRlZCwgdGhlIGNvbG9yIHdpbGwgYmUgZ2VuZXJhdGVkIGF1dG9tYXRpY2FsbHlcclxuICAgKi9cclxuICBsYWJlbENvbG9yPzogc3RyaW5nIHwgbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogQWRkIGEgbmV3IGxhYmVsXHJcbiAqIFVzZSBhd2FpdCBXUFAubGFiZWxzLmdldExhYmVsQ29sb3JQYWxldHRlKCkgdG8gZ2V0IHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBjb2xvcnNcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAubGFiZWxzLmFkZE5ld0xhYmVsKGBOYW1lIG9mIGxhYmVsYCk7XHJcbiAqIC8vb3JcclxuICogYXdhaXQgV1BQLmxhYmVscy5hZGROZXdMYWJlbChgTmFtZSBvZiBsYWJlbGAsIHsgbGFiZWxDb2xvcjogJyNkZmFlZjAnIH0pO1xyXG4gKiBgYGBcclxuICogLy9vciB3aXRoIGNvbG9yIGluZGV4XHJcbiAqIGF3YWl0IFdQUC5sYWJlbHMuYWRkTmV3TGFiZWwoYE5hbWUgb2YgbGFiZWxgLCB7IGxhYmVsQ29sb3I6IDE2IH0pO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGROZXdMYWJlbChcclxuICBsYWJlbE5hbWU6IHN0cmluZyxcclxuICBvcHRpb25zOiBOZXdMYWJlbE9wdGlvbnMgPSB7fVxyXG4pIHtcclxuICBhc3NlcnRJc0J1c2luZXNzKCk7XHJcblxyXG4gIGxldCBsYWJlbENvbG9yID0gb3B0aW9ucy5sYWJlbENvbG9yIHx8IHVuZGVmaW5lZDtcclxuXHJcbiAgaWYgKCFsYWJlbENvbG9yKSBsYWJlbENvbG9yID0gYXdhaXQgZ2V0TmV3TGFiZWxDb2xvcigpO1xyXG5cclxuICBpZiAodHlwZW9mIGxhYmVsQ29sb3IgPT09ICdzdHJpbmcnICYmIGxhYmVsQ29sb3IubGVuZ3RoID4gMikge1xyXG4gICAgbGFiZWxDb2xvciA9IGdldEFsbExhYmVsQ29sb3JzKCkuZmluZEluZGV4KFxyXG4gICAgICAodmFsdWU6IHN0cmluZykgPT4gdmFsdWUgPT09IGxhYmVsQ29sb3JcclxuICAgICk7XHJcbiAgfVxyXG4gIGxhYmVsQ29sb3IgPSBwYXJzZUludChsYWJlbENvbG9yLnRvU3RyaW5nKCkpO1xyXG5cclxuICBpZiAoIShhd2FpdCBjb2xvcklzSW5MYWJlbFBhbGV0dGUobGFiZWxDb2xvcikpKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoJ2NvbG9yX25vdF9pbl9wYWxsZXQnLCBgQ29sb3Igbm90IGluIHBhbGxldGApO1xyXG4gIH1cclxuICBjb25zdCBsYWJlbElkID0gYXdhaXQgZ2V0TmV4dExhYmVsSWQoKTtcclxuICBhd2FpdCBsYWJlbEFkZEFjdGlvbihsYWJlbE5hbWUsIGxhYmVsQ29sb3IpO1xyXG4gIHJldHVybiBhd2FpdCBnZXRMYWJlbEJ5SWQobGFiZWxJZC50b1N0cmluZygpKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydEdldENoYXQsIGFzc2VydElzQnVzaW5lc3MgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBMYWJlbFN0b3JlLCBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFkZE9yUmVtb3ZlTGFiZWxzT3B0aW9ucyB7XHJcbiAgbGFiZWxJZDogc3RyaW5nO1xyXG4gIHR5cGU6ICdhZGQnIHwgJ3JlbW92ZSc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGQgb3IgcmVtb3ZlIGxhYmVsIGZyb20gY2hhdHNcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAubGFiZWxzLmFkZE9yUmVtb3ZlTGFiZWxzKFxyXG4gKiAgIFsnW251bWJlcl1AYy51cycsJ1tudW1iZXJdQGMudXMnXSxcclxuICogICBbe2xhYmVsSWQ6Jzc2JywgdHlwZTonYWRkJ30se2xhYmVsSWQ6Jzc1JywgdHlwZToncmVtb3ZlJ31dXHJcbiAqIClcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkT3JSZW1vdmVMYWJlbHMoXHJcbiAgY2hhdElkczogc3RyaW5nIHwgV2lkIHwgKHN0cmluZyB8IFdpZClbXSxcclxuICBvcHRpb25zOiBBZGRPclJlbW92ZUxhYmVsc09wdGlvbnMgfCBBZGRPclJlbW92ZUxhYmVsc09wdGlvbnNbXVxyXG4pOiBQcm9taXNlPGFueT4ge1xyXG4gIGFzc2VydElzQnVzaW5lc3MoKTtcclxuXHJcbiAgaWYgKCFBcnJheS5pc0FycmF5KGNoYXRJZHMpKSB7XHJcbiAgICBjaGF0SWRzID0gW2NoYXRJZHNdO1xyXG4gIH1cclxuICBpZiAoIUFycmF5LmlzQXJyYXkob3B0aW9ucykpIHtcclxuICAgIG9wdGlvbnMgPSBbb3B0aW9uc107XHJcbiAgfVxyXG5cclxuICBjb25zdCBjaGF0cyA9IGNoYXRJZHMubWFwKChlKSA9PiBhc3NlcnRHZXRDaGF0KGUpKTtcclxuICBjb25zdCBsYWJlbHMgPSBvcHRpb25zLm1hcCgoZSkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWQ6IGUubGFiZWxJZCxcclxuICAgICAgdHlwZTogZS50eXBlLFxyXG4gICAgfTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGF3YWl0IExhYmVsU3RvcmUuYWRkT3JSZW1vdmVMYWJlbHMobGFiZWxzLCBjaGF0cyk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRJc0J1c2luZXNzIH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgZ2V0TGFiZWxDb2xvclBhbGV0dGUgfSBmcm9tICcuJztcclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBjb2xvciBpcyBpbiBsYWJlbCBwYWxldHRlXHJcbiAqIEBwYXJhbSBjb2xvciBJZiBpdCdzIGRlY2ltYWwsIHNlbmQgaXQgYXMgYSBudW1iZXIuIElmIGl0J3MgaGV4YWRlY2ltYWwsIHNlbmQgaXQgYXMgYSBzdHJpbmdcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAubGFiZWxzLmNvbG9ySXNJbkxhYmVsUGFsZXR0ZSgnI2ZmZDQyOScpO1xyXG4gKiAvL29yXHJcbiAqIGF3YWl0IFdQUC5sYWJlbHMuY29sb3JJc0luTGFiZWxQYWxldHRlKDQyODQ3OTQxMTEpO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb2xvcklzSW5MYWJlbFBhbGV0dGUoXHJcbiAgY29sb3I6IHN0cmluZyB8IG51bWJlclxyXG4pOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICBhc3NlcnRJc0J1c2luZXNzKCk7XHJcblxyXG4gIGNvbnN0IGNvbG9yUGFsZXR0ZSA9IGF3YWl0IGdldExhYmVsQ29sb3JQYWxldHRlKCk7XHJcbiAgcmV0dXJuIChcclxuICAgIGNvbG9yUGFsZXR0ZSAmJlxyXG4gICAgKGNvbG9yUGFsZXR0ZS5pbmNsdWRlcyhjb2xvci50b1N0cmluZygpKSB8fFxyXG4gICAgICBjb2xvclBhbGV0dGVbcGFyc2VJbnQoY29sb3IudG9TdHJpbmcoKSldICE9IHVuZGVmaW5lZClcclxuICApO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0SXNCdXNpbmVzcyB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IGRlbGV0ZUxhYmVsLCBEZWxldGVMYWJlbFJldHVybiwgZ2V0QWxsTGFiZWxzIH0gZnJvbSAnLic7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQWxsTGFiZWxzKCk6IFByb21pc2U8RGVsZXRlTGFiZWxSZXR1cm5bXT4ge1xyXG4gIGFzc2VydElzQnVzaW5lc3MoKTtcclxuXHJcbiAgY29uc3QgbGFiZWxzID0gYXdhaXQgZ2V0QWxsTGFiZWxzKCk7XHJcbiAgcmV0dXJuIGRlbGV0ZUxhYmVsKGxhYmVscy5tYXAoKGUpID0+IGUuaWQpKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydElzQnVzaW5lc3MgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBMYWJlbFN0b3JlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBsYWJlbERlbGV0ZUFjdGlvbiB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZUxhYmVsUmV0dXJuIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGRlbGV0ZUxhYmVsUmVzdWx0OiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVMYWJlbChpZDogc3RyaW5nKTogUHJvbWlzZTxEZWxldGVMYWJlbFJldHVybj47XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVMYWJlbChpZHM6IHN0cmluZ1tdKTogUHJvbWlzZTxEZWxldGVMYWJlbFJldHVybltdPjtcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUxhYmVsKFxyXG4gIGlkczogc3RyaW5nIHwgc3RyaW5nW11cclxuKTogUHJvbWlzZTxEZWxldGVMYWJlbFJldHVybiB8IERlbGV0ZUxhYmVsUmV0dXJuW10+IHtcclxuICBhc3NlcnRJc0J1c2luZXNzKCk7XHJcblxyXG4gIGxldCBpc1NpbmdsZSA9IGZhbHNlO1xyXG5cclxuICBpZiAoIUFycmF5LmlzQXJyYXkoaWRzKSkge1xyXG4gICAgaXNTaW5nbGUgPSB0cnVlO1xyXG4gICAgaWRzID0gW2lkc107XHJcbiAgfVxyXG5cclxuICBjb25zdCByZXN1bHRzOiBEZWxldGVMYWJlbFJldHVybltdID0gW107XHJcbiAgZm9yIChjb25zdCBpZCBvZiBpZHMpIHtcclxuICAgIGNvbnN0IGxhYmVsID0gTGFiZWxTdG9yZS5nZXQoaWQudG9TdHJpbmcoKSk7XHJcbiAgICBpZiAobGFiZWwpXHJcbiAgICAgIGF3YWl0IGxhYmVsRGVsZXRlQWN0aW9uKGlkLnRvU3RyaW5nKCksIGxhYmVsLm5hbWUsIGxhYmVsLmNvbG9ySW5kZXghKTtcclxuICAgIHJlc3VsdHMucHVzaCh7XHJcbiAgICAgIGlkOiBpZCxcclxuICAgICAgZGVsZXRlTGFiZWxSZXN1bHQ6XHJcbiAgICAgICAgbGFiZWwgIT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICA/IExhYmVsU3RvcmUuZ2V0KGlkLnRvU3RyaW5nKCkpICE9IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICA/IGZhbHNlXHJcbiAgICAgICAgICAgIDogdHJ1ZVxyXG4gICAgICAgICAgOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzU2luZ2xlKSB7XHJcbiAgICByZXR1cm4gcmVzdWx0c1swXTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdHM7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRJc0J1c2luZXNzIH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgTGFiZWxTdG9yZSB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgZ2V0QWxsTGFiZWxDb2xvcnMsIGxhYmVsRWRpdEFjdGlvbiB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcbmltcG9ydCB7IGNvbG9ySXNJbkxhYmVsUGFsZXR0ZSwgZ2V0TGFiZWxCeUlkIH0gZnJvbSAnLic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEVkaXRMYWJlbE9wdGlvbnMge1xyXG4gIC8qKlxyXG4gICAqIElmIGl0J3MgZGVjaW1hbCwgc2VuZCBpdCBhcyBhIG51bWJlci4gSWYgaXQncyBoZXhhZGVjaW1hbCwgc2VuZCBpdCBhcyBhIHN0cmluZy5cclxuICAgKiBJZiBsYWJlbENvbG9yIGlzIG9taXR0ZWQsIHRoZSBjb2xvciB3aWxsIGJlIGdlbmVyYXRlZCBhdXRvbWF0aWNhbGx5XHJcbiAgICovXHJcbiAgbGFiZWxDb2xvcj86IHN0cmluZyB8IG51bWJlcjtcclxuICBuYW1lPzogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogRWRpdCBhIGxhYmVsXHJcbiAqIEZvciBnZXQgYSBuZXcgY29sb3IsIHVzZSBhd2FpdCBXUFAubGFiZWxzLmdldExhYmVsQ29sb3JQYWxldHRlKCkgdG8gZ2V0IHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBjb2xvcnNcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAubGFiZWxzLmVkaXRMYWJlbChgTmFtZSBvZiBsYWJlbGApO1xyXG4gKiAvL29yXHJcbiAqIGF3YWl0IFdQUC5sYWJlbHMuZWRpdExhYmVsKGBOYW1lIG9mIGxhYmVsYCwgeyBsYWJlbENvbG9yOiAnI2RmYWVmMCcgfSk7XHJcbiAqIGBgYFxyXG4gKiAvL29yIHdpdGggY29sb3IgaW5kZXhcclxuICogYXdhaXQgV1BQLmxhYmVscy5lZGl0TGFiZWwoYE5hbWUgb2YgbGFiZWxgLCB7IGxhYmVsQ29sb3I6IDE2IH0pO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlZGl0TGFiZWwoaWQ6IHN0cmluZywgb3B0aW9uczogRWRpdExhYmVsT3B0aW9ucyA9IHt9KSB7XHJcbiAgYXNzZXJ0SXNCdXNpbmVzcygpO1xyXG4gIGNvbnN0IGxhYmVsID0gTGFiZWxTdG9yZS5nZXQoaWQudG9TdHJpbmcoKSk7XHJcbiAgaWYgKCFsYWJlbCkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKCdsYWJlbF9ub3RfZXhpc3QnLCBgTGFiZWwgd2l0aCBpZCAke2lkfSBub3QgZXhpc3RgKTtcclxuICB9XHJcblxyXG4gIGxldCBsYWJlbENvbG9yID0gb3B0aW9ucy5sYWJlbENvbG9yIHx8IHVuZGVmaW5lZDtcclxuXHJcbiAgaWYgKGxhYmVsQ29sb3IpIHtcclxuICAgIGlmICh0eXBlb2YgbGFiZWxDb2xvciA9PT0gJ3N0cmluZycgJiYgbGFiZWxDb2xvci5sZW5ndGggPiAyKSB7XHJcbiAgICAgIGxhYmVsQ29sb3IgPSBnZXRBbGxMYWJlbENvbG9ycygpLmZpbmRJbmRleChcclxuICAgICAgICAodmFsdWU6IHN0cmluZykgPT4gdmFsdWUgPT09IGxhYmVsQ29sb3JcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGxhYmVsQ29sb3IgPSBwYXJzZUludChsYWJlbENvbG9yLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgIGlmICghKGF3YWl0IGNvbG9ySXNJbkxhYmVsUGFsZXR0ZShsYWJlbENvbG9yKSkpIHtcclxuICAgICAgdGhyb3cgbmV3IFdQUEVycm9yKCdjb2xvcl9ub3RfaW5fcGFsbGV0JywgYENvbG9yIG5vdCBpbiBwYWxsZXRgKTtcclxuICAgIH1cclxuICB9XHJcbiAgYXdhaXQgbGFiZWxFZGl0QWN0aW9uKFxyXG4gICAgaWQsXHJcbiAgICBvcHRpb25zLm5hbWUgfHwgbGFiZWwubmFtZSxcclxuICAgIDAsXHJcbiAgICBsYWJlbENvbG9yIHx8IChsYWJlbCEuY29sb3JJbmRleCBhcyBhbnkpXHJcbiAgKTtcclxuICByZXR1cm4gYXdhaXQgZ2V0TGFiZWxCeUlkKGlkLnRvU3RyaW5nKCkpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0Q29sb3IgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBMYWJlbE1vZGVsLCBMYWJlbFN0b3JlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBjb2xvckluZGV4VG9IZXggfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gJy4uJztcclxuaW1wb3J0IHsgcGF0Y2hMYWJlbENvdW50IH0gZnJvbSAnLi4vcGF0Y2gnO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbExhYmVscygpOiBQcm9taXNlPExhYmVsW10+IHtcclxuICBjb25zdCBsYWJlbHMgPSBMYWJlbFN0b3JlLmdldE1vZGVsc0FycmF5KCk7XHJcbiAgcmV0dXJuIGxhYmVscy5tYXAoKGU6IExhYmVsTW9kZWwpID0+IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlkOiBlLmlkISxcclxuICAgICAgbmFtZTogZS5uYW1lISxcclxuICAgICAgY29sb3I6IGUuaGV4Q29sb3IgPyBhc3NlcnRDb2xvcihlLmhleENvbG9yKSA6IG51bGwsXHJcbiAgICAgIGNvdW50OiBwYXRjaExhYmVsQ291bnQoZSksXHJcbiAgICAgIGhleENvbG9yOiBjb2xvckluZGV4VG9IZXgoZS5jb2xvckluZGV4ISksXHJcbiAgICAgIGNvbG9ySW5kZXg6IGUuY29sb3JJbmRleCEsXHJcbiAgICB9O1xyXG4gIH0pO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0Q29sb3IgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBMYWJlbFN0b3JlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBjb2xvckluZGV4VG9IZXggfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gJy4uJztcclxuaW1wb3J0IHsgcGF0Y2hMYWJlbENvdW50IH0gZnJvbSAnLi4vcGF0Y2gnO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExhYmVsQnlJZChsYWJlbElkOiBzdHJpbmcpOiBQcm9taXNlPExhYmVsPiB7XHJcbiAgY29uc3QgbGFiZWwgPSBMYWJlbFN0b3JlLmdldChsYWJlbElkKTtcclxuXHJcbiAgaWYgKCFsYWJlbCkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKCdjYW5vdF9nZXRfbGFiZWxfZXJyb3InLCBgQ2FuJ3QgZ2V0IGxhYmVsIGJ5IGlkYCk7XHJcbiAgfVxyXG4gIHJldHVybiB7XHJcbiAgICBpZDogbGFiZWwuaWQsXHJcbiAgICBuYW1lOiBsYWJlbC5uYW1lLFxyXG4gICAgY29sb3I6IGxhYmVsLmhleENvbG9yID8gYXNzZXJ0Q29sb3IobGFiZWwuaGV4Q29sb3IpIDogbnVsbCxcclxuICAgIGNvdW50OiBwYXRjaExhYmVsQ291bnQobGFiZWwpLFxyXG4gICAgaGV4Q29sb3I6IGNvbG9ySW5kZXhUb0hleChsYWJlbC5jb2xvckluZGV4ISksXHJcbiAgICBjb2xvckluZGV4OiBsYWJlbC5jb2xvckluZGV4ISxcclxuICB9O1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0SXNCdXNpbmVzcyB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7IGdldEFsbExhYmVsQ29sb3JzIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIGNvbG9yIHBhbGV0dGUgaW4gaGV4IGNvZGVcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMYWJlbENvbG9yUGFsZXR0ZSgpOiBQcm9taXNlPHN0cmluZ1tdPiB7XHJcbiAgYXNzZXJ0SXNCdXNpbmVzcygpO1xyXG5cclxuICBjb25zdCBjb2xvclBhbGV0dGUgPSBnZXRBbGxMYWJlbENvbG9ycygpO1xyXG5cclxuICBpZiAoIWNvbG9yUGFsZXR0ZSkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKCdjYW5vdF9nZXRfY29sb3JfcGFsZXR0ZScsIGBDYW4ndCBnZXQgY29sb3IgcGFsZXR0ZWApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNvbG9yUGFsZXR0ZTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydENvbG9yLCBhc3NlcnRJc0J1c2luZXNzIH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgTGFiZWxTdG9yZSB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm4gdGhlIGNvbG9yIG9mIHRoZSBuZXh0IGxhYmVsIGluIHBvc2l0aXZlIGRlY2ltYWxcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXROZXdMYWJlbENvbG9yKCk6IFByb21pc2U8bnVtYmVyPiB7XHJcbiAgYXNzZXJ0SXNCdXNpbmVzcygpO1xyXG5cclxuICBjb25zdCBuZXdMYWJlbENvbG9yID0gYXdhaXQgTGFiZWxTdG9yZS5nZXROZXh0QXZhaWxhYmxlQ29sb3IoKTtcclxuXHJcbiAgaWYgKCFuZXdMYWJlbENvbG9yKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoJ2Nhbm5vdF9nZXRfY29sb3InLCBgQ2FuJ3QgZ2V0IG5ldyBsYWJlbCBjb2xvcmApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGFzc2VydENvbG9yKE51bWJlcihuZXdMYWJlbENvbG9yKSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5leHBvcnQgeyBhZGROZXdMYWJlbCB9IGZyb20gJy4vYWRkTmV3TGFiZWwnO1xyXG5leHBvcnQge1xyXG4gIGFkZE9yUmVtb3ZlTGFiZWxzLFxyXG4gIEFkZE9yUmVtb3ZlTGFiZWxzT3B0aW9ucyxcclxufSBmcm9tICcuL2FkZE9yUmVtb3ZlTGFiZWxzJztcclxuZXhwb3J0IHsgY29sb3JJc0luTGFiZWxQYWxldHRlIH0gZnJvbSAnLi9jb2xvcklzSW5MYWJlbFBhbGV0dGUnO1xyXG5leHBvcnQgeyBkZWxldGVBbGxMYWJlbHMgfSBmcm9tICcuL2RlbGV0ZUFsbExhYmVscyc7XHJcbmV4cG9ydCB7IGRlbGV0ZUxhYmVsLCBEZWxldGVMYWJlbFJldHVybiB9IGZyb20gJy4vZGVsZXRlTGFiZWwnO1xyXG5leHBvcnQgeyBlZGl0TGFiZWwgfSBmcm9tICcuL2VkaXRMYWJlbCc7XHJcbmV4cG9ydCB7IGdldEFsbExhYmVscyB9IGZyb20gJy4vZ2V0QWxsTGFiZWxzJztcclxuZXhwb3J0IHsgZ2V0TGFiZWxCeUlkIH0gZnJvbSAnLi9nZXRMYWJlbEJ5SWQnO1xyXG5leHBvcnQgeyBnZXRMYWJlbENvbG9yUGFsZXR0ZSB9IGZyb20gJy4vZ2V0TGFiZWxDb2xvclBhbGV0dGUnO1xyXG5leHBvcnQgeyBnZXROZXdMYWJlbENvbG9yIH0gZnJvbSAnLi9nZXROZXdMYWJlbENvbG9yJztcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2Z1bmN0aW9ucyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMnO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjUgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENoYXRTdG9yZSwgTGFiZWxNb2RlbCB9IGZyb20gJy4uL3doYXRzYXBwJztcclxuXHJcbi8vIEZpeCBmb3IgYW4gZXJyb3IgdGhhdCBpbmNsdWRlZCBhcmNoaXZlZCBjaGF0cyBpbiB0aGUgdG90YWwgY291bnRcclxuLy8gQXJjaGl2ZWQgY2hhdHMgc2hvdWxkIG5vdCBiZSBjb3VudGVkIHNpbmNlIHRoZXkgZG8gbm90IGFwcGVhciBpbiBXaGF0c0FwcFxyXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2hMYWJlbENvdW50KGxhYmVsOiBMYWJlbE1vZGVsKTogbnVtYmVyIHtcclxuICBsZXQgY291bnQgPSAwO1xyXG4gIGZvciAoY29uc3QgaXRlbSBvZiAobGFiZWwgYXMgYW55KS5sYWJlbEl0ZW1Db2xsZWN0aW9uLl9tb2RlbHMpIHtcclxuICAgIGlmIChpdGVtLnBhcmVudFR5cGUgIT09ICdDaGF0JykgY29udGludWU7XHJcblxyXG4gICAgY29uc3QgY2hhdCA9IENoYXRTdG9yZS5nZXQoaXRlbS5wYXJlbnRJZCk7XHJcbiAgICBpZiAoIWNoYXQ/LmFyY2hpdmUpIGNvdW50ICs9IDE7XHJcbiAgfVxyXG4gIHJldHVybiBjb3VudDtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTGFiZWwge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGNvbG9yOiBudW1iZXIgfCBudWxsO1xyXG4gIGNvdW50OiBudW1iZXI7XHJcbiAgaGV4Q29sb3I6IHN0cmluZztcclxuICBjb2xvckluZGV4OiBudW1iZXI7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBibG9iVG9CYXNlNjQsIGNvbnZlcnRUb0ZpbGUsIGRvd25sb2FkSW1hZ2UgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgY3JlYXRlTmV3c2xldHRlclF1ZXJ5IH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVzdWx0Q3JlYXRlTmV3c2xldHRlciB7XHJcbiAgaWRKaWQ6IHN0cmluZztcclxuICBpbnZpdGVDb2RlOiBzdHJpbmc7XHJcbiAgaW52aXRlTGluazogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBzdGF0ZTogc3RyaW5nO1xyXG4gIHN1YnNjcmliZXJzQ291bnQ6IG51bWJlcjtcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbDtcclxuICB0aW1lc3RhbXA6IG51bWJlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIG5ld3NsZXR0ZXJcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyBUbyBlZGl0IG5hbWVcclxuICogV1BQLm5ld3NsZXR0ZXIuY3JlYXRlKCdOYW1lIGZvciB5b3VyIG5ld3NsZXR0ZXInLCB7XHJcbiAqIGRlc2NyaXB0aW9uOiAnRGVzY3JpcHRpb24gZm9yIHRoYXQnLFxyXG4gKiBwaWN0dXJlOiAnPGJhc2U2NF9zdHJpbmcnLFxyXG4gKiB9KTtcclxuICogYGBgXHJcbiAqIEBjYXRlZ29yeSBOZXdzbGV0dGVyXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlKFxyXG4gIG5hbWU6IHN0cmluZyxcclxuICBvcHRzOiB7IGRlc2NyaXB0aW9uPzogc3RyaW5nOyBwaWN0dXJlPzogc3RyaW5nIH1cclxuKTogUHJvbWlzZTxSZXN1bHRDcmVhdGVOZXdzbGV0dGVyPiB7XHJcbiAgbGV0IHBpYyA9IHVuZGVmaW5lZDtcclxuICBpZiAob3B0cz8ucGljdHVyZSkge1xyXG4gICAgY29uc3QgZmlsZSA9IGF3YWl0IGNvbnZlcnRUb0ZpbGUob3B0cy5waWN0dXJlKTtcclxuICAgIHBpYyA9IGF3YWl0IGJsb2JUb0Jhc2U2NChmaWxlKTtcclxuICAgICh7IGRhdGE6IHBpYyB9ID0gYXdhaXQgZG93bmxvYWRJbWFnZShwaWMsICdpbWFnZS9qcGVnJykpO1xyXG4gIH1cclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVOZXdzbGV0dGVyUXVlcnkoe1xyXG4gICAgbmFtZTogbmFtZSxcclxuICAgIGRlc2NyaXB0aW9uOiBvcHRzPy5kZXNjcmlwdGlvbiB8fCBudWxsLFxyXG4gICAgcGljdHVyZTogcGljIHx8IG51bGwsXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBpZEppZDogcmVzdWx0Py5pZEppZCxcclxuICAgIGludml0ZUNvZGU6IHJlc3VsdD8ubmV3c2xldHRlckludml0ZUxpbmtNZXRhZGF0YU1peGluLmludml0ZUNvZGUsXHJcbiAgICBpbnZpdGVMaW5rOiBgaHR0cHM6Ly93aGF0c2FwcC5jb20vY2hhbm5lbC8ke3Jlc3VsdD8ubmV3c2xldHRlckludml0ZUxpbmtNZXRhZGF0YU1peGluLmludml0ZUNvZGV9YCxcclxuICAgIG5hbWU6IHJlc3VsdD8ubmV3c2xldHRlck5hbWVNZXRhZGF0YU1peGluPy5uYW1lRWxlbWVudFZhbHVlLFxyXG4gICAgc3RhdGU6IHJlc3VsdD8ubmV3c2xldHRlclN0YXRlTWV0YWRhdGFNaXhpbj8uc3RhdGVUeXBlLFxyXG4gICAgc3Vic2NyaWJlcnNDb3VudDpcclxuICAgICAgcmVzdWx0Py5uZXdzbGV0dGVyU3Vic2NyaWJlcnNNZXRhZGF0YU1peGluLnN1YnNjcmliZXJzQ291bnQsXHJcbiAgICBkZXNjcmlwdGlvbjogb3B0cz8uZGVzY3JpcHRpb24gfHwgbnVsbCxcclxuICAgIHRpbWVzdGFtcDogcmVzdWx0Py5uZXdzbGV0dGVyQ3JlYXRpb25UaW1lTWV0YWRhdGFNaXhpbj8uY3JlYXRpb25UaW1lVmFsdWUsXHJcbiAgfTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7IGRlbGV0ZU5ld3NsZXR0ZXIgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuLyoqXHJcbiAqIERlbGV0ZSBhIG5ld3NsZXR0ZXJcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBjb25zdCBjb2RlID0gV1BQLm5ld3NsZXR0ZXIuZGVzdHJveSgnW25ld3NsZXR0ZXItaWRdQG5ld3NsZXR0ZXInKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBOZXdzbGV0dGVyXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVzdHJveShpZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgaWYgKCFpZCB8fCAhaWQuaW5jbHVkZXMoJ25ld3NsZXR0ZXInKSlcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ3NlbmRfY29ycmVjdGx5X25ld3NsZXR0ZXJfaWQnLFxyXG4gICAgICAnUGxlYXNlLCBzZW5kIHRoZSBjb3JyZWN0IG5ld3NsZXR0ZXIgSUQuJ1xyXG4gICAgKTtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIGF3YWl0IGRlbGV0ZU5ld3NsZXR0ZXIoaWQpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICBibG9iVG9CYXNlNjQsXHJcbiAgY29udmVydFRvRmlsZSxcclxuICBkb3dubG9hZEltYWdlLFxyXG4gIHJlc2l6ZUltYWdlLFxyXG59IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQge1xyXG4gIGVkaXROZXdzbGV0dGVyTWV0YWRhdGFBY3Rpb24sXHJcbiAgcXVlcnlOZXdzbGV0dGVyTWV0YWRhdGFCeUppZCxcclxufSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBlbnN1cmVOZXdzbGV0dGVyIH0gZnJvbSAnLi9lbnN1cmVOZXdzbGV0dGVyJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVzdWx0Q3JlYXRlTmV3c2xldHRlciB7XHJcbiAgaWRKaWQ6IHN0cmluZztcclxuICBpbnZpdGVDb2RlOiBzdHJpbmc7XHJcbiAgaW52aXRlTGluazogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBzdGF0ZTogc3RyaW5nO1xyXG4gIHN1YnNjcmliZXJzQ291bnQ6IG51bWJlcjtcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbDtcclxuICB0aW1lc3RhbXA6IG51bWJlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEVkaXQgdGhlIG5ld3NsZXR0ZXIgZGF0YVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFRvIGVkaXQgbmFtZVxyXG4gKiBjb25zdCBjb2RlID0gV1BQLm5ld3NsZXR0ZXIuZWRpdCgnW25ld3NsZXR0ZXItaWRdQG5ld3NsZXR0ZXInLCB7XHJcbiAqIG5hbWU6ICdOZXcgTmFtZSdcclxuICogfSk7XHJcbiAqXHJcbiAqIC8vIFRvIGVkaXQgZGVzY3JpcHRpb25cclxuICogY29uc3QgY29kZSA9IFdQUC5uZXdzbGV0dGVyLmVkaXQoJ1tuZXdzbGV0dGVyLWlkXUBuZXdzbGV0dGVyJywge1xyXG4gKiBkZXNjcmlwdGlvbjogJ05ldyBkZXNjcmlwdGlvbidcclxuICogfSk7XHJcbiAqXHJcbiAqIC8vIFRvIGNoYW5nZSBwaWN0dXJlXHJcbiAqIGNvbnN0IGNvZGUgPSBXUFAubmV3c2xldHRlci5lZGl0KCdbbmV3c2xldHRlci1pZF1AbmV3c2xldHRlcicsIHtcclxuICogcGljdHVyZTogJzxiYXNlNjRfaW1hZ2U+J1xyXG4gKiB9KTtcclxuICpcclxuICogLy8gVG8gcmVtb3ZlIHBpY3R1cmVcclxuICogY29uc3QgY29kZSA9IFdQUC5uZXdzbGV0dGVyLmVkaXQoJ1tuZXdzbGV0dGVyLWlkXUBuZXdzbGV0dGVyJywge1xyXG4gKiBwaWN0dXJlOiBudWxsXHJcbiAqIH0pO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IE5ld3NsZXR0ZXJcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlZGl0KFxyXG4gIG5ld3NsZXR0ZXJJZDogc3RyaW5nLFxyXG4gIG9wdHM6IHtcclxuICAgIG5hbWU/OiBzdHJpbmc7XHJcbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZztcclxuICAgIHBpY3R1cmU/OiBzdHJpbmc7XHJcbiAgfVxyXG4pOiBQcm9taXNlPFJlc3VsdENyZWF0ZU5ld3NsZXR0ZXI+IHtcclxuICBsZXQgcGljOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XHJcblxyXG4gIGlmIChvcHRzPy5waWN0dXJlKSB7XHJcbiAgICBsZXQgYmFzZTY0ID0gb3B0cy5waWN0dXJlO1xyXG4gICAgaWYgKG9wdHMucGljdHVyZS5pbmNsdWRlcygnaHR0cCcpKVxyXG4gICAgICAoeyBkYXRhOiBiYXNlNjQgfSA9IGF3YWl0IGRvd25sb2FkSW1hZ2Uob3B0cz8ucGljdHVyZSwgJ2ltYWdlL2pwZWcnKSk7XHJcblxyXG4gICAgY29uc3QgZmlsZSA9IGF3YWl0IGNvbnZlcnRUb0ZpbGUoYmFzZTY0IGFzIHN0cmluZyk7XHJcbiAgICBjb25zdCBwaWN0dXJlRmlsZSA9IGF3YWl0IHJlc2l6ZUltYWdlKGZpbGUsIHtcclxuICAgICAgd2lkdGg6IDY0MCxcclxuICAgICAgaGVpZ2h0OiA2NDAsXHJcbiAgICAgIG1pbWVUeXBlOiAnaW1hZ2UvanBlZycsXHJcbiAgICAgIHJlc2l6ZTogJ2NvdmVyJyxcclxuICAgIH0pO1xyXG4gICAgcGljID0gYXdhaXQgYmxvYlRvQmFzZTY0KHBpY3R1cmVGaWxlKTtcclxuICB9XHJcblxyXG4gIGF3YWl0IGVkaXROZXdzbGV0dGVyTWV0YWRhdGFBY3Rpb24oXHJcbiAgICBhd2FpdCBlbnN1cmVOZXdzbGV0dGVyKG5ld3NsZXR0ZXJJZCksXHJcbiAgICB7XHJcbiAgICAgIGVkaXREZXNjcmlwdGlvbjogb3B0cy5kZXNjcmlwdGlvbiA/IHRydWUgOiBmYWxzZSxcclxuICAgICAgZWRpdE5hbWU6IG9wdHMubmFtZSA/IHRydWUgOiBmYWxzZSxcclxuICAgICAgZWRpdFBpY3R1cmU6IHBpYyB8fCBvcHRzLnBpY3R1cmUgPT0gbnVsbCA/IHRydWUgOiBmYWxzZSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IG9wdHMubmFtZSxcclxuICAgICAgZGVzY3JpcHRpb246IG9wdHMuZGVzY3JpcHRpb24sXHJcbiAgICAgIHBpY3R1cmU6IG9wdHMucGljdHVyZSA9PSBudWxsID8gbnVsbCA6IHBpYyxcclxuICAgIH1cclxuICApO1xyXG5cclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeU5ld3NsZXR0ZXJNZXRhZGF0YUJ5SmlkKG5ld3NsZXR0ZXJJZCwge1xyXG4gICAgcGljdHVyZTogdHJ1ZSxcclxuICAgIGRlc2NyaXB0aW9uOiB0cnVlLFxyXG4gICAgbmFtZTogdHJ1ZSxcclxuICAgIHN0YXRlOiB0cnVlLFxyXG4gICAgY3JlYXRpb25UaW1lOiB0cnVlLFxyXG4gIH0pO1xyXG4gIHJldHVybiB7XHJcbiAgICBpZEppZDogcmVzdWx0Py5pZEppZCxcclxuICAgIGludml0ZUNvZGU6IHJlc3VsdD8ubmV3c2xldHRlckludml0ZUxpbmtNZXRhZGF0YU1peGluLmludml0ZUNvZGUsXHJcbiAgICBpbnZpdGVMaW5rOiBgaHR0cHM6Ly93aGF0c2FwcC5jb20vY2hhbm5lbC8ke3Jlc3VsdD8ubmV3c2xldHRlckludml0ZUxpbmtNZXRhZGF0YU1peGluLmludml0ZUNvZGV9YCxcclxuICAgIG5hbWU6IHJlc3VsdD8ubmV3c2xldHRlck5hbWVNZXRhZGF0YU1peGluPy5uYW1lRWxlbWVudFZhbHVlLFxyXG4gICAgc3RhdGU6IHJlc3VsdD8ubmV3c2xldHRlclN0YXRlTWV0YWRhdGFNaXhpbj8uc3RhdGVUeXBlLFxyXG4gICAgc3Vic2NyaWJlcnNDb3VudDpcclxuICAgICAgcmVzdWx0Py5uZXdzbGV0dGVyU3Vic2NyaWJlcnNNZXRhZGF0YU1peGluLnN1YnNjcmliZXJzQ291bnQsXHJcbiAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgcmVzdWx0Py5uZXdzbGV0dGVyRGVzY3JpcHRpb25NZXRhZGF0YU1peGluXHJcbiAgICAgICAgPy5kZXNjcmlwdGlvblF1ZXJ5RGVzY3JpcHRpb25SZXNwb25zZU1peGluPy5lbGVtZW50VmFsdWUsXHJcbiAgICB0aW1lc3RhbXA6IHJlc3VsdD8ubmV3c2xldHRlckNyZWF0aW9uVGltZU1ldGFkYXRhTWl4aW4/LmNyZWF0aW9uVGltZVZhbHVlLFxyXG4gIH07XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRHZXRDaGF0IH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuc3VyZU5ld3NsZXR0ZXIobmV3c2xldHRlcklkOiBzdHJpbmcgfCBXaWQpIHtcclxuICBjb25zdCBuZXdzbGV0dGVyQ2hhdCA9IGFzc2VydEdldENoYXQobmV3c2xldHRlcklkKTtcclxuXHJcbiAgaWYgKCFuZXdzbGV0dGVyQ2hhdC5pc05ld3NsZXR0ZXIpIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ25vdF9hX25ld3NsZXR0ZXInLFxyXG4gICAgICBgQ2hhdCAke25ld3NsZXR0ZXJDaGF0LmlkLl9zZXJpYWxpemVkfSBpcyBub3QgYSBuZXdzbGV0dGVyYFxyXG4gICAgKTtcclxuICB9XHJcbiAgcmV0dXJuIG5ld3NsZXR0ZXJDaGF0O1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgZ2V0TmV3c2xldHRlclN1YnNjcmliZXJzIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbi8qKlxyXG4gKiBHZXQgc3Vic2NyaWJlcnMgb2YgYSBuZXdzbGV0dGVyc1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGNvbnN0IGNvZGUgPSBXUFAubmV3c2xldHRlci5nZXRTdWJzY3JpYmVycygnW25ld3NsZXR0ZXItaWRdQG5ld3NsZXR0ZXInKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBOZXdzbGV0dGVyXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U3Vic2NyaWJlcnMoaWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgaWYgKCFpZCB8fCAhaWQuaW5jbHVkZXMoJ25ld3NsZXR0ZXInKSlcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ3NlbmRfY29ycmVjdGx5X25ld3NsZXR0ZXJfaWQnLFxyXG4gICAgICAnUGxlYXNlLCBzZW5kIHRoZSBjb3JyZWN0IG5ld3NsZXR0ZXIgSUQuJ1xyXG4gICAgKTtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIChhd2FpdCBnZXROZXdzbGV0dGVyU3Vic2NyaWJlcnMoaWQsIDksICdMSU1JVEVEJykpLnN1YnNjcmliZXJzO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IHsgY3JlYXRlIH0gZnJvbSAnLi9jcmVhdGUnO1xyXG5leHBvcnQgeyBkZXN0cm95IH0gZnJvbSAnLi9kZXN0cm95JztcclxuZXhwb3J0IHsgZWRpdCB9IGZyb20gJy4vZWRpdCc7XHJcbmV4cG9ydCB7IGdldFN1YnNjcmliZXJzIH0gZnJvbSAnLi9nZXRTdWJzY3JpYmVycyc7XHJcbmV4cG9ydCB7IG11dGUgfSBmcm9tICcuL211dGUnO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENoYXRNb2RlbCwgTmV3c2xldHRlclN0b3JlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBtdXRlTmV3c2xldHRlciwgdW5tdXRlTmV3c2xldHRlciB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcbmltcG9ydCB7IGVuc3VyZU5ld3NsZXR0ZXIgfSBmcm9tICcuL2Vuc3VyZU5ld3NsZXR0ZXInO1xyXG5cclxuLyoqXHJcbiAqIE11dGUgYW5kIHVubXV0ZSBhIG5ld3NsZXR0ZXJcclxuICpcclxuICogQGV4YW1wbGVcclxuICogLy8gTXV0ZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIFdQUC5uZXdzbGV0dGVyLm11dGUoJ1tuZXdzbGV0dGVyLWlkXUBuZXdzbGV0dGVyJywgdHJ1ZSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiAvLyBVbm11dGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBXUFAubmV3c2xldHRlci5tdXRlKCdbbmV3c2xldHRlci1pZF1AbmV3c2xldHRlcicsIGZhbHNlKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBOZXdzbGV0dGVyXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbXV0ZShcclxuICBuZXdzbGV0dGVySWQ6IHN0cmluZyxcclxuICB2YWx1ZT86IGJvb2xlYW5cclxuKTogUHJvbWlzZTxDaGF0TW9kZWw+IHtcclxuICBhd2FpdCBlbnN1cmVOZXdzbGV0dGVyKG5ld3NsZXR0ZXJJZCk7XHJcbiAgaWYgKHZhbHVlID09PSBmYWxzZSkge1xyXG4gICAgYXdhaXQgdW5tdXRlTmV3c2xldHRlcihbbmV3c2xldHRlcklkXSk7XHJcbiAgICByZXR1cm4gTmV3c2xldHRlclN0b3JlLmdldChuZXdzbGV0dGVySWQpIGFzIENoYXRNb2RlbDtcclxuICB9IGVsc2Uge1xyXG4gICAgYXdhaXQgbXV0ZU5ld3NsZXR0ZXIoW25ld3NsZXR0ZXJJZF0pO1xyXG4gICAgcmV0dXJuIE5ld3NsZXR0ZXJTdG9yZS5nZXQobmV3c2xldHRlcklkKSBhcyBDaGF0TW9kZWw7XHJcbiAgfVxyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9mdW5jdGlvbnMnO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCAnLi9yZWdpc3RlclVwZGF0ZU9yZGVyRXZlbnQnO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGludGVybmFsRXYgfSBmcm9tICcuLi8uLi9ldmVudEVtaXR0ZXInO1xyXG5pbXBvcnQgKiBhcyB3ZWJwYWNrIGZyb20gJy4uLy4uL3dlYnBhY2snO1xyXG5pbXBvcnQgeyBNc2dNb2RlbCwgTXNnU3RvcmUgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcblxyXG53ZWJwYWNrLm9uSW5qZWN0ZWQoKCkgPT4gcmVnaXN0ZXJVcGRhdGVPcmRlckV2ZW50KCkpO1xyXG5cclxuZnVuY3Rpb24gcmVnaXN0ZXJVcGRhdGVPcmRlckV2ZW50KCkge1xyXG4gIE1zZ1N0b3JlLm9uKCdhZGQnLCAobXNnOiBNc2dNb2RlbCkgPT4ge1xyXG4gICAgaWYgKFxyXG4gICAgICBtc2cudHlwZSAhPT0gJ2ludGVyYWN0aXZlJyB8fFxyXG4gICAgICBtc2cuaW50ZXJhY3RpdmVQYXlsb2FkPy5idXR0b25zWzBdLm5hbWUgIT09ICdwYXltZW50X21ldGhvZCcgfHxcclxuICAgICAgIW1zZy5pc05ld01zZ1xyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHBheWxvYWQgPSBKU09OLnBhcnNlKFxyXG4gICAgICBtc2cuaW50ZXJhY3RpdmVQYXlsb2FkPy5idXR0b25zWzBdLmJ1dHRvblBhcmFtc0pzb25cclxuICAgICk7XHJcblxyXG4gICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xyXG4gICAgICBpbnRlcm5hbEV2LmVtaXQoJ29yZGVyLnBheW1lbnRfc3RhdHVzJywge1xyXG4gICAgICAgIG1ldGhvZDogcGF5bG9hZC5wYXltZW50X21ldGhvZCxcclxuICAgICAgICB0aW1lc3RhbXA6IHBheWxvYWQucGF5bWVudF90aW1lc3RhbXAsXHJcbiAgICAgICAgcmVmZXJlbmNlX2lkOiBwYXlsb2FkLnJlZmVyZW5jZV9pZCxcclxuICAgICAgICBtc2dJZDogbXNnLmlkLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgTXNnS2V5LCBNc2dTdG9yZSwgT3JkZXJNb2RlbCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgTVNHX1RZUEUgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9lbnVtcyc7XHJcbmltcG9ydCB7IHF1ZXJ5T3JkZXIgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG4vKipcclxuICogR2V0IGluZm8gb2YgYSBvcmRlclxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGNvbnN0IG9yZGVySW5mbyA9IGF3YWl0IFdQUC5vcmRlci5nZXQoKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEByZXR1cm4gWW91ciBjdXJyZW50IGNhdGFsb2dcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXQobXNnSWQ6IHN0cmluZyB8IE1zZ0tleSkge1xyXG4gIGNvbnN0IG1zZyA9IE1zZ1N0b3JlLmdldChtc2dJZCk7XHJcbiAgaWYgKCFtc2cpIHRocm93IG5ldyBXUFBFcnJvcignbXNnX25vdF9mb3VuZCcsICdNZXNzYWdlIG5vdCBmb3VuZCcpO1xyXG4gIGlmIChtc2cudHlwZSA9PT0gTVNHX1RZUEUuT1JERVIpIHtcclxuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgcXVlcnlPcmRlcihtc2cub3JkZXJJZCwgODAsIDgwLCBtc2cudG9rZW4pO1xyXG4gICAgY29uc3QgbW9kZWwgPSBuZXcgT3JkZXJNb2RlbCh7XHJcbiAgICAgIGlkOiBtc2cub3JkZXJJZCxcclxuICAgICAgcHJvZHVjdHM6IG9yZGVyLnByb2R1Y3RzLFxyXG4gICAgICBpdGVtQ291bnQ6IG9yZGVyLnByb2R1Y3RzLmxlbmd0aCxcclxuICAgICAgc3VidG90YWw6IG9yZGVyLnN1YnRvdGFsLFxyXG4gICAgICB0YXg6IG9yZGVyLnRheCxcclxuICAgICAgdG90YWw6IG9yZGVyLnRvdGFsLFxyXG4gICAgICBjdXJyZW5jeTogb3JkZXIuY3VycmVuY3ksXHJcbiAgICAgIGNyZWF0ZWRBdDogb3JkZXIuY3JlYXRlZEF0LFxyXG4gICAgICBzZWxsZXJKaWQ6IG1zZy5zZWxsZXJKaWQsXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBtb2RlbDtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKCdtc2dfbm90X2lzX2Ffb3JkZXInLCAnTWVzc2FnZSBub3QgaXMgYSBvcmRlcicpO1xyXG4gIH1cclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCB7IGdldCB9IGZyb20gJy4vZ2V0JztcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2V2ZW50cyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZnVuY3Rpb25zJztcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG4vKipcclxuICogR2V0IGFsbCBwcml2YWN5IHNldHRpbmdzXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogU2V0IHZhbHVlIGZvciB3aG8gY2FuIHNlZSB5b3VyIG9ubGluZSBzdGF0dXMgbGlrZSAnYWxsJ1xyXG4gKiBhd2FpdCBXUFAucHJpdmFjeS5nZXQoKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBQcml2YWN5XHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICBnZXRTdGF0dXNQcml2YWN5U2V0dGluZyxcclxuICBnZXRVc2VyUHJpdmFjeVNldHRpbmdzLFxyXG59IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0KCk6IFByb21pc2U8e1xyXG4gIGFib3V0OiBzdHJpbmc7XHJcbiAgY2FsbEFkZDogc3RyaW5nO1xyXG4gIGdyb3VwQWRkOiBzdHJpbmc7XHJcbiAgbGFzdFNlZW46IHN0cmluZztcclxuICBvbmxpbmU6IHN0cmluZztcclxuICBwcm9maWxlUGljdHVyZTogc3RyaW5nO1xyXG4gIHJlYWRSZWNlaXB0czogc3RyaW5nO1xyXG4gIHN0YXR1czogc3RyaW5nO1xyXG59PiB7XHJcbiAgcmV0dXJuIHtcclxuICAgIC4uLmdldFVzZXJQcml2YWN5U2V0dGluZ3MoKSxcclxuICAgIC4uLnsgc3RhdHVzOiBhd2FpdCBnZXRTdGF0dXNQcml2YWN5U2V0dGluZygpIH0sXHJcbiAgfTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIGRpc2FsbG93ZWQgbGlzdCB0byBnZXQgdGhlIGNvbnRhY3RzIHdobyBjYW5ub3Qgc2VlIHlvdXIgcHJpdmFjeSAodGhpcyBhcHBsaWVzIHdoZW4gZW5hYmxlZDogbXkgY29udGFjdHMsIGV4Y2VwdC4uLikuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gZ2V0IGRpc2Fsb3dlZCBsaXN0IGZvciBncm91cCBMYXN0IHNlZW5cclxuICogY29uc3QgZGlzYWxvd2VkID0gV1BQLnByaXZhY3kuZ2V0RGlzYWxvd2VkTGlzdCgnbGFzdCcpO1xyXG4gKlxyXG4gKiAvLyBnZXQgZGlzYWxvd2VkIGxpc3QgZm9yIHByb2ZpbGVcclxuICogY29uc3QgZGlzYWxvd2VkID0gV1BQLnByaXZhY3kuZ2V0RGlzYWxvd2VkTGlzdCgncHJvZmlsZScpO1xyXG4gKlxyXG4gKiAvLyBnZXQgZGlzYWxvd2VkIGxpc3QgZm9yIHN0YXR1c1xyXG4gKiBjb25zdCBkaXNhbG93ZWQgPSBXUFAucHJpdmFjeS5nZXREaXNhbG93ZWRMaXN0KCdzdGF0dXMnKTtcclxuICpcclxuICogLy8gZ2V0IGRpc2Fsb3dlZCBsaXN0IGZvciBncm91cCBhZGRcclxuICogY29uc3QgZGlzYWxvd2VkID0gV1BQLnByaXZhY3kuZ2V0RGlzYWxvd2VkTGlzdCgnZ3JvdXBhZGQnKTtcclxuICpcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBQcml2YWN5XHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgUHJpdmFjeURpc2FsbG93ZWRMaXN0VHlwZSB9IGZyb20gJy4uLy4uL2VudW1zJztcclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgZ2V0UHJpdmFjeURpc2FsbG93ZWRMaXN0VGFibGUgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERpc2FsbG93ZWRMaXN0KFxyXG4gIHR5cGU6IFByaXZhY3lEaXNhbGxvd2VkTGlzdFR5cGVcclxuKTogUHJvbWlzZTxzdHJpbmdbXSB8IG51bGw+IHtcclxuICBpZiAoXHJcbiAgICB0eXBlb2YgdHlwZSAhPT0gJ3N0cmluZycgfHxcclxuICAgICFPYmplY3QudmFsdWVzKFByaXZhY3lEaXNhbGxvd2VkTGlzdFR5cGUpLmluY2x1ZGVzKHR5cGUpXHJcbiAgKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICdpbmNvcnJlY3RfdHlwZScsXHJcbiAgICAgIGBJbmNvcnJlY3QgdHlwZSAke3R5cGUgfHwgJzxlbXB0eT4nfSBmb3IgZ2V0IGRpc2Fsb3dlZCBsaXN0YCxcclxuICAgICAge1xyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG4gIGNvbnN0IGxpc3QgPSBhd2FpdCBnZXRQcml2YWN5RGlzYWxsb3dlZExpc3RUYWJsZSgpLmdldCh0eXBlKTtcclxuICBpZiAoIWxpc3QpIHJldHVybiBudWxsO1xyXG4gIHJldHVybiBsaXN0LmRpc2FsbG93ZWRMaXN0O1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IHsgZ2V0IH0gZnJvbSAnLi9nZXQnO1xyXG5leHBvcnQgeyBnZXREaXNhbGxvd2VkTGlzdCB9IGZyb20gJy4vZ2V0RGlzYWxsb3dlZExpc3QnO1xyXG5leHBvcnQgeyBzZXRBYm91dCB9IGZyb20gJy4vc2V0QWJvdXQnO1xyXG5leHBvcnQgeyBzZXRBZGRHcm91cCB9IGZyb20gJy4vc2V0QWRkR3JvdXAnO1xyXG5leHBvcnQgeyBzZXRMYXN0U2VlbiB9IGZyb20gJy4vc2V0TGFzdFNlZW4nO1xyXG5leHBvcnQgeyBzZXRPbmxpbmUgfSBmcm9tICcuL3NldE9ubGluZSc7XHJcbmV4cG9ydCB7IHNldFByb2ZpbGVQaWMgfSBmcm9tICcuL3NldFByb2ZpbGVQaWMnO1xyXG5leHBvcnQgeyBzZXRSZWFkUmVjZWlwdHMgfSBmcm9tICcuL3NldFJlYWRSZWNlaXB0cyc7XHJcbmV4cG9ydCB7IHNldFN0YXR1cyB9IGZyb20gJy4vc2V0U3RhdHVzJztcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBQcml2YWN5RGlzYWxsb3dlZExpc3RUeXBlIH0gZnJvbSAnLi4vLi4vZW51bXMnO1xyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IGdldFByaXZhY3lEaXNhbGxvd2VkTGlzdFRhYmxlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcmVwYXJlRGlzYWxsb3dlZExpc3QoXHJcbiAgdHlwZTogUHJpdmFjeURpc2FsbG93ZWRMaXN0VHlwZSxcclxuICB2YWx1ZTogYW55LFxyXG4gIGxpc3Q/OiB7IGlkOiBzdHJpbmc7IGFjdGlvbjogJ2FkZCcgfCAncmVtb3ZlJyB9W11cclxuKTogUHJvbWlzZTx7XHJcbiAgaWRzOiBXaWRbXTtcclxuICBkaGFzaDogbnVtYmVyIHwgbnVsbDtcclxuICBpZHNGb3JtYXR0ZWQ6IHsgd2lkOiBXaWQ7IGFjdGlvbjogJ2FkZCcgfCAncmVtb3ZlJyB9W107XHJcbiAgYWxsVXNlcnM6IFdpZFtdO1xyXG59PiB7XHJcbiAgaWYgKHZhbHVlICE9PSAnY29udGFjdF9ibGFja2xpc3QnKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZHM6IFtdLFxyXG4gICAgICBkaGFzaDogbnVsbCxcclxuICAgICAgaWRzRm9ybWF0dGVkOiBbXSxcclxuICAgICAgYWxsVXNlcnM6IFtdLFxyXG4gICAgfTtcclxuICB9XHJcbiAgaWYgKFxyXG4gICAgdHlwZW9mIHR5cGUgIT09ICdzdHJpbmcnIHx8XHJcbiAgICAhT2JqZWN0LnZhbHVlcyhQcml2YWN5RGlzYWxsb3dlZExpc3RUeXBlKS5pbmNsdWRlcyh0eXBlKVxyXG4gICkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnaW5jb3JyZWN0X3R5cGUnLFxyXG4gICAgICBgSW5jb3JyZWN0IHR5cGUgJHt0eXBlIHx8ICc8ZW1wdHk+J30gZm9yIGdldCBkaXNhbG93ZWQgbGlzdGAsXHJcbiAgICAgIHtcclxuICAgICAgICB0eXBlLFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuICBjb25zdCBhY3R1YWwgPSBhd2FpdCBnZXRQcml2YWN5RGlzYWxsb3dlZExpc3RUYWJsZSgpLmdldCh0eXBlKTtcclxuICBpZiAoIWxpc3QgfHwgbGlzdD8ubGVuZ3RoID09PSAwKSB7XHJcbiAgICBpZiAoIWFjdHVhbCkge1xyXG4gICAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICAgJ2Rpc2FsbG93ZWRfbGlzdF9pc19tYW5kYXRvcnknLFxyXG4gICAgICAgIGBEaXNhbGxvd2VkIGxpc3QgaXMgZW1wdHksIHBsZWFzZSBzZW5kIGRpc2FsbG93ZWQgbGlzdCBwYXJhbWBcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlkczogYWN0dWFsIS5kaXNhbGxvd2VkTGlzdC5tYXAoXHJcbiAgICAgICAgKGkpID0+IG5ldyBXaWQoaSwgeyBpbnRlbnRpb25hbGx5VXNlUHJpdmF0ZUNvbnN0cnVjdG9yOiB0cnVlIH0pXHJcbiAgICAgICksXHJcbiAgICAgIGRoYXNoOiBhY3R1YWwuZGhhc2gsXHJcbiAgICAgIGlkc0Zvcm1hdHRlZDogW10sXHJcbiAgICAgIGFsbFVzZXJzOiBhY3R1YWwhLmRpc2FsbG93ZWRMaXN0Lm1hcChcclxuICAgICAgICAoaSkgPT4gbmV3IFdpZChpLCB7IGludGVudGlvbmFsbHlVc2VQcml2YXRlQ29uc3RydWN0b3I6IHRydWUgfSlcclxuICAgICAgKSxcclxuICAgIH07XHJcbiAgfSBlbHNlIGlmIChhY3R1YWwgPT0gbnVsbCkge1xyXG4gICAgbGlzdCA9IGxpc3Q/LmZpbHRlcigoaSkgPT4gaS5hY3Rpb24gIT09ICdyZW1vdmUnKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlkczogbGlzdCEubWFwKFxyXG4gICAgICAgIChpKSA9PiBuZXcgV2lkKGkuaWQsIHsgaW50ZW50aW9uYWxseVVzZVByaXZhdGVDb25zdHJ1Y3RvcjogdHJ1ZSB9KVxyXG4gICAgICApLFxyXG4gICAgICBkaGFzaDogbnVsbCxcclxuICAgICAgaWRzRm9ybWF0dGVkOiBsaXN0IS5tYXAoKGkpID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgd2lkOiBuZXcgV2lkKGkuaWQsIHsgaW50ZW50aW9uYWxseVVzZVByaXZhdGVDb25zdHJ1Y3RvcjogdHJ1ZSB9KSxcclxuICAgICAgICAgIGFjdGlvbjogJ2FkZCcsXHJcbiAgICAgICAgfTtcclxuICAgICAgfSksXHJcbiAgICAgIGFsbFVzZXJzOiBsaXN0IS5tYXAoXHJcbiAgICAgICAgKGkpID0+IG5ldyBXaWQoaS5pZCwgeyBpbnRlbnRpb25hbGx5VXNlUHJpdmF0ZUNvbnN0cnVjdG9yOiB0cnVlIH0pXHJcbiAgICAgICksXHJcbiAgICB9O1xyXG4gIH1cclxuICBjb25zdCBmaWx0ZXJlZCA9IGFjdHVhbC5kaXNhbGxvd2VkTGlzdC5maWx0ZXIoXHJcbiAgICAoaSkgPT4gIWxpc3Quc29tZSgoaXRlbSkgPT4gaXRlbS5hY3Rpb24gPT09ICdyZW1vdmUnICYmIGl0ZW0uaWQgPT09IGkpXHJcbiAgKTtcclxuICBjb25zdCBmaWx0ZXJlZExpc3QgPSBsaXN0LmZpbHRlcigoaSkgPT4gaS5hY3Rpb24gIT09ICdyZW1vdmUnKTtcclxuXHJcbiAgY29uc3QgYWxsVXNlcnMgPSAoW10gYXMgV2lkW10pLmNvbmNhdChcclxuICAgIGZpbHRlcmVkTGlzdCEubWFwKFxyXG4gICAgICAoaSkgPT4gbmV3IFdpZChpLmlkLCB7IGludGVudGlvbmFsbHlVc2VQcml2YXRlQ29uc3RydWN0b3I6IHRydWUgfSlcclxuICAgICksXHJcbiAgICBmaWx0ZXJlZC5tYXAoXHJcbiAgICAgIChpKSA9PiBuZXcgV2lkKGksIHsgaW50ZW50aW9uYWxseVVzZVByaXZhdGVDb25zdHJ1Y3RvcjogdHJ1ZSB9KVxyXG4gICAgKVxyXG4gICk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBpZHM6IGxpc3QhLm1hcChcclxuICAgICAgKGkpID0+IG5ldyBXaWQoaS5pZCwgeyBpbnRlbnRpb25hbGx5VXNlUHJpdmF0ZUNvbnN0cnVjdG9yOiB0cnVlIH0pXHJcbiAgICApLFxyXG4gICAgZGhhc2g6IGFjdHVhbC5kaGFzaCxcclxuICAgIGlkc0Zvcm1hdHRlZDogbGlzdCEubWFwKChpKSA9PiB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgd2lkOiBuZXcgV2lkKGkuaWQsIHsgaW50ZW50aW9uYWxseVVzZVByaXZhdGVDb25zdHJ1Y3RvcjogdHJ1ZSB9KSxcclxuICAgICAgICBhY3Rpb246IGkuYWN0aW9uLFxyXG4gICAgICB9O1xyXG4gICAgfSksXHJcbiAgICBhbGxVc2VyczogYWxsVXNlcnMsXHJcbiAgfTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBTZXQgd2hvIGNhbiBzZWUgeW91ciBhYm91dC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBTZXQgdmFsdWUgZm9yIHdobyBjYW4gc2VlIHlvdXIgYWJvdXQgbGlrZSAnYWxsJ1xyXG4gKiBhd2FpdCBXUFAucHJpdmFjeS5zZXRBYm91dCgnYWxsJyk7XHJcbiAqXHJcbiAqIFNldCB2YWx1ZSBmb3Igd2hvIGNhbiBzZWUgeW91ciBhYm91dCAgbGlrZSAnbm9uZSdcclxuICogYXdhaXQgV1BQLnByaXZhY3kuc2V0QWJvdXQoJ25vbmUnKTtcclxuICpcclxuICogU2V0IHZhbHVlIGZvciB3aG8gY2FuIHNlZSB5b3VyIGFib3V0IGxpa2UgJ29ubHkgeW91ciBjb250YWN0cydcclxuICogYXdhaXQgV1BQLnByaXZhY3kuc2V0QWJvdXQoJ2NvbnRhY3RzJyk7XHJcbiAqXHJcbiAqIFNldCB2YWx1ZSBmb3Igd2hvIGNhbiBzZWUgeW91ciBhYm91dCBsaWtlICd5b3VyIGNvbnRhY3RzJywgYnV0IHdpdGggZXhjZXB0c1xyXG4gKiBhd2FpdCBXUFAucHJpdmFjeS5zZXRBYm91dCgnY29udGFjdF9ibGFja2xpc3QnLCBbXHJcbiAqICAgeyBpZDogJ1tudW1iZXJdQGMudXMnLCBhY3Rpb246ICdhZGQnIH0sXHJcbiAqICAgeyBpZDogJ1tudW1iZXJdQGMudXMnLCBhY3Rpb246ICdyZW1vdmUnIH1cclxuICogXSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgUHJpdmFjeVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFByaXZhY3lEaXNhbGxvd2VkTGlzdFR5cGUgfSBmcm9tICcuLi8uLi9lbnVtcyc7XHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7XHJcbiAgZ2V0VXNlclByaXZhY3lTZXR0aW5ncyxcclxuICBzZXRQcml2YWN5Rm9yT25lQ2F0ZWdvcnksXHJcbn0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHsgcHJlcGFyZURpc2FsbG93ZWRMaXN0IH0gZnJvbSAnLi9wcmVwYXJlRGlzYWxsb3dlZExpc3QnO1xyXG5cclxuZXhwb3J0IGVudW0gc2V0QWJvdXRUeXBlcyB7XHJcbiAgYWxsID0gJ2FsbCcsXHJcbiAgY29udGFjdHMgPSAnY29udGFjdHMnLFxyXG4gIG5vbmUgPSAnbm9uZScsXHJcbiAgY29udGFjdF9ibGFja2xpc3QgPSAnY29udGFjdF9ibGFja2xpc3QnLFxyXG59XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRBYm91dChcclxuICB2YWx1ZTogc2V0QWJvdXRUeXBlcyxcclxuICBkaXNhbGxvd2VkTGlzdD86IHsgaWQ6IHN0cmluZzsgYWN0aW9uOiAnYWRkJyB8ICdyZW1vdmUnIH1bXVxyXG4pOiBQcm9taXNlPHNldEFib3V0VHlwZXM+IHtcclxuICBpZiAoXHJcbiAgICB0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnIHx8XHJcbiAgICAhT2JqZWN0LnZhbHVlcyhzZXRBYm91dFR5cGVzKS5pbmNsdWRlcyh2YWx1ZSlcclxuICApIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ2luY29ycmVjdF90eXBlJyxcclxuICAgICAgYEluY29ycmVjdCB0eXBlICR7dmFsdWUgfHwgJzxlbXB0eT4nfSBmb3Igc2V0IGFib3V0IHByaXZhY3lgLFxyXG4gICAgICB7XHJcbiAgICAgICAgdmFsdWUsXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG4gIGNvbnN0IGRpc2FsbG93ZWQgPSBhd2FpdCBwcmVwYXJlRGlzYWxsb3dlZExpc3QoXHJcbiAgICBQcml2YWN5RGlzYWxsb3dlZExpc3RUeXBlLkFib3V0LFxyXG4gICAgdmFsdWUsXHJcbiAgICBkaXNhbGxvd2VkTGlzdFxyXG4gICk7XHJcbiAgYXdhaXQgc2V0UHJpdmFjeUZvck9uZUNhdGVnb3J5KFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBQcml2YWN5RGlzYWxsb3dlZExpc3RUeXBlLkFib3V0LFxyXG4gICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgIGRoYXNoOiB2YWx1ZSA9PT0gJ2NvbnRhY3RfYmxhY2tsaXN0JyA/IGRpc2FsbG93ZWQuZGhhc2ggOiBudWxsLFxyXG4gICAgICB1c2VyczpcclxuICAgICAgICB2YWx1ZSA9PT0gJ2NvbnRhY3RfYmxhY2tsaXN0JyA/IGRpc2FsbG93ZWQuaWRzRm9ybWF0dGVkIDogdW5kZWZpbmVkLFxyXG4gICAgfSxcclxuICAgIHZhbHVlID09PSAnY29udGFjdF9ibGFja2xpc3QnID8gZGlzYWxsb3dlZC5hbGxVc2VycyA6IHVuZGVmaW5lZFxyXG4gICk7XHJcbiAgcmV0dXJuIGdldFVzZXJQcml2YWN5U2V0dGluZ3MoKS5hYm91dCBhcyBhbnk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG4vKipcclxuICogU2V0IHdobyBjYW4gYWRkIHlvdSB0byBhIGdyb3VwLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIFNldCB2YWx1ZSBmb3Igd2hvIGNhbiBhZGQgdG8gYSBncm91cCBsaWtlICdhbGwnXHJcbiAqIGF3YWl0IFdQUC5wcml2YWN5LnNldEFkZEdyb3VwKCdhbGwnKTtcclxuICpcclxuICogU2V0IHZhbHVlIGZvciB3aG8gY2FuIGFkZCB0byBhIGdyb3VwIGxpa2UgJ29ubHkgeW91ciBjb250YWN0cydcclxuICogYXdhaXQgV1BQLnByaXZhY3kuc2V0QWRkR3JvdXAoJ2NvbnRhY3RzJyk7XHJcbiAqXHJcbiAqIFNldCB2YWx1ZSBmb3Igd2hvIGNhbiBhZGQgdG8gYSBncm91cCBsaWtlICd5b3VyIGNvbnRhY3RzJywgYnV0IHdpdGggZXhjZXB0c1xyXG4gKiBhd2FpdCBXUFAucHJpdmFjeS5zZXRBZGRHcm91cCgnY29udGFjdF9ibGFja2xpc3QnLCBbXHJcbiAqICAgeyBpZDogJ1tudW1iZXJdQGMudXMnLCBhY3Rpb246ICdhZGQnIH0sXHJcbiAqICAgeyBpZDogJ1tudW1iZXJdQGMudXMnLCBhY3Rpb246ICdyZW1vdmUnIH1cclxuICogXSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgUHJpdmFjeVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFByaXZhY3lEaXNhbGxvd2VkTGlzdFR5cGUgfSBmcm9tICcuLi8uLi9lbnVtcyc7XHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7XHJcbiAgZ2V0VXNlclByaXZhY3lTZXR0aW5ncyxcclxuICBzZXRQcml2YWN5Rm9yT25lQ2F0ZWdvcnksXHJcbn0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHsgcHJlcGFyZURpc2FsbG93ZWRMaXN0IH0gZnJvbSAnLi9wcmVwYXJlRGlzYWxsb3dlZExpc3QnO1xyXG5cclxuZXhwb3J0IGVudW0gc2V0QWRkR3JvdXBUeXBlcyB7XHJcbiAgYWxsID0gJ2FsbCcsXHJcbiAgY29udGFjdHMgPSAnY29udGFjdHMnLFxyXG4gIGNvbnRhY3RfYmxhY2tsaXN0ID0gJ2NvbnRhY3RfYmxhY2tsaXN0JyxcclxufVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0QWRkR3JvdXAoXHJcbiAgdmFsdWU6IHNldEFkZEdyb3VwVHlwZXMsXHJcbiAgZGlzYWxsb3dlZExpc3Q/OiB7IGlkOiBzdHJpbmc7IGFjdGlvbjogJ2FkZCcgfCAncmVtb3ZlJyB9W11cclxuKTogUHJvbWlzZTxzZXRBZGRHcm91cFR5cGVzPiB7XHJcbiAgaWYgKFxyXG4gICAgdHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyB8fFxyXG4gICAgIU9iamVjdC52YWx1ZXMoc2V0QWRkR3JvdXBUeXBlcykuaW5jbHVkZXModmFsdWUpXHJcbiAgKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICdpbmNvcnJlY3RfdHlwZScsXHJcbiAgICAgIGBJbmNvcnJlY3QgdHlwZSAke3ZhbHVlIHx8ICc8ZW1wdHk+J30gZm9yIHNldCBhZGQgZ3JvdXAgcHJpdmFjeWAsXHJcbiAgICAgIHtcclxuICAgICAgICB2YWx1ZSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcbiAgY29uc3QgZGlzYWxsb3dlZCA9IGF3YWl0IHByZXBhcmVEaXNhbGxvd2VkTGlzdChcclxuICAgIFByaXZhY3lEaXNhbGxvd2VkTGlzdFR5cGUuR3JvdXBBZGQsXHJcbiAgICB2YWx1ZSxcclxuICAgIGRpc2FsbG93ZWRMaXN0XHJcbiAgKTtcclxuICBhd2FpdCBzZXRQcml2YWN5Rm9yT25lQ2F0ZWdvcnkoXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFByaXZhY3lEaXNhbGxvd2VkTGlzdFR5cGUuR3JvdXBBZGQsXHJcbiAgICAgIHZhbHVlOiB2YWx1ZSxcclxuICAgICAgZGhhc2g6IHZhbHVlID09PSAnY29udGFjdF9ibGFja2xpc3QnID8gZGlzYWxsb3dlZC5kaGFzaCA6IG51bGwsXHJcbiAgICAgIHVzZXJzOlxyXG4gICAgICAgIHZhbHVlID09PSAnY29udGFjdF9ibGFja2xpc3QnID8gZGlzYWxsb3dlZC5pZHNGb3JtYXR0ZWQgOiB1bmRlZmluZWQsXHJcbiAgICB9LFxyXG4gICAgdmFsdWUgPT09ICdjb250YWN0X2JsYWNrbGlzdCcgPyBkaXNhbGxvd2VkLmFsbFVzZXJzIDogdW5kZWZpbmVkXHJcbiAgKTtcclxuICByZXR1cm4gZ2V0VXNlclByaXZhY3lTZXR0aW5ncygpLmdyb3VwQWRkIGFzIGFueTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBTZXQgd2hvIGNhbiBzZWUgeW91ciBsYXN0IHNlZW4gc3RhdHVzLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIFNldCB2YWx1ZSBmb3Igd2hvIGNhbiBzZWUgeW91ciBsYXN0IHNlZW4gbGlrZSAnYWxsJ1xyXG4gKiBhd2FpdCBXUFAucHJpdmFjeS5zZXRMYXN0U2VlbignYWxsJyk7XHJcbiAqXHJcbiAqIFNldCB2YWx1ZSBmb3Igd2hvIGNhbiBzZWUgeW91ciBsYXN0IHNlZW4gbGlrZSAnbm9uZSdcclxuICogYXdhaXQgV1BQLnByaXZhY3kuc2V0TGFzdFNlZW4oJ25vbmUnKTtcclxuICpcclxuICogU2V0IHZhbHVlIGZvciB3aG8gY2FuIHNlZSB5b3VyIGxhc3Qgc2VlbiBsaWtlICdvbmx5IHlvdXIgY29udGFjdHMnXHJcbiAqIGF3YWl0IFdQUC5wcml2YWN5LnNldExhc3RTZWVuKCdjb250YWN0cycpO1xyXG4gKlxyXG4gKiBTZXQgdmFsdWUgZm9yIHdobyBjYW4gc2VlIHlvdXIgbGFzdCBzZWVuIGxpa2UgJ3lvdXIgY29udGFjdHMnLCBidXQgd2l0aCBleGNlcHRzXHJcbiAqIGF3YWl0IFdQUC5wcml2YWN5LnNldExhc3RTZWVuKCdjb250YWN0X2JsYWNrbGlzdCcsIFtcclxuICogICB7IGlkOiAnW251bWJlcl1AYy51cycsIGFjdGlvbjogJ2FkZCcgfSxcclxuICogICB7IGlkOiAnW251bWJlcl1AYy51cycsIGFjdGlvbjogJ3JlbW92ZScgfVxyXG4gKiBdKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBQcml2YWN5XHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgUHJpdmFjeURpc2FsbG93ZWRMaXN0VHlwZSB9IGZyb20gJy4uLy4uL2VudW1zJztcclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHtcclxuICBnZXRVc2VyUHJpdmFjeVNldHRpbmdzLFxyXG4gIHNldFByaXZhY3lGb3JPbmVDYXRlZ29yeSxcclxufSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBwcmVwYXJlRGlzYWxsb3dlZExpc3QgfSBmcm9tICcuL3ByZXBhcmVEaXNhbGxvd2VkTGlzdCc7XHJcblxyXG5leHBvcnQgZW51bSBzZXRMYXN0U2VlblR5cGVzIHtcclxuICBhbGwgPSAnYWxsJyxcclxuICBjb250YWN0cyA9ICdjb250YWN0cycsXHJcbiAgbm9uZSA9ICdub25lJyxcclxuICBjb250YWN0X2JsYWNrbGlzdCA9ICdjb250YWN0X2JsYWNrbGlzdCcsXHJcbn1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNldExhc3RTZWVuKFxyXG4gIHZhbHVlOiBzZXRMYXN0U2VlblR5cGVzLFxyXG4gIGRpc2FsbG93ZWRMaXN0PzogeyBpZDogc3RyaW5nOyBhY3Rpb246ICdhZGQnIHwgJ3JlbW92ZScgfVtdXHJcbik6IFByb21pc2U8c2V0TGFzdFNlZW5UeXBlcz4ge1xyXG4gIGlmIChcclxuICAgIHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgfHxcclxuICAgICFPYmplY3QudmFsdWVzKHNldExhc3RTZWVuVHlwZXMpLmluY2x1ZGVzKHZhbHVlKVxyXG4gICkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnaW5jb3JyZWN0X3R5cGUnLFxyXG4gICAgICBgSW5jb3JyZWN0IHR5cGUgJHt2YWx1ZSB8fCAnPGVtcHR5Pid9IGZvciBzZXQgbGFzdCBzZWVuIHByaXZhY3lgLFxyXG4gICAgICB7XHJcbiAgICAgICAgdmFsdWUsXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG4gIGNvbnN0IGRpc2FsbG93ZWQgPSBhd2FpdCBwcmVwYXJlRGlzYWxsb3dlZExpc3QoXHJcbiAgICBQcml2YWN5RGlzYWxsb3dlZExpc3RUeXBlLkxhc3RTZWVuLFxyXG4gICAgdmFsdWUsXHJcbiAgICBkaXNhbGxvd2VkTGlzdFxyXG4gICk7XHJcbiAgYXdhaXQgc2V0UHJpdmFjeUZvck9uZUNhdGVnb3J5KFxyXG4gICAge1xyXG4gICAgICBuYW1lOiAnbGFzdCcsXHJcbiAgICAgIHZhbHVlOiB2YWx1ZSxcclxuICAgICAgZGhhc2g6IHZhbHVlID09PSAnY29udGFjdF9ibGFja2xpc3QnID8gZGlzYWxsb3dlZC5kaGFzaCA6IG51bGwsXHJcbiAgICAgIHVzZXJzOlxyXG4gICAgICAgIHZhbHVlID09PSAnY29udGFjdF9ibGFja2xpc3QnID8gZGlzYWxsb3dlZC5pZHNGb3JtYXR0ZWQgOiB1bmRlZmluZWQsXHJcbiAgICB9LFxyXG4gICAgdmFsdWUgPT09ICdjb250YWN0X2JsYWNrbGlzdCcgPyBkaXNhbGxvd2VkLmFsbFVzZXJzIDogdW5kZWZpbmVkXHJcbiAgKTtcclxuICByZXR1cm4gZ2V0VXNlclByaXZhY3lTZXR0aW5ncygpLmxhc3RTZWVuIGFzIGFueTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBTZXQgd2hvIGNhbiBzZWUgeW91ciBvbmxpbmUgc3RhdHVzLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIFNldCB2YWx1ZSBmb3Igd2hvIGNhbiBzZWUgeW91ciBvbmxpbmUgc3RhdHVzIGxpa2UgJ2FsbCdcclxuICogYXdhaXQgV1BQLnByaXZhY3kuc2V0QWJvdXQoJ2FsbCcpO1xyXG4gKlxyXG4gKiBTZXQgdmFsdWUgZm9yIHdobyBjYW4gc2VlIHlvdXIgb25saW5lIHN0YXR1cyBsaWtlICdtYXRjaF9sYXN0X3NlZW4nXHJcbiAqIGF3YWl0IFdQUC5wcml2YWN5LnNldEFib3V0KCdtYXRjaF9sYXN0X3NlZW4nKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBQcml2YWN5XHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHtcclxuICBnZXRVc2VyUHJpdmFjeVNldHRpbmdzLFxyXG4gIHNldFByaXZhY3lGb3JPbmVDYXRlZ29yeSxcclxufSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuZXhwb3J0IGVudW0gc2V0T25saW5lVHlwZXMge1xyXG4gIGFsbCA9ICdhbGwnLFxyXG4gIG1hdGNoX2xhc3Rfc2VlbiA9ICdtYXRjaF9sYXN0X3NlZW4nLFxyXG59XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRPbmxpbmUoXHJcbiAgdmFsdWU6IHNldE9ubGluZVR5cGVzXHJcbik6IFByb21pc2U8c2V0T25saW5lVHlwZXM+IHtcclxuICBpZiAoXHJcbiAgICB0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnIHx8XHJcbiAgICAhT2JqZWN0LnZhbHVlcyhzZXRPbmxpbmVUeXBlcykuaW5jbHVkZXModmFsdWUpXHJcbiAgKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICdpbmNvcnJlY3RfdHlwZScsXHJcbiAgICAgIGBJbmNvcnJlY3QgdHlwZSAke3ZhbHVlIHx8ICc8ZW1wdHk+J30gZm9yIHNldCBvbmxpbmUgcHJpdmFjeWAsXHJcbiAgICAgIHtcclxuICAgICAgICB2YWx1ZSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcbiAgYXdhaXQgc2V0UHJpdmFjeUZvck9uZUNhdGVnb3J5KHtcclxuICAgIG5hbWU6ICdvbmxpbmUnLFxyXG4gICAgdmFsdWU6IHZhbHVlLFxyXG4gIH0pO1xyXG4gIHJldHVybiBnZXRVc2VyUHJpdmFjeVNldHRpbmdzKCkub25saW5lIGFzIGFueTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBTZXQgd2hvIGNhbiBzZWUgeW91ciBwcm9maWxlIHBpYy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBTZXQgdmFsdWUgZm9yIHdobyBjYW4gc2VlIHlvdXIgcHJvZmlsZSBwaWMgbGlrZSAnYWxsJ1xyXG4gKiBhd2FpdCBXUFAucHJpdmFjeS5zZXRQcm9maWxlUGljKCdhbGwnKTtcclxuICpcclxuICogU2V0IHZhbHVlIGZvciB3aG8gY2FuIHNlZSB5b3VyIHByb2ZpbGUgcGljICBsaWtlICdub25lJ1xyXG4gKiBhd2FpdCBXUFAucHJpdmFjeS5zZXRQcm9maWxlUGljKCdub25lJyk7XHJcbiAqXHJcbiAqIFNldCB2YWx1ZSBmb3Igd2hvIGNhbiBzZWUgeW91ciBwcm9maWxlIHBpYyBsaWtlICdvbmx5IHlvdXIgY29udGFjdHMnXHJcbiAqIGF3YWl0IFdQUC5wcml2YWN5LnNldFByb2ZpbGVQaWMoJ2NvbnRhY3RzJyk7XHJcbiAqXHJcbiAqIFNldCB2YWx1ZSBmb3Igd2hvIGNhbiBzZWUgeW91ciBwcm9maWxlIHBpYyBsaWtlICd5b3VyIGNvbnRhY3RzJywgYnV0IHdpdGggZXhjZXB0c1xyXG4gKiBhd2FpdCBXUFAucHJpdmFjeS5zZXRQcm9maWxlUGljKCdjb250YWN0X2JsYWNrbGlzdCcsIFtcclxuICogICB7IGlkOiAnW251bWJlcl1AYy51cycsIGFjdGlvbjogJ2FkZCcgfSxcclxuICogICB7IGlkOiAnW251bWJlcl1AYy51cycsIGFjdGlvbjogJ3JlbW92ZScgfVxyXG4gKiBdKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBQcml2YWN5XHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgUHJpdmFjeURpc2FsbG93ZWRMaXN0VHlwZSB9IGZyb20gJy4uLy4uL2VudW1zJztcclxuaW1wb3J0IHsgV1BQRXJyb3IgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHtcclxuICBnZXRVc2VyUHJpdmFjeVNldHRpbmdzLFxyXG4gIHNldFByaXZhY3lGb3JPbmVDYXRlZ29yeSxcclxufSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyBwcmVwYXJlRGlzYWxsb3dlZExpc3QgfSBmcm9tICcuL3ByZXBhcmVEaXNhbGxvd2VkTGlzdCc7XHJcblxyXG5leHBvcnQgZW51bSBzZXRQcm9maWxlUGljVHlwZXMge1xyXG4gIGFsbCA9ICdhbGwnLFxyXG4gIGNvbnRhY3RzID0gJ2NvbnRhY3RzJyxcclxuICBub25lID0gJ25vbmUnLFxyXG4gIGNvbnRhY3RfYmxhY2tsaXN0ID0gJ2NvbnRhY3RfYmxhY2tsaXN0JyxcclxufVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0UHJvZmlsZVBpYyhcclxuICB2YWx1ZTogc2V0UHJvZmlsZVBpY1R5cGVzLFxyXG4gIGRpc2FsbG93ZWRMaXN0PzogeyBpZDogc3RyaW5nOyBhY3Rpb246ICdhZGQnIHwgJ3JlbW92ZScgfVtdXHJcbik6IFByb21pc2U8c2V0UHJvZmlsZVBpY1R5cGVzPiB7XHJcbiAgaWYgKFxyXG4gICAgdHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyB8fFxyXG4gICAgIU9iamVjdC52YWx1ZXMoc2V0UHJvZmlsZVBpY1R5cGVzKS5pbmNsdWRlcyh2YWx1ZSlcclxuICApIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ2luY29ycmVjdF90eXBlJyxcclxuICAgICAgYEluY29ycmVjdCB0eXBlICR7dmFsdWUgfHwgJzxlbXB0eT4nfSBmb3Igc2V0IHByb2ZpbGUgcGljIHByaXZhY3lgLFxyXG4gICAgICB7XHJcbiAgICAgICAgdmFsdWUsXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG4gIGNvbnN0IGRpc2FsbG93ZWQgPSBhd2FpdCBwcmVwYXJlRGlzYWxsb3dlZExpc3QoXHJcbiAgICBQcml2YWN5RGlzYWxsb3dlZExpc3RUeXBlLlByb2ZpbGVQaWN0dXJlLFxyXG4gICAgdmFsdWUsXHJcbiAgICBkaXNhbGxvd2VkTGlzdFxyXG4gICk7XHJcbiAgYXdhaXQgc2V0UHJpdmFjeUZvck9uZUNhdGVnb3J5KFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBQcml2YWN5RGlzYWxsb3dlZExpc3RUeXBlLlByb2ZpbGVQaWN0dXJlLFxyXG4gICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgIGRoYXNoOiB2YWx1ZSA9PT0gJ2NvbnRhY3RfYmxhY2tsaXN0JyA/IGRpc2FsbG93ZWQuZGhhc2ggOiBudWxsLFxyXG4gICAgICB1c2VyczpcclxuICAgICAgICB2YWx1ZSA9PT0gJ2NvbnRhY3RfYmxhY2tsaXN0JyA/IGRpc2FsbG93ZWQuaWRzRm9ybWF0dGVkIDogdW5kZWZpbmVkLFxyXG4gICAgfSxcclxuICAgIHZhbHVlID09PSAnY29udGFjdF9ibGFja2xpc3QnID8gZGlzYWxsb3dlZC5hbGxVc2VycyA6IHVuZGVmaW5lZFxyXG4gICk7XHJcbiAgcmV0dXJuIGdldFVzZXJQcml2YWN5U2V0dGluZ3MoKS5wcm9maWxlUGljdHVyZSBhcyBhbnk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG4vKipcclxuICogU2V0IHdobyBzZW5kIHlvdXIgcmVhZCByZWNlaXB0c1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIFNldCB2YWx1ZSBmb3Igd2hvIGNhbiBzZWUgeW91ciBvbmxpbmUgc3RhdHVzIGxpa2UgJ2FsbCdcclxuICogYXdhaXQgV1BQLnByaXZhY3kuc2V0UmVhZFJlY2VpcHRzKCdhbGwnKTtcclxuICpcclxuICogU2V0IHZhbHVlIGZvciB3aG8gY2FuIHNlZSB5b3VyIG9ubGluZSBzdGF0dXMgbGlrZSAnbm9uZSdcclxuICogYXdhaXQgV1BQLnByaXZhY3kuc2V0UmVhZFJlY2VpcHRzKCdub25lJyk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgUHJpdmFjeVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7XHJcbiAgZ2V0VXNlclByaXZhY3lTZXR0aW5ncyxcclxuICBzZXRQcml2YWN5Rm9yT25lQ2F0ZWdvcnksXHJcbn0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbmV4cG9ydCBlbnVtIHNldFJlYWRSZWNlaXB0c1R5cGVzIHtcclxuICBhbGwgPSAnYWxsJyxcclxuICBub25lID0gJ25vbmUnLFxyXG59XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRSZWFkUmVjZWlwdHMoXHJcbiAgdmFsdWU6IHNldFJlYWRSZWNlaXB0c1R5cGVzXHJcbik6IFByb21pc2U8c2V0UmVhZFJlY2VpcHRzVHlwZXM+IHtcclxuICBpZiAoXHJcbiAgICB0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnIHx8XHJcbiAgICAhT2JqZWN0LnZhbHVlcyhzZXRSZWFkUmVjZWlwdHNUeXBlcykuaW5jbHVkZXModmFsdWUpXHJcbiAgKSB7XHJcbiAgICB0aHJvdyBuZXcgV1BQRXJyb3IoXHJcbiAgICAgICdpbmNvcnJlY3RfdHlwZScsXHJcbiAgICAgIGBJbmNvcnJlY3QgdHlwZSAke3ZhbHVlIHx8ICc8ZW1wdHk+J30gZm9yIHNldCByZWFkIHJlY2VpcHRzIHByaXZhY3lgLFxyXG4gICAgICB7XHJcbiAgICAgICAgdmFsdWUsXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG4gIGF3YWl0IHNldFByaXZhY3lGb3JPbmVDYXRlZ29yeSh7XHJcbiAgICBuYW1lOiAncmVhZHJlY2VpcHRzJyxcclxuICAgIHZhbHVlOiB2YWx1ZSxcclxuICB9KTtcclxuICByZXR1cm4gZ2V0VXNlclByaXZhY3lTZXR0aW5ncygpLnJlYWRSZWNlaXB0cyBhcyBhbnk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG4vKipcclxuICogU2V0IHdobyBjYW4gc2VlIHlvdXIgc3RhdHVzIHN0b3JpZSBtZWRpYVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIFNldCB2YWx1ZSBmb3Igd2hvIGNhbiBzZWUgeW91ciBzdGF0dXMgbGlrZSAnY29udGFjdHMnXHJcbiAqIGF3YWl0IFdQUC5wcml2YWN5LnNldFN0YXR1cygnY29udGFjdCcpO1xyXG4gKlxyXG4gKiBTZXQgdmFsdWUgZm9yIHdobyBjYW4gc2VlIHlvdXIgc3RhdHVzIHdpdGggYWxsb3cgbGlzdFxyXG4gKiBhd2FpdCBXUFAucHJpdmFjeS5zZXRTdGF0dXMoJ2FsbG93LWxpc3QnLCBbJ1tudW1iZXJdQGMudXMnLCAnW251bWJlcl1AYy51cyddKTtcclxuICpcclxuICogU2V0IHZhbHVlIGZvciB3aG8gY2FuIHNlZSB5b3VyIHN0YXR1cyB3aXRoIGRlbnkgbGlzdFxyXG4gKiBhd2FpdCBXUFAucHJpdmFjeS5zZXRTdGF0dXMoJ2RlbnktbGlzdCcsIFsnW251bWJlcl1AYy51cycsICdbbnVtYmVyXUBjLnVzJ10pO1xyXG4gKlxyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IFByaXZhY3lcclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRXaWQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7XHJcbiAgZ2V0U3RhdHVzUHJpdmFjeVNldHRpbmcsXHJcbiAgc2V0U3RhdHVzUHJpdmFjeUNvbmZpZyxcclxufSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuZXhwb3J0IGVudW0gc2V0U3RhdHVzVHlwZXMge1xyXG4gIGNvbnRhY3QgPSAnY29udGFjdCcsXHJcbiAgREVOWV9MSVNUID0gJ2RlbnktbGlzdCcsXHJcbiAgQUxMT1dfTElTVCA9ICdhbGxvdy1saXN0JyxcclxufVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0U3RhdHVzKFxyXG4gIHZhbHVlOiBzZXRTdGF0dXNUeXBlcyxcclxuICBsaXN0Pzogc3RyaW5nW10gfCBXaWRbXVxyXG4pOiBQcm9taXNlPHNldFN0YXR1c1R5cGVzPiB7XHJcbiAgaWYgKFxyXG4gICAgdHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyB8fFxyXG4gICAgIU9iamVjdC52YWx1ZXMoc2V0U3RhdHVzVHlwZXMpLmluY2x1ZGVzKHZhbHVlKVxyXG4gICkge1xyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKFxyXG4gICAgICAnaW5jb3JyZWN0X3R5cGUnLFxyXG4gICAgICBgSW5jb3JyZWN0IHR5cGUgJHt2YWx1ZSB8fCAnPGVtcHR5Pid9IGZvciBzZXQgYWJvdXQgcHJpdmFjeWAsXHJcbiAgICAgIHtcclxuICAgICAgICB2YWx1ZSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcbiAgaWYgKFxyXG4gICAgKHZhbHVlID09IHNldFN0YXR1c1R5cGVzLkFMTE9XX0xJU1QgfHwgdmFsdWUgPT0gc2V0U3RhdHVzVHlwZXMuREVOWV9MSVNUKSAmJlxyXG4gICAgIWxpc3RcclxuICApIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ2xpc3RfaXNfbWFuZGF0b3J5JyxcclxuICAgICAgYExpc3QgaXMgZW1wdHkgPGVtcHR5Piwgc2VuZCB0aGUgbGlzdCB0byBhbGxvdyBvciBkZW55YFxyXG4gICAgKTtcclxuICB9XHJcbiAgaWYgKCFsaXN0KSB7XHJcbiAgICBhd2FpdCBzZXRTdGF0dXNQcml2YWN5Q29uZmlnKHtcclxuICAgICAgc2V0dGluZzogdmFsdWUsXHJcbiAgICAgIGxpc3Q6IFtdLFxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmICghQXJyYXkuaXNBcnJheShsaXN0KSkge1xyXG4gICAgICBsaXN0ID0gW2xpc3RdO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbGlzdFdpZCA9IGxpc3QubWFwKGFzc2VydFdpZCk7XHJcblxyXG4gICAgYXdhaXQgc2V0U3RhdHVzUHJpdmFjeUNvbmZpZyh7XHJcbiAgICAgIHNldHRpbmc6IHZhbHVlLFxyXG4gICAgICBsaXN0OiBsaXN0V2lkLFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHJldHVybiBnZXRTdGF0dXNQcml2YWN5U2V0dGluZygpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9mdW5jdGlvbnMvJztcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBnZXRNeVVzZXJXaWQgfSBmcm9tICcuLi8uLi9jb25uL2Z1bmN0aW9ucy9nZXRNeVVzZXJXaWQnO1xyXG5pbXBvcnQgeyBXUFBFcnJvciB9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQge1xyXG4gIEJ1c2luZXNzUHJvZmlsZU1vZGVsLFxyXG4gIEJ1c2luZXNzUHJvZmlsZVN0b3JlLFxyXG4gIENvbm4sXHJcbn0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyBlZGl0QnVzaW5lc3NQcm9maWxlIGFzIGVkaXRQcm9maWxlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbi8qKlxyXG4gKiBVcGRhdGUgeW91ciBidXNpbmVzcyBwcm9maWxlXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogYXdhaXQgV1BQLnByb2ZpbGUuZWRpdEJ1c2luZXNzUHJvZmlsZSh7ZGVzY3JpcHRpb246ICdOZXcgZGVzY3JpcHRpb24gZm9yIHByb2ZpbGUnfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGF3YWl0IFdQUC5wcm9maWxlLmVkaXRCdXNpbmVzc1Byb2ZpbGUoe2NhdGVnb3JpZXM6IFt7XHJcbiAgICBpZDogXCIxMzM0MzY3NDMzODgyMTdcIixcclxuICAgIGxvY2FsaXplZF9kaXNwbGF5X25hbWU6IFwiQXJ0ZXMgZSBlbnRyZXRlbmltZW50b1wiLFxyXG4gICAgbm90X2FfYml6OiBmYWxzZSxcclxuICB9XX0pO1xyXG4gKiBgYGBcclxuICpcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAucHJvZmlsZS5lZGl0QnVzaW5lc3NQcm9maWxlKHthZHJlc3M6ICdTdHJlZXQgMDEsIE5ldyBZb3JrJ30pO1xyXG4gKiBgYGBcclxuICpcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAucHJvZmlsZS5lZGl0QnVzaW5lc3NQcm9maWxlKHthZHJlc3M6ICdTdHJlZXQgMDEsIE5ldyBZb3JrJ30pO1xyXG4gKiBgYGBcclxuICpcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAucHJvZmlsZS5lZGl0QnVzaW5lc3NQcm9maWxlKHtlbWFpbDogJ3Rlc3RAdGVzdC5jb20uYnInfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBDaGFuZ2Ugd2Vic2l0ZSBvZiBwcm9maWxlIChtYXggMiBzaXRlcylcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAucHJvZmlsZS5lZGl0QnVzaW5lc3NQcm9maWxlKHt3ZWJzaXRlOiBbXHJcbiAgXCJodHRwczovL3d3dy53cHBjb25uZWN0LmlvXCIsXHJcbiAgXCJodHRwczovL3d3dy50ZXN0ZTIuY29tLmJyXCIsXHJcbl19KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIENoYW5nZSBidXNpbmVzc0hvdXJzIGZvciBTcGVjaWZpYyBIb3Vyc1xyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGF3YWl0IFdQUC5wcm9maWxlLmVkaXRCdXNpbmVzc1Byb2ZpbGUoeyBidXNpbmVzc0hvdXJzOiB7XHJcbiAqIHtcclxuICAgICAgdHVlOiB7XHJcbiAgICAgICAgbW9kZTogXCJzcGVjaWZpY19ob3Vyc1wiLFxyXG4gICAgICAgIGhvdXJzOiBbXHJcbiAgICAgICAgICBbXHJcbiAgICAgICAgICAgIDU0MCxcclxuICAgICAgICAgICAgMTA4MCxcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgXSxcclxuICAgICAgfSxcclxuICAgICAgd2VkOiB7XHJcbiAgICAgICAgbW9kZTogXCJzcGVjaWZpY19ob3Vyc1wiLFxyXG4gICAgICAgIGhvdXJzOiBbXHJcbiAgICAgICAgICBbXHJcbiAgICAgICAgICAgIDU0MCxcclxuICAgICAgICAgICAgMTA4MCxcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgXSxcclxuICAgICAgfSxcclxuICAgICAgdGh1OiB7XHJcbiAgICAgICAgbW9kZTogXCJzcGVjaWZpY19ob3Vyc1wiLFxyXG4gICAgICAgIGhvdXJzOiBbXHJcbiAgICAgICAgICBbXHJcbiAgICAgICAgICAgIDU0MCxcclxuICAgICAgICAgICAgMTA4MCxcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgXSxcclxuICAgICAgfSxcclxuICAgICAgZnJpOiB7XHJcbiAgICAgICAgbW9kZTogXCJzcGVjaWZpY19ob3Vyc1wiLFxyXG4gICAgICAgIGhvdXJzOiBbXHJcbiAgICAgICAgICBbXHJcbiAgICAgICAgICAgIDU0MCxcclxuICAgICAgICAgICAgMTA4MCxcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgXSxcclxuICAgICAgfSxcclxuICAgICAgc2F0OiB7XHJcbiAgICAgICAgbW9kZTogXCJzcGVjaWZpY19ob3Vyc1wiLFxyXG4gICAgICAgIGhvdXJzOiBbXHJcbiAgICAgICAgICBbXHJcbiAgICAgICAgICAgIDU0MCxcclxuICAgICAgICAgICAgMTA4MCxcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgXSxcclxuICAgICAgfSxcclxuICAgICAgc3VuOiB7XHJcbiAgICAgICAgbW9kZTogXCJzcGVjaWZpY19ob3Vyc1wiLFxyXG4gICAgICAgIGhvdXJzOiBbXHJcbiAgICAgICAgICBbXHJcbiAgICAgICAgICAgIDU0MCxcclxuICAgICAgICAgICAgMTA4MCxcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgXSxcclxuICAgICAgfSxcclxuICAgIH1cclxuICB9LFxyXG4gIHRpbWV6b25lOiBcIkFtZXJpY2EvU2FvX1BhdWxvXCJcclxuICB9KTtcclxuICpcclxuICogQ2hhbmdlIGJ1c2luZXNzSG91cnMgZm9yIEFsd2F5cyBPcGVuZWRcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAucHJvZmlsZS5lZGl0QnVzaW5lc3NQcm9maWxlKHsgYnVzaW5lc3NIb3Vyczoge1xyXG4gICAge1xyXG4gICAgICBtb246IHtcclxuICAgICAgICBtb2RlOiBcIm9wZW5fMjRoXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIHR1ZToge1xyXG4gICAgICAgIG1vZGU6IFwib3Blbl8yNGhcIixcclxuICAgICAgfSxcclxuICAgICAgd2VkOiB7XHJcbiAgICAgICAgbW9kZTogXCJvcGVuXzI0aFwiLFxyXG4gICAgICB9LFxyXG4gICAgICB0aHU6IHtcclxuICAgICAgICBtb2RlOiBcIm9wZW5fMjRoXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGZyaToge1xyXG4gICAgICAgIG1vZGU6IFwib3Blbl8yNGhcIixcclxuICAgICAgfSxcclxuICAgICAgc2F0OiB7XHJcbiAgICAgICAgbW9kZTogXCJvcGVuXzI0aFwiLFxyXG4gICAgICB9LFxyXG4gICAgICBzdW46IHtcclxuICAgICAgICBtb2RlOiBcIm9wZW5fMjRoXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9XHJcbiAgICB0aW1lem9uZTogXCJBbWVyaWNhL1Nhb19QYXVsb1wiXHJcbiAgfSk7XHJcbiAqXHJcbiAqIENoYW5nZSBidXNpbmVzc0hvdXJzIGZvciBBcHBvaW50bWVudCBPbmx5XHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogYXdhaXQgV1BQLnByb2ZpbGUuZWRpdEJ1c2luZXNzUHJvZmlsZSh7IHtcclxuICAgIFwiY29uZmlnXCI6IHtcclxuICAgICAgICBcIm1vblwiOiB7XHJcbiAgICAgICAgICAgIFwibW9kZVwiOiBcInNwZWNpZmljX2hvdXJzXCIsXHJcbiAgICAgICAgICAgIFwiaG91cnNcIjogW1xyXG4gICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICAgIDQ4MCxcclxuICAgICAgICAgICAgICAgICAgICAxMjYwXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIFwidHVlXCI6IHtcclxuICAgICAgICAgICAgXCJtb2RlXCI6IFwic3BlY2lmaWNfaG91cnNcIixcclxuICAgICAgICAgICAgXCJob3Vyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAgICAgNDgwLFxyXG4gICAgICAgICAgICAgICAgICAgIDEyNjBcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJ3ZWRcIjoge1xyXG4gICAgICAgICAgICBcIm1vZGVcIjogXCJzcGVjaWZpY19ob3Vyc1wiLFxyXG4gICAgICAgICAgICBcImhvdXJzXCI6IFtcclxuICAgICAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICAgICA0ODAsXHJcbiAgICAgICAgICAgICAgICAgICAgMTI2MFxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInRodVwiOiB7XHJcbiAgICAgICAgICAgIFwibW9kZVwiOiBcInNwZWNpZmljX2hvdXJzXCIsXHJcbiAgICAgICAgICAgIFwiaG91cnNcIjogW1xyXG4gICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICAgIDQ4MCxcclxuICAgICAgICAgICAgICAgICAgICAxMjYwXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZnJpXCI6IHtcclxuICAgICAgICAgICAgXCJtb2RlXCI6IFwic3BlY2lmaWNfaG91cnNcIixcclxuICAgICAgICAgICAgXCJob3Vyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAgICAgNDgwLFxyXG4gICAgICAgICAgICAgICAgICAgIDEyNjBcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJzYXRcIjoge1xyXG4gICAgICAgICAgICBcIm1vZGVcIjogXCJzcGVjaWZpY19ob3Vyc1wiLFxyXG4gICAgICAgICAgICBcImhvdXJzXCI6IFtcclxuICAgICAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICAgICA2NjAsXHJcbiAgICAgICAgICAgICAgICAgICAgMTMyMFxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIFwidGltZXpvbmVcIjogXCJBbWVyaWNhL1Nhb19QYXVsb1wiXHJcbn0pO1xyXG4gKlxyXG4gKlxyXG4gKiBgYGBcclxuICogQGNhdGVnb3J5IFByb2ZpbGVcclxuICovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZWRpdEJ1c2luZXNzUHJvZmlsZShwYXJhbXM6IEJ1c2luZXNzUHJvZmlsZU1vZGVsKSB7XHJcbiAgaWYgKCFDb25uLmlzU01CKVxyXG4gICAgdGhyb3cgbmV3IFdQUEVycm9yKCdOT1RfQlVTSU5FU1NfUFJPRklMRScsICdOb3QgYSBidXNpbmVzcyBwcm9maWxlJyk7XHJcblxyXG4gIGlmIChwYXJhbXMud2Vic2l0ZSAmJiBBcnJheS5pc0FycmF5KHBhcmFtcy53ZWJzaXRlKSkge1xyXG4gICAgcGFyYW1zLndlYnNpdGUgPSBwYXJhbXMud2Vic2l0ZS5tYXAoKGkpID0+ICh7IHVybDogaSB9KSk7XHJcbiAgfVxyXG5cclxuICBhd2FpdCBlZGl0UHJvZmlsZShwYXJhbXMpO1xyXG4gIGNvbnN0IHVzZXIgPSBnZXRNeVVzZXJXaWQoKTtcclxuICBjb25zdCBwcm9maWxlID0gYXdhaXQgQnVzaW5lc3NQcm9maWxlU3RvcmUuZmV0Y2hCaXpQcm9maWxlKHVzZXIpO1xyXG4gIHJldHVybiBwcm9maWxlO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZnVuY3Rpb25zIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuLyoqXHJcbiAqIEdldCB5b3VyIGN1cnJlbnQgcHJvZmlsZSBuYW1lXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogY29uc3QgbXlQcm9maWxlTmFtZSA9IFdQUC5wcm9maWxlLmdldE15UHJvZmlsZU5hbWUoKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBQcm9maWxlXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE15UHJvZmlsZU5hbWUoKSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9ucy5nZXRQdXNobmFtZSgpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZ2V0TXlVc2VyV2lkIH0gZnJvbSAnLi4vLi4vY29ubi9mdW5jdGlvbnMvZ2V0TXlVc2VyV2lkJztcclxuaW1wb3J0IHsgUHJvZmlsZVBpY1RodW1iTW9kZWwsIFByb2ZpbGVQaWNUaHVtYlN0b3JlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuLyoqXHJcbiAqIEdldCB5b3VyIGN1cnJlbnQgcHJvZmlsZSBwaWN0dXJlXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogYXdhaXQgV1BQLnByb2ZpbGUuZ2V0TXlQcm9maWxlUGljdHVyZSgpO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IFByb2ZpbGVcclxuICovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TXlQcm9maWxlUGljdHVyZSgpOiBQcm9taXNlPFByb2ZpbGVQaWNUaHVtYk1vZGVsPiB7XHJcbiAgY29uc3QgdXNlciA9IGdldE15VXNlcldpZCgpO1xyXG4gIGNvbnN0IHBpYyA9IGF3YWl0IFByb2ZpbGVQaWNUaHVtYlN0b3JlLmZpbmQodXNlcik7XHJcbiAgcmV0dXJuIHBpYztcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGdldE15VXNlcldpZCB9IGZyb20gJy4uLy4uL2Nvbm4vZnVuY3Rpb25zL2dldE15VXNlcldpZCc7XHJcbmltcG9ydCB7IFN0YXR1c1N0b3JlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuLyoqXHJcbiAqIEdldCB5b3VyIGN1cnJlbnQgdGV4dCBzdGF0dXNcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAucHJvZmlsZS5nZXRNeVN0YXR1cygpO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IFByb2ZpbGVcclxuICovXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TXlTdGF0dXMoKSB7XHJcbiAgY29uc3QgbXlTdGF0dXMgPSBhd2FpdCBTdGF0dXNTdG9yZS5maW5kKGdldE15VXNlcldpZCgpKTtcclxuICByZXR1cm4gbXlTdGF0dXMuc3RhdHVzO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IHsgZWRpdEJ1c2luZXNzUHJvZmlsZSB9IGZyb20gJy4vZWRpdEJ1c2luZXNzUHJvZmlsZSc7XHJcbmV4cG9ydCB7IGdldE15UHJvZmlsZU5hbWUgfSBmcm9tICcuL2dldE15UHJvZmlsZU5hbWUnO1xyXG5leHBvcnQgeyBnZXRNeVByb2ZpbGVQaWN0dXJlIH0gZnJvbSAnLi9nZXRNeVByb2ZpbGVQaWN0dXJlJztcclxuZXhwb3J0IHsgZ2V0TXlTdGF0dXMgfSBmcm9tICcuL2dldE15U3RhdHVzJztcclxuZXhwb3J0IHsgaXNCdXNpbmVzcyB9IGZyb20gJy4vaXNCdXNpbmVzcyc7XHJcbmV4cG9ydCB7IHJlbW92ZU15UHJvZmlsZVBpY3R1cmUgfSBmcm9tICcuL3JlbW92ZU15UHJvZmlsZVBpY3R1cmUnO1xyXG5leHBvcnQgeyBzZXRNeVByb2ZpbGVOYW1lIH0gZnJvbSAnLi9zZXRNeVByb2ZpbGVOYW1lJztcclxuZXhwb3J0IHsgc2V0TXlQcm9maWxlUGljdHVyZSB9IGZyb20gJy4vc2V0TXlQcm9maWxlUGljdHVyZSc7XHJcbmV4cG9ydCB7IHNldE15U3RhdHVzIH0gZnJvbSAnLi9zZXRNeVN0YXR1cyc7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQ29ubiB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm4gdGhlIGN1cnJlbnQgbG9nZ2VkIHVzZXIgaXMgQnVzc2luZXNzIG9yIG5vdFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIFdQUC5wcm9maWxlLmlzQnVzaW5lc3MoKTtcclxuICogYGBgXHJcbiAqIEBjYXRlZ29yeSBQcm9maWxlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNCdXNpbmVzcygpOiBib29sZWFuIHwgdW5kZWZpbmVkIHtcclxuICByZXR1cm4gQ29ubi5pc1NNQjtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGdldE15VXNlcldpZCB9IGZyb20gJy4uLy4uL2Nvbm4vZnVuY3Rpb25zL2dldE15VXNlcldpZCc7XHJcbmltcG9ydCB7IGZ1bmN0aW9ucyB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbi8qKlxyXG4gKiBSZW1vdmUgeW91ciBwcm9maWxlIHBpY3R1cmVcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAucHJvZmlsZS5yZW1vdmVNeVByb2ZpbGVQaWN0dXJlKCk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgUHJvZmlsZVxyXG4gKi9cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmVNeVByb2ZpbGVQaWN0dXJlKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZ1bmN0aW9ucy5yZXF1ZXN0RGVsZXRlUGljdHVyZShnZXRNeVVzZXJXaWQoKSk7XHJcbiAgcmV0dXJuIHJlc3VsdC5zdGF0dXMgPT09IDIwMDtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGZ1bmN0aW9ucyB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbi8qKlxyXG4gKiBVcGRhdGUgeW91ciBjdXJyZW50IHByb2ZpbGUgbmFtZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGF3YWl0IFdQUC5wcm9maWxlLnNldE15UHJvZmlsZU5hbWUoJ015IG5ldyBuYW1lJyk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgUHJvZmlsZVxyXG4gKi9cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRNeVByb2ZpbGVOYW1lKG5hbWU6IHN0cmluZykge1xyXG4gIGF3YWl0IGZ1bmN0aW9ucy5zZXRQdXNobmFtZShuYW1lKTtcclxuXHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBnZXRNeVVzZXJXaWQgfSBmcm9tICcuLi8uLi9jb25uL2Z1bmN0aW9ucy9nZXRNeVVzZXJXaWQnO1xyXG5pbXBvcnQgeyBibG9iVG9CYXNlNjQsIGNvbnZlcnRUb0ZpbGUsIHJlc2l6ZUltYWdlIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7IHNlbmRTZXRQaWN0dXJlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuXHJcbi8qKlxyXG4gKiBVcGRhdGUgeW91ciBwcm9maWxlIHBpY3R1cmVcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBhd2FpdCBXUFAucHJvZmlsZS5zZXRNeVByb2ZpbGVQaWN0dXJlKCdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LC4uLi4uJyk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgUHJvZmlsZVxyXG4gKi9cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRNeVByb2ZpbGVQaWN0dXJlKGNvbnRlbnQ6IHN0cmluZyk6IFByb21pc2U8e1xyXG4gIGV1cmw6IHN0cmluZztcclxuICBzdGF0dXM6IG51bWJlcjtcclxuICB0YWc6IHN0cmluZztcclxuICB0b2tlbjogc3RyaW5nO1xyXG4gIF9kdXBsaWNhdGU6IGJvb2xlYW47XHJcbn0+IHtcclxuICBjb25zdCBmaWxlID0gYXdhaXQgY29udmVydFRvRmlsZShjb250ZW50KTtcclxuXHJcbiAgY29uc3QgdGh1bWJGaWxlID0gYXdhaXQgcmVzaXplSW1hZ2UoZmlsZSwge1xyXG4gICAgd2lkdGg6IDk2LFxyXG4gICAgaGVpZ2h0OiA5NixcclxuICAgIG1pbWVUeXBlOiAnaW1hZ2UvanBlZycsXHJcbiAgICByZXNpemU6ICdjb3ZlcicsXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHBpY3R1cmVGaWxlID0gYXdhaXQgcmVzaXplSW1hZ2UoZmlsZSwge1xyXG4gICAgd2lkdGg6IDY0MCxcclxuICAgIGhlaWdodDogNjQwLFxyXG4gICAgbWltZVR5cGU6ICdpbWFnZS9qcGVnJyxcclxuICAgIHJlc2l6ZTogJ2NvdmVyJyxcclxuICB9KTtcclxuXHJcbiAgY29uc3QgdGh1bWJCYXNlNjQgPSBhd2FpdCBibG9iVG9CYXNlNjQodGh1bWJGaWxlKTtcclxuICBjb25zdCBwaWN0dXJlQmFzZTY0ID0gYXdhaXQgYmxvYlRvQmFzZTY0KHBpY3R1cmVGaWxlKTtcclxuXHJcbiAgcmV0dXJuIHNlbmRTZXRQaWN0dXJlKGdldE15VXNlcldpZCgpLCB0aHVtYkJhc2U2NCwgcGljdHVyZUJhc2U2NCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBnZXRNeVVzZXJXaWQgfSBmcm9tICcuLi8uLi9jb25uL2Z1bmN0aW9ucy9nZXRNeVVzZXJXaWQnO1xyXG5pbXBvcnQgeyBTdGF0dXNTdG9yZSB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0ICogYXMgd2FfZnVuY3Rpb25zIGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcblxyXG4vKipcclxuICogVXBkYXRlIHlvdXIgY3VycmVudCB0ZXh0IHN0YXR1c1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIGF3YWl0IFdQUC5wcm9maWxlLnNldE15U3RhdHVzKCdFeGFtcGxlIHRleHQnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBjYXRlZ29yeSBQcm9maWxlXHJcbiAqL1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNldE15U3RhdHVzKHN0YXR1c1RleHQ6IHN0cmluZykge1xyXG4gIGF3YWl0IHdhX2Z1bmN0aW9ucy5zZXRNeVN0YXR1cyhzdGF0dXNUZXh0KTtcclxuICBjb25zdCBteVN0YXR1cyA9IGF3YWl0IFN0YXR1c1N0b3JlLmZpbmQoZ2V0TXlVc2VyV2lkKCkpO1xyXG5cclxuICBpZiAobXlTdGF0dXMpIHtcclxuICAgIG15U3RhdHVzLnN0YXR1cyA9IHN0YXR1c1RleHQ7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCAqIGZyb20gJy4vZnVuY3Rpb25zJztcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTZW5kU3RhdHVzT3B0aW9ucyB9IGZyb20gJy4vZnVuY3Rpb25zL3NlbmRSYXdTdGF0dXMnO1xyXG5pbXBvcnQgeyBUZXh0U3RhdHVzT3B0aW9ucyB9IGZyb20gJy4vZnVuY3Rpb25zL3NlbmRUZXh0U3RhdHVzJztcclxuXHJcbmV4cG9ydCB0eXBlIEFsbFN0YXR1c09wdGlvbnMgPSBTZW5kU3RhdHVzT3B0aW9ucyAmIFRleHRTdGF0dXNPcHRpb25zO1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlZmF1bHRTZW5kU3RhdHVzT3B0aW9uczogQWxsU3RhdHVzT3B0aW9ucyA9IHtcclxuICB3YWl0Rm9yQWNrOiB0cnVlLFxyXG59O1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCAnLi9yZWdpc3RlclN5bmNlZEV2ZW50JztcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpbnRlcm5hbEV2IH0gZnJvbSAnLi4vLi4vZXZlbnRFbWl0dGVyJztcclxuaW1wb3J0ICogYXMgd2VicGFjayBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgU3RhdHVzVjNTdG9yZSB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbndlYnBhY2sub25JbmplY3RlZCgoKSA9PiByZWdpc3RlclN5bmNlZEV2ZW50KCkpO1xyXG5cclxuZnVuY3Rpb24gcmVnaXN0ZXJTeW5jZWRFdmVudCgpIHtcclxuICBTdGF0dXNWM1N0b3JlLm9uKCdzeW5jJywgKCkgPT4ge1xyXG4gICAgaW50ZXJuYWxFdi5lbWl0KCdzdGF0dXMuc3luYycpO1xyXG4gIH0pO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0V2lkIH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgU3RhdHVzVjNNb2RlbCwgU3RhdHVzVjNTdG9yZSwgV2lkIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldChjaGF0SWQ6IHN0cmluZyB8IFdpZCk6IFN0YXR1c1YzTW9kZWwgfCB1bmRlZmluZWQge1xyXG4gIGNvbnN0IHdpZCA9IGFzc2VydFdpZChjaGF0SWQpO1xyXG4gIHJldHVybiBTdGF0dXNWM1N0b3JlLmdldCh3aWQpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZ2V0TXlVc2VyV2lkIH0gZnJvbSAnLi4vLi4vY29ubi9mdW5jdGlvbnMvZ2V0TXlVc2VyV2lkJztcclxuaW1wb3J0IHsgU3RhdHVzVjNNb2RlbCwgU3RhdHVzVjNTdG9yZSB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNeVN0YXR1cygpOiBQcm9taXNlPFN0YXR1c1YzTW9kZWw+IHtcclxuICBsZXQgbXlTdGF0dXMgPSBTdGF0dXNWM1N0b3JlLmdldE15U3RhdHVzKCk7XHJcblxyXG4gIGlmICghbXlTdGF0dXMpIHtcclxuICAgIG15U3RhdHVzID0gYXdhaXQgU3RhdHVzVjNTdG9yZS5maW5kKGdldE15VXNlcldpZCgpKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBteVN0YXR1cztcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCB7IGdldCB9IGZyb20gJy4vZ2V0JztcclxuZXhwb3J0IHsgZ2V0TXlTdGF0dXMgfSBmcm9tICcuL2dldE15U3RhdHVzJztcclxuZXhwb3J0IHsgcmVtb3ZlIH0gZnJvbSAnLi9yZW1vdmUnO1xyXG5leHBvcnQgeyBJbWFnZVN0YXR1c09wdGlvbnMsIHNlbmRJbWFnZVN0YXR1cyB9IGZyb20gJy4vc2VuZEltYWdlU3RhdHVzJztcclxuZXhwb3J0IHsgc2VuZFJhd1N0YXR1cywgU2VuZFN0YXR1c09wdGlvbnMgfSBmcm9tICcuL3NlbmRSYXdTdGF0dXMnO1xyXG5leHBvcnQgeyBzZW5kUmVhZFN0YXR1cyB9IGZyb20gJy4vc2VuZFJlYWRTdGF0dXMnO1xyXG5leHBvcnQgeyBzZW5kVGV4dFN0YXR1cywgVGV4dFN0YXR1c09wdGlvbnMgfSBmcm9tICcuL3NlbmRUZXh0U3RhdHVzJztcclxuZXhwb3J0IHsgc2VuZFZpZGVvU3RhdHVzLCBWaWRlb1N0YXR1c09wdGlvbnMgfSBmcm9tICcuL3NlbmRWaWRlb1N0YXR1cyc7XHJcbmV4cG9ydCB7IHVwZGF0ZVBhcnRpY2lwYW50cyB9IGZyb20gJy4vdXBkYXRlUGFydGljaXBhbnRzJztcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTZW5kTWVzc2FnZVJldHVybiB9IGZyb20gJy4uLy4uL2NoYXQnO1xyXG5pbXBvcnQgeyBNc2dTdG9yZSwgU3RhdHVzVjNTdG9yZSB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwb3N0U2VuZFN0YXR1cyhyZXN1bHQ6IFNlbmRNZXNzYWdlUmV0dXJuKTogdm9pZCB7XHJcbiAgcmVzdWx0LnNlbmRNc2dSZXN1bHQudGhlbihhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBtc2cgPSBNc2dTdG9yZS5nZXQocmVzdWx0LmlkKTtcclxuXHJcbiAgICBpZiAoIW1zZykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBTdGF0dXNWM1N0b3JlLmFkZFN0YXR1c01lc3NhZ2VzKG1zZy5hdXRob3IgYXMgYW55LCBbbXNnXSk7XHJcblxyXG4gICAgLy8gVHJpZ2dlciBzY3JlZW4gdXBkYXRlXHJcbiAgICBTdGF0dXNWM1N0b3JlLmhhbmRsZVVwZGF0ZShtc2cuYXR0cmlidXRlcywgbnVsbCwgZmFsc2UpO1xyXG4gICAgY29uc3QgbXlTdGF0dXMgPSBTdGF0dXNWM1N0b3JlLmdldE15U3RhdHVzKCk7XHJcblxyXG4gICAgaWYgKG15U3RhdHVzKSB7XHJcbiAgICAgIC8vIEZpeCBtb2RlbHMgaW5kZXhcclxuICAgICAgbXlTdGF0dXMubXNncy5hZGQobXNnKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGdldE1lc3NhZ2VCeUlkIH0gZnJvbSAnLi4vLi4vY2hhdCc7XHJcbmltcG9ydCB7IFdQUEVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7IE1zZ0tleSwgU3RhdHVzVjNTdG9yZSwgVXNlclByZWZzIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyByZXZva2VTdGF0dXMgfSBmcm9tICcuLi8uLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZShtc2dJZDogc3RyaW5nIHwgTXNnS2V5KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3QgbXNnID0gYXdhaXQgZ2V0TWVzc2FnZUJ5SWQobXNnSWQpO1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCByZXZva2VTdGF0dXMoXHJcbiAgICAgIFN0YXR1c1YzU3RvcmUuZ2V0KFVzZXJQcmVmcy5nZXRNYXliZU1lUG5Vc2VyKCkpIGFzIGFueSxcclxuICAgICAgbXNnXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IG5ldyBXUFBFcnJvcihcclxuICAgICAgJ2Vycm9yX29uX3JlbW92ZV9zdGF0dXMnLFxyXG4gICAgICBgRXJyb3Igb24gcmVtb3ZlIHN0YXR1cyB3aXRoIGlkICR7bXNnSWQudG9TdHJpbmcoKX1gXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydFdpZCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IHNlbmRGaWxlTWVzc2FnZSB9IGZyb20gJy4uLy4uL2NoYXQnO1xyXG5pbXBvcnQgeyBnZXRNeVVzZXJXaWQgfSBmcm9tICcuLi8uLi9jb25uL2Z1bmN0aW9ucy9nZXRNeVVzZXJXaWQnO1xyXG5pbXBvcnQgeyBNc2dLZXkgfSBmcm9tICcuLi8uLi93aGF0c2FwcCc7XHJcbmltcG9ydCB7IHJhbmRvbUhleCB9IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcbmltcG9ydCB7IGRlZmF1bHRTZW5kU3RhdHVzT3B0aW9ucyB9IGZyb20gJy4uJztcclxuaW1wb3J0IHsgU2VuZFN0YXR1c09wdGlvbnMgfSBmcm9tICcuL3NlbmRSYXdTdGF0dXMnO1xyXG5cclxuZXhwb3J0IHR5cGUgSW1hZ2VTdGF0dXNPcHRpb25zID0gU2VuZFN0YXR1c09wdGlvbnM7XHJcblxyXG4vKipcclxuICogU2VuZCBhIGltYWdlIG1lc3NhZ2UgdG8gc3RhdHVzIHN0b3JpZXNcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBXUFAuc3RhdHVzLnNlbmRJbWFnZVN0YXR1cygnZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCw8YSBsb25nIGJhc2U2NCBmaWxlLi4uPicpO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kSW1hZ2VTdGF0dXMoXHJcbiAgY29udGVudDogYW55LFxyXG4gIG9wdGlvbnM6IEltYWdlU3RhdHVzT3B0aW9ucyA9IHt9XHJcbik6IFByb21pc2U8YW55PiB7XHJcbiAgY29uc3QgbWUgPSBnZXRNeVVzZXJXaWQoKTtcclxuXHJcbiAgY29uc3QgbWVzc2FnZUlkID0gbmV3IE1zZ0tleSh7XHJcbiAgICBmcm9tTWU6IHRydWUsXHJcbiAgICBpZDogcmFuZG9tSGV4KDE2KSxcclxuICAgIHBhcnRpY2lwYW50OiBtZSxcclxuICAgIHJlbW90ZTogYXNzZXJ0V2lkKCdzdGF0dXNAYnJvYWRjYXN0JyksXHJcbiAgfSk7XHJcblxyXG4gIG9wdGlvbnMgPSB7XHJcbiAgICAuLi5kZWZhdWx0U2VuZFN0YXR1c09wdGlvbnMsXHJcbiAgICBtZXNzYWdlSWQsXHJcbiAgICAuLi5vcHRpb25zLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmRGaWxlTWVzc2FnZSgnc3RhdHVzQGJyb2FkY2FzdCcsIGNvbnRlbnQsIHtcclxuICAgIC4uLm9wdGlvbnMsXHJcbiAgICBjcmVhdGVDaGF0OiB0cnVlLFxyXG4gICAgdHlwZTogJ2ltYWdlJyxcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydFdpZCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCAqIGFzIENoYXQgZnJvbSAnLi4vLi4vY2hhdCc7XHJcbmltcG9ydCB7IGdldE15VXNlcldpZCB9IGZyb20gJy4uLy4uL2Nvbm4vZnVuY3Rpb25zL2dldE15VXNlcldpZCc7XHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IE1zZ0tleSB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgd3JhcE1vZHVsZUZ1bmN0aW9uIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHtcclxuICBjcmVhdGVNc2dQcm90b2J1ZixcclxuICBlbmNyeXB0QW5kU2VuZE1zZyxcclxuICBlbmNyeXB0QW5kU2VuZFN0YXR1c01zZyxcclxuICBnZXRBQlByb3BDb25maWdWYWx1ZSxcclxuICBwcmltYXJ5RmVhdHVyZUVuYWJsZWQsXHJcbiAgcmFuZG9tSGV4LFxyXG59IGZyb20gJy4uLy4uL3doYXRzYXBwL2Z1bmN0aW9ucyc7XHJcbmltcG9ydCB7IGRlZmF1bHRTZW5kU3RhdHVzT3B0aW9ucyB9IGZyb20gJy4uJztcclxuaW1wb3J0IHsgcG9zdFNlbmRTdGF0dXMgfSBmcm9tICcuL3Bvc3RTZW5kU3RhdHVzJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU2VuZFN0YXR1c09wdGlvbnMge1xyXG4gIHdhaXRGb3JBY2s/OiBib29sZWFuO1xyXG4gIC8vIE9ubHkgZm9yIHRleHQgc3RhdHVzXHJcbiAgbWVzc2FnZUlkPzogc3RyaW5nIHwgTXNnS2V5O1xyXG4gIC8vIE9ubHkgaW1hZ2UgYW5kIHZpZGVvIHN0YXR1c1xyXG4gIGNhcHRpb24/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kUmF3U3RhdHVzKFxyXG4gIG1lc3NhZ2U6IENoYXQuUmF3TWVzc2FnZSxcclxuICBvcHRpb25zOiBTZW5kU3RhdHVzT3B0aW9ucyA9IHt9XHJcbikge1xyXG4gIGNvbnN0IG1lID0gZ2V0TXlVc2VyV2lkKCk7XHJcblxyXG4gIGNvbnN0IG1lc3NhZ2VJZCA9IG5ldyBNc2dLZXkoe1xyXG4gICAgZnJvbU1lOiB0cnVlLFxyXG4gICAgaWQ6IHJhbmRvbUhleCgxNiksXHJcbiAgICBwYXJ0aWNpcGFudDogbWUsXHJcbiAgICByZW1vdGU6IGFzc2VydFdpZCgnc3RhdHVzQGJyb2FkY2FzdCcpLFxyXG4gIH0pO1xyXG5cclxuICBvcHRpb25zID0ge1xyXG4gICAgLi4uZGVmYXVsdFNlbmRTdGF0dXNPcHRpb25zLFxyXG4gICAgbWVzc2FnZUlkLFxyXG4gICAgLi4ub3B0aW9ucyxcclxuICB9O1xyXG5cclxuICBtZXNzYWdlLmF1dGhvciA9IG1lO1xyXG5cclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBDaGF0LnNlbmRSYXdNZXNzYWdlKCdzdGF0dXNAYnJvYWRjYXN0JywgbWVzc2FnZSwge1xyXG4gICAgLi4ub3B0aW9ucyxcclxuICAgIGNyZWF0ZUNoYXQ6IHRydWUsXHJcbiAgfSk7XHJcblxyXG4gIHBvc3RTZW5kU3RhdHVzKHJlc3VsdCk7XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbndlYnBhY2sub25JbmplY3RlZCgoKSA9PiB7XHJcbiAgLy8gYWxsb3cgdG8gc2VuZCBiYWNrZ3JvdW5kQ29sb3IsIHRleHRDb2xvciBhbmQgZm9udCBmb3Igc3RhdHVzXHJcbiAgd3JhcE1vZHVsZUZ1bmN0aW9uKGNyZWF0ZU1zZ1Byb3RvYnVmLCAoZnVuYywgLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgW21zZ10gPSBhcmdzO1xyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IGZ1bmMoLi4uYXJncyk7XHJcblxyXG4gICAgaWYgKHJlc3VsdC5leHRlbmRlZFRleHRNZXNzYWdlKSB7XHJcbiAgICAgIGlmICh0eXBlb2YgbXNnLmJhY2tncm91bmRDb2xvciA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICByZXN1bHQuZXh0ZW5kZWRUZXh0TWVzc2FnZS5iYWNrZ3JvdW5kQXJnYiA9IG1zZy5iYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHR5cGVvZiBtc2cudGV4dENvbG9yID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHJlc3VsdC5leHRlbmRlZFRleHRNZXNzYWdlLnRleHRBcmdiID0gbXNnLnRleHRDb2xvcjtcclxuICAgICAgfVxyXG4gICAgICBpZiAodHlwZW9mIG1zZy5mb250ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHJlc3VsdC5leHRlbmRlZFRleHRNZXNzYWdlLmZvbnQgPSBtc2cuZm9udDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmVzdWx0LmV4dGVuZGVkVGV4dE1lc3NhZ2UuaW52aXRlTGlua0dyb3VwVHlwZVYyID0gMDtcclxuICAgICAgcmVzdWx0LmV4dGVuZGVkVGV4dE1lc3NhZ2UucHJldmlld1R5cGUgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfSk7XHJcblxyXG4gIC8vIEZvcmNlIHRvIHNlbmQgYXMgZ3JvdXAgZm9yIGJyb2FkY2FzdCBsaXN0XHJcbiAgd3JhcE1vZHVsZUZ1bmN0aW9uKGVuY3J5cHRBbmRTZW5kTXNnLCBhc3luYyAoZnVuYywgLi4uYXJncykgPT4ge1xyXG4gICAgY29uc3QgW21zZywgcGVyZl0gPSBhcmdzO1xyXG4gICAgaWYgKG1zZy5kYXRhLnRvPy50b1N0cmluZygpID09ICdzdGF0dXNAYnJvYWRjYXN0Jykge1xyXG4gICAgICBjb25zdCBwcm90byA9IGNyZWF0ZU1zZ1Byb3RvYnVmKG1zZy5kYXRhKTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBlbmNyeXB0QW5kU2VuZFN0YXR1c01zZyhtc2cgYXMgYW55LCBwcm90bywgcGVyZik7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHQ6IG1zZy5kYXRhLnQsXHJcbiAgICAgICAgICBzeW5jOiBudWxsLFxyXG4gICAgICAgICAgcGhhc2g6IG51bGwsXHJcbiAgICAgICAgICBhZGRyZXNzaW5nTW9kZTogbnVsbCxcclxuICAgICAgICAgIGNvdW50OiBudWxsLFxyXG4gICAgICAgICAgZXJyb3I6IG51bGwsXHJcbiAgICAgICAgfTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGF3YWl0IGZ1bmMoLi4uYXJncyk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxud2VicGFjay5vbkZ1bGxSZWFkeSgoKSA9PiB7XHJcbiAgLy8gRm9yY2UgdG8gbG9hZCBidXR0b25zIGFuZCBwb3N0IHN0YXR1cyBpbiB3aGF0c2FwcCB3ZWJcclxuICB3cmFwTW9kdWxlRnVuY3Rpb24oZ2V0QUJQcm9wQ29uZmlnVmFsdWUsIChmdW5jLCAuLi5hcmdzKSA9PiB7XHJcbiAgICBjb25zdCBba2V5XSA9IGFyZ3M7XHJcbiAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICBjYXNlICd3ZWJfc3RhdHVzX3Bvc3RpbmdfZW5hYmxlZCc6XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgIGNhc2UgJ3Bvc3Rfc3RhdHVzX2luX2NvbXBhbmlvbic6XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuYyguLi5hcmdzKTtcclxuICB9KTtcclxuXHJcbiAgd3JhcE1vZHVsZUZ1bmN0aW9uKHByaW1hcnlGZWF0dXJlRW5hYmxlZCwgKGZ1bmMsIC4uLmFyZ3MpID0+IHtcclxuICAgIGNvbnN0IFtrZXldID0gYXJncztcclxuICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgIGNhc2UgJ3Bvc3Rfc3RhdHVzX2luX2NvbXBhbmlvbic6XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIGNhc2UgJ3RleHRfc3RhdHVzX2NyZWF0aW9uX3N1cHBvcnQnOlxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmMoLi4uYXJncyk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjIgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGFzc2VydFdpZCB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCB7IFN0YXR1c1YzU3RvcmUsIFdpZCB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuXHJcbi8qKlxyXG4gKiBNYXJrIHN0YXR1cyBhcyByZWFkL3NlZW5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBXUFAuc3RhdHVzLnNlbmRSZWFkU3RhdHVzKCdbcGhvbmVfbnVtYmVyXUBjLnVzJywgJ2ZhbHNlX3N0YXR1c0Bicm9hZGNhc3RfM0ExNjlFMEZENEJDNkU5MjIxMkZfNTUyMTUyNjIzMjkyN0BjLnVzJyk7XHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRSZWFkU3RhdHVzKFxyXG4gIGNoYXRJZDogc3RyaW5nIHwgV2lkLFxyXG4gIHN0YXR1c0lkOiBzdHJpbmdcclxuKTogUHJvbWlzZTxhbnk+IHtcclxuICBjb25zdCB3aWQgPSBhc3NlcnRXaWQoY2hhdElkKTtcclxuICBjb25zdCBzdGF0dXNTdG9yZSA9IFN0YXR1c1YzU3RvcmUuZ2V0KHdpZCk7XHJcblxyXG4gIGNvbnN0IHN0YXR1cyA9IHN0YXR1c1N0b3JlPy5tc2dzLmdldChzdGF0dXNJZCk7XHJcbiAgYXdhaXQgc3RhdHVzU3RvcmU/LnNlbmRSZWFkU3RhdHVzKHN0YXR1cywgc3RhdHVzPy5tZWRpYUtleVRpbWVzdGFtcCk7XHJcblxyXG4gIGNvbnN0IHN0YXR1c1N0b3JlUmV0dXJuID0gU3RhdHVzVjNTdG9yZS5nZXQod2lkKTtcclxuICByZXR1cm4gc3RhdHVzU3RvcmVSZXR1cm4/Lm1zZ3MuZ2V0KHN0YXR1c0lkKT8uc2VyaWFsaXplKCkgfHwgW107XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRDb2xvciB9IGZyb20gJy4uLy4uL2Fzc2VydCc7XHJcbmltcG9ydCAqIGFzIENoYXQgZnJvbSAnLi4vLi4vY2hhdCc7XHJcbmltcG9ydCB7IFRleHRGb250U3R5bGUgfSBmcm9tICcuLi8uLi9lbnVtcyc7XHJcbmltcG9ydCB7IGRlZmF1bHRTZW5kU3RhdHVzT3B0aW9ucyB9IGZyb20gJy4uJztcclxuaW1wb3J0IHsgc2VuZFJhd1N0YXR1cyB9IGZyb20gJy4nO1xyXG5pbXBvcnQgeyBTZW5kU3RhdHVzT3B0aW9ucyB9IGZyb20gJy4vc2VuZFJhd1N0YXR1cyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRleHRTdGF0dXNPcHRpb25zIGV4dGVuZHMgU2VuZFN0YXR1c09wdGlvbnMge1xyXG4gIGZvbnQ/OiBUZXh0Rm9udFN0eWxlO1xyXG4gIGJhY2tncm91bmRDb2xvcj86IHN0cmluZyB8IG51bWJlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNlbmQgYSB0ZXh0IG1lc3NhZ2UgdG8gc3RhdHVzIHN0b3JpZXNcclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBXUFAuc3RhdHVzLnNlbmRUZXh0U3RhdHVzKGBCb290c3RyYXAgcHJpbWFyeSBjb2xvcjogIzAyNzVkOGAsIHsgYmFja2dyb3VuZENvbG9yOiAnIzAyNzVkOCcsIGZvbnQ6IDJ9KTtcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFRleHRTdGF0dXMoXHJcbiAgY29udGVudDogYW55LFxyXG4gIG9wdGlvbnM6IFRleHRTdGF0dXNPcHRpb25zID0ge31cclxuKTogUHJvbWlzZTxhbnk+IHtcclxuICBvcHRpb25zID0ge1xyXG4gICAgLi4uZGVmYXVsdFNlbmRTdGF0dXNPcHRpb25zLFxyXG4gICAgLi4ub3B0aW9ucyxcclxuICB9O1xyXG5cclxuICBsZXQgYmFja2dyb3VuZENvbG9yID0gYXNzZXJ0Q29sb3IoJyMwMDAwMDAnKTtcclxuICBsZXQgZm9udCA9IDA7XHJcblxyXG4gIGlmIChbJ251bWJlcicsICdzdHJpbmcnXS5pbmNsdWRlcyh0eXBlb2Ygb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IpKSB7XHJcbiAgICBiYWNrZ3JvdW5kQ29sb3IgPSBhc3NlcnRDb2xvcihvcHRpb25zLmJhY2tncm91bmRDb2xvcik7XHJcbiAgfVxyXG5cclxuICBpZiAob3B0aW9ucy5mb250ICYmIG9wdGlvbnMuZm9udCA+PSAwICYmIG9wdGlvbnMuZm9udCA8PSA1KSB7XHJcbiAgICBmb250ID0gb3B0aW9ucy5mb250O1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbWVzc2FnZTogQ2hhdC5SYXdNZXNzYWdlID0ge1xyXG4gICAgYm9keTogY29udGVudCxcclxuICAgIHR5cGU6ICdjaGF0JyxcclxuICAgIHJpY2hQcmV2aWV3VHlwZTogMCxcclxuICAgIGludml0ZUdycFR5cGU6IDAsXHJcbiAgICBmb250LFxyXG4gICAgYmFja2dyb3VuZENvbG9yLFxyXG4gIH07XHJcblxyXG4gIHJldHVybiBhd2FpdCBzZW5kUmF3U3RhdHVzKG1lc3NhZ2UsIG9wdGlvbnMpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXNzZXJ0V2lkIH0gZnJvbSAnLi4vLi4vYXNzZXJ0JztcclxuaW1wb3J0IHsgc2VuZEZpbGVNZXNzYWdlIH0gZnJvbSAnLi4vLi4vY2hhdCc7XHJcbmltcG9ydCB7IGdldE15VXNlcldpZCB9IGZyb20gJy4uLy4uL2Nvbm4vZnVuY3Rpb25zL2dldE15VXNlcldpZCc7XHJcbmltcG9ydCB7IE1zZ0tleSB9IGZyb20gJy4uLy4uL3doYXRzYXBwJztcclxuaW1wb3J0IHsgcmFuZG9tSGV4IH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHsgZGVmYXVsdFNlbmRTdGF0dXNPcHRpb25zIH0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBTZW5kU3RhdHVzT3B0aW9ucyB9IGZyb20gJy4vc2VuZFJhd1N0YXR1cyc7XHJcblxyXG5leHBvcnQgdHlwZSBWaWRlb1N0YXR1c09wdGlvbnMgPSBTZW5kU3RhdHVzT3B0aW9ucztcclxuXHJcbi8qKlxyXG4gKiBTZW5kIGEgdmlkZW8gbWVzc2FnZSB0byBzdGF0dXMgc3Rvcmllc1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIFdQUC5zdGF0dXMuc2VuZFZpZGVvU3RhdHVzKCdkYXRhOnZpZGVvL21wNDtiYXNlNjQsPGEgbG9uZyBiYXNlNjQgZmlsZS4uLj4nKTtcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFZpZGVvU3RhdHVzKFxyXG4gIGNvbnRlbnQ6IGFueSxcclxuICBvcHRpb25zOiBWaWRlb1N0YXR1c09wdGlvbnMgPSB7fVxyXG4pOiBQcm9taXNlPGFueT4ge1xyXG4gIGNvbnN0IG1lID0gZ2V0TXlVc2VyV2lkKCk7XHJcblxyXG4gIGNvbnN0IG1lc3NhZ2VJZCA9IG5ldyBNc2dLZXkoe1xyXG4gICAgZnJvbU1lOiB0cnVlLFxyXG4gICAgaWQ6IHJhbmRvbUhleCgxNiksXHJcbiAgICBwYXJ0aWNpcGFudDogbWUsXHJcbiAgICByZW1vdGU6IGFzc2VydFdpZCgnc3RhdHVzQGJyb2FkY2FzdCcpLFxyXG4gIH0pO1xyXG5cclxuICBvcHRpb25zID0ge1xyXG4gICAgLi4uZGVmYXVsdFNlbmRTdGF0dXNPcHRpb25zLFxyXG4gICAgbWVzc2FnZUlkLFxyXG4gICAgLi4ub3B0aW9ucyxcclxuICB9O1xyXG5cclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kRmlsZU1lc3NhZ2UoJ3N0YXR1c0Bicm9hZGNhc3QnLCBjb250ZW50LCB7XHJcbiAgICAuLi5vcHRpb25zLFxyXG4gICAgY3JlYXRlQ2hhdDogdHJ1ZSxcclxuICAgIHR5cGU6ICd2aWRlbycsXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBhc3NlcnRXaWQgfSBmcm9tICcuLi8uLi9hc3NlcnQnO1xyXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuLi8uLi9jb25maWcnO1xyXG5pbXBvcnQgeyBnZXRNeVVzZXJXaWQgfSBmcm9tICcuLi8uLi9jb25uL2Z1bmN0aW9ucy9nZXRNeVVzZXJXaWQnO1xyXG5pbXBvcnQge1xyXG4gIENvbnRhY3RTdG9yZSxcclxuICBmdW5jdGlvbnMsXHJcbiAgTXNnS2V5LFxyXG4gIFBhcnRpY2lwYW50TW9kZWwsXHJcbiAgV2lkLFxyXG4gIFdpZEZhY3RvcnksXHJcbn0gZnJvbSAnLi4vLi4vd2hhdHNhcHAnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTZW5kU3RhdHVzT3B0aW9ucyB7XHJcbiAgd2FpdEZvckFjaz86IGJvb2xlYW47XHJcbiAgbWVzc2FnZUlkPzogc3RyaW5nIHwgTXNnS2V5O1xyXG59XHJcblxyXG4vKipcclxuICogRGVmaW5lIGEgY3VzdG9tIGxpc3Qgb2YgcGFydGljaXBhbnRzIHRvIHNlbmQgdGhlIHN0YXR1cyBtZXNzYWdlXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gVXNlIGEgY3VzdG9tIGxpc3RcclxuICogYXdhaXQgV1BQLnN0YXR1cy51cGRhdGVQYXJ0aWNpcGFudHMoWycxMjNAYy51cycsICc0NTZAYy51cyddKTtcclxuICogLy8gVXNlIHRoZSBjb250YWN0cyBieSBkZWZhdWx0XHJcbiAqIGF3YWl0IFdQUC5zdGF0dXMudXBkYXRlUGFydGljaXBhbnRzKG51bGwpO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVQYXJ0aWNpcGFudHMoXHJcbiAgaWRzPzogKHN0cmluZyB8IFdpZClbXSB8IG51bGxcclxuKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgbGV0IHR5cGUgPSAnY3VzdG9tJztcclxuXHJcbiAgY29uc3QgbWUgPSBnZXRNeVVzZXJXaWQoKTtcclxuXHJcbiAgaWYgKCFpZHMgfHwgaWRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgaWRzID0gQ29udGFjdFN0b3JlLmdldE1vZGVsc0FycmF5KClcclxuICAgICAgLmZpbHRlcigoYykgPT4gYy5pc015Q29udGFjdCAmJiAhYy5pc0NvbnRhY3RCbG9ja2VkKVxyXG4gICAgICAuZmlsdGVyKChjKSA9PiBjLm5vdGlmeU5hbWUgJiYgIWMuaXNNZSlcclxuICAgICAgLmZpbHRlcigoYykgPT4gIWMuaWQuZXF1YWxzKG1lKSlcclxuICAgICAgLm1hcCgoYykgPT4gYy5pZCk7XHJcblxyXG4gICAgdHlwZSA9ICdjb250YWN0cyc7XHJcbiAgfVxyXG5cclxuICBjb25zdCB3aWRzID0gaWRzLm1hcChhc3NlcnRXaWQpLmZpbHRlcigoYykgPT4gIWMuZXF1YWxzKG1lKSk7XHJcblxyXG4gIGlmIChjb25maWcuc2VuZFN0YXR1c1RvRGV2aWNlKSB7XHJcbiAgICB3aWRzLnB1c2gobWUpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcGFydGljaXBhbnRzID0gd2lkcy5tYXAoXHJcbiAgICAoaWQpID0+XHJcbiAgICAgIG5ldyBQYXJ0aWNpcGFudE1vZGVsKHtcclxuICAgICAgICBpZCxcclxuICAgICAgICBpc0FkbWluOiBmYWxzZSxcclxuICAgICAgICBpc1N1cGVyQWRtaW46IGZhbHNlLFxyXG4gICAgICB9KVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGdyb3VwID0gV2lkRmFjdG9yeS5jcmVhdGVXaWQoJ3N0YXR1c0Bicm9hZGNhc3QnKTtcclxuXHJcbiAgYXdhaXQgZnVuY3Rpb25zLnVwZGF0ZVBhcnRpY2lwYW50cyh7XHJcbiAgICBncm91cCxcclxuICAgIHBhcnRpY2lwYW50cyxcclxuICAgIHZlcnNpb246IERhdGUubm93KCksXHJcbiAgICBpc09mZmxpbmU6IGZhbHNlLFxyXG4gIH0pO1xyXG5cclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnd3BwLXN0YXR1cy1wYXJ0aWNpcGFudHMnLCB0eXBlKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCAnLi9ldmVudHMnO1xyXG5pbXBvcnQgJy4vcGF0Y2gnO1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9kZWZhdWx0U2VuZFN0YXR1c09wdGlvbnMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2Z1bmN0aW9ucyc7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBnZXRNeVVzZXJXaWQgfSBmcm9tICcuLi9jb25uL2Z1bmN0aW9ucy9nZXRNeVVzZXJXaWQnO1xyXG5pbXBvcnQgKiBhcyB3ZWJwYWNrIGZyb20gJy4uL3dlYnBhY2snO1xyXG5pbXBvcnQgeyB3cmFwTW9kdWxlRnVuY3Rpb24gfSBmcm9tICcuLi93aGF0c2FwcC9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBoYW5kbGVTaW5nbGVNc2cgfSBmcm9tICcuLi93aGF0c2FwcC9mdW5jdGlvbnMnO1xyXG5cclxud2VicGFjay5vbkZ1bGxSZWFkeShhcHBseVBhdGNoKTtcclxuXHJcbmZ1bmN0aW9uIGFwcGx5UGF0Y2goKSB7XHJcbiAgd3JhcE1vZHVsZUZ1bmN0aW9uKGhhbmRsZVNpbmdsZU1zZywgYXN5bmMgKGZ1bmMsIC4uLmFyZ3MpID0+IHtcclxuICAgIGNvbnN0IFt3aWQsIG1zZ10gPSBhcmdzO1xyXG5cclxuICAgIGlmICghY29uZmlnLnN5bmNBbGxTdGF0dXMgJiYgd2lkLmlzU3RhdHVzVjMoKSkge1xyXG4gICAgICBjb25zdCBtZSA9IGdldE15VXNlcldpZCgpO1xyXG5cclxuICAgICAgaWYgKG1zZy5hdXRob3IgJiYgIW1lLmVxdWFscyhtc2cuYXV0aG9yKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmdW5jKC4uLmFyZ3MpO1xyXG4gIH0pO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJsb2JUb0FycmF5QnVmZmVyKGJsb2I6IEJsb2IpOiBQcm9taXNlPEFycmF5QnVmZmVyPiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQgYXMgQXJyYXlCdWZmZXIpO1xyXG4gICAgfTtcclxuICAgIHJlYWRlci5vbmFib3J0ID0gcmVqZWN0O1xyXG4gICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XHJcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XHJcbiAgfSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmxvYlRvQmFzZTY0KGJsb2I6IEJsb2IpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0IGFzIHN0cmluZyk7XHJcbiAgICB9O1xyXG4gICAgcmVhZGVyLm9uYWJvcnQgPSByZWplY3Q7XHJcbiAgICByZWFkZXIub25lcnJvciA9IHJlamVjdDtcclxuICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xyXG4gIH0pO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IEZpbGVUeXBlIGZyb20gJ2ZpbGUtdHlwZSc7XHJcbmltcG9ydCBwYXJzZURhdGFVUkwgZnJvbSAncGFyc2UtZGF0YS11cmwnO1xyXG5cclxuaW1wb3J0IHsgaXNCYXNlNjQsIGlzVXJsIH0gZnJvbSAnLic7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29udmVydFRvRmlsZShcclxuICBkYXRhOiBzdHJpbmcgfCBCbG9iIHwgRmlsZSxcclxuICBtaW1ldHlwZT86IHN0cmluZyxcclxuICBmaWxlbmFtZT86IHN0cmluZ1xyXG4pOiBQcm9taXNlPEZpbGU+IHtcclxuICBpZiAoZGF0YSBpbnN0YW5jZW9mIEZpbGUpIHtcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH1cclxuXHJcbiAgbGV0IGJsb2I6IEJsb2IgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyAmJiBpc1VybChkYXRhKSkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkYXRhKTtcclxuICAgIGNvbnN0IGZldGNoZWRCbG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xyXG4gICAgYmxvYiA9IGZldGNoZWRCbG9iO1xyXG4gIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XHJcbiAgICBsZXQgcGFyc2VkID0gcGFyc2VEYXRhVVJMKGRhdGEpO1xyXG5cclxuICAgIGlmICghcGFyc2VkICYmIGlzQmFzZTY0KGRhdGEpKSB7XHJcbiAgICAgIHBhcnNlZCA9IHBhcnNlRGF0YVVSTCgnZGF0YTo7YmFzZTY0LCcgKyBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXBhcnNlZCkge1xyXG4gICAgICB0aHJvdyAnaW52YWxpZF9kYXRhX3VybCc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFtaW1ldHlwZSkge1xyXG4gICAgICBtaW1ldHlwZSA9IHBhcnNlZC5jb250ZW50VHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBidWZmZXIgPSBwYXJzZWQudG9CdWZmZXIoKTtcclxuICAgIC8vIENvbnZlcnQgQnVmZmVyIHRvIFVpbnQ4QXJyYXkgdXNpbmcgQnVmZmVyLmZyb20gZm9yIGNvbXBhdGliaWxpdHlcclxuICAgIGJsb2IgPSBuZXcgQmxvYihbVWludDhBcnJheS5mcm9tKGJ1ZmZlcildLCB7XHJcbiAgICAgIHR5cGU6IG1pbWV0eXBlLFxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGJsb2IgPSBkYXRhO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFmaWxlbmFtZSB8fCAhbWltZXR5cGUpIHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEZpbGVUeXBlLmZyb21CdWZmZXIoYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpKTtcclxuICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgY29uc3QgYmFzZVR5cGUgPSByZXN1bHQubWltZS5zcGxpdCgnLycpWzBdO1xyXG4gICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lIHx8IGAke2Jhc2VUeXBlfS4ke3Jlc3VsdC5leHR9YDtcclxuICAgICAgbWltZXR5cGUgPSBtaW1ldHlwZSB8fCByZXN1bHQubWltZTtcclxuICAgIH1cclxuXHJcbiAgICBmaWxlbmFtZSA9IGZpbGVuYW1lIHx8ICd1bmtub3duJztcclxuICAgIG1pbWV0eXBlID0gbWltZXR5cGUgfHwgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSc7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbmV3IEZpbGUoW2Jsb2JdLCBmaWxlbmFtZSwge1xyXG4gICAgdHlwZTogbWltZXR5cGUsXHJcbiAgICBsYXN0TW9kaWZpZWQ6IERhdGUubm93KCksXHJcbiAgfSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBXaWQsIFdpZEZhY3RvcnkgfSBmcm9tICcuLi93aGF0c2FwcCc7XHJcblxyXG5mdW5jdGlvbiBnZXRXaWRGYWN0b3J5KCk6IGFueSB7XHJcbiAgLy8gUHJlZmVyIHRoZSBpbXBvcnRlZCBXaWRGYWN0b3J5IGJ1dCBndWFyZCBhZ2FpbnN0IGNpcmN1bGFyL3VuZGVmaW5lZCBpbXBvcnRzLlxyXG4gIGlmICh0eXBlb2YgV2lkRmFjdG9yeSAhPT0gJ3VuZGVmaW5lZCcgJiYgV2lkRmFjdG9yeSkgcmV0dXJuIFdpZEZhY3RvcnkgYXMgYW55O1xyXG4gIC8vIEZhbGxiYWNrIHRvIGdsb2JhbCAoaWYgc29tZSBidWlsZCBhdHRhY2hlcyB0aGUgZmFjdG9yaWVzIHRoZXJlKVxyXG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiYgKGdsb2JhbFRoaXMgYXMgYW55KS5XaWRGYWN0b3J5KVxyXG4gICAgcmV0dXJuIChnbG9iYWxUaGlzIGFzIGFueSkuV2lkRmFjdG9yeTtcclxuICByZXR1cm4gdW5kZWZpbmVkO1xyXG59XHJcblxyXG5jb25zdCBjcmVhdGVVc2VyV2lkQ29tcGF0OiAoXHJcbiAgdXNlcjogc3RyaW5nLFxyXG4gIHNlcnZlcj86IHN0cmluZ1xyXG4pID0+IFdpZCB8IHVuZGVmaW5lZCA9ICh1c2VyOiBzdHJpbmcsIHNlcnZlcj86IHN0cmluZykgPT4ge1xyXG4gIGNvbnN0IGZhY3RvcnkgPSBnZXRXaWRGYWN0b3J5KCk7XHJcbiAgaWYgKCFmYWN0b3J5KSByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIGlmICh0eXBlb2YgZmFjdG9yeS5jcmVhdGVVc2VyV2lkT3JUaHJvdyA9PT0gJ2Z1bmN0aW9uJylcclxuICAgIHJldHVybiBmYWN0b3J5LmNyZWF0ZVVzZXJXaWRPclRocm93KHVzZXIsIHNlcnZlcik7XHJcbiAgaWYgKHR5cGVvZiBmYWN0b3J5LmNyZWF0ZVVzZXJXaWQgPT09ICdmdW5jdGlvbicpXHJcbiAgICByZXR1cm4gZmFjdG9yeS5jcmVhdGVVc2VyV2lkKHVzZXIsIHNlcnZlcik7XHJcbiAgaWYgKHR5cGVvZiBmYWN0b3J5LmNyZWF0ZVdpZCA9PT0gJ2Z1bmN0aW9uJylcclxuICAgIHJldHVybiBmYWN0b3J5LmNyZWF0ZVdpZChzZXJ2ZXIgPyBgJHt1c2VyfUAke3NlcnZlcn1gIDogdXNlcik7XHJcbiAgcmV0dXJuIHVuZGVmaW5lZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVXaWQoXHJcbiAgaWQ6IHN0cmluZyB8IHsgX3NlcmlhbGl6ZWQ6IHN0cmluZyB9XHJcbik6IFdpZCB8IHVuZGVmaW5lZCB7XHJcbiAgaWYgKCFpZCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZmFjdG9yeSA9IGdldFdpZEZhY3RvcnkoKTtcclxuICBpZiAoZmFjdG9yeSAmJiBmYWN0b3J5LmlzV2lkbGlrZSAmJiBmYWN0b3J5LmlzV2lkbGlrZShpZCkpIHtcclxuICAgIHJldHVybiBmYWN0b3J5LmNyZWF0ZVdpZEZyb21XaWRMaWtlKGlkKTtcclxuICB9XHJcblxyXG4gIGlmIChpZCAmJiB0eXBlb2YgaWQgPT09ICdvYmplY3QnICYmIHR5cGVvZiBpZC5fc2VyaWFsaXplZCA9PT0gJ29iamVjdCcpIHtcclxuICAgIGlkID0gaWQuX3NlcmlhbGl6ZWQ7XHJcbiAgfVxyXG5cclxuICBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9XHJcblxyXG4gIGlmICgvQFxcdypsaWRcXGIvLnRlc3QoaWQpKSB7XHJcbiAgICByZXR1cm4gY3JlYXRlVXNlcldpZENvbXBhdChpZCwgJ2xpZCcpO1xyXG4gIH1cclxuICBpZiAoL15cXGQrJC8udGVzdChpZCkpIHtcclxuICAgIHJldHVybiBjcmVhdGVVc2VyV2lkQ29tcGF0KGlkLCAnYy51cycpO1xyXG4gIH1cclxuICBpZiAoL15cXGQrLVxcZCskLy50ZXN0KGlkKSkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVVzZXJXaWRDb21wYXQoaWQsICdnLnVzJyk7XHJcbiAgfVxyXG4gIGlmICgvc3RhdHVzJC8udGVzdChpZCkpIHtcclxuICAgIHJldHVybiBjcmVhdGVVc2VyV2lkQ29tcGF0KGlkLCAnYnJvYWRjYXN0Jyk7XHJcbiAgfVxyXG5cclxuICBpZiAoZmFjdG9yeSAmJiB0eXBlb2YgZmFjdG9yeS5jcmVhdGVXaWQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgIHJldHVybiBmYWN0b3J5LmNyZWF0ZVdpZChpZCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdW5kZWZpbmVkO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkSW1hZ2UoXHJcbiAgdXJsOiBzdHJpbmcsXHJcbiAgdHlwZSA9ICdpbWFnZS9qcGVnJyxcclxuICBxdWFsaXR5OiBhbnkgPSAwLjg1XHJcbik6IFByb21pc2U8e1xyXG4gIGRhdGE6IHN0cmluZztcclxuICBoZWlnaHQ6IG51bWJlcjtcclxuICB3aWR0aDogbnVtYmVyO1xyXG59PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgaW1nLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XHJcbiAgICBpbWcuc3JjID0gdXJsO1xyXG5cclxuICAgIGltZy5vbmVycm9yID0gcmVqZWN0O1xyXG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpITtcclxuXHJcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcubmF0dXJhbEhlaWdodDtcclxuICAgICAgY2FudmFzLndpZHRoID0gaW1nLm5hdHVyYWxXaWR0aDtcclxuXHJcbiAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcclxuXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBjYW52YXMudG9EYXRhVVJMKHR5cGUsIHF1YWxpdHkpO1xyXG5cclxuICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgZGF0YSxcclxuICAgICAgICBoZWlnaHQ6IGltZy5uYXR1cmFsSGVpZ2h0LFxyXG4gICAgICAgIHdpZHRoOiBpbWcubmF0dXJhbFdpZHRoLFxyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgfSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5leHBvcnQgY2xhc3MgV1BQRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICByZWFkb25seSBjb2RlOiBzdHJpbmcsXHJcbiAgICBtZXNzYWdlOiBzdHJpbmcsXHJcbiAgICBleHRyYTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9XHJcbiAgKSB7XHJcbiAgICBzdXBlcihtZXNzYWdlKTtcclxuXHJcbiAgICBpZiAoZXh0cmEpIHtcclxuICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGV4dHJhKTtcclxuICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xyXG4gICAgICAgICh0aGlzIGFzIGFueSlba2V5XSA9IGV4dHJhW2tleV07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hEYXRhRnJvbVBORyh1cmw6IHN0cmluZyk6IFByb21pc2U8VWludDhBcnJheT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgIGltZy5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xyXG4gICAgaW1nLnNyYyA9IHVybDtcclxuICAgIGltZy5vbmVycm9yID0gcmVqZWN0O1xyXG4gICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpITtcclxuXHJcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcubmF0dXJhbEhlaWdodDtcclxuICAgICAgY2FudmFzLndpZHRoID0gaW1nLm5hdHVyYWxXaWR0aDtcclxuICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xyXG5cclxuICAgICAgY29uc3QgZGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KS5kYXRhO1xyXG5cclxuICAgICAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmZyb20oZGF0YS5maWx0ZXIoKF8sIGkpID0+IGkgJSA0IDwgMykpOyAvLyBTa2lwIGFsZmEgY29sb3JcclxuXHJcbiAgICAgIC8vIEdldCB0aGUgaW1hZ2Ugc2l6ZVxyXG4gICAgICBjb25zdCBzaXplID1cclxuICAgICAgICAoYnVmZmVyWzFdIDw8IDU2KSArXHJcbiAgICAgICAgKGJ1ZmZlclsyXSA8PCA0OCkgK1xyXG4gICAgICAgIChidWZmZXJbM10gPDwgNDApICtcclxuICAgICAgICAoYnVmZmVyWzRdIDw8IDMyKSArXHJcbiAgICAgICAgKGJ1ZmZlcls1XSA8PCAyNCkgK1xyXG4gICAgICAgIChidWZmZXJbNl0gPDwgMTYpICtcclxuICAgICAgICAoYnVmZmVyWzddIDw8IDgpICtcclxuICAgICAgICBidWZmZXJbOF07XHJcblxyXG4gICAgICByZXNvbHZlKG5ldyBVaW50OEFycmF5KGJ1ZmZlci5zdWJhcnJheSg5LCBzaXplICsgOSkpKTtcclxuICAgIH07XHJcbiAgfSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVPcmRlclVuaXF1ZUlkKCk6IHN0cmluZyB7XHJcbiAgY29uc3QgdGltZXN0YW1wID0gU3RyaW5nKERhdGUubm93KCkpO1xyXG4gIGNvbnN0IHJhbmRvbVBhcnQgPSBNYXRoLnJhbmRvbSgpLnRvRml4ZWQoNCkuc2xpY2UoLTQpO1xyXG4gIGNvbnN0IGNvbWJpbmVkVmFsdWUgPSB0aW1lc3RhbXAgKyByYW5kb21QYXJ0O1xyXG5cclxuICBjb25zdCB1bmlxdWVJZCA9XHJcbiAgICB0eXBlb2YgQmlnSW50ID09PSAnZnVuY3Rpb24nXHJcbiAgICAgID8gQmlnSW50KGNvbWJpbmVkVmFsdWUpXHJcbiAgICAgIDogTnVtYmVyKGNvbWJpbmVkVmFsdWUpO1xyXG5cclxuICByZXR1cm4gdW5pcXVlSWQudG9TdHJpbmcoMzYpLnRvVXBwZXJDYXNlKCk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG4vKipcclxuICogR2V0IHRoZSB2aWRlbyBmaWxlIGR1cmF0aW9uXHJcbiAqIEBzZWUgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vRWxlbWVudHMtL2NmMDYzMjU0NzMwY2Q3NTQ1OTllI2dpc3Rjb21tZW50LTMyNDEyMTBcclxuICogQHNlZSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9PbGxpZUpvbmVzLzVmZmIwMTFmYTNhMTE5NjQxNTQ5NzU1ODIzNjAzOTFjXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmlkZW9JbmZvRnJvbUJ1ZmZlcihhcnJheUJ1ZmZlcjogQXJyYXlCdWZmZXIpIHtcclxuICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlcik7XHJcblxyXG4gIGNvbnN0IGhlYWRlciA9IEJ1ZmZlci5mcm9tKCdtdmhkJyk7XHJcblxyXG4gIGNvbnN0IHN0YXJ0ID0gYnVmZmVyLmluZGV4T2YoaGVhZGVyKSArIDE3O1xyXG4gIGNvbnN0IHRpbWVTY2FsZSA9IGJ1ZmZlci5yZWFkVUludDMyQkUoc3RhcnQpO1xyXG4gIGNvbnN0IGR1cmF0aW9uID0gYnVmZmVyLnJlYWRVSW50MzJCRShzdGFydCArIDQpO1xyXG5cclxuICBjb25zdCBtb292ID0gYnVmZmVyLmluZGV4T2YoQnVmZmVyLmZyb20oJ21vb3YnKSk7XHJcbiAgY29uc3QgdHJhayA9IGJ1ZmZlci5pbmRleE9mKEJ1ZmZlci5mcm9tKCd0cmFrJyksIG1vb3YgKyA0KTtcclxuICBjb25zdCBzdGJsID0gYnVmZmVyLmluZGV4T2YoQnVmZmVyLmZyb20oJ3N0YmwnKSwgdHJhayArIDQpO1xyXG4gIGNvbnN0IGF2YzEgPSBidWZmZXIuaW5kZXhPZihCdWZmZXIuZnJvbSgnYXZjMScpLCBzdGJsICsgNCk7XHJcblxyXG4gIGNvbnN0IHdpZHRoID0gYnVmZmVyLnJlYWRVSW50MTZCRShhdmMxICsgNCArIDI0KTtcclxuICBjb25zdCBoZWlnaHQgPSBidWZmZXIucmVhZFVJbnQxNkJFKGF2YzEgKyA0ICsgMjYpO1xyXG5cclxuICBjb25zdCBhdWRpb0xlbmd0aCA9IE1hdGguZmxvb3IoKGR1cmF0aW9uIC8gdGltZVNjYWxlKSAqIDEwMDApIC8gMTAwMDtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGR1cmF0aW9uOiBNYXRoLmZsb29yKGF1ZGlvTGVuZ3RoKSxcclxuICAgIHdpZHRoLFxyXG4gICAgaGVpZ2h0LFxyXG4gIH07XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2Jsb2JUb0FycmF5QnVmZmVyJztcclxuZXhwb3J0ICogZnJvbSAnLi9ibG9iVG9CYXNlNjQnO1xyXG5leHBvcnQgKiBmcm9tICcuL2NvbnZlcnRUb0ZpbGUnO1xyXG5leHBvcnQgKiBmcm9tICcuL2NyZWF0ZVdpZCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZG93bmxvYWRJbWFnZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZXJyb3JzJztcclxuZXhwb3J0ICogZnJvbSAnLi9mZXRjaERhdGFGcm9tUE5HJztcclxuZXhwb3J0ICogZnJvbSAnLi9nZW5lcmF0ZU9yZGVyVW5pcXVlSWQnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dldFZpZGVvSW5mb0Zyb21CdWZmZXInO1xyXG5leHBvcnQgKiBmcm9tICcuL2lzQmFzZTY0JztcclxuZXhwb3J0ICogZnJvbSAnLi9pc1VybCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vcmVzaXplSW1hZ2UnO1xyXG5leHBvcnQgKiBmcm9tICcuL3R5cGVzJztcclxuZXhwb3J0ICogZnJvbSAnLi93cmFwRnVuY3Rpb24nO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmNvbnN0IHJlID0gL14oPzpbQS1aYS16MC05Ky9dezR9KSooPzpbQS1aYS16MC05Ky9dezJ9PT18W0EtWmEtejAtOSsvXXszfT0pPyQvO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQmFzZTY0KGRhdGE6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gIHJldHVybiByZS50ZXN0KGRhdGEpO1xyXG59XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGEgc3RyaW5nIGlzIGEgdmFsaWQgSFRUUCBvciBIVFRQUyBVUkxcclxuICogQHBhcmFtIHVybCBUaGUgc3RyaW5nIHRvIGNoZWNrXHJcbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHN0cmluZyBpcyBhIHZhbGlkIEhUVFAvSFRUUFMgVVJMLCBmYWxzZSBvdGhlcndpc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1VybCh1cmw6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gIGlmICghdXJsIHx8IHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBjb25zdCB0cmltbWVkVXJsID0gdXJsLnRyaW0oKTtcclxuXHJcbiAgLy8gRmFzdCBlYXJseSByZXR1cm4gZm9yIG9idmlvdXNseSBub24tSFRUUC9IVFRQUyBVUkxzXHJcbiAgLy8gVGhpcyBhdm9pZHMgZXhwZW5zaXZlIFVSTCBwYXJzaW5nIGZvciBiYXNlNjQgZGF0YSwgZGF0YSBVUkxzLCBldGMuXHJcbiAgaWYgKCEvXmh0dHBzPzpcXC9cXC8vaS50ZXN0KHRyaW1tZWRVcmwpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgdXJsT2JqZWN0ID0gbmV3IFVSTCh0cmltbWVkVXJsKTtcclxuICAgIHJldHVybiB1cmxPYmplY3QucHJvdG9jb2wgPT09ICdodHRwOicgfHwgdXJsT2JqZWN0LnByb3RvY29sID09PSAnaHR0cHM6JztcclxuICB9IGNhdGNoIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgRGVidWcgZnJvbSAnZGVidWcnO1xyXG5cclxuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi4vY29uZmlnJztcclxuaW1wb3J0IHsgQmFzZTY0LCBPcGFxdWVEYXRhIH0gZnJvbSAnLi4vd2hhdHNhcHAnO1xyXG5pbXBvcnQgeyB1bml4VGltZSwgdXBsb2FkVGh1bWJuYWlsIH0gZnJvbSAnLi4vd2hhdHNhcHAvZnVuY3Rpb25zJztcclxuaW1wb3J0IHsgZG93bmxvYWRJbWFnZSB9IGZyb20gJy4vZG93bmxvYWRJbWFnZSc7XHJcbmltcG9ydCB7IGZldGNoRGF0YUZyb21QTkcgfSBmcm9tICcuL2ZldGNoRGF0YUZyb21QTkcnO1xyXG5cclxuY29uc3QgZGVidWcgPSBEZWJ1ZygnV0EtSlM6bGluay1wcmV2aWV3Jyk7XHJcblxyXG4vKipcclxuICogU2VydmVyIFNvdXJjZTogd2EtanMtYXBpLXNlcnZlclxyXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93cHBjb25uZWN0LXRlYW0vd2EtanMtYXBpLXNlcnZlclxyXG4gKlxyXG4gKiBBbiBhcnRpY2xlIGFib3V0IGhvdyB0aGlzIHNlcnZlciB3b3JrOiBodHRwczovL3d3dy5zZWNqdWljZS5jb20vaGlkaW5nLWphdmFzY3JpcHQtaW4tcG5nLWNzcC1ieXBhc3MvXHJcbiAqL1xyXG5jb25zdCBkZWZhdWx0QXBpU2VydmVycyA9IFtcclxuICAnaHR0cHM6Ly9jb2JyYW5jYXMudXBwZXJtZXNoLmNvbS5icjo4MDAwJyxcclxuICAnaHR0cHM6Ly93YWpzYXBpLnRpdGFuY2hhdC5jb20uYnInLFxyXG4gICdodHRwczovL3dwcGMtbGlua3ByZXZpZXcuY2xvdWR0cml4LmNvbS5icicsXHJcbl07XHJcblxyXG5jb25zdCBhcGlTZXJ2ZXJzID0gY29uZmlnLmxpbmtQcmV2aWV3QXBpU2VydmVycyB8fCBkZWZhdWx0QXBpU2VydmVycztcclxuXHJcbmNvbnN0IHRodW1iSGVpZ2h0ID0gMTAwO1xyXG5jb25zdCB0aHVtYldpZHRoID0gMTQwO1xyXG5cclxuY29uc3QgY2FjaGU6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTtcclxuY29uc3QgY2FjaGVUaHVtYjogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xyXG5cclxuc2h1ZmZsZUFycmF5KGFwaVNlcnZlcnMpO1xyXG5cclxuLyoqXHJcbiAqIEZldGNoIHByZXZpZXcgbGluayBkYXRhIGZyb20gYSByZW1vdGUgc2VydmVyXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hSZW1vdGVMaW5rUHJldmlld0RhdGEodXJsOiBzdHJpbmcpIHtcclxuICBpZiAoY2FjaGVbdXJsXSkge1xyXG4gICAgZGVidWcoYExpbmsgcHJldmlldyBmb3VuZCBpbiB0aGUgY2FjaGVgLCB1cmwpO1xyXG4gICAgcmV0dXJuIGNhY2hlW3VybF07XHJcbiAgfVxyXG5cclxuICBjb25zdCB0ZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xyXG5cclxuICBmb3IgKGxldCBpID0gYXBpU2VydmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgY29uc3Qgc2VydmVyID0gYXBpU2VydmVyc1tpXTtcclxuXHJcbiAgICBkZWJ1ZyhgRmV0Y2hpbmcgbGluayBwcmV2aWV3IHVzaW5nICR7c2VydmVyfWAsIHVybCk7XHJcblxyXG4gICAgY29uc3QgaW1hZ2VVcmwgPVxyXG4gICAgICBgJHtzZXJ2ZXJ9L3YxL2xpbmstcHJldmlldy9mZXRjaC1kYXRhLnBuZz91cmw9YCArIGVuY29kZVVSSSh1cmwpO1xyXG5cclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaERhdGFGcm9tUE5HKGltYWdlVXJsKVxyXG4gICAgICAudGhlbigodGV4dCkgPT4gdGV4dERlY29kZXIuZGVjb2RlKHRleHQpKVxyXG4gICAgICAudGhlbigodGV4dCkgPT4gSlNPTi5wYXJzZSh0ZXh0KSlcclxuICAgICAgLmNhdGNoKCgpID0+IG51bGwpO1xyXG5cclxuICAgIC8vIERpc2NhcmQgc2VydmVycyB3aXRoIGJhZCByZXNwb25zZVxyXG4gICAgaWYgKGRhdGEgPT09IG51bGwgfHwgKCEoJ3RpdGxlJyBpbiBkYXRhKSAmJiAhKCdzdGF0dXMnIGluIGRhdGEpKSkge1xyXG4gICAgICBkZWJ1ZyhgVGhlIHNlcnZlciAke3NlcnZlcn0gaXMgdW5hdmFpbGFibGUgZm9yIGxpbmsgcHJldmlld2ApO1xyXG4gICAgICBhcGlTZXJ2ZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFkYXRhLnRpdGxlICYmIGRhdGEuc3RhdHVzICE9PSAyMDApIHtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaXNWaWRlbyA9IC9edmlkZW8vLnRlc3QoZGF0YS5tZWRpYVR5cGUpO1xyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IHtcclxuICAgICAgdGl0bGU6IGRhdGEudGl0bGUsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uLFxyXG4gICAgICBjYW5vbmljYWxVcmw6IGRhdGEudXJsLFxyXG4gICAgICBtYXRjaGVkVGV4dDogdXJsLFxyXG4gICAgICByaWNoUHJldmlld1R5cGU6IGlzVmlkZW8gPyAxIDogMCxcclxuICAgICAgZG9Ob3RQbGF5SW5saW5lOiAhaXNWaWRlbyxcclxuICAgICAgaW1hZ2VVcmw6IGRhdGEuaW1hZ2UsXHJcbiAgICB9O1xyXG5cclxuICAgIGNhY2hlW3VybF0gPSByZXN1bHQ7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGRlbGV0ZSBjYWNoZVt1cmxdO1xyXG4gICAgfSwgMzAwMDAwKTsgLy8gNSBtaW51dGVzXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBhIHRodW1ibmFpbCBpbiBiYXNlNjQgZm9ybWF0XHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZVRodW1ibmFpbCh1cmw6IHN0cmluZykge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgIGltZy5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xyXG4gICAgaW1nLnNyYyA9IHVybDtcclxuXHJcbiAgICBpbWcub25lcnJvciA9IHJlamVjdDtcclxuICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJykhO1xyXG5cclxuICAgICAgICBjYW52YXMud2lkdGggPSB0aHVtYldpZHRoO1xyXG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0aHVtYldpZHRoO1xyXG5cclxuICAgICAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihpbWcud2lkdGgsIGltZy5oZWlnaHQpO1xyXG5cclxuICAgICAgICBjb25zdCBzeCA9IChpbWcud2lkdGggLSBtaW4pIC8gMjtcclxuICAgICAgICBjb25zdCBzeSA9IChpbWcuaGVpZ2h0IC0gbWluKSAvIDI7XHJcblxyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCBzeCwgc3ksIG1pbiwgbWluLCAwLCAwLCB0aHVtYldpZHRoLCB0aHVtYldpZHRoKTtcclxuXHJcbiAgICAgICAgcmVzb2x2ZShcclxuICAgICAgICAgIGNhbnZhc1xyXG4gICAgICAgICAgICAudG9EYXRhVVJMKCdpbWFnZS9qcGVnJylcclxuICAgICAgICAgICAgLnJlcGxhY2UoL15kYXRhOmltYWdlXFwvanBlZztiYXNlNjQsLywgJycpXHJcbiAgICAgICAgKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHJlamVjdCgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogR2VuZXJhdGUgdGhlIHByZXZpZXcgbGluayB0aHVtYm5haWwgZGF0YVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlVGh1bWJuYWlsTGlua1ByZXZpZXdEYXRhKHVybDogc3RyaW5nKSB7XHJcbiAgaWYgKGNhY2hlVGh1bWJbdXJsXSkge1xyXG4gICAgZGVidWcoYFRodW1iIGZvciBsaW5rIHByZXZpZXcgZm91bmQgaW4gY2FjaGUuYCwgdXJsKTtcclxuICAgIHJldHVybiBjYWNoZVRodW1iW3VybF07XHJcbiAgfVxyXG4gIGlmICghYXBpU2VydmVyc1swXSkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBjb25zdCBzZXJ2ZXIgPSBhcGlTZXJ2ZXJzWzBdO1xyXG5cclxuICBkZWJ1ZyhgRG93bmxvYWRpbmcgdGhlIHByZXZpZXcgaW1hZ2UgdXNpbmcgJHtzZXJ2ZXJ9YCwgdXJsKTtcclxuXHJcbiAgY29uc3QgZG93bmxvYWRVcmwgPVxyXG4gICAgYCR7c2VydmVyfS92MS9saW5rLXByZXZpZXcvZG93bmxvYWQtaW1hZ2U/dXJsPWAgKyBlbmNvZGVVUkkodXJsKTtcclxuXHJcbiAgY29uc3QgZG93bmxvYWQgPSBhd2FpdCBkb3dubG9hZEltYWdlKGRvd25sb2FkVXJsKS5jYXRjaCgoKSA9PiBudWxsKTtcclxuXHJcbiAgLy8gSWdub3JlIGltYWdlIG5vdCBmb3VuZFxyXG4gIGlmICghZG93bmxvYWQpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgLy8gSWdub3JlIHRvbyBzbWFsbCBpbWFnZVxyXG4gIGlmIChkb3dubG9hZC53aWR0aCA8IHRodW1iV2lkdGggfHwgZG93bmxvYWQuaGVpZ2h0IDwgdGh1bWJIZWlnaHQpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgdGh1bWJuYWlsID0gYXdhaXQgZ2VuZXJhdGVUaHVtYm5haWwoZG93bmxvYWQuZGF0YSk7XHJcblxyXG4gIC8vIE9ubHkgZGlzcGxheSBIaWdoIFF1YWxpdHkgaW4gbGluayBwcmV2aWV3IGZvciB3aWRlIGltYWdlc1xyXG4gIC8vIGlmIChkb3dubG9hZC53aWR0aCAvIGRvd25sb2FkLmhlaWdodCA8IDEuNCkge1xyXG4gIC8vICAgcmV0dXJuIHtcclxuICAvLyAgICAgdGh1bWJuYWlsLFxyXG4gIC8vICAgfTtcclxuICAvLyB9XHJcblxyXG4gIGNvbnN0IHRodW1ibmFpbEhRID0gZG93bmxvYWQuZGF0YS5yZXBsYWNlKCdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LCcsICcnKTtcclxuXHJcbiAgY29uc3Qgb3BhcXVlID0gYXdhaXQgT3BhcXVlRGF0YS5jcmVhdGVGcm9tQmFzZTY0SnBlZyh0aHVtYm5haWxIUSk7XHJcblxyXG4gIGNvbnN0IGUgPSBuZXcgVWludDhBcnJheSgzMik7XHJcbiAgY29uc3QgbWVkaWFLZXlJbmZvID1cclxuICAgICh3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhlKSxcclxuICAgIHtcclxuICAgICAga2V5OiBCYXNlNjQuZW5jb2RlQjY0KGUpLFxyXG4gICAgICB0aW1lc3RhbXA6IHVuaXhUaW1lKCksXHJcbiAgICB9KTtcclxuXHJcbiAgY29uc3QgYWJvcnQgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XHJcblxyXG4gIGNvbnN0IG1lZGlhRGF0YSA9IGF3YWl0IHVwbG9hZFRodW1ibmFpbCh7XHJcbiAgICB0aHVtYm5haWw6IG9wYXF1ZSxcclxuICAgIG1lZGlhVHlwZTogJ3RodW1ibmFpbC1saW5rJyxcclxuICAgIG1lZGlhS2V5SW5mbzogbWVkaWFLZXlJbmZvLFxyXG4gICAgdXBsb2FkT3JpZ2luOiAxLFxyXG4gICAgZm9yd2FyZGVkRnJvbVdlYjogZmFsc2UsXHJcbiAgICBzaWduYWw6IGFib3J0LnNpZ25hbCxcclxuICAgIHRpbWVvdXQ6IDMwMDAsXHJcbiAgICBpc1ZpZXdPbmNlOiBmYWxzZSxcclxuICB9KTtcclxuXHJcbiAgY29uc3QgbWVkaWFFbnRyeSA9IG1lZGlhRGF0YS5tZWRpYUVudHJ5O1xyXG5cclxuICBjb25zdCByZXN1bHQgPSB7XHJcbiAgICB0aHVtYm5haWwsXHJcbiAgICB0aHVtYm5haWxIUSxcclxuICAgIG1lZGlhS2V5OiBtZWRpYUVudHJ5Lm1lZGlhS2V5LFxyXG4gICAgbWVkaWFLZXlUaW1lc3RhbXA6IG1lZGlhRW50cnkubWVkaWFLZXlUaW1lc3RhbXAsXHJcbiAgICB0aHVtYm5haWxEaXJlY3RQYXRoOiBtZWRpYUVudHJ5LmRpcmVjdFBhdGgsXHJcbiAgICB0aHVtYm5haWxTaGEyNTY6IG1lZGlhRGF0YS5maWxlaGFzaCxcclxuICAgIHRodW1ibmFpbEVuY1NoYTI1NjogbWVkaWFFbnRyeS5lbmNGaWxlaGFzaCxcclxuICAgIHRodW1ibmFpbFdpZHRoOiBkb3dubG9hZC53aWR0aCxcclxuICAgIHRodW1ibmFpbEhlaWdodDogZG93bmxvYWQuaGVpZ2h0LFxyXG4gIH07XHJcblxyXG4gIGNhY2hlVGh1bWJbdXJsXSA9IHJlc3VsdDtcclxuXHJcbiAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICBkZWxldGUgY2FjaGVUaHVtYlt1cmxdO1xyXG4gIH0sIDMwMDAwMCk7IC8vIDUgbWludXRlc1xyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNodWZmbGVBcnJheShhcnJheTogYW55W10pIHtcclxuICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xyXG4gICAgY29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xyXG4gICAgW2FycmF5W2ldLCBhcnJheVtqXV0gPSBbYXJyYXlbal0sIGFycmF5W2ldXTtcclxuICB9XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgQ29tcHJlc3NvciBmcm9tICdjb21wcmVzc29yanMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZUltYWdlKFxyXG4gIGJsb2I6IEJsb2IsXHJcbiAgb3B0aW9uczogQ29tcHJlc3Nvci5PcHRpb25zID0ge31cclxuKTogUHJvbWlzZTxCbG9iIHwgRmlsZT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZTxGaWxlIHwgQmxvYj4oKHN1Y2Nlc3MsIGVycm9yKSA9PiB7XHJcbiAgICBuZXcgQ29tcHJlc3NvcihibG9iLCB7XHJcbiAgICAgIC4uLm9wdGlvbnMsXHJcbiAgICAgIHN1Y2Nlc3MsXHJcbiAgICAgIGVycm9yLFxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzICovXHJcblxyXG5leHBvcnQgdHlwZSBJbmZlckFyZ3M8VD4gPSBUIGV4dGVuZHMgKC4uLnQ6IFsuLi5pbmZlciBBcmddKSA9PiBhbnlcclxuICA/IEFyZ1xyXG4gIDogbmV2ZXI7XHJcbmV4cG9ydCB0eXBlIEluZmVyUmV0dXJuPFQ+ID0gVCBleHRlbmRzICguLi50OiBbLi4uaW5mZXIgQXJnXSkgPT4gaW5mZXIgUmVzXHJcbiAgPyBSZXNcclxuICA6IG5ldmVyO1xyXG5cclxuZXhwb3J0IHR5cGUgRnVuY3Rpb25Qcm9wZXJ0eU5hbWVzPFQ+ID0ge1xyXG4gIFtLIGluIGtleW9mIFRdOiBUW0tdIGV4dGVuZHMgRnVuY3Rpb24gPyBLIDogbmV2ZXI7XHJcbn1ba2V5b2YgVF07XHJcblxyXG5leHBvcnQgdHlwZSBGdW5jdGlvblByb3BlcnRpZXM8VD4gPSBQaWNrPFQsIEZ1bmN0aW9uUHJvcGVydHlOYW1lczxUPj47XHJcblxyXG5leHBvcnQgdHlwZSBOb25GdW5jdGlvblByb3BlcnR5TmFtZXM8VD4gPSB7XHJcbiAgW0sgaW4ga2V5b2YgVF06IFRbS10gZXh0ZW5kcyBGdW5jdGlvbiA/IG5ldmVyIDogSztcclxufVtrZXlvZiBUXTtcclxuXHJcbmV4cG9ydCB0eXBlIE5vbkZ1bmN0aW9uUHJvcGVydGllczxUPiA9IFBpY2s8VCwgTm9uRnVuY3Rpb25Qcm9wZXJ0eU5hbWVzPFQ+PjtcclxuXHJcbmV4cG9ydCB0eXBlIElmRXF1YWxzPFgsIFksIEEgPSBYLCBCID0gbmV2ZXI+ID1cclxuICAoPFQ+KCkgPT4gVCBleHRlbmRzIFggPyAxIDogMikgZXh0ZW5kcyA8VD4oKSA9PiBUIGV4dGVuZHMgWSA/IDEgOiAyID8gQSA6IEI7XHJcblxyXG5leHBvcnQgdHlwZSBXcml0YWJsZVByb3BlcnRpZXNOYW1lczxUPiA9IHtcclxuICBbUCBpbiBrZXlvZiBUXS0/OiBJZkVxdWFsczxcclxuICAgIHsgW1EgaW4gUF06IFRbUF0gfSxcclxuICAgIHsgLXJlYWRvbmx5IFtRIGluIFBdOiBUW1BdIH0sXHJcbiAgICBQXHJcbiAgPjtcclxufVtrZXlvZiBUXTtcclxuXHJcbmV4cG9ydCB0eXBlIFdyaXRhYmxlUHJvcGVydGllczxUPiA9IFBpY2s8VCwgV3JpdGFibGVQcm9wZXJ0aWVzTmFtZXM8VD4+O1xyXG5cclxuZXhwb3J0IHR5cGUgUmVhZG9ubHlQcm9wZXJ0aWVzTmFtZXM8VD4gPSB7XHJcbiAgW1AgaW4ga2V5b2YgVF0tPzogSWZFcXVhbHM8XHJcbiAgICB7IFtRIGluIFBdOiBUW1BdIH0sXHJcbiAgICB7IC1yZWFkb25seSBbUSBpbiBQXTogVFtQXSB9LFxyXG4gICAgbmV2ZXIsXHJcbiAgICBQXHJcbiAgPjtcclxufVtrZXlvZiBUXTtcclxuXHJcbmV4cG9ydCB0eXBlIFJlYWRvbmx5UHJvcGVydGllczxUPiA9IFBpY2s8VCwgUmVhZG9ubHlQcm9wZXJ0aWVzTmFtZXM8VD4+O1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEluZmVyQXJncywgSW5mZXJSZXR1cm4gfSBmcm9tICcuL3R5cGVzJztcclxuXHJcbi8qKlxyXG4gKiBXcmFwIGEgZnVuY3Rpb24gd2l0aCB0aGUgY2FsbGJhY2tcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB3cmFwRnVuY3Rpb248VEZ1bmMgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueT4oXHJcbiAgZnVuYzogVEZ1bmMsXHJcbiAgY2FsbGJhY2s6IChmdW5jOiBURnVuYywgLi4uYXJnczogSW5mZXJBcmdzPFRGdW5jPikgPT4gSW5mZXJSZXR1cm48VEZ1bmM+XHJcbik6ICguLi5hcmdzOiBJbmZlckFyZ3M8VEZ1bmM+KSA9PiBJbmZlclJldHVybjxURnVuYz4ge1xyXG4gIHJldHVybiAoLi4uYXJnczogSW5mZXJBcmdzPFRGdW5jPikgPT4ge1xyXG4gICAgcmV0dXJuIGNhbGxiYWNrKGZ1bmMsIC4uLmFyZ3MpO1xyXG4gIH07XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgRGVidWcgZnJvbSAnZGVidWcnO1xyXG5cclxuaW1wb3J0IHsgaW50ZXJuYWxFdiB9IGZyb20gJy4uL2V2ZW50RW1pdHRlcic7XHJcblxyXG5jb25zdCBkZWJ1ZyA9IERlYnVnKCdXQS1KUzp3ZWJwYWNrJyk7XHJcblxyXG4vKipcclxuICogSXMgc2V0dGVkIHRydWUgd2hlbiB0aGUgbG9hZGVyIGlzIGluamVjdGVkXHJcbiAqL1xyXG5leHBvcnQgbGV0IGxvYWRlclR5cGU6ICdtZXRhJyB8ICd1bmtub3duJyB8ICd3ZWJwYWNrJyA9ICd1bmtub3duJztcclxuXHJcbi8qKlxyXG4gKiBJcyBzZXR0ZWQgdHJ1ZSB3aGVuIHRoZSBsb2FkZXIgaXMgaW5qZWN0ZWRcclxuICovXHJcbmV4cG9ydCBsZXQgaXNJbmplY3RlZCA9IGZhbHNlO1xyXG5cclxuLyoqXHJcbiAqIElzIHNldHRlZCB0cnVlIHdoZW4gdGhlIG1haW4gd2VicGFjayBtb2R1bGVzIGFyZSBmdWxseSBsb2FkZWRcclxuICovXHJcbmV4cG9ydCBsZXQgaXNSZWFkeSA9IGZhbHNlO1xyXG5cclxuLyoqXHJcbiAqIElzIHNldHRlZCB0cnVlIHdoZW4gdGhlIGFsbCB3ZWJwYWNrIG1vZHVsZXMgYXJlIGZ1bGx5IGxvYWRlZFxyXG4gKi9cclxuZXhwb3J0IGxldCBpc0Z1bGxSZWFkeSA9IGZhbHNlO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9uSW5qZWN0ZWQobGlzdGVuZXI6ICgpID0+IHZvaWQsIGRlbGF5ID0gMCk6IHZvaWQge1xyXG4gIGludGVybmFsRXYub24oJ3dlYnBhY2suaW5qZWN0ZWQnLCAoKSA9PiB7XHJcbiAgICBzZXRUaW1lb3V0KGxpc3RlbmVyLCBkZWxheSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvblJlYWR5KGxpc3RlbmVyOiAoKSA9PiB2b2lkLCBkZWxheSA9IDApOiB2b2lkIHtcclxuICBpbnRlcm5hbEV2Lm9uKCd3ZWJwYWNrLnJlYWR5JywgKCkgPT4ge1xyXG4gICAgc2V0VGltZW91dChsaXN0ZW5lciwgZGVsYXkpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gb25GdWxsUmVhZHkobGlzdGVuZXI6ICgpID0+IHZvaWQsIGRlbGF5ID0gMCk6IHZvaWQge1xyXG4gIGludGVybmFsRXYub24oJ3dlYnBhY2suZnVsbF9yZWFkeScsICgpID0+IHtcclxuICAgIHNldFRpbWVvdXQobGlzdGVuZXIsIGRlbGF5KTtcclxuICB9KTtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgU2VhcmNoTW9kdWxlQ29uZGl0aW9uID0gKG1vZHVsZTogYW55LCBtb2R1bGVJZDogc3RyaW5nKSA9PiBib29sZWFuO1xyXG5cclxuZXhwb3J0IGNvbnN0IF9fZGVidWcgPSAoKSA9PiB7XHJcbiAgY29uc3QgZ2xvYmFsID0gKHNlbGYgfHwgd2luZG93KSBhcyBhbnk7XHJcblxyXG4gIHJldHVybiBnbG9iYWwucmVxdWlyZSgnX19kZWJ1ZycpIGFzIHtcclxuICAgIG1vZHVsZXNNYXA6IHsgW2tleTogc3RyaW5nXTogYW55IH07XHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBsZXQgd2VicGFja1JlcXVpcmU6ICg8VCA9IGFueT4obW9kdWxlSWQ6IHN0cmluZykgPT4gVCkgJiB7XHJcbiAgLyoqXHJcbiAgICogbW9kdWxlIGxpc3RcclxuICAgKi9cclxuICBtOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xyXG4gIC8qKlxyXG4gICAqIHRoZSBmaWxlbmFtZSBvZiB0aGUgc2NyaXB0IHBhcnQgb2YgdGhlIGNodW5rXHJcbiAgICovXHJcbiAgdTogKGlkOiBzdHJpbmcpID0+IHN0cmluZztcclxuICAvKipcclxuICAgKiB0aGUgY2h1bmsgZW5zdXJlIGZ1bmN0aW9uXHJcbiAgICovXHJcbiAgZTogKGlkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XHJcbn07XHJcblxyXG4vKipcclxuICogRmFsbGJhY2sgbW9kdWxlcyBmb3IgZm9yd2FyZCBjb21wYXRpYmlsaXR5XHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZmFsbGJhY2tNb2R1bGVzOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge307XHJcblxyXG5jb25zdCB3YWl0TWFpbkluaXQgPSBpbnRlcm5hbEV2LndhaXRGb3IoJ2Nvbm4ubWFpbl9pbml0Jyk7XHJcbmNvbnN0IHdhaXRNYWluUmVhZHkgPSBpbnRlcm5hbEV2LndhaXRGb3IoJ2Nvbm4ubWFpbl9yZWFkeScpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluamVjdExvYWRlcigpOiB2b2lkIHtcclxuICBpZiAoaXNJbmplY3RlZCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZ2xvYmFsID0gKHNlbGYgfHwgd2luZG93KSBhcyBhbnk7XHJcblxyXG4gIC8qIEJFR0lOOiBGb3IgV2hhdHNBcHAgPj0gMi4zMDAwLjAgKi9cclxuICBjb25zdCBtZXRhVGltZXIgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAobG9hZGVyVHlwZSAhPT0gJ3Vua25vd24nKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwobWV0YVRpbWVyKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCFnbG9iYWwucmVxdWlyZSB8fCAhZ2xvYmFsLl9fZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsb2FkZXJUeXBlID0gJ21ldGEnO1xyXG5cclxuICAgIC8vIEEgd3JhcCB0byB3b3JrIGxpa2Ugd2VicGFja1xyXG4gICAgd2VicGFja1JlcXVpcmUgPSBmdW5jdGlvbiAoaWQ6IHN0cmluZykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGdsb2JhbC5FcnJvckd1YXJkLnNraXBHdWFyZEdsb2JhbCh0cnVlKTtcclxuICAgICAgICByZXR1cm4gZ2xvYmFsLmltcG9ydE5hbWVzcGFjZShpZCk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0gYXMgYW55O1xyXG5cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3ZWJwYWNrUmVxdWlyZSwgJ20nLCB7XHJcbiAgICAgIGdldDogKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1vZHVsZXNNYXAgPSBfX2RlYnVnKCkubW9kdWxlc01hcDtcclxuICAgICAgICBjb25zdCBpZHMgPSBPYmplY3Qua2V5cyhtb2R1bGVzTWFwKS5maWx0ZXIoXHJcbiAgICAgICAgICAoaWQpID0+XHJcbiAgICAgICAgICAgIC9eKD86dXNlKT9XQS8udGVzdChpZCkgJiZcclxuICAgICAgICAgICAgLy8gRml4IGZvciBlcnJvciBcImJ4KC4uLik6IFVua25vd24gZmlsZSBwYXRoIFwiOTU1MFwiXCJcclxuICAgICAgICAgICAgIVtcclxuICAgICAgICAgICAgICAnV0FXZWJFbW9qaVBhbmVsQ29udGVudEVtb2ppU2VhcmNoRW1wdHkucmVhY3QnLFxyXG4gICAgICAgICAgICAgICdXQVdlYk1vbWVudC1lcy1kbycsXHJcbiAgICAgICAgICAgIF0uaW5jbHVkZXMoaWQpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb25zdCByZXN1bHQ6IGFueSA9IHt9O1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGlkcykge1xyXG4gICAgICAgICAgcmVzdWx0W2lkXSA9IG1vZHVsZXNNYXBbaWRdPy5mYWN0b3J5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGlzSW5qZWN0ZWQgPSB0cnVlO1xyXG4gICAgZGVidWcoJ2luamVjdGVkJyk7XHJcbiAgICBhd2FpdCBpbnRlcm5hbEV2LmVtaXRBc3luYygnd2VicGFjay5pbmplY3RlZCcpLmNhdGNoKCgpID0+IG51bGwpO1xyXG5cclxuICAgIGF3YWl0IHdhaXRNYWluSW5pdDtcclxuICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApKTtcclxuICAgIGlzUmVhZHkgPSB0cnVlO1xyXG4gICAgZGVidWcoJ3JlYWR5IHRvIHVzZScpO1xyXG4gICAgYXdhaXQgaW50ZXJuYWxFdi5lbWl0QXN5bmMoJ3dlYnBhY2sucmVhZHknKS5jYXRjaCgoKSA9PiBudWxsKTtcclxuXHJcbiAgICBpZiAoKHdpbmRvdyBhcyBhbnkpLndwcEZvcmNlTWFpbkxvYWQpIHtcclxuICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwMCkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXdhaXQgd2FpdE1haW5SZWFkeTtcclxuICAgIH1cclxuICAgIGlzRnVsbFJlYWR5ID0gdHJ1ZTtcclxuICAgIGRlYnVnKCdmdWxsIHJlYWR5IHRvIHVzZScpO1xyXG4gICAgYXdhaXQgaW50ZXJuYWxFdi5lbWl0QXN5bmMoJ3dlYnBhY2suZnVsbF9yZWFkeScpLmNhdGNoKCgpID0+IG51bGwpO1xyXG4gIH0sIDEwMDApO1xyXG5cclxuICAvKiBFTkQ6IEZvciBXaGF0c0FwcCA+PSAyLjMwMDAuMCAqL1xyXG5cclxuICBjb25zdCBjaHVua05hbWUgPSAnd2VicGFja0NodW5rd2hhdHNhcHBfd2ViX2NsaWVudCc7XHJcblxyXG4gIGNvbnN0IGNodW5rID0gZ2xvYmFsW2NodW5rTmFtZV0gfHwgW107XHJcbiAgaWYgKCFjaHVuayB8fCBjaHVuaz8ubGVuZ3RoID09PSAwKSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsLCBjaHVua05hbWUsIGNodW5rKTtcclxuICB9IGVsc2Uge1xyXG4gICAgbG9hZGVyVHlwZSA9ICd3ZWJwYWNrJztcclxuICB9XHJcblxyXG4gIGNvbnN0IGluamVjdEZ1bmN0aW9uID0gYXN5bmMgKF9fd2VicGFja19yZXF1aXJlX186IGFueSkgPT4ge1xyXG4gICAgbG9hZGVyVHlwZSA9ICd3ZWJwYWNrJztcclxuICAgIHdlYnBhY2tSZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXztcclxuXHJcbiAgICBpc0luamVjdGVkID0gdHJ1ZTtcclxuICAgIGRlYnVnKCdpbmplY3RlZCcpO1xyXG4gICAgYXdhaXQgaW50ZXJuYWxFdi5lbWl0QXN5bmMoJ3dlYnBhY2suaW5qZWN0ZWQnKS5jYXRjaCgoKSA9PiBudWxsKTtcclxuXHJcbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcclxuXHJcbiAgICBjb25zdCBhbGxSdW50aW1lcyA9IG5ldyBBcnJheSgxMDAwMClcclxuICAgICAgLmZpbGwoMSlcclxuICAgICAgLm1hcCgodiwgaykgPT4gdiArIGspXHJcbiAgICAgIC5maWx0ZXIoKHYpID0+IHtcclxuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IHdlYnBhY2tSZXF1aXJlLnUodik7XHJcbiAgICAgICAgaWYgKGZpbGVuYW1lLmluY2x1ZGVzKCdsb2NhbGVzJykpIHtcclxuICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IubGFuZ3VhZ2VzLnNvbWUoKGxhbmcpID0+XHJcbiAgICAgICAgICAgIGZpbGVuYW1lLmluY2x1ZGVzKGBsb2NhbGVzLyR7bGFuZ31gKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICFmaWxlbmFtZS5pbmNsdWRlcygndW5kZWZpbmVkJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IG1haW5SdW50aW1lcyA9IGFsbFJ1bnRpbWVzLmZpbHRlcigodikgPT4ge1xyXG4gICAgICBjb25zdCBmaWxlbmFtZSA9IHdlYnBhY2tSZXF1aXJlLnUodik7XHJcbiAgICAgIHJldHVybiBmaWxlbmFtZS5pbmNsdWRlcygnbWFpbicpICYmICFmaWxlbmFtZS5pbmNsdWRlcygnbG9jYWxlcycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gVXNlIHNlcXVlbnRpYWwgZmlsZSBsb2FkXHJcbiAgICBmb3IgKGNvbnN0IHYgb2YgbWFpblJ1bnRpbWVzKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgd2VicGFja1JlcXVpcmUuZSh2KTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBkZWJ1ZygnbG9hZCBmaWxlIGVycm9yJywgd2VicGFja1JlcXVpcmUudSh2KSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpc1JlYWR5ID0gdHJ1ZTtcclxuICAgIGRlYnVnKCdyZWFkeSB0byB1c2UnKTtcclxuICAgIGF3YWl0IGludGVybmFsRXYuZW1pdEFzeW5jKCd3ZWJwYWNrLnJlYWR5JykuY2F0Y2goKCkgPT4gbnVsbCk7XHJcblxyXG4gICAgaWYgKCh3aW5kb3cgYXMgYW55KS53cHBGb3JjZU1haW5Mb2FkKSB7XHJcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMDApKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGF3YWl0IHdhaXRNYWluUmVhZHk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXNlIHNlcXVlbnRpYWwgZmlsZSBsb2FkXHJcbiAgICBmb3IgKGNvbnN0IHYgb2YgYWxsUnVudGltZXMpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCB3ZWJwYWNrUmVxdWlyZS5lKHYpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGRlYnVnKCdsb2FkIGZpbGUgZXJyb3InLCB3ZWJwYWNrUmVxdWlyZS51KHYpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlzRnVsbFJlYWR5ID0gdHJ1ZTtcclxuICAgIGRlYnVnKCdmdWxsIHJlYWR5IHRvIHVzZScpO1xyXG4gICAgYXdhaXQgaW50ZXJuYWxFdi5lbWl0QXN5bmMoJ3dlYnBhY2suZnVsbF9yZWFkeScpLmNhdGNoKCgpID0+IG51bGwpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGlkID0gRGF0ZS5ub3coKTtcclxuICBjaHVuay5wdXNoKFtcclxuICAgIFtpZF0sXHJcbiAgICB7fSxcclxuICAgIChfX3dlYnBhY2tfcmVxdWlyZV9fOiBhbnkpID0+IHtcclxuICAgICAgd2VicGFja1JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fO1xyXG5cclxuICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4gaW5qZWN0RnVuY3Rpb24oX193ZWJwYWNrX3JlcXVpcmVfXykpO1xyXG4gICAgfSxcclxuICBdKTtcclxufVxyXG5cclxuY29uc3Qgc291cmNlTW9kdWxlTWFwID0gbmV3IE1hcDxzdHJpbmcsIGJvb2xlYW4+KCk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbW9kdWxlU291cmNlKG1vZHVsZUlkOiBzdHJpbmcpIHtcclxuICBpZiAobG9hZGVyVHlwZSAhPT0gJ3dlYnBhY2snKSB7XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG5cclxuICBpZiAoIXdlYnBhY2tSZXF1aXJlLm1bbW9kdWxlSWRdKSB7XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG5cclxuICBpZiAoc291cmNlTW9kdWxlTWFwLmhhcyhtb2R1bGVJZCkpIHtcclxuICAgIHJldHVybiBzb3VyY2VNb2R1bGVNYXAuZ2V0KG1vZHVsZUlkKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHNvdXJjZSA9IHdlYnBhY2tSZXF1aXJlLm1bbW9kdWxlSWRdLnRvU3RyaW5nKCk7XHJcblxyXG4gIHNvdXJjZU1vZHVsZU1hcC5zZXQobW9kdWxlSWQsIHNvdXJjZSk7XHJcbiAgcmV0dXJuIHNvdXJjZTtcclxufVxyXG5cclxuY29uc3QgcHVyZUNvbXBvbmVudE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBib29sZWFuPigpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVhY3RDb21wb25lbnQobW9kdWxlSWQ6IHN0cmluZykge1xyXG4gIGlmIChwdXJlQ29tcG9uZW50TWFwLmhhcyhtb2R1bGVJZCkpIHtcclxuICAgIHJldHVybiBwdXJlQ29tcG9uZW50TWFwLmdldChtb2R1bGVJZCk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBpZ25vcmVSRSA9IC9cXHcrXFwuKFB1cmUpP0NvbXBvbmVudFxccypcXHsvO1xyXG5cclxuICBjb25zdCBzb3VyY2UgPSBtb2R1bGVTb3VyY2UobW9kdWxlSWQpO1xyXG5cclxuICBjb25zdCBpc1B1cmUgPSBpZ25vcmVSRS50ZXN0KHNvdXJjZSk7XHJcblxyXG4gIHB1cmVDb21wb25lbnRNYXAuc2V0KG1vZHVsZUlkLCBpc1B1cmUpO1xyXG4gIHJldHVybiBpc1B1cmU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm4gdGhlIHdlYnBhY2sgbW9kdWxlIGlkIGZyb20gYSBzZWFyY2ggZnVuY3Rpb25cclxuICogQHBhcmFtIGNvbmRpdGlvbiBGdW5jdGlvbiBmb3IgY29tcGFyZSB0aGUgbW9kdWxlc1xyXG4gKiBAcGFyYW0gcmV2ZXJzZSBTZWFyY2ggaW4gcmV2ZXJzZSBvcmRlclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNlYXJjaElkKFxyXG4gIGNvbmRpdGlvbjogU2VhcmNoTW9kdWxlQ29uZGl0aW9uLFxyXG4gIHJldmVyc2UgPSBmYWxzZVxyXG4pOiBzdHJpbmcgfCBudWxsIHtcclxuICBsZXQgaWRzID0gT2JqZWN0LmtleXMod2VicGFja1JlcXVpcmUubSk7XHJcblxyXG4gIGlmIChyZXZlcnNlKSB7XHJcbiAgICBpZHMgPSBpZHMucmV2ZXJzZSgpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgIGRlYnVnKGBTZWFyY2hpbmcgZm9yOiAke2NvbmRpdGlvbi50b1N0cmluZygpfWApO1xyXG4gIH0sIDUwMCk7XHJcblxyXG4gIGZvciAoY29uc3QgbW9kdWxlSWQgb2YgaWRzKSB7XHJcbiAgICBpZiAoaXNSZWFjdENvbXBvbmVudChtb2R1bGVJZCkpIHtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgbW9kdWxlID0gd2VicGFja1JlcXVpcmUobW9kdWxlSWQpO1xyXG5cclxuICAgICAgaWYgKGNvbmRpdGlvbihtb2R1bGUsIG1vZHVsZUlkKSkge1xyXG4gICAgICAgIGRlYnVnKGBNb2R1bGUgZm91bmQ6ICR7bW9kdWxlSWR9IC0gJHtjb25kaXRpb24udG9TdHJpbmcoKX1gKTtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xyXG4gICAgICAgIHJldHVybiBtb2R1bGVJZDtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZHMgPSBPYmplY3Qua2V5cyhmYWxsYmFja01vZHVsZXMpO1xyXG5cclxuICBmb3IgKGNvbnN0IG1vZHVsZUlkIG9mIGlkcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgbW9kdWxlID0gZmFsbGJhY2tNb2R1bGVzW21vZHVsZUlkXTtcclxuXHJcbiAgICAgIGlmIChjb25kaXRpb24obW9kdWxlLCBtb2R1bGVJZCkpIHtcclxuICAgICAgICBkZWJ1ZyhgRmFsbGJhY2sgTW9kdWxlIGZvdW5kOiAke21vZHVsZUlkfSAtICR7Y29uZGl0aW9uLnRvU3RyaW5nKCl9YCk7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgICByZXR1cm4gbW9kdWxlSWQ7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGVidWcoYE1vZHVsZSBub3QgZm91bmQ6ICR7Y29uZGl0aW9uLnRvU3RyaW5nKCl9YCk7XHJcbiAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm4gdGhlIHdlYnBhY2sgbW9kdWxlIGZyb20gYSBzZWFyY2ggZnVuY3Rpb25cclxuICogQHBhcmFtIGNvbmRpdGlvbiBGdW5jdGlvbiBmb3IgY29tcGFyZSB0aGUgbW9kdWxlc1xyXG4gKiBAcGFyYW0gcmV2ZXJzZSBTZWFyY2ggaW4gcmV2ZXJzZSBvcmRlclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNlYXJjaDxUID0gYW55PihcclxuICBjb25kaXRpb246IFNlYXJjaE1vZHVsZUNvbmRpdGlvbixcclxuICByZXZlcnNlID0gZmFsc2VcclxuKTogVCB8IG51bGwge1xyXG4gIGNvbnN0IG1vZHVsZUlkID0gc2VhcmNoSWQoY29uZGl0aW9uLCByZXZlcnNlKTtcclxuXHJcbiAgaWYgKCFtb2R1bGVJZCkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbG9hZE1vZHVsZTxUPihtb2R1bGVJZCk7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybiB0aGUgd2VicGFjayBtb2R1bGUgZnJvbSBhIHNlYXJjaCBmdW5jdGlvblxyXG4gKiBAcGFyYW0gY29uZGl0aW9uIEZ1bmN0aW9uIGZvciBjb21wYXJlIHRoZSBtb2R1bGVzXHJcbiAqIEBwYXJhbSByZXZlcnNlIFNlYXJjaCBpbiByZXZlcnNlIG9yZGVyXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbW9kdWxlcyhcclxuICBjb25kaXRpb24/OiBTZWFyY2hNb2R1bGVDb25kaXRpb24sXHJcbiAgcmV2ZXJzZSA9IGZhbHNlXHJcbik6IHsgW2tleTogc3RyaW5nXTogYW55IH0ge1xyXG4gIGNvbnN0IG1vZHVsZXM6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTtcclxuXHJcbiAgbGV0IGlkcyA9IE9iamVjdC5rZXlzKHdlYnBhY2tSZXF1aXJlLm0pO1xyXG5cclxuICBpZiAocmV2ZXJzZSkge1xyXG4gICAgaWRzID0gaWRzLnJldmVyc2UoKTtcclxuICB9XHJcbiAgZm9yIChjb25zdCBtb2R1bGVJZCBvZiBpZHMpIHtcclxuICAgIGlmIChpc1JlYWN0Q29tcG9uZW50KG1vZHVsZUlkKSkge1xyXG4gICAgICBjb250aW51ZTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBtb2R1bGUgPSBsb2FkTW9kdWxlKG1vZHVsZUlkKTtcclxuXHJcbiAgICAgIGlmICghY29uZGl0aW9uIHx8IGNvbmRpdGlvbihtb2R1bGUsIG1vZHVsZUlkKSkge1xyXG4gICAgICAgIG1vZHVsZXNbbW9kdWxlSWRdID0gbW9kdWxlO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb250aW51ZTtcclxuICAgIH1cclxuICB9XHJcbiAgZGVidWcoXHJcbiAgICBgJHtcclxuICAgICAgT2JqZWN0LmtleXMobW9kdWxlcykubGVuZ3RoXHJcbiAgICB9IG1vZHVsZXMgZm91bmQgd2l0aDogJHtjb25kaXRpb24/LnRvU3RyaW5nKCl9YFxyXG4gICk7XHJcblxyXG4gIHJldHVybiBtb2R1bGVzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbG9hZE1vZHVsZTxUID0gYW55Pihtb2R1bGVJZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgbW9kdWxlID0gIS9eZmFsbGJhY2tfLy50ZXN0KG1vZHVsZUlkKVxyXG4gICAgPyB3ZWJwYWNrUmVxdWlyZShtb2R1bGVJZClcclxuICAgIDogZmFsbGJhY2tNb2R1bGVzW21vZHVsZUlkXTtcclxuXHJcbiAgcmV0dXJuIG1vZHVsZSBhcyBUO1xyXG59XHJcblxyXG4vKipcclxuICogSW5qZWN0IGEgbmV3IG1vZHVsZSBjb250ZW50XHJcbiAqIEBwYXJhbSBtb2R1bGVJZCBNb2R1bGUgSURcclxuICogQHBhcmFtIGNvbnRlbnQgVGhlIG1vZHVsZSBjb250ZW50XHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5qZWN0RmFsbGJhY2tNb2R1bGUoXHJcbiAgbW9kdWxlSWQ6IG51bWJlciB8IHN0cmluZyxcclxuICBjb250ZW50OiBhbnlcclxuKTogdm9pZCB7XHJcbiAgbW9kdWxlSWQgPSBtb2R1bGVJZCArICcnO1xyXG5cclxuICBpZiAoL15mYWxsYmFja18vLnRlc3QobW9kdWxlSWQpKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZmFsbGJhY2sgSUQnKTtcclxuICB9XHJcblxyXG4gIGZhbGxiYWNrTW9kdWxlc1tgZmFsbGJhY2tfJHttb2R1bGVJZH1gXSA9IGNvbnRlbnQ7XHJcbn1cclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBBZ2dSZWFjdGlvbnNNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IENvbGxlY3Rpb24gfSBmcm9tICcuL0NvbGxlY3Rpb24nO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA4MTEzMFxyXG4gKiBAd2hhdHNhcHAgOTgxMTMwID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBBZ2dSZWFjdGlvbnNDb2xsZWN0aW9uIGV4dGVuZHMgQ29sbGVjdGlvbjxBZ2dSZWFjdGlvbnNNb2RlbD4ge1xyXG4gIHN0YXRpYyBtb2RlbDogQWdnUmVhY3Rpb25zTW9kZWw7XHJcbiAgc3RhdGljIGNvbXBhcmF0b3IoKTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7IEFnZ1JlYWN0aW9uc0NvbGxlY3Rpb246ICdBZ2dSZWFjdGlvbnNDb2xsZWN0aW9uJyB9LFxyXG4gIChtKSA9PiBtLkFnZ1JlYWN0aW9uc0NvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTdHJpbmdhYmxlIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSAnLi9Db2xsZWN0aW9uJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgMTI1NVxyXG4gKiBAd2hhdHNhcHAgODAxMjU1ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBCYXNlQ29sbGVjdGlvbjxDLCBBID0gQyB8IENbXT4gZXh0ZW5kcyBDb2xsZWN0aW9uPEM+IHtcclxuICBzdGF0aWMgY2FjaGVQb2xpY3k6IHtcclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgICBwb2xpY3k6IHN0cmluZztcclxuICAgIHRyaWdnZXI6IHN0cmluZztcclxuICB9O1xyXG5cclxuICBvblJlc3VtZTogKC4uLmFyZ3M6IGFueSkgPT4gYW55O1xyXG5cclxuICBpbml0aWFsaXplRnJvbUNhY2hlKHZhbHVlOiBBKTogdm9pZDtcclxuXHJcbiAgc2F2ZVRvQ2FjaGUoKTogdm9pZDtcclxuXHJcbiAgZmluZFF1ZXJ5KFxyXG4gICAgaWQ6IFN0cmluZ2FibGUsXHJcbiAgICBvcHRpb25zPzogeyBsb2dPblNlbmQ/OiBib29sZWFuOyBzZXQ/OiBib29sZWFuIH1cclxuICApOiBQcm9taXNlPEMgfCB1bmRlZmluZWQ+O1xyXG5cclxuICBmaW5kKFxyXG4gICAgaWQ6IFN0cmluZ2FibGUsXHJcbiAgICBvcHRpb25zPzogeyBsb2dPblNlbmQ/OiBib29sZWFuOyBzZXQ/OiBib29sZWFuIH1cclxuICApOiBQcm9taXNlPEM+O1xyXG5cclxuICB1cGRhdGUoXHJcbiAgICBpZDogU3RyaW5nYWJsZSxcclxuICAgIG9wdGlvbnM/OiB7IGxvZ09uU2VuZD86IGJvb2xlYW47IHNldD86IGJvb2xlYW4gfVxyXG4gICk6IFByb21pc2U8Qz47XHJcblxyXG4gIGhhbmRsZSh2YWx1ZXM6IEEpOiB2b2lkO1xyXG5cclxuICBnYWRkKGlkOiBDIHwgU3RyaW5nYWJsZSwgb3B0aW9ucz86IGFueSk6IEM7XHJcblxyXG4gIGdhZGRVcChpZDogQyB8IFN0cmluZ2FibGUpOiBDO1xyXG5cclxuICBkZWxldGUoKTogdm9pZDtcclxuXHJcbiAgaXNTdGF0ZVN0YWxlKGlkOiBTdHJpbmdhYmxlKTogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAgeyBCYXNlQ29sbGVjdGlvbjogJ0Jhc2VDb2xsZWN0aW9uJyB9LFxyXG4gIChtKSA9PiBtLkJhc2VDb2xsZWN0aW9uXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgQmxvY2tsaXN0TW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSAnLi9Db2xsZWN0aW9uJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgMzI4MjZcclxuICogQHdoYXRzYXBwIDEzMjgyNiA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgQmxvY2tsaXN0Q29sbGVjdGlvbiBleHRlbmRzIENvbGxlY3Rpb248QmxvY2tsaXN0TW9kZWw+IHtcclxuICBzdGF0aWMgbW9kZWw6IEJsb2NrbGlzdE1vZGVsO1xyXG4gIGJsb2NrQ29udGFjdChlPzogYW55KTogYW55O1xyXG4gIHVuYmxvY2tDb250YWN0KGU/OiBhbnkpOiBhbnk7XHJcbn1cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgQmxvY2tsaXN0Q29sbGVjdGlvbjogWydCbG9ja2xpc3RDb2xsZWN0aW9uSW1wbCcsICdCbG9ja2xpc3RDb2xsZWN0aW9uJ10sXHJcbiAgfSxcclxuICAobSkgPT4gbS5CbG9ja2xpc3RDb2xsZWN0aW9uSW1wbCB8fCBtLkJsb2NrbGlzdENvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBCb3RQcm9maWxlTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvQm90UHJvZmlsZU1vZGVsJztcclxuaW1wb3J0IHsgQ29sbGVjdGlvbiB9IGZyb20gJy4vQ29sbGVjdGlvbic7XHJcblxyXG4vKiogQHdoYXRzYXBwIFdBV2ViQm90UHJvZmlsZUNvbGxlY3Rpb25cclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIEJvdFByb2ZpbGVDb2xsZWN0aW9uIGV4dGVuZHMgQ29sbGVjdGlvbjxCb3RQcm9maWxlTW9kZWw+IHtcclxuICBzdGF0aWMgbW9kZWw6IEJvdFByb2ZpbGVNb2RlbDtcclxuICBzdGF0aWMgc3RhbGVDb2xsZWN0aW9uPzogYW55O1xyXG4gIGdldERlZmF1bHRCb3QoKTogYW55O1xyXG4gIGZpbmRJbXBsKGE/OiBhbnkpOiBhbnk7XHJcbiAgdXBkYXRlKCk6IGFueTtcclxufVxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBCb3RQcm9maWxlQ29sbGVjdGlvbjogWydCb3RQcm9maWxlQ29sbGVjdGlvbiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uQm90UHJvZmlsZUNvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBCdXNpbmVzc0NhdGVnb3JpZXNSZXN1bHRNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IENvbGxlY3Rpb24gfSBmcm9tICcuL0NvbGxlY3Rpb24nO1xyXG5cclxuLyoqIEB3aGF0c2FwcCAzNzU0XHJcbiAqIEB3aGF0c2FwcCAyMDM3NTQgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIEJ1c2luZXNzQ2F0ZWdvcmllc1Jlc3VsdENvbGxlY3Rpb24gZXh0ZW5kcyBDb2xsZWN0aW9uPEJ1c2luZXNzQ2F0ZWdvcmllc1Jlc3VsdE1vZGVsPiB7XHJcbiAgc3RhdGljIG1vZGVsOiBCdXNpbmVzc0NhdGVnb3JpZXNSZXN1bHRNb2RlbDtcclxuICBzdGF0aWMgc3RhbGVDb2xsZWN0aW9uPzogYW55O1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIEJ1c2luZXNzQ2F0ZWdvcmllc1Jlc3VsdENvbGxlY3Rpb246XHJcbiAgICAgICdCdXNpbmVzc0NhdGVnb3JpZXNSZXN1bHRDb2xsZWN0aW9uSW1wbCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5CdXNpbmVzc0NhdGVnb3JpZXNSZXN1bHRDb2xsZWN0aW9uSW1wbFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IEJ1c2luZXNzUHJvZmlsZU1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuaW1wb3J0IHsgQ29sbGVjdGlvbiB9IGZyb20gJy4vQ29sbGVjdGlvbic7XHJcblxyXG4vKiogQHdoYXRzYXBwIDkzNTgxXHJcbiAqIEB3aGF0c2FwcCA0OTM1ODEgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIEJ1c2luZXNzUHJvZmlsZUNvbGxlY3Rpb24gZXh0ZW5kcyBDb2xsZWN0aW9uPEJ1c2luZXNzUHJvZmlsZU1vZGVsPiB7XHJcbiAgc3RhdGljIG1vZGVsOiBCdXNpbmVzc1Byb2ZpbGVNb2RlbDtcclxuICBzdGF0aWMgc3RhbGVDb2xsZWN0aW9uPzogYW55O1xyXG4gIGZldGNoQml6UHJvZmlsZShlPzogYW55KTogYW55O1xyXG4gIG9uUmVzdW1lKCk6IGFueTtcclxuICBnZXRWYWxpZChlPzogYW55KTogYW55O1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIEJ1c2luZXNzUHJvZmlsZUNvbGxlY3Rpb246IFtcclxuICAgICAgJ0J1c2luZXNzUHJvZmlsZUNvbGxlY3Rpb25JbXBsJyxcclxuICAgICAgJ0J1c2luZXNzUHJvZmlsZUNvbGxlY3Rpb24nLFxyXG4gICAgXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLkJ1c2luZXNzUHJvZmlsZUNvbGxlY3Rpb25JbXBsIHx8IG0uQnVzaW5lc3NQcm9maWxlQ29sbGVjdGlvblxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFJlcGx5QnV0dG9uTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBCYXNlQ29sbGVjdGlvbiB9IGZyb20gJy4vQmFzZUNvbGxlY3Rpb24nO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA0NzY4OCAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBCdXR0b25Db2xsZWN0aW9uIGV4dGVuZHMgQmFzZUNvbGxlY3Rpb248UmVwbHlCdXR0b25Nb2RlbD4ge1xyXG4gIHN0YXRpYyBtb2RlbDogUmVwbHlCdXR0b25Nb2RlbDtcclxuICBzdGF0aWMgY29tcGFyYXRvcigpOiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHsgQnV0dG9uQ29sbGVjdGlvbjogWydCdXR0b25Db2xsZWN0aW9uSW1wbCcsICdCdXR0b25Db2xsZWN0aW9uJ10gfSxcclxuICAobSkgPT4gbS5CdXR0b25Db2xsZWN0aW9uSW1wbCB8fCBtLkJ1dHRvbkNvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBDYWxsTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSAnLi9Db2xsZWN0aW9uJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgNjA4NjhcclxuICogQHdoYXRzYXBwIDMxMjE4ID49IDIuMjIwNC4xM1xyXG4gKiBAd2hhdHNhcHAgMTYwODY4ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBDYWxsQ29sbGVjdGlvbiBleHRlbmRzIENvbGxlY3Rpb248Q2FsbE1vZGVsPiB7XHJcbiAgc3RhdGljIG1vZGVsOiBDYWxsTW9kZWw7XHJcbiAgJENhbGxDb2xsZWN0aW9uSW1wbCRwXzE/OiAoKSA9PiBhbnk7XHJcbiAgYWN0aXZlQ2FsbDogQ2FsbE1vZGVsIHwgbnVsbDtcclxuICBpc0luQ29ubmVjdGVkQ2FsbDogYm9vbGVhbjtcclxuICBwZW5kaW5nT2ZmZXJzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xyXG4gIHBlbmRpbmdWb2lwQ2FwQ2hlY2tzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xyXG4gIF9jYWNoZVBvbGljeTogYW55O1xyXG4gIF9ldmVudHM6IFJlY29yZDxzdHJpbmcsIGFueT47XHJcbiAgX2luZGV4OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xyXG4gIF9pbmZsaWdodDogUmVjb3JkPHN0cmluZywgYW55PjtcclxuICBfbGlzdGVuSWQ6IHN0cmluZztcclxuICBfbW9kZWxzOiBDYWxsTW9kZWxbXTtcclxuICBfc3RhbGVDb2xsZWN0aW9uOiBib29sZWFuO1xyXG4gIGNsZWFudXBQZW5kaW5nT2ZmZXIoYT86IGFueSk6IGFueTtcclxuICBwcm9jZXNzSW5jb21pbmdDYWxsKGE/OiBhbnksIGI/OiBhbnksIGU/OiBhbnkpOiBhbnk7XHJcbiAgc2V0QWN0aXZlQ2FsbChhPzogYW55KTogYW55O1xyXG4gIHNldElzSW5Db25uZWN0ZWRDYWxsKGZsYWc6IGJvb2xlYW4pOiBhbnk7XHJcbn1cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAgeyBDYWxsQ29sbGVjdGlvbjogWydDYWxsQ29sbGVjdGlvbkltcGwnLCAnZGVmYXVsdC5jb25zdHJ1Y3RvciddIH0sXHJcbiAgKG0pID0+IG0uQ2FsbENvbGxlY3Rpb25JbXBsIHx8IG0uZGVmYXVsdC5wcm9jZXNzSW5jb21pbmdDYWxsXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgQ2FydE1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuaW1wb3J0IHsgQ29sbGVjdGlvbiB9IGZyb20gJy4vQ29sbGVjdGlvbic7XHJcblxyXG4vKiogQHdoYXRzYXBwIDEyMzkyXHJcbiAqIEB3aGF0c2FwcCA2MTIzOTIgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIENhcnRDb2xsZWN0aW9uIGV4dGVuZHMgQ29sbGVjdGlvbjxDYXJ0TW9kZWw+IHtcclxuICBzdGF0aWMgbW9kZWw6IENhcnRNb2RlbDtcclxuICBzdGF0aWMgY2FjaGVQb2xpY3k/OiBhbnk7XHJcbiAgaW1hZ2VXaWR0aD86IGFueTtcclxuICBpbWFnZUhlaWdodD86IGFueTtcclxuICBmaW5kQ2FydChlPzogYW55KTogYW55O1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHsgQ2FydENvbGxlY3Rpb246IFsnQ2FydENvbGxlY3Rpb25JbXBsJywgJ0NhcnRDb2xsZWN0aW9uJ10gfSxcclxuICAobSkgPT4gbS5DYXJ0Q29sbGVjdGlvbkltcGwgfHwgbS5DYXJ0Q29sbGVjdGlvblxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IENhcnRJdGVtTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSAnLi9Db2xsZWN0aW9uJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgNTcwMzdcclxuICogQHdoYXRzYXBwIDQ1NzAzNyA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgQ2FydEl0ZW1Db2xsZWN0aW9uIGV4dGVuZHMgQ29sbGVjdGlvbjxDYXJ0SXRlbU1vZGVsPiB7XHJcbiAgc3RhdGljIG1vZGVsOiBDYXJ0SXRlbU1vZGVsO1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIENhcnRJdGVtQ29sbGVjdGlvbjogWydDYXJ0SXRlbUNvbGxlY3Rpb25JbXBsJywgJ0NhcnRJdGVtQ29sbGVjdGlvbiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uQ2FydEl0ZW1Db2xsZWN0aW9uSW1wbCB8fCBtLkNhcnRJdGVtQ29sbGVjdGlvblxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5pbXBvcnQgeyBDYXRhbG9nTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSAnLi9Db2xsZWN0aW9uJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgOTk5ODlcclxuICogQHdoYXRzYXBwIDU5OTk4OSA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgQ2F0YWxvZ0NvbGxlY3Rpb24gZXh0ZW5kcyBDb2xsZWN0aW9uPENhdGFsb2dNb2RlbD4ge1xyXG4gIHN0YXRpYyBtb2RlbDogQ2F0YWxvZ01vZGVsO1xyXG4gIHN0YXRpYyBzdGFsZUNvbGxlY3Rpb24/OiBhbnk7XHJcblxyXG4gIGFkZE1zZ0FzUHJvZHVjdChlPzogYW55KTogYW55O1xyXG4gIGZpbmRQcm9kdWN0KGU/OiB7XHJcbiAgICBjYXRhbG9nV2lkOiBhbnk7XHJcbiAgICBwcm9kdWN0SWQ6IGFueTtcclxuICAgIHByb2R1Y3RNc2dNZWRpYURhdGE/OiBhbnk7XHJcbiAgfSk6IGFueTtcclxuICBmaW5kQ2Fyb3VzZWxDYXRhbG9nKGU/OiBhbnkpOiBhbnk7XHJcbiAgZmluZE5leHRQcm9kdWN0UGFnZShlPzogYW55KTogYW55O1xyXG4gIGZpbmRDb2xsZWN0aW9uTWVtYmVyc2hpcChlPzogYW55LCB0PzogYW55KTogYW55O1xyXG4gIF9xdWVyeUNhdGFsb2coXHJcbiAgICBlPzogQ2F0YWxvZ01vZGVsLFxyXG4gICAgdD86IFdpZCxcclxuICAgIG4/OiBhbnksXHJcbiAgICByPzogYW55LFxyXG4gICAgYT86IGFueSxcclxuICAgIG8/OiBhbnlcclxuICApOiBhbnk7XHJcbn1cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAgeyBDYXRhbG9nQ29sbGVjdGlvbjogWydDYXRhbG9nQ29sbGVjdGlvbkltcGwnLCAnQ2F0YWxvZ0NvbGxlY3Rpb24nXSB9LFxyXG4gIChtKSA9PiBtLkNhdGFsb2dDb2xsZWN0aW9uSW1wbCB8fCBtLkNhdGFsb2dDb2xsZWN0aW9uXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgQ2hhdE1vZGVsLCBNc2dNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IEJhc2VDb2xsZWN0aW9uIH0gZnJvbSAnLi9CYXNlQ29sbGVjdGlvbic7XHJcblxyXG4vKiogQHdoYXRzYXBwIDY5OTUxXHJcbiAqIEB3aGF0c2FwcCA2Njk5NTEgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIENoYXRDb2xsZWN0aW9uIGV4dGVuZHMgQmFzZUNvbGxlY3Rpb248Q2hhdE1vZGVsPiB7XHJcbiAgc3RhdGljIG1vZGVsOiBDaGF0TW9kZWw7XHJcbiAgc3RhdGljIGNvbXBhcmF0b3IoKTogYW55O1xyXG4gIG5vdFNwYW0/OiBhbnk7XHJcbiAgcHJvbWlzZXM/OiBhbnk7XHJcbiAgZW5hYmxlU29ydExpc3RlbmVyKGU/OiBhbnkpOiBhbnk7XHJcbiAgZGlzYWJsZVNvcnRMaXN0ZW5lcigpOiBhbnk7XHJcbiAgc2V0SW5kZXhlcygpOiBhbnk7XHJcbiAgYWN0aXZlKCk6IGFueTtcclxuICBzeW5jKCk6IGFueTtcclxuICBnZXRLZXlzRm9yUmVzeW5jTXNncygpOiBhbnk7XHJcbiAgcmVzeW5jTWVzc2FnZXMoKTogYW55O1xyXG4gIHVuc3RhckFsbE1lc3NhZ2VzKGU/OiBhbnksIHQ/OiBhbnkpOiBhbnk7XHJcbiAgZm9yd2FyZE1lc3NhZ2VzVG9DaGF0cyhcclxuICAgIG1zZ3M6IE1zZ01vZGVsW10sXHJcbiAgICBjaGF0czogQ2hhdE1vZGVsW10sXHJcbiAgICBkaXNwbGF5Q2FwdGlvblRleHQ/OiBib29sZWFuXHJcbiAgKTogYW55O1xyXG59XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7IENoYXRDb2xsZWN0aW9uOiAnQ2hhdENvbGxlY3Rpb25JbXBsJyB9LFxyXG4gIChtKSA9PiBtLkNoYXRDb2xsZWN0aW9uSW1wbFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IENoYXRzdGF0ZU1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuaW1wb3J0IHsgQ29sbGVjdGlvbiB9IGZyb20gJy4vQ29sbGVjdGlvbic7XHJcblxyXG4vKiogQHdoYXRzYXBwIDMwMDAwXHJcbiAqIEB3aGF0c2FwcCAzMzAwMDAgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIENoYXRzdGF0ZUNvbGxlY3Rpb24gZXh0ZW5kcyBDb2xsZWN0aW9uPENoYXRzdGF0ZU1vZGVsPiB7XHJcbiAgc3RhdGljIG1vZGVsOiBDaGF0c3RhdGVNb2RlbDtcclxufVxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBDaGF0c3RhdGVDb2xsZWN0aW9uOiBbJ0NoYXRzdGF0ZUNvbGxlY3Rpb25JbXBsJywgJ0NoYXRzdGF0ZSddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uQ2hhdHN0YXRlQ29sbGVjdGlvbkltcGwgfHwgbS5DaGF0c3RhdGVcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTdHJpbmdhYmxlIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgeyBXcml0YWJsZVByb3BlcnRpZXMgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnLi4vbWlzYyc7XHJcblxyXG5pbnRlcmZhY2UgT3B0aW9uIHtcclxuICBhZGQ6IGJvb2xlYW47XHJcbiAgbWVyZ2U6IGJvb2xlYW47XHJcbiAgcmVtb3ZlOiBib29sZWFuO1xyXG59XHJcblxyXG4vKiogQHdoYXRzYXBwIDMxNzI3XHJcbiAqIEB3aGF0c2FwcCA2MzE3MjcgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDb2xsZWN0aW9uPE0+XHJcbiAgZXh0ZW5kcyBFdmVudEVtaXR0ZXIsXHJcbiAgICBQaWNrPFxyXG4gICAgICBBcnJheTxNPixcclxuICAgICAgfCAnaW5kZXhPZidcclxuICAgICAgfCAnbGFzdEluZGV4T2YnXHJcbiAgICAgIHwgJ2V2ZXJ5J1xyXG4gICAgICB8ICdzb21lJ1xyXG4gICAgICB8ICdmb3JFYWNoJ1xyXG4gICAgICB8ICdtYXAnXHJcbiAgICAgIHwgJ2ZpbHRlcidcclxuICAgICAgfCAncmVkdWNlJ1xyXG4gICAgICB8ICdzbGljZSdcclxuICAgID4ge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgMzE3MjdcclxuICogQHdoYXRzYXBwIDYzMTcyNyA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgQ29sbGVjdGlvbjxNLCBBID0gTSB8IE1bXT4gZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xyXG4gIHN0YXRpYyBtb2RlbDogYW55O1xyXG4gIHN0YXRpYyBjb21wYXJhdG9yOiAoYTogYW55LCBiOiBhbnkpID0+IG51bWJlcjtcclxuXHJcbiAgbW9kZWxDbGFzczogTTtcclxuXHJcbiAgY29uc3RydWN0b3IoZT86IGFueSwgdD86IHsgcGFyZW50OiBhbnkgfSk7XHJcblxyXG4gIGdldCBsZW5ndGgoKTogbnVtYmVyO1xyXG5cclxuICBhZGQodmFsdWU6IEEgfCBXcml0YWJsZVByb3BlcnRpZXM8QT4sIG9wdGlvbnM/OiBPcHRpb24pOiBBO1xyXG5cclxuICBzZXQodmFsdWU6IEEsIG9wdGlvbnM/OiBPcHRpb24pOiBBO1xyXG5cclxuICByZW1vdmUodmFsdWU6IEEsIG9wdGlvbnM/OiB7IGluZGV4PzogYm9vbGVhbjsgc2lsZW50PzogYm9vbGVhbiB9KTogTVtdO1xyXG5cclxuICByZXNldCgpOiB2b2lkO1xyXG5cclxuICBzb3J0KG9wdGlvbnM/OiB7IHNpbGVudD86IGJvb2xlYW4gfSk6IHRoaXM7XHJcblxyXG4gIHJlcGxhY2VJZChlOiBhbnksIHQ6IGFueSk6IHZvaWQ7XHJcblxyXG4gIHJlb3JkZXJNdXRhdGUoZTogYW55LCB0OiBhbnkpOiB2b2lkO1xyXG5cclxuICBnZXQoZTogU3RyaW5nYWJsZSk6IE0gfCB1bmRlZmluZWQ7XHJcblxyXG4gIGFzc2VydEdldChlOiBTdHJpbmdhYmxlKTogTTtcclxuXHJcbiAgYXQocG9zaXRpb246IG51bWJlcik6IE0gfCB1bmRlZmluZWQ7XHJcblxyXG4gIHNlcmlhbGl6ZSgpOiBhbnlbXTtcclxuXHJcbiAgdG9KU09OKCk6IGFueVtdO1xyXG5cclxuICBpc01vZGVsKG1vZGVsOiBhbnkpOiBtb2RlbCBpcyBNO1xyXG5cclxuICBpbmNsdWRlcyhtb2RlbDogTSwgcG9zaXRpb24/OiBudW1iZXIpOiBib29sZWFuO1xyXG5cclxuICBmaW5kRmlyc3Q6IEFycmF5PE0+WydmaW5kJ107XHJcblxyXG4gIHdoZXJlKGlkczogU3RyaW5nYWJsZVtdKTogTVtdO1xyXG5cclxuICBoZWFkKCk6IE0gfCB1bmRlZmluZWQ7XHJcblxyXG4gIGxhc3QoKTogTSB8IHVuZGVmaW5lZDtcclxuXHJcbiAgdG9BcnJheSgpOiBNW107XHJcblxyXG4gIGdldE1vZGVsc0FycmF5KCk6IE1bXTtcclxuXHJcbiAgcmVvcmRlcihlOiBudW1iZXIsIHQ6IG51bWJlcik6IE1bXTtcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgQ29sbGVjdGlvbjogJ2RlZmF1bHQnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZGVmYXVsdC50b1N0cmluZygpLmluY2x1ZGVzKCdDb2xsZWN0aW9uIGluaXRpYWxpemVkIHdpdGhvdXQgbW9kZWwnKVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IENvbnRhY3RNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IEJhc2VDb2xsZWN0aW9uIH0gZnJvbSAnLi9CYXNlQ29sbGVjdGlvbic7XHJcblxyXG4vKiogQHdoYXRzYXBwIDE5MzgwXHJcbiAqIEB3aGF0c2FwcCA3MTkzODAgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIENvbnRhY3RDb2xsZWN0aW9uIGV4dGVuZHMgQmFzZUNvbGxlY3Rpb248Q29udGFjdE1vZGVsPiB7XHJcbiAgc3RhdGljIG1vZGVsOiBDb250YWN0TW9kZWw7XHJcbiAgY2hlY2tzdW0/OiBhbnk7XHJcbiAgZW5zdXJlU29ydGVkKCk6IGFueTtcclxuICBjb250YWN0QWRkZWQoZT86IGFueSk6IGFueTtcclxuICBjb250YWN0UmVtb3ZlZChlPzogYW55KTogYW55O1xyXG4gIGNvbnRhY3RIYXNoTGVuZ3RoKCk6IGFueTtcclxuICBpc0ZpbHRlcmVkQ29udGFjdChlPzogYW55KTogYm9vbGVhbjtcclxuICBnZXRGaWx0ZXJlZENvbnRhY3RzKCk6IGFueTtcclxuICBzeW5jKCk6IGFueTtcclxuICB1cGRhdGVGcmVxdWVudENvbnRhY3RzKGU/OiBhbnkpOiBhbnk7XHJcbiAgZnJlcXVlbnRDb250YWN0cyhlPzogYW55LCB0PzogYW55KTogYW55O1xyXG4gIGdldFVzZXJDb3VudCgpOiBhbnk7XHJcbiAgc2V0Q2hlY2tzdW0oZT86IGFueSk6IGFueTtcclxuICByZXNvbHZlV2lkc0Zyb21IYXNoKGU/OiBhbnkpOiBhbnk7XHJcbiAgc3RhdGljIGNvbXBhcmF0b3IoKTogYW55O1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHsgQ29udGFjdENvbGxlY3Rpb246ICdDb250YWN0Q29sbGVjdGlvbkltcGwnIH0sXHJcbiAgKG0pID0+IG0uQ29udGFjdENvbGxlY3Rpb25JbXBsXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgRW1vamlWYXJpYW50TW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSAnLi9Db2xsZWN0aW9uJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgMTMxODVcclxuICogQHdoYXRzYXBwIDUxMzE4NSA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgRW1vamlWYXJpYW50Q29sbGVjdGlvbiBleHRlbmRzIENvbGxlY3Rpb248RW1vamlWYXJpYW50TW9kZWw+IHtcclxuICBzdGF0aWMgbW9kZWw6IEVtb2ppVmFyaWFudE1vZGVsO1xyXG4gIHN0YXRpYyBjYWNoZVBvbGljeT86IGFueTtcclxuICBzZXRWYXJpYW50KGU/OiBhbnksIHQ/OiBhbnkpOiBhbnk7XHJcbiAgZ2V0VmFyaWFudChlPzogYW55KTogYW55O1xyXG4gIGdldFZhcmlhbnRJZkV4aXN0cyhlPzogYW55KTogYW55O1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIEVtb2ppVmFyaWFudENvbGxlY3Rpb246IFtcclxuICAgICAgJ0Vtb2ppVmFyaWFudENvbGxlY3Rpb25JbXBsJyxcclxuICAgICAgJ0Vtb2ppVmFyaWFudENvbGxlY3Rpb24nLFxyXG4gICAgXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLkVtb2ppVmFyaWFudENvbGxlY3Rpb25JbXBsIHx8IG0uRW1vamlWYXJpYW50Q29sbGVjdGlvblxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IEdyb3VwTWV0YWRhdGFNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IEJhc2VDb2xsZWN0aW9uIH0gZnJvbSAnLic7XHJcblxyXG4vKiogQHdoYXRzYXBwIDYzOTI4XHJcbiAqIEB3aGF0c2FwcCA5NjM5MjggPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIEdyb3VwTWV0YWRhdGFDb2xsZWN0aW9uIGV4dGVuZHMgQmFzZUNvbGxlY3Rpb248R3JvdXBNZXRhZGF0YU1vZGVsPiB7XHJcbiAgc3RhdGljIG1vZGVsOiBHcm91cE1ldGFkYXRhTW9kZWw7XHJcbiAgaGFuZGxlUGVuZGluZ0ludml0ZSgpOiBhbnk7XHJcbn1cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAgeyBHcm91cE1ldGFkYXRhQ29sbGVjdGlvbjogJ2RlZmF1bHQuY29uc3RydWN0b3InIH0sXHJcbiAgKG0pID0+XHJcbiAgICB0eXBlb2YgbS5kZWZhdWx0Lm9uUGFyZW50R3JvdXBDaGFuZ2UgPT09ICdmdW5jdGlvbicgfHwgLy8gQHdoYXRzYXBwIDwgMi4yMzAxLjVcclxuICAgIHR5cGVvZiBtLmRlZmF1bHQuX2hhbmRsZVBhcmVudEdyb3VwQ2hhbmdlID09PSAnZnVuY3Rpb24nIC8vIEB3aGF0c2FwcCA+PSAyLjIzMDEuNVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IENoYXRNb2RlbCwgTGFiZWxNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IEJhc2VDb2xsZWN0aW9uIH0gZnJvbSAnLi9CYXNlQ29sbGVjdGlvbic7XHJcblxyXG4vKiogQHdoYXRzYXBwIDE2NzcwXHJcbiAqIEB3aGF0c2FwcCAzMTY3NzAgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIExhYmVsQ29sbGVjdGlvbiBleHRlbmRzIEJhc2VDb2xsZWN0aW9uPExhYmVsTW9kZWw+IHtcclxuICBzdGF0aWMgbW9kZWw6IExhYmVsTW9kZWw7XHJcbiAgc3RhdGljIHN0YWxlQ29sbGVjdGlvbj86IGFueTtcclxuICBzdGF0aWMgcmVzdW1lT25BdmFpbGFibGU/OiBhbnk7XHJcbiAgY2hlY2tzdW0/OiBhbnk7XHJcbiAgaW5pdGlhbGl6ZUFzc29jaWF0aW9uc0Zyb21DYWNoZShlPzogYW55KTogYW55O1xyXG4gIGFkZE5ld0xhYmVsKGxhYmVsTmFtZTogc3RyaW5nLCBsYWJlbENvbG9yOiBzdHJpbmcpOiBhbnk7XHJcbiAgcmVtb3ZlQWxsTGFiZWxzTUQoY2hhdDogQ2hhdE1vZGVsKTogYW55O1xyXG4gIGFkZE9yUmVtb3ZlTGFiZWxzTUQoZT86IGFueSwgdD86IGFueSk6IGFueTtcclxuICBhZGRPclJlbW92ZUxhYmVscyhlPzogYW55LCB0PzogYW55KTogYW55O1xyXG4gIGRlbGV0ZUxhYmVsKGlkOiBzdHJpbmcpOiBhbnk7XHJcbiAgdXBkYXRlTGFiZWwoZT86IGFueSwgdD86IGFueSk6IGFueTtcclxuICBnZXROZXdMYWJlbENvbG9yKCk6IGFueTtcclxuICBnZXROZXh0QXZhaWxhYmxlQ29sb3IoKTogYW55O1xyXG4gIGdldExhYmVsQ29sb3JQYWxldHRlKCk6IGFueTtcclxuICBoYW5kbGVSZW1vdmUoZT86IGFueSk6IGFueTtcclxuICB1cGRhdGVDaGVja3N1bShlPzogYW55KTogYW55O1xyXG4gIGdldExhYmVsc0Zvck1vZGVsKGU/OiBhbnksIHQ/OiBhbnkpOiBhbnk7XHJcbiAgX2ZpbmQoKTogYW55O1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHsgTGFiZWxDb2xsZWN0aW9uOiBbJ0xhYmVsQ29sbGVjdGlvbkltcGwnLCAnTGFiZWxDb2xsZWN0aW9uJ10gfSxcclxuICAobSkgPT4gbS5MYWJlbENvbGxlY3Rpb25JbXBsIHx8IG0uTGFiZWxDb2xsZWN0aW9uXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgTGFiZWxJdGVtTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSAnLi9Db2xsZWN0aW9uJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgMzQ3NDFcclxuICogQHdoYXRzYXBwIDYzNDc0MSA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgTGFiZWxJdGVtQ29sbGVjdGlvbiBleHRlbmRzIENvbGxlY3Rpb248TGFiZWxJdGVtTW9kZWw+IHtcclxuICBzdGF0aWMgbW9kZWw6IExhYmVsSXRlbU1vZGVsO1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIExhYmVsSXRlbUNvbGxlY3Rpb246IFsnTGFiZWxJdGVtQ29sbGVjdGlvbkltcGwnLCAnTGFiZWxJdGVtQ29sbGVjdGlvbiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uTGFiZWxJdGVtQ29sbGVjdGlvbkltcGwgfHwgbS5MYWJlbEl0ZW1Db2xsZWN0aW9uXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLCBNc2dNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IEJhc2VDb2xsZWN0aW9uIH0gZnJvbSAnLi9CYXNlQ29sbGVjdGlvbic7XHJcblxyXG4vKiogQHdoYXRzYXBwIDU5ODcxXHJcbiAqIEB3aGF0c2FwcCA1NTk4NzEgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIE1zZ0NvbGxlY3Rpb24gZXh0ZW5kcyBCYXNlQ29sbGVjdGlvbjxNc2dNb2RlbD4ge1xyXG4gIHN0YXRpYyBtb2RlbDogTXNnTW9kZWw7XHJcbiAgbGFzdFJlY2VpdmVkUmVjZWlwdD86IGFueTtcclxuICBsYXN0UmVjZWl2ZWRQYXltZW50VHJhbnNhY3Rpb24/OiBhbnk7XHJcbiAgcHJlQWNrPzogYW55O1xyXG4gIHBlbmRpbmdBZGQ/OiBhbnk7XHJcbiAgZnRzQ2FjaGU/OiBhbnk7XHJcbiAgcHJvZHVjdExpc3RNZXNzYWdlc1ByZWZldGNoQ2hhaW4/OiBhbnk7XHJcbiAgb25TZWFyY2hUYWcoKTogYW55O1xyXG4gIHJlbW92ZUZyb21Db2xsZWN0aW9uKGU/OiBhbnkpOiBhbnk7XHJcbiAgZ2V0U3RhcnJlZChlPzogYW55LCB0PzogYW55LCByPzogYW55LCBhPzogYW55KTogYW55O1xyXG4gIGdldE1lc3NhZ2VzQnlJZChlPzogYW55KTogYW55O1xyXG4gIHF1ZXJ5VmNhcmQoZT86IGFueSk6IGFueTtcclxuICBpbmNyZW1lbnRhbFN0YXJyZWRVcGRhdGUoZT86IGFueSk6IGFueTtcclxuICBzZWFyY2goZT86IGFueSwgdD86IG51bWJlciwgcj86IGFueSwgYT86IGFueSwgaT86IGFueSk6IGFueTtcclxuICBxdWVyeU1lZGlhKGU/OiBhbnksIHQ/OiBhbnksIHI/OiBhbnksIGE/OiBhbnksIGk/OiBhbnkpOiBhbnk7XHJcbiAgZ2V0Q29udGV4dChlPzogYW55LCB0PzogYW55LCByPzogYW55KTogYW55O1xyXG4gIGhhc1N5bmNlZCgpOiBib29sZWFuO1xyXG4gIGdldEtleXNGb3JSZXN5bmNSZWNlaXB0cygpOiBhbnk7XHJcbiAgcmVzeW5jUmVjZWlwdHMoKTogYW55O1xyXG4gIHVwZGF0ZUxhc3RSZWNlaXB0KGU/OiBhbnksIHQ/OiBhbnkpOiBhbnk7XHJcbiAgdXBkYXRlTGFzdFRyYW5zYWN0aW9uVGltZShlPzogYW55LCB0PzogYW55KTogYW55O1xyXG4gIHByb2Nlc3NNdWx0aXBsZU1lc3NhZ2VzKFxyXG4gICAgY2hhdElkOiBXaWQsXHJcbiAgICBtc2dzOiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPE1zZ01vZGVsPltdLFxyXG4gICAgcj86IGFueSxcclxuICAgIGE/OiBhbnlcclxuICApOiBQcm9taXNlPE1zZ01vZGVsW10+O1xyXG4gIG1hcmtBbGxBc1N0YWxlKCk6IGFueTtcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAgeyBNc2dDb2xsZWN0aW9uOiAnTXNnQ29sbGVjdGlvbkltcGwnIH0sXHJcbiAgKG0pID0+IG0uTXNnQ29sbGVjdGlvbkltcGxcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBNc2dJbmZvTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBCYXNlQ29sbGVjdGlvbiB9IGZyb20gJy4vQmFzZUNvbGxlY3Rpb24nO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA2MTc5NzIgPj0gMi4yMjIyLjhcclxuICogQHdoYXRzYXBwIDczOTI0NSA+PSAyLjIyNDIuNlxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgTXNnSW5mb0NvbGxlY3Rpb24gZXh0ZW5kcyBCYXNlQ29sbGVjdGlvbjxNc2dJbmZvTW9kZWw+IHtcclxuICBzdGF0aWMgbW9kZWw6IE1zZ0luZm9Nb2RlbDtcclxuICBzdGF0aWMgc3RhbGVDb2xsZWN0aW9uPzogYW55O1xyXG4gIHVwZGF0ZUluZm8oZT86IGFueSwgdD86IGFueSwgcj86IGFueSwgYT86IGFueSwgaT86IGFueSwgbj86IGFueSk6IGFueTtcclxufVxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7IE1zZ0luZm9Db2xsZWN0aW9uOiBbJ01zZ0luZm9Db2xsZWN0aW9uSW1wbCcsICdNc2dJbmZvQ29sbGVjdGlvbiddIH0sXHJcbiAgKG0pID0+IG0uTXNnSW5mb0NvbGxlY3Rpb25JbXBsIHx8IG0uTXNnSW5mb0NvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBNc2dJbmZvUGFydGljaXBhbnRNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IENvbGxlY3Rpb24gfSBmcm9tICcuL0NvbGxlY3Rpb24nO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA3Mzg0ODIgPj0gMi4yMjQyLjZcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIE1zZ0luZm9QYXJ0aWNpcGFudENvbGxlY3Rpb24gZXh0ZW5kcyBDb2xsZWN0aW9uPE1zZ0luZm9QYXJ0aWNpcGFudE1vZGVsPiB7XHJcbiAgc3RhdGljIG1vZGVsOiBNc2dJbmZvUGFydGljaXBhbnRNb2RlbDtcclxuICBzdGF0aWMgY29tcGFyYXRvcigpOiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIFBhcnRpY2lwYW50Q29sbGVjdGlvbjogWydQYXJ0aWNpcGFudENvbGxlY3Rpb24nXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLlBhcnRpY2lwYW50Q29sbGVjdGlvblxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IE11dGVNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IENvbGxlY3Rpb24gfSBmcm9tICcuL0NvbGxlY3Rpb24nO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA3MjQ3MiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBNdXRlQ29sbGVjdGlvbiBleHRlbmRzIENvbGxlY3Rpb248TXV0ZU1vZGVsPiB7XHJcbiAgc3RhdGljIG1vZGVsOiBNdXRlTW9kZWw7XHJcbiAgc3RhdGljIGNhY2hlUG9saWN5PzogYW55O1xyXG4gIGdsb2JhbE11dGUoKTogYW55O1xyXG4gIGdldEdsb2JhbFNvdW5kcygpOiBhbnk7XHJcbiAgc2V0R2xvYmFsU291bmRzKGU/OiBhbnkpOiBhbnk7XHJcbiAgZ2V0R2xvYmFsTm90aWZpY2F0aW9ucygpOiBhbnk7XHJcbiAgc2V0R2xvYmFsTm90aWZpY2F0aW9ucyhlPzogYW55KTogYW55O1xyXG4gIGdldEdsb2JhbFByZXZpZXdzKCk6IGFueTtcclxuICBzZXRHbG9iYWxQcmV2aWV3cyhlPzogYW55KTogYW55O1xyXG4gIGdldENvbGxhcHNlTXV0ZWQoKTogYW55O1xyXG4gIHNldENvbGxhcHNlTXV0ZWQoZT86IGFueSk6IGFueTtcclxuICBnZXRPdXRnb2luZ01lc3NhZ2VTb3VuZCgpOiBhbnk7XHJcbiAgc2V0T3V0Z29pbmdNZXNzYWdlU291bmQoZT86IGFueSk6IGFueTtcclxufVxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7IE11dGVDb2xsZWN0aW9uOiBbJ011dGVDb2xsZWN0aW9uSW1wbCcsICdNdXRlQ29sbGVjdGlvbiddIH0sXHJcbiAgKG0pID0+IG0uTXV0ZUNvbGxlY3Rpb25JbXBsIHx8IG0uTXV0ZUNvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBOb3RlTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSAnLi9Db2xsZWN0aW9uJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgV0FXZWJOb3RlQ29sbGVjdGlvblxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgTm90ZUNvbGxlY3Rpb24gZXh0ZW5kcyBDb2xsZWN0aW9uPE5vdGVNb2RlbD4ge1xyXG4gIHN0YXRpYyBtb2RlbDogTm90ZU1vZGVsO1xyXG4gIG1heWJlR2V0Tm90ZUJ5Q2hhdEppZChhPzogYW55KTogYW55O1xyXG4gIGhhc0NhY2hlZFF1ZXJ5Rm9yQ2hhdEppZChlPzogYW55KTogYW55O1xyXG4gIHVwZGF0ZUNvbGxlY3Rpb25Gcm9tREIoYT86IGFueSwgYj86IGFueSk6IGFueTtcclxuICBwdXJnZU5vdGVzQnlDaGF0SmlkKGE/OiBhbnkpOiBhbnk7XHJcbn1cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAgeyBOb3RlQ29sbGVjdGlvbjogWydOb3RlQ29sbGVjdGlvbi5jb25zdHJ1Y3RvciddIH0sXHJcbiAgKG0pID0+IG0uTm90ZUNvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBPcmRlck1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuaW1wb3J0IHsgQ29sbGVjdGlvbiB9IGZyb20gJy4vQ29sbGVjdGlvbic7XHJcblxyXG4vKiogQHdoYXRzYXBwIDg0MzEyXHJcbiAqIEB3aGF0c2FwcCA1ODQzMTIgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIE9yZGVyQ29sbGVjdGlvbiBleHRlbmRzIENvbGxlY3Rpb248T3JkZXJNb2RlbD4ge1xyXG4gIHN0YXRpYyBtb2RlbDogT3JkZXJNb2RlbDtcclxuICBzdGF0aWMgc3RhbGVDb2xsZWN0aW9uPzogYW55O1xyXG4gIHdpZHRoPzogYW55O1xyXG4gIGhlaWdodD86IGFueTtcclxuICBhZGRPcmRlcigpOiBQcm9taXNlPE9yZGVyTW9kZWw+O1xyXG4gIGZpbmRPcmRlcihlPzogYW55LCB0PzogYW55LCBhPzogYW55KTogYW55O1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHsgT3JkZXJDb2xsZWN0aW9uOiBbJ09yZGVyQ29sbGVjdGlvbkltcGwnLCAnT3JkZXJDb2xsZWN0aW9uJ10gfSxcclxuICAobSkgPT4gbS5PcmRlckNvbGxlY3Rpb25JbXBsIHx8IG0uT3JkZXJDb2xsZWN0aW9uXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgT3JkZXJJdGVtTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSAnLi9Db2xsZWN0aW9uJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgMjM0MTJcclxuICogQHdoYXRzYXBwIDgyMzQxMiA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgT3JkZXJJdGVtQ29sbGVjdGlvbiBleHRlbmRzIENvbGxlY3Rpb248T3JkZXJJdGVtTW9kZWw+IHtcclxuICBzdGF0aWMgbW9kZWw6IE9yZGVySXRlbU1vZGVsO1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIE9yZGVySXRlbUNvbGxlY3Rpb246IFsnT3JkZXJJdGVtQ29sbGVjdGlvbkltcGwnLCAnT3JkZXJJdGVtQ29sbGVjdGlvbiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uT3JkZXJJdGVtQ29sbGVjdGlvbkltcGwgfHwgbS5PcmRlckl0ZW1Db2xsZWN0aW9uXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgUGFydGljaXBhbnRNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IENvbGxlY3Rpb24gfSBmcm9tICcuL0NvbGxlY3Rpb24nO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA5NjA5MVxyXG4gKiBAd2hhdHNhcHAgNTQzMTEgPj0gMi4yMjEyLjhcclxuICogQHdoYXRzYXBwIDc1NDMxMSA+PSAyLjIyMjIuOFxyXG4gKiBAd2hhdHNhcHAgMTY0NTYwID49IDIuMjI0Mi42XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBQYXJ0aWNpcGFudENvbGxlY3Rpb24gZXh0ZW5kcyBDb2xsZWN0aW9uPFBhcnRpY2lwYW50TW9kZWw+IHtcclxuICBzdGF0aWMgbW9kZWw6IFBhcnRpY2lwYW50TW9kZWw7XHJcbiAgc3RhdGljIGNvbXBhcmF0b3IoKTogYW55O1xyXG4gIGNhbkFkZCgpOiBib29sZWFuO1xyXG4gIGNhblByb21vdGUocGFydGljaXBhbnQ6IFBhcnRpY2lwYW50TW9kZWwpOiBib29sZWFuO1xyXG4gIGNhbkRlbW90ZShwYXJ0aWNpcGFudDogUGFydGljaXBhbnRNb2RlbCk6IGJvb2xlYW47XHJcbiAgY2FuUmVtb3ZlKHBhcnRpY2lwYW50OiBQYXJ0aWNpcGFudE1vZGVsKTogYm9vbGVhbjtcclxuICBjYW5WZXJpZnlJZGVudGl0eShwYXJ0aWNpcGFudDogUGFydGljaXBhbnRNb2RlbCk6IGJvb2xlYW47XHJcbiAgaUFtTWVtYmVyKCk6IGJvb2xlYW47XHJcbiAgaUFtUmVzdHJpY3RlZE1lbWJlcigpOiBib29sZWFuO1xyXG4gIGlBbUFkbWluKCk6IGJvb2xlYW47XHJcbiAgaUFtU3VwZXJBZG1pbigpOiBib29sZWFuO1xyXG4gIGdldEFkbWlucygpOiBQYXJ0aWNpcGFudE1vZGVsW107XHJcbiAgZ2V0U3VwZXJBZG1pbigpOiBQYXJ0aWNpcGFudE1vZGVsO1xyXG59XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBQYXJ0aWNpcGFudENvbGxlY3Rpb246IFsnZGVmYXVsdCddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZGVmYXVsdC5wcm90b3R5cGUuaUFtTWVtYmVyXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgUGluSW5DaGF0TW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvUGluSW5DaGF0TW9kZWwnO1xyXG5pbXBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSAnLi9Db2xsZWN0aW9uJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgV0FXZWJQaW5JbkNoYXRDb2xsZWN0aW9uID49IDIuMzAwMC4xMDEyMTcwOTQzXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBQaW5JbkNoYXRDb2xsZWN0aW9uIGV4dGVuZHMgQ29sbGVjdGlvbjxQaW5JbkNoYXRNb2RlbD4ge1xyXG4gIHN0YXRpYyBtb2RlbDogUGluSW5DaGF0TW9kZWw7XHJcbiAgc3RhdGljIGNhY2hlUG9saWN5PzogYW55O1xyXG4gIGRlbGV0ZUJ5UGFyZW50TWVzc2FnZUtleShhPzogYW55KTogYW55O1xyXG4gIGdldEJ5TXNnS2V5KGE/OiBhbnkpOiBQaW5JbkNoYXRNb2RlbDtcclxuICBnZXRCeVBhcmVudE1zZ0tleShhPzogYW55KTogUGluSW5DaGF0TW9kZWw7XHJcbiAgYnlDaGF0SWQoYT86IGFueSk6IFBpbkluQ2hhdE1vZGVsW107XHJcbiAgYnlJc0ZhaWxlZEJ5TWUoYT86IGFueSk6IGFueTtcclxufVxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7IFBpbkluQ2hhdENvbGxlY3Rpb246IFsnUGluSW5DaGF0Q29sbGVjdGlvbkltcGwnLCAnUGluSW5DaGF0Q29sbGVjdGlvbiddIH0sXHJcbiAgKG0pID0+IG0uUGluSW5DaGF0Q29sbGVjdGlvbkltcGwgfHwgbS5QaW5JbkNoYXRDb2xsZWN0aW9uXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgUHJlc2VuY2VNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IEJhc2VDb2xsZWN0aW9uIH0gZnJvbSAnLi9CYXNlQ29sbGVjdGlvbic7XHJcblxyXG4vKiogQHdoYXRzYXBwIDY4MzE1XHJcbiAqIEB3aGF0c2FwcCA4NjgzMTUgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIFByZXNlbmNlQ29sbGVjdGlvbiBleHRlbmRzIEJhc2VDb2xsZWN0aW9uPFByZXNlbmNlTW9kZWw+IHtcclxuICBzdGF0aWMgbW9kZWw6IFByZXNlbmNlTW9kZWw7XHJcbiAgc3RhdGljIHN0YWxlQ29sbGVjdGlvbj86IGFueTtcclxuICBjbGVhckFsbFByZXNlbmNlKCk6IGFueTtcclxufVxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBQcmVzZW5jZUNvbGxlY3Rpb246IFsnUHJlc2VuY2VDb2xsZWN0aW9uSW1wbCcsICdQcmVzZW5jZUNvbGxlY3Rpb24nXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLlByZXNlbmNlQ29sbGVjdGlvbkltcGwgfHwgbS5QcmVzZW5jZUNvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBQcm9kdWN0Q29sbE1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuaW1wb3J0IHsgQ29sbGVjdGlvbiB9IGZyb20gJy4vQ29sbGVjdGlvbic7XHJcblxyXG4vKiogQHdoYXRzYXBwIDEyNDk2XHJcbiAqIEB3aGF0c2FwcCA5MTI0OTYgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIFByb2R1Y3RDb2xsQ29sbGVjdGlvbiBleHRlbmRzIENvbGxlY3Rpb248UHJvZHVjdENvbGxNb2RlbD4ge1xyXG4gIHN0YXRpYyBtb2RlbDogUHJvZHVjdENvbGxNb2RlbDtcclxuICBzdGF0aWMgc3RhbGVDb2xsZWN0aW9uPzogYW55O1xyXG4gIGZpbmRDb2xsZWN0aW9uc0xpc3QoZT86IGFueSwgdD86IGFueSwgcj86IGFueSk6IGFueTtcclxuICBnZXRDb2xsZWN0aW9uTW9kZWxzKGU/OiBhbnkpOiBhbnk7XHJcbiAgZmluZENvbGxlY3Rpb25Qcm9kdWN0cyhlPzogYW55LCB0PzogYW55KTogYW55O1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIFByb2R1Y3RDb2xsQ29sbGVjdGlvbjogW1xyXG4gICAgICAnUHJvZHVjdENvbGxDb2xsZWN0aW9uSW1wbCcsXHJcbiAgICAgICdQcm9kdWN0Q29sbENvbGxlY3Rpb24nLFxyXG4gICAgXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLlByb2R1Y3RDb2xsQ29sbGVjdGlvbkltcGwgfHwgbS5Qcm9kdWN0Q29sbENvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBQcm9kdWN0TW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSAnLi9Db2xsZWN0aW9uJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgNTY0MVxyXG4gKiBAd2hhdHNhcHAgMTA1NjQxID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBQcm9kdWN0Q29sbGVjdGlvbiBleHRlbmRzIENvbGxlY3Rpb248UHJvZHVjdE1vZGVsPiB7XHJcbiAgc3RhdGljIG1vZGVsOiBQcm9kdWN0TW9kZWw7XHJcbiAgZ2V0UHJvZHVjdE1vZGVscyhlPzogYm9vbGVhbik6IGFueTtcclxuICBldmljdEltYWdlc0Zyb21DYWNoZShlPzogYW55KTogYW55O1xyXG4gIHN0YXRpYyBjb21wYXJhdG9yKCk6IGFueTtcclxufVxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7IFByb2R1Y3RDb2xsZWN0aW9uOiBbJ1Byb2R1Y3RDb2xsZWN0aW9uSW1wbCcsICdQcm9kdWN0Q29sbGVjdGlvbiddIH0sXHJcbiAgKG0pID0+IG0uUHJvZHVjdENvbGxlY3Rpb25JbXBsIHx8IG0uUHJvZHVjdENvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBQcm9kdWN0SW1hZ2VNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IENvbGxlY3Rpb24gfSBmcm9tICcuL0NvbGxlY3Rpb24nO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA3NTE0XHJcbiAqIEB3aGF0c2FwcCAzMDc1MTQgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIFByb2R1Y3RJbWFnZUNvbGxlY3Rpb24gZXh0ZW5kcyBDb2xsZWN0aW9uPFByb2R1Y3RJbWFnZU1vZGVsPiB7XHJcbiAgc3RhdGljIG1vZGVsOiBQcm9kdWN0SW1hZ2VNb2RlbDtcclxufVxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBQcm9kdWN0SW1hZ2VDb2xsZWN0aW9uOiBbXHJcbiAgICAgICdQcm9kdWN0SW1hZ2VDb2xsZWN0aW9uSW1wbCcsXHJcbiAgICAgICdQcm9kdWN0SW1hZ2VDb2xsZWN0aW9uJyxcclxuICAgIF0sXHJcbiAgfSxcclxuICAobSkgPT4gbS5Qcm9kdWN0SW1hZ2VDb2xsZWN0aW9uSW1wbCB8fCBtLlByb2R1Y3RJbWFnZUNvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBQcm9kdWN0TWVzc2FnZUxpc3RNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IENvbGxlY3Rpb24gfSBmcm9tICcuL0NvbGxlY3Rpb24nO1xyXG5cclxuLyoqIEB3aGF0c2FwcCAxODk1MiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBQcm9kdWN0TWVzc2FnZUxpc3RDb2xsZWN0aW9uIGV4dGVuZHMgQ29sbGVjdGlvbjxQcm9kdWN0TWVzc2FnZUxpc3RNb2RlbD4ge1xyXG4gIHN0YXRpYyBtb2RlbDogUHJvZHVjdE1lc3NhZ2VMaXN0TW9kZWw7XHJcbiAgc3RhdGljIHN0YWxlQ29sbGVjdGlvbj86IGFueTtcclxuICBnZXRPckFkZChlPzogYW55LCB0PzogYW55LCByPzogYW55LCBhPzogYW55KTogYW55O1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIFByb2R1Y3RNZXNzYWdlTGlzdENvbGxlY3Rpb246IFtcclxuICAgICAgJ1Byb2R1Y3RNZXNzYWdlTGlzdENvbGxlY3Rpb25JbXBsJyxcclxuICAgICAgJ1Byb2R1Y3RNZXNzYWdlTGlzdENvbGxlY3Rpb24nLFxyXG4gICAgXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLlByb2R1Y3RNZXNzYWdlTGlzdENvbGxlY3Rpb25JbXBsIHx8IG0uUHJvZHVjdE1lc3NhZ2VMaXN0Q29sbGVjdGlvblxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFByb2ZpbGVQaWNUaHVtYk1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuaW1wb3J0IHsgQmFzZUNvbGxlY3Rpb24gfSBmcm9tICcuL0Jhc2VDb2xsZWN0aW9uJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgODIwMzlcclxuICogQHdoYXRzYXBwIDU4MjAzOSA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgUHJvZmlsZVBpY1RodW1iQ29sbGVjdGlvbiBleHRlbmRzIEJhc2VDb2xsZWN0aW9uPFByb2ZpbGVQaWNUaHVtYk1vZGVsPiB7XHJcbiAgc3RhdGljIG1vZGVsOiBQcm9maWxlUGljVGh1bWJNb2RlbDtcclxuICBzdGF0aWMgc3RhbGVDb2xsZWN0aW9uPzogYW55O1xyXG4gIHN0YXRpYyByZXN1bWVPbkF2YWlsYWJsZT86IGFueTtcclxuICBpbWFnZUNoYW5nZWQoZT86IGFueSwgdD86IGFueSk6IGFueTtcclxuICByZXN5bmNQaWN0dXJlcyhlPzogYW55KTogYW55O1xyXG4gIGZpbmRUaHVtYm5haWxXaWQoZT86IGFueSk6IGFueTtcclxuICBnZXRUaHVtYm5haWxXaWRGcm9tVmNhcmQoZT86IGFueSk6IGFueTtcclxufVxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBQcm9maWxlUGljVGh1bWJDb2xsZWN0aW9uOiBbXHJcbiAgICAgICdQcm9maWxlUGljVGh1bWJDb2xsZWN0aW9uSW1wbCcsXHJcbiAgICAgICdQcm9maWxlUGljVGh1bWJDb2xsZWN0aW9uJyxcclxuICAgIF0sXHJcbiAgfSxcclxuICAobSkgPT4gbS5Qcm9maWxlUGljVGh1bWJDb2xsZWN0aW9uSW1wbCB8fCBtLlByb2ZpbGVQaWNUaHVtYkNvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBRdWlja1JlcGx5TW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSAnLi9Db2xsZWN0aW9uJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgOTk2NjJcclxuICogQHdoYXRzYXBwIDk5OTY2MiA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgUXVpY2tSZXBseUNvbGxlY3Rpb24gZXh0ZW5kcyBDb2xsZWN0aW9uPFF1aWNrUmVwbHlNb2RlbD4ge1xyXG4gIHN0YXRpYyBtb2RlbDogUXVpY2tSZXBseU1vZGVsO1xyXG4gIGNoZWNrc3VtPzogYW55O1xyXG4gIGZsdXNoQ291bnRzVGltZXI/OiBhbnk7XHJcbiAgc29ydFF1aWNrUmVwbHkoKTogYW55O1xyXG4gIG9uQ291bnRzRmx1c2hlZCgpOiBhbnk7XHJcbiAgZmlsdGVyU2hvcnRjdXRzKGU/OiBhbnkpOiBhbnk7XHJcbiAgc3luYyhlPzogYW55KTogYW55O1xyXG4gIHBlcmlvZGljRmx1c2goKTogYW55O1xyXG4gIHVwZGF0ZUNoZWNrc3VtKGU/OiBhbnkpOiBhbnk7XHJcbiAgc3luY2VkKCk6IGFueTtcclxuICBoYXNQZW5kaW5nQ291bnRzKCk6IGJvb2xlYW47XHJcbiAgZ2V0QWxsUGVuZGluZ0NvdW50cygpOiBhbnk7XHJcbiAgZmx1c2hDb3VudHMoKTogYW55O1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIFF1aWNrUmVwbHlDb2xsZWN0aW9uOiBbJ1F1aWNrUmVwbHlDb2xsZWN0aW9uSW1wbCcsICdRdWlja1JlcGx5Q29sbGVjdGlvbiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uUXVpY2tSZXBseUNvbGxlY3Rpb25JbXBsIHx8IG0uUXVpY2tSZXBseUNvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBSZWFjdGlvbnNNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IEJhc2VDb2xsZWN0aW9uIH0gZnJvbSAnLi9CYXNlQ29sbGVjdGlvbic7XHJcblxyXG4vKiogQHdoYXRzYXBwIDU3MTYyXHJcbiAqIEB3aGF0c2FwcCAyNTcxNjIgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIFJlYWN0aW9uc0NvbGxlY3Rpb24gZXh0ZW5kcyBCYXNlQ29sbGVjdGlvbjxSZWFjdGlvbnNNb2RlbD4ge1xyXG4gIHN0YXRpYyBtb2RlbDogUmVhY3Rpb25zTW9kZWw7XHJcbiAgc3RhdGljIGNvbXBhcmF0b3IoKTogYW55O1xyXG4gIGFkZE9yVXBkYXRlUmVhY3Rpb24oZT86IGFueSk6IGFueTtcclxuICByZW1vdmVSZWFjdGlvbihlPzogYW55KTogdm9pZDtcclxuICBnZXRBZ2dyZWdhdGVFbW9qaUFuZFNlbmRlcihlPzogYW55LCB0PzogYW55KTogYW55O1xyXG4gIG1hcmtSZWFjdGlvbnNBc1JlYWQoZT86IGFueSk6IHZvaWQ7XHJcbiAgZ2V0RXhpc3RpbmdTZW5kZXJNb2RlbEZyb21SZWFjdGlvbkRldGFpbHMoZT86IGFueSk6IGFueTtcclxuICB1cGRhdGVGYWlsZWRQcm9wc0ZvckV4aXN0aW5nU2VudFJlYWN0aW9uKGU/OiBhbnkpOiB2b2lkO1xyXG4gIHNob3VsZFVwZGF0ZUFjayhlPzogYW55KTogYW55O1xyXG4gIGRlbGV0ZVJlYWN0aW9uc0J5UGFyZW50TWVzc2FnZUtleShlPzogYW55KTogdm9pZDtcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAgeyBSZWFjdGlvbnNDb2xsZWN0aW9uOiBbJ1JlYWN0aW9uc0NvbGxlY3Rpb25JbXBsJywgJ1JlYWN0aW9uc0NvbGxlY3Rpb24nXSB9LFxyXG4gIChtKSA9PiBtLlJlYWN0aW9uc0NvbGxlY3Rpb25JbXBsIHx8IG0uUmVhY3Rpb25zQ29sbGVjdGlvblxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFJlYWN0aW9uc01vZGVsLCBSZWFjdGlvbnNTZW5kZXJzTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSAnLi9Db2xsZWN0aW9uJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgODExMzBcclxuICogQHdoYXRzYXBwIDk4MTEzMCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgUmVhY3Rpb25zU2VuZGVyc0NvbGxlY3Rpb24gZXh0ZW5kcyBDb2xsZWN0aW9uPFJlYWN0aW9uc01vZGVsPiB7XHJcbiAgc3RhdGljIG1vZGVsOiBSZWFjdGlvbnNTZW5kZXJzTW9kZWw7XHJcbiAgc3RhdGljIGNvbXBhcmF0b3IoKTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7IFJlYWN0aW9uc1NlbmRlcnNDb2xsZWN0aW9uOiAnUmVhY3Rpb25zU2VuZGVyc0NvbGxlY3Rpb24nIH0sXHJcbiAgKG0pID0+IG0uUmVhY3Rpb25zU2VuZGVyc0NvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBSZWNlbnRFbW9qaU1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuaW1wb3J0IHsgQ29sbGVjdGlvbiB9IGZyb20gJy4vQ29sbGVjdGlvbic7XHJcblxyXG4vKiogQHdoYXRzYXBwIDkyNjcxXHJcbiAqIEB3aGF0c2FwcCA0OTI2NzEgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIFJlY2VudEVtb2ppQ29sbGVjdGlvbiBleHRlbmRzIENvbGxlY3Rpb248UmVjZW50RW1vamlNb2RlbD4ge1xyXG4gIHN0YXRpYyBjYWNoZVBvbGljeT86IGFueTtcclxuICBzdGF0aWMgbW9kZWw6IFJlY2VudEVtb2ppTW9kZWw7XHJcbiAgZGlydHk/OiBhbnk7XHJcbiAgc3luYygpOiBhbnk7XHJcbiAgdGhyb3R0bGVkU3luYygpOiBhbnk7XHJcbiAgaW5jcmVtZW50KGU/OiBhbnkpOiBhbnk7XHJcbiAgc3RhdGljIGNvbXBhcmF0b3IoKTogYW55O1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIFJlY2VudEVtb2ppQ29sbGVjdGlvbjogW1xyXG4gICAgICAnUmVjZW50RW1vamlDb2xsZWN0aW9uSW1wbCcsXHJcbiAgICAgICdSZWNlbnRFbW9qaUNvbGxlY3Rpb24nLFxyXG4gICAgXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLlJlY2VudEVtb2ppQ29sbGVjdGlvbkltcGwgfHwgbS5SZWNlbnRFbW9qaUNvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBTdGlja2VyTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBDb2xsZWN0aW9uIH0gZnJvbSAnLi9Db2xsZWN0aW9uJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgNDkyNjRcclxuICogQHdoYXRzYXBwIDkxNjkyID49IDIuMjIxMi44XHJcbiAqIEB3aGF0c2FwcCAxOTE2OTIgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIFJlY2VudFN0aWNrZXJDb2xsZWN0aW9uIGV4dGVuZHMgQ29sbGVjdGlvbjxTdGlja2VyTW9kZWw+IHtcclxuICBzdGF0aWMgbW9kZWw6IFN0aWNrZXJNb2RlbDtcclxuICBlbnF1ZXVlKGU/OiBhbnkpOiBhbnk7XHJcbiAgc2V0Q2hlY2tzdW0oZT86IGFueSk6IGFueTtcclxuICBzeW5jKGU/OiBhbnkpOiBhbnk7XHJcbiAgaXNTeW5jZWQoKTogYm9vbGVhbjtcclxufVxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBSZWNlbnRTdGlja2VyQ29sbGVjdGlvbjogW1xyXG4gICAgICAnUmVjZW50U3RpY2tlckNvbGxlY3Rpb25JbXBsJyxcclxuICAgICAgJ1JlY2VudFN0aWNrZXJDb2xsZWN0aW9uJyxcclxuICAgIF0sXHJcbiAgfSxcclxuICAobSkgPT4gbS5SZWNlbnRTdGlja2VyQ29sbGVjdGlvbkltcGwgfHwgbS5SZWNlbnRTdGlja2VyQ29sbGVjdGlvblxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IE1zZ01vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuaW1wb3J0IHsgQ29sbGVjdGlvbiB9IGZyb20gJy4vQ29sbGVjdGlvbic7XHJcblxyXG4vKiogQHdoYXRzYXBwIDE5MDExXHJcbiAqIEB3aGF0c2FwcCA3MTkwMTEgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIFN0YXJyZWRNc2dDb2xsZWN0aW9uIGV4dGVuZHMgQ29sbGVjdGlvbjxNc2dNb2RlbD4ge1xyXG4gIHN0YXRpYyBtb2RlbDogTXNnTW9kZWw7XHJcbiAgc3luY1Byb21pc2U/OiBhbnk7XHJcbiAgaXNTeW5jZWQ6IGJvb2xlYW47XHJcbiAgcHJvY2VzcyhlPzogYW55LCB0PzogYW55LCByPzogYW55LCBhPzogYW55KTogYW55O1xyXG4gIHN5bmMoZT86IGFueSk6IGFueTtcclxuICB1cGRhdGVNc2dzKGU/OiBhbnksIHQ/OiBhbnksIHI/OiBhbnkpOiBhbnk7XHJcbiAgc3RhdGljIGNvbXBhcmF0b3IoKTogYW55O1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIFN0YXJyZWRNc2dDb2xsZWN0aW9uOiBbJ1N0YXJyZWRNc2dDb2xsZWN0aW9uSW1wbCcsICdTdGFycmVkTXNnQ29sbGVjdGlvbiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uU3RhcnJlZE1zZ0NvbGxlY3Rpb25JbXBsIHx8IG0uU3RhcnJlZE1zZ0NvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuaW1wb3J0IHsgU3RhdHVzTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBCYXNlQ29sbGVjdGlvbiB9IGZyb20gJy4nO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA0NjEzM1xyXG4gKiBAd2hhdHNhcHAgV0FXZWJUZXh0U3RhdHVzQ29sbGVjdGlvbiA+PSAyLjMwMDAuMTAxMzAxMDkwOFxyXG4gKiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBTdGF0dXNDb2xsZWN0aW9uIGV4dGVuZHMgQmFzZUNvbGxlY3Rpb248U3RhdHVzTW9kZWw+IHtcclxuICBzdGF0aWMgbW9kZWw6IFN0YXR1c01vZGVsO1xyXG4gIHN0YXRpYyBpZENsYXNzOiB0eXBlb2YgV2lkO1xyXG4gIHN0YXRpYyBzdGFsZUNvbGxlY3Rpb24/OiBhbnk7XHJcbiAgc3RhdGljIHJlc3VtZU9uQXZhaWxhYmxlPzogYW55O1xyXG59XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBTdGF0dXNDb2xsZWN0aW9uOiBbJ1RleHRTdGF0dXNDb2xsZWN0aW9uSW1wbCcsICdUZXh0U3RhdHVzQ29sbGVjdGlvbiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uVGV4dFN0YXR1c0NvbGxlY3Rpb25JbXBsIHx8IG0uVGV4dFN0YXR1c0NvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBSYXdNZXNzYWdlIH0gZnJvbSAnLi4vLi4vY2hhdCc7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5pbXBvcnQgeyBTdGF0dXNWM01vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuaW1wb3J0IHsgQmFzZUNvbGxlY3Rpb24gfSBmcm9tICcuJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgNTkzODdcclxuICogQHdoYXRzYXBwIDQ1OTM4NyA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgU3RhdHVzVjNDb2xsZWN0aW9uIGV4dGVuZHMgQmFzZUNvbGxlY3Rpb248U3RhdHVzVjNNb2RlbD4ge1xyXG4gIHN0YXRpYyBtb2RlbDogU3RhdHVzVjNNb2RlbDtcclxuICBsb2FkTW9yZShlPzogYW55LCB0PzogYW55LCByPzogYW55KTogYW55O1xyXG4gIHN5bmMoZT86IGFueSk6IGFueTtcclxuICBsb2dNZXRyaWNzKGU/OiBhbnkpOiBhbnk7XHJcbiAgaGFzU3luY2VkKCk6IGJvb2xlYW47XHJcbiAgaGFuZGxlVXBkYXRlKHJhd01zZz86IFJhd01lc3NhZ2UsIGNoZWNrc3VtPzogYW55LCBpc01zZ1VwZGF0ZT86IGJvb2xlYW4pOiBhbnk7XHJcbiAgdXBkYXRlQ2hlY2tzdW0oZT86IGFueSk6IGFueTtcclxuICBhZGRTdGF0dXNNZXNzYWdlcyh3aWQ6IFdpZCwgbXNnczogUmF3TWVzc2FnZVtdKTogYW55O1xyXG4gIGdldFVuZXhwaXJlZChlPzogYW55KTogYW55O1xyXG4gIGdldE15U3RhdHVzKCk6IFN0YXR1c1YzTW9kZWw7XHJcbiAgc3RhdGljIGNvbXBhcmF0b3IoKTogYW55O1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIFN0YXR1c1YzQ29sbGVjdGlvbjogW1xyXG4gICAgICAnU3RhdHVzVjNDb2xsZWN0aW9uSW1wbCcsXHJcbiAgICAgICdTdGF0dXNDb2xsZWN0aW9uSW1wbCcsXHJcbiAgICAgICdTdGF0dXNDb2xsZWN0aW9uJyxcclxuICAgIF0sXHJcbiAgfSxcclxuICAobSkgPT5cclxuICAgIG0uU3RhdHVzVjNDb2xsZWN0aW9uSW1wbCB8fFxyXG4gICAgbS5TdGF0dXNWM0NvbGxlY3Rpb24gfHxcclxuICAgIG0uU3RhdHVzQ29sbGVjdGlvbkltcGwgfHxcclxuICAgIG0uU3RhdHVzQ29sbGVjdGlvblxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFN0aWNrZXJNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IENvbGxlY3Rpb24gfSBmcm9tICcuL0NvbGxlY3Rpb24nO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA2Nzk2M1xyXG4gKiBAd2hhdHNhcHAgNzY3OTYzID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBTdGlja2VyQ29sbGVjdGlvbiBleHRlbmRzIENvbGxlY3Rpb248U3RpY2tlck1vZGVsPiB7XHJcbiAgc3RhdGljIG1vZGVsOiBTdGlja2VyTW9kZWw7XHJcbiAgZmV0Y2goKTogYW55O1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHsgU3RpY2tlckNvbGxlY3Rpb246ICdTdGlja2VyQ29sbGVjdGlvbkltcGwnIH0sXHJcbiAgKG0pID0+IG0uU3RpY2tlckNvbGxlY3Rpb25JbXBsIHx8IG0uU3RpY2tlckNvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBTdGlja2VyUGFja01vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuaW1wb3J0IHsgQ29sbGVjdGlvbiB9IGZyb20gJy4vQ29sbGVjdGlvbic7XHJcblxyXG4vKiogQHdoYXRzYXBwIDQ0MzMzXHJcbiAqIEB3aGF0c2FwcCA2NjI5OSA+PSAyLjIyMTIuOFxyXG4gKiBAd2hhdHNhcHAgMzY2Mjk5ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBTdGlja2VyUGFja0NvbGxlY3Rpb24gZXh0ZW5kcyBDb2xsZWN0aW9uPFN0aWNrZXJQYWNrTW9kZWw+IHtcclxuICBzdGF0aWMgbW9kZWw6IFN0aWNrZXJQYWNrTW9kZWw7XHJcbiAgY2hlY2tzdW0/OiBhbnk7XHJcbiAgcGFnZUZldGNoU3RhdGVzPzogYW55O1xyXG4gIGNyZWF0ZVBsYWNlaG9sZGVyKGU/OiBhbnkpOiBTdGlja2VyUGFja01vZGVsO1xyXG4gIHByZUZldGNoKCk6IGFueTtcclxuICBmZXRjaEF0KGU/OiBhbnksIHQ/OiBhbnksIHI/OiBhbnkpOiBhbnk7XHJcbiAgaGFzRmV0Y2hlZERhdGEoKTogYm9vbGVhbjtcclxuICBpc0ZldGNoaW5nRGF0YSgpOiBib29sZWFuO1xyXG4gIHBhZ2VXaXRoSW5kZXgoZT86IGFueSk6IGFueTtcclxuICBzeW5jKGU/OiBhbnkpOiBhbnk7XHJcbiAgc2V0Q2hlY2tzdW0oZT86IGFueSwgdD86IGFueSk6IGFueTtcclxuICBzdGF0aWMgY29tcGFyYXRvcigpOiBhbnk7XHJcbn1cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgU3RpY2tlclBhY2tDb2xsZWN0aW9uOiBbXHJcbiAgICAgICdTdGlja2VyUGFja0NvbGxlY3Rpb25JbXBsJyxcclxuICAgICAgJ1N0aWNrZXJQYWNrQ29sbGVjdGlvbicsXHJcbiAgICBdLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uU3RpY2tlclBhY2tDb2xsZWN0aW9uSW1wbCB8fCBtLlN0aWNrZXJQYWNrQ29sbGVjdGlvblxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFN0aWNrZXJNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IENvbGxlY3Rpb24gfSBmcm9tICcuL0NvbGxlY3Rpb24nO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA0NTA2OFxyXG4gKiBAd2hhdHNhcHAgNTQ1MDY4ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBTdGlja2VyU2VhcmNoQ29sbGVjdGlvbiBleHRlbmRzIENvbGxlY3Rpb248U3RpY2tlck1vZGVsPiB7XHJcbiAgc3RhdGljIG1vZGVsOiBTdGlja2VyTW9kZWw7XHJcbiAgaXNGZXRjaGluZ0RhdGEoKTogYm9vbGVhbjtcclxuICBoYXNGZXRjaGVkRGF0YSgpOiBib29sZWFuO1xyXG4gIHNldFN0YXJ0RmV0Y2hpbmcoKTogYW55O1xyXG4gIHNldFN0b3BGZXRjaGluZygpOiBhbnk7XHJcbiAgc2VhcmNoKGU/OiBhbnkpOiBhbnk7XHJcbiAgc2VhcmNoTW9vZChlPzogYW55KTogYW55O1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIFN0aWNrZXJTZWFyY2hDb2xsZWN0aW9uOiBbXHJcbiAgICAgICdTdGlja2VyU2VhcmNoQ29sbGVjdGlvbkltcGwnLFxyXG4gICAgICAnU3RpY2tlclNlYXJjaENvbGxlY3Rpb24nLFxyXG4gICAgXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLlN0aWNrZXJTZWFyY2hDb2xsZWN0aW9uSW1wbCB8fCBtLlN0aWNrZXJTZWFyY2hDb2xsZWN0aW9uXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgVGVtcGxhdGVCdXR0b25Nb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IENvbGxlY3Rpb24gfSBmcm9tICcuL0NvbGxlY3Rpb24nO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA4Mjk4OFxyXG4gKiBAd2hhdHNhcHAgNjgyOTg4ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBUZW1wbGF0ZUJ1dHRvbkNvbGxlY3Rpb24gZXh0ZW5kcyBDb2xsZWN0aW9uPFRlbXBsYXRlQnV0dG9uTW9kZWw+IHtcclxuICBzdGF0aWMgbW9kZWw6IFRlbXBsYXRlQnV0dG9uTW9kZWw7XHJcbiAgc3RhdGljIGNvbXBhcmF0b3IoKTogYW55O1xyXG59XHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIFRlbXBsYXRlQnV0dG9uQ29sbGVjdGlvbjogJ1RlbXBsYXRlQnV0dG9uQ29sbGVjdGlvbicsXHJcbiAgfSxcclxuICAobSkgPT4gbS5UZW1wbGF0ZUJ1dHRvbkNvbGxlY3Rpb25JbXBsIHx8IG0uVGVtcGxhdGVCdXR0b25Db2xsZWN0aW9uXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9BZ2dSZWFjdGlvbnNDb2xsZWN0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9CYXNlQ29sbGVjdGlvbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vQmxvY2tsaXN0Q29sbGVjdGlvbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vQm90UHJvZmlsZUNvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL0J1c2luZXNzQ2F0ZWdvcmllc1Jlc3VsdENvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL0J1c2luZXNzUHJvZmlsZUNvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL0J1dHRvbkNvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL0NhbGxDb2xsZWN0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9DYXJ0Q29sbGVjdGlvbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vQ2FydEl0ZW1Db2xsZWN0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9DYXRhbG9nQ29sbGVjdGlvbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vQ2hhdENvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL0NoYXRzdGF0ZUNvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL0NvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL0NvbnRhY3RDb2xsZWN0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9Db250YWN0Q29sbGVjdGlvbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vQ29udGFjdENvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL0Vtb2ppVmFyaWFudENvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL0dyb3VwTWV0YWRhdGFDb2xsZWN0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9MYWJlbENvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL0xhYmVsSXRlbUNvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL01zZ0NvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL01zZ0luZm9Db2xsZWN0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9Nc2dJbmZvUGFydGljaXBhbnRDb2xsZWN0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9NdXRlQ29sbGVjdGlvbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vTm90ZUNvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL09yZGVyQ29sbGVjdGlvbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vT3JkZXJJdGVtQ29sbGVjdGlvbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vUGFydGljaXBhbnRDb2xsZWN0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9QaW5JbkNoYXRDb2xsZWN0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9QcmVzZW5jZUNvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL1Byb2R1Y3RDb2xsQ29sbGVjdGlvbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vUHJvZHVjdENvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL1Byb2R1Y3RJbWFnZUNvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL1Byb2R1Y3RNZXNzYWdlTGlzdENvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL1Byb2ZpbGVQaWNUaHVtYkNvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL1F1aWNrUmVwbHlDb2xsZWN0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9SZWFjdGlvbnNDb2xsZWN0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9SZWFjdGlvbnNTZW5kZXJzQ29sbGVjdGlvbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vUmVjZW50RW1vamlDb2xsZWN0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9SZWNlbnRTdGlja2VyQ29sbGVjdGlvbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vU3RhcnJlZE1zZ0NvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL1N0YXR1c0NvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL1N0YXR1c1YzQ29sbGVjdGlvbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vU3RpY2tlckNvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL1N0aWNrZXJQYWNrQ29sbGVjdGlvbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vU3RpY2tlclNlYXJjaENvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL1RlbXBsYXRlQnV0dG9uQ29sbGVjdGlvbic7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiAgQHdoYXRzYXBwIDgzMTkxNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY29uc3QgRFJPUF9BVFRSOiBhbnk7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBEUk9QX0FUVFI6IFsnRFJPUF9BVFRSJ10sXHJcbiAgfSxcclxuICAobSkgPT4gbS5EUk9QX0FUVFJcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqICBAd2hhdHNhcHAgODMxOTE0XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBTQU5JVElaRURfVkVSU0lPTl9TVFI6IHN0cmluZztcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIFNBTklUSVpFRF9WRVJTSU9OX1NUUjogWydTQU5JVElaRURfVkVSU0lPTl9TVFInXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLlNBTklUSVpFRF9WRVJTSU9OX1NUUlxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCAqIGZyb20gJy4vRFJPUF9BVFRSJztcclxuZXhwb3J0ICogZnJvbSAnLi9TQU5JVElaRURfVkVSU0lPTl9TVFInO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKiogQHdoYXRzYXBwIDM1NDcwXHJcbiAqIEB3aGF0c2FwcCA2OTYxOCA+PSAyLjIyMDQuMTNcclxuICogQHdoYXRzYXBwIDUzNTQ3MCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZW51bSBBQ0sge1xyXG4gIE1EX0RPV05HUkFERSA9IC03LFxyXG4gIElOQUNUSVZFID0gLTYsXHJcbiAgQ09OVEVOVF9VTlVQTE9BREFCTEUgPSAtNSxcclxuICBDT05URU5UX1RPT19CSUcgPSAtNCxcclxuICBDT05URU5UX0dPTkUgPSAtMyxcclxuICBFWFBJUkVEID0gLTIsXHJcbiAgRkFJTEVEID0gLTEsXHJcbiAgQ0xPQ0sgPSAwLFxyXG4gIFNFTlQgPSAxLFxyXG4gIFJFQ0VJVkVEID0gMixcclxuICBSRUFEID0gMyxcclxuICBQTEFZRUQgPSA0LFxyXG4gIFBFRVIgPSA1LFxyXG59XHJcblxyXG4vKiogQHdoYXRzYXBwIDM1NDcwXHJcbiAqIEB3aGF0c2FwcCA2OTYxOCA+PSAyLjIyMDQuMTNcclxuICogQHdoYXRzYXBwIDUzNTQ3MCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZW51bSBFRElUX0FUVFIge1xyXG4gIFNFTkRFUl9SRVZPS0UgPSA3LFxyXG4gIEFETUlOX1JFVk9LRSA9IDgsXHJcbn1cclxuXHJcbi8qKiBAd2hhdHNhcHAgMzU0NzBcclxuICogQHdoYXRzYXBwIDY5NjE4ID49IDIuMjIwNC4xM1xyXG4gKiBAd2hhdHNhcHAgNTM1NDcwID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBlbnVtIEFDS19TVFJJTkcge1xyXG4gIFNFTkRFUiA9ICdzZW5kZXInLFxyXG4gIERFTElWRVJZID0gJ2RlbGl2ZXJ5JyxcclxuICBSRUFEID0gJ3JlYWQnLFxyXG4gIFBMQVlFRCA9ICdwbGF5ZWQnLFxyXG4gIElOQUNUSVZFID0gJ2luYWN0aXZlJyxcclxuICBSRUFEX1NFTEYgPSAncmVhZC1zZWxmJyxcclxuICBQTEFZRURfU0VMRiA9ICdwbGF5ZWQtc2VsZicsXHJcbn1cclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIEFDSzogWydBQ0snLCAnZGVmYXVsdC5BQ0snXSxcclxuICAgIEVESVRfQVRUUjogWydFRElUX0FUVFInLCAnZGVmYXVsdC5FRElUX0FUVFInXSxcclxuICAgIEFDS19TVFJJTkc6IFsnQUNLX1NUUklORycsICdkZWZhdWx0LkFDS19TVFJJTkcnXSxcclxuICB9LFxyXG4gIChtKSA9PiAobS5BQ0sgJiYgbS5BQ0tfU1RSSU5HKSB8fCAobS5kZWZhdWx0LkFDSyAmJiBtLmRlZmF1bHQuQUNLX1NUUklORylcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA0OTgzNVxyXG4gKiBAd2hhdHNhcHAgNzQ5ODM1ID49IDIuMjIyMi44XHJcbiAqIEB3aGF0c2FwcCA4NzMyOTcgPj0gMi4yMjMwLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGVudW0gQ0FMTF9TVEFURVMge1xyXG4gIElOQ09NSU5HX1JJTkcgPSAnSU5DT01JTkdfUklORycsXHJcbiAgT1VUR09JTkdfUklORyA9ICdPVVRHT0lOR19SSU5HJyxcclxuICBPVVRHT0lOR19DQUxMSU5HID0gJ09VVEdPSU5HX0NBTExJTkcnLFxyXG4gIENPTk5FQ1RJTkcgPSAnQ09OTkVDVElORycsXHJcbiAgQ09OTkVDVElPTl9MT1NUID0gJ0NPTk5FQ1RJT05fTE9TVCcsXHJcbiAgQUNUSVZFID0gJ0FDVElWRScsXHJcbiAgSEFORExFRF9SRU1PVEVMWSA9ICdIQU5ETEVEX1JFTU9URUxZJyxcclxuICBFTkRFRCA9ICdFTkRFRCcsXHJcbiAgUkVKRUNURUQgPSAnUkVKRUNURUQnLFxyXG4gIFJFTU9URV9DQUxMX0lOX1BST0dSRVNTID0gJ1JFTU9URV9DQUxMX0lOX1BST0dSRVNTJyxcclxuICBGQUlMRUQgPSAnRkFJTEVEJyxcclxuICBOT1RfQU5TV0VSRUQgPSAnTk9UX0FOU1dFUkVEJyxcclxufVxyXG5cclxuZXhwb3J0IGRlY2xhcmUgZW51bSBDQUxMX1NUQVRFUyB7XHJcbiAgTm9uZSA9IDAsXHJcbiAgQ2FsbGluZyA9IDEsXHJcbiAgUHJlYWNjZXB0UmVjZWl2ZWQgPSAyLFxyXG4gIFJlY2VpdmVkQ2FsbCA9IDMsXHJcbiAgQWNjZXB0U2VudCA9IDQsXHJcbiAgQWNjZXB0UmVjZWl2ZWQgPSA1LFxyXG4gIENhbGxBY3RpdmUgPSA2LFxyXG4gIENhbGxBY3RpdmVFbHNlV2hlcmUgPSA3LFxyXG4gIFJlY2VpdmVkQ2FsbFdpdGhvdXRPZmZlciA9IDgsXHJcbiAgUmVqb2luaW5nID0gOSxcclxuICBMaW5rID0gMTAsXHJcbiAgQ29ubmVjdGVkTG9uZWx5ID0gMTEsXHJcbiAgUHJlQ2FsbGluZyA9IDEyLFxyXG4gIENhbGxTdGF0ZUVuZGluZyA9IDEzLFxyXG4gIENhbGxCQ2FsbFN0YXJ0aW5nID0gMTQsXHJcbn1cclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIENBTExfU1RBVEVTOiBbJ0NBTExfU1RBVEVTJywgJ0NhbGxTdGF0ZSddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uQ0FMTF9TVEFURVMgfHwgbS5DYWxsU3RhdGVcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCAxMjM4MFxyXG4gKiBAd2hhdHNhcHAgNjk2MTggPj0gMi4yMjA0LjEzXHJcbiAqIEB3aGF0c2FwcCAzMTIzODAgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGVudW0gR1JPVVBfU0VUVElOR19UWVBFIHtcclxuICBBTk5PVU5DRU1FTlQgPSAnYW5ub3VuY2VtZW50JyxcclxuICBSRVNUUklDVCA9ICdyZXN0cmljdCcsXHJcbiAgTk9fRlJFUVVFTlRMWV9GT1JXQVJERUQgPSAnbm9fZnJlcXVlbnRseV9mb3J3YXJkZWQnLFxyXG4gIEVQSEVNRVJBTCA9ICdlcGhlbWVyYWwnLFxyXG59XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBHUk9VUF9TRVRUSU5HX1RZUEU6IFsnR1JPVVBfU0VUVElOR19UWVBFJywgJ2RlZmF1bHQuR1JPVVBfU0VUVElOR19UWVBFJ10sXHJcbiAgfSxcclxuICAobSkgPT4gbS5HUk9VUF9TRVRUSU5HX1RZUEUgfHwgbS5kZWZhdWx0LkdST1VQX1NFVFRJTkdfVFlQRVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDk4MjAxNVxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZW51bSBLSUNfRU5UUllfUE9JTlRfVFlQRSB7XHJcbiAgQ0hBVF9JTkZPID0gMSxcclxuICBTRUFSQ0ggPSAyLFxyXG4gIENIQVQgPSAzLFxyXG4gIE1FRElBID0gNCxcclxuICBET0NTID0gNSxcclxuICBMSU5LUyA9IDYsXHJcbn1cclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIEtJQ19FTlRSWV9QT0lOVF9UWVBFOiAnS0lDX0VOVFJZX1BPSU5UX1RZUEUnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uS0lDX0VOVFJZX1BPSU5UX1RZUEVcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA4MzU3OFxyXG4gKiBAd2hhdHNhcHAgODg5NTAgPj0gMi4yMjE4LjRcclxuICogQHdoYXRzYXBwIDc4ODk1MCA+PSAyLjIyMjIuOFxyXG4gKiBAd2hhdHNhcHAgV0FXZWJMb2dvdXRSZWFzb25Db25zdGFudHMgPj0gMi4zMDAwLnhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGVudW0gTG9nb3V0UmVhc29uIHtcclxuICBVc2VySW5pdGlhdGVkID0gJ3VzZXJfaW5pdGlhdGVkJyxcclxuICBTeW5jZEZhaWx1cmUgPSAnc3luY2RfZmFpbHVyZScsXHJcbiAgSW52YWxpZEFkdlN0YXR1cyA9ICdpbnZhbGlkX2Fkdl9zdGF0dXMnLFxyXG4gIENyaXRpY2FsU3luY1RpbWVvdXQgPSAnY3JpdGljYWxfc3luY190aW1lb3V0JyxcclxuICBTeW5jZFRpbWVvdXQgPSAnc3luY2RfdGltZW91dCcsXHJcbiAgSGlzdG9yeVN5bmNUaW1lb3V0ID0gJ2hpc3Rvcnlfc3luY190aW1lb3V0JyxcclxuICBBY2NvdW50U3luY1RpbWVvdXQgPSAnYWNjb3VudF9zeW5jX3RpbWVvdXQnLFxyXG4gIE1ET3B0T3V0ID0gJ21kX29wdF9vdXQnLFxyXG4gIFVua25vd25Db21wYW5pb24gPSAndW5rbm93bl9jb21wYW5pb24nLFxyXG4gIENsaWVudFZlcnNpb25PdXRkYXRlZCA9ICdjbGllbnRfdmVyc2lvbl9vdXRkYXRlZCcsXHJcbiAgU3luY2RFcnJvckR1cmluZ0Jvb3RzdHJhcCA9ICdzeW5jZF9lcnJvcl9kdXJpbmdfYm9vdHN0cmFwJyxcclxuICBBY2NvdW50U3luY0Vycm9yID0gJ2FjY291bnRfc3luY19lcnJvcicsXHJcbiAgQ2xpZW50RmF0YWxFcnJvciA9ICdjbGllbnRfZmF0YWxfZXJyb3InLFxyXG4gIFN0b3JhZ2VRdW90YUV4Y2VlZGVkID0gJ3N0b3JhZ2VfcXVvdGFfZXhjZWVkZWQnLFxyXG4gIFByaW1hcnlJZGVudGl0eUtleUNoYW5nZSA9ICdwcmltYXJ5X2lkZW50aXR5X2tleV9jaGFuZ2UnLFxyXG4gIE1pc3NpbmdFbmNTYWx0ID0gJ21pc3NpbmdfZW5jX3NhbHQnLFxyXG4gIE1pc3NpbmdTY3JlZW5Mb2NrU2FsdCA9ICdtaXNzaW5nX3NjcmVlbl9sb2NrX3NhbHQnLFxyXG4gIEFjY291bnRMb2NrZWQgPSAnYWNjb3VudF9sb2NrZWQnLFxyXG4gIFVOS05PV04gPSAndW5rbm93bicsXHJcbn1cclxuXHJcbmV4cG9ydCBkZWNsYXJlIGVudW0gTE9HT1VUX1JFQVNPTl9DT0RFIHtcclxuICBDTElFTlRfRkFUQUwgPSAnMCcsXHJcbiAgU1lOQ19GQUlMID0gJzEnLFxyXG4gIElOSVRJQUxfSElTVE9SWV9TWU5DX1RJTUVPVVQgPSAnMicsXHJcbiAgQUNDT1VOVF9MT0NLRUQgPSAnMycsXHJcbn1cclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIExvZ291dFJlYXNvbjogJ0xvZ291dFJlYXNvbicsXHJcbiAgICBMT0dPVVRfUkVBU09OX0NPREU6ICdMT0dPVVRfUkVBU09OX0NPREUnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uTG9nb3V0UmVhc29uICYmIG0uTE9HT1VUX1JFQVNPTl9DT0RFXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgMTU0NjFcclxuICogQHdoYXRzYXBwIDY5NjE4ID49IDIuMjIwNC4xM1xyXG4gKiBAd2hhdHNhcHAgMTE1NDYxID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBlbnVtIE1TR19UWVBFIHtcclxuICBOT1RJRklDQVRJT04gPSAnbm90aWZpY2F0aW9uJyxcclxuICBOT1RJRklDQVRJT05fVEVNUExBVEUgPSAnbm90aWZpY2F0aW9uX3RlbXBsYXRlJyxcclxuICBHUk9VUF9OT1RJRklDQVRJT04gPSAnZ3JvdXBfbm90aWZpY2F0aW9uJyxcclxuICBHUDIgPSAnZ3AyJyxcclxuICBCUk9BRENBU1RfTk9USUZJQ0FUSU9OID0gJ2Jyb2FkY2FzdF9ub3RpZmljYXRpb24nLFxyXG4gIEUyRV9OT1RJRklDQVRJT04gPSAnZTJlX25vdGlmaWNhdGlvbicsXHJcbiAgQ0FMTF9MT0cgPSAnY2FsbF9sb2cnLFxyXG4gIFBST1RPQ09MID0gJ3Byb3RvY29sJyxcclxuICBDSEFUID0gJ2NoYXQnLFxyXG4gIExPQ0FUSU9OID0gJ2xvY2F0aW9uJyxcclxuICBQQVlNRU5UID0gJ3BheW1lbnQnLFxyXG4gIFZDQVJEID0gJ3ZjYXJkJyxcclxuICBDSVBIRVJURVhUID0gJ2NpcGhlcnRleHQnLFxyXG4gIE1VTFRJX1ZDQVJEID0gJ211bHRpX3ZjYXJkJyxcclxuICBSRVZPS0VEID0gJ3Jldm9rZWQnLFxyXG4gIE9WRVJTSVpFRCA9ICdvdmVyc2l6ZWQnLFxyXG4gIEdST1VQU19WNF9JTlZJVEUgPSAnZ3JvdXBzX3Y0X2ludml0ZScsXHJcbiAgSFNNID0gJ2hzbScsXHJcbiAgVEVNUExBVEVfQlVUVE9OX1JFUExZID0gJ3RlbXBsYXRlX2J1dHRvbl9yZXBseScsXHJcbiAgSU1BR0UgPSAnaW1hZ2UnLFxyXG4gIFZJREVPID0gJ3ZpZGVvJyxcclxuICBBVURJTyA9ICdhdWRpbycsXHJcbiAgUFRUID0gJ3B0dCcsXHJcbiAgU1RJQ0tFUiA9ICdzdGlja2VyJyxcclxuICBET0NVTUVOVCA9ICdkb2N1bWVudCcsXHJcbiAgUFJPRFVDVCA9ICdwcm9kdWN0JyxcclxuICBPUkRFUiA9ICdvcmRlcicsXHJcbiAgTElTVCA9ICdsaXN0JyxcclxuICBJTlRFUkFDVElWRSA9ICdpbnRlcmFjdGl2ZScsXHJcbiAgTElTVF9SRVNQT05TRSA9ICdsaXN0X3Jlc3BvbnNlJyxcclxuICBCVVRUT05TX1JFU1BPTlNFID0gJ2J1dHRvbnNfcmVzcG9uc2UnLFxyXG4gIFJFQUNUSU9OID0gJ3JlYWN0aW9uJyxcclxuICBOQVRJVkVfRkxPVyA9ICduYXRpdmVfZmxvdycsXHJcbiAgVU5LTk9XTiA9ICd1bmtub3duJyxcclxufVxyXG5cclxuLyoqIEB3aGF0c2FwcCAxNTQ2MVxyXG4gKiBAd2hhdHNhcHAgNjk2MTggPj0gMi4yMjA0LjEzXHJcbiAqIEB3aGF0c2FwcCAxMTU0NjEgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNvbnN0IFNZU1RFTV9NRVNTQUdFX1RZUEVTOiBzdHJpbmdbXTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIE1TR19UWVBFOiBbJ01TR19UWVBFJywgJ2RlZmF1bHQuTVNHX1RZUEUnXSxcclxuICAgIFNZU1RFTV9NRVNTQUdFX1RZUEVTOiBbXHJcbiAgICAgICdTWVNURU1fTUVTU0FHRV9UWVBFUycsXHJcbiAgICAgICdkZWZhdWx0LlNZU1RFTV9NRVNTQUdFX1RZUEVTJyxcclxuICAgIF0sXHJcbiAgfSxcclxuICAobSkgPT4gbS5NU0dfVFlQRSB8fCBtLmRlZmF1bHQuTVNHX1RZUEVcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA1ODY2OCAqL1xyXG5leHBvcnQgZGVjbGFyZSBlbnVtIE9VVFdBUkRfVFlQRVMge1xyXG4gIElNQUdFID0gJ2ltYWdlJyxcclxuICBWSURFTyA9ICd2aWRlbycsXHJcbiAgQVVESU8gPSAnYXVkaW8nLFxyXG4gIFBUVCA9ICdwdHQnLFxyXG4gIFBUViA9ICdwdHYnLFxyXG4gIFNUSUNLRVIgPSAnc3RpY2tlcicsXHJcbiAgRE9DVU1FTlQgPSAnZG9jdW1lbnQnLFxyXG4gIFBST0RVQ1QgPSAncHJvZHVjdCcsXHJcbiAgVU5LTk9XTiA9ICd1bmtub3duJyxcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgT1VUV0FSRF9UWVBFUzogJ09VVFdBUkRfVFlQRVMnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uT1VUV0FSRF9UWVBFU1xyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKiogQHdoYXRzYXBwIFdBV2ViUGluTXNnQ29uc3RhbnRzID49IDIuMzAwMC4xMDEyMTcwOTQzXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBlbnVtIFBJTl9TVEFURSB7XHJcbiAgSU5WQUxJRCA9IDAsXHJcbiAgUElOID0gMSxcclxuICBVTlBJTiA9IDIsXHJcbn1cclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIFBJTl9TVEFURTogJ1BJTl9TVEFURScsXHJcbiAgfSxcclxuICAobSkgPT4gbS5QSU5fU1RBVEVcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA2MjU4MyAqL1xyXG5leHBvcnQgZGVjbGFyZSBlbnVtIFNPQ0tFVF9TVEFURSB7XHJcbiAgT1BFTklORyA9ICdPUEVOSU5HJyxcclxuICBQQUlSSU5HID0gJ1BBSVJJTkcnLFxyXG4gIFVOUEFJUkVEID0gJ1VOUEFJUkVEJyxcclxuICBVTlBBSVJFRF9JRExFID0gJ1VOUEFJUkVEX0lETEUnLFxyXG4gIENPTk5FQ1RFRCA9ICdDT05ORUNURUQnLFxyXG4gIFRJTUVPVVQgPSAnVElNRU9VVCcsXHJcbiAgQ09ORkxJQ1QgPSAnQ09ORkxJQ1QnLFxyXG4gIFVOTEFVTkNIRUQgPSAnVU5MQVVOQ0hFRCcsXHJcbiAgUFJPWFlCTE9DSyA9ICdQUk9YWUJMT0NLJyxcclxuICBUT1NfQkxPQ0sgPSAnVE9TX0JMT0NLJyxcclxuICBTTUJfVE9TX0JMT0NLID0gJ1NNQl9UT1NfQkxPQ0snLFxyXG4gIERFUFJFQ0FURURfVkVSU0lPTiA9ICdERVBSRUNBVEVEX1ZFUlNJT04nLFxyXG59XHJcblxyXG4vKiogQHdoYXRzYXBwIDYyNTgzICovXHJcbmV4cG9ydCBkZWNsYXJlIGVudW0gU09DS0VUX1NUUkVBTSB7XHJcbiAgRElTQ09OTkVDVEVEID0gJ0RJU0NPTk5FQ1RFRCcsXHJcbiAgU1lOQ0lORyA9ICdTWU5DSU5HJyxcclxuICBSRVNVTUlORyA9ICdSRVNVTUlORycsXHJcbiAgQ09OTkVDVEVEID0gJ0NPTk5FQ1RFRCcsXHJcbn1cclxuXHJcbi8qKiBAd2hhdHNhcHAgNjI1ODMgKi9cclxuZXhwb3J0IGRlY2xhcmUgZW51bSBXQVRDSEVEX1NPQ0tFVF9TVEFURSB7XHJcbiAgT1BFTiA9ICdPUEVOJyxcclxuICBDTE9TRUQgPSAnQ0xPU0VEJyxcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgU09DS0VUX1NUQVRFOiBbJ1NPQ0tFVF9TVEFURScsICdkZWZhdWx0LlNPQ0tFVF9TVEFURSddLFxyXG4gICAgU09DS0VUX1NUUkVBTTogWydTT0NLRVRfU1RSRUFNJywgJ2RlZmF1bHQuU09DS0VUX1NUUkVBTSddLFxyXG4gICAgV0FUQ0hFRF9TT0NLRVRfU1RBVEU6IFtcclxuICAgICAgJ1dBVENIRURfU09DS0VUX1NUQVRFJyxcclxuICAgICAgJ2RlZmF1bHQuV0FUQ0hFRF9TT0NLRVRfU1RBVEUnLFxyXG4gICAgXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLlNPQ0tFVF9TVEFURSB8fCBtLmRlZmF1bHQuU09DS0VUX1NUQVRFXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgMTM3MDVcclxuICogQHdoYXRzYXBwIDQxMzcwNSA+PSAyLjIyMjIuOFxyXG4gKiBAd2hhdHNhcHAgMjA1NTEgPj0gMi4yMjI4LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGVudW0gU2VuZE1zZ1Jlc3VsdCB7XHJcbiAgT0sgPSAnT0snLFxyXG4gIEVSUk9SX05FVFdPUksgPSAnRVJST1JfTkVUV09SSycsXHJcbiAgRVJST1JfRVhQSVJFRCA9ICdFUlJPUl9FWFBJUkVEJyxcclxuICBFUlJPUl9DQU5DRUxMRUQgPSAnRVJST1JfQ0FOQ0VMTEVEJyxcclxuICBFUlJPUl9VUExPQUQgPSAnRVJST1JfVVBMT0FEJyxcclxuICBFUlJPUl9VTktOT1dOID0gJ0VSUk9SX1VOS05PV04nLFxyXG59XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBTZW5kTXNnUmVzdWx0OiAnU2VuZE1zZ1Jlc3VsdCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5TZW5kTXNnUmVzdWx0XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9BQ0snO1xyXG5leHBvcnQgKiBmcm9tICcuL0NBTExfU1RBVEVTJztcclxuZXhwb3J0ICogZnJvbSAnLi9HUk9VUF9TRVRUSU5HX1RZUEUnO1xyXG5leHBvcnQgKiBmcm9tICcuL0tJQ19FTlRSWV9QT0lOVF9UWVAnO1xyXG5leHBvcnQgKiBmcm9tICcuL0xvZ291dFJlYXNvbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vTVNHX1RZUEUnO1xyXG5leHBvcnQgKiBmcm9tICcuL09VVFdBUkRfVFlQRVMnO1xyXG5leHBvcnQgKiBmcm9tICcuL1BJTl9TVEFURSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vU2VuZE1zZ1Jlc3VsdCc7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IERlYnVnIGZyb20gJ2RlYnVnJztcclxuXHJcbmltcG9ydCB7IHdyYXBTaG91bGRBcHBlYXJGdW5jdGlvbiB9IGZyb20gJy4uL2NoYXQvZnVuY3Rpb25zL3NldENoYXRMaXN0JztcclxuaW1wb3J0IHsgdHJhY2tFeGNlcHRpb24gfSBmcm9tICcuLi9ndGFnJztcclxuaW1wb3J0IHsgSW5mZXJBcmdzLCBJbmZlclJldHVybiwgd3JhcEZ1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbCc7XHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vd2VicGFjayc7XHJcblxyXG5jb25zdCBkZWJ1ZyA9IERlYnVnKCdXQS1KUzpleHBvcnQnKTtcclxuXHJcbmNsYXNzIEN1c3RvbVdlYWtNYXAgZXh0ZW5kcyBXZWFrTWFwPG9iamVjdCwgc3RyaW5nPiB7XHJcbiAgcHJvdGVjdGVkIHN0cmluZ01hcCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7XHJcblxyXG4gIGRlbGV0ZShrZXk6IG9iamVjdCB8IHN0cmluZykge1xyXG4gICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnN0cmluZ01hcC5kZWxldGUoa2V5KTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdXBlci5kZWxldGUoa2V5KTtcclxuICB9XHJcbiAgZ2V0KGtleTogb2JqZWN0IHwgc3RyaW5nKSB7XHJcbiAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nTWFwLmdldChrZXkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN1cGVyLmdldChrZXkpO1xyXG4gIH1cclxuICBoYXMoa2V5OiBvYmplY3QgfCBzdHJpbmcpIHtcclxuICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJykge1xyXG4gICAgICByZXR1cm4gdGhpcy5zdHJpbmdNYXAuaGFzKGtleSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3VwZXIuaGFzKGtleSk7XHJcbiAgfVxyXG4gIHNldChrZXk6IG9iamVjdCB8IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xyXG4gICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHRoaXMuc3RyaW5nTWFwLnNldChrZXksIHZhbHVlKTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBzdXBlci5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IG1vZHVsZUlkTWFwID0gbmV3IEN1c3RvbVdlYWtNYXAoKTtcclxuY29uc3QgZnVuY3Rpb25QYXRoTWFwID0gbmV3IEN1c3RvbVdlYWtNYXAoKTtcclxuXHJcbmV4cG9ydCBjb25zdCBfbW9kdWxlSWRNYXAgPSBtb2R1bGVJZE1hcDtcclxuXHJcbi8qKlxyXG4gKiBUaGUgb2JqZWN0IG9mIHRoaXMgZnVuY3Rpb24gaXMgdG8gb3ZlcnJpZGUgdGhlIGV4cG9ydHMgdG8gY3JlYXRlIGdldHRlcnMuXHJcbiAqXHJcbiAqIFlvdSBjYW4gZXhwb3J0IGEgc2luZ2xlIG1vZHVsZSBvciBzcGVjaWZpYyBmdW5jdGlvbnNcclxuICpcclxuICogTm90ZTogVG8gY3JlYXRlIGEgZG9jdW1lbnRlZCB0eXBlLCB5b3UgY2FuIHVzZSBgZXhwb3J0IGRlY2xhcmVgIHRvIGRlZmluZSB0eXBlcyBvbmx5XHJcbiAqXHJcbiAqIEBwYXJhbSBleHBvcnRzIFRoZSBleHBvcnRzIHZhcmlhYmxlXHJcbiAqIEBwYXJhbSBwcm9wZXJ0aWVzIEEgc2luZ2xlIG5hbWUgb3IgYSBtYXAgb2YgZXhwb3J0ZWQgZGF0YVxyXG4gKiBAcGFyYW0gY29uZGl0aW9uIFRoZSBzZWFjaCBjb25kaXRpb24gdG8gZmluZCB0aGUgbW9kdWxlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHM6IGFueSxcclxuICBwcm9wZXJ0aWVzOlxyXG4gICAgfCBzdHJpbmdcclxuICAgIHwge1xyXG4gICAgICAgIFtrZXk6IHN0cmluZ106IG51bGwgfCB1bmRlZmluZWQgfCBzdHJpbmcgfCBzdHJpbmdbXTtcclxuICAgICAgfSxcclxuICBjb25kaXRpb246IHdlYnBhY2suU2VhcmNoTW9kdWxlQ29uZGl0aW9uXHJcbik6IHZvaWQge1xyXG4gIGlmICh0eXBlb2YgcHJvcGVydGllcyA9PT0gJ3N0cmluZycpIHtcclxuICAgIHByb3BlcnRpZXMgPSB7XHJcbiAgICAgIFtwcm9wZXJ0aWVzXTogbnVsbCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmb3IgKGNvbnN0IG5hbWUgb2YgT2JqZWN0LmtleXMocHJvcGVydGllcykpIHtcclxuICAgIGNvbnN0IHByb3BlcnR5ID0gcHJvcGVydGllc1tuYW1lXTtcclxuXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xyXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgIGdldCgpIHtcclxuICAgICAgICBsZXQgdmFsdWVGbjogYW55ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGxldCBmdW5jdGlvblBhdGg6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgY29uc3QgbW9kdWxlSWQgPSB3ZWJwYWNrLnNlYXJjaElkKGNvbmRpdGlvbik7XHJcblxyXG4gICAgICAgIGlmICghbW9kdWxlSWQpIHtcclxuICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gYE1vZHVsZSAke25hbWV9IHdhcyBub3QgZm91bmQgd2l0aCAke2NvbmRpdGlvbi50b1N0cmluZygpfWA7XHJcblxyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBUaGVzZXMgbW9kdWxlcyBvbmx5IGxvYWRlZCBhZnRlciBkZXZpY2UgaXMgY29ubmVjdGVkXHJcbiAgICAgICAgICAgKiBJIGJlIGNyZWF0aW5nIG90aGVyIGZ1bmN0aW9uIGZvciBjaGVjayBleHBpcmVzIGJhc2VkIGRpcmVjdGlseSBmcm9tIGZpbGVzXHJcbiAgICAgICAgICAgKiBUaGlzIHdpbGwgbm90IGRpcmVjdGx5IGFmZmVjdCB0aGUgZnVuY3Rpb24gY2FsbCwgaXQgY29udGludWVzIHRvIHdvcmsgbm9ybWFsbHkuXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIGNvbnN0IGlnbm9yZUZhaWxNb2R1bGVzOiBzdHJpbmdbXSA9IFsncmV2b2tlU3RhdHVzJ107XHJcbiAgICAgICAgICBpZiAoIWlnbm9yZUZhaWxNb2R1bGVzLmluY2x1ZGVzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICB0cmFja0V4Y2VwdGlvbihkZXNjcmlwdGlvbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgbmFtZSwge1xyXG4gICAgICAgICAgICBnZXQ6ICgpID0+IHVuZGVmaW5lZCxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IHdlYnBhY2subG9hZE1vZHVsZShtb2R1bGVJZCk7XHJcblxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgZm9yIChjb25zdCBwIG9mIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIHZhbHVlRm4gPSAoKSA9PiBwLnNwbGl0KCcuJykucmVkdWNlKChhLCBiKSA9PiBhPy5bYl0sIG1vZHVsZSk7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZUZuKCkpIHtcclxuICAgICAgICAgICAgICBmdW5jdGlvblBhdGggPSBwO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoIXZhbHVlRm4oKSkge1xyXG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGBQcm9wZXJ0eSAke3Byb3BlcnR5LmpvaW4oXHJcbiAgICAgICAgICAgICAgJyBvciAnXHJcbiAgICAgICAgICAgICl9IHdhcyBub3QgZm91bmQgZm9yICR7bmFtZX0gaW4gbW9kdWxlICR7bW9kdWxlSWR9YDtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihkZXNjcmlwdGlvbik7XHJcbiAgICAgICAgICAgIHRyYWNrRXhjZXB0aW9uKGRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIG5hbWUsIHtcclxuICAgICAgICAgICAgICBnZXQ6ICgpID0+IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XHJcbiAgICAgICAgICAgICAgdmFsdWVGbiA9ICgpID0+XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS5zcGxpdCgnLicpLnJlZHVjZSgoYSwgYikgPT4gYT8uW2JdLCBtb2R1bGUpO1xyXG4gICAgICAgICAgICAgIGlmICghdmFsdWVGbigpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGBQcm9wZXJ0eSAke3Byb3BlcnR5fSB3YXMgbm90IGZvdW5kIGZvciAke25hbWV9IGluIG1vZHVsZSAke21vZHVsZUlkfWA7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgICAgIHRyYWNrRXhjZXB0aW9uKGRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBuYW1lLCB7XHJcbiAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBmdW5jdGlvblBhdGggPSBwcm9wZXJ0eTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICB2YWx1ZUZuID0gKCkgPT4gbW9kdWxlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQXZvaWQgcmUtc2VhcmNoaW5nIG1vZHVsZXNcclxuICAgICAgICBpZiAodmFsdWVGbikge1xyXG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIG5hbWUsIHtcclxuICAgICAgICAgICAgZ2V0OiB2YWx1ZUZuLFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZUZuKCk7XHJcbiAgICAgICAgICAgIG1vZHVsZUlkTWFwLnNldCh2YWx1ZSwgbW9kdWxlSWQpO1xyXG4gICAgICAgICAgICBpZiAoZnVuY3Rpb25QYXRoKSB7XHJcbiAgICAgICAgICAgICAgZnVuY3Rpb25QYXRoTWFwLnNldCh2YWx1ZSwgZnVuY3Rpb25QYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHZhbHVlRm4oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBuYW1lLCB7XHJcbiAgICAgICAgICBnZXQ6ICgpID0+IHVuZGVmaW5lZCxcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXhwb3J0UHJveHlNb2RlbChleHBvcnRzOiBhbnksIG5hbWU6IHN0cmluZykge1xyXG4gIGNvbnN0IGJhc2VOYW1lID0gbmFtZS5yZXBsYWNlKC9Nb2RlbCQvLCAnJyk7XHJcblxyXG4gIGNvbnN0IG5hbWVzOiBzdHJpbmdbXSA9IFtiYXNlTmFtZV07XHJcblxyXG4gIC8vIENoYXRNb2RlbCA9PiBcImNoYXRcIlxyXG4gIG5hbWVzLnB1c2goYmFzZU5hbWUucmVwbGFjZSgvXihcXHcpLywgKGwpID0+IGwudG9Mb3dlckNhc2UoKSkpO1xyXG5cclxuICAvLyBDYXJ0SXRlbU1vZGVsID0+IFwiY2FydC1pdGVtXCJcclxuICAvLyBQcm9kdWN0TGlzdE1vZGVsID0+IFwicHJvZHVjdF9saXN0XCJcclxuICBjb25zdCBwYXJ0cyA9IGJhc2VOYW1lLnNwbGl0KC8oPz1bQS1aXSkvKTtcclxuXHJcbiAgbmFtZXMucHVzaChwYXJ0cy5qb2luKCctJykudG9Mb3dlckNhc2UoKSk7XHJcbiAgbmFtZXMucHVzaChwYXJ0cy5qb2luKCdfJykudG9Mb3dlckNhc2UoKSk7XHJcblxyXG4gIGV4cG9ydE1vZHVsZShcclxuICAgIGV4cG9ydHMsXHJcbiAgICB7XHJcbiAgICAgIFtuYW1lXTogWydkZWZhdWx0JywgbmFtZSwgYmFzZU5hbWVdLFxyXG4gICAgfSxcclxuICAgIChtKSA9PlxyXG4gICAgICBuYW1lcy5pbmNsdWRlcyhcclxuICAgICAgICBtLmRlZmF1bHQ/LnByb3RvdHlwZT8ucHJveHlOYW1lIHx8XHJcbiAgICAgICAgICBtW25hbWVdPy5wcm90b3R5cGU/LnByb3h5TmFtZSB8fFxyXG4gICAgICAgICAgbVtiYXNlTmFtZV0/LnByb3RvdHlwZT8ucHJveHlOYW1lXHJcbiAgICAgIClcclxuICApO1xyXG59XHJcblxyXG4vKipcclxuICogV3JhcCBhIGV4cG9ydGVkIGZ1bmN0aW9uIGZyb20gYSBtb2R1bGVcclxuICpcclxuICogQHBhcmFtIGZ1bmMgVGhlIG9yaWdpbmFsIGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSBjYWxsYmFjayBBIGNhbGxiYWNrIHRvIHdyYXAgdGhlIGZ1bmN0aW9uXHJcbiAqIFxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGB0eXBlc2NyaXB0XHJcbiAqd3JhcE1vZHVsZUZ1bmN0aW9uKGNyZWF0ZU1zZ1Byb3RvYnVmLCAoZnVuYywgLi4uYXJncykgPT4ge1xyXG4gICBjb25zdCBbbWVzc2FnZV0gPSBhcmdzOyAvLyBFeHRyYWN0IGFyZ3VtZW50c1xyXG4gICBjb25zdCByZXN1bHQgPSBmdW5jKC4uLmFyZ3MpOyAvLyBDYWxsIHRoZSBvcmlnaW5hbCBmdW5jdGlvblxyXG4gICAvLyBMb2dpYyB0byBjaGFuZ2UgdGhlIHJlc3VsdFxyXG4gICByZXR1cm4gcmVzdWx0OyAvLyBUaGUgbmV3IHJldHVyblxyXG4gfSk7XHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBNb2R1bGVGdW5jdGlvbjxURnVuYyBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gYW55PihcclxuICBmdW5jOiBURnVuYyxcclxuICBjYWxsYmFjazogKGZ1bmM6IFRGdW5jLCAuLi5hcmdzOiBJbmZlckFyZ3M8VEZ1bmM+KSA9PiBJbmZlclJldHVybjxURnVuYz5cclxuKSB7XHJcbiAgaWYgKHR5cGVvZiBmdW5jICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdmdW5jIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCBtb2R1bGVJZCA9IF9tb2R1bGVJZE1hcC5nZXQoZnVuYyk7XHJcblxyXG4gIGlmICghbW9kdWxlSWQpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ2Z1bmMgaXMgbm90IGFuIGV4cG9ydGVkIGZ1bmN0aW9uJyk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCBtb2R1bGUgPSB3ZWJwYWNrLmxvYWRNb2R1bGUobW9kdWxlSWQpO1xyXG5cclxuICBjb25zdCBmdW5jdGlvblBhdGggPSBmdW5jdGlvblBhdGhNYXAuZ2V0KGZ1bmMpO1xyXG5cclxuICBpZiAoIWZ1bmN0aW9uUGF0aCkge1xyXG4gICAgY29uc29sZS5lcnJvcignZnVuY3Rpb24gcGF0aCB3YXMgbm90IGZvdW5kJyk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBkZWJ1Zy5leHRlbmQoJ3dyYXAnKShgV3JhcHBpbmcgJyR7ZnVuY3Rpb25QYXRofSBmb3IgbW9kdWxlICR7bW9kdWxlSWR9J2ApO1xyXG5cclxuICBjb25zdCBwYXJ0cyA9IGZ1bmN0aW9uUGF0aC5zcGxpdCgnLicpO1xyXG5cclxuICBjb25zdCBmdW5jdGlvbk5hbWUgPSBwYXJ0cy5wb3AoKTtcclxuXHJcbiAgaWYgKCFmdW5jdGlvbk5hbWUpIHtcclxuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gYGZ1bmN0aW9uIHdhcyBub3QgZm91bmQgaW4gdGhlIG1vZHVsZSAke21vZHVsZUlkfWA7XHJcbiAgICBjb25zb2xlLmVycm9yKGRlc2NyaXB0aW9uKTtcclxuICAgIHRyYWNrRXhjZXB0aW9uKGRlc2NyaXB0aW9uKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IGJhc2VNb2R1bGUgPSBwYXJ0cy5yZWR1Y2UoKGEsIGIpID0+IGE/LltiXSwgbW9kdWxlKTtcclxuICBpZiAoZnVuY3Rpb25OYW1lID09ICdnZXRTaG91bGRBcHBlYXJJbkxpc3QnKSB7XHJcbiAgICBiYXNlTW9kdWxlW2Z1bmN0aW9uTmFtZV0gPSB3cmFwU2hvdWxkQXBwZWFyRnVuY3Rpb24oXHJcbiAgICAgIGZ1bmMuYmluZChiYXNlTW9kdWxlKSBhcyBURnVuYyxcclxuICAgICAgY2FsbGJhY2tcclxuICAgICk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGJhc2VNb2R1bGVbZnVuY3Rpb25OYW1lXSA9IHdyYXBGdW5jdGlvbihcclxuICAgICAgZnVuYy5iaW5kKGJhc2VNb2R1bGUpIGFzIFRGdW5jLFxyXG4gICAgICBjYWxsYmFja1xyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIG1vZHVsZUlkTWFwLnNldChiYXNlTW9kdWxlW2Z1bmN0aW9uTmFtZV0sIG1vZHVsZUlkKTtcclxuICBmdW5jdGlvblBhdGhNYXAuc2V0KGJhc2VNb2R1bGVbZnVuY3Rpb25OYW1lXSwgZnVuY3Rpb25QYXRoKTtcclxufVxyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCAzNTU4MTNcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIEdST1VQX0pJRChqaWQ6IFdpZCk6IGFueTtcclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gQ0hBVF9KSUQoamlkOiBXaWQpOiBhbnk7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBHUk9VUF9KSUQ6ICdHUk9VUF9KSUQnLFxyXG4gICAgQ0hBVF9KSUQ6ICdDSEFUX0pJRCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5HUk9VUF9KSUQgJiYgbS5DSEFUX0pJRFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIFdBSmlkc1xyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY29uc3QgU1RBVFVTX0pJRDogc3RyaW5nO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgU1RBVFVTX0pJRDogJ1NUQVRVU19KSUQnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uU1RBVFVTX0pJRFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFNlbmRNc2dSZXN1bHQgfSBmcm9tICcuLi9lbnVtcyc7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsIE1zZ01vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgMzc1Mzk5XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBhZGRBbmRTZW5kTWVzc2FnZUVkaXQoXHJcbiAgZWRpdE1zZzogTXNnTW9kZWwsXHJcbiAgbWVzc2FnZTogTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxNc2dNb2RlbD5cclxuKTogUHJvbWlzZTxbUHJvbWlzZTxNc2dNb2RlbD4sIFByb21pc2U8U2VuZE1zZ1Jlc3VsdD5dPjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGFkZEFuZFNlbmRNZXNzYWdlRWRpdDogJ2FkZEFuZFNlbmRNZXNzYWdlRWRpdCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5hZGRBbmRTZW5kTWVzc2FnZUVkaXRcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTZW5kTXNnUmVzdWx0IH0gZnJvbSAnLi4vZW51bXMnO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBDaGF0TW9kZWwsIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsIE1zZ01vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgNzU4ODdcclxuICogQHdoYXRzYXBwIDk3NTg4NyA+PSAyLjIyMjIuOFxyXG4gKiBAd2hhdHNhcHAgNjIzNjMxID49IDIuMjIyOC40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBhZGRBbmRTZW5kTXNnVG9DaGF0KFxyXG4gIGNoYXQ6IENoYXRNb2RlbCxcclxuICBtZXNzYWdlOiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPE1zZ01vZGVsPlxyXG4pOiBQcm9taXNlPFtQcm9taXNlPE1zZ01vZGVsPiwgUHJvbWlzZTxTZW5kTXNnUmVzdWx0Pl0+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgYWRkQW5kU2VuZE1zZ1RvQ2hhdDogJ2FkZEFuZFNlbmRNc2dUb0NoYXQnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uYWRkQW5kU2VuZE1zZ1RvQ2hhdFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IE5vdGVNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG4vKiogQHdoYXRzYXBwIFdBV2ViTm90ZUFjdGlvblxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gYWRkT3JFZGl0Tm90ZUFjdGlvbihcclxuICBhdHRyczoge1xyXG4gICAgYWN0aW9uVHlwZTogJ2VkaXQnIHwgJ2FkZCc7XHJcbiAgICBjaGF0SmlkOiBzdHJpbmc7XHJcbiAgICBjb250ZW50OiBzdHJpbmc7XHJcbiAgICBjcmVhdGVkQXQ6IG51bWJlcjtcclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgICBub3RlVHlwZTogJ3Vuc3RydWN0dXJlZCc7XHJcbiAgfSxcclxuICBiOiBib29sZWFuXHJcbik6IFByb21pc2U8YW55PjtcclxuXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHJldHJpZXZlT25seU5vdGVGb3JDaGF0SmlkKFxyXG4gIGppZDogc3RyaW5nXHJcbik6IFByb21pc2U8bnVsbCB8IE5vdGVNb2RlbD47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBhZGRPckVkaXROb3RlQWN0aW9uOiAnYWRkT3JFZGl0Tm90ZUFjdGlvbicsXHJcbiAgICByZXRyaWV2ZU9ubHlOb3RlRm9yQ2hhdEppZDogJ3JldHJpZXZlT25seU5vdGVGb3JDaGF0SmlkJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmFkZE9yRWRpdE5vdGVBY3Rpb24gJiYgbS5yZXRyaWV2ZU9ubHlOb3RlRm9yQ2hhdEppZFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFByb2R1Y3RNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBhZGRQcm9kdWN0VG9DYXJ0KHByb2R1Y3Q6IFByb2R1Y3RNb2RlbCk6IFByb21pc2U8e1xyXG4gIG5ld0NvdW50OiBudW1iZXI7XHJcbiAgc3RhdHVzOiAnU1VDQ0VTUycgfCAnUVVBTlRJVFlfTElNSVRfUkVBQ0hFRCc7XHJcbiAgdG90YWxDYXJ0Q291bnQ6IG51bWJlcjtcclxufT47XHJcblxyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiB1cGRhdGVQcm9kdWN0UXVhbnRpdHlDYXJ0KFxyXG4gIHByb2R1Y3Q6IFByb2R1Y3RNb2RlbCxcclxuICBxdWFudGl0eTogbnVtYmVyXHJcbik6IFByb21pc2U8YW55PjtcclxuXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGRlbGV0ZVByb2R1Y3RGcm9tQ2FydChcclxuICBjaGF0SWQ6IHN0cmluZyxcclxuICBwcm9kdWN0SWQ6IHN0cmluZ1xyXG4pOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBhZGRQcm9kdWN0VG9DYXJ0OiAnYWRkUHJvZHVjdFRvQ2FydCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5hZGRQcm9kdWN0VG9DYXJ0XHJcbik7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICB1cGRhdGVQcm9kdWN0UXVhbnRpdHlDYXJ0OiAnZGVmYXVsdCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5kZWZhdWx0Py5kaXNwbGF5TmFtZT8uaW5jbHVkZXMoJ0JpelVwZGF0ZVByb2R1Y3RRdWFudGl0eUNhcnRBY3Rpb24nKVxyXG4pO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZGVsZXRlUHJvZHVjdEZyb21DYXJ0OiAnZGVmYXVsdCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5kZWZhdWx0Py5kaXNwbGF5TmFtZT8uaW5jbHVkZXMoJ0JpekRlbGV0ZVByb2R1Y3RGcm9tQ2FydEFjdGlvbicpXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgMzg4NTM2XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBhZGRUb0xhYmVsQ29sbGVjdGlvbihcclxuICBlOiBhbnksXHJcbiAgdDogYW55LFxyXG4gIGk6IGFueVxyXG4pOiBQcm9taXNlPGFueT47XHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGNyZWF0ZUxhYmVsSXRlbUlkKGU6IGFueSwgdDogYW55LCByOiBhbnkpOiBQcm9taXNlPGFueT47XHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldFBhcmVudENvbGxlY3Rpb24oZTogYW55KTogUHJvbWlzZTxhbnk+O1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBpbml0aWFsaXplTGFiZWxzKGU6IGFueSk6IFByb21pc2U8YW55PjtcclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gcmVtb3ZlTGFiZWxGcm9tQ29sbGVjdGlvbihcclxuICBlOiBhbnksXHJcbiAgdDogYW55LFxyXG4gIGk6IGFueVxyXG4pOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBhZGRUb0xhYmVsQ29sbGVjdGlvbjogJ2FkZFRvTGFiZWxDb2xsZWN0aW9uJyxcclxuICAgIGNyZWF0ZUxhYmVsSXRlbUlkOiAnY3JlYXRlTGFiZWxJdGVtSWQnLFxyXG4gICAgZ2V0UGFyZW50Q29sbGVjdGlvbjogJ2dldFBhcmVudENvbGxlY3Rpb24nLFxyXG4gICAgaW5pdGlhbGl6ZUxhYmVsczogJ2luaXRpYWxpemVMYWJlbHMnLFxyXG4gICAgcmVtb3ZlTGFiZWxGcm9tQ29sbGVjdGlvbjogJ3JlbW92ZUxhYmVsRnJvbUNvbGxlY3Rpb24nLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uYWRkVG9MYWJlbENvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBDb250YWN0TW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA4MDE0MFxyXG4gKiBAd2hhdHNhcHAgNzgwMTQwID49IDIuMjIyMi44XHJcbiAqIEB3aGF0c2FwcCA0ODgyNiA+PSAyLjIyMjguNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gYmxvY2tDb250YWN0KFxyXG4gIGNvbnRhY3Q6XHJcbiAgICB8IENvbnRhY3RNb2RlbFxyXG4gICAgfCB7XHJcbiAgICAgICAgY29udGFjdDogQ29udGFjdE1vZGVsO1xyXG4gICAgICAgIGJsb2NrRW50cnlQb2ludDogc3RyaW5nO1xyXG4gICAgICAgIGJpek9wdE91dEFyZ3M6IGFueSB8IG51bGw7XHJcbiAgICAgIH1cclxuKTogUHJvbWlzZTx2b2lkPjtcclxuXHJcbi8qKiBAd2hhdHNhcHAgODAxNDBcclxuICogQHdoYXRzYXBwIDc4MDE0MCA+PSAyLjIyMjIuOFxyXG4gKiBAd2hhdHNhcHAgNDg4MjYgPj0gMi4yMjI4LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHVuYmxvY2tDb250YWN0KGNvbnRhY3Q6IENvbnRhY3RNb2RlbCk6IFByb21pc2U8dm9pZD47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBibG9ja0NvbnRhY3Q6ICdibG9ja0NvbnRhY3QnLFxyXG4gICAgdW5ibG9ja0NvbnRhY3Q6ICd1bmJsb2NrQ29udGFjdCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5ibG9ja0NvbnRhY3QgJiYgbS51bmJsb2NrQ29udGFjdFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjIgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDgxODMwOSA+PSAyLjIyMjguMTRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGNhbGN1bGF0ZUZpbGVoYXNoRnJvbUJsb2IoZmlsZTogQmxvYik6IFByb21pc2U8c3RyaW5nPjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGNhbGN1bGF0ZUZpbGVoYXNoRnJvbUJsb2I6ICdjYWxjdWxhdGVGaWxlaGFzaEZyb21CbG9iJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmNhbGN1bGF0ZUZpbGVoYXNoRnJvbUJsb2JcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBNc2dNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIFdBV2ViTXNnQWN0aW9uQ2FwYWJpbGl0eSA+PSAyLjMwMDAuMFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gY2FuRWRpdENhcHRpb24obXNnOiBNc2dNb2RlbCk6IGJvb2xlYW47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBjYW5FZGl0Q2FwdGlvbjogJ2NhbkVkaXRDYXB0aW9uJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmNhbkVkaXRDYXB0aW9uXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgTXNnTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA3NTU3MDcgPj0gMi4yMzA3LjEwXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBjYW5FZGl0TXNnKG1zZzogTXNnTW9kZWwpOiBib29sZWFuO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgY2FuRWRpdE1zZzogW1xyXG4gICAgICAnY2FuRWRpdFRleHQnLCAvLyBAd2hhdHNhcHAgPj0gMi4yMzE4LjdcclxuICAgICAgJ2NhbkVkaXRNc2cnLFxyXG4gICAgXSxcclxuICB9LFxyXG4gIChtKSA9PlxyXG4gICAgbS5jYW5FZGl0TXNnIHx8IC8vIEB3aGF0c2FwcCA+PSAyLjIzMTguN1xyXG4gICAgbS5jYW5FZGl0VGV4dFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IE1zZ01vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgOTczNDgwID49IDIuMjI0MS42XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBjYW5SZXBseU1zZyhtc2c6IE1zZ01vZGVsKTogYm9vbGVhbjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGNhblJlcGx5TXNnOiAnY2FuUmVwbHlNc2cnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uY2FuUmVwbHlNc2dcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgV0FXZWJDb250YWN0RWRpdFV0aWxzID49IDIuMzAwMC4wXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBjYW5TYXZlQXNNeUNvbnRhY3RzKHdpZDogV2lkKTogYm9vbGVhbjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGNhblNhdmVBc015Q29udGFjdHM6ICdjYW5TYXZlQXNNeUNvbnRhY3RzJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmNhblNhdmVBc015Q29udGFjdHNcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIyIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpbmplY3RGYWxsYmFja01vZHVsZSB9IGZyb20gJy4uLy4uL3dlYnBhY2snO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBzdGFydEhhbmRsaW5nUmVxdWVzdHMsIHN0YXJ0V2ViQ29tbXMsIHN0b3BDb21tcyB9IGZyb20gJy4uL3dlYnNvY2tldCc7XHJcbmltcG9ydCB7IGZyb250ZW5kRmlyZUFuZEZvcmdldCB9IGZyb20gJy4vZnJvbnRlbmRGaXJlQW5kRm9yZ2V0JztcclxuaW1wb3J0IHtcclxuICBzZXRXaGF0c0FwcFdlYkV4dGVybmFsQmV0YURpcnR5Qml0SWRiLFxyXG4gIHNldFdoYXRzQXBwV2ViRXh0ZXJuYWxCZXRhSm9pbmVkSWRiLFxyXG59IGZyb20gJy4vZ2V0V2hhdHNBcHBXZWJFeHRlcm5hbEJldGFKb2luZWRJZGInO1xyXG5pbXBvcnQgeyBzeW5jQUJQcm9wc1Rhc2sgfSBmcm9tICcuL3N5bmNBQlByb3BzVGFzayc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDc5NTcxNVxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gY2hhbmdlT3B0SW5TdGF0dXNGb3JFeHRlcm5hbFdlYkJldGEoXHJcbiAgdmFsdWU6IGJvb2xlYW5cclxuKTogUHJvbWlzZTxhbnk+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgY2hhbmdlT3B0SW5TdGF0dXNGb3JFeHRlcm5hbFdlYkJldGE6ICdjaGFuZ2VPcHRJblN0YXR1c0ZvckV4dGVybmFsV2ViQmV0YScsXHJcbiAgfSxcclxuICAobSkgPT4gbS5jaGFuZ2VPcHRJblN0YXR1c0ZvckV4dGVybmFsV2ViQmV0YVxyXG4pO1xyXG5cclxuaW5qZWN0RmFsbGJhY2tNb2R1bGUoJ2NoYW5nZU9wdEluU3RhdHVzRm9yRXh0ZXJuYWxXZWJCZXRhJywge1xyXG4gIGNoYW5nZU9wdEluU3RhdHVzRm9yRXh0ZXJuYWxXZWJCZXRhOiBhc3luYyAodmFsdWU6IGJvb2xlYW4pID0+IHtcclxuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgc2V0V2hhdHNBcHBXZWJFeHRlcm5hbEJldGFEaXJ0eUJpdElkYih0cnVlKSxcclxuICAgICAgc2V0V2hhdHNBcHBXZWJFeHRlcm5hbEJldGFKb2luZWRJZGIodmFsdWUpLFxyXG4gICAgXSk7XHJcbiAgICBhd2FpdCBzdG9wQ29tbXMoKTtcclxuICAgIGF3YWl0IHN0YXJ0V2ViQ29tbXMoKTtcclxuICAgIGF3YWl0IHN0YXJ0SGFuZGxpbmdSZXF1ZXN0cygpO1xyXG4gICAgYXdhaXQgc3luY0FCUHJvcHNUYXNrKCk7XHJcbiAgICBhd2FpdCBmcm9udGVuZEZpcmVBbmRGb3JnZXQoJ2NoYW5nZU9wdEluU3RhdHVzRm9yRXh0ZXJuYWxXZWJCZXRhJywge30pO1xyXG4gICAgYXdhaXQgc2V0V2hhdHNBcHBXZWJFeHRlcm5hbEJldGFEaXJ0eUJpdElkYihmYWxzZSk7XHJcbiAgfSxcclxufSk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgV0FXZWJDcmVhdGVDaGF0ID49IDIuMzAwMC4wXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBjaGVja0NoYXRFeGlzdGVkT3JDcmVhdGUob3B0aW9uczoge1xyXG4gIGRlc3RpbmF0aW9uQ2hhdDogYW55O1xyXG4gIG1zZ01ldGE6IG51bGw7XHJcbiAgY2hhdE9yaWdpblR5cGU6IGFueTtcclxuICBpbml0aWFsUHJvcHM6IGFueTtcclxuICBvcHRpb25zOiB7XHJcbiAgICBmb3JjZVVzeW5jOiBhbnk7XHJcbiAgICBuZXh0UHJpdmFjeU1vZGU6IGFueTtcclxuICB9O1xyXG59KTogUHJvbWlzZTxhbnk+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgY2hlY2tDaGF0RXhpc3RlZE9yQ3JlYXRlOiBbXHJcbiAgICAgICdjaGVja0NoYXRFeGlzdGVkT3JDcmVhdGUnLFxyXG4gICAgICAnY2hlY2tDaGF0RXhpc3RzT3JDcmVhdGUnLFxyXG4gICAgXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLmNoZWNrQ2hhdEV4aXN0ZWRPckNyZWF0ZSB8fCBtLmNoZWNrQ2hhdEV4aXN0c09yQ3JlYXRlXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcblxyXG4vKiogQHdoYXRzYXBwIDQwOTQ2NSA+PSAyLjIyMjguMTRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGNyZWF0ZUNvbGxlY3Rpb24oLi4uYXJnczogYW55W10pOiBQcm9taXNlPGFueT47XHJcblxyXG4vKiogQHdoYXRzYXBwIDQwOTQ2NSA+PSAyLjIyMjguMTRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGRlbGV0ZUNvbGxlY3Rpb24oXHJcbiAgaWQ6IHN0cmluZyxcclxuICBzZXNzaW9uSWQ6IHN0cmluZ1xyXG4pOiBQcm9taXNlPGFueT47XHJcblxyXG4vKiogQHdoYXRzYXBwIDQwOTQ2NSA+PSAyLjIyMjguMTRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGVkaXRDb2xsZWN0aW9uKFxyXG4gIGNvbGxlY3Rpb25JZDogc3RyaW5nLFxyXG4gIGNvbGxlY3Rpb25OYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQsXHJcbiAgY29sbGVjdGlvbkJvb2xlYTogYm9vbGVhbixcclxuICBwcm9kdWN0c1RvQWRkOiBzdHJpbmdbXSxcclxuICBwcm9kdWN0c1RvUmVtb3ZlOiBzdHJpbmdbXSxcclxuICBzZXNzaW9uSWQ6IHN0cmluZ1xyXG4pOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5Q29sbGVjdGlvbnNJUXRQYXJhbXMge1xyXG4gIGFmdGVyQ3Vyc29yPzogc3RyaW5nO1xyXG4gIGNhdGFsb2dXaWQ/OiBXaWQ7XHJcbiAgZGlyZWN0Q29ubmVjdGlvbkVuY3J5cHRlZEluZm8/OiBhbnk7XHJcbiAgaGVpZ2h0PzogMTAwO1xyXG4gIHdpZHRoPzogMTAwO1xyXG4gIGxpbWl0OiBudW1iZXI7XHJcbiAgcHJvZHVjdHNDb3VudD86IG51bWJlcjtcclxufVxyXG5cclxuLyoqIEB3aGF0c2FwcCA0MDk0NjUgPj0gMi4yMjI4LjE0XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBxdWVyeUNvbGxlY3Rpb25zSVEoXHJcbiAgcGFyYW1zOiBRdWVyeUNvbGxlY3Rpb25zSVF0UGFyYW1zXHJcbik6IGFueTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGNyZWF0ZUNvbGxlY3Rpb246ICdjcmVhdGVDb2xsZWN0aW9uJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmNyZWF0ZUNvbGxlY3Rpb25cclxuKTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGRlbGV0ZUNvbGxlY3Rpb246ICdkZWxldGVDb2xsZWN0aW9uJyxcclxuICAgIGVkaXRDb2xsZWN0aW9uOiAnZWRpdENvbGxlY3Rpb24nLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZGVsZXRlQ29sbGVjdGlvbiAmJiBtLmVkaXRDb2xsZWN0aW9uXHJcbik7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBxdWVyeUNvbGxlY3Rpb25zSVE6IFsncXVlcnlDb2xsZWN0aW9uc0lRJywgJ2RlZmF1bHQnXSxcclxuICB9LFxyXG4gIChtKSA9PlxyXG4gICAgbS5xdWVyeUNvbGxlY3Rpb25zSVEgfHxcclxuICAgIG0uZGVmYXVsdD8uZGlzcGxheU5hbWU/LnRvU3RyaW5nKCkuaW5jbHVkZXMoJ1F1ZXJ5UHJvZHVjdENvbGxlY3Rpb25zJylcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA4ODU5MTBcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGNvbG9ySW5kZXhUb0hleChpbmRleDogbnVtYmVyKTogc3RyaW5nO1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRBbGxMYWJlbENvbG9ycygpOiBzdHJpbmdbXTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGNvbG9ySW5kZXhUb0hleDogJ2NvbG9ySW5kZXhUb0hleCcsXHJcbiAgICBnZXRBbGxMYWJlbENvbG9yczogJ2dldEFsbExhYmVsQ29sb3JzJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmNvbG9ySW5kZXhUb0hleCAmJiBtLmdldEFsbExhYmVsQ29sb3JzXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaW5qZWN0RmFsbGJhY2tNb2R1bGUgfSBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgQ29udGFjdE1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNjYwNjY2ID49IDIuMjMyNy40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRNZW50aW9uTmFtZShjb250YWN0OiBDb250YWN0TW9kZWwpOiBzdHJpbmc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDY2MDY2NiA+PSAyLjIzMjcuNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0Tm90aWZ5TmFtZShjb250YWN0OiBDb250YWN0TW9kZWwpOiBzdHJpbmc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDY2MDY2NiA+PSAyLjIzMjcuNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0UHJlbWl1bU1lc3NhZ2VOYW1lKGNvbnRhY3Q6IENvbnRhY3RNb2RlbCk6IHN0cmluZztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNjYwNjY2ID49IDIuMjMyNy40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRVc2VyaWQoY29udGFjdDogQ29udGFjdE1vZGVsKTogYW55O1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA2NjA2NjYgPj0gMi4yMzI3LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldFVzZXJoYXNoKGNvbnRhY3Q6IENvbnRhY3RNb2RlbCk6IGFueTtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNjYwNjY2ID49IDIuMjMyNy40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRTZWFyY2hWZXJpZmllZE5hbWUoY29udGFjdDogQ29udGFjdE1vZGVsKTogYW55O1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA2NjA2NjYgPj0gMi4yMzI3LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldEhlYWRlcihjb250YWN0OiBDb250YWN0TW9kZWwpOiBhbnk7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDY2MDY2NiA+PSAyLjIzMjcuNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0SXNNZShjb250YWN0OiBDb250YWN0TW9kZWwpOiBhbnk7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDY2MDY2NiA+PSAyLjIzMjcuNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0SXNVc2VyKGNvbnRhY3Q6IENvbnRhY3RNb2RlbCk6IGFueTtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNjYwNjY2ID49IDIuMjMyNy40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRJc0dyb3VwKGNvbnRhY3Q6IENvbnRhY3RNb2RlbCk6IGFueTtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNjYwNjY2ID49IDIuMjMyNy40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRJc0Jyb2FkY2FzdChjb250YWN0OiBDb250YWN0TW9kZWwpOiBhbnk7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDY2MDY2NiA+PSAyLjIzMjcuNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0SXNOZXdzbGV0dGVyKGNvbnRhY3Q6IENvbnRhY3RNb2RlbCk6IGFueTtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNjYwNjY2ID49IDIuMjMyNy40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRJc1BTQShjb250YWN0OiBDb250YWN0TW9kZWwpOiBhbnk7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDY2MDY2NiA+PSAyLjIzMjcuNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0SXNJQVMoY29udGFjdDogQ29udGFjdE1vZGVsKTogYW55O1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA2NjA2NjYgPj0gMi4yMzI3LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldElzU3VwcG9ydEFjY291bnQoY29udGFjdDogQ29udGFjdE1vZGVsKTogYW55O1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA2NjA2NjYgPj0gMi4yMzI3LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldElzV0FDb250YWN0KGNvbnRhY3Q6IENvbnRhY3RNb2RlbCk6IGFueTtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNjYwNjY2ID49IDIuMjMyNy40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRJc015Q29udGFjdChjb250YWN0OiBDb250YWN0TW9kZWwpOiBib29sZWFuO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA2NjA2NjYgPj0gMi4yMzI3LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldENhblJlcXVlc3RQaG9uZU51bWJlcihcclxuICBjb250YWN0OiBDb250YWN0TW9kZWxcclxuKTogYm9vbGVhbjtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNjYwNjY2ID49IDIuMjMyNy40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRTaG93QnVzaW5lc3NDaGVja21hcmtBc1ByaW1hcnkoXHJcbiAgY29udGFjdDogQ29udGFjdE1vZGVsXHJcbik6IGFueTtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNjYwNjY2ID49IDIuMjMyNy40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRTaG93QnVzaW5lc3NDaGVja21hcmtBc1NlY29uZGFyeShcclxuICBjb250YWN0OiBDb250YWN0TW9kZWxcclxuKTogYW55O1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA2NjA2NjYgPj0gMi4yMzI3LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldFNob3dCdXNpbmVzc0NoZWNrbWFya0luQ2hhdGxpc3QoXHJcbiAgY29udGFjdDogQ29udGFjdE1vZGVsXHJcbik6IGFueTtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNjYwNjY2ID49IDIuMjMyNy40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRJc0Rpc3BsYXlOYW1lQXBwcm92ZWQoY29udGFjdDogQ29udGFjdE1vZGVsKTogYW55O1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA2NjA2NjYgPj0gMi4yMzI3LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldFNob3VsZEZvcmNlQnVzaW5lc3NVcGRhdGUoXHJcbiAgY29udGFjdDogQ29udGFjdE1vZGVsXHJcbik6IGFueTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGdldE5vdGlmeU5hbWU6ICdnZXROb3RpZnlOYW1lJyxcclxuICAgIGdldE1lbnRpb25OYW1lOiAnZ2V0TWVudGlvbk5hbWUnLFxyXG4gICAgZ2V0UHJlbWl1bU1lc3NhZ2VOYW1lOiAnZ2V0UHJlbWl1bU1lc3NhZ2VOYW1lJyxcclxuICAgIGdldFVzZXJpZDogJ2dldFVzZXJpZCcsXHJcbiAgICBnZXRVc2VyaGFzaDogJ2dldFVzZXJoYXNoJyxcclxuICAgIGdldFNlYXJjaFZlcmlmaWVkTmFtZTogJ2dldFNlYXJjaFZlcmlmaWVkTmFtZScsXHJcbiAgICBnZXRIZWFkZXI6ICdnZXRIZWFkZXInLFxyXG4gICAgZ2V0SXNNZTogJ2dldElzTWUnLFxyXG4gICAgZ2V0SXNVc2VyOiAnZ2V0SXNVc2VyJyxcclxuICAgIGdldElzR3JvdXA6ICdnZXRJc0dyb3VwJyxcclxuICAgIGdldElzQnJvYWRjYXN0OiAnZ2V0SXNCcm9hZGNhc3QnLFxyXG4gICAgZ2V0SXNOZXdzbGV0dGVyOiAnZ2V0SXNOZXdzbGV0dGVyJyxcclxuICAgIGdldElzUFNBOiAnZ2V0SXNQU0EnLFxyXG4gICAgZ2V0SXNJQVM6ICdnZXRJc0lBUycsXHJcbiAgICBnZXRJc1N1cHBvcnRBY2NvdW50OiAnZ2V0SXNTdXBwb3J0QWNjb3VudCcsXHJcbiAgICBnZXRJc1dBQ29udGFjdDogJ2dldElzV0FDb250YWN0JyxcclxuICAgIGdldElzTXlDb250YWN0OiAnZ2V0SXNNeUNvbnRhY3QnLFxyXG4gICAgZ2V0Q2FuUmVxdWVzdFBob25lTnVtYmVyOiAnZ2V0Q2FuUmVxdWVzdFBob25lTnVtYmVyJyxcclxuICAgIGdldFNob3dCdXNpbmVzc0NoZWNrbWFya0FzUHJpbWFyeTogJ2dldFNob3dCdXNpbmVzc0NoZWNrbWFya0FzUHJpbWFyeScsXHJcbiAgICBnZXRTaG93QnVzaW5lc3NDaGVja21hcmtBc1NlY29uZGFyeTogJ2dldFNob3dCdXNpbmVzc0NoZWNrbWFya0FzU2Vjb25kYXJ5JyxcclxuICAgIGdldFNob3dCdXNpbmVzc0NoZWNrbWFya0luQ2hhdGxpc3Q6ICdnZXRTaG93QnVzaW5lc3NDaGVja21hcmtJbkNoYXRsaXN0JyxcclxuICAgIGdldElzRGlzcGxheU5hbWVBcHByb3ZlZDogJ2dldElzRGlzcGxheU5hbWVBcHByb3ZlZCcsXHJcbiAgICBnZXRTaG91bGRGb3JjZUJ1c2luZXNzVXBkYXRlOiAnZ2V0U2hvdWxkRm9yY2VCdXNpbmVzc1VwZGF0ZScsXHJcbiAgfSxcclxuICAobSkgPT4gbS5nZXRJc015Q29udGFjdCAmJiBtLmdldElzR3JvdXBcclxuKTtcclxuXHJcbmluamVjdEZhbGxiYWNrTW9kdWxlKCdnZXRJc015Q29udGFjdCcsIHtcclxuICBnZXROb3RpZnlOYW1lOiAoY29udGFjdDogQ29udGFjdE1vZGVsKSA9PiBjb250YWN0Lm5vdGlmeU5hbWUsXHJcbiAgZ2V0TWVudGlvbk5hbWU6IChjb250YWN0OiBDb250YWN0TW9kZWwpID0+IGNvbnRhY3QubWVudGlvbk5hbWUsXHJcbiAgZ2V0UHJlbWl1bU1lc3NhZ2VOYW1lOiAoY29udGFjdDogQ29udGFjdE1vZGVsKSA9PiBjb250YWN0LnByZW1pdW1NZXNzYWdlTmFtZSxcclxuICBnZXRVc2VyaWQ6IChjb250YWN0OiBDb250YWN0TW9kZWwpID0+IGNvbnRhY3QudXNlcmlkLFxyXG4gIGdldFVzZXJoYXNoOiAoY29udGFjdDogQ29udGFjdE1vZGVsKSA9PiBjb250YWN0LnVzZXJoYXNoLFxyXG4gIGdldFNlYXJjaFZlcmlmaWVkTmFtZTogKGNvbnRhY3Q6IENvbnRhY3RNb2RlbCkgPT4gY29udGFjdC5zZWFyY2hWZXJpZmllZE5hbWUsXHJcbiAgZ2V0SGVhZGVyOiAoY29udGFjdDogQ29udGFjdE1vZGVsKSA9PiBjb250YWN0LmhlYWRlcixcclxuICBnZXRJc01lOiAoY29udGFjdDogQ29udGFjdE1vZGVsKSA9PiBjb250YWN0LmlzTWUsXHJcbiAgZ2V0SXNVc2VyOiAoY29udGFjdDogQ29udGFjdE1vZGVsKSA9PiBjb250YWN0LmlzVXNlcixcclxuICBnZXRJc0dyb3VwOiAoY29udGFjdDogQ29udGFjdE1vZGVsKSA9PiBjb250YWN0LmlzR3JvdXAsXHJcbiAgZ2V0SXNOZXdzbGV0dGVyOiAoY29udGFjdDogQ29udGFjdE1vZGVsKSA9PiBjb250YWN0LmlzTmV3c2xldHRlcixcclxuICBnZXRJc0Jyb2FkY2FzdDogKGNvbnRhY3Q6IENvbnRhY3RNb2RlbCkgPT4gY29udGFjdC5pc0Jyb2FkY2FzdCxcclxuICBnZXRJc1BTQTogKGNvbnRhY3Q6IENvbnRhY3RNb2RlbCkgPT4gY29udGFjdC5pc1BTQSxcclxuICBnZXRJc0lBUzogKGNvbnRhY3Q6IENvbnRhY3RNb2RlbCkgPT4gY29udGFjdC5pc0lBUyxcclxuICBnZXRJc1N1cHBvcnRBY2NvdW50OiAoY29udGFjdDogQ29udGFjdE1vZGVsKSA9PiBjb250YWN0LmlzU3VwcG9ydEFjY291bnQsXHJcbiAgZ2V0SXNXQUNvbnRhY3Q6IChjb250YWN0OiBDb250YWN0TW9kZWwpID0+IGNvbnRhY3QuaXNXQUNvbnRhY3QsXHJcbiAgZ2V0SXNNeUNvbnRhY3Q6IChjb250YWN0OiBDb250YWN0TW9kZWwpID0+IGNvbnRhY3QuaXNNeUNvbnRhY3QsXHJcbiAgZ2V0Q2FuUmVxdWVzdFBob25lTnVtYmVyOiAoY29udGFjdDogQ29udGFjdE1vZGVsKSA9PlxyXG4gICAgY29udGFjdC5jYW5SZXF1ZXN0UGhvbmVOdW1iZXIsXHJcbiAgZ2V0U2hvd0J1c2luZXNzQ2hlY2ttYXJrQXNQcmltYXJ5OiAoY29udGFjdDogQ29udGFjdE1vZGVsKSA9PlxyXG4gICAgY29udGFjdC5zaG93QnVzaW5lc3NDaGVja21hcmtBc1ByaW1hcnksXHJcbiAgZ2V0U2hvd0J1c2luZXNzQ2hlY2ttYXJrQXNTZWNvbmRhcnk6IChjb250YWN0OiBDb250YWN0TW9kZWwpID0+XHJcbiAgICBjb250YWN0LnNob3dCdXNpbmVzc0NoZWNrbWFya0FzU2Vjb25kYXJ5LFxyXG4gIGdldFNob3dCdXNpbmVzc0NoZWNrbWFya0luQ2hhdGxpc3Q6IChjb250YWN0OiBDb250YWN0TW9kZWwpID0+XHJcbiAgICBjb250YWN0LnNob3dCdXNpbmVzc0NoZWNrbWFya0luQ2hhdGxpc3QsXHJcbiAgZ2V0SXNEaXNwbGF5TmFtZUFwcHJvdmVkOiAoY29udGFjdDogQ29udGFjdE1vZGVsKSA9PlxyXG4gICAgY29udGFjdC5pc0Rpc3BsYXlOYW1lQXBwcm92ZWQsXHJcbiAgZ2V0U2hvdWxkRm9yY2VCdXNpbmVzc1VwZGF0ZTogKGNvbnRhY3Q6IENvbnRhY3RNb2RlbCkgPT5cclxuICAgIGNvbnRhY3Quc2hvdWxkRm9yY2VCdXNpbmVzc1VwZGF0ZSxcclxufSk7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDcxNDU3NCA+PSAyLjIzMjcuNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0RGlzcGxheU5hbWUoY29udGFjdDogQ29udGFjdE1vZGVsKTogc3RyaW5nO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA3MTQ1NzQgPj0gMi4yMzI3LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldFBuRm9yTGlkKGNvbnRhY3Q6IENvbnRhY3RNb2RlbCk6IGFueTtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNzE0NTc0ID49IDIuMjMyNy40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXREaXNwbGF5TmFtZU9yUG5Gb3JMaWQoY29udGFjdDogQ29udGFjdE1vZGVsKTogYW55O1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA3MTQ1NzQgPj0gMi4yMzI3LjRcclxuICogQGRlcHJlY2F0ZWQgVXNlIGdldEZvcm1hdHRlZFVzZXJuYW1lT3JQaG9uZSBpbnN0ZWFkXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRGb3JtYXR0ZWRQaG9uZShjb250YWN0OiBDb250YWN0TW9kZWwpOiBhbnk7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDcxNDU3NCA+PSAyLjIzMjcuNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkVXNlcm5hbWVPclBob25lKGNvbnRhY3Q6IENvbnRhY3RNb2RlbCk6IGFueTtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNzE0NTc0ID49IDIuMjMyNy40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRTZWFyY2hOYW1lKGNvbnRhY3Q6IENvbnRhY3RNb2RlbCk6IGFueTtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNzE0NTc0ID49IDIuMjMyNy40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRGb3JtYXR0ZWRTaG9ydE5hbWVXaXRoTm9uQnJlYWtpbmdTcGFjZXMoXHJcbiAgY29udGFjdDogQ29udGFjdE1vZGVsXHJcbik6IGFueTtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNzE0NTc0ID49IDIuMjMyNy40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRGb3JtYXR0ZWRTaG9ydE5hbWUoY29udGFjdDogQ29udGFjdE1vZGVsKTogYW55O1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA3MTQ1NzQgPj0gMi4yMzI3LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldEZvcm1hdHRlZE5hbWUoY29udGFjdDogQ29udGFjdE1vZGVsKTogYW55O1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA3MTQ1NzQgPj0gMi4yMzI3LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldEZvcm1hdHRlZFVzZXIoY29udGFjdDogQ29udGFjdE1vZGVsKTogYW55O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZ2V0RGlzcGxheU5hbWU6ICdnZXREaXNwbGF5TmFtZScsXHJcbiAgICBnZXRQbkZvckxpZDogJ2dldFBuRm9yTGlkJyxcclxuICAgIGdldERpc3BsYXlOYW1lT3JQbkZvckxpZDogW1xyXG4gICAgICAnZ2V0VXNlckRpc3BsYXlOYW1lRm9yTGlkJyxcclxuICAgICAgJ2dldERpc3BsYXlOYW1lT3JQbkZvckxpZCcsXHJcbiAgICBdLFxyXG4gICAgZ2V0Rm9ybWF0dGVkUGhvbmU6IFsnZ2V0Rm9ybWF0dGVkUGhvbmUnLCAnZ2V0Rm9ybWF0dGVkVXNlcm5hbWVPclBob25lJ10sXHJcbiAgICBnZXRGb3JtYXR0ZWRVc2VybmFtZU9yUGhvbmU6IFtcclxuICAgICAgJ2dldEZvcm1hdHRlZFVzZXJuYW1lT3JQaG9uZScsXHJcbiAgICAgICdnZXRGb3JtYXR0ZWRQaG9uZScsXHJcbiAgICBdLFxyXG4gICAgZ2V0U2VhcmNoTmFtZTogJ2dldFNlYXJjaE5hbWUnLFxyXG4gICAgZ2V0Rm9ybWF0dGVkU2hvcnROYW1lV2l0aE5vbkJyZWFraW5nU3BhY2VzOlxyXG4gICAgICAnZ2V0Rm9ybWF0dGVkU2hvcnROYW1lV2l0aE5vbkJyZWFraW5nU3BhY2VzJyxcclxuICAgIGdldEZvcm1hdHRlZFNob3J0TmFtZTogJ2dldEZvcm1hdHRlZFNob3J0TmFtZScsXHJcbiAgICBnZXRGb3JtYXR0ZWROYW1lOiAnZ2V0Rm9ybWF0dGVkTmFtZScsXHJcbiAgICBnZXRGb3JtYXR0ZWRVc2VyOiAnZ2V0Rm9ybWF0dGVkVXNlcicsXHJcbiAgfSxcclxuICAobSkgPT4gbS5nZXREaXNwbGF5TmFtZSAmJiBtLmdldEZvcm1hdHRlZE5hbWVcclxuKTtcclxuaW5qZWN0RmFsbGJhY2tNb2R1bGUoJ2dldERpc3BsYXlOYW1lJywge1xyXG4gIGdldERpc3BsYXlOYW1lOiAoY29udGFjdDogQ29udGFjdE1vZGVsKSA9PiBjb250YWN0LmRpc3BsYXlOYW1lLFxyXG4gIGdldFBuRm9yTGlkOiAoY29udGFjdDogQ29udGFjdE1vZGVsKSA9PiBjb250YWN0LnBuRm9yTGlkLFxyXG4gIGdldERpc3BsYXlOYW1lT3JQbkZvckxpZDogKGNvbnRhY3Q6IENvbnRhY3RNb2RlbCkgPT5cclxuICAgIGNvbnRhY3QuZGlzcGxheU5hbWVPclBuRm9yTGlkLFxyXG4gIGdldFNlYXJjaE5hbWU6IChjb250YWN0OiBDb250YWN0TW9kZWwpID0+IGNvbnRhY3Quc2VhcmNoTmFtZSxcclxuICBnZXRGb3JtYXR0ZWRTaG9ydE5hbWVXaXRoTm9uQnJlYWtpbmdTcGFjZXM6IChjb250YWN0OiBDb250YWN0TW9kZWwpID0+XHJcbiAgICBjb250YWN0LmZvcm1hdHRlZFNob3J0TmFtZVdpdGhOb25CcmVha2luZ1NwYWNlcyxcclxuICBnZXRGb3JtYXR0ZWRTaG9ydE5hbWU6IChjb250YWN0OiBDb250YWN0TW9kZWwpID0+IGNvbnRhY3QuZm9ybWF0dGVkU2hvcnROYW1lLFxyXG4gIGdldEZvcm1hdHRlZE5hbWU6IChjb250YWN0OiBDb250YWN0TW9kZWwpID0+IGNvbnRhY3QuZm9ybWF0dGVkTmFtZSxcclxuICBnZXRGb3JtYXR0ZWRVc2VyOiAoY29udGFjdDogQ29udGFjdE1vZGVsKSA9PiBjb250YWN0LmZvcm1hdHRlZFVzZXIsXHJcbiAgZ2V0Rm9ybWF0dGVkUGhvbmU6IChjb250YWN0OiBDb250YWN0TW9kZWwpID0+IGNvbnRhY3QuZm9ybWF0dGVkUGhvbmUsXHJcbn0pO1xyXG5cclxuaW5qZWN0RmFsbGJhY2tNb2R1bGUoJ2dldEZvcm1hdHRlZFVzZXJuYW1lT3JQaG9uZScsIHtcclxuICBnZXRGb3JtYXR0ZWRVc2VybmFtZU9yUGhvbmU6IChjb250YWN0OiBDb250YWN0TW9kZWwpID0+XHJcbiAgICBjb250YWN0LmZvcm1hdHRlZFBob25lLFxyXG59KTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCBXQVdlYkNyZWF0ZUNoYXQgPj0gMi4zMDAwLjBcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGNyZWF0ZUNoYXQoXHJcbiAgY2hhdFBhcmFtczogYW55LFxyXG4gIGNvbnRleHQ6IGFueSxcclxuICBvcHRpb25zOiBhbnksXHJcbiAgZXh0cmE6IGFueVxyXG4pOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBjcmVhdGVDaGF0OiAnY3JlYXRlQ2hhdCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5jcmVhdGVDaGF0XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIFdBV2ViQ3JlYXRlQ2hhdCA+PSAyLjMwMDAuMFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gY3JlYXRlQ2hhdFJlY29yZChcclxuICBpZDogV2lkLFxyXG4gIGNoYXRSZWNvcmQ6IHtcclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgICBhY2NvdW50TGlkPzogc3RyaW5nO1xyXG4gICAgYml6Qm90U3lzdGVtTXNnVHlwZT86IHN0cmluZztcclxuICAgIGNyZWF0ZWRMb2NhbGx5OiBib29sZWFuO1xyXG4gICAgZGlzYXBwZWFyaW5nTW9kZUluaXRpYXRlZEJ5TWU/OiBib29sZWFuO1xyXG4gICAgZGlzYXBwZWFyaW5nTW9kZUluaXRpYXRvcj86IHN0cmluZztcclxuICAgIGRpc2FwcGVhcmluZ01vZGVUcmlnZ2VyPzogc3RyaW5nO1xyXG4gICAgZXBoZW1lcmFsRHVyYXRpb24/OiBudW1iZXI7XHJcbiAgICBlcGhlbWVyYWxTZXR0aW5nVGltZXN0YW1wPzogbnVtYmVyO1xyXG4gICAgaXNBdXRvTXV0ZWQ6IGJvb2xlYW47XHJcbiAgICBsaWRPcmlnaW5UeXBlPzogc3RyaW5nO1xyXG4gICAgbm90U3BhbT86IGJvb2xlYW47XHJcbiAgICB0PzogbnVtYmVyO1xyXG4gICAgdGNUb2tlbjogQXJyYXlCdWZmZXI7XHJcbiAgICB0Y1Rva2VuU2VuZGVyVGltZXN0YW1wPzogbnVtYmVyO1xyXG4gICAgdGNUb2tlblRpbWVzdGFtcDogbnVtYmVyO1xyXG4gICAgdW5yZWFkQ291bnQ6IG51bWJlcjtcclxuICB9XHJcbik6IFByb21pc2U8dW5kZWZpbmVkPjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGNyZWF0ZUNoYXRSZWNvcmQ6ICdjcmVhdGVDaGF0UmVjb3JkJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmNyZWF0ZUNoYXRSZWNvcmRcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA3NTg4N1xyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gY3JlYXRlRXZlbnRDYWxsTGluayhcclxuICBldmVudFN0YXJ0VGltZTogbnVtYmVyLFxyXG4gIHR5cGU6ICd2b2ljZScgfCAndmlkZW8nXHJcbik6IFByb21pc2U8c3RyaW5nPjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGNyZWF0ZUV2ZW50Q2FsbExpbms6ICdjcmVhdGVFdmVudENhbGxMaW5rJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmNyZWF0ZUV2ZW50Q2FsbExpbmtcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBNc2dNb2RlbCwgd2Vic29ja2V0LCBXaWQgfSBmcm9tICcuLic7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICpcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGNyZWF0ZUZhbm91dE1zZ1N0YW56YShcclxuICBtc2c6IE1zZ01vZGVsLFxyXG4gIGRhdGE6IGFueSxcclxuICBwcm90bzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSxcclxuICBkZXZpY2VzOiBXaWRbXSxcclxuICBvcHRpb25zOiB7IFtrZXk6IHN0cmluZ106IGFueSB9XHJcbik6IFByb21pc2U8d2Vic29ja2V0LldhcE5vZGU+O1xyXG5cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gY3JlYXRlRmFub3V0TXNnU3RhbnphKFxyXG4gIG1lc3NhZ2U6IHsgdHlwZTogc3RyaW5nOyBkYXRhOiBNc2dNb2RlbCB9LFxyXG4gIHByb3RvOiB7IFtrZXk6IHN0cmluZ106IGFueSB9LFxyXG4gIGRldmljZXM6IFdpZFtdLFxyXG4gIG9wdGlvbnM6IHsgW2tleTogc3RyaW5nXTogYW55IH0sXHJcbiAgcmVwb3J0ZXI6IGFueSxcclxuICBncm91cERhdGE/OiBhbnlcclxuKTogUHJvbWlzZTx3ZWJzb2NrZXQuV2FwTm9kZT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBjcmVhdGVGYW5vdXRNc2dTdGFuemE6ICdjcmVhdGVGYW5vdXRNc2dTdGFuemEnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uY3JlYXRlRmFub3V0TXNnU3RhbnphXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCAyNDczNTVcclxuICovXHJcblxyXG4vLyBAZGVwcmVjYXRlZFxyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBjcmVhdGVHcm91cChcclxuICBvcHRpb25zOiB7XHJcbiAgICB0aXRsZTogc3RyaW5nO1xyXG4gICAgZXBoZW1lcmFsRHVyYXRpb246IG51bWJlcjtcclxuICAgIHJlc3RyaWN0OiBib29sZWFuO1xyXG4gICAgYW5ub3VuY2U6IGJvb2xlYW47XHJcbiAgICBtZW1iZXJzaGlwQXBwcm92YWxNb2RlOiBib29sZWFuO1xyXG4gICAgbWVtYmVyQWRkTW9kZTogYm9vbGVhbjtcclxuICAgIHBhcmVudEdyb3VwSWQ/OiBXaWQ7XHJcbiAgfSxcclxuICBwYXJ0aWNpcGFudHM6IFdpZFtdXHJcbik6IFByb21pc2U8e1xyXG4gIHdpZDogV2lkO1xyXG4gIHBhcnRpY2lwYW50czoge1xyXG4gICAgd2lkOiBXaWQ7XHJcbiAgICBlcnJvcjogc3RyaW5nO1xyXG4gICAgaW52aXRlX2NvZGU6IHN0cmluZyB8IG51bGw7XHJcbiAgICBpbnZpdGVfY29kZV9leHA6IHN0cmluZyB8IG51bGw7XHJcbiAgfVtdO1xyXG59PjtcclxuXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGNyZWF0ZUdyb3VwKFxyXG4gIG9wdGlvbnM6IHtcclxuICAgIHRpdGxlOiBzdHJpbmc7XHJcbiAgICBlcGhlbWVyYWxEdXJhdGlvbjogbnVtYmVyO1xyXG4gICAgcmVzdHJpY3Q6IGJvb2xlYW47XHJcbiAgICBhbm5vdW5jZTogYm9vbGVhbjtcclxuICAgIG1lbWJlcnNoaXBBcHByb3ZhbE1vZGU6IGJvb2xlYW47XHJcbiAgICBtZW1iZXJBZGRNb2RlOiBib29sZWFuO1xyXG4gICAgcGFyZW50R3JvdXBJZD86IFdpZDtcclxuICB9LFxyXG4gIHBhcnRpY2lwYW50czogeyBwaG9uZU51bWJlcjogV2lkIH1bXVxyXG4pOiBQcm9taXNlPHtcclxuICB3aWQ6IFdpZDtcclxuICBwYXJ0aWNpcGFudHM6IHtcclxuICAgIHdpZDogV2lkO1xyXG4gICAgZXJyb3I6IHN0cmluZztcclxuICAgIGludml0ZV9jb2RlOiBzdHJpbmcgfCBudWxsO1xyXG4gICAgaW52aXRlX2NvZGVfZXhwOiBzdHJpbmcgfCBudWxsO1xyXG4gIH1bXTtcclxufT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBjcmVhdGVHcm91cDogJ2NyZWF0ZUdyb3VwJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmNyZWF0ZUdyb3VwICYmICFtLnNlbmRGb3JOZWVkZWRBZGRSZXF1ZXN0XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTXNnTW9kZWwgfSBmcm9tICcuLic7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKiogQHdoYXRzYXBwIDY1NjVcclxuICogQHdoYXRzYXBwIDYwNjU2NSA+PSAyLjIyMjIuOFxyXG4gKiBAd2hhdHNhcHAgNjE1OTQ3ID49IDIuMjIyOC40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBjcmVhdGVNc2dQcm90b2J1ZihcclxuICBlOiBNc2dNb2RlbCxcclxuICB0PzogeyBba2V5OiBzdHJpbmddOiBhbnkgfVxyXG4pOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgY3JlYXRlTXNnUHJvdG9idWY6ICdjcmVhdGVNc2dQcm90b2J1ZicsXHJcbiAgfSxcclxuICAobSkgPT4gbS5jcmVhdGVNc2dQcm90b2J1ZlxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDg3NDcwNVxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gY3JlYXRlTmV3c2xldHRlclF1ZXJ5KG9wdHM6IHtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZyB8IG51bGw7XHJcbiAgcGljdHVyZTogc3RyaW5nIHwgbnVsbDsgLy9iYXNlNjQgc3RyaW5nXHJcbn0pOiBhbnk7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBjcmVhdGVOZXdzbGV0dGVyUXVlcnk6ICdjcmVhdGVOZXdzbGV0dGVyUXVlcnknLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uY3JlYXRlTmV3c2xldHRlclF1ZXJ5XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVhY3Rpb25EYXRhIHtcclxuICBtc2dLZXk6IHN0cmluZztcclxuICBvcnBoYW46IG51bWJlcjtcclxuICBvcnBoYW5SZWFzb246IGFueTtcclxuICBwYXJlbnRNc2dLZXk6IHN0cmluZztcclxuICByZWFjdGlvblRleHQ6IHN0cmluZztcclxuICByZWFkOiBib29sZWFuO1xyXG4gIHNlbmRlclVzZXJKaWQ6IHN0cmluZztcclxuICB0aW1lc3RhbXA6IG51bWJlcjtcclxufVxyXG5cclxuLyoqIEB3aGF0c2FwcCA3Mzk0XHJcbiAqIEB3aGF0c2FwcCAzMDczOTQgPj0gMi4yMjIyLjhcclxuICogQHdoYXRzYXBwIFdBV2ViUmVhY3Rpb25zTXNnQWN0aW9uID49IDIuMzAwMC54XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZVJlYWN0aW9ucyhcclxuICBkYXRhOiBSZWFjdGlvbkRhdGFbXVxyXG4pOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBjcmVhdGVPclVwZGF0ZVJlYWN0aW9uczogWydhZGRPclVwZGF0ZVJlYWN0aW9uc01vZGVsQ29sbGVjdGlvbiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uYWRkT3JVcGRhdGVSZWFjdGlvbnNNb2RlbENvbGxlY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgOTkwNTUzXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBjcmVhdGVPcmRlcihcclxuICB3aWQ6IFdpZCxcclxuICBjYXJ0SXRlbXM/OiBhbnlcclxuKTogUHJvbWlzZTx7IGlkOiBudW1iZXI7IHRva2VuOiBhbnk7IHByaWNlPzogYW55IH0+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgY3JlYXRlT3JkZXI6ICdjcmVhdGVPcmRlcicsXHJcbiAgfSxcclxuICAobSkgPT4gbS5jcmVhdGVPcmRlclxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDc1NTcwNyA+PSAyLjIzMDcuMTBcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGN1cnJlbmN5Rm9yQ291bnRyeVNob3J0Y29kZShwYXJhbXM6IGFueSk6IGFueTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGN1cnJlbmN5Rm9yQ291bnRyeVNob3J0Y29kZTogWydjdXJyZW5jeUZvckNvdW50cnlTaG9ydGNvZGUnXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLmN1cnJlbmN5Rm9yQ291bnRyeVNob3J0Y29kZVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIFdBV2ViRGVsZXRlQ29udGFjdEFjdGlvbiA+PSAyLjMwMDAuMFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZGVsZXRlQ29udGFjdEFjdGlvbihudW1iZXI6IHN0cmluZyk6IFByb21pc2U8dm9pZD47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBkZWxldGVDb250YWN0QWN0aW9uOiAnZGVsZXRlQ29udGFjdEFjdGlvbicsXHJcbiAgfSxcclxuICAobSkgPT4gbS5kZWxldGVDb250YWN0QWN0aW9uXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNjk4NDM2XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBkZWxldGVOZXdzbGV0dGVyKGlkOiBzdHJpbmcpOiBhbnk7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBkZWxldGVOZXdzbGV0dGVyOiAnZGVsZXRlTmV3c2xldHRlcicsXHJcbiAgfSxcclxuICAobSkgPT4gbS5kZWxldGVOZXdzbGV0dGVyXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgQnVzaW5lc3NQcm9maWxlTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA0NjE1NjFcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGVkaXRCdXNpbmVzc1Byb2ZpbGUoXHJcbiAgYXJndW1lbnRzOiBCdXNpbmVzc1Byb2ZpbGVNb2RlbFxyXG4pOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBlZGl0QnVzaW5lc3NQcm9maWxlOiAnZWRpdEJ1c2luZXNzUHJvZmlsZScsXHJcbiAgfSxcclxuICAobSkgPT4gbS5lZGl0QnVzaW5lc3NQcm9maWxlXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgQ2hhdE1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgMTcyMzY1XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBlZGl0TmV3c2xldHRlck1ldGFkYXRhQWN0aW9uKFxyXG4gIG5ld3NsZXR0ZXI6IENoYXRNb2RlbCxcclxuICBlZGl0QXR0czoge1xyXG4gICAgZWRpdE5hbWU/OiBib29sZWFuO1xyXG4gICAgZWRpdERlc2NyaXB0aW9uPzogYm9vbGVhbjtcclxuICAgIGVkaXRQaWN0dXJlPzogYm9vbGVhbjtcclxuICB9LFxyXG4gIGRhdGE6IHtcclxuICAgIG5hbWU/OiBzdHJpbmc7XHJcbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZztcclxuICAgIHBpY3R1cmU/OiBzdHJpbmcgfCBudWxsO1xyXG4gIH1cclxuKTogYW55O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZWRpdE5ld3NsZXR0ZXJNZXRhZGF0YUFjdGlvbjogJ2VkaXROZXdzbGV0dGVyTWV0YWRhdGFBY3Rpb24nLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZWRpdE5ld3NsZXR0ZXJNZXRhZGF0YUFjdGlvblxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDc2MDIxMFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZW5jb2RlTWF5YmVNZWRpYVR5cGUodHlwZTogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZW5jb2RlTWF5YmVNZWRpYVR5cGU6ICdlbmNvZGVNYXliZU1lZGlhVHlwZScsXHJcbiAgfSxcclxuICAobSkgPT4gbS5lbmNvZGVNYXliZU1lZGlhVHlwZVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IE1zZ01vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNTE5NzRcclxuICogQHdoYXRzYXBwIDk1MTk3NCA+PSAyLjIyMjIuOFxyXG4gKiBAd2hhdHNhcHAgNjc3MDIwID49IDIuMjIyOC40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBlbmNyeXB0QW5kU2VuZEdyb3VwTXNnKFxyXG4gIG1lc3NhZ2U6IE1zZ01vZGVsLFxyXG4gIHByb3RvYnVmOiBhbnlcclxuKTogUHJvbWlzZTxhbnk+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZW5jcnlwdEFuZFNlbmRHcm91cE1zZzogJ2VuY3J5cHRBbmRTZW5kR3JvdXBNc2cnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZW5jcnlwdEFuZFNlbmRHcm91cE1zZ1xyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IE1zZ0tleSwgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcbmltcG9ydCB7IE1zZ01vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgOTU1NDdcclxuICogQHdoYXRzYXBwIDY5NTU0NyA+PSAyLjIyMjIuOFxyXG4gKiBAd2hhdHNhcHAgOTI1MDgwID49IDIuMjIyOC40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBlbmNyeXB0QW5kU2VuZE1zZyhcclxuICBtc2c6IHtcclxuICAgIHR5cGU6IHN0cmluZztcclxuICAgIGRhdGE6IE1zZ01vZGVsO1xyXG4gIH0sXHJcbiAgZGF0YToge1xyXG4gICAgYWNrOiBudW1iZXI7XHJcbiAgICBhdXRob3I/OiBXaWQ7XHJcbiAgICBmcm9tOiBXaWQ7XHJcbiAgICBpZDogTXNnS2V5O1xyXG4gICAgc3VidHlwZT86IHN0cmluZztcclxuICAgIHRvOiBXaWQ7XHJcbiAgICB0eXBlOiBzdHJpbmc7XHJcbiAgfSxcclxuICByZXBvcnQ6IGFueVxyXG4pOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBlbmNyeXB0QW5kU2VuZE1zZzogJ2VuY3J5cHRBbmRTZW5kTXNnJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmVuY3J5cHRBbmRTZW5kTXNnXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgTXNnS2V5LCBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuaW1wb3J0IHsgTXNnTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA5NTU0N1xyXG4gKiBAd2hhdHNhcHAgNjk1NTQ3ID49IDIuMjIyMi44XHJcbiAqIEB3aGF0c2FwcCA5MjUwODAgPj0gMi4yMjI4LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGVuY3J5cHRBbmRTZW5kU2VuZGVyS2V5TXNnKFxyXG4gIG1zZzoge1xyXG4gICAgdHlwZTogc3RyaW5nO1xyXG4gICAgZGF0YTogTXNnTW9kZWw7XHJcbiAgfSxcclxuICBkYXRhOiB7XHJcbiAgICBhY2s6IG51bWJlcjtcclxuICAgIGF1dGhvcj86IFdpZDtcclxuICAgIGZyb206IFdpZDtcclxuICAgIGlkOiBNc2dLZXk7XHJcbiAgICBzdWJ0eXBlPzogc3RyaW5nO1xyXG4gICAgdG86IFdpZDtcclxuICAgIHR5cGU6IHN0cmluZztcclxuICB9LFxyXG4gIHByb3RvOiBhbnksXHJcbiAgc2tHcm91cDogYW55LFxyXG4gIG9wdGlvbnM6IGFueSxcclxuICByZXBvcnQ6IGFueSxcclxuICBvdGhlcjogYW55XHJcbik6IFByb21pc2U8YW55PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGVuY3J5cHRBbmRTZW5kU2VuZGVyS2V5TXNnOiAnZW5jcnlwdEFuZFNlbmRTZW5kZXJLZXlNc2cnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZW5jcnlwdEFuZFNlbmRTZW5kZXJLZXlNc2dcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBNc2dLZXksIFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5pbXBvcnQgeyBNc2dNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIFdBV2ViRW5jcnlwdEFuZFNlbmRTdGF0dXNNc2dcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGVuY3J5cHRBbmRTZW5kU3RhdHVzTXNnKFxyXG4gIG1zZzoge1xyXG4gICAgbXNnOiB7XHJcbiAgICAgIHR5cGU6IHN0cmluZztcclxuICAgICAgZGF0YTogTXNnTW9kZWw7XHJcbiAgICB9O1xyXG4gICAgZGF0YToge1xyXG4gICAgICBhY2s6IG51bWJlcjtcclxuICAgICAgYXV0aG9yPzogV2lkO1xyXG4gICAgICBmcm9tOiBXaWQ7XHJcbiAgICAgIGlkOiBNc2dLZXk7XHJcbiAgICAgIHN1YnR5cGU/OiBzdHJpbmc7XHJcbiAgICAgIHRvOiBXaWQ7XHJcbiAgICAgIHR5cGU6IHN0cmluZztcclxuICAgIH07XHJcbiAgfSxcclxuICBwcm90bzogYW55LFxyXG4gIHJlcG9ydDogYW55XHJcbik6IFByb21pc2U8YW55PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGVuY3J5cHRBbmRTZW5kU3RhdHVzTXNnOiAnZW5jcnlwdEFuZFNlbmRTdGF0dXNNc2cnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZW5jcnlwdEFuZFNlbmRTdGF0dXNNc2dcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgMzA5MDI5ID49IDIuMjMxMi43XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBlbmNyeXB0TXNnUHJvdG9idWYoXHJcbiAgd2lkOiBXaWQsXHJcbiAgcmV0cnlDb3VudDogbnVtYmVyLFxyXG4gIHByb3RvTWVzc2FnZTogYW55XHJcbik6IFByb21pc2U8eyB0eXBlOiBzdHJpbmc7IGNpcGhlcnRleHQ6IFVpbnQ4QXJyYXkgfT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBlbmNyeXB0TXNnUHJvdG9idWY6ICdlbmNyeXB0TXNnUHJvdG9idWYnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZW5jcnlwdE1zZ1Byb3RvYnVmXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgd2VicGFjayBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTGlua1VybERhdGEge1xyXG4gIGFuY2hvcjogdW5kZWZpbmVkO1xyXG4gIGRvbWFpbj86IHN0cmluZztcclxuICBocmVmOiBzdHJpbmc7XHJcbiAgaW5kZXg6IG51bWJlcjtcclxuICBpbnB1dDogc3RyaW5nO1xyXG4gIGlzSHR0cDogYm9vbGVhbjtcclxuICBwYXJhbXM/OiBzdHJpbmc7XHJcbiAgcGF0aD86IHN0cmluZztcclxuICBwb3J0PzogbnVtYmVyO1xyXG4gIHNjaGVtZTogc3RyaW5nO1xyXG4gIHN1c3BpY2lvdXNDaGFyYWN0ZXJzPzogc3RyaW5nO1xyXG4gIHVybDogc3RyaW5nO1xyXG4gIHVzZXJuYW1lPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIExpbmtQcmV2aWV3UmVzdWx0IHtcclxuICB1cmw6IHN0cmluZztcclxuICBkYXRhOiB7XHJcbiAgICB0aXRsZT86IHN0cmluZztcclxuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xyXG4gICAgY2Fub25pY2FsVXJsPzogc3RyaW5nO1xyXG4gICAgbWF0Y2hlZFRleHQ6IHN0cmluZztcclxuICAgIHJpY2hQcmV2aWV3VHlwZTogbnVtYmVyO1xyXG4gICAgdGh1bWJuYWlsPzogc3RyaW5nO1xyXG4gICAgZG9Ob3RQbGF5SW5saW5lOiBib29sZWFuO1xyXG4gIH07XHJcbn1cclxuXHJcbi8qKiBAd2hhdHNhcHAgMTkxNDZcclxuICogQHdoYXRzYXBwIDc1ODIwID49IDIuMjIwNC4xM1xyXG4gKiBAd2hhdHNhcHAgNTE5MTQ2ID49IDIuMjIyMi44XHJcbiAqIEB3aGF0c2FwcCA2MzI1OTAgPj0gMi4yMjI4LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGZldGNoTGlua1ByZXZpZXcoXHJcbiAgdXJsOiBMaW5rVXJsRGF0YVxyXG4pOiBQcm9taXNlPG51bGwgfCBMaW5rUHJldmlld1Jlc3VsdD47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBmZXRjaExpbmtQcmV2aWV3OiBbXHJcbiAgICAgICdnZXRMaW5rUHJldmlldycsIC8vIEB3aGF0c2FwcCA+PSAyLjIzMjkuN1xyXG4gICAgICAnZGVmYXVsdCcsIC8vIEB3aGF0c2FwcCA8IDIuMjMyOS43XHJcbiAgICBdLFxyXG4gIH0sXHJcbiAgKG0sIGlkKSA9PiB7XHJcbiAgICAvLyBAd2hhdHNhcHAgPj0gMi4yMzI5LjdcclxuICAgIGlmIChtLmdldExpbmtQcmV2aWV3ICYmICFtLmdldEFjaykge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIEB3aGF0c2FwcCA8IDIuMjMyOS43XHJcbiAgICBjb25zdCBzb3VyY2U6IHN0cmluZyA9IHdlYnBhY2subW9kdWxlU291cmNlKGlkKTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIHNvdXJjZS5pbmNsdWRlcygnLmdlbk1pbmltYWxMaW5rUHJldmlldycpICYmXHJcbiAgICAgIHNvdXJjZS5pbmNsdWRlcygnLmdldFByb2R1Y3RPckNhdGFsb2dMaW5rUHJldmlldycpXHJcbiAgICApO1xyXG4gIH1cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpQW1BZG1pbiB9IGZyb20gJy4uLy4uL2dyb3VwJztcclxuaW1wb3J0IHsgaW5qZWN0RmFsbGJhY2tNb2R1bGUgfSBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBxdWVyeUdyb3VwSW52aXRlQ29kZSB9IGZyb20gJy4vcXVlcnlHcm91cEludml0ZUNvZGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCBXQVdlYk1leEZldGNoR3JvdXBJbnZpdGVDb2RlSm9iXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBmZXRjaE1leEdyb3VwSW52aXRlQ29kZShcclxuICBncm91cElkOiBXaWRcclxuKTogUHJvbWlzZTx7IGludml0ZUNvZGU6IHN0cmluZyB9PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGZldGNoTWV4R3JvdXBJbnZpdGVDb2RlOiAnZmV0Y2hNZXhHcm91cEludml0ZUNvZGUnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZmV0Y2hNZXhHcm91cEludml0ZUNvZGVcclxuKTtcclxuXHJcbmluamVjdEZhbGxiYWNrTW9kdWxlKCdmZXRjaE1leEdyb3VwSW52aXRlQ29kZScsIHtcclxuICBmZXRjaE1leEdyb3VwSW52aXRlQ29kZTogYXN5bmMgKGdyb3VwSWQ6IFdpZCkgPT4ge1xyXG4gICAgY29uc3QgaXNBZG1pbiA9IGF3YWl0IGlBbUFkbWluKGdyb3VwSWQpO1xyXG4gICAgcmV0dXJuIGF3YWl0IHF1ZXJ5R3JvdXBJbnZpdGVDb2RlKGdyb3VwSWQsIGlzQWRtaW4pLnRoZW4oXHJcbiAgICAgICh2YWx1ZSkgPT4gdmFsdWUuY29kZVxyXG4gICAgKTtcclxuICB9LFxyXG59KTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLic7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IENoYXRNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG4vKiogQHdoYXRzYXBwIDUwMTAxXHJcbiAqIEB3aGF0c2FwcCA2NTAxMDEgPj0gMi4yMjIyLjhcclxuICogQHdoYXRzYXBwIDIxMTczOSA+PSAyLjIyMjguNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZmluZENoYXQoXHJcbiAgd2lkOiBXaWQsXHJcbiAgdHlwZTogJ2NyZWF0ZUNoYXQnIHwgJ2NoYXRMaXN0VXRpbHMnIHwgJ3VzZXJuYW1lX2NvbnRhY3RsZXNzX3NlYXJjaCdcclxuKTogUHJvbWlzZTxDaGF0TW9kZWw+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZmluZENoYXQ6IFsnZmluZENoYXQnLCAnZmluZEV4aXN0aW5nQ2hhdCddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZmluZENoYXQgfHwgbS5maW5kRXhpc3RpbmdDaGF0XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQmFzZUNvbGxlY3Rpb24gfSBmcm9tICcuLi9jb2xsZWN0aW9ucyc7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IENoYXRNb2RlbCwgQ29udGFjdE1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNzE0NTc0XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBmaW5kQ29tbW9uR3JvdXBzKFxyXG4gIHdpZDogQ29udGFjdE1vZGVsXHJcbik6IFByb21pc2U8QmFzZUNvbGxlY3Rpb248Q2hhdE1vZGVsPj47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBmaW5kQ29tbW9uR3JvdXBzOiAnZmluZENvbW1vbkdyb3VwcycsXHJcbiAgfSxcclxuICAobSkgPT4gbS5maW5kQ29tbW9uR3JvdXBzXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgTGlua1VybERhdGEgfSBmcm9tICcuL2ZldGNoTGlua1ByZXZpZXcnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCAyOTkyOVxyXG4gKiBAd2hhdHNhcHAgMzEwNDIgPj0gMi4yMjA0LjEzXHJcbiAqIEB3aGF0c2FwcCA4Mjk5MjkgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGZpbmRGaXJzdFdlYkxpbmsoXHJcbiAgbWVzc2FnZTogc3RyaW5nXHJcbik6IHVuZGVmaW5lZCB8IExpbmtVcmxEYXRhO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZmluZEZpcnN0V2ViTGluazogJ2ZpbmRGaXJzdFdlYkxpbmsnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZmluZEZpcnN0V2ViTGlua1xyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5pbXBvcnQgeyBDaGF0TW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCBXQVdlYkZpbmRDaGF0QWN0aW9uXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBmaW5kT3JDcmVhdGVMYXRlc3RDaGF0KFxyXG4gIHdpZDogV2lkLFxyXG4gIHR5cGU/OlxyXG4gICAgfCAndXNlcm5hbWVfY29udGFjdGxlc3Nfc2VhcmNoJ1xyXG4gICAgfCAnZm9yd2FyZFNlbGVjdGVkTW9kYWxzJ1xyXG4gICAgfCAnbmV3Q2hhdEZsb3cnXHJcbiAgICB8ICdjaGF0SW5mb1RvcENhcmQnXHJcbik6IFByb21pc2U8e1xyXG4gIGNoYXQ6IENoYXRNb2RlbDtcclxuICBjcmVhdGVkOiBib29sZWFuO1xyXG59PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGZpbmRPckNyZWF0ZUxhdGVzdENoYXQ6ICdmaW5kT3JDcmVhdGVMYXRlc3RDaGF0JyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmZpbmRPckNyZWF0ZUxhdGVzdENoYXRcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBDaGF0TW9kZWwsIE1zZ01vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbmV4cG9ydCB0eXBlIEZvcndhcmRNZXNzYWdlc1BhcmFtcyA9IHtcclxuICBjaGF0OiBDaGF0TW9kZWw7XHJcbiAgbXNnczogTXNnTW9kZWxbXTtcclxuICBtdWx0aWNhc3Q6IGJvb2xlYW47XHJcbiAgaW5jbHVkZUNhcHRpb246IGJvb2xlYW47XHJcbiAgYXBwZW5kZWRUZXh0OiBib29sZWFuO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZm9yd2FyZE1lc3NhZ2VzKFxyXG4gIHBhcmFtczogRm9yd2FyZE1lc3NhZ2VzUGFyYW1zXHJcbik6IFByb21pc2U8QXJyYXk8YW55Pj47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBmb3J3YXJkTWVzc2FnZXM6ICdmb3J3YXJkTWVzc2FnZXMnLFxyXG4gIH0sXHJcbiAgKG0sIG1vZHVsZUlkKSA9PiBtb2R1bGVJZCA9PT0gJ1dBV2ViQ2hhdEZvcndhcmRNZXNzYWdlJ1xyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGluamVjdEZhbGxiYWNrTW9kdWxlIH0gZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IENoYXRNb2RlbCwgTXNnTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBDaGF0U3RvcmUgfSBmcm9tICcuLi9zdG9yZXMnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA2OTk1MVxyXG4gKiBAd2hhdHNhcHAgNDUwMTkyID49IDIuMjM1My4wXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBmb3J3YXJkTWVzc2FnZXNUb0NoYXRzKFxyXG4gIG1zZ3M6IE1zZ01vZGVsW10sXHJcbiAgY2hhdHM6IENoYXRNb2RlbFtdLFxyXG4gIGRpc3BsYXlDYXB0aW9uVGV4dD86IGJvb2xlYW5cclxuKTogUHJvbWlzZTxib29sZWFuPjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHsgZm9yd2FyZE1lc3NhZ2VzVG9DaGF0czogJ2ZvcndhcmRNZXNzYWdlc1RvQ2hhdHMnIH0sXHJcbiAgKG0pID0+IG0uZm9yd2FyZE1lc3NhZ2VzVG9DaGF0c1xyXG4pO1xyXG5cclxuaW5qZWN0RmFsbGJhY2tNb2R1bGUoJ2ZvcndhcmRNZXNzYWdlc1RvQ2hhdHMnLCB7XHJcbiAgZm9yd2FyZE1lc3NhZ2VzVG9DaGF0czogKFxyXG4gICAgbXNnczogTXNnTW9kZWxbXSxcclxuICAgIGNoYXRzOiBDaGF0TW9kZWxbXSxcclxuICAgIGRpc3BsYXlDYXB0aW9uVGV4dD86IGJvb2xlYW5cclxuICApOiBQcm9taXNlPGJvb2xlYW4+ID0+XHJcbiAgICBDaGF0U3RvcmUuZm9yd2FyZE1lc3NhZ2VzVG9DaGF0cyhtc2dzLCBjaGF0cywgZGlzcGxheUNhcHRpb25UZXh0KSxcclxufSk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgMzU5OTg3XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBmcm9udGVuZEZpcmVBbmRGb3JnZXQoZTogYW55LCB0OiBhbnkpOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBmcm9udGVuZEZpcmVBbmRGb3JnZXQ6ICdmcm9udGVuZEZpcmVBbmRGb3JnZXQnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZnJvbnRlbmRGaXJlQW5kRm9yZ2V0XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgV0FXZWJCb3RNZXNzYWdlU2VjcmV0XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZW5Cb3RNc2dTZWNyZXRGcm9tTXNnU2VjcmV0KGE6IGFueSk6IFByb21pc2U8YW55PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGdlbkJvdE1zZ1NlY3JldEZyb21Nc2dTZWNyZXQ6ICdnZW5Cb3RNc2dTZWNyZXRGcm9tTXNnU2VjcmV0JyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmdlbkJvdE1zZ1NlY3JldEZyb21Nc2dTZWNyZXRcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA2MTc3N1xyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2VuTGlua0RldmljZUNvZGVGb3JQaG9uZU51bWJlcihcclxuICBwaG9uZTogc3RyaW5nLFxyXG4gIHB1c2hOb3RpZmljYXRpb246IGJvb2xlYW5cclxuKTogUHJvbWlzZTxzdHJpbmc+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZ2VuTGlua0RldmljZUNvZGVGb3JQaG9uZU51bWJlcjogJ2dlbkxpbmtEZXZpY2VDb2RlRm9yUGhvbmVOdW1iZXInLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZ2VuTGlua0RldmljZUNvZGVGb3JQaG9uZU51bWJlclxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IExpbmtQcmV2aWV3UmVzdWx0LCBMaW5rVXJsRGF0YSB9IGZyb20gJy4vZmV0Y2hMaW5rUHJldmlldyc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDkyMzc1XHJcbiAqIEB3aGF0c2FwcCA2OTIzNzUgPj0gMi4yMjIyLjhcclxuICogQHdoYXRzYXBwIDMyMTEyMCA+PSAyLjIyMjguNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2VuTWluaW1hbExpbmtQcmV2aWV3KFxyXG4gIGRhdGE6IExpbmtVcmxEYXRhXHJcbik6IFByb21pc2U8bnVsbCB8IExpbmtQcmV2aWV3UmVzdWx0PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGdlbk1pbmltYWxMaW5rUHJldmlldzogJ2dlbk1pbmltYWxMaW5rUHJldmlldycsXHJcbiAgfSxcclxuICAobSkgPT4gbS5nZW5NaW5pbWFsTGlua1ByZXZpZXdcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA1MTQyOFxyXG4gKiBAd2hhdHNhcHAgNTUxNDI4ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZW5lcmF0ZVZpZGVvVGh1bWJzQW5kRHVyYXRpb24oZGF0YToge1xyXG4gIGZpbGU6IEJsb2I7XHJcbiAgbWF4RGltZW5zaW9uczogbnVtYmVyW107XHJcbiAgZGVidWdIaW50OiBzdHJpbmc7XHJcbiAgdGhyb3dPbkJsYWNrOiBib29sZWFuO1xyXG59KTogUHJvbWlzZTx7XHJcbiAgZHVyYXRpb246IG51bWJlcjtcclxuICB0aHVtYnM6IHtcclxuICAgIHVybDogc3RyaW5nO1xyXG4gICAgd2lkdGg6IG51bWJlcjtcclxuICAgIGhlaWdodDogbnVtYmVyO1xyXG4gICAgZnVsbFdpZHRoOiBudW1iZXI7XHJcbiAgICBmdWxsSGVpZ2h0OiBudW1iZXI7XHJcbiAgfVtdO1xyXG59PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGdlbmVyYXRlVmlkZW9UaHVtYnNBbmREdXJhdGlvbjogJ2dlbmVyYXRlVmlkZW9UaHVtYnNBbmREdXJhdGlvbicsXHJcbiAgfSxcclxuICAobSkgPT4gbS5nZW5lcmF0ZVZpZGVvVGh1bWJzQW5kRHVyYXRpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA5NTU0N1xyXG4gKiBAd2hhdHNhcHAgNjk1NTQ3ID49IDIuMjIyMi44XHJcbiAqIEB3aGF0c2FwcCA5MjUwODAgPj0gMi4yMjI4LjRcclxuICovXHJcblxyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRBQlByb3BDb25maWdWYWx1ZSh2YWx1ZTogYW55KTogYW55O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZ2V0QUJQcm9wQ29uZmlnVmFsdWU6ICdnZXRBQlByb3BDb25maWdWYWx1ZScsXHJcbiAgfSxcclxuICAobSkgPT4gbS5nZXRBQlByb3BDb25maWdWYWx1ZVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjIgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IE1zZ01vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgMTYzNzU1ID49IDIuMjMxOC4xMVxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0QXNNbXMobXNnOiBNc2dNb2RlbCk6IGJvb2xlYW47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBnZXRBc01tczogJ2dldEFzTW1zJywgLy8gPj0gMi4yMzEwLjRcclxuICB9LFxyXG4gIChtKSA9PiBtLmdldEFzTW1zIC8vID49IDIuMjMxMC40XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIFdBV2ViQXBpQ2hhdCA+PSAyLjMwMDAuMFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0Q2hhdFJlY29yZEJ5QWNjb3VudExpZChhOiBXaWQpOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBnZXRDaGF0UmVjb3JkQnlBY2NvdW50TGlkOiAnZ2V0Q2hhdFJlY29yZEJ5QWNjb3VudExpZCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5nZXRDaGF0UmVjb3JkQnlBY2NvdW50TGlkXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDY3MzQyN1xyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0Q29tbXVuaXR5UGFydGljaXBhbnRzKFxyXG4gIGNvbW11bml0eUlkOiBXaWRcclxuKTogUHJvbWlzZTxhbnk+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZ2V0Q29tbXVuaXR5UGFydGljaXBhbnRzOiAnZ2V0Q29tbXVuaXR5UGFydGljaXBhbnRzJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmdldENvbW11bml0eVBhcnRpY2lwYW50c1xyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDc1NTcwN1xyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0Q291bnRyeVNob3J0Y29kZUJ5UGhvbmUocGFyYW1zOiBhbnkpOiBhbnk7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBnZXRDb3VudHJ5U2hvcnRjb2RlQnlQaG9uZTogWydnZXRDb3VudHJ5U2hvcnRjb2RlQnlQaG9uZSddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZ2V0Q291bnRyeVNob3J0Y29kZUJ5UGhvbmVcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNDY5NDc1ID49IDIuMjMwNy4xMFxyXG4gKiBAd2hhdHNhcHAgMTI2NDMgPj0gMi4yMzIyLjE1XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRDdXJyZW50TGlkKHdpZDogV2lkKTogV2lkO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZ2V0Q3VycmVudExpZDogJ2dldEN1cnJlbnRMaWQnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZ2V0Q3VycmVudExpZFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjUgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCBXQVdlYkxpZE1pZ3JhdGlvblV0aWxzID49IDIuMzAwMC4wXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRFbmZvcmNlQ3VycmVudExpZChjaGF0SWQ6IFdpZCk6IGFueTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGdldEVuZm9yY2VDdXJyZW50TGlkOiBbXHJcbiAgICAgICdnZXRFbmZvcmNlQ3VycmVudExpZCcsXHJcbiAgICAgICdnZXRDdXJyZW50TGlkRm9yVXNlcldpZCcsXHJcbiAgICAgICd0b0xpZCcsXHJcbiAgICBdLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZ2V0RW5mb3JjZUN1cnJlbnRMaWQgfHwgbS5nZXRDdXJyZW50TGlkRm9yVXNlcldpZCB8fCBtLnRvTGlkXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgQ2hhdE1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNzAwMTU0ID49IDIuMjMxOC4xMVxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0RXBoZW1lcmFsRmllbGRzKGNoYXQ6IENoYXRNb2RlbCk6IHtcclxuICBlcGhlbWVyYWxEdXJhdGlvbj86IG51bWJlcjtcclxuICBlcGhlbWVyYWxTZXR0aW5nVGltZXN0YW1wPzogbnVtYmVyO1xyXG4gIGRpc2FwcGVhcmluZ01vZGVJbml0aWF0b3I/OiBudW1iZXI7XHJcbn07XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBnZXRFcGhlbWVyYWxGaWVsZHM6ICdnZXRFcGhlbWVyYWxGaWVsZHMnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZ2V0RXBoZW1lcmFsRmllbGRzXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTE9HT1VUX1JFQVNPTl9DT0RFLCBMb2dvdXRSZWFzb24gfSBmcm9tICcuLi9lbnVtcyc7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIFdBV2ViTG9nb3V0UmVhc29uID49IDIuMzAwMC54XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRFcnJvckNvZGVGcm9tTG9nb3V0UmVhc29uKFxyXG4gIHR5cGU6IExvZ291dFJlYXNvblxyXG4pOiBMT0dPVVRfUkVBU09OX0NPREUgfCBudWxsO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZ2V0RXJyb3JDb2RlRnJvbUxvZ291dFJlYXNvbjogJ2dldEVycm9yQ29kZUZyb21Mb2dvdXRSZWFzb24nLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZ2V0RXJyb3JDb2RlRnJvbUxvZ291dFJlYXNvblxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjUgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5pbXBvcnQgeyBDaGF0TW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCBXQVdlYkNoYXRHZXRFeGlzdGluZ0JyaWRnZSA+PSAyLjMwMDAuMFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0RXhpc3RpbmcoY2hhdElkOiBXaWQpOiBQcm9taXNlPENoYXRNb2RlbCB8IG51bGw+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZ2V0RXhpc3Rpbmc6ICdnZXRFeGlzdGluZycsXHJcbiAgfSxcclxuICAobSkgPT4gbS5nZXRFeGlzdGluZ1xyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCAxNjEwNFxyXG4gKiBAd2hhdHNhcHAgNDE2MTA0ID49IDIuMjIyMi44XHJcbiAqIEB3aGF0c2FwcCA5NjMzODggPj0gMi4yMjI0LjdcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldEZhbk91dExpc3QocGFyYW06IHsgd2lkczogV2lkW10gfSk6IFByb21pc2U8V2lkW10+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZ2V0RmFuT3V0TGlzdDogJ2dldEZhbk91dExpc3QnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZ2V0RmFuT3V0TGlzdFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA0MzIwMVxyXG4gKiBAd2hhdHNhcHAgNTQzMjAxID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRHcm91cFNlbmRlcktleUxpc3Qod2lkOiBXaWQpOiBQcm9taXNlPHtcclxuICBza0xpc3Q6IFdpZFtdO1xyXG4gIHNrRGlzdHJpYkxpc3Q6IFdpZFtdO1xyXG4gIHJvdGF0ZUtleTogYm9vbGVhbjtcclxufT47XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDQzMjAxXHJcbiAqIEB3aGF0c2FwcCA1NDMyMDEgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIG1hcmtGb3JnZXRTZW5kZXJLZXkoXHJcbiAgd2lkOiBXaWQsXHJcbiAgcGFydGljaXBhbnRzOiBXaWRbXVxyXG4pOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBnZXRHcm91cFNlbmRlcktleUxpc3Q6ICdnZXRHcm91cFNlbmRlcktleUxpc3QnLFxyXG4gICAgbWFya0ZvcmdldFNlbmRlcktleTogJ21hcmtGb3JnZXRTZW5kZXJLZXknLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZ2V0R3JvdXBTZW5kZXJLZXlMaXN0XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgOTc4NTggPj0gMi4yMzA0LjdcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldEdyb3VwU2l6ZUxpbWl0KGdyb3VwVHlwZT86IHN0cmluZyk6IG51bWJlcjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGdldEdyb3VwU2l6ZUxpbWl0OiAnZ2V0R3JvdXBTaXplTGltaXQnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZ2V0R3JvdXBTaXplTGltaXRcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBIaXN0b3J5U3luY1Byb2dyZXNzTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA2NDk5NTkgPj0gMi4yMjQ0LjVcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldEhpc3RvcnlTeW5jUHJvZ3Jlc3MoKTogSGlzdG9yeVN5bmNQcm9ncmVzc01vZGVsO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZ2V0SGlzdG9yeVN5bmNQcm9ncmVzczogW1xyXG4gICAgICAnZ2V0SGlzdG9yeVN5bmNQcm9ncmVzc01vZGVsJywgLy8gQHdoYXRzYXBwID49IDIuMjQwMi4yXHJcbiAgICAgICdnZXRIaXN0b3J5U3luY1Byb2dyZXNzJyxcclxuICAgIF0sXHJcbiAgfSxcclxuICAobSkgPT5cclxuICAgIG0uZ2V0SGlzdG9yeVN5bmNQcm9ncmVzc01vZGVsIHx8IC8vIEB3aGF0c2FwcCA+PSAyLjI0MDIuMlxyXG4gICAgKG0uZ2V0SGlzdG9yeVN5bmNQcm9ncmVzcyAmJiAhbS5nZXRIaXN0b3J5U3luY0xvZ0RldGFpbHNTdHJpbmcpXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcblxyXG4vKiogQHdoYXRzYXBwIDc3OTQyM1xyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0TWVtYmVyc2hpcEFwcHJvdmFsUmVxdWVzdHMoXHJcbiAgZ3JvdXBJZDogV2lkXHJcbik6IFByb21pc2U8YW55PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGdldE1lbWJlcnNoaXBBcHByb3ZhbFJlcXVlc3RzOiAnZ2V0TWVtYmVyc2hpcEFwcHJvdmFsUmVxdWVzdHMnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZ2V0TWVtYmVyc2hpcEFwcHJvdmFsUmVxdWVzdHNcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgMjc2MDg0XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXROZXdzbGV0dGVyU3Vic2NyaWJlcnMoXHJcbiAgamlkOiBzdHJpbmcsXHJcbiAgcGFyYW0yOiBudW1iZXIsXHJcbiAgdmlldzogJ0xJTUlURUQnXHJcbik6IFByb21pc2U8e1xyXG4gIHN1YnNjcmliZXJzOiB7XHJcbiAgICBpZDogV2lkO1xyXG4gICAgaXNDb250YWN0PzogYm9vbGVhbjtcclxuICAgIGlzR3JvdXA/OiBib29sZWFuO1xyXG4gICAgaXNPbmxpbmU/OiBib29sZWFuO1xyXG4gICAgaXNVc2VyPzogYm9vbGVhbjtcclxuICAgIHNob3J0bmFtZT86IHN0cmluZztcclxuICAgIHN0YXRlPzogc3RyaW5nO1xyXG4gICAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XHJcbiAgICBwaG9uZU51bWJlcj86IHN0cmluZztcclxuICAgIHN1YnNjcmliZVRpbWU/OiBudW1iZXI7XHJcbiAgICB0OiBudW1iZXI7XHJcbiAgfVtdO1xyXG59PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGdldE5ld3NsZXR0ZXJTdWJzY3JpYmVyczogJ2dldE5ld3NsZXR0ZXJTdWJzY3JpYmVycycsXHJcbiAgfSxcclxuICAobSkgPT4gbS5nZXROZXdzbGV0dGVyU3Vic2NyaWJlcnNcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCAyNjMxMzNcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldE5leHRMYWJlbElkKCk6IFByb21pc2U8bnVtYmVyPjtcclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZ2V0TmV4dExhYmVsSWQ6ICdnZXROZXh0TGFiZWxJZCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5nZXROZXh0TGFiZWxJZFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDk1NTQ3XHJcbiAqIEB3aGF0c2FwcCA2OTU1NDcgPj0gMi4yMjIyLjhcclxuICogQHdoYXRzYXBwIDkyNTA4MCA+PSAyLjIyMjguNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0TnVtQ2hhdHNQaW5uZWQodmFsdWU6IGFueSk6IGFueTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGdldE51bUNoYXRzUGlubmVkOiBbJ2dldE51bUNoYXRzUGlubmVkJywgJ2dldE51bUNvbnZlcnNhdGlvbnNQaW5uZWQnXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLmdldE51bUNoYXRzUGlubmVkIHx8IG0uZ2V0TnVtQ29udmVyc2F0aW9uc1Bpbm5lZFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IE1zZ01vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNzA2MTk3ID0+IDIuMjMzNS45XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRPcmRlckluZm8obXNnOiBNc2dNb2RlbCk6IGJvb2xlYW47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBnZXRPcmRlckluZm86ICdnZXRPcmRlckluZm8nLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZ2V0T3JkZXJJbmZvXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDk1MTk3NCA+PSAyLjIyMjIuOFxyXG4gKiBAd2hhdHNhcHAgMzE4NjE1ID49IDIuMjIyNC43XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRQYXJ0aWNpcGFudHMoZ3JvdXA6IFdpZCk6IFByb21pc2U8bnVsbCB8IHtcclxuICBhZG1pbnM6IHN0cmluZ1tdO1xyXG4gIGRldmljZVN5bmNDb21wbGV0ZT86IGFueTtcclxuICBncm91cElkOiBzdHJpbmc7XHJcbiAgcGFydGljaXBhbnRzOiBzdHJpbmdbXTtcclxuICBwYXN0UGFydGljaXBhbnRzOiBzdHJpbmdbXTtcclxuICByb3RhdGVLZXk6IGJvb2xlYW47XHJcbiAgc2VuZGVyS2V5OiBNYXA8c3RyaW5nLCBib29sZWFuPjtcclxufT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBnZXRQYXJ0aWNpcGFudHM6ICdnZXRQYXJ0aWNpcGFudHMnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZ2V0UGFydGljaXBhbnRzICYmIG0uYWRkUGFydGljaXBhbnRzXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIFdBV2ViQXBpQ29udGFjdFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0UGhvbmVOdW1iZXIod2lkOiBXaWQpOiBhbnk7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBnZXRQaG9uZU51bWJlcjogJ2dldFBob25lTnVtYmVyJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmdldFBob25lTnVtYmVyXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbmRlY2xhcmUgY2xhc3MgRGlzYWxsb3dlZExpc3RUYWJsZSB7XHJcbiAgZ2V0KHR5cGU6ICdzdGF0dXMnIHwgJ2dyb3VwYWRkJyB8ICdsYXN0JyB8ICdwcm9maWxlJyk6IFByb21pc2U8e1xyXG4gICAgZGhhc2g6IG51bWJlcjtcclxuICAgIGRpc2FsbG93ZWRMaXN0OiBzdHJpbmdbXTtcclxuICAgIGlkOiAnc3RhdHVzJyB8ICdncm91cGFkZCcgfCAnbGFzdCcgfCAncHJvZmlsZSc7XHJcbiAgfSB8IG51bGw+O1xyXG59XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIFdBV2ViU2NoZW1hUHJpdmFjeURpc2FsbG93ZWRMaXN0ID49IDIuMzAwMC4wXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRQcml2YWN5RGlzYWxsb3dlZExpc3RUYWJsZSgpOiBEaXNhbGxvd2VkTGlzdFRhYmxlO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZ2V0UHJpdmFjeURpc2FsbG93ZWRMaXN0VGFibGU6ICdnZXRQcml2YWN5RGlzYWxsb3dlZExpc3RUYWJsZScsXHJcbiAgfSxcclxuICAobSkgPT4gbS5nZXRQcml2YWN5RGlzYWxsb3dlZExpc3RUYWJsZVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDEzNTk2MyA+PSAyLjIzMTAuNVxyXG4gKiBAd2hhdHNhcHAgV0FXZWJVc2VyUHJlZnNHZW5lcmFsID49IDIuMzAwMC4wXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRQdXNobmFtZSgpOiBzdHJpbmc7XHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldFVzZXJQcml2YWN5U2V0dGluZ3MoKToge1xyXG4gIGFib3V0OiBzdHJpbmc7XHJcbiAgY2FsbEFkZDogc3RyaW5nO1xyXG4gIGdyb3VwQWRkOiBzdHJpbmc7XHJcbiAgbGFzdFNlZW46IHN0cmluZztcclxuICBvbmxpbmU6IHN0cmluZztcclxuICBwcm9maWxlUGljdHVyZTogc3RyaW5nO1xyXG4gIHJlYWRSZWNlaXB0czogc3RyaW5nO1xyXG59O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZ2V0UHVzaG5hbWU6ICdnZXRQdXNobmFtZScsXHJcbiAgICBnZXRVc2VyUHJpdmFjeVNldHRpbmdzOiAnZ2V0VXNlclByaXZhY3lTZXR0aW5ncycsXHJcbiAgfSxcclxuICAobSkgPT4gbS5nZXRQdXNobmFtZSAmJiBtLnNldEJyb3dzZXJJZCAmJiBtLmdldFVzZXJQcml2YWN5U2V0dGluZ3NcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIyIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBNc2dNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDY5NzE4MCA+PSAyLjIyNDUuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0UXVvdGVkTXNnT2JqKG1zZzogTXNnTW9kZWwpOiBNc2dNb2RlbDtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGdldFF1b3RlZE1zZ09iajogJ2dldFF1b3RlZE1zZ09iaicsXHJcbiAgfSxcclxuICAobSkgPT4gbS5nZXRRdW90ZWRNc2dPYmpcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIyIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBNc2dLZXkgfSBmcm9tICcuLi9taXNjJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgMjk3NjczXHJcbiAqIEB3aGF0c2FwcCAyOTc2NzMgPj0gMi4yMjMyLjZcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVhY3Rpb25SZXR1cm4ge1xyXG4gIHJlYWN0aW9uQnlNZTogYW55O1xyXG4gIHJlYWN0aW9uczoge1xyXG4gICAgYWdncmVnYXRlRW1vamk6IHN0cmluZztcclxuICAgIGhhc1JlYWN0aW9uQnlNZTogYm9vbGVhbjtcclxuICAgIHNlbmRlcnM6IHtcclxuICAgICAgbXNnS2V5OiBNc2dLZXk7XHJcbiAgICAgIG9ycGhhbjogbnVtYmVyO1xyXG4gICAgICBwYXJlbnRNc2dLZXk6IE1zZ0tleTtcclxuICAgICAgcmVhY3Rpb25UZXh0OiBzdHJpbmc7XHJcbiAgICAgIHJlYWQ6IGJvb2xlYW47XHJcbiAgICAgIHNlbmRlclVzZXJKaWQ6IHN0cmluZztcclxuICAgICAgdGltZXN0YW1wOiBudW1iZXI7XHJcbiAgICB9W107XHJcbiAgfVtdO1xyXG59XHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldFJlYWN0aW9ucyhtc2dJZDogc3RyaW5nKTogUHJvbWlzZTxSZWFjdGlvblJldHVybj47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBnZXRSZWFjdGlvbnM6ICdnZXRSZWFjdGlvbnMnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZ2V0UmVhY3Rpb25zXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgTXNnS2V5LCBNc2dMb2FkIH0gZnJvbSAnLi4vbWlzYyc7XHJcbmltcG9ydCB7IENoYXRNb2RlbCwgTXNnTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA3Mzg1OTkgPj0gMi4yMjQyLjVcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldFNlYXJjaENvbnRleHQoXHJcbiAgY2hhdDogQ2hhdE1vZGVsIHwgc3RyaW5nLFxyXG4gIG1zZzogTXNnTW9kZWwgfCBNc2dLZXkgfCBzdHJpbmcsXHJcbiAgb3B0aW9ucz86IHtcclxuICAgIGlzUXVvdGVkTXNnQXZhaWxhYmxlOiBib29sZWFuO1xyXG4gIH1cclxuKToge1xyXG4gIGNvbGxlY3Rpb246IE1zZ0xvYWQ7XHJcbiAgbXNnPzogTXNnTW9kZWw7XHJcbiAga2V5PzogTXNnS2V5O1xyXG4gIGhpZ2hsaWdodE1zZzogdHJ1ZTtcclxufTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGdldFNlYXJjaENvbnRleHQ6ICdnZXRTZWFyY2hDb250ZXh0JyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmdldFNlYXJjaENvbnRleHRcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpbmplY3RGYWxsYmFja01vZHVsZSB9IGZyb20gJy4uLy4uL3dlYnBhY2snO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBDaGF0TW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCBXQVdlYkdldHRlcnNcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldFNob3VsZEFwcGVhckluTGlzdChjaGF0OiBDaGF0TW9kZWwpOiBib29sZWFuO1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRQcmV2aWV3TWVzc2FnZShjaGF0OiBDaGF0TW9kZWwpOiBhbnlbXTtcclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0U2hvd0NoYW5nZU51bWJlck5vdGlmaWNhdGlvbihcclxuICBjaGF0OiBDaGF0TW9kZWxcclxuKTogYm9vbGVhbjtcclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0U2hvdWxkU2hvd1VucmVhZERpdmlkZXIoY2hhdDogQ2hhdE1vZGVsKTogYm9vbGVhbjtcclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0SGFzVW5yZWFkKGNoYXQ6IENoYXRNb2RlbCk6IGJvb2xlYW47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBnZXRTaG91bGRBcHBlYXJJbkxpc3Q6ICdnZXRTaG91bGRBcHBlYXJJbkxpc3QnLFxyXG4gICAgZ2V0UHJldmlld01lc3NhZ2U6ICdnZXRQcmV2aWV3TWVzc2FnZScsXHJcbiAgICBnZXRTaG93Q2hhbmdlTnVtYmVyTm90aWZpY2F0aW9uOiAnZ2V0U2hvd0NoYW5nZU51bWJlck5vdGlmaWNhdGlvbicsXHJcbiAgICBnZXRTaG91bGRTaG93VW5yZWFkRGl2aWRlcjogJ2dldFNob3VsZFNob3dVbnJlYWREaXZpZGVyJyxcclxuICB9LFxyXG4gIChtKSA9PlxyXG4gICAgbS5nZXRTaG91bGRBcHBlYXJJbkxpc3QgJiZcclxuICAgIG0uZ2V0UHJldmlld01lc3NhZ2UgJiZcclxuICAgIG0uZ2V0U2hvd0NoYW5nZU51bWJlck5vdGlmaWNhdGlvbiAmJlxyXG4gICAgbS5nZXRTaG91bGRTaG93VW5yZWFkRGl2aWRlclxyXG4pO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZ2V0SGFzVW5yZWFkOiAnZ2V0SGFzVW5yZWFkJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmdldEhhc1VucmVhZFxyXG4pO1xyXG5cclxuaW5qZWN0RmFsbGJhY2tNb2R1bGUoJ2dldFNob3VsZEFwcGVhckluTGlzdCcsIHtcclxuICBnZXRTaG91bGRBcHBlYXJJbkxpc3Q6IChjaGF0OiBDaGF0TW9kZWwpID0+IGNoYXQuc2hvdWxkQXBwZWFySW5MaXN0LFxyXG4gIGdldFByZXZpZXdNZXNzYWdlOiAoY2hhdDogQ2hhdE1vZGVsKSA9PiBjaGF0LnByZXZpZXdNZXNzYWdlLFxyXG4gIGdldFNob3dDaGFuZ2VOdW1iZXJOb3RpZmljYXRpb246IChjaGF0OiBDaGF0TW9kZWwpID0+XHJcbiAgICBjaGF0LnNob3dDaGFuZ2VOdW1iZXJOb3RpZmljYXRpb24sXHJcbiAgZ2V0U2hvdWxkU2hvd1VucmVhZERpdmlkZXI6IChjaGF0OiBDaGF0TW9kZWwpID0+IGNoYXQuc2hvdWxkU2hvd1VucmVhZERpdmlkZXIsXHJcbn0pO1xyXG5cclxuaW5qZWN0RmFsbGJhY2tNb2R1bGUoJ2dldEhhc1VucmVhZCcsIHtcclxuICBnZXRIYXNVbnJlYWQ6IChjaGF0OiBDaGF0TW9kZWwpID0+IGNoYXQuaGFzVW5yZWFkLFxyXG59KTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgV0FXZWJVc2VyUHJlZnNTdGF0dXMgPj0gMi4zMDAwLjBcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldFN0YXR1c0FsbG93TGlzdCgpOiBQcm9taXNlPGFueT47XHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGdldFN0YXR1c0NvbnRhY3RzKCk6IFByb21pc2U8YW55PjtcclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0U3RhdHVzRGVueUxpc3QoKTogUHJvbWlzZTxhbnk+O1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRTdGF0dXNMaXN0KCk6IFByb21pc2U8YW55PjtcclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0U3RhdHVzUHJpdmFjeVNldHRpbmcoKTogUHJvbWlzZTxhbnk+O1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRTdGF0dXNQcml2YWN5U2V0dGluZ0NvbmZpZygpOiBQcm9taXNlPGFueT47XHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHNldFN0YXR1c1ByaXZhY3lDb25maWcoYXR0cmlidXRlcz86IHtcclxuICBzZXR0aW5nOiAnY29udGFjdCcgfCAnZGVueS1saXN0JyB8ICdhbGxvdy1saXN0JztcclxuICBsaXN0OiBXaWRbXTtcclxufSk6IFByb21pc2U8YW55PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGdldFN0YXR1c0FsbG93TGlzdDogJ2RlZmF1bHQuZ2V0U3RhdHVzQWxsb3dMaXN0JyxcclxuICAgIGdldFN0YXR1c0NvbnRhY3RzOiAnZGVmYXVsdC5nZXRTdGF0dXNDb250YWN0cycsXHJcbiAgICBnZXRTdGF0dXNEZW55TGlzdDogJ2RlZmF1bHQuZ2V0U3RhdHVzRGVueUxpc3QnLFxyXG4gICAgZ2V0U3RhdHVzTGlzdDogJ2RlZmF1bHQuZ2V0U3RhdHVzTGlzdCcsXHJcbiAgICBnZXRTdGF0dXNQcml2YWN5U2V0dGluZzogJ2RlZmF1bHQuZ2V0U3RhdHVzUHJpdmFjeVNldHRpbmcnLFxyXG4gICAgZ2V0U3RhdHVzUHJpdmFjeVNldHRpbmdDb25maWc6ICdkZWZhdWx0LmdldFN0YXR1c1ByaXZhY3lTZXR0aW5nQ29uZmlnJyxcclxuICAgIHNldFN0YXR1c1ByaXZhY3lDb25maWc6ICdkZWZhdWx0LnNldFN0YXR1c1ByaXZhY3lDb25maWcnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZGVmYXVsdC5nZXRTdGF0dXNMaXN0XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgV0FXZWJQb2xsc1ZvdGVzU2NoZW1hID0+IDIuMzAwMC54XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRUYWJsZVZvdGVzKGFyZ3M/OiBhbnkpOiBhbnk7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBnZXRUYWJsZVZvdGVzOiBbJ2dldFRhYmxlJ10sXHJcbiAgfSxcclxuICAobSkgPT4gbS5nZXRUYWJsZS50b1N0cmluZygpLmluY2x1ZGVzKCdwb2xsJylcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIyIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpbmplY3RGYWxsYmFja01vZHVsZSB9IGZyb20gJy4uLy4uL3dlYnBhY2snO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBNc2dLZXkgfSBmcm9tICcuLi9taXNjJztcclxuaW1wb3J0IHsgZ2V0VGFibGVWb3RlcyB9IGZyb20gJy4vZ2V0VGFibGVWb3Rlcyc7XHJcbmltcG9ydCB7IFZvdGVEYXRhIH0gZnJvbSAnLi91cHNlcnRWb3Rlcyc7XHJcbmltcG9ydCB7IHZvdGVGcm9tRGJSb3cgfSBmcm9tICcuL3ZvdGVGcm9tRGJSb3cnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA4MTYzNDlcclxuICogQHdoYXRzYXBwIDgxNjM0OSA+PSAyLjIyMzIuNlxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0Vm90ZXMoaWQ6IE1zZ0tleVtdKTogUHJvbWlzZTxWb3RlRGF0YVtdPjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGdldFZvdGVzOiAnZ2V0Vm90ZXMnLFxyXG4gICAgZ2V0Vm90ZTogJ2dldFZvdGUnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZ2V0Vm90ZXMgJiYgbS5nZXRWb3RlXHJcbik7XHJcblxyXG4vLyBGaXggZm9yIHZlcnNpb24gPT4gMi4zMDAwLjEwMTI2NTQ5MDFcclxuaW5qZWN0RmFsbGJhY2tNb2R1bGUoJ2dldFZvdGVzJywge1xyXG4gIGdldFZvdGU6IChtc2dLZXk6IE1zZ0tleSkgPT4gbXNnS2V5LFxyXG4gIGdldFZvdGVzOiBhc3luYyAoa2V5czogTXNnS2V5W10pID0+IHtcclxuICAgIGNvbnN0IHZvdGVzID0gYXdhaXQgZ2V0VGFibGVWb3RlcygpLmFueU9mKFxyXG4gICAgICBbJ3BhcmVudE1zZ0tleSddLFxyXG4gICAgICBrZXlzLm1hcCgoa2V5KSA9PiBrZXkudG9TdHJpbmcoKSlcclxuICAgICk7XHJcbiAgICByZXR1cm4gdm90ZXMubWFwKCh2b3RlOiBhbnkpID0+IHZvdGVGcm9tRGJSb3codm90ZSkpO1xyXG4gIH0sXHJcbn0pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDc1NzQ1M1xyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZ2V0V2hhdHNBcHBXZWJFeHRlcm5hbEJldGFKb2luZWRJZGIoKTogUHJvbWlzZTxhbnk+O1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBzZXRXaGF0c0FwcFdlYkV4dGVybmFsQmV0YURpcnR5Qml0SWRiKFxyXG4gIHZhbHVlOiBib29sZWFuXHJcbik6IFByb21pc2U8YW55PjtcclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gc2V0V2hhdHNBcHBXZWJFeHRlcm5hbEJldGFKb2luZWRJZGIoXHJcbiAgdmFsdWU6IGJvb2xlYW5cclxuKTogUHJvbWlzZTxhbnk+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgZ2V0V2hhdHNBcHBXZWJFeHRlcm5hbEJldGFKb2luZWRJZGI6IFtcclxuICAgICAgJ2dldFdoYXRzQXBwV2ViRXh0ZXJuYWxCZXRhSm9pbmVkSWRiJywgLy8gQHdoYXRzYXBwID49IDIuMjMwNy4xMFxyXG4gICAgICAnZ2V0V2hhdHNBcHBXZWJCZXRhSm9pbmVkJyxcclxuICAgIF0sXHJcbiAgICBzZXRXaGF0c0FwcFdlYkV4dGVybmFsQmV0YURpcnR5Qml0SWRiOiBbXHJcbiAgICAgICdzZXRXaGF0c0FwcFdlYkV4dGVybmFsQmV0YURpcnR5Qml0SWRiJywgLy8gQHdoYXRzYXBwID49IDIuMjMwNy4xMFxyXG4gICAgICAnc2V0V2hhdHNBcHBXZWJCZXRhRGlydHlCaXQnLFxyXG4gICAgXSxcclxuICAgIHNldFdoYXRzQXBwV2ViRXh0ZXJuYWxCZXRhSm9pbmVkSWRiOiBbXHJcbiAgICAgICdzZXRXaGF0c0FwcFdlYkV4dGVybmFsQmV0YUpvaW5lZElkYicsIC8vIEB3aGF0c2FwcCA+PSAyLjIzMDcuMTBcclxuICAgICAgJ3NldFdoYXRzQXBwV2ViQmV0YUpvaW5lZCcsXHJcbiAgICBdLFxyXG4gIH0sXHJcbiAgKG0pID0+XHJcbiAgICAobS5nZXRXaGF0c0FwcFdlYkV4dGVybmFsQmV0YUpvaW5lZElkYiAmJlxyXG4gICAgICBtLnNldFdoYXRzQXBwV2ViRXh0ZXJuYWxCZXRhRGlydHlCaXRJZGIgJiZcclxuICAgICAgbS5zZXRXaGF0c0FwcFdlYkV4dGVybmFsQmV0YUpvaW5lZElkYikgfHwgLy8gQHdoYXRzYXBwID49IDIuMjMwNy4xMFxyXG4gICAgKG0uZ2V0V2hhdHNBcHBXZWJCZXRhSm9pbmVkICYmXHJcbiAgICAgIG0uc2V0V2hhdHNBcHBXZWJCZXRhRGlydHlCaXQgJiZcclxuICAgICAgbS5zZXRXaGF0c0FwcFdlYkJldGFKb2luZWQpIC8vIEB3aGF0c2FwcCA8IDIuMjMwNy4xMFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENoYXRNb2RlbCwgUGFydGljaXBhbnRNb2RlbCB9IGZyb20gJy4uJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgODkzODlcclxuICogQHdoYXRzYXBwIDM4OTM4OSA+PSAyLjIyMjIuOFxyXG4gKiBAd2hhdHNhcHAgODE1NTYyID49IDIuMjIyOC40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBhZGRQYXJ0aWNpcGFudHMoXHJcbiAgZ3JvdXA6IENoYXRNb2RlbCxcclxuICBwYXJ0aWNpcGFudHM6IFBhcnRpY2lwYW50TW9kZWxbXVxyXG4pOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuLyoqIEB3aGF0c2FwcCA4OTM4OVxyXG4gKiBAd2hhdHNhcHAgMzg5Mzg5ID49IDIuMjIyMi44XHJcbiAqIEB3aGF0c2FwcCA4MTU1NjIgPj0gMi4yMjI4LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHJlbW92ZVBhcnRpY2lwYW50cyhcclxuICBncm91cDogQ2hhdE1vZGVsLFxyXG4gIHBhcnRpY2lwYW50czogUGFydGljaXBhbnRNb2RlbFtdXHJcbik6IFByb21pc2U8dm9pZD47XHJcblxyXG4vKiogQHdoYXRzYXBwIDg5Mzg5XHJcbiAqIEB3aGF0c2FwcCAzODkzODkgPj0gMi4yMjIyLjhcclxuICogQHdoYXRzYXBwIDgxNTU2MiA+PSAyLjIyMjguNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gcHJvbW90ZVBhcnRpY2lwYW50cyhcclxuICBncm91cDogQ2hhdE1vZGVsLFxyXG4gIHBhcnRpY2lwYW50czogUGFydGljaXBhbnRNb2RlbFtdXHJcbik6IFByb21pc2U8dm9pZD47XHJcblxyXG4vKiogQHdoYXRzYXBwIDg5Mzg5XHJcbiAqIEB3aGF0c2FwcCAzODkzODkgPj0gMi4yMjIyLjhcclxuICogQHdoYXRzYXBwIDgxNTU2MiA+PSAyLjIyMjguNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gZGVtb3RlUGFydGljaXBhbnRzKFxyXG4gIGdyb3VwOiBDaGF0TW9kZWwsXHJcbiAgcGFydGljaXBhbnRzOiBQYXJ0aWNpcGFudE1vZGVsW11cclxuKTogUHJvbWlzZTx2b2lkPjtcclxuXHJcbi8qKiBAd2hhdHNhcHAgNjg4NDYwXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBwcm9tb3RlQ29tbXVuaXR5UGFydGljaXBhbnRzKFxyXG4gIGdyb3VwOiBDaGF0TW9kZWwsXHJcbiAgcGFydGljaXBhbnRzOiBQYXJ0aWNpcGFudE1vZGVsW11cclxuKTogUHJvbWlzZTx2b2lkPjtcclxuXHJcbi8qKiBAd2hhdHNhcHAgNjg4NDYwXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBkZW1vdGVDb21tdW5pdHlQYXJ0aWNpcGFudHMoXHJcbiAgZ3JvdXA6IENoYXRNb2RlbCxcclxuICBwYXJ0aWNpcGFudHM6IFBhcnRpY2lwYW50TW9kZWxbXVxyXG4pOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgYWRkUGFydGljaXBhbnRzOiAnYWRkUGFydGljaXBhbnRzJyxcclxuICAgIHJlbW92ZVBhcnRpY2lwYW50czogJ3JlbW92ZVBhcnRpY2lwYW50cycsXHJcbiAgICBwcm9tb3RlQ29tbXVuaXR5UGFydGljaXBhbnRzOiAncHJvbW90ZUNvbW11bml0eVBhcnRpY2lwYW50cycsXHJcbiAgICBwcm9tb3RlUGFydGljaXBhbnRzOiAncHJvbW90ZVBhcnRpY2lwYW50cycsXHJcbiAgICBkZW1vdGVDb21tdW5pdHlQYXJ0aWNpcGFudHM6ICdkZW1vdGVDb21tdW5pdHlQYXJ0aWNpcGFudHMnLFxyXG4gICAgZGVtb3RlUGFydGljaXBhbnRzOiAnZGVtb3RlUGFydGljaXBhbnRzJyxcclxuICB9LFxyXG4gIChtKSA9PlxyXG4gICAgbS5hZGRQYXJ0aWNpcGFudHMgJiZcclxuICAgIG0ucmVtb3ZlUGFydGljaXBhbnRzICYmXHJcbiAgICBtLnByb21vdGVDb21tdW5pdHlQYXJ0aWNpcGFudHMgJiZcclxuICAgIG0ucHJvbW90ZVBhcnRpY2lwYW50cyAmJlxyXG4gICAgbS5kZW1vdGVDb21tdW5pdHlQYXJ0aWNpcGFudHMgJiZcclxuICAgIG0uZGVtb3RlUGFydGljaXBhbnRzICYmXHJcbiAgICAhbS51cGRhdGVQYXJ0aWNpcGFudHNcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU2ltcGxlQWNrRGF0YSB7XHJcbiAgdHlwZTogc3RyaW5nO1xyXG4gIHN0YW56YUlkOiBzdHJpbmc7XHJcbiAgZXh0ZXJuYWxJZHM6IHN0cmluZ1tdO1xyXG4gIGZyb206IFdpZDtcclxuICBwYXJ0aWNpcGFudDogbnVsbCB8IFdpZDtcclxuICByZWNpcGllbnQ6IG51bGw7XHJcbiAgdHM6IG51bWJlcjtcclxuICBhY2s6IG51bWJlcjtcclxuICBhY2tTdHJpbmc6IG51bGwgfCBzdHJpbmc7XHJcbiAgb2ZmbGluZTogbnVsbDtcclxuICBiaXo/OiBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDkwNzU2XHJcbiAqIEBkZXByZWNhdGVkXHJcbiAqIEB3aGF0c2FwcCA1OTA3NTYgPj0gMi4yMjIyLjhcclxuICogQHdoYXRzYXBwIDU4NTI5NCA+PSAyLjIyMzAuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gaGFuZGxlU3RhdHVzU2ltcGxlQWNrKFxyXG4gIGFja0RhdGE6IFNpbXBsZUFja0RhdGFcclxuKTogUHJvbWlzZTxhbnk+O1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA0ODMwOVxyXG4gKiBAZGVwcmVjYXRlZFxyXG4gKiBAd2hhdHNhcHAgNjQ4MzA5ID49IDIuMjIyMi44XHJcbiAqIEB3aGF0c2FwcCA0NzE4NzMgPj0gMi4yMjMwLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGhhbmRsZUNoYXRTaW1wbGVBY2soXHJcbiAgYWNrRGF0YTogU2ltcGxlQWNrRGF0YVxyXG4pOiBQcm9taXNlPGFueT47XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDg0OTQ3XHJcbiAqIEBkZXByZWNhdGVkXHJcbiAqIEB3aGF0c2FwcCAyODQ5NDcgPj0gMi4yMjIyLjhcclxuICogQHdoYXRzYXBwIDM1OTU1NCA+PSAyLjIyMzAuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gaGFuZGxlR3JvdXBTaW1wbGVBY2soXHJcbiAgYWNrRGF0YTogU2ltcGxlQWNrRGF0YVxyXG4pOiBQcm9taXNlPGFueT47XHJcblxyXG4vKiogQHdoYXRzYXBwIDkwNzU2XHJcbiAqIEB3aGF0c2FwcCA1OTA3NTYgPj0gMi4yMjIyLjhcclxuICogQHdoYXRzYXBwIDU4NTI5NCA+PSAyLjIyMzAuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gaGFuZGxlU3RhdHVzU2ltcGxlUmVjZWlwdChcclxuICBhY2tEYXRhOiBTaW1wbGVBY2tEYXRhXHJcbik6IFByb21pc2U8YW55PjtcclxuXHJcbi8qKiBAd2hhdHNhcHAgNDgzMDlcclxuICogQHdoYXRzYXBwIDY0ODMwOSA+PSAyLjIyMjIuOFxyXG4gKiBAd2hhdHNhcHAgNDcxODczID49IDIuMjIzMC44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBoYW5kbGVDaGF0U2ltcGxlUmVjZWlwdChcclxuICBhY2tEYXRhOiBTaW1wbGVBY2tEYXRhXHJcbik6IFByb21pc2U8YW55PjtcclxuXHJcbi8qKiBAd2hhdHNhcHAgODQ5NDdcclxuICogQHdoYXRzYXBwIDI4NDk0NyA+PSAyLjIyMjIuOFxyXG4gKiBAd2hhdHNhcHAgMzU5NTU0ID49IDIuMjIzMC44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBoYW5kbGVHcm91cFNpbXBsZVJlY2VpcHQoXHJcbiAgYWNrRGF0YTogU2ltcGxlQWNrRGF0YVxyXG4pOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBoYW5kbGVTdGF0dXNTaW1wbGVBY2s6IFsnaGFuZGxlU3RhdHVzU2ltcGxlUmVjZWlwdCddLFxyXG4gICAgaGFuZGxlU3RhdHVzU2ltcGxlUmVjZWlwdDogWydoYW5kbGVTdGF0dXNTaW1wbGVSZWNlaXB0J10sXHJcbiAgfSxcclxuICAobSkgPT4gbS5oYW5kbGVTdGF0dXNTaW1wbGVSZWNlaXB0XHJcbik7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBoYW5kbGVDaGF0U2ltcGxlQWNrOiBbJ2hhbmRsZUNoYXRTaW1wbGVSZWNlaXB0J10sXHJcbiAgICBoYW5kbGVDaGF0U2ltcGxlUmVjZWlwdDogWydoYW5kbGVDaGF0U2ltcGxlUmVjZWlwdCddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uaGFuZGxlQ2hhdFNpbXBsZVJlY2VpcHRcclxuKTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGhhbmRsZUdyb3VwU2ltcGxlQWNrOiBbJ2hhbmRsZUdyb3VwU2ltcGxlUmVjZWlwdCddLFxyXG4gICAgaGFuZGxlR3JvdXBTaW1wbGVSZWNlaXB0OiBbJ2hhbmRsZUdyb3VwU2ltcGxlUmVjZWlwdCddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uaGFuZGxlR3JvdXBTaW1wbGVSZWNlaXB0XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgUmF3TWVzc2FnZSB9IGZyb20gJy4uLy4uL2NoYXQnO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgMzU5NTU0ID49IDIuMjIzMC44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBoYW5kbGVTaW5nbGVNc2coXHJcbiAgd2lkOiBXaWQsXHJcbiAgbXNnOiBSYXdNZXNzYWdlLFxyXG4gIHR5cGU6IHN0cmluZyxcclxuICB1cGRhdGU6IGJvb2xlYW4sXHJcbiAgcHJlc2VydmVPcmRlcjogYm9vbGVhblxyXG4pOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBoYW5kbGVTaW5nbGVNc2c6IFsnaGFuZGxlU2luZ2xlTXNnJ10sXHJcbiAgfSxcclxuICAobSkgPT4gbS5oYW5kbGVTaW5nbGVNc2dcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI1IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2FkZEFuZFNlbmRNZXNzYWdlRWRpdCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vYWRkQW5kU2VuZE1zZ1RvQ2hhdCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vYWRkUHJvZHVjdFRvQ2FydCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vYWRkVG9MYWJlbENvbGxlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL2Jsb2NrQ29udGFjdCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vY2FsY3VsYXRlRmlsZWhhc2hGcm9tQmxvYic7XHJcbmV4cG9ydCAqIGZyb20gJy4vY2FuRWRpdENhcHRpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL2NhbkVkaXRNc2cnO1xyXG5leHBvcnQgKiBmcm9tICcuL2NhblJlcGx5TXNnJztcclxuZXhwb3J0ICogZnJvbSAnLi9jYW5TYXZlQXNNeUNvbnRhY3RzJztcclxuZXhwb3J0ICogZnJvbSAnLi9jaGFuZ2VPcHRJblN0YXR1c0ZvckV4dGVybmFsV2ViQmV0YSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vY2hlY2tDaGF0RXhpc3RlZE9yQ3JlYXRlJztcclxuZXhwb3J0ICogZnJvbSAnLi9jb2xsZWN0aW9ucyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vY29sb3JJbmRleFRvSGV4JztcclxuZXhwb3J0ICogZnJvbSAnLi9jb250YWN0RnVuY3Rpb25zJztcclxuZXhwb3J0ICogZnJvbSAnLi9jcmVhdGVDaGF0JztcclxuZXhwb3J0ICogZnJvbSAnLi9jcmVhdGVDaGF0UmVjb3JkJztcclxuZXhwb3J0ICogZnJvbSAnLi9jcmVhdGVFdmVudENhbGxMaW5rJztcclxuZXhwb3J0ICogZnJvbSAnLi9jcmVhdGVGYW5vdXRNc2dTdGFuemEnO1xyXG5leHBvcnQgKiBmcm9tICcuL2NyZWF0ZUdyb3VwJztcclxuZXhwb3J0ICogZnJvbSAnLi9jcmVhdGVNc2dQcm90b2J1Zic7XHJcbmV4cG9ydCAqIGZyb20gJy4vY3JlYXRlTmV3c2xldHRlclF1ZXJ5JztcclxuZXhwb3J0ICogZnJvbSAnLi9jcmVhdGVPcmRlcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vY3JlYXRlT3JVcGRhdGVSZWFjdGlvbnMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2N1cnJlbmN5Rm9yQ291bnRyeVNob3J0Y29kZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZGVsZXRlQ29udGFjdEFjdGlvbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vZGVsZXRlTmV3c2xldHRlcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vZWRpdEJ1c2luZXNzUHJvZmlsZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZWRpdE5ld3NsZXR0ZXJNZXRhZGF0YUFjdGlvbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vZW5jb2RlTWF5YmVNZWRpYVR5cGUnO1xyXG5leHBvcnQgKiBmcm9tICcuL2VuY3J5cHRBbmRTZW5kR3JvdXBNc2cnO1xyXG5leHBvcnQgKiBmcm9tICcuL2VuY3J5cHRBbmRTZW5kTXNnJztcclxuZXhwb3J0ICogZnJvbSAnLi9lbmNyeXB0QW5kU2VuZFNlbmRlcktleU1zZyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZW5jcnlwdEFuZFNlbmRTdGF0dXNNc2cnO1xyXG5leHBvcnQgKiBmcm9tICcuL2VuY3J5cHRNc2dQcm90b2J1Zic7XHJcbmV4cG9ydCAqIGZyb20gJy4vZmV0Y2hMaW5rUHJldmlldyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZmV0Y2hNZXhHcm91cEludml0ZUNvZGUnO1xyXG5leHBvcnQgKiBmcm9tICcuL2ZpbmRDaGF0JztcclxuZXhwb3J0ICogZnJvbSAnLi9maW5kQ29tbW9uR3JvdXBzJztcclxuZXhwb3J0ICogZnJvbSAnLi9maW5kRmlyc3RXZWJMaW5rJztcclxuZXhwb3J0ICogZnJvbSAnLi9maW5kT3JDcmVhdGVMYXRlc3RDaGF0JztcclxuZXhwb3J0ICogZnJvbSAnLi9mb3J3YXJkTWVzc2FnZXMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2ZvcndhcmRNZXNzYWdlc1RvQ2hhdHMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2Zyb250ZW5kRmlyZUFuZEZvcmdldCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZ2VuQm90TXNnU2VjcmV0RnJvbU1zZ1NlY3JldCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZ2VuZXJhdGVWaWRlb1RodW1ic0FuZER1cmF0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9nZW5MaW5rRGV2aWNlQ29kZUZvclBob25lTnVtYmVyJztcclxuZXhwb3J0ICogZnJvbSAnLi9nZW5NaW5pbWFsTGlua1ByZXZpZXcnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dldEFCUHJvcENvbmZpZ1ZhbHVlJztcclxuZXhwb3J0ICogZnJvbSAnLi9nZXRBc01tcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZ2V0Q2hhdFJlY29yZEJ5QWNjb3VudExpZCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZ2V0Q29tbXVuaXR5UGFydGljaXBhbnRzJztcclxuZXhwb3J0ICogZnJvbSAnLi9nZXRDb3VudHJ5U2hvcnRjb2RlQnlQaG9uZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZ2V0Q3VycmVudExpZCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZ2V0RW5mb3JjZUN1cnJlbnRMaWQnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dldEVwaGVtZXJhbEZpZWxkcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZ2V0RXJyb3JDb2RlRnJvbUxvZ291dFJlYXNvbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vZ2V0RXhpc3RpbmcnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dldEZhbk91dExpc3QnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dldEdyb3VwU2VuZGVyS2V5TGlzdCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZ2V0R3JvdXBTaXplTGltaXQnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dldEhpc3RvcnlTeW5jUHJvZ3Jlc3MnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dldE1lbWJlcnNoaXBBcHByb3ZhbFJlcXVlc3RzJztcclxuZXhwb3J0ICogZnJvbSAnLi9nZXROZXdzbGV0dGVyU3Vic2NyaWJlcnMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dldE5leHRMYWJlbElkJztcclxuZXhwb3J0ICogZnJvbSAnLi9nZXROdW1DaGF0c1Bpbm5lZCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZ2V0T3JkZXJJbmZvJztcclxuZXhwb3J0ICogZnJvbSAnLi9nZXRQYXJ0aWNpcGFudHMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dldFBob25lTnVtYmVyJztcclxuZXhwb3J0ICogZnJvbSAnLi9nZXRQcml2YWN5RGlzYWxsb3dlZExpc3RUYWJsZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZ2V0UHVzaG5hbWUnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dldFF1b3RlZE1zZ09iaic7XHJcbmV4cG9ydCAqIGZyb20gJy4vZ2V0UmVhY3Rpb25zJztcclxuZXhwb3J0ICogZnJvbSAnLi9nZXRTZWFyY2hDb250ZXh0JztcclxuZXhwb3J0ICogZnJvbSAnLi9nZXRTaG91bGRBcHBlYXJJbkxpc3QnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dldFN0YXR1c0xpc3QnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dldFRhYmxlVm90ZXMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dldFZvdGVzJztcclxuZXhwb3J0ICogZnJvbSAnLi9nZXRXaGF0c0FwcFdlYkV4dGVybmFsQmV0YUpvaW5lZElkYic7XHJcbmV4cG9ydCAqIGZyb20gJy4vR1JPVVBfSklEJztcclxuZXhwb3J0ICogZnJvbSAnLi9ncm91cFBhcnRpY2lwYW50cyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vaGFuZGxlQWNrJztcclxuZXhwb3J0ICogZnJvbSAnLi9oYW5kbGVTaW5nbGVNc2cnO1xyXG5leHBvcnQgKiBmcm9tICcuL2luaXRpYWxpemVBbHREZXZpY2VMaW5raW5nJztcclxuZXhwb3J0ICogZnJvbSAnLi9pc0FuaW1hdGVkV2VicCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vaXNBdXRoZW50aWNhdGVkJztcclxuZXhwb3J0ICogZnJvbSAnLi9pc0ZpbHRlckV4Y2x1ZGVkRnJvbVNlYXJjaFRyZWF0bWVudEluSW5ib3hGbG93JztcclxuZXhwb3J0ICogZnJvbSAnLi9pc0xpZE1pZ3JhdGVkJztcclxuZXhwb3J0ICogZnJvbSAnLi9pc1JlZ2lzdGVyZWQnO1xyXG5leHBvcnQgKiBmcm9tICcuL2lzVW5yZWFkVHlwZU1zZyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vaXNXaWQnO1xyXG5leHBvcnQgKiBmcm9tICcuL2pvaW5Hcm91cFZpYUludml0ZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4va2VlcE1lc3NhZ2UnO1xyXG5leHBvcnQgKiBmcm9tICcuL2xhYmVsQWRkQWN0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9tYXJrU2Vlbic7XHJcbmV4cG9ydCAqIGZyb20gJy4vbWVkaWFUeXBlRnJvbVByb3RvYnVmJztcclxuZXhwb3J0ICogZnJvbSAnLi9tZW1iZXJzaGlwQXBwcm92YWxSZXF1ZXN0QWN0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9tc2dEYXRhRnJvbU1zZ01vZGVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9tc2dGaW5kUXVlcnknO1xyXG5leHBvcnQgKiBmcm9tICcuL211dGVOZXdzbGV0dGVyJztcclxuZXhwb3J0ICogZnJvbSAnLi9wcm9jZXNzUmF3QXVkaW9WaWRlbyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vcHJvY2Vzc1Jhd01lZGlhJztcclxuZXhwb3J0ICogZnJvbSAnLi9wcm9jZXNzUmF3U3RpY2tlcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vcHJvZHVjdHMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3Byb2R1Y3RWaXNpYmlsaXR5U2V0JztcclxuZXhwb3J0ICogZnJvbSAnLi9wcm9maWxlUGljJztcclxuZXhwb3J0ICogZnJvbSAnLi9xdWVyeUFsbEdyb3Vwcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vcXVlcnlHcm91cEludml0ZUNvZGUnO1xyXG5leHBvcnQgKiBmcm9tICcuL3F1ZXJ5TmV3c2xldHRlck1ldGFkYXRhQnlKaWQnO1xyXG5leHBvcnQgKiBmcm9tICcuL3F1ZXJ5T3JkZXInO1xyXG5leHBvcnQgKiBmcm9tICcuL3JhbmRvbUhleCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vcmFuZG9tSWQnO1xyXG5leHBvcnQgKiBmcm9tICcuL3JlbW92ZVN0YXR1c01lc3NhZ2UnO1xyXG5leHBvcnQgKiBmcm9tICcuL3Jlc2V0R3JvdXBJbnZpdGVDb2RlJztcclxuZXhwb3J0ICogZnJvbSAnLi9yZXZva2VTdGF0dXMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NhdmVDb250YWN0QWN0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9zZWxlY3RDaGF0Rm9yT25lT25PbmVNZXNzYWdlJztcclxuZXhwb3J0ICogZnJvbSAnLi9zZW5kQ2xlYXInO1xyXG5leHBvcnQgKiBmcm9tICcuL3NlbmRDcmVhdGVDb21tdW5pdHknO1xyXG5leHBvcnQgKiBmcm9tICcuL3NlbmRDcmVhdGVHcm91cCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc2VuZERlbGV0ZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc2VuZEV4aXRHcm91cCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc2VuZEdyb3VwUGFydGljaXBhbnRzJztcclxuZXhwb3J0ICogZnJvbSAnLi9zZW5kSm9pbkdyb3VwVmlhSW52aXRlJztcclxuZXhwb3J0ICogZnJvbSAnLi9zZW5kTmV3c2xldHRlck1lc3NhZ2VKb2InO1xyXG5leHBvcnQgKiBmcm9tICcuL3NlbmRQaW5JbkNoYXRNc2cnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NlbmRRdWVyeUV4aXN0cyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc2VuZFF1ZXJ5R3JvdXBJbnZpdGUnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NlbmRRdWVyeUdyb3VwSW52aXRlQ29kZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc2VuZFJlYWN0aW9uVG9Nc2cnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NlbmRSZXZva2VHcm91cEludml0ZUNvZGUnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NlbmRUZXh0TXNnVG9DaGF0JztcclxuZXhwb3J0ICogZnJvbSAnLi9zZXRBcmNoaXZlJztcclxuZXhwb3J0ICogZnJvbSAnLi9zZXRHcm91cCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc2V0UGluJztcclxuZXhwb3J0ICogZnJvbSAnLi9zZXRQcml2YWN5Rm9yT25lQ2F0ZWdvcnknO1xyXG5leHBvcnQgKiBmcm9tICcuL3NldFB1c2huYW1lJztcclxuZXhwb3J0ICogZnJvbSAnLi9zaG91bGRIYXZlQWNjb3VudExpZCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3RhdHVzJztcclxuZXhwb3J0ICogZnJvbSAnLi9TVEFUVVNfSklEJztcclxuZXhwb3J0ICogZnJvbSAnLi9zdGF0dXNFbmFibGUnO1xyXG5leHBvcnQgKiBmcm9tICcuL3N1YnNjcmliZVByZXNlbmNlJztcclxuZXhwb3J0ICogZnJvbSAnLi9zeW5jQUJQcm9wc1Rhc2snO1xyXG5leHBvcnQgKiBmcm9tICcuL3RvVXNlckxpZCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdHlwZUF0dHJpYnV0ZUZyb21Qcm90b2J1Zic7XHJcbmV4cG9ydCAqIGZyb20gJy4vdW5peFRpbWUnO1xyXG5leHBvcnQgKiBmcm9tICcuL3VubXV0ZU5ld3NsZXR0ZXInO1xyXG5leHBvcnQgKiBmcm9tICcuL3VwZGF0ZUNhcnQnO1xyXG5leHBvcnQgKiBmcm9tICcuL3VwZGF0ZUNhcnRFbmFibGVkJztcclxuZXhwb3J0ICogZnJvbSAnLi91cGRhdGVEQkZvckdyb3VwQWN0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi91cGRhdGVOZXdzbGV0dGVyTXNnUmVjb3JkJztcclxuZXhwb3J0ICogZnJvbSAnLi91cGRhdGVQYXJ0aWNpcGFudHMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3VwbG9hZE1lZGlhJztcclxuZXhwb3J0ICogZnJvbSAnLi91cGxvYWRQcm9kdWN0SW1hZ2UnO1xyXG5leHBvcnQgKiBmcm9tICcuL3VwbG9hZFRodW1ibmFpbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdXBzZXJ0Vm90ZXMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3ZvdGVGcm9tRGJSb3cnO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDUxODA0M1xyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gaW5pdGlhbGl6ZUFsdERldmljZUxpbmtpbmcoKTogUHJvbWlzZTx2b2lkPjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGluaXRpYWxpemVBbHREZXZpY2VMaW5raW5nOiAnaW5pdGlhbGl6ZUFsdERldmljZUxpbmtpbmcnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uaW5pdGlhbGl6ZUFsdERldmljZUxpbmtpbmdcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIyIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCAxNzY4MTkgPj0gMi4yMjQyLjZcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGlzQW5pbWF0ZWRXZWJwKGRhdGE6IEFycmF5QnVmZmVyKTogYm9vbGVhbjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGlzQW5pbWF0ZWRXZWJwOiAnaXNBbmltYXRlZFdlYnAnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uaXNBbmltYXRlZFdlYnBcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCAxMzE5NFxyXG4gKiBAd2hhdHNhcHAgOTUzMCA+PSAyLjIyMTAuOVxyXG4gKiBAd2hhdHNhcHAgOTA5NTMwID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoKTogYm9vbGVhbjtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgMTMxOTQgPj0gMi4yMjA4LjExXHJcbiAqIEB3aGF0c2FwcCA5NTMwID49IDIuMjIxMC45XHJcbiAqIEB3aGF0c2FwcCA5MDk1MzAgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGlzTG9nZ2VkSW4oKTogYm9vbGVhbjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGlzQXV0aGVudGljYXRlZDogWydpc0xvZ2dlZEluJywgJ1onXSxcclxuICAgIGlzTG9nZ2VkSW46IFsnaXNMb2dnZWRJbicsICdaJ10sXHJcbiAgfSxcclxuICAobSkgPT5cclxuICAgIChtLlo/LnRvU3RyaW5nKCkuaW5jbHVkZXMoJ2lzUmVnaXN0ZXJlZCcpICYmXHJcbiAgICAgIG0uWj8udG9TdHJpbmcoKS5pbmNsdWRlcygnZ2V0TG9naW5Ub2tlbnMnKSkgfHxcclxuICAgIG0uaXNMb2dnZWRJbiAvLyB3aGF0c2FwcCA+PSAyLjIyMDguMTFcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gaXNGaWx0ZXJFeGNsdWRlZEZyb21TZWFyY2hUcmVhdG1lbnRJbkluYm94RmxvdyhcclxuICB0eXBlPzogc3RyaW5nXHJcbik6IHZvaWQ7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBpc0ZpbHRlckV4Y2x1ZGVkRnJvbVNlYXJjaFRyZWF0bWVudEluSW5ib3hGbG93OlxyXG4gICAgICAnaXNGaWx0ZXJFeGNsdWRlZEZyb21TZWFyY2hUcmVhdG1lbnRJbkluYm94RmxvdycsXHJcbiAgfSxcclxuICAobSkgPT4gbS5pc0ZpbHRlckV4Y2x1ZGVkRnJvbVNlYXJjaFRyZWF0bWVudEluSW5ib3hGbG93XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgV0FXZWJMaWRNaWdyYXRpb25VdGlscyA+PSAyLjMwMDAueFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gaXNMaWRNaWdyYXRlZCgpOiBib29sZWFuIHwgKCgpID0+IGFueSk7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBpc0xpZE1pZ3JhdGVkOiBbJ0xpZDFYMU1pZ3JhdGlvblV0aWxzLmlzTGlkTWlncmF0ZWQnXSxcclxuICB9LFxyXG4gIChtKSA9PlxyXG4gICAgbS5MaWQxWDFNaWdyYXRpb25VdGlscyAmJlxyXG4gICAgdHlwZW9mIG0uTGlkMVgxTWlncmF0aW9uVXRpbHMuaXNMaWRNaWdyYXRlZCA9PT0gJ2Z1bmN0aW9uJ1xyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDY3MzE2OFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gaXNSZWdpc3RlcmVkKCk6IGJvb2xlYW47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBpc1JlZ2lzdGVyZWQ6IFsnaXNSZWdpc3RlcmVkJ10sXHJcbiAgfSxcclxuICAobSkgPT4gbS5pc1JlZ2lzdGVyZWRcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIyIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBNc2dNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDE0Nzk4MCA+PSAyLjIyNDUuOVxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gaXNVbnJlYWRUeXBlTXNnKG1zZzogTXNnTW9kZWwpOiBib29sZWFuO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgaXNVbnJlYWRUeXBlTXNnOiBbXHJcbiAgICAgICdpc1VucmVhZFR5cGVNc2cnLCAvLyA8IDIuMjMwOC42XHJcbiAgICAgICdpc1VucmVhZFR5cGUnLCAvLyA+PSAyLjIzMDguNiwgPCAyLjIzMTAuNFxyXG4gICAgICAnZ2V0SXNVbnJlYWRUeXBlJywgLy8gPj0gMi4yMzEwLjRcclxuICAgIF0sXHJcbiAgfSxcclxuICAobSkgPT5cclxuICAgIG0uaXNVbnJlYWRUeXBlTXNnIHx8IC8vIDwgMi4yMzA4LjZcclxuICAgIG0uaXNVbnJlYWRUeXBlIHx8IC8vID49IDIuMjMwOC42LCA8IDIuMjMxMC40XHJcbiAgICBtLmdldElzVW5yZWFkVHlwZSAvLyA+PSAyLjIzMTAuNFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDQ2OTQ3NVxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gaXNXaWQobnVtYmVyOiBzdHJpbmcpOiBib29sZWFuO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgaXNXaWQ6ICdkZWZhdWx0LmlzV2lkJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmRlZmF1bHQuaXNXaWRcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLic7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDE1MzQzOCA+PSAyLjIzMDEuNVxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gam9pbkdyb3VwVmlhSW52aXRlKGdyb3VwSWQ6IFdpZCk6IFByb21pc2U8eyBnaWQ6IFdpZCB9PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGpvaW5Hcm91cFZpYUludml0ZTogJ2pvaW5Hcm91cFZpYUludml0ZScsXHJcbiAgfSxcclxuICAobSkgPT4gbS5qb2luR3JvdXBWaWFJbnZpdGUgJiYgbS5yZXNldEdyb3VwSW52aXRlQ29kZVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IE1zZ01vZGVsIH0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCAxNzAyMzVcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGtlZXBNZXNzYWdlKG1zZzogTXNnTW9kZWwsIHQ6IG51bWJlcik6IFByb21pc2U8YW55PjtcclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gdW5kb0tlZXBNZXNzYWdlKFxyXG4gIG1zZzogTXNnTW9kZWwsXHJcbiAgb3B0aW9uczogeyBkZWxldGVFeHBpcmVkOiBib29sZWFuIH0sXHJcbiAgbjogbnVtYmVyXHJcbik6IFByb21pc2U8YW55PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGtlZXBNZXNzYWdlOiAna2VlcE1lc3NhZ2UnLFxyXG4gICAgdW5kb0tlZXBNZXNzYWdlOiAndW5kb0tlZXBNZXNzYWdlJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmtlZXBNZXNzYWdlXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgMTY1ODIwXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBsYWJlbEFkZEFjdGlvbihcclxuICBuYW1lOiBzdHJpbmcsXHJcbiAgY29sb3JJbmRleDogbnVtYmVyXHJcbik6IFByb21pc2U8YW55PjtcclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gbGFiZWxEZWxldGVBY3Rpb24oXHJcbiAgaWQ6IHN0cmluZyxcclxuICBuYW1lOiBzdHJpbmcsXHJcbiAgY29sb3JJbmRleDogbnVtYmVyXHJcbik6IFByb21pc2U8bnVtYmVyPjtcclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gbGFiZWxFZGl0QWN0aW9uKFxyXG4gIGlkOiBzdHJpbmcsXHJcbiAgbmFtZTogc3RyaW5nLFxyXG4gIHByZWRlZmluZWRJZDogbnVtYmVyLFxyXG4gIGNvbG9ySW5kZXg6IG51bWJlclxyXG4pOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBsYWJlbEFkZEFjdGlvbjogJ2xhYmVsQWRkQWN0aW9uJyxcclxuICAgIGxhYmVsRGVsZXRlQWN0aW9uOiAnbGFiZWxEZWxldGVBY3Rpb24nLFxyXG4gICAgbGFiZWxFZGl0QWN0aW9uOiAnbGFiZWxFZGl0QWN0aW9uJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmxhYmVsQWRkQWN0aW9uICYmIG0ubGFiZWxEZWxldGVBY3Rpb24gJiYgbS5sYWJlbEVkaXRBY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBDaGF0TW9kZWwsIE1zZ01vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgOTYwOVxyXG4gKiBAd2hhdHNhcHAgNTYxNDk4ID49IDIuMjIyOC40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBtYXJrVW5yZWFkKFxyXG4gIGNoYXQ6IENoYXRNb2RlbCxcclxuICB3aGVuQXZhaWxhYmxlOiBib29sZWFuXHJcbik6IFByb21pc2U8Q2hhdE1vZGVsPjtcclxuXHJcbi8qKiBAd2hhdHNhcHAgOTYwOVxyXG4gKiBAd2hhdHNhcHAgNTYxNDk4ID49IDIuMjIyOC40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBzZW5kU2VlbihcclxuICBjaGF0OiBDaGF0TW9kZWwsXHJcbiAgd2hlbkF2YWlsYWJsZTogYm9vbGVhblxyXG4pOiBQcm9taXNlPENoYXRNb2RlbD47XHJcblxyXG4vKiogQHdoYXRzYXBwIDMwNzM0XHJcbiAqIEB3aGF0c2FwcCA3MzA3MzQgPj0gMi4yMjIyLjhcclxuICogQHdoYXRzYXBwIDI0MjA1MCA+PSAyLjIyMjguNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gbWFya1BsYXllZChtc2c6IE1zZ01vZGVsKTogUHJvbWlzZTx2b2lkPjtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNjQ4NTBcclxuICogQHdoYXRzYXBwIDI0MjA1MCA+PSAyLjIyMjguNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gY2FuTWFya1BsYXllZChtc2c6IE1zZ01vZGVsKTogYm9vbGVhbjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIG1hcmtVbnJlYWQ6ICdtYXJrVW5yZWFkJyxcclxuICAgIHNlbmRTZWVuOiAnc2VuZFNlZW4nLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0ubWFya1VucmVhZCAmJiBtLnNlbmRTZWVuXHJcbik7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBtYXJrUGxheWVkOiAnbWFya1BsYXllZCcsXHJcbiAgICBjYW5NYXJrUGxheWVkOiAnY2FuTWFya1BsYXllZCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5tYXJrUGxheWVkXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgOTUzMThcclxuICogQHdoYXRzYXBwIDU4ODUzID49IDIuMjIxOC40XHJcbiAqIEB3aGF0c2FwcCA0NTg4NTMgPj0gMi4yMjIyLjhcclxuICogQHdoYXRzYXBwIDc2MDIxMCA+PSAyLjIyMjguNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gbWVkaWFUeXBlRnJvbVByb3RvYnVmKHByb3RvTWVzc2FnZToge1xyXG4gIFtrZXk6IHN0cmluZ106IGFueTtcclxufSk6IHN0cmluZyB8IG51bGw7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBtZWRpYVR5cGVGcm9tUHJvdG9idWY6ICdtZWRpYVR5cGVGcm9tUHJvdG9idWYnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0ubWVkaWFUeXBlRnJvbVByb3RvYnVmXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcblxyXG4vKiogQHdoYXRzYXBwIDI5MDU0MlxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gbWVtYmVyc2hpcEFwcHJvdmFsUmVxdWVzdEFjdGlvbihcclxuICBncm91cElkOiBXaWQsXHJcbiAgcmVxdWVzdGVkTWVtYmVyc0lkOiBXaWRbXSxcclxuICB0eXBlOiAnQXBwcm92ZScgfCAnUmVqZWN0J1xyXG4pOiBQcm9taXNlPFxyXG4gIHtcclxuICAgIGVycm9yOiBhbnk7XHJcbiAgICB3aWQ6IFdpZDtcclxuICB9W11cclxuPjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIG1lbWJlcnNoaXBBcHByb3ZhbFJlcXVlc3RBY3Rpb246ICdtZW1iZXJzaGlwQXBwcm92YWxSZXF1ZXN0QWN0aW9uJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLm1lbWJlcnNoaXBBcHByb3ZhbFJlcXVlc3RBY3Rpb25cclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBNc2dNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG4vKiogQHdoYXRzYXBwIDY3ODc5NFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gbXNnRGF0YUZyb21Nc2dNb2RlbChtc2c6IE1zZ01vZGVsKTogUHJvbWlzZTxhbnk+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgbXNnRGF0YUZyb21Nc2dNb2RlbDogJ21zZ0RhdGFGcm9tTXNnTW9kZWwnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0ubXNnRGF0YUZyb21Nc2dNb2RlbFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvciwgTXNnTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNc2dGaW5kUXVlcnlQYXJhbXMge1xyXG4gIGNvdW50OiBudW1iZXI7XHJcbiAgZGlyZWN0aW9uOiAnYWZ0ZXInIHwgJ2JlZm9yZSc7XHJcbiAgcmVtb3RlOiBXaWQ7XHJcbiAgZnJvbU1lPzogYm9vbGVhbjtcclxuICBpZD86IHN0cmluZztcclxuICBwYXJ0aWNpcGFudD86IGFueTtcclxuICBtZWRpYT86ICd1cmwnIHwgJ2RvY3VtZW50JztcclxufVxyXG5cclxuLyoqIEB3aGF0c2FwcCA3NjU4MSAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBtc2dGaW5kUXVlcnkoXHJcbiAgZGlyZWN0aW9uOiAnYWZ0ZXInIHwgJ2JlZm9yZScgfCAnbWVkaWEnLFxyXG4gIHBhcmFtczogTXNnRmluZFF1ZXJ5UGFyYW1zXHJcbik6IFByb21pc2U8TW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxNc2dNb2RlbD5bXSB8IGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBtc2dGaW5kUXVlcnk6ICdtc2dGaW5kUXVlcnknLFxyXG4gIH0sXHJcbiAgKG0pID0+XHJcbiAgICAobS5tc2dGaW5kUXVlcnkgJiYgbS5nZXRNc2dzQnlNc2dLZXkpIHx8IC8vIEB3aGF0c2FwcCA+PSAyLjIzMDEuNVxyXG4gICAgKG0ubXNnRmluZFF1ZXJ5ICYmIG0ucXVlcnlNZXNzYWdlVHlwZSkgLy8gQHdoYXRzYXBwID49IDIuMzAwMC4xMDEzNDA5MTI4XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNzM2MDYyXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBtdXRlTmV3c2xldHRlcihcclxuICBuZXdzbGV0dGVySWRzOiBzdHJpbmdbXVxyXG4pOiBQcm9taXNlPGJvb2xlYW4+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgbXV0ZU5ld3NsZXR0ZXI6ICdtdXRlTmV3c2xldHRlcicsXHJcbiAgfSxcclxuICAobSkgPT4gbS5tdXRlTmV3c2xldHRlclxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IE9wYXF1ZURhdGEgfSBmcm9tICcuLi9taXNjJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgMjMyMjk0ID49IDIuMjI0Mi42XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBwcm9jZXNzUmF3QXVkaW9WaWRlbyhcclxuICBtZWRpYUJsb2I6IE9wYXF1ZURhdGEsXHJcbiAgaXNQdHQ6IGJvb2xlYW4sXHJcbiAgcHJlY29tcHV0ZWRGaWVsZHM6IGFueSxcclxuICBhc0dpZjogYm9vbGVhbixcclxuICBtOiBhbnksXHJcbiAgdHlwZTogc3RyaW5nLFxyXG4gIGlzUHR2PzogYm9vbGVhblxyXG4pOiBQcm9taXNlPHtcclxuICBtZWRpYUJsb2I6IE9wYXF1ZURhdGE7XHJcbiAgaXNQdHQ6IGJvb2xlYW47XHJcbiAgcHJlY29tcHV0ZWRGaWVsZHM6IGFueTtcclxuICBhc0dpZjogYm9vbGVhbjtcclxuICBtOiBhbnk7XHJcbiAgdHlwZTogc3RyaW5nO1xyXG4gIGlzUHR2PzogYm9vbGVhbjtcclxufT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBwcm9jZXNzUmF3QXVkaW9WaWRlbzogJ3Byb2Nlc3NSYXdBdWRpb1ZpZGVvJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLnByb2Nlc3NSYXdBdWRpb1ZpZGVvXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgT3BhcXVlRGF0YSB9IGZyb20gJy4uL21pc2MnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCAyMzIyOTQgPj0gMi4yMjQyLjZcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHByb2Nlc3NSYXdNZWRpYShkYXRhOiBPcGFxdWVEYXRhKTogUHJvbWlzZTx7XHJcbiAgZTogYW55O1xyXG4gIHQ/OiB7XHJcbiAgICBpc1B0dD86IGJvb2xlYW47XHJcbiAgICBpc1B0dj86IGJvb2xlYW47XHJcbiAgfTtcclxufT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBwcm9jZXNzUmF3TWVkaWE6IFsncHJvY2Vzc1Jhd01lZGlhJywgJ2RlZmF1bHQnXSxcclxuICB9LFxyXG4gIChtKSA9PlxyXG4gICAgbS5wcm9jZXNzUmF3TWVkaWEgfHxcclxuICAgIG0uZGVmYXVsdD8udG9TdHJpbmc/LigpLmluY2x1ZGVzKCdSZWNlaXZlZCB1bnN1cHBvcnRlZCBtZWRpYVR5cGUnKVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjIgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IE9wYXF1ZURhdGEgfSBmcm9tICcuLi9taXNjJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgMjMyMjk0ID49IDIuMjI0Mi42XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBwcm9jZXNzUmF3U3RpY2tlcihkYXRhOiBPcGFxdWVEYXRhKTogUHJvbWlzZTx7XHJcbiAgdHlwZTogJ3N0aWNrZXInO1xyXG4gIG1lZGlhQmxvYjogT3BhcXVlRGF0YTtcclxuICBtaW1ldHlwZTogc3RyaW5nO1xyXG4gIGZ1bGxXaWR0aDogbnVtYmVyO1xyXG4gIGZ1bGxIZWlnaHQ6IG51bWJlcjtcclxufT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBwcm9jZXNzUmF3U3RpY2tlcjogJ3Byb2Nlc3NSYXdTdGlja2VyJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLnByb2Nlc3NSYXdTdGlja2VyXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUHJvZHVjdFZpc2liaWxpdHlTZXRQYXJhbXMge1xyXG4gIGlzSGlkZGVuOiBib29sZWFuO1xyXG4gIHByb2R1Y3RJZDogbnVtYmVyO1xyXG59XHJcblxyXG4vKiogQHdoYXRzYXBwIDYyMTM3NCA+PSAyLjIyMjguMTQgKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gcHJvZHVjdFZpc2liaWxpdHlTZXQoXHJcbiAgcHJvZHVjdElkOiBzdHJpbmcsXHJcbiAgaXNIaWRkZW46IGJvb2xlYW5cclxuKTogYW55O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgcHJvZHVjdFZpc2liaWxpdHlTZXQ6ICdwcm9kdWN0VmlzaWJpbGl0eVNldCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5wcm9kdWN0VmlzaWJpbGl0eVNldFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFByb2R1Y3RNb2RlbCB9IGZyb20gJy4uJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcblxyXG4vKiogQHdoYXRzYXBwIDIuMjE0NC4xMDozNTMzOSAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBjcmVhdGVCdXNpbmVzc0NhdGFsb2coKTogUHJvbWlzZTxhbnk+O1xyXG5cclxuLyoqIEB3aGF0c2FwcCA5NjUxOVxyXG4gKiBAd2hhdHNhcHAgMTk2NTE5ID49IDIuMjIyMi44XHJcbiAqIEB3aGF0c2FwcCA4OTU2OTcgPj0gMi4yMjI4LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGFkZFByb2R1Y3QoXHJcbiAgcHJvZHVjdDogUHJvZHVjdE1vZGVsLFxyXG4gIGltYWdlV2lkdGg/OiBudW1iZXIsXHJcbiAgaW1hZ2VIZWlnaHQ/OiBudW1iZXJcclxuKTogUHJvbWlzZTxhbnk+O1xyXG5cclxuLyoqIEB3aGF0c2FwcCA5NjUxOVxyXG4gKiBAd2hhdHNhcHAgMTk2NTE5ID49IDIuMjIyMi44XHJcbiAqIEB3aGF0c2FwcCA4OTU2OTcgPj0gMi4yMjI4LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGVkaXRQcm9kdWN0KFxyXG4gIHByb2R1Y3Q6IFByb2R1Y3RNb2RlbCxcclxuICBpbWFnZVdpZHRoPzogbnVtYmVyLFxyXG4gIGltYWdlSGVpZ2h0PzogbnVtYmVyXHJcbik6IFByb21pc2U8YW55PjtcclxuXHJcbi8qKiBAd2hhdHNhcHAgOTY1MTlcclxuICogQHdoYXRzYXBwIDE5NjUxOSA+PSAyLjIyMjIuOFxyXG4gKiBAd2hhdHNhcHAgODk1Njk3ID49IDIuMjIyOC40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBkZWxldGVQcm9kdWN0cyhwcm9kdWN0SWRzOiBzdHJpbmdbXSk6IFByb21pc2U8YW55PjtcclxuXHJcbi8qKiBAd2hhdHNhcHAgOTY1MTlcclxuICogQHdoYXRzYXBwIDE5NjUxOSA+PSAyLjIyMjIuOFxyXG4gKiBAd2hhdHNhcHAgODk1Njk3ID49IDIuMjIyOC40XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBzZW5kUHJvZHVjdFRvQ2hhdCguLi5hcmdzOiBhbnlbXSk6IFByb21pc2U8YW55PjtcclxuXHJcbi8qKiBAd2hhdHNhcHAgNjIxMzc0ID49IDIuMjIyOC4xNCAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBxdWVyeUNhdGFsb2coXHJcbiAgY2hhdElkPzogV2lkLFxyXG4gIHQ/OiBhbnksXHJcbiAgbj86IG51bWJlcixcclxuICByPzogbnVtYmVyLFxyXG4gIGk/OiBudW1iZXIsXHJcbiAgcz86IGFueSxcclxuICBsPzogYW55XHJcbik6IGFueTtcclxuXHJcbi8qKiBAd2hhdHNhcHAgNjIxMzc0ID49IDIuMjIyOC4xNCAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBxdWVyeVByb2R1Y3QoXHJcbiAgY2hhdElkPzogV2lkLFxyXG4gIHByb2R1Y3RJZD86IGFueSxcclxuICBpbWFnZVdpZHRoPzogbnVtYmVyLFxyXG4gIGltYWdlSGVpZ2h0PzogbnVtYmVyLFxyXG4gIGk/OiBhbnksXHJcbiAgcz86IGJvb2xlYW5cclxuKTogYW55O1xyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBhZGRQcm9kdWN0OiAnYWRkUHJvZHVjdCcsXHJcbiAgICBlZGl0UHJvZHVjdDogJ2VkaXRQcm9kdWN0JyxcclxuICAgIGRlbGV0ZVByb2R1Y3RzOiAnZGVsZXRlUHJvZHVjdHMnLFxyXG4gICAgc2VuZFByb2R1Y3RUb0NoYXQ6ICdzZW5kUHJvZHVjdFRvQ2hhdCcsXHJcbiAgICBxdWVyeUNhdGFsb2c6ICdxdWVyeUNhdGFsb2cnLFxyXG4gICAgcXVlcnlQcm9kdWN0OiAncXVlcnlQcm9kdWN0JyxcclxuICAgIHF1ZXJ5UHJvZHVjdExpc3Q6ICdxdWVyeVByb2R1Y3RMaXN0JyxcclxuICB9LFxyXG4gIChtKSA9PiBtLnNlbmRQcm9kdWN0VG9DaGF0XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gZGVmaW5lIGEgZ3JvdXAgcGljdHVyZSBvciBzZWxmIHByb2ZpbGVcclxuICogQHdoYXRzYXBwIDc4NDI2XHJcbiAqIEB3aGF0c2FwcCA1MDE4ID49IDIuMjIwNC4xM1xyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gc2VuZFNldFBpY3R1cmUoXHJcbiAgY2hhdDogV2lkLFxyXG4gIHByZXZpZXdCYXNlNjQ6IHN0cmluZyxcclxuICBwaWN0dXJlQmFzZTY0OiBzdHJpbmdcclxuKTogUHJvbWlzZTx7XHJcbiAgZXVybDogc3RyaW5nO1xyXG4gIHN0YXR1czogbnVtYmVyO1xyXG4gIHRhZzogc3RyaW5nO1xyXG4gIHRva2VuOiBzdHJpbmc7XHJcbiAgX2R1cGxpY2F0ZTogYm9vbGVhbjtcclxufT47XHJcblxyXG4vKipcclxuICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBkZWxldGUgYSBncm91cCBwaWN0dXJlIG9yIHNlbGYgcHJvZmlsZVxyXG4gKiBAd2hhdHNhcHAgNzg0MjZcclxuICogQHdoYXRzYXBwIDUwMTggPj0gMi4yMjA0LjEzXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiByZXF1ZXN0RGVsZXRlUGljdHVyZShcclxuICBjaGF0OiBXaWRcclxuKTogUHJvbWlzZTx7IHN0YXR1czogbnVtYmVyIH0+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgc2VuZFNldFBpY3R1cmU6ICdzZW5kU2V0UGljdHVyZScsXHJcbiAgICByZXF1ZXN0RGVsZXRlUGljdHVyZTogJ3JlcXVlc3REZWxldGVQaWN0dXJlJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLnNlbmRTZXRQaWN0dXJlICYmIG0ucmVxdWVzdERlbGV0ZVBpY3R1cmVcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgMTEzMjY5XHJcbiAqL1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBHcm91cCB7XHJcbiAgYW5ub3VuY2U6IGJvb2xlYW47XHJcbiAgY3JlYXRpb246IG51bWJlcjtcclxuICBkZWZhdWx0U3ViZ3JvdXA6IGJvb2xlYW47XHJcbiAgaWQ6IFdpZDtcclxuICBpbmNvZ25pdG86IGJvb2xlYW47XHJcbiAgaXNQYXJlbnRHcm91cDogYm9vbGVhbjtcclxuICBpc1BhcmVudEdyb3VwQ2xvc2VkOiBib29sZWFuO1xyXG4gIG1lbWJlcnNoaXBBcHByb3ZhbE1vZGVkOiBib29sZWFuO1xyXG4gIG1lbWJlcnNoaXBBcHByb3ZhbFJlcXVlc3Q6IGFueTtcclxuICBub0ZyZXF1ZW50bHlGb3J3YXJkZWQ6IGJvb2xlYW47XHJcbiAgbnVtU3ViZ3JvdXBzOiBudW1iZXI7XHJcbiAgb3duZXI6IFdpZDtcclxuICBwYXJ0aWNpcGFudHM6IFdpZFtdO1xyXG4gIHB2SWQ6IG51bWJlcjtcclxuICByZXN0cmljdDogYm9vbGVhbjtcclxuICBzaXplOiBhbnk7XHJcbiAgc3ViamVjdDogc3RyaW5nO1xyXG4gIHN1YmplY3RUaW1lOiBudW1iZXI7XHJcbiAgc3VwcG9ydDogYm9vbGVhbjtcclxuICBzdXNwZW5kZWQ6IGJvb2xlYW47XHJcbn1cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gcXVlcnlBbGxHcm91cHMoKTogUHJvbWlzZTxHcm91cFtdPjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIHF1ZXJ5QWxsR3JvdXBzOiAncXVlcnlBbGxHcm91cHMnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0ucXVlcnlBbGxHcm91cHNcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLic7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDE1MzQzOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gcXVlcnlHcm91cEludml0ZUNvZGUoXHJcbiAgZ3JvdXBJZDogV2lkLFxyXG4gIGlBbUFkbWluOiBib29sZWFuXHJcbik6IFByb21pc2U8eyBjb2RlOiBzdHJpbmcgfT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBxdWVyeUdyb3VwSW52aXRlQ29kZTogJ3F1ZXJ5R3JvdXBJbnZpdGVDb2RlJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLnF1ZXJ5R3JvdXBJbnZpdGVDb2RlXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNjU3OTg3XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBxdWVyeU5ld3NsZXR0ZXJNZXRhZGF0YUJ5SmlkKFxyXG4gIGppZDogc3RyaW5nLFxyXG4gIGF0dHJpYnV0ZXM6IHtcclxuICAgIHBpY3R1cmU/OiBib29sZWFuO1xyXG4gICAgc3Vic2NyaWJlcnM/OiBib29sZWFuO1xyXG4gICAgdmVyaWZpY2F0aW9uPzogYm9vbGVhbjtcclxuICAgIGRlc2NyaXB0aW9uPzogYm9vbGVhbjtcclxuICAgIGludml0ZUxpbms/OiBib29sZWFuO1xyXG4gICAgbmFtZT86IGJvb2xlYW47XHJcbiAgICBjcmVhdGlvblRpbWU/OiBib29sZWFuO1xyXG4gICAgaGFuZGxlPzogYm9vbGVhbjtcclxuICAgIHByaXZhY3k/OiBib29sZWFuO1xyXG4gICAgbGlua2VkQWNjb3VudHM/OiBib29sZWFuO1xyXG4gICAgbWVtYmVyc2hpcD86IGJvb2xlYW47XHJcbiAgICBzdGF0ZT86IGJvb2xlYW47XHJcbiAgfVxyXG4pOiBhbnk7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBxdWVyeU5ld3NsZXR0ZXJNZXRhZGF0YUJ5SmlkOiAncXVlcnlOZXdzbGV0dGVyTWV0YWRhdGFCeUppZCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5xdWVyeU5ld3NsZXR0ZXJNZXRhZGF0YUJ5SmlkXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgV0FXZWJCaXpRdWVyeU9yZGVySm9iID49IDIuMzAwMDAuMCAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBxdWVyeU9yZGVyKFxyXG4gIHByb2R1Y3RJZDogc3RyaW5nLFxyXG4gIGltYWdlV2lkdGg6IG51bWJlcixcclxuICBpbWFnZUhlaWdodDogbnVtYmVyLFxyXG4gIHRva2VuOiBzdHJpbmcsXHJcbiAgZT86IGFueVxyXG4pOiBQcm9taXNlPHtcclxuICBjdXJyZW5jeTogc3RyaW5nO1xyXG4gIGNyZWF0ZWRBdDogbnVtYmVyO1xyXG4gIHByb2R1Y3RzOiB7XHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgcHJpY2U6IG51bWJlcjtcclxuICAgIHRodW1ibmFpbElkOiBzdHJpbmc7XHJcbiAgICB0aHVtYm5haWxVcmw6IHN0cmluZztcclxuICAgIGN1cnJlbmN5OiBzdHJpbmc7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBxdWFudGl0eTogbnVtYmVyO1xyXG4gIH1bXTtcclxuICBzdWJ0b3RhbDogbnVtYmVyO1xyXG4gIHRvdGFsOiBudW1iZXI7XHJcbiAgdGF4OiBudW1iZXIgfCBudWxsO1xyXG59PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIHF1ZXJ5T3JkZXI6ICdxdWVyeU9yZGVyJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLnF1ZXJ5T3JkZXIgJiYgbS5xdWVyeU9yZGVyUmVzcG9uc2VcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA4MzI2NzhcclxuICogQHdoYXRzYXBwIDc4NzYxNCA+PSAyLjIyMjguNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gcmFuZG9tSGV4KHNpemU6IG51bWJlcik6IHN0cmluZztcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIHJhbmRvbUhleDogJ3JhbmRvbUhleCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5yYW5kb21IZXhcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA2NTIxMlxyXG4gKiBAd2hhdHNhcHAgMTU4NjAgPj0gMi4yMjA0LjEzXHJcbiAqIEB3aGF0c2FwcCA0NjUyMTIgPj0gMi4yMjIyLjhcclxuICogQHJldHVybnMgUHJvbWlzZSBmb3IgQHdoYXRzYXBwID49IDIuMjMyMS40XHJcbiAqIEByZXR1cm5zIHN0cmluZyBmb3IgQHdoYXRzYXBwIDwgMi4yMzIxLjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHJhbmRvbU1lc3NhZ2VJZCgpOiBzdHJpbmcgfCBQcm9taXNlPHN0cmluZz47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICByYW5kb21NZXNzYWdlSWQ6IFsnZGVmYXVsdC5uZXdJZCddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZGVmYXVsdC5uZXdJZFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIFdBV2ViREJNZXNzYWdlRGVsZXRlXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiByZW1vdmVTdGF0dXNNZXNzYWdlKGlkOiBzdHJpbmdbXSk6IFByb21pc2U8YW55PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIHJlbW92ZVN0YXR1c01lc3NhZ2U6IFsncmVtb3ZlU3RhdHVzTWVzc2FnZSddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0ucmVtb3ZlU3RhdHVzTWVzc2FnZVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgMTUzNDM4ID49IDIuMjMwMS41XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiByZXNldEdyb3VwSW52aXRlQ29kZShcclxuICBncm91cElkOiBXaWRcclxuKTogUHJvbWlzZTx7IGNvZGU6IHN0cmluZyB9PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIHJlc2V0R3JvdXBJbnZpdGVDb2RlOiAncmVzZXRHcm91cEludml0ZUNvZGUnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0ucmVzZXRHcm91cEludml0ZUNvZGVcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBDaGF0TW9kZWwsIE1zZ01vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgV0FXZWJSZXZva2VTdGF0dXNBY3Rpb25cclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHJldm9rZVN0YXR1cyhcclxuICBjaGF0OiBDaGF0TW9kZWwsXHJcbiAgbXNnOiBNc2dNb2RlbFxyXG4pOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICByZXZva2VTdGF0dXM6IFsnZGVmYXVsdCddLFxyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogVGhpcyBtb2R1bGUgb25seSBsb2FkZWQgYWZ0ZXIgZGV2aWNlIGlzIGNvbm5lY3RlZFxyXG4gICAqIEkgYmUgY3JlYXRpbmcgb3RoZXIgZnVuY3Rpb24gZm9yIGNoZWNrIGV4cGlyZXMgYmFzZWQgZGlyZWN0aWx5IGZyb20gZmlsZXNcclxuICAgKi9cclxuICAobSkgPT4gbS5kZWZhdWx0Py5kaXNwbGF5TmFtZT8uaW5jbHVkZXMoJ1Jldm9rZVN0YXR1c0FjdGlvbicpXHJcbik7XHJcbiIsIi8qIVxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XG5cbi8qKlxuICogQHdoYXRzYXBwIFdBV2ViU2F2ZUNvbnRhY3RBY3Rpb24gPj0gMi4zMDAwLjBcbiAqL1xuLyoqXG4gKiBAcGFyYW0gdXNlciA1NTIxOTgwODA5MDkwXG4gKiBAcGFyYW0gdXNlclRvRGVsZXRlIDU1MjE5ODA4MDkwOTBcbiAqIEBwYXJhbSBuYW1lIENvbnRhY3QgTmFtZVxuICogQHBhcmFtIHN1cm5hbWUgQ29udGFjdCBTdXJuYW1lXG4gKiBAcGFyYW0gc3luY1RvQWRkcmVzc2Jvb2sgU3luYyB0byBBZGRyZXNzYm9vayBib29sZWFuXG4gKi9cbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHNhdmVDb250YWN0QWN0aW9uKFxuICB1c2VyVG9DcmVhdGU6IHN0cmluZyxcbiAgdXNlclRvRGVsZXRlOiBzdHJpbmcgfCBudWxsLFxuICBuYW9zZWlfMTogbnVsbCxcbiAgbmFvc2VpXzI6IG51bGwsXG4gIG5hbWU/OiBhbnksXG4gIHN1cm5hbWU/OiBhbnksXG4gIHN5bmNUb0FkZHJlc3Nib29rPzogYm9vbGVhblxuKTogUHJvbWlzZTx1bmRlZmluZWQ+O1xuXG5leHBvcnRNb2R1bGUoXG4gIGV4cG9ydHMsXG4gIHtcbiAgICBzYXZlQ29udGFjdEFjdGlvbjogJ3NhdmVDb250YWN0QWN0aW9uJyxcbiAgfSxcbiAgKG0pID0+IHtcbiAgICBjb25zb2xlLmxvZygnQUMnLCBtLnNhdmVDb250YWN0QWN0aW9uKTtcblxuICAgIHJldHVybiBtLnNhdmVDb250YWN0QWN0aW9uO1xuICB9XG4pO1xuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI1IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA5NzM0ODAgPj0gMi4yMjQxLjZcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHNlbGVjdENoYXRGb3JPbmVPbk9uZU1lc3NhZ2UocGFyYW1zOiBhbnkpOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBzZWxlY3RDaGF0Rm9yT25lT25PbmVNZXNzYWdlOiAnc2VsZWN0Q2hhdEZvck9uZU9uT25lTWVzc2FnZScsXHJcbiAgfSxcclxuICAobSkgPT4gbS5zZWxlY3RDaGF0Rm9yT25lT25PbmVNZXNzYWdlXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQ2hhdE1vZGVsIH0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA4MzgwMlxyXG4gKiBAd2hhdHNhcHAgNDgzODAyID49IDIuMjIyMi44XHJcbiAqIEB3aGF0c2FwcCAzODIwMTkgPj0gMi4yMjI4LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHNlbmRDbGVhcihcclxuICBjaGF0OiBDaGF0TW9kZWwsXHJcbiAga2VlcFN0YXJyZWQ/OiBib29sZWFuXHJcbik6IFByb21pc2U8dm9pZD47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBzZW5kQ2xlYXI6ICdzZW5kQ2xlYXInLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uc2VuZENsZWFyICYmIG0uc2VuZENsZWFyPy50b1N0cmluZygpPy5pbmNsdWRlcygnV0FXZWJTdGF0ZVV0aWxzJylcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNjUwMzQ4XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBzZW5kQ3JlYXRlQ29tbXVuaXR5KGU6IHtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgZGVzYzogc3RyaW5nO1xyXG4gIGNsb3NlZDogYm9vbGVhbjtcclxufSk6IFByb21pc2U8YW55PjtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNjUwMzQ4XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBzZW5kRGVhY3RpdmF0ZUNvbW11bml0eShlOiB7XHJcbiAgcGFyZW50R3JvdXBJZDogV2lkO1xyXG59KTogUHJvbWlzZTxhbnk+O1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA2NTAzNDhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHNlbmRMaW5rU3ViZ3JvdXBzKGU6IHtcclxuICBwYXJlbnRHcm91cElkOiBXaWQ7XHJcbiAgc3ViZ3JvdXBJZHM6IFdpZCB8IFdpZFtdO1xyXG59KTogUHJvbWlzZTxhbnk+O1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA2NTAzNDhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHNlbmRVbmxpbmtTdWJncm91cHMoZToge1xyXG4gIHBhcmVudEdyb3VwSWQ6IFdpZDtcclxuICBzdWJncm91cElkczogV2lkIHwgV2lkW107XHJcbn0pOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBzZW5kQ3JlYXRlQ29tbXVuaXR5OiAnc2VuZENyZWF0ZUNvbW11bml0eScsXHJcbiAgICBzZW5kRGVhY3RpdmF0ZUNvbW11bml0eTogJ3NlbmREZWFjdGl2YXRlQ29tbXVuaXR5JyxcclxuICAgIHNlbmRMaW5rU3ViZ3JvdXBzOiAnc2VuZExpbmtTdWJncm91cHMnLFxyXG4gICAgc2VuZFVubGlua1N1Ymdyb3VwczogJ3NlbmRVbmxpbmtTdWJncm91cHMnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uc2VuZENyZWF0ZUNvbW11bml0eVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGNvbXBhcmUgfSBmcm9tICdjb21wYXJlLXZlcnNpb25zJztcclxuXHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgY3JlYXRlR3JvdXAgfSBmcm9tICcuL2NyZWF0ZUdyb3VwJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgNzk1ODMgKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gc2VuZENyZWF0ZUdyb3VwKFxyXG4gIGdyb3VwTmFtZTogc3RyaW5nLFxyXG4gIHBhcnRpY2lwYW50czogV2lkW10sXHJcbiAgZXBoZW1lcmFsPzogbnVtYmVyLFxyXG4gIHBhcmVudEdyb3VwPzogV2lkXHJcbik6IFByb21pc2U8e1xyXG4gIGdpZDogV2lkO1xyXG4gIHBhcnRpY2lwYW50czogKFxyXG4gICAgfCB7XHJcbiAgICAgICAgW2tleTogYCR7bnVtYmVyfUBjLnVzYF06IHtcclxuICAgICAgICAgIGNvZGU6IHN0cmluZztcclxuICAgICAgICAgIGludml0ZV9jb2RlOiBzdHJpbmcgfCBudWxsO1xyXG4gICAgICAgICAgaW52aXRlX2NvZGVfZXhwOiBzdHJpbmcgfCBudWxsO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIHwge1xyXG4gICAgICAgIHVzZXJXaWQ6IFdpZDtcclxuICAgICAgICBjb2RlOiBzdHJpbmc7XHJcbiAgICAgICAgaW52aXRlX2NvZGU6IHN0cmluZyB8IG51bGw7XHJcbiAgICAgICAgaW52aXRlX2NvZGVfZXhwOiBzdHJpbmcgfCBudWxsO1xyXG4gICAgICB9XHJcbiAgKVtdO1xyXG59PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIHNlbmRDcmVhdGVHcm91cDogJ3NlbmRDcmVhdGVHcm91cCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5zZW5kQ3JlYXRlR3JvdXBcclxuKTtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgPj0gMi4yMzAxLjVcclxuICovXHJcbndlYnBhY2suaW5qZWN0RmFsbGJhY2tNb2R1bGUoJ3NlbmRDcmVhdGVHcm91cCcsIHtcclxuICBzZW5kQ3JlYXRlR3JvdXA6IGFzeW5jIChcclxuICAgIGdyb3VwTmFtZTogc3RyaW5nLFxyXG4gICAgcGFydGljaXBhbnRzOiBXaWRbXSxcclxuICAgIGVwaGVtZXJhbD86IG51bWJlcixcclxuICAgIHBhcmVudEdyb3VwPzogV2lkXHJcbiAgKSA9PiB7XHJcbiAgICBpZiAoY29tcGFyZShzZWxmLkRlYnVnLlZFUlNJT04sICcyLjMwMDAuMTAyNzMyMzY5OScsICc+PScpKSB7XHJcbiAgICAgIHJldHVybiBhd2FpdCBjcmVhdGVHcm91cChcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0aXRsZTogZ3JvdXBOYW1lLFxyXG4gICAgICAgICAgZXBoZW1lcmFsRHVyYXRpb246IGVwaGVtZXJhbCB8fCAwLFxyXG4gICAgICAgICAgcmVzdHJpY3Q6IHRydWUsXHJcbiAgICAgICAgICBhbm5vdW5jZTogdHJ1ZSxcclxuICAgICAgICAgIG1lbWJlcnNoaXBBcHByb3ZhbE1vZGU6IGZhbHNlLFxyXG4gICAgICAgICAgbWVtYmVyQWRkTW9kZTogdHJ1ZSxcclxuICAgICAgICAgIHBhcmVudEdyb3VwSWQ6IHBhcmVudEdyb3VwLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGFydGljaXBhbnRzLm1hcCgocCkgPT4gKHtcclxuICAgICAgICAgIHBob25lTnVtYmVyOiBwLFxyXG4gICAgICAgIH0pKVxyXG4gICAgICApLnRoZW4oKGUpID0+ICh7XHJcbiAgICAgICAgZ2lkOiBlLndpZCxcclxuICAgICAgICBwYXJ0aWNpcGFudHM6IGUucGFydGljaXBhbnRzLm1hcCgoZSkgPT4gKHtcclxuICAgICAgICAgIHVzZXJXaWQ6IGUud2lkLFxyXG4gICAgICAgICAgY29kZTogbnVsbCAhPSBlLmVycm9yID8gZS5lcnJvci50b1N0cmluZygpIDogJzIwMCcsXHJcbiAgICAgICAgICBpbnZpdGVfY29kZTogZS5pbnZpdGVfY29kZSxcclxuICAgICAgICAgIGludml0ZV9jb2RlX2V4cDogZS5pbnZpdGVfY29kZV9leHAsXHJcbiAgICAgICAgfSkpLFxyXG4gICAgICB9KSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gYXdhaXQgY3JlYXRlR3JvdXAoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGl0bGU6IGdyb3VwTmFtZSxcclxuICAgICAgICAgIGVwaGVtZXJhbER1cmF0aW9uOiBlcGhlbWVyYWwgfHwgMCxcclxuICAgICAgICAgIHJlc3RyaWN0OiB0cnVlLFxyXG4gICAgICAgICAgYW5ub3VuY2U6IHRydWUsXHJcbiAgICAgICAgICBtZW1iZXJzaGlwQXBwcm92YWxNb2RlOiBmYWxzZSxcclxuICAgICAgICAgIG1lbWJlckFkZE1vZGU6IHRydWUsXHJcbiAgICAgICAgICBwYXJlbnRHcm91cElkOiBwYXJlbnRHcm91cCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBhcnRpY2lwYW50c1xyXG4gICAgICApLnRoZW4oKGUpID0+ICh7XHJcbiAgICAgICAgZ2lkOiBlLndpZCxcclxuICAgICAgICBwYXJ0aWNpcGFudHM6IGUucGFydGljaXBhbnRzLm1hcCgoZSkgPT4gKHtcclxuICAgICAgICAgIHVzZXJXaWQ6IGUud2lkLFxyXG4gICAgICAgICAgY29kZTogbnVsbCAhPSBlLmVycm9yID8gZS5lcnJvci50b1N0cmluZygpIDogJzIwMCcsXHJcbiAgICAgICAgICBpbnZpdGVfY29kZTogZS5pbnZpdGVfY29kZSxcclxuICAgICAgICAgIGludml0ZV9jb2RlX2V4cDogZS5pbnZpdGVfY29kZV9leHAsXHJcbiAgICAgICAgfSkpLFxyXG4gICAgICB9KSk7XHJcbiAgICB9XHJcbiAgfSxcclxufSk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQ2hhdE1vZGVsIH0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCAyMDA1MlxyXG4gKiBAd2hhdHNhcHAgOTIwMDUyID49IDIuMjIyMi44XHJcbiAqIEB3aGF0c2FwcCA0MzEyNSA+PSAyLjIyMjguNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gc2VuZERlbGV0ZShjaGF0OiBDaGF0TW9kZWwpOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgc2VuZERlbGV0ZTogJ3NlbmREZWxldGUnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uc2VuZERlbGV0ZVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENoYXRNb2RlbCB9IGZyb20gJy4uJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgNTUwMVxyXG4gKiBAd2hhdHNhcHAgNjA1NTAxID49IDIuMjIyMi44XHJcbiAqIEB3aGF0c2FwcCA1MjU1MTAgPj0gMi4yMjI4LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHNlbmRFeGl0R3JvdXAoZ3JvdXA6IENoYXRNb2RlbCk6IFByb21pc2U8dm9pZD47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBzZW5kRXhpdEdyb3VwOiAnc2VuZEV4aXRHcm91cCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5zZW5kRXhpdEdyb3VwXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA0Mzc3MjIgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHNlbmRBZGRQYXJ0aWNpcGFudHMoXHJcbiAgZ3JvdXA6IFdpZCxcclxuICBwYXJ0aWNpcGFudHM6IChXaWQgfCB7IHBob25lTnVtYmVyOiBXaWQ7IGxpZD86IFdpZCB9KVtdXHJcbik6IFByb21pc2U8e1xyXG4gIHBhcnRpY2lwYW50cz86IChcclxuICAgIHwge1xyXG4gICAgICAgIFtrZXk6IGAke251bWJlcn1AYy51c2BdOiB7XHJcbiAgICAgICAgICBjb2RlOiBzdHJpbmc7XHJcbiAgICAgICAgICBpbnZpdGVfY29kZTogc3RyaW5nIHwgbnVsbDtcclxuICAgICAgICAgIGludml0ZV9jb2RlX2V4cDogc3RyaW5nIHwgbnVsbDtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB8IHtcclxuICAgICAgICB1c2VyV2lkOiBXaWQ7XHJcbiAgICAgICAgY29kZTogc3RyaW5nO1xyXG4gICAgICAgIGludml0ZV9jb2RlOiBzdHJpbmcgfCBudWxsO1xyXG4gICAgICAgIGludml0ZV9jb2RlX2V4cDogc3RyaW5nIHwgbnVsbDtcclxuICAgICAgfVxyXG4gIClbXTtcclxuICBzdGF0dXM6IG51bWJlcjtcclxuICBba2V5OiBgJHtudW1iZXJ9QGMudXNgXTogbnVtYmVyO1xyXG59PjtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNDM3NzIyID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBzZW5kUmVtb3ZlUGFydGljaXBhbnRzKFxyXG4gIGdyb3VwOiBXaWQsXHJcbiAgcGFydGljaXBhbnRzOiBXaWRbXVxyXG4pOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA0Mzc3MjIgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHNlbmRQcm9tb3RlUGFydGljaXBhbnRzKFxyXG4gIGdyb3VwOiBXaWQsXHJcbiAgcGFydGljaXBhbnRzOiBXaWRbXVxyXG4pOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA0Mzc3MjIgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHNlbmREZW1vdGVQYXJ0aWNpcGFudHMoXHJcbiAgZ3JvdXA6IFdpZCxcclxuICBwYXJ0aWNpcGFudHM6IFdpZFtdXHJcbik6IFByb21pc2U8dm9pZD47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBzZW5kQWRkUGFydGljaXBhbnRzOiBbJ3NlbmRBZGRQYXJ0aWNpcGFudHMnLCAnYWRkR3JvdXBQYXJ0aWNpcGFudHMnXSxcclxuICAgIHNlbmRSZW1vdmVQYXJ0aWNpcGFudHM6IFtcclxuICAgICAgJ3NlbmRSZW1vdmVQYXJ0aWNpcGFudHMnLFxyXG4gICAgICAncmVtb3ZlR3JvdXBQYXJ0aWNpcGFudHMnLFxyXG4gICAgXSxcclxuICAgIHNlbmRQcm9tb3RlUGFydGljaXBhbnRzOiBbXHJcbiAgICAgICdzZW5kUHJvbW90ZVBhcnRpY2lwYW50cycsXHJcbiAgICAgICdwcm9tb3RlR3JvdXBQYXJ0aWNpcGFudHMnLFxyXG4gICAgXSxcclxuICAgIHNlbmREZW1vdGVQYXJ0aWNpcGFudHM6IFtcclxuICAgICAgJ3NlbmREZW1vdGVQYXJ0aWNpcGFudHMnLFxyXG4gICAgICAnZGVtb3RlR3JvdXBQYXJ0aWNpcGFudHMnLFxyXG4gICAgXSxcclxuICB9LFxyXG4gIChtKSA9PlxyXG4gICAgKG0uc2VuZEFkZFBhcnRpY2lwYW50cyAmJlxyXG4gICAgICBtLnNlbmRSZW1vdmVQYXJ0aWNpcGFudHMgJiZcclxuICAgICAgbS5zZW5kUHJvbW90ZVBhcnRpY2lwYW50cyAmJlxyXG4gICAgICBtLnNlbmREZW1vdGVQYXJ0aWNpcGFudHMpIHx8IC8vIEB3aGF0c2FwcCA8IDIuMjMwMS41XHJcbiAgICAobS5hZGRHcm91cFBhcnRpY2lwYW50cyAmJlxyXG4gICAgICBtLnJlbW92ZUdyb3VwUGFydGljaXBhbnRzICYmXHJcbiAgICAgIG0ucHJvbW90ZUdyb3VwUGFydGljaXBhbnRzICYmXHJcbiAgICAgIG0uZGVtb3RlR3JvdXBQYXJ0aWNpcGFudHMpIC8vIEB3aGF0c2FwcCA+PSAyLjIzMDEuNVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGdldEdyb3VwSW5mb0Zyb21JbnZpdGVDb2RlLCBpQW1NZW1iZXIgfSBmcm9tICcuLi8uLi9ncm91cCc7XHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IENoYXRTdG9yZSwgV2lkIH0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBqb2luR3JvdXBWaWFJbnZpdGUgfSBmcm9tICcuL2pvaW5Hcm91cFZpYUludml0ZSc7XHJcblxyXG4vKiogQHdoYXRzYXBwIDY5NTg2XHJcbiAqIEB3aGF0c2FwcCA3Njk1ODYgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHNlbmRKb2luR3JvdXBWaWFJbnZpdGUoY29kZTogc3RyaW5nKTogUHJvbWlzZTxXaWQ+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgc2VuZEpvaW5Hcm91cFZpYUludml0ZTogJ3NlbmRKb2luR3JvdXBWaWFJbnZpdGUnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uc2VuZEpvaW5Hcm91cFZpYUludml0ZVxyXG4pO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA+PSAyLjIzMDEuNVxyXG4gKi9cclxud2VicGFjay5pbmplY3RGYWxsYmFja01vZHVsZSgnc2VuZEpvaW5Hcm91cFZpYUludml0ZScsIHtcclxuICBzZW5kSm9pbkdyb3VwVmlhSW52aXRlOiBhc3luYyAoZ3JvdXBJZDogV2lkKSA9PiB7XHJcbiAgICBjb25zdCBncm91cCA9IGF3YWl0IGdldEdyb3VwSW5mb0Zyb21JbnZpdGVDb2RlKGdyb3VwSWQgYXMgYW55KTtcclxuICAgIGNvbnN0IGV4aXN0Q2hhdCA9IENoYXRTdG9yZS5nZXQoZ3JvdXAuaWQudG9TdHJpbmcoKSk7XHJcbiAgICBpZiAoZXhpc3RDaGF0KSB7XHJcbiAgICAgIGNvbnN0IGlzTWVtYmVyID0gYXdhaXQgaUFtTWVtYmVyKGdyb3VwLmlkLnRvU3RyaW5nKCkpO1xyXG4gICAgICBpZiAoaXNNZW1iZXIpIHJldHVybiBncm91cC5pZDtcclxuICAgIH1cclxuICAgIHJldHVybiBhd2FpdCBqb2luR3JvdXBWaWFJbnZpdGUoZ3JvdXBJZCkudGhlbigodmFsdWUpID0+IHZhbHVlLmdpZCk7XHJcbiAgfSxcclxufSk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgTXNnTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCAzOTc5OTVcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHNlbmROZXdzbGV0dGVyTWVzc2FnZUpvYihkYXRhOiB7XHJcbiAgbXNnRGF0YT86IGFueTtcclxuICBtc2c/OiBNc2dNb2RlbDtcclxuICBuZXdzbGV0dGVySmlkOiBzdHJpbmc7XHJcbiAgdHlwZTogc3RyaW5nO1xyXG4gIGVkaXRUeXBlPzogJ21lZGlhJyB8ICd0ZXh0JztcclxufSk6IFByb21pc2U8eyBhY2s6IHsgdDogbnVtYmVyIH07IHNlcnZlcklkOiBudW1iZXI7IHN1Y2Nlc3M6IGJvb2xlYW4gfT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBzZW5kTmV3c2xldHRlck1lc3NhZ2VKb2I6IFtcclxuICAgICAgJ3NlbmROZXdzbGV0dGVyTWVzc2FnZUpvYicsXHJcbiAgICAgICdzZW5kTmV3c2xldHRlck1lc3NhZ2UnLCAvLyA8PSAyLjIzMjYueFxyXG4gICAgXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLnNlbmROZXdzbGV0dGVyTWVzc2FnZUpvYiB8fCBtLnNlbmROZXdzbGV0dGVyTWVzc2FnZSAvLyA8PSAyLjIzMjYueFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFNlbmRNc2dSZXN1bHQgfSBmcm9tICcuLi9lbnVtcyc7XHJcbmltcG9ydCB7IFBJTl9TVEFURSB9IGZyb20gJy4uL2VudW1zL1BJTl9TVEFURSc7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IE1zZ01vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgV0FXZWJTZW5kUGluTWVzc2FnZUFjdGlvbiA+PSAyLjMwMDAuMTAxMjE3MDk0M1xyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gc2VuZFBpbkluQ2hhdE1zZyhcclxuICBtc2c6IE1zZ01vZGVsLFxyXG4gIHR5cGU6IFBJTl9TVEFURSxcclxuICB0aW1lPzogbnVtYmVyLFxyXG4gIGQ/OiBhbnlcclxuKTogUHJvbWlzZTx7XHJcbiAgY291bnQ6IG51bWJlcjtcclxuICBtZXNzYWdlU2VuZFJlc3VsdDogU2VuZE1zZ1Jlc3VsdDtcclxuICB0OiBudW1iZXI7XHJcbn0+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgc2VuZFBpbkluQ2hhdE1zZzogJ3NlbmRQaW5JbkNoYXRNc2cnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uc2VuZFBpbkluQ2hhdE1zZ1xyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgNTc1NDdcclxuICogQHdoYXRzYXBwIDY5NzIyID49IDIuMjIwNC4xM1xyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gc2VuZFF1ZXJ5RXhpc3RzKGNvbnRhY3Q6IFdpZCk6IFByb21pc2U8e1xyXG4gIHdpZDogV2lkO1xyXG4gIGJpejogYm9vbGVhbjtcclxuICBiaXpJbmZvPzoge1xyXG4gICAgdmVyaWZpZWROYW1lPzoge1xyXG4gICAgICBpc0FwaTogYm9vbGVhbjtcclxuICAgICAgbGV2ZWw6IHN0cmluZztcclxuICAgICAgbmFtZTogc3RyaW5nO1xyXG4gICAgICBwcml2YWN5TW9kZTogYW55O1xyXG4gICAgICBzZXJpYWw6IHN0cmluZztcclxuICAgIH07XHJcbiAgfTtcclxuICBkaXNhcHBlYXJpbmdNb2RlPzoge1xyXG4gICAgZHVyYXRpb246IG51bWJlcjtcclxuICAgIHNldHRpbmdUaW1lc3RhbXA6IG51bWJlcjtcclxuICB9O1xyXG59PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIHNlbmRRdWVyeUV4aXN0czogW1xyXG4gICAgICAncXVlcnlFeGlzdHMnLCAvLyBAd2hhdHNhcHAgPj0gMi4yMjA4LjdcclxuICAgICAgJ3F1ZXJ5V2lkRXhpc3RzJywgLy8gQHdoYXRzYXBwID49IDIuMjMwNi43XHJcbiAgICBdLFxyXG4gIH0sXHJcbiAgKG0pID0+XHJcbiAgICAobS5xdWVyeUV4aXN0cyAmJiBtLnF1ZXJ5UGhvbmVFeGlzdHMpIHx8IC8vIEB3aGF0c2FwcCA+PSAyLjIyMTEuMlxyXG4gICAgKG0ucXVlcnlXaWRFeGlzdHMgJiYgbS5xdWVyeVBob25lRXhpc3RzKSAvLyBAd2hhdHNhcHAgPj0gMi4yMzA2LjdcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLic7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5R3JvdXBJbnZpdGVSZXN1bHQge1xyXG4gIGdyb3VwSW5mbzoge1xyXG4gICAgYW5ub3VuY2U6IGJvb2xlYW47XHJcbiAgICBjcmVhdGlvbjogbnVtYmVyO1xyXG4gICAgLyoqIGRlc2NyaXB0aW9uIG9mIHRoZSBncm91cDsgbGluZWJyZWFrcyBhcmUgZm9ybWF0dGVkIHVzaW5nIGBcIlxcblwiYCAqL1xyXG4gICAgZGVzYzogc3RyaW5nO1xyXG4gICAgZGVzY0lkOiBzdHJpbmc7XHJcbiAgICBkZXNjT3duZXI/OiBXaWQ7XHJcbiAgICBkZXNjVGltZTogbnVtYmVyO1xyXG4gICAgaWQ6IFdpZDtcclxuICAgIG5vRnJlcXVlbnRseUZvcndhcmRlZDogYm9vbGVhbjtcclxuICAgIG93bmVyPzogV2lkO1xyXG4gICAgcGFyZW50OiBib29sZWFuO1xyXG4gICAgcGFydGljaXBhbnRzOiB7XHJcbiAgICAgIGlkOiBXaWQ7XHJcbiAgICAgIGlzQWRtaW46IGJvb2xlYW47XHJcbiAgICAgIGlzU3VwZXJBZG1pbjogYm9vbGVhbjtcclxuICAgIH1bXTtcclxuICAgIHB2SWQ/OiBzdHJpbmc7XHJcbiAgICByZXN0cmljdDogYm9vbGVhbjtcclxuICAgIC8qKiBob3cgbWFueSBtZW1iZXJzIHRoZSBncm91cCBjdXJyZW50bHkgaGFzICovXHJcbiAgICBzaXplOiBudW1iZXI7XHJcbiAgICBzdGF0dXM6IG51bWJlcjtcclxuICAgIC8qKiB0aXRsZSBvZiB0aGUgZ3JvdXAgKi9cclxuICAgIHN1YmplY3Q6IHN0cmluZztcclxuICAgIHN1YmplY3RPd25lcj86IFdpZDtcclxuICAgIHN1YmplY3RUaW1lOiBudW1iZXI7XHJcbiAgICBzdXBwb3J0OiBib29sZWFuO1xyXG4gICAgc3VzcGVuZGVkOiBib29sZWFuO1xyXG4gICAgaXNQYXJlbnRHcm91cDogYm9vbGVhbjtcclxuICAgIGlzUGFyZW50R3JvdXBDbG9zZWQ6IGJvb2xlYW47XHJcbiAgICBkZWZhdWx0U3ViZ3JvdXA6IGJvb2xlYW47XHJcbiAgICBnZW5lcmFsU3ViZ3JvdXA6IGJvb2xlYW47XHJcbiAgICBtZW1iZXJzaGlwQXBwcm92YWxNb2RlOiBib29sZWFuO1xyXG4gICAgaXNMaWRBZGRyZXNzaW5nTW9kZTogYm9vbGVhbjtcclxuICAgIGdlbmVyYWxDaGF0QXV0b0FkZERpc2FibGVkOiBib29sZWFuO1xyXG4gIH07XHJcbiAgc3RhdHVzOiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKiBAd2hhdHNhcHAgMTA3OTBcclxuICogQHdoYXRzYXBwIDgxMDc5MCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gc2VuZFF1ZXJ5R3JvdXBJbnZpdGUoXHJcbiAgaW52aXRlQ29kZTogc3RyaW5nXHJcbik6IFByb21pc2U8UXVlcnlHcm91cEludml0ZVJlc3VsdD47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBzZW5kUXVlcnlHcm91cEludml0ZTogJ3NlbmRRdWVyeUdyb3VwSW52aXRlJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLnNlbmRRdWVyeUdyb3VwSW52aXRlXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgd2VicGFjayBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBmZXRjaE1leEdyb3VwSW52aXRlQ29kZSB9IGZyb20gJy4vJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgNjU3MDUgKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gc2VuZFF1ZXJ5R3JvdXBJbnZpdGVDb2RlKGdyb3VwSWQ6IFdpZCk6IFByb21pc2U8c3RyaW5nPjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIHNlbmRRdWVyeUdyb3VwSW52aXRlQ29kZTogJ3NlbmRRdWVyeUdyb3VwSW52aXRlQ29kZScsXHJcbiAgfSxcclxuICAobSkgPT4gbS5zZW5kUXVlcnlHcm91cEludml0ZUNvZGVcclxuKTtcclxuXHJcbndlYnBhY2suaW5qZWN0RmFsbGJhY2tNb2R1bGUoJ3NlbmRRdWVyeUdyb3VwSW52aXRlQ29kZScsIHtcclxuICBzZW5kUXVlcnlHcm91cEludml0ZUNvZGU6IGFzeW5jIChncm91cElkOiBXaWQpID0+IHtcclxuICAgIHJldHVybiBhd2FpdCBmZXRjaE1leEdyb3VwSW52aXRlQ29kZShncm91cElkKTtcclxuICB9LFxyXG59KTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBNc2dNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG4vKiogQHdoYXRzYXBwIDIxMzU3XHJcbiAqIEB3aGF0c2FwcCA2MjEzNTcgPj0gMi4yMjIyLjhcclxuICogQHdoYXRzYXBwIDgwNTY4NyA+PSAyLjIyMjguNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gc2VuZFJlYWN0aW9uVG9Nc2coXHJcbiAgbXNnOiBNc2dNb2RlbCxcclxuICByZWFjdGlvblRleHQ6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHN0cmluZz47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBzZW5kUmVhY3Rpb25Ub01zZzogJ3NlbmRSZWFjdGlvblRvTXNnJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLnNlbmRSZWFjdGlvblRvTXNnXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgd2VicGFjayBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyByZXNldEdyb3VwSW52aXRlQ29kZSB9IGZyb20gJy4vcmVzZXRHcm91cEludml0ZUNvZGUnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA2OTU4NlxyXG4gKiBAd2hhdHNhcHAgNzY5NTg2ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBzZW5kUmV2b2tlR3JvdXBJbnZpdGVDb2RlKFxyXG4gIGdyb3VwSWQ6IFdpZFxyXG4pOiBQcm9taXNlPHN0cmluZz47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBzZW5kUmV2b2tlR3JvdXBJbnZpdGVDb2RlOiAnc2VuZFJldm9rZUdyb3VwSW52aXRlQ29kZScsXHJcbiAgfSxcclxuICAobSkgPT4gbS5zZW5kUmV2b2tlR3JvdXBJbnZpdGVDb2RlXHJcbik7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwID49IDIuMjMwMS41XHJcbiAqL1xyXG53ZWJwYWNrLmluamVjdEZhbGxiYWNrTW9kdWxlKCdzZW5kUmV2b2tlR3JvdXBJbnZpdGVDb2RlJywge1xyXG4gIHNlbmRSZXZva2VHcm91cEludml0ZUNvZGU6IGFzeW5jIChncm91cElkOiBXaWQpID0+IHtcclxuICAgIHJldHVybiBhd2FpdCByZXNldEdyb3VwSW52aXRlQ29kZShncm91cElkKS50aGVuKCh2YWx1ZSkgPT4gdmFsdWUuY29kZSk7XHJcbiAgfSxcclxufSk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgNTUyNFxyXG4gKiBAd2hhdHNhcHAgMTA1NTI0ID49IDIuMjIyMi44XHJcbiAqIEB3aGF0c2FwcCA3ODE4NDUgPj0gMi4yMjI4LjRcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHNlbmRUZXh0TXNnVG9DaGF0KFxyXG4gIGNoYXQ6IGFueSxcclxuICBtZXNzYWdlOiBhbnksXHJcbiAgb3B0aW9uczogYW55XHJcbik6IFByb21pc2U8c3RyaW5nPjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIHNlbmRUZXh0TXNnVG9DaGF0OiAnc2VuZFRleHRNc2dUb0NoYXQnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uc2VuZFRleHRNc2dUb0NoYXRcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBDaGF0TW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuLyoqXHJcbiAqIEBkZXByZWNhdGVkXHJcbiAqIEB3aGF0c2FwcCA1OTk5MlxyXG4gKiBAd2hhdHNhcHAgMjU5OTkyID49IDIuMjIyMi44XHJcbiAqIEB3aGF0c2FwcCA1MDMxNTMgPj0gMi4yMjI4LjRcclxuICogPD0gMi4zMDAwLnhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHNldEFyY2hpdmUoXHJcbiAgY2hhdDogQ2hhdE1vZGVsLFxyXG4gIGFyY2hpdmU6IGJvb2xlYW4sXHJcbiAgaWQ/OiBzdHJpbmdcclxuKTogUHJvbWlzZTx2b2lkPjtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgPj0gMi4zMDAwLjEwMTIxMTc2NDFcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHNldEFyY2hpdmUoXHJcbiAgYXJnczogeyBpZDogc3RyaW5nOyBhcmNoaXZlOiBib29sZWFuIH1bXVxyXG4pOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgc2V0QXJjaGl2ZTogJ3NldEFyY2hpdmUnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uc2V0QXJjaGl2ZVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uJztcclxuaW1wb3J0IHsgR1JPVVBfU0VUVElOR19UWVBFIH0gZnJvbSAnLi4vZW51bXMnO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA1NzQ5MFxyXG4gKiBAd2hhdHNhcHAgMzU3NDkwID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBzZW5kU2V0R3JvdXBTdWJqZWN0KFxyXG4gIGdyb3VwSWQ6IFdpZCxcclxuICBzdWJqZWN0OiBzdHJpbmdcclxuKTogUHJvbWlzZTx2b2lkPjtcclxuXHJcbi8qKiBAd2hhdHNhcHAgNTc0OTBcclxuICogQHdoYXRzYXBwIDM1NzQ5MCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gc2VuZFNldEdyb3VwRGVzY3JpcHRpb24oXHJcbiAgZ3JvdXBJZDogV2lkLFxyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsXHJcbiAgdGFnSWQ6IHN0cmluZyxcclxuICBwcmV2aW91c1RhZ0lkPzogc3RyaW5nXHJcbik6IFByb21pc2U8dm9pZD47XHJcblxyXG4vKiogQHdoYXRzYXBwIDU3NDkwXHJcbiAqIEB3aGF0c2FwcCAzNTc0OTAgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHNlbmRTZXRHcm91cFByb3BlcnR5KFxyXG4gIGdyb3VwSWQ6IFdpZCxcclxuICBwcm9wZXJ0eTogR1JPVVBfU0VUVElOR19UWVBFLFxyXG4gIHZhbHVlOiBudW1iZXJcclxuKTogUHJvbWlzZTx2b2lkPjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIHNlbmRTZXRHcm91cFN1YmplY3Q6IFsnc2VuZFNldEdyb3VwU3ViamVjdCcsICdzZXRHcm91cFN1YmplY3QnXSxcclxuICAgIHNlbmRTZXRHcm91cERlc2NyaXB0aW9uOiBbJ3NlbmRTZXRHcm91cERlc2NyaXB0aW9uJywgJ3NldEdyb3VwRGVzY3JpcHRpb24nXSxcclxuICAgIHNlbmRTZXRHcm91cFByb3BlcnR5OiBbJ3NlbmRTZXRHcm91cFByb3BlcnR5JywgJ3NldEdyb3VwUHJvcGVydHknXSxcclxuICB9LFxyXG4gIChtKSA9PlxyXG4gICAgKG0uc2VuZFNldEdyb3VwU3ViamVjdCAmJlxyXG4gICAgICBtLnNlbmRTZXRHcm91cERlc2NyaXB0aW9uICYmXHJcbiAgICAgIG0uc2VuZFNldEdyb3VwUHJvcGVydHkpIHx8IC8vIEB3aGF0c2FwcCA8IDIuMjMwMS41XHJcbiAgICAobS5zZXRHcm91cFN1YmplY3QgJiYgbS5zZXRHcm91cERlc2NyaXB0aW9uICYmIG0uc2V0R3JvdXBQcm9wZXJ0eSkgLy8gQHdoYXRzYXBwID49IDIuMjMwMS41XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgQ2hhdE1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgMTAyMzZcclxuICogQHdoYXRzYXBwIDUxMDIzNiA+PSAyLjIyMjIuOFxyXG4gKiBAd2hhdHNhcHAgNzQyMzQ4ID49IDIuMjIyOC40XHJcbiAqIEB3aGF0c2FwcCA0NTYxODAgPj0gMi4yMjMwLjhcclxuICogQHdoYXRzYXBwIFdBV2ViU2V0UGluQ2hhdEFjdGlvbiA+PSAyLjMwMDAueFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gc2V0UGluKGNoYXQ6IENoYXRNb2RlbCwgcGluOiBib29sZWFuKTogUHJvbWlzZTx2b2lkPjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIHNldFBpbjogJ3NldFBpbicsXHJcbiAgfSxcclxuICAobSkgPT4gbS5zZXRQaW4gJiYgIW0udW5waW5BbGwgJiYgIW0uZ2V0UGluTGltaXRcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgV0FXZWJTZXRQcml2YWN5Rm9yT25lQ2F0ZWdvcnlBY3Rpb24gPj0gMi4zMDAwLjBcclxuICovXHJcbi8qKiBGb3Igc2V0IHByaXZhY3kgd2hvIGNhbiB5b3Ugc2VlIHlvdXIgbGFzdCBzZWVuLCBwcm9maWxlIHBpYywgb3Igc3RhdHVzICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHNldFByaXZhY3lGb3JPbmVDYXRlZ29yeShcclxuICBhdHRyczoge1xyXG4gICAgbmFtZTogJ2xhc3QnIHwgJ3Byb2ZpbGUnIHwgJ3N0YXR1cyc7XHJcbiAgICB2YWx1ZTogJ2NvbnRhY3RzJyB8ICdhbGwnIHwgJ2NvbnRhY3RfYmxhY2tsaXN0JyB8ICdub25lJztcclxuICAgIHVzZXJzPzogeyBhY3Rpb246ICdhZGQnIHwgJ3JlbW92ZSc7IHdpZDogV2lkIH1bXTtcclxuICAgIGRoYXNoPzogYW55O1xyXG4gIH0sXHJcbiAgZGlzYWxsb3dlZExpc3Q/OiBXaWRbXVxyXG4pOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuLyoqIHNldCBwcml2YWN5IGZvciB3aG8gaGFzIHBlcm1pc3Npb24gdG8gYWRkIGEgZ3JvdXAgKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gc2V0UHJpdmFjeUZvck9uZUNhdGVnb3J5KFxyXG4gIGF0dHJzOiB7XHJcbiAgICBuYW1lOiAnZ3JvdXBhZGQnO1xyXG4gICAgdmFsdWU6ICdjb250YWN0cycgfCAnYWxsJyB8ICdjb250YWN0X2JsYWNrbGlzdCc7XHJcbiAgICB1c2Vycz86IHsgYWN0aW9uOiAnYWRkJyB8ICdyZW1vdmUnOyB3aWQ6IFdpZCB9W107XHJcbiAgICBkaGFzaD86IGFueTtcclxuICB9LFxyXG4gIGRpc2FsbG93ZWRMaXN0PzogV2lkW11cclxuKTogUHJvbWlzZTx2b2lkPjtcclxuXHJcbi8qKiBGb3Igc2V0IHByaXZhY3kgd2hvIGNhbiB5b3Ugc2VlIHlvdXIgbGFzdCBvbmxpbmUgKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gc2V0UHJpdmFjeUZvck9uZUNhdGVnb3J5KGF0dHJzOiB7XHJcbiAgbmFtZTogJ29ubGluZSc7XHJcbiAgdmFsdWU6ICdhbGwnIHwgJ21hdGNoX2xhc3Rfc2Vlbic7XHJcbn0pOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuLyoqIEZvciBzZXQgcHJpdmFjeSB3aG8gY2FuIHlvdSBzZWUgeW91ciByZWFkIHJlY2VpcHRzICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHNldFByaXZhY3lGb3JPbmVDYXRlZ29yeShhdHRyczoge1xyXG4gIG5hbWU6ICdyZWFkcmVjZWlwdHMnO1xyXG4gIHZhbHVlOiAnYWxsJyB8ICdub25lJztcclxufSk6IFByb21pc2U8dm9pZD47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBzZXRQcml2YWN5Rm9yT25lQ2F0ZWdvcnk6ICdzZXRQcml2YWN5Rm9yT25lQ2F0ZWdvcnknLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uc2V0UHJpdmFjeUZvck9uZUNhdGVnb3J5XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgMTM1OTYzID49IDIuMjMxMC41XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBzZXRQdXNobmFtZShuYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgc2V0UHVzaG5hbWU6ICdzZXRQdXNobmFtZScsXHJcbiAgfSxcclxuICAobSkgPT4gbS5zZXRQdXNobmFtZSAmJiAhbS5zZXRCcm93c2VySWRcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCBXQVdlYkxpZE1pZ3JhdGlvblV0aWxzID49IDIuMzAwMC54XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBzaG91bGRIYXZlQWNjb3VudExpZCgpOiBib29sZWFuO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgc2hvdWxkSGF2ZUFjY291bnRMaWQ6IFsnc2hvdWxkSGF2ZUFjY291bnRMaWQnXSxcclxuICB9LFxyXG4gIChtKSA9PiB0eXBlb2YgbS5zaG91bGRIYXZlQWNjb3VudExpZCA9PT0gJ2Z1bmN0aW9uJ1xyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgNDY4OThcclxuICogQHdoYXRzYXBwIDUxMzE2ID49IDIuMjIwNC4xM1xyXG4gKiBAd2hhdHNhcHAgNTQ2ODk4ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZXRTdGF0dXMoY29udGFjdElkOiBXaWQpOiBQcm9taXNlPHtcclxuICBpZDogV2lkO1xyXG4gIHN0YXR1czogc3RyaW5nO1xyXG59PjtcclxuXHJcbi8qKiBAd2hhdHNhcHAgNDY4OThcclxuICogQHdoYXRzYXBwIDUxMzE2ID49IDIuMjIwNC4xM1xyXG4gKiBAd2hhdHNhcHAgNTQ2ODk4ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBzZXRNeVN0YXR1cyhcclxuICBzdGF0dXM6IHN0cmluZyxcclxuICBzZXFJZD86IG51bWJlclxyXG4pOiBQcm9taXNlPHsgc3RhdHVzOiBudW1iZXIgfT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBnZXRTdGF0dXM6ICdnZXRTdGF0dXMnLFxyXG4gICAgc2V0TXlTdGF0dXM6ICdzZXRNeVN0YXR1cycsXHJcbiAgfSxcclxuICAobSkgPT4gbS5nZXRTdGF0dXMgJiYgbS5zZXRNeVN0YXR1cyAmJiBtLnF1ZXJ5U3RhdHVzQWxsXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgV0FXZWJTdGF0dXNTZW5kR2F0aW5nVXRpbHMgPj0gMi4zMDAwLjBcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHByaW1hcnlGZWF0dXJlRW5hYmxlZChrZXk6IHN0cmluZyk6IGJvb2xlYW47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBwcmltYXJ5RmVhdHVyZUVuYWJsZWQ6ICdwcmltYXJ5RmVhdHVyZUVuYWJsZWQnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0ucHJpbWFyeUZlYXR1cmVFbmFibGVkXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCBXQVdlYkNvbnRhY3RQcmVzZW5jZUJyaWRnZVxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gc3Vic2NyaWJlUHJlc2VuY2UoaWQ6IFdpZCwgdGNUb2tlbj86IGFueSk6IFByb21pc2U8YW55PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIHN1YnNjcmliZVByZXNlbmNlOiAnc3Vic2NyaWJlUHJlc2VuY2UnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uc3Vic2NyaWJlUHJlc2VuY2VcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCAyNjY0ODVcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHN5bmNBQlByb3BzVGFzaygpOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBzeW5jQUJQcm9wc1Rhc2s6ICdzeW5jQUJQcm9wc1Rhc2snLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uc3luY0FCUHJvcHNUYXNrXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIFdBV2ViTGlkTWlncmF0aW9uVXRpbHMgPj0gMi4zMDAwLnhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHRvVXNlckxpZCh3aWQ6IFdpZCk6IFdpZDtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIHRvVXNlckxpZDogWyd0b1VzZXJMaWQnXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLnRvVXNlckxpZFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKiogQHdoYXRzYXBwIDkzNjUwXHJcbiAqIEB3aGF0c2FwcCAxOTM2NTAgPj0gMi4yMjIyLjhcclxuICogQHdoYXRzYXBwIDk4NTk0NyA+PSAyLjIyMjguNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gdHlwZUF0dHJpYnV0ZUZyb21Qcm90b2J1Zihwcm90b01lc3NhZ2U6IHtcclxuICBba2V5OiBzdHJpbmddOiBhbnk7XHJcbn0pOiBzdHJpbmc7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICB0eXBlQXR0cmlidXRlRnJvbVByb3RvYnVmOiAndHlwZUF0dHJpYnV0ZUZyb21Qcm90b2J1ZicsXHJcbiAgfSxcclxuICAobSkgPT4gbS50eXBlQXR0cmlidXRlRnJvbVByb3RvYnVmXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNDg4MjYgPj0gMi4yMjM4LjVcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHVuaXhUaW1lKCk6IG51bWJlcjtcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNDg4MjYgPj0gMi4yMjM4LjVcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHVuaXhUaW1lTXMoKTogbnVtYmVyO1xyXG5cclxubGV0IGV4cG9ydGVkID0gZmFsc2U7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICB1bml4VGltZTogWyd1bml4VGltZScsICdDbG9jay5nbG9iYWxVbml4VGltZSddLFxyXG4gICAgdW5peFRpbWVNczogWyd1bml4VGltZU1zJywgJ0Nsb2NrLmdsb2JhbFVuaXhUaW1lTWlsbGlzZWNvbmRzJ10sXHJcbiAgfSxcclxuICAobSkgPT4ge1xyXG4gICAgaWYgKG0udW5peFRpbWUpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGaXggYmluZGluZyBmcm9tIG1ldGhvZCB0byBmdW5jdGlvbiBjYWxsXHJcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Z1bmN0aW9uL2JpbmRcclxuICAgICAqL1xyXG4gICAgaWYgKCFleHBvcnRlZCAmJiBtLkNsb2NrPy5nbG9iYWxVbml4VGltZSkge1xyXG4gICAgICBleHBvcnRlZCA9IHRydWU7XHJcbiAgICAgIG0uQ2xvY2suZ2xvYmFsVW5peFRpbWUgPSBtLkNsb2NrLmdsb2JhbFVuaXhUaW1lLmJpbmQobS5DbG9jayk7XHJcbiAgICAgIG0uQ2xvY2suZ2xvYmFsVW5peFRpbWVNaWxsaXNlY29uZHMgPVxyXG4gICAgICAgIG0uQ2xvY2suZ2xvYmFsVW5peFRpbWVNaWxsaXNlY29uZHMuYmluZChtLkNsb2NrKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbS5DbG9jaz8uZ2xvYmFsVW5peFRpbWU7XHJcbiAgfVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDYzOTczNVxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gdW5tdXRlTmV3c2xldHRlcihcclxuICBuZXdzbGV0dGVySWRzOiBzdHJpbmdbXVxyXG4pOiBQcm9taXNlPGJvb2xlYW4+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgdW5tdXRlTmV3c2xldHRlcjogJ3VubXV0ZU5ld3NsZXR0ZXInLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0udW5tdXRlTmV3c2xldHRlclxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IENhcnRNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDk5MDU1M1xyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gdXBkYXRlQ2FydChjYXJ0OiBDYXJ0TW9kZWwsIGM/OiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgdXBkYXRlQ2FydDogJ3VwZGF0ZUNhcnQnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0udXBkYXRlQ2FydFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjIgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDk5MDU1M1xyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gdXBkYXRlQ2FydEVuYWJsZWQoZW5hYmxlZDogYm9vbGVhbik6IFByb21pc2U8dm9pZD47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICB1cGRhdGVDYXJ0RW5hYmxlZDogJ3VwZGF0ZUNhcnRFbmFibGVkJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLnVwZGF0ZUNhcnRFbmFibGVkXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcblxyXG4vKipcclxuICogR3JvdXBBY3Rpb25QYXJ0aWNpcGFudCBmb3IgQHdoYXRzYXBwID49IDIuMjIzNC42XHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEdyb3VwQWN0aW9uUGFydGljaXBhbnQge1xyXG4gIGlkOiBXaWQ7XHJcbiAgaXNBZG1pbjogYm9vbGVhbjtcclxuICBpc1N1cGVyQWRtaW46IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgR3JvdXBBY3Rpb25DaGFuZ2Uge1xyXG4gIGFjdGlvbjogc3RyaW5nO1xyXG4gIGFjdGlvblR5cGU6IHN0cmluZzsgLy8gQHdoYXRzYXBwID49IDIuMjIyNC42XHJcbiAgaXNMaWRBZGRyZXNzaW5nTW9kZT86IGJvb2xlYW47XHJcbiAgaXNJbnZpdGU/OiBib29sZWFuO1xyXG4gIGlzTGlua2VkR3JvdXBKb2luPzogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBHcm91cEFjdGlvblBhcnRpY2lwYW50IGZvciBAd2hhdHNhcHAgPj0gMi4yMjM0LjZcclxuICAgKi9cclxuICBwYXJ0aWNpcGFudHM6IFdpZFtdIHwgR3JvdXBBY3Rpb25QYXJ0aWNpcGFudFtdO1xyXG4gIHByZXZWZXJzaW9uOiBudW1iZXI7XHJcbiAgcmVhc29uOiBzdHJpbmc7XHJcbiAgdmVyc2lvbjogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDk3MDA0MVxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gdXBkYXRlREJGb3JHcm91cEFjdGlvbihcclxuICBtZXRhOiB7XHJcbiAgICBhY3Rpb25zOiBHcm91cEFjdGlvbkNoYW5nZVtdO1xyXG4gICAgYXV0aG9yOiBXaWQ7XHJcbiAgICBjaGF0SWQ6IFdpZDtcclxuICAgIGV4dGVybmFsSWQ6IHN0cmluZztcclxuICAgIG9mZmxpbmU6IG51bGw7XHJcbiAgICBwdXNobmFtZTogc3RyaW5nO1xyXG4gICAgdHM6IG51bWJlcjtcclxuICB9LFxyXG4gIGFjdGlvbjogR3JvdXBBY3Rpb25DaGFuZ2VcclxuKTogYW55O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgdXBkYXRlREJGb3JHcm91cEFjdGlvbjogW1xyXG4gICAgICAndXBkYXRlREJGb3JHcm91cEFjdGlvbicsIC8vIEB3aGF0c2FwcCA+PSAyLjIyMjQuNlxyXG4gICAgICAnaGFuZGxlR3JvdXBBY3Rpb25NRCcsXHJcbiAgICBdLFxyXG4gIH0sXHJcbiAgKG0pID0+XHJcbiAgICBtLnVwZGF0ZURCRm9yR3JvdXBBY3Rpb24gfHwgLy8gQHdoYXRzYXBwID49IDIuMjIyNC42XHJcbiAgICBtLmhhbmRsZUdyb3VwQWN0aW9uTURcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBNc2dNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG4vKiogQHdoYXRzYXBwIDM5Nzk5NVxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gdXBkYXRlTmV3c2xldHRlck1zZ1JlY29yZChtc2c6IE1zZ01vZGVsKTogUHJvbWlzZTxhbnk+O1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBhZGROZXdzbGV0dGVyTXNnc1JlY29yZHMobXNnOiBNc2dNb2RlbFtdKTogUHJvbWlzZTxhbnk+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgdXBkYXRlTmV3c2xldHRlck1zZ1JlY29yZDogJ3VwZGF0ZU5ld3NsZXR0ZXJNc2dSZWNvcmQnLFxyXG4gICAgYWRkTmV3c2xldHRlck1zZ3NSZWNvcmRzOiAnYWRkTmV3c2xldHRlck1zZ3NSZWNvcmRzJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLnVwZGF0ZU5ld3NsZXR0ZXJNc2dSZWNvcmRcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuaW1wb3J0IHsgUGFydGljaXBhbnRNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDk1MTk3NCA+PSAyLjIyMjIuOFxyXG4gKiBAd2hhdHNhcHAgMzE4NjE1ID49IDIuMjIyNC43XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiB1cGRhdGVQYXJ0aWNpcGFudHMocGFyYW1zOiB7XHJcbiAgZ3JvdXA6IFdpZDtcclxuICBwYXJ0aWNpcGFudHM6IFBhcnRpY2lwYW50TW9kZWxbXTtcclxuICB2ZXJzaW9uOiBudW1iZXI7XHJcbiAgaXNPZmZsaW5lOiBib29sZWFuO1xyXG59KTogUHJvbWlzZTxhbnk+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgdXBkYXRlUGFydGljaXBhbnRzOiAndXBkYXRlUGFydGljaXBhbnRzJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLnVwZGF0ZVBhcnRpY2lwYW50cyAmJiBtLmFkZFBhcnRpY2lwYW50c1xyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENoYXRNb2RlbCB9IGZyb20gJy4uJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgNzA5MDg5XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiB1cGxvYWRNZWRpYShjaGF0OiBDaGF0TW9kZWwpOiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgdXBsb2FkTWVkaWE6ICd1cGxvYWRNZWRpYScsXHJcbiAgfSxcclxuICAobSkgPT4gbS51cGxvYWRNZWRpYVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IE9wYXF1ZURhdGEgfSBmcm9tICcuLic7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKiogQHdoYXRzYXBwIDc4OTg2XHJcbiAqIEB3aGF0c2FwcCA3Nzg5ODYgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHVwbG9hZFByb2R1Y3RJbWFnZShcclxuICBtZWRpYUJsb2I6IE9wYXF1ZURhdGEsXHJcbiAgZmlsZWhhc2g6IHN0cmluZ1xyXG4pOiBQcm9taXNlPHN0cmluZz47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICB1cGxvYWRQcm9kdWN0SW1hZ2U6ICd1cGxvYWRQcm9kdWN0SW1hZ2UnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0udXBsb2FkUHJvZHVjdEltYWdlICYmIG0uTWVkaWFQcmVwXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgd2VicGFjayBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgTWVkaWFFbnRyeSwgT3BhcXVlRGF0YSB9IGZyb20gJy4uL21pc2MnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUaHVtYm5haWxEYXRhIHtcclxuICB0aHVtYm5haWw6IE9wYXF1ZURhdGE7XHJcbiAgbWVkaWFUeXBlOiBzdHJpbmc7XHJcbiAgbWVkaWFLZXlJbmZvOiB7XHJcbiAgICBrZXk6IHN0cmluZztcclxuICAgIHRpbWVzdGFtcDogbnVtYmVyO1xyXG4gIH07IC8vIFJhbmRvbVxyXG4gIHVwbG9hZE9yaWdpbjogbnVtYmVyOyAvLyBVUExPQURfT1JJR0lOX1RZUEVcclxuICBmb3J3YXJkZWRGcm9tV2ViOiBib29sZWFuO1xyXG4gIHNpZ25hbD86IEFib3J0U2lnbmFsO1xyXG4gIHRpbWVvdXQ6IG51bWJlcjsgLy8gTU1TX1RIVU1CTkFJTF9VUExPQURfVElNRU9VVFxyXG4gIGlzVmlld09uY2U6IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNzQ0NjBcclxuICogQHdoYXRzYXBwIDQ3NDQ2MCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gdXBsb2FkVGh1bWJuYWlsKGRhdGE6IFRodW1ibmFpbERhdGEpOiBQcm9taXNlPHtcclxuICBraW5kOiBzdHJpbmc7XHJcbiAgbWVkaWFFbnRyeTogTWVkaWFFbnRyeTtcclxuICBmaWxlaGFzaDogc3RyaW5nO1xyXG59PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIHVwbG9hZFRodW1ibmFpbDogJ2RlZmF1bHQnLFxyXG4gIH0sXHJcbiAgKG0sIGlkKSA9PiB7XHJcbiAgICBpZiAoaWQgPT09ICdXQVdlYk1lZGlhVXBsb2FkTW1zVGh1bWJuYWlsJykge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNvbnN0IHNvdXJjZTogc3RyaW5nID0gd2VicGFjay5tb2R1bGVTb3VyY2UoaWQpO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgc291cmNlLmluY2x1ZGVzKCd0aHVtYm5haWwnKSAmJlxyXG4gICAgICBzb3VyY2UuaW5jbHVkZXMoJy5jYW5jZWxVcGxvYWRNZWRpYScpICYmXHJcbiAgICAgIHNvdXJjZS5pbmNsdWRlcygnLmNhbGN1bGF0ZUZpbGVoYXNoRnJvbUJsb2InKVxyXG4gICAgKTtcclxuICB9XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgTXNnS2V5LCBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVm90ZURhdGEge1xyXG4gIGFjazogbnVtYmVyO1xyXG4gIG1zZ0tleTogTXNnS2V5O1xyXG4gIHBhcmVudE1zZ0tleTogTXNnS2V5O1xyXG4gIHNlbGVjdGVkT3B0aW9uTG9jYWxJZHM6IG51bWJlcltdO1xyXG4gIHNlbmRlcjogV2lkO1xyXG4gIHNlbmRlclRpbWVzdGFtcE1zOiBudW1iZXI7XHJcbn1cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA0NzkyNjFcclxuICogQHdoYXRzYXBwIDQ3OTI2MSA+PSAyLjIyMzBcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHVwc2VydFZvdGVzKGFyZ3M6IFZvdGVEYXRhW10pOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICB1cHNlcnRWb3RlczogW1xyXG4gICAgICAndXBzZXJ0Vm90ZXNEYicsIC8vID49IDIuMjMxMi41XHJcbiAgICAgICd1cHNlcnRWb3RlcycsXHJcbiAgICBdLFxyXG4gIH0sXHJcbiAgKG0pID0+XHJcbiAgICBtLnVwc2VydFZvdGVzRGIgfHwgLy8gPj0gMi4yMzEyLjVcclxuICAgIG0udXBzZXJ0Vm90ZXNcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBNc2dNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIFdBV2ViUG9sbHNEYlNlcmlhbGl6YXRpb24gPj0gMi4zMDAwLnhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHZvdGVGcm9tRGJSb3cobXNnOiBNc2dNb2RlbCk6IFByb21pc2U8YW55PjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIHZvdGVGcm9tRGJSb3c6IFsndm90ZUZyb21EYlJvdyddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0udm90ZUZyb21EYlJvd1xyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCAqIGZyb20gJy4vY29sbGVjdGlvbnMnO1xyXG5leHBvcnQgKiBhcyBjb250YW50cyBmcm9tICcuL2NvbnRhbnRzJztcclxuZXhwb3J0ICogYXMgZW51bXMgZnJvbSAnLi9lbnVtcyc7XHJcbmV4cG9ydCB7IF9tb2R1bGVJZE1hcCB9IGZyb20gJy4vZXhwb3J0TW9kdWxlJztcclxuZXhwb3J0ICogYXMgZnVuY3Rpb25zIGZyb20gJy4vZnVuY3Rpb25zJztcclxuZXhwb3J0ICogZnJvbSAnLi9taXNjJztcclxuZXhwb3J0ICogZnJvbSAnLi9tb2RlbHMnO1xyXG5leHBvcnQgKiBhcyBtdWx0aWRldmljZSBmcm9tICcuL211bHRpZGV2aWNlJztcclxuZXhwb3J0ICogZnJvbSAnLi9zdG9yZXMnO1xyXG5leHBvcnQgKiBhcyB3ZWJzb2NrZXQgZnJvbSAnLi93ZWJzb2NrZXQnO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4vV2lkJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgV0FXZWJBcGlDb250YWN0XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgQXBpQ29udGFjdCB7XHJcbiAgZnVuY3Rpb24gY2hlY2tQblRvTGlkTWFwcGluZyhhPzogYW55LCBiPzogYW55KTogYW55O1xyXG5cclxuICBmdW5jdGlvbiBjbGVhckxpZFBuTWFwcGluZ0NhY2hlKCk6IGFueTtcclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlT3JNZXJnZUFkZHJlc3NCb29rQ29udGFjdHMoYT86IGFueSk6IGFueTtcclxuXHJcbiAgZnVuY3Rpb24gZGVsZXRlQWRkcmVzc0Jvb2tDb250YWN0cyhhPzogYW55KTogYW55O1xyXG5cclxuICBmdW5jdGlvbiBnZXRBY2NvdW50TGlkRnJvbUNoYXQoYT86IGFueSk6IFdpZDtcclxuXHJcbiAgZnVuY3Rpb24gZ2V0QWxsTGlkQ29udGFjdHMoKTogV2lkW107XHJcblxyXG4gIGZ1bmN0aW9uIGdldEFsdGVybmF0ZURldmljZVdpZChhPzogYW55KTogV2lkO1xyXG5cclxuICBmdW5jdGlvbiBnZXRBbHRlcm5hdGVVc2VyV2lkKGE/OiBhbnkpOiBXaWQ7XHJcblxyXG4gIGZ1bmN0aW9uIGdldENvbnRhY3RIYXNoKGE/OiBhbnkpOiBhbnk7XHJcblxyXG4gIGZ1bmN0aW9uIGdldENvbnRhY3RSZWNvcmQoYT86IGFueSk6IGFueTtcclxuXHJcbiAgZnVuY3Rpb24gZ2V0Q29udGFjdFVzZXJuYW1lKGE/OiBhbnkpOiBhbnk7XHJcblxyXG4gIGZ1bmN0aW9uIGdldEN1cnJlbnRMaWQoYT86IGFueSk6IGFueTtcclxuXHJcbiAgZnVuY3Rpb24gZ2V0Q3VycmVudExpZERldmljZShhPzogYW55KTogYW55O1xyXG5cclxuICBmdW5jdGlvbiBnZXRMYXRlc3RMaWQoYT86IGFueSk6IGFueTtcclxuXHJcbiAgZnVuY3Rpb24gZ2V0UGhvbmVOdW1iZXIod2lkOiBXaWQpOiBXaWQ7XHJcblxyXG4gIGZ1bmN0aW9uIGdldFBuSWZMaWRJc0xhdGVzdE1hcHBpbmcoYT86IGFueSk6IGFueTtcclxuXHJcbiAgZnVuY3Rpb24gaGFzTGlkTWFwcGluZyhhPzogYW55KTogYW55O1xyXG5cclxuICBmdW5jdGlvbiBpc0FkZHJlc3NCb29rQ29udGFjdChhPzogYW55KTogYW55O1xyXG5cclxuICBmdW5jdGlvbiBzZXROb3RBZGRyZXNzQm9va0NvbnRhY3RzKGE/OiBhbnkpOiBhbnk7XHJcblxyXG4gIGZ1bmN0aW9uIHVwZGF0ZUNvbnRhY3RBZHZIb3N0ZWRUeXBlKGE/OiBhbnksIGI/OiBhbnkpOiBhbnk7XHJcblxyXG4gIGZ1bmN0aW9uIHVwZGF0ZUxpZE1ldGFkYXRhKGE/OiBhbnksIGI/OiBhbnkpOiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydE1vZHVsZShleHBvcnRzLCAnQXBpQ29udGFjdCcsIChtKSA9PiBtLmdldEN1cnJlbnRMaWQgJiYgbS5nZXRQaG9uZU51bWJlcik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgMTU2ODhcclxuICogQHdoYXRzYXBwIDYxNTY4OCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIEJhc2U2NCB7XHJcbiAgY29uc3QgQkFTRTY0X0RBVEFfVVJMX1NDSEVNRTogJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQsJztcclxuICBmdW5jdGlvbiBlbmNvZGVCNjQoZGF0YTogQXJyYXlMaWtlPG51bWJlcj4gfCBBcnJheUJ1ZmZlckxpa2UpOiBzdHJpbmc7XHJcbiAgZnVuY3Rpb24gZW5jb2RlQjY0VXJsU2FmZShcclxuICAgIGRhdGE6IEFycmF5TGlrZTxudW1iZXI+IHwgQXJyYXlCdWZmZXJMaWtlLFxyXG4gICAgdD86IGJvb2xlYW5cclxuICApOiBzdHJpbmc7XHJcbiAgZnVuY3Rpb24gZGVjb2RlQjY0KGRhdGE6IHN0cmluZyk6IEFycmF5QnVmZmVyTGlrZTtcclxuICBmdW5jdGlvbiBkZWNvZGVCNjRVcmxTYWZlKGRhdGE6IHN0cmluZyk6IEFycmF5QnVmZmVyTGlrZTtcclxuICBmdW5jdGlvbiBkZWNvZGVCNjRUb0pzQXJyYXkoZGF0YTogc3RyaW5nKTogbnVtYmVyW107XHJcbiAgZnVuY3Rpb24gc2l6ZVdoZW5CNjREZWNvZGVkKFxyXG4gICAgZGF0YTogQXJyYXlMaWtlPG51bWJlcj4gfCBBcnJheUJ1ZmZlckxpa2VcclxuICApOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydE1vZHVsZShleHBvcnRzLCAnQmFzZTY0JywgKG0pID0+IG0uZW5jb2RlQjY0ICYmIG0uZGVjb2RlQjY0KTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA3OTI2NFxyXG4gKiBAd2hhdHNhcHAgODcwNDUgPj0gMi4yMjA0LjEzXHJcbiAqIEB3aGF0c2FwcCAzNzkyNjQgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBCcm93c2VyIHtcclxuICBsZXQgcHJvbXB0VW5sb2FkR3VhcmRzOiBudW1iZXI7XHJcbiAgZnVuY3Rpb24gaWQoKTogc3RyaW5nO1xyXG4gIGZ1bmN0aW9uIGluZm8oKToge1xyXG4gICAgb3M6IHN0cmluZztcclxuICAgIHZlcnNpb246IHN0cmluZztcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIHVhOiBzdHJpbmc7XHJcbiAgfTtcclxuICBmdW5jdGlvbiBoYXJkUmVmcmVzaCgpOiBuZXZlcjtcclxuICBmdW5jdGlvbiBzdGFydERvd25sb2FkaW5nKCk6IHZvaWQ7XHJcbiAgZnVuY3Rpb24gY2xlYXJEb3dubG9hZGluZygpOiB2b2lkO1xyXG4gIGZ1bmN0aW9uIGlzRG93bmxvYWRpbmcoKTogYm9vbGVhbjtcclxuICBmdW5jdGlvbiBvcGVuKGU6IGFueSk6IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHsgQnJvd3NlcjogJ2RlZmF1bHQnIH0sXHJcbiAgKG0pID0+IG0uZGVmYXVsdC5pZCAmJiBtLmRlZmF1bHQuc3RhcnREb3dubG9hZGluZ1xyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENoYXRNb2RlbCB9IGZyb20gJy4uJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgMzcxXHJcbiAqIEB3aGF0c2FwcCA4MDAzNzEgPj0gMi4yMjIyLjhcclxuICogQHdoYXRzYXBwIDM2NjUxNyA+PSAyLjIyMjguNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIENoYXRQcmVzZW5jZSB7XHJcbiAgZnVuY3Rpb24gbWFya0NvbXBvc2luZyhjaGF0OiBDaGF0TW9kZWwpOiBQcm9taXNlPHZvaWQ+O1xyXG4gIGZ1bmN0aW9uIG1hcmtQYXVzZWQoY2hhdDogQ2hhdE1vZGVsKTogUHJvbWlzZTx2b2lkPjtcclxuICBmdW5jdGlvbiBtYXJrUmVjb3JkaW5nKGNoYXQ6IENoYXRNb2RlbCk6IFByb21pc2U8dm9pZD47XHJcbiAgZnVuY3Rpb24gc2VuZFByZXNlbmNlQXZhaWxhYmxlKCk6IHZvaWQ7XHJcbiAgZnVuY3Rpb24gc2VuZFByZXNlbmNlVW5hdmFpbGFibGUoKTogdm9pZDtcclxuICBmdW5jdGlvbiBjbGVhclByZXNlbmNlKGNoYXQ6IENoYXRNb2RlbCk6IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydE1vZHVsZShleHBvcnRzLCAnQ2hhdFByZXNlbmNlJywgKG0pID0+IG0ubWFya0NvbXBvc2luZyk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQ2hhdE1vZGVsIH0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBnZXRTZWFyY2hDb250ZXh0IH0gZnJvbSAnLi4vZnVuY3Rpb25zJztcclxuaW1wb3J0IHsgTXNnTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICcuJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgODgxMDJcclxuICogQHdoYXRzYXBwIDgxNTcyID49IDIuMjIxOC40XHJcbiAqIEB3aGF0c2FwcCA3ODE1NzIgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIENtZENsYXNzIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcclxuICBwdWJsaWMgaXNNYWluTG9hZGVkOiBib29sZWFuO1xyXG4gIHB1YmxpYyB1aUJ1c3k6IG51bWJlcjtcclxuXHJcbiAgbWFpbkxvYWRlZCgpOiB2b2lkO1xyXG4gIGluY3JlbWVudFByb2dyZXNzKCk6IHZvaWQ7XHJcbiAgaW5pdGlhbExvYWRSZWFkeSgpOiB2b2lkO1xyXG4gIGxvZ1NvY2tldFN1bW1hcnkoKTogdm9pZDtcclxuICBtdXRlQWxsKGU/OiBhbnksIHQ/OiBhbnkpOiB2b2lkO1xyXG4gIG11dGVBbGxDYWxsKGU/OiBhbnksIHQ/OiBhbnkpOiB2b2lkO1xyXG4gIG11dGVDaGF0KGU/OiBhbnksIHQ/OiBhbnkpOiB2b2lkO1xyXG4gIG11dGVDaGF0cyhlPzogYW55LCB0PzogYW55LCByPzogYW55KTogdm9pZDtcclxuICBkZWxldGVPckV4aXRDaGF0KGU/OiBhbnksIHQ/OiBhbnkpOiB2b2lkO1xyXG4gIGNsZWFyQ2hhdChlPzogYW55LCB0PzogYW55KTogdm9pZDtcclxuICBhcmNoaXZlQ2hhdChlPzogYW55LCB0PzogYW55KTogdm9pZDtcclxuICBwaW5DaGF0KGU/OiBhbnksIHQ/OiBhbnkpOiB2b2lkO1xyXG4gIHBpbkNoYXRzKGU/OiBhbnksIHQ/OiBhbnkpOiB2b2lkO1xyXG4gIG1hcmtDaGF0VW5yZWFkKGU/OiBhbnksIHQ/OiBhbnkpOiB2b2lkO1xyXG4gIG1zZ0luZm9EcmF3ZXIoZT86IGFueSk6IHZvaWQ7XHJcbiAgY2hhdFNlYXJjaChlPzogYW55KTogdm9pZDtcclxuICBjaGF0SW5mb0RyYXdlcihlPzogYW55LCB0PzogYW55LCByPzogYW55KTogdm9pZDtcclxuICBhdHRhY2hNZWRpYURyYXdlcihlPzogYW55KTogdm9pZDtcclxuICBhdHRhY2hQcm9kdWN0KGU/OiBhbnkpOiB2b2lkO1xyXG4gIHZlcmlmaWNhdGlvbkRyYXdlcihlPzogYW55KTogdm9pZDtcclxuICBsaXZlTG9jYXRpb25EcmF3ZXIoZT86IGFueSwgdD86IGFueSk6IHZvaWQ7XHJcbiAgZXhwaXJlZExvY2F0aW9uRHJhd2VyKGU/OiBhbnkpOiB2b2lkO1xyXG4gIG1lZGlhVmlld2VyTW9kYWwoZT86IGFueSk6IHZvaWQ7XHJcbiAgb3Blbk1lZGlhVmlld2VyRm9yQWxidW1NZWRpYShlPzogYW55KTogdm9pZDtcclxuICBwcm9kdWN0SW1hZ2VWaWV3ZXJNb2RhbChlPzogYW55LCB0PzogYW55KTogdm9pZDtcclxuICBlcGhlbWVyYWxEcmF3ZXIoZT86IGFueSwgdD86IGFueSk6IHZvaWQ7XHJcbiAgc2VuZFN0YXJNc2dzKFxyXG4gICAgY2hhdDogQ2hhdE1vZGVsLFxyXG4gICAgbXNnczogTXNnTW9kZWxbXSxcclxuICAgIGlkPzogYW55LFxyXG4gICAgdG9hc3RQb3NpdGlvbj86IGFueVxyXG4gICk6IHZvaWQ7XHJcbiAgc2VuZFVuc3Rhck1zZ3MoXHJcbiAgICBjaGF0OiBDaGF0TW9kZWwsXHJcbiAgICBtc2dzOiBNc2dNb2RlbFtdLFxyXG4gICAgaWQ/OiBhbnksXHJcbiAgICB0b2FzdFBvc2l0aW9uPzogYW55XHJcbiAgKTogdm9pZDtcclxuICAvKiogV2hhdHNhcHAgPD0gMi4zMDAwLjEwMTQwODAxMDIgKi9cclxuICBzZW5kRGVsZXRlTXNncyhcclxuICAgIGNoYXQ6IENoYXRNb2RlbCxcclxuICAgIG1zZzpcclxuICAgICAgfCB7XHJcbiAgICAgICAgICB0eXBlOiBzdHJpbmc7XHJcbiAgICAgICAgICBsaXN0OiBNc2dNb2RlbFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgfCBNc2dNb2RlbFtdLFxyXG4gICAgb3B0aW9ucz86IHtcclxuICAgICAgY2xlYXJNZWRpYT86IGJvb2xlYW47XHJcbiAgICAgIHRvYXN0UG9zaXRpb24/OiBhbnk7XHJcbiAgICB9XHJcbiAgKTogdm9pZDtcclxuICAvKiogV2hhdHNhcHAgPj0gMi4zMDAwLjEwMTQwODAxMDIgKi9cclxuICBzZW5kRGVsZXRlTXNncyhcclxuICAgIGNoYXQ6IENoYXRNb2RlbCxcclxuICAgIG1zZzpcclxuICAgICAgfCB7XHJcbiAgICAgICAgICB0eXBlOiBzdHJpbmc7XHJcbiAgICAgICAgICBsaXN0OiBNc2dNb2RlbFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgfCBNc2dNb2RlbFtdLFxyXG4gICAgY2xlYXJNZWRpYT86IGJvb2xlYW5cclxuICApOiB2b2lkO1xyXG4gIHNlbmRSZXZva2VNc2dzKFxyXG4gICAgY2hhdDogQ2hhdE1vZGVsLFxyXG4gICAgbXNnOlxyXG4gICAgICB8IHtcclxuICAgICAgICAgIHR5cGU6IHN0cmluZztcclxuICAgICAgICAgIGxpc3Q6IE1zZ01vZGVsW107XHJcbiAgICAgICAgfVxyXG4gICAgICB8IE1zZ01vZGVsW10sXHJcbiAgICBvcHRpb25zPzoge1xyXG4gICAgICBjbGVhck1lZGlhPzogYm9vbGVhbjtcclxuICAgICAgdG9hc3RQb3NpdGlvbj86IGFueTtcclxuICAgIH1cclxuICApOiB2b2lkO1xyXG4gIF9vcGVuQ2hhdChlPzogYW55LCB0PzogYW55KTogdm9pZDtcclxuICBvcGVuQ2hhdEF0KFxyXG4gICAgY2hhdDogQ2hhdE1vZGVsLFxyXG4gICAgbXNnQ29udGV4dDogUmV0dXJuVHlwZTx0eXBlb2YgZ2V0U2VhcmNoQ29udGV4dD5cclxuICApOiBQcm9taXNlPGJvb2xlYW4+O1xyXG4gIG9wZW5DaGF0QXQocGFyYW1zPzoge1xyXG4gICAgY2hhdDogQ2hhdE1vZGVsO1xyXG4gICAgbXNnQ29udGV4dDogUmV0dXJuVHlwZTx0eXBlb2YgZ2V0U2VhcmNoQ29udGV4dD47XHJcbiAgfSk6IFByb21pc2U8Ym9vbGVhbj47XHJcbiAgb3BlbkNoYXRGcm9tVW5yZWFkKGNoYXQ6IENoYXRNb2RlbCk6IFByb21pc2U8Ym9vbGVhbj47XHJcbiAgb3BlbkNoYXRCb3R0b20oY2hhdDogQ2hhdE1vZGVsKTogUHJvbWlzZTxib29sZWFuPjtcclxuICBzY3JvbGxUb1B0dChlPzogYW55KTogdm9pZDtcclxuICBfc2Nyb2xsVG9Gb2N1c2VkTXNnKGU/OiBhbnkpOiB2b2lkO1xyXG4gIF9zY3JvbGxDaGF0VG9Cb3R0b20oKTogdm9pZDtcclxuICBmbGFzaEZvY3VzZWRNc2coZT86IGFueSk6IHZvaWQ7XHJcbiAgdXBkYXRlQ2hhdGxpc3RTZWxlY3Rpb24oZT86IGFueSk6IHZvaWQ7XHJcbiAgY2xvc2VDaGF0KGU/OiBhbnkpOiB2b2lkO1xyXG4gIGZvY3VzQ2hhdFRleHRJbnB1dChlPzogYW55KTogdm9pZDtcclxuICBzZXRDaGF0Q3R3YUNvbnRleHRMaW5rRGF0YShlPzogYW55LCB0PzogYW55KTogdm9pZDtcclxuICBmb2N1c1Nob3dNc2coZT86IGFueSk6IHZvaWQ7XHJcbiAgZW50ZXJDaGF0VGV4dElucHV0KGU/OiBhbnkpOiB2b2lkO1xyXG4gIGZvY3VzTmV4dENoYXQoZT86IGFueSk6IHZvaWQ7XHJcbiAgZm9jdXNQcmV2Q2hhdChlPzogYW55KTogdm9pZDtcclxuICBmb2N1c0NoYXRMaXN0KCk6IHZvaWQ7XHJcbiAgZm9jdXNDaGF0U2VhcmNoKCk6IHZvaWQ7XHJcbiAgcGFzdGVDaGF0VGV4dElucHV0KGU/OiBhbnksIHQ/OiBhbnkpOiB2b2lkO1xyXG4gIHN0YXJ0R3JvdXBDYWxsKGU/OiBhbnksIHQ/OiBhbnkpOiB2b2lkO1xyXG4gIGNsb3NlU3RhdHVzVmlld2VyKCk6IHZvaWQ7XHJcbiAgc2VuZFBhc3RlVG9Db21wb3NlKGU/OiBhbnksIHQ/OiBhbnkpOiB2b2lkO1xyXG4gIG9wZW5Db21wb3NlQm94UGFuZWwoZT86IGFueSk6IHZvaWQ7XHJcbiAgbG9naW4oZT86IGFueSk6IHZvaWQ7XHJcbiAgbG9nb3V0KCk6IHZvaWQ7XHJcbiAgb3BlbkNvbnRleHRNZW51KGU/OiBhbnksIHQ/OiBhbnkpOiB2b2lkO1xyXG4gIGNsb3NlQ29udGV4dE1lbnUoZT86IGFueSk6IHZvaWQ7XHJcbiAgb3BlblRvb2x0aXAoZT86IGFueSwgdD86IGFueSk6IHZvaWQ7XHJcbiAgY2xvc2VUb29sdGlwKGU/OiBhbnkpOiB2b2lkO1xyXG4gIG9wZW5Ub2FzdChlPzogYW55KTogdm9pZDtcclxuICBjbG9zZVRvYXN0KGU/OiBhbnkpOiB2b2lkO1xyXG4gIGFsZXJ0TmV3TXNnKGU/OiBhbnkpOiB2b2lkO1xyXG4gIG5ld01lZGlhTXNnKGU/OiBhbnkpOiB2b2lkO1xyXG4gIGFsZXJ0Q2FsbChlPzogYW55LCB0PzogYW55LCByPzogYW55LCBuPzogYW55LCBpPzogYW55KTogdm9pZDtcclxuICBjYW5jZWxDYWxsKGU/OiBhbnkpOiB2b2lkO1xyXG4gIHdpbmRvd0Vycm9yKCk6IHZvaWQ7XHJcbiAgY2Fubm90UmVhY2hQaG9uZSgpOiB2b2lkO1xyXG4gIHNlbnRQaW5nKCk6IHZvaWQ7XHJcbiAgb3Blbk1vZGFsKGU/OiBhbnksIHQ/OiBhbnkpOiB2b2lkO1xyXG4gIGNsb3NlTW9kYWwoZT86IGFueSk6IHZvaWQ7XHJcbiAgb3Blbk1vZGFsTWVkaWEoZT86IGFueSwgdD86IGFueSk6IHZvaWQ7XHJcbiAgY2xvc2VNb2RhbE1lZGlhKCk6IHZvaWQ7XHJcbiAgc2V0RHJhd2VyQ29udGV4dChlPzogYW55LCB0PzogYW55KTogdm9pZDtcclxuICBvcGVuRHJhd2VyUmlnaHQoZT86IGFueSwgdD86IGFueSwgcj86IGFueSwgbj86IGFueSwgaT86IGFueSk6IHZvaWQ7XHJcbiAgb3BlbkRyYXdlck1pZChlPzogYW55LCB0PzogYW55LCByPzogYW55LCBuPzogYW55LCBpPzogYW55LCBhPzogYW55KTogdm9pZDtcclxuICBvcGVuRHJhd2VyTGVmdChlPzogYW55LCB0PzogYW55LCByPzogYW55LCBuPzogYW55LCBpPzogYW55KTogdm9pZDtcclxuICBleGlzdHNEcmF3ZXJSaWdodChlPzogYW55KTogdm9pZDtcclxuICBleGlzdHNEcmF3ZXJNaWQoZT86IGFueSk6IHZvaWQ7XHJcbiAgZXhpc3RzRHJhd2VyTGVmdChlPzogYW55KTogdm9pZDtcclxuICBjbG9zZURyYXdlclJpZ2h0KCk6IHZvaWQ7XHJcbiAgY2xvc2VEcmF3ZXJNaWQoKTogdm9pZDtcclxuICBjbG9zZURyYXdlckxlZnQoKTogdm9pZDtcclxuICBvblBhbmVzV2lsbENoYW5nZShlPzogYW55KTogdm9pZDtcclxuICBvblBhbmVzRGlkQ2hhbmdlKGU/OiBhbnkpOiB2b2lkO1xyXG4gIG9wZW5Hcm91cEludml0ZU1vZGFsKGU/OiBhbnkpOiB2b2lkO1xyXG4gIG9wZW5Hcm91cFY0SW52aXRlUmVxdWVzdEZsb3coZT86IGFueSwgdD86IGFueSwgcj86IGFueSwgbj86IGFueSk6IHZvaWQ7XHJcbiAgbWVkaWFQbGF5aW5nKGU/OiBhbnkpOiB2b2lkO1xyXG4gIHB0dFJlY29yZGluZygpOiB2b2lkO1xyXG4gIHB0dFBsYXlpbmcoZT86IGFueSk6IHZvaWQ7XHJcbiAgdWlSZXNpemUoKTogdm9pZDtcclxuICBzZXRVaUJ1c3koZT86IGFueSk6IHZvaWQ7XHJcbiAgd2luZG93TW91c2VEb3duKGU/OiBhbnkpOiB2b2lkO1xyXG4gIHdpbmRvd0NsaWNrKGU/OiBhbnkpOiB2b2lkO1xyXG4gIG1pZG5pZ2h0KCk6IHZvaWQ7XHJcbiAgdGV4dHNpemVDaGFuZ2UoZT86IGFueSk6IHZvaWQ7XHJcbiAgc2Nyb2xsTWVzc2FnZXMoKTogdm9pZDtcclxuICBnZXRDb252ZXJzYXRpb25IZWFkZXJPZmZzZXQoZT86IGFueSk6IHZvaWQ7XHJcbiAgZmxvYXRlckVzY2FwZU92ZXJsYXAoZT86IGFueSwgdD86IGFueSk6IHZvaWQ7XHJcbiAgYXV0b3BsYXlQVFQoZT86IGFueSk6IHZvaWQ7XHJcbiAgcmVmcmVzaE1lc3NhZ2VzKCk6IHZvaWQ7XHJcbiAgc2VydmVyUHJvcHNVcGRhdGVkKCk6IHZvaWQ7XHJcbiAgc3RvcmFnZUluaXRpYWxpemF0aW9uRXJyb3IoKTogdm9pZDtcclxuICByZXN0YXJ0QmFja2VuZCgpOiB2b2lkO1xyXG4gIGRvd25ncmFkZVdlYmNsaWVudCgpOiB2b2lkO1xyXG4gIHVwZ3JhZGVUb01ESW50ZXJuYWwoKTogdm9pZDtcclxuICB1cGdyYWRlVG9NRFByb2QoKTogdm9pZDtcclxuICByZWZyZXNoUVIoKTogdm9pZDtcclxuICBzZXRTb2NrZXRTdGF0ZShlPzogYW55KTogdm9pZDtcclxuICBzb2NrZXRTdHJlYW1EaXNjb25uZWN0ZWQoKTogdm9pZDtcclxuICBvcGVuU29ja2V0U3RyZWFtKCk6IHZvaWQ7XHJcbiAgcmVhZHlGb3JNYWluU3RyZWFtTW9kZSgpOiB2b2lkO1xyXG4gIG9uSW5pdGlhbENoYXRIaXN0b3J5U3luY2VkKCk6IHZvaWQ7XHJcbiAgb25SZWNlbnRDaGF0SGlzdG9yeVN5bmNlZCgpOiB2b2lkO1xyXG4gIG9uRnVsbENoYXRIaXN0b3J5U3luY2VkKCk6IHZvaWQ7XHJcbiAgb25IaXN0b3J5U3luY0NodW5rUHJvY2Vzc2VkKGU/OiBhbnkpOiB2b2lkO1xyXG4gIGhhbmRsZU9mZmxpbmVQcm9ncmVzc1VwZGF0ZSgpOiB2b2lkO1xyXG4gIGNyaXRpY2FsU3luY0RvbmUoKTogdm9pZDtcclxuICBvblRlbXBvcmFyeUJhbihlPzogYW55KTogdm9pZDtcclxuICBvblN0YXJ0aW5nTG9nb3V0KCk6IHZvaWQ7XHJcbiAgaGFuZGxlRmF0YWxFcnJvcigpOiB2b2lkO1xyXG4gIG1lcmNoYW50RGV0YWlsc0RyYXdlcihlPzogYW55KTogdm9pZDtcclxuICBzaG93TWVyY2hhbnREZXRhaWxzRW50aXR5VHlwZVBvcHVwKGU/OiBhbnksIHQ/OiBhbnkpOiB2b2lkO1xyXG4gIHNob3dDb3VudHJ5U2VsZWN0b3IoZT86IGFueSwgdD86IGFueSwgcj86IGFueSk6IHZvaWQ7XHJcbiAgdG9nZ2xlU3RpY2tlck1ha2VyKCk6IHZvaWQ7XHJcbiAgc2V0QWN0aXZlRmlsdGVyKFxyXG4gICAgdHlwZT86ICd1bnJlYWQnIHwgJ2Zhdm9yaXRlcycgfCAncGVyc29uYWwnIHwgJ2Fzc2lnbmVkX3RvX3lvdScgfCAnbGFiZWxzJ1xyXG4gICk6IFByb21pc2U8dm9pZD47XHJcbn1cclxuXHJcbi8qKiBAd2hhdHNhcHAgODgxMDJcclxuICogQHdoYXRzYXBwIDgxNTcyID49IDIuMjIxOC40XHJcbiAqIEB3aGF0c2FwcCA3ODE1NzIgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNvbnN0IENtZDogQ21kQ2xhc3M7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBDbWRDbGFzczogJ0NtZEltcGwnLFxyXG4gICAgQ21kOiAnQ21kJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLkNtZCAmJiBtLkNtZEltcGxcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBDaGF0TW9kZWwgfSBmcm9tICcuLic7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJy4nO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA4ODEwMlxyXG4gKiBAd2hhdHNhcHAgODE1NzIgPj0gMi4yMjE4LjRcclxuICogQHdoYXRzYXBwIDc4MTU3MiA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgQ29tcG9zZUJveEFjdGlvbnNDbGFzcyBleHRlbmRzIEV2ZW50RW1pdHRlciB7XHJcbiAgZm9jdXMoZT86IGFueSwgdD86IGFueSk6IHZvaWQ7XHJcbiAgc2VuZChlPzogYW55LCB0PzogYW55KTogdm9pZDtcclxuICBwYXN0ZShlPzogYW55LCB0PzogYW55KTogdm9pZDtcclxuICBzZW5kUGFzdGUoZT86IGFueSwgdD86IGFueSk6IHZvaWQ7XHJcbiAgdG9nZ2xlUXVpY2tSZXBsaWVzKGU/OiBhbnksIHQ/OiBhbnkpOiB2b2lkO1xyXG4gIGFkZE1zZ1NlbmRpbmdMb2dBdHRyaWJ1dGVzKGU/OiBhbnksIHQ/OiBhbnkpOiB2b2lkO1xyXG4gIHNldEN0d2FDb250ZXh0TGlua0RhdGEoZT86IGFueSwgdD86IGFueSk6IHZvaWQ7XHJcbiAgc2V0VGV4dENvbnRlbnQoY2hhdDogQ2hhdE1vZGVsLCB0ZXh0OiBzdHJpbmcpOiB2b2lkO1xyXG59XHJcblxyXG4vKiogQHdoYXRzYXBwIFdBV2ViQ29tcG9zZUJveEFjdGlvbnMgPj0gMi4zMDAwLjBcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNvbnN0IENvbXBvc2VCb3hBY3Rpb25zOiBDb21wb3NlQm94QWN0aW9uc0NsYXNzO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgQ29tcG9zZUJveEFjdGlvbnM6ICdDb21wb3NlQm94QWN0aW9ucycsXHJcbiAgfSxcclxuICAobSkgPT4gbS5Db21wb3NlQm94QWN0aW9uc1xyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IENvbm5Nb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG4vKiogQHdoYXRzYXBwIDE3MjM5XHJcbiAqIEB3aGF0c2FwcCAzMTcyMzkgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNvbnN0IENvbm46IENvbm5Nb2RlbDtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHsgQ29ubjogJ0Nvbm4nIH0sXHJcbiAgKG0pID0+IChtLkNvbm4gJiYgbS5Db25uSW1wbCkgfHwgbS5Db25uXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgNjQzNjlcclxuICogQHdoYXRzYXBwIDY5NjE4ID49IDIuMjIwNC4xM1xyXG4gKiBAd2hhdHNhcHAgMzY0MzY5ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBDb25zdGFudHM6IHtcclxuICBJTUdfVEhVTUJfTUFYX0VER0U6IDEwMDtcclxuICBET0NfVEhVTUJfTUFYX0VER0U6IDQ4MDtcclxuICBWSURFT19USFVNQl9NQVhfRURHRTogNDgwO1xyXG4gIE1BWF9QT1JUUkFJVF9NRURJQV9DQVBUSU9OX0xFTkdUSDogNTAwO1xyXG4gIE1BWF9GSUxFUzogMzA7XHJcbiAgTUVESUFfRURJVE9SX09VVExJTkVfVEVOU0lPTjogMC40O1xyXG4gIE1NU19USFVNQk5BSUxfVVBMT0FEX1RJTUVPVVQ6IDNlMztcclxuICBGUkVRVUVOVExZX0ZPUldBUkRFRF9TRU5USU5FTDogMTI3O1xyXG4gIE1BWF9TTUJfTEFCRUxfQ09VTlQ6IDIwO1xyXG4gIFdBX0NPTU1FUkNFX1BPTElDWV9VUkw6ICdodHRwczovL3d3dy53aGF0c2FwcC5jb20vcG9saWNpZXMvY29tbWVyY2UtcG9saWN5JztcclxuICBNQVhfVFhUX01TR19TSVpFOiA2NTUzNjtcclxuICBHUk9VUF9ERVNDUklQVElPTl9JTkZPX1BBTkVMX1RSVU5DX0xFTkdUSDogMTAwO1xyXG4gIEJVU0lORVNTX0RFU0NSSVBUSU9OX0lORk9fUEFORUxfVFJVTkNfTEVOR1RIOiAyMDA7XHJcbiAgVEVNUExBVEVfVVJMX1NUQVJUOiA2NDtcclxuICBURU1QTEFURV9VUkxfRU5EOiAzMjtcclxuICBTUVVFTENIX1JFU0VUX1ZBTFVFOiAtMTtcclxuICBNQVhfQ0FQVElPTl9MRU5HVEg6IDEwMjQ7XHJcbiAgUkVBQ1RJT05fQ09OVEVOVF9NQVhfTEVOR1RIOiAzMDtcclxuICBNQVhfQ0FSVF9NRVNTQUdFX0xFTkdUSDogMTAyNDtcclxuICBNQVhfUFVTSE5BTUVfTEVOR1RIOiAyNTtcclxuICBLRVlfQlVORExFX1RZUEU6ICdcdTAwMDUnO1xyXG4gIE5FV19NU0dfU0VOVDogJ25ld19tc2dfc2VudCc7XHJcbiAgT05FX0JZX09ORV9UUkFOU19HSUY6ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3lINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQlJBQTcnO1xyXG4gIFZPSVBfTE9HX0NPTE9SOiAnI2FhNjYyNyc7XHJcbiAgVk9JUF9NQVhfR1JPVVBfQ0FMTF9QQVJUSUNJUEFOVFM6IDg7XHJcbiAgV0FNX1NZU19JTkZPX0lOSVRfREVMQVk6IDVlMztcclxuICBNQVJLRURfQVNfVU5SRUFEOiAtMTtcclxufTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHsgQ29uc3RhbnRzOiAnZGVmYXVsdCcgfSxcclxuICAobSkgPT4gbS5kZWZhdWx0LklNR19USFVNQl9NQVhfRURHRSB8fCBtLmRlZmF1bHQuV0FfQ09NTUVSQ0VfUE9MSUNZX1VSTFxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBFbnZpcm9tZW50OiB7XHJcbiAgZGVmYXVsdDoge1xyXG4gICAgaXNXZWI6IGJvb2xlYW47XHJcbiAgICBpc1dpbmRvd3M6IGJvb2xlYW47XHJcbiAgICBpc0d1ZXN0OiBib29sZWFuO1xyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICAnRW52aXJvbWVudCcsXHJcbiAgKG0pID0+XHJcbiAgICAobS5kZWZhdWx0LmlzV2ViICE9PSB1bmRlZmluZWQgJiYgbS5kZWZhdWx0LmlzV2luZG93cyAhPT0gdW5kZWZpbmVkKSB8fFxyXG4gICAgKG0uaXNXZWIgIT09IHVuZGVmaW5lZCAmJiBtLmlzV2luZG93cyAhPT0gdW5kZWZpbmVkKVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogVGhlIG5hbWUgb2YgdGhlIGV2ZW50LlxyXG4gKi9cclxudHlwZSBFdmVudCA9IHN0cmluZyB8IHN5bWJvbDtcclxuXHJcbi8qKlxyXG4gKiBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXHJcbiAqL1xyXG50eXBlIExpc3RlbmVyID0gKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA3NjUyMVxyXG4gKiBAd2hhdHNhcHAgMzQzNDIgPj0gMi4yMjA0LjEzXHJcbiAqIEB3aGF0c2FwcCA4NzY1MjEgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIEV2ZW50RW1pdHRlciB7XHJcbiAgLyoqXHJcbiAgICogQWRkcyB0aGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gdGhlIGVuZCBvZiB0aGUgbGlzdGVuZXJzIGFycmF5IGZvciB0aGUgZXZlbnQgbmFtZWQgZXZlbnROYW1lLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGV2ZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQuXHJcbiAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBjYWxsYmFjayBmdW5jdGlvbi5cclxuICAgKiBAcGFyYW0gY29udGV4dCBUaGUgdmFsdWUgb2YgYHRoaXNgIHByb3ZpZGVkIGZvciB0aGUgY2FsbCB0byBgbGlzdGVuZXJgXHJcbiAgICogQHJldHVybnMgUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAsIHNvIHRoYXQgY2FsbHMgY2FuIGJlIGNoYWluZWQuXHJcbiAgICovXHJcbiAgb24oZXZlbnROYW1lOiBFdmVudCwgbGlzdGVuZXI6IExpc3RlbmVyLCBjb250ZXh0PzogYW55KTogdGhpcztcclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBhIG9uZS10aW1lIGxpc3RlbmVyIGZ1bmN0aW9uIGZvciB0aGUgZXZlbnQgbmFtZWQgZXZlbnROYW1lLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGV2ZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQuXHJcbiAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBjYWxsYmFjayBmdW5jdGlvbi5cclxuICAgKiBAcGFyYW0gY29udGV4dCBUaGUgdmFsdWUgb2YgYHRoaXNgIHByb3ZpZGVkIGZvciB0aGUgY2FsbCB0byBgbGlzdGVuZXJgXHJcbiAgICogQHJldHVybnMgUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAsIHNvIHRoYXQgY2FsbHMgY2FuIGJlIGNoYWluZWQuXHJcbiAgICovXHJcbiAgb25jZShldmVudE5hbWU6IEV2ZW50LCBsaXN0ZW5lcjogTGlzdGVuZXIsIGNvbnRleHQ/OiBhbnkpOiB0aGlzO1xyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgbGlzdGVuZXIgZnJvbSB0aGUgbGlzdGVuZXIgYXJyYXkgZm9yIHRoZSBldmVudCBuYW1lZCBldmVudE5hbWUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gZXZlbnROYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudC5cclxuICAgKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxyXG4gICAqIEBwYXJhbSBjb250ZXh0IFRoZSB2YWx1ZSBvZiBgdGhpc2AgcHJvdmlkZWQgZm9yIHRoZSBjYWxsIHRvIGBsaXN0ZW5lcmBcclxuICAgKiBAcmV0dXJucyBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCwgc28gdGhhdCBjYWxscyBjYW4gYmUgY2hhaW5lZC5cclxuICAgKi9cclxuICBvZmYoZXZlbnROYW1lPzogRXZlbnQsIGxpc3RlbmVyPzogTGlzdGVuZXIsIGNvbnRleHQ/OiBhbnkpOiB0aGlzO1xyXG5cclxuICAvKipcclxuICAgKiBTeW5jaHJvbm91c2x5IGNhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciB0aGUgZXZlbnQgbmFtZWQgZXZlbnROYW1lLCBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlIHJlZ2lzdGVyZWQsIHBhc3NpbmcgdGhlIHN1cHBsaWVkIGFyZ3VtZW50cyB0byBlYWNoLlxyXG4gICAqIEByZXR1cm5zIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgLCBzbyB0aGF0IGNhbGxzIGNhbiBiZSBjaGFpbmVkLlxyXG4gICAqL1xyXG4gIHRyaWdnZXIoZXZlbnROYW1lOiBFdmVudCwgLi4uYXJnczogYW55W10pOiB0aGlzO1xyXG5cclxuICBzdG9wTGlzdGVuaW5nKGNvbnRleHQ/OiBhbnksIGV2ZW50TmFtZT86IEV2ZW50LCBsaXN0ZW5lcj86IExpc3RlbmVyKTogdGhpcztcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIGNvbnRleHQgVGhlIHZhbHVlIG9mIGB0aGlzYCBwcm92aWRlZCBmb3IgdGhlIGNhbGwgdG8gYGxpc3RlbmVyYFxyXG4gICAqIEBwYXJhbSBldmVudE5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50LlxyXG4gICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXHJcbiAgICovXHJcbiAgbGlzdGVuVG8oY29udGV4dDogYW55LCBldmVudE5hbWU6IEV2ZW50LCBsaXN0ZW5lcj86IExpc3RlbmVyKTogdGhpcztcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIGNvbnRleHQgVGhlIHZhbHVlIG9mIGB0aGlzYCBwcm92aWRlZCBmb3IgdGhlIGNhbGwgdG8gYGxpc3RlbmVyYFxyXG4gICAqIEBwYXJhbSBldmVudE5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50LlxyXG4gICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXHJcbiAgICovXHJcbiAgbGlzdGVuVG9PbmNlKGNvbnRleHQ6IGFueSwgZXZlbnROYW1lOiBFdmVudCwgbGlzdGVuZXI/OiBMaXN0ZW5lcik6IHRoaXM7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSBjb250ZXh0IFRoZSB2YWx1ZSBvZiBgdGhpc2AgcHJvdmlkZWQgZm9yIHRoZSBjYWxsIHRvIGBsaXN0ZW5lcmBcclxuICAgKiBAcGFyYW0gZXZlbnROYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudC5cclxuICAgKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxyXG4gICAqL1xyXG4gIGxpc3RlblRvQW5kUnVuKGNvbnRleHQ6IGFueSwgZXZlbnROYW1lOiBFdmVudCwgbGlzdGVuZXI/OiBMaXN0ZW5lcik6IHRoaXM7XHJcblxyXG4gIGlzTGlzdGVuaW5nKGV2ZW50TmFtZTogRXZlbnQpOiBib29sZWFuO1xyXG5cclxuICAvKipcclxuICAgKiBBbGlhcyBvZiBgb25gXHJcbiAgICogQGFsaWFzIG9uXHJcbiAgICovXHJcbiAgYmluZChldmVudE5hbWU6IEV2ZW50LCBsaXN0ZW5lcjogTGlzdGVuZXIsIGNvbnRleHQ/OiBhbnkpOiB0aGlzO1xyXG5cclxuICAvKipcclxuICAgKiBBbGlhcyBvZiBgb2ZmYFxyXG4gICAqIEBhbGlhcyBvZmZcclxuICAgKi9cclxuICB1bmJpbmQoZXZlbnROYW1lPzogRXZlbnQsIGxpc3RlbmVyPzogTGlzdGVuZXIsIGNvbnRleHQ/OiBhbnkpOiB0aGlzO1xyXG4gIC8qKlxyXG4gICAqIEFsaWFzIG9mIGBvZmZgXHJcbiAgICogQGFsaWFzIG9mZlxyXG4gICAqL1xyXG4gIHJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZT86IEV2ZW50LCBsaXN0ZW5lcj86IExpc3RlbmVyLCBjb250ZXh0PzogYW55KTogdGhpcztcclxuICAvKipcclxuICAgKiBSZW1vdmVzIGFsbCBsaXN0ZW5lcnMuXHJcbiAgICogQHJldHVybnMgUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAsIHNvIHRoYXQgY2FsbHMgY2FuIGJlIGNoYWluZWQuXHJcbiAgICovXHJcbiAgcmVtb3ZlQWxsTGlzdGVuZXJzKCk6IHRoaXM7XHJcbiAgLyoqXHJcbiAgICogQWxpYXMgb2YgYHRyaWdnZXJgXHJcbiAgICogQGFsaWFzIHRyaWdnZXJcclxuICAgKi9cclxuICBlbWl0KGV2ZW50TmFtZTogRXZlbnQsIC4uLmFyZ3M6IGFueVtdKTogdGhpcztcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgRXZlbnRFbWl0dGVyOiAnZGVmYXVsdCcsXHJcbiAgfSxcclxuICAobSwgaWQpID0+XHJcbiAgICBpZCA9PT0gJ1dBV2ViRXZlbnRFbWl0dGVyJyB8fFxyXG4gICAgbS5kZWZhdWx0LnRvU3RyaW5nKCkuaW5jbHVkZXMoJ0NhbGxiYWNrIHBhcmFtZXRlciBwYXNzZWQgaXMgbm90IGEgZnVuY3Rpb24nKVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKiogQHdoYXRzYXBwIDUxNDI4XHJcbiAqIEB3aGF0c2FwcCAzNjYzOCA+PSAyLjIyMDQuMTNcclxuICogQHdoYXRzYXBwIDU1MTQyOCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIEltYWdlVXRpbHMge1xyXG4gIGZ1bmN0aW9uIHJvdGF0ZUFuZFJlc2l6ZShcclxuICAgIGU6IGFueSxcclxuICAgIHQ6IGFueSxcclxuICAgIHI6IGFueVxyXG4gICk6IFByb21pc2U8eyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlcjsgaW1hZ2VzOiBhbnkgfT47XHJcbn1cclxuXHJcbmV4cG9ydE1vZHVsZShleHBvcnRzLCAnSW1hZ2VVdGlscycsIChtKSA9PiBtLnJvdGF0ZUFuZFJlc2l6ZSk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgd2VicGFjayBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgPj0gMi4zMDAwLnhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBJc09mZmljaWFsQ2xpZW50IHtcclxuICBsZXQgaXNPZmZpY2lhbENsaWVudDogYm9vbGVhbjtcclxuICBmdW5jdGlvbiBpc1Vub2ZmaWNpYWxTdGFuemFJZChpZDogc3RyaW5nKTogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAgJ0lzT2ZmaWNpYWxDbGllbnQnLFxyXG4gIChtKSA9PiB0eXBlb2YgbS5pc09mZmljaWFsQ2xpZW50ICE9PSAndW5kZWZpbmVkJ1xyXG4pO1xyXG5cclxud2VicGFjay5pbmplY3RGYWxsYmFja01vZHVsZSgnSXNPZmZpY2lhbENsaWVudCcsIHtcclxuICBpc09mZmljaWFsQ2xpZW50OiB0cnVlLFxyXG59KTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCAxNTY4OFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIExpZDFYMU1pZ3JhdGlvblV0aWxzIHtcclxuICBmdW5jdGlvbiBpc0xpZE1pZ3JhdGVkKCk6IGJvb2xlYW47XHJcbiAgZnVuY3Rpb24gaXNTeW5jZFNlc3Npb25NaWdyYXRlZCgpOiBib29sZWFuO1xyXG4gIGZ1bmN0aW9uIHNldElzTGlkTWlncmF0ZWQoYT86IGFueSk6IGFueTtcclxuICBmdW5jdGlvbiBzaG91bGRBcHBseU5vbk1pZ3JhdGVkTWVzc2FnaW5nUnVsZXMoKTogYW55O1xyXG59XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBMaWQxWDFNaWdyYXRpb25VdGlsczogJ0xpZDFYMU1pZ3JhdGlvblV0aWxzJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLkxpZDFYMU1pZ3JhdGlvblV0aWxzLmlzTGlkTWlncmF0ZWRcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA4NDg2NlxyXG4gKiBAd2hhdHNhcHAgMjg0ODY2ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBNZWRpYUJsb2JDYWNoZUltcGwge1xyXG4gIGlzMjRoOiBib29sZWFuO1xyXG4gIGdldE9yQ3JlYXRlVVJMKGZpbGVoYXNoOiBzdHJpbmcpOiBzdHJpbmc7XHJcbiAgcmV2b2tlVVJMKGZpbGVoYXNoOiBzdHJpbmcsIGJsb2I6IEJsb2IpOiB2b2lkO1xyXG4gIGdldChmaWxlaGFzaDogc3RyaW5nKTogQmxvYjtcclxuICBoYXMoZmlsZWhhc2g6IHN0cmluZyk6IGJvb2xlYW47XHJcbiAgdG91Y2goZmlsZWhhc2g6IHN0cmluZyk6IHZvaWQ7XHJcbiAgcHV0KGZpbGVoYXNoOiBzdHJpbmcsIGJsb2I6IEJsb2IpOiB2b2lkO1xyXG4gIGNsZWFyKCk6IHZvaWQ7XHJcbiAgaW5jcmVhc2VVc2FnZUNvdW50KGZpbGVoYXNoOiBzdHJpbmcpOiB2b2lkO1xyXG4gIGRlY3JlYXNlVXNhZ2VDb3VudChmaWxlaGFzaDogc3RyaW5nKTogdm9pZDtcclxufVxyXG5cclxuLyoqIEB3aGF0c2FwcCA4NDg2NlxyXG4gKiBAd2hhdHNhcHAgMjg0ODY2ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBNZWRpYUJsb2JDYWNoZTogTWVkaWFCbG9iQ2FjaGVJbXBsO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgTWVkaWFCbG9iQ2FjaGVJbXBsOiBbXHJcbiAgICAgICdJbk1lbW9yeU1lZGlhQmxvYkNhY2hlSW1wbCcsIC8vIEB3aGF0c2FwcCA+PSAyLjIzMjkuN1xyXG4gICAgICAnTWVkaWFCbG9iQ2FjaGVJbXBsJywgLy8gQHdoYXRzYXBwIDwgMi4yMzI5LjdcclxuICAgIF0sXHJcbiAgICBNZWRpYUJsb2JDYWNoZTogW1xyXG4gICAgICAnSW5NZW1vcnlNZWRpYUJsb2JDYWNoZScsIC8vIEB3aGF0c2FwcCA+PSAyLjIzMjkuN1xyXG4gICAgICAnTWVkaWFCbG9iQ2FjaGUnLCAvLyBAd2hhdHNhcHAgPCAyLjIzMjkuN1xyXG4gICAgXSxcclxuICB9LFxyXG4gIChtKSA9PlxyXG4gICAgbS5Jbk1lbW9yeU1lZGlhQmxvYkNhY2hlSW1wbCB8fCAvLyBAd2hhdHNhcHAgPj0gMi4yMzI5LjdcclxuICAgIG0uTWVkaWFCbG9iQ2FjaGUgLy8gQHdoYXRzYXBwIDwgMi4yMzI5LjdcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA4MDkyM1xyXG4gKiBAd2hhdHNhcHAgNDgwOTIzID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBNZWRpYUVudHJ5IHtcclxuICB1c2VCYWNrdXBVcmw6IGJvb2xlYW47XHJcbiAgZGVwcmVjYXRlZE1tczNVcmw/OiBzdHJpbmc7XHJcbiAgbWVkaWFLZXk6IGFueTtcclxuICBtZWRpYUtleVRpbWVzdGFtcDogYW55O1xyXG4gIGVuY0ZpbGVoYXNoOiBhbnk7XHJcbiAgc2VydmVyU3RhdHVzOiBhbnk7XHJcbiAgc2lkZWNhcjogYW55O1xyXG4gIGRpcmVjdFBhdGg6IGFueTtcclxuICBmaXJzdEZyYW1lU2lkZWNhcjogYW55O1xyXG4gIHR5cGU6IGFueTtcclxuICBzY2Fuc1NpZGVjYXI6IGFueTtcclxuICBzY2FuTGVuZ3RoczogYW55O1xyXG4gIHN0YXRpY1VybDogYW55O1xyXG5cclxuICB1cmwoZTogYW55KTogYW55O1xyXG4gIGNhblJldXNlTWVkaWFLZXkoKTogdm9pZDtcclxuICBtYXJrV2hldGhlck9uU2VydmVyKGU6IGFueSk6IGFueTtcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgTWVkaWFFbnRyeTogW1xyXG4gICAgICAnRW5jcnlwdGVkTWVkaWFFbnRyeScsIC8vID49IDIuMjMxMi41XHJcbiAgICAgICdNZWRpYUVudHJ5JyxcclxuICAgIF0sXHJcbiAgfSxcclxuICAobSkgPT5cclxuICAgIG0uRW5jcnlwdGVkTWVkaWFFbnRyeSB8fCAvLyA+PSAyLjIzMTIuNVxyXG4gICAgbS5NZWRpYUVudHJ5XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgT3BhcXVlRGF0YSB9IGZyb20gJy4nO1xyXG5cclxuLyoqIEB3aGF0c2FwcCAyMTAwOVxyXG4gKiBAd2hhdHNhcHAgNzIxMDA5ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBNZWRpYU9iamVjdCB7XHJcbiAgZW50cmllczogYW55O1xyXG4gIGRvd25sb2FkU3RhZ2U6IGFueTtcclxuICB1cGxvYWRTdGFnZTogYW55O1xyXG4gIHVzZXJVcGxvYWRBdHRlbXB0Q291bnQ6IG51bWJlcjtcclxuICB1c2VyRG93bmxvYWRBdHRlbXB0Q291bnQ6IG51bWJlcjtcclxuICBkb3dubG9hZFByb21pc2U6IG51bGwgfCBQcm9taXNlPG51bGw+O1xyXG4gIHVwbG9hZFByb21pc2U6IG51bGwgfCBQcm9taXNlPG51bGw+O1xyXG4gIG1lZGlhQmxvYj86IE9wYXF1ZURhdGE7XHJcbiAgc2l6ZTogYW55O1xyXG4gIGZpbGVoYXNoOiBhbnk7XHJcbiAgY29udGVudEluZm86IGFueTtcclxuICBwcm9ncmVzc2l2ZVN0YWdlOiBhbnk7XHJcbiAgcGFyc2VkVmNhcmRzOiBhbnk7XHJcbiAgdHlwZTogc3RyaW5nO1xyXG5cclxuICBjb25zb2xpZGF0ZShlOiBhbnkpOiBhbnk7XHJcbiAgY2xlYXJCbG9iKCk6IHZvaWQ7XHJcbiAgY29udGVudEZpZWxkcygpOiBhbnk7XHJcbiAgcmVzb2x2ZVdoZW5Db25zb2xpZGF0ZWQoKTogUHJvbWlzZTxhbnk+O1xyXG4gIG5vdGlmeU1zZ3NBc3luYygpOiB2b2lkO1xyXG4gIGFkZE1zZyhlOiBhbnkpOiB2b2lkO1xyXG4gIHJlbW92ZU1zZyhlOiBhbnkpOiB2b2lkO1xyXG4gIGhhc0Fzc29jaWF0ZWRNc2dzT3JTdGlja2VycygpOiBib29sZWFuO1xyXG4gIGFzc29jaWF0ZWRNc2dzKCk6IGFueVtdO1xyXG4gIHJtcihlOiBhbnkpOiBhbnk7XHJcbiAgbXNnUHJvcHMoZTogYW55KTogYW55O1xyXG4gIGRlbGV0ZSgpOiB2b2lkO1xyXG4gIHJ1blByb2Nlc3NJZk5vdFJ1bkJlZm9yZShlOiBhbnksIHQ6IGFueSwgcjogYW55KTogdm9pZDtcclxuICBnZXRQZW5kaW5nUHJvY2VzcyhlOiBhbnkpOiBQcm9taXNlPGFueT47XHJcbiAgdmlkZW9TdHJlYW1pbmdJbmZvKGU6IGFueSk6IGFueTtcclxuICBhZGRTdGlja2VyUGFjayhlOiBhbnkpOiB2b2lkO1xyXG4gIGFkZFN0aWNrZXIoZTogYW55KTogdm9pZDtcclxuICByZW1vdmVTdGlja2VyKGU6IGFueSk6IHZvaWQ7XHJcbiAgcmVtb3ZlU3RpY2tlclBhY2soZTogYW55KTogdm9pZDtcclxuICBoYXNBc3NvY2lhdGVkU3RpY2tlcnMoKTogYm9vbGVhbjtcclxuICBoYXNBc3NvY2lhdGVkU3RpY2tlclBhY2tzKCk6IGJvb2xlYW47XHJcbiAgYXNzb2NpYXRlZFN0aWNrZXJzKCk6IGFueVtdO1xyXG4gIGFzc29jaWF0ZWRTdGlja2VyUGFja3MoKTogYW55W107XHJcbiAgdG9KU09OKCk6IHtcclxuICAgIG1lZGlhQmxvYjogYW55O1xyXG4gICAgc2l6ZTogbnVtYmVyO1xyXG4gICAgZmlsZWhhc2g6IHN0cmluZztcclxuICAgIHR5cGU6IHN0cmluZztcclxuICAgIGNvbnRlbnRJbmZvOiBhbnk7XHJcbiAgICBkb3dubG9hZFN0YWdlOiBzdHJpbmc7XHJcbiAgICB1cGxvYWRTdGFnZTogc3RyaW5nO1xyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIE1lZGlhT2JqZWN0OiAnTWVkaWFPYmplY3QnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0ud2ViTWVkaWFUeXBlVG9XYW1NZWRpYVR5cGVcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBNZWRpYU9iamVjdCB9IGZyb20gJy4nO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA4ODI5N1xyXG4gKiBAd2hhdHNhcHAgOTg4Mjk3ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgTWVkaWFPYmplY3RVdGlsIHtcclxuICBmdW5jdGlvbiBnZXRPckNyZWF0ZU1lZGlhT2JqZWN0KGhhc2g6IHN0cmluZyk6IE1lZGlhT2JqZWN0O1xyXG59XHJcblxyXG5leHBvcnRNb2R1bGUoZXhwb3J0cywgJ01lZGlhT2JqZWN0VXRpbCcsIChtKSA9PiBtLmdldE9yQ3JlYXRlTWVkaWFPYmplY3QpO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7XHJcbiAgQ2hhdE1vZGVsLFxyXG4gIE1lZGlhRGF0YU1vZGVsLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTXNnTW9kZWwsXHJcbn0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBPVVRXQVJEX1RZUEVTLCBTZW5kTXNnUmVzdWx0IH0gZnJvbSAnLi4vZW51bXMnO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBPcGFxdWVEYXRhIH0gZnJvbSAnLic7XHJcblxyXG4vKiogQHdoYXRzYXBwIDc4OTg2XHJcbiAqIEB3aGF0c2FwcCA3Nzg5ODYgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBNZWRpYVByZXAge1xyXG4gIGZ1bmN0aW9uIHByZXBSYXdNZWRpYShcclxuICAgIGRhdGE6IE9wYXF1ZURhdGEsXHJcbiAgICBvcHRpb25zOiB7XHJcbiAgICAgIGlzUHR0PzogYm9vbGVhbjtcclxuICAgICAgYXNEb2N1bWVudD86IGJvb2xlYW47XHJcbiAgICAgIGFzR2lmPzogYm9vbGVhbjtcclxuICAgICAgaXNBdWRpbz86IGJvb2xlYW47XHJcbiAgICAgIGFzU3RpY2tlcj86IGJvb2xlYW47XHJcbiAgICAgIG1heERpbWVuc2lvbj86IG51bWJlcjtcclxuICAgIH1cclxuICApOiBNZWRpYVByZXA7XHJcblxyXG4gIGNsYXNzIE1lZGlhUHJlcCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBPVVRXQVJEX1RZUEVTLCBwOiBhbnkpO1xyXG5cclxuICAgIHNlbmRUb0NoYXQoXHJcbiAgICAgIGU6IENoYXRNb2RlbCxcclxuICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgIGNhcHRpb24/OiBzdHJpbmc7XHJcbiAgICAgICAgZm9vdGVyPzogc3RyaW5nO1xyXG4gICAgICAgIHF1b3RlZE1zZz86IE1zZ01vZGVsO1xyXG4gICAgICAgIHByb2R1Y3RNc2dPcHRpb25zPzogTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxNc2dNb2RlbD47XHJcbiAgICAgICAgdHlwZT86IG51bGwgfCBzdHJpbmc7XHJcbiAgICAgICAgbWVudGlvbmVkSmlkTGlzdD86IGFueTtcclxuICAgICAgICBpc0ZvcndhcmRlZD86IGJvb2xlYW47XHJcbiAgICAgICAgZm9yd2FyZGluZ1Njb3JlPzogYW55O1xyXG4gICAgICAgIG11bHRpY2FzdD86IGFueTtcclxuICAgICAgICBmb3J3YXJkZWRGcm9tV2ViPzogYm9vbGVhbjtcclxuICAgICAgICBjdHdhQ29udGV4dD86IGFueTtcclxuICAgICAgICBpc1ZpZXdPbmNlPzogYm9vbGVhbjtcclxuICAgICAgfVxyXG4gICAgKTogUHJvbWlzZTxTZW5kTXNnUmVzdWx0PjtcclxuICAgIHdhaXRGb3JQcmVwKCk6IFByb21pc2U8TWVkaWFEYXRhTW9kZWw+O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKGV4cG9ydHMsICdNZWRpYVByZXAnLCAobSkgPT4gbS51cGxvYWRQcm9kdWN0SW1hZ2UgJiYgbS5NZWRpYVByZXApO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKiogQHdoYXRzYXBwIDU2NDA2XHJcbiAqIEB3aGF0c2FwcCA3NTY0MDYgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBNZWRpYVV0aWxzIHtcclxuICBmdW5jdGlvbiBnZXRJbWFnZVdpZHRoSGVpZ2h0KCk6IFByb21pc2U8eyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9PjtcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKGV4cG9ydHMsICdNZWRpYVV0aWxzJywgKG0pID0+IG0uZ2V0SW1hZ2VXaWR0aEhlaWdodCk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi9XaWQnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA2NTIxMlxyXG4gKiBAd2hhdHNhcHAgMzIyMTkgPj0gMi4yMjA0LjEzXHJcbiAqIEB3aGF0c2FwcCA0NjUyMTIgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIE1zZ0tleSB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBvcHRpb25zOlxyXG4gICAgICB8IHtcclxuICAgICAgICAgIGZyb206IFdpZDtcclxuICAgICAgICAgIHRvOiBXaWQ7XHJcbiAgICAgICAgICBpZDogc3RyaW5nO1xyXG4gICAgICAgICAgcGFydGljaXBhbnQ/OiBhbnk7XHJcbiAgICAgICAgICBzZWxmRGlyOiAnaW4nIHwgJ291dCc7XHJcbiAgICAgICAgfVxyXG4gICAgICB8IHsgZnJvbU1lOiBib29sZWFuOyByZW1vdGU6IFdpZDsgaWQ6IHN0cmluZzsgcGFydGljaXBhbnQ/OiBhbnkgfVxyXG4gICk7XHJcblxyXG4gIGZyb21NZTogYm9vbGVhbjtcclxuICBpZDogc3RyaW5nO1xyXG4gIHJlbW90ZTogV2lkO1xyXG4gIHBhcnRpY2lwYW50OiBhbnk7XHJcbiAgX3NlcmlhbGl6ZWQ6IHN0cmluZztcclxuICB0b1N0cmluZygpOiBzdHJpbmc7XHJcbiAgY2xvbmUoKTogTXNnS2V5O1xyXG4gIGVxdWFscyhrZXk6IHVua25vd24pOiBrZXkgaXMgTXNnS2V5O1xyXG5cclxuICBzdGF0aWMgZnJvbVN0cmluZyhrZXk6IHN0cmluZyk6IE1zZ0tleTtcclxuXHJcbiAgLyoqXHJcbiAgICogQHdoYXRzYXBwID49IDIuMjIwOC43XHJcbiAgICovXHJcbiAgc3RhdGljIG5ld0lkKCk6IFByb21pc2U8c3RyaW5nPjtcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgTXNnS2V5OiAnZGVmYXVsdCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5kZWZhdWx0LnRvU3RyaW5nKCkuaW5jbHVkZXMoJ01zZ0tleSBlcnJvcjogb2JqIGlzIG51bGwvdW5kZWZpbmVkJylcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBCYXNlQ29sbGVjdGlvbiB9IGZyb20gJy4uL2NvbGxlY3Rpb25zJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgTW9kZWwsIE1zZ01vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgNTE2MTJcclxuICogQHdoYXRzYXBwIDk1MTYxMiA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgTXNnTG9hZFN0YXRlIGV4dGVuZHMgTW9kZWwge1xyXG4gIG5vRWFybGllck1zZ3M6IGFueTtcclxuICBpc0xvYWRpbmdFYXJsaWVyTXNnczogYW55O1xyXG4gIGlzTG9hZGluZ1JlY2VudE1zZ3M6IGFueTtcclxuICBpc0xvYWRpbmdBcm91bmRNc2dzOiBhbnk7XHJcbiAgY29udGV4dExvYWRlZDogYW55O1xyXG59XHJcbi8qKiBAd2hhdHNhcHAgNTE2MTJcclxuICogQHdoYXRzYXBwIDk1MTYxMiA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgTXNnTG9hZCBleHRlbmRzIEJhc2VDb2xsZWN0aW9uPE1zZ01vZGVsPiB7XHJcbiAgbXNnTG9hZFN0YXRlOiBNc2dMb2FkU3RhdGU7XHJcbiAgbG9hZFJlY2VudFByb21pc2U/OiBQcm9taXNlPGFueT47XHJcbiAgbG9hZEVhcmxpZXJQcm9taXNlPzogUHJvbWlzZTxhbnk+O1xyXG4gIGxvYWRBcm91bmRQcm9taXNlPzogUHJvbWlzZTxhbnk+O1xyXG59XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBNc2dMb2FkOiAnQ2hhdE1zZ3NDb2xsZWN0aW9uJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLkNoYXRNc2dzQ29sbGVjdGlvblxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IE5ldHdvcmtTdGF0dXNNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDc2NTA0NCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY29uc3QgTmV0d29ya1N0YXR1czogTmV0d29ya1N0YXR1c01vZGVsO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgTmV0d29ya1N0YXR1czogJ2RlZmF1bHQnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZGVmYXVsdC5jaGVja09ubGluZVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKiogQHdoYXRzYXBwIDM0OTQ5XHJcbiAqIEB3aGF0c2FwcCA1MzQ5NDkgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIE9wYXF1ZURhdGFCYXNlIHtcclxuICByZWxlYXNlZDogYm9vbGVhbjtcclxuICByZXRhaW4oKTogdm9pZDtcclxuICBhdXRvcmVsZWFzZSgpOiB2b2lkO1xyXG4gIGF1dG9yZWxlYXNlV2hlblByb21pc2VDb21wbGV0ZXMoZTogUHJvbWlzZTxhbnk+KTogdm9pZDtcclxuICB0aHJvd0lmUmVsZWFzZWQoZTogYW55KTogdm9pZDtcclxufVxyXG5cclxuLyoqIEB3aGF0c2FwcCAzNDk0OVxyXG4gKiBAd2hhdHNhcHAgNTM0OTQ5ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBPcGFxdWVEYXRhIGV4dGVuZHMgT3BhcXVlRGF0YUJhc2Uge1xyXG4gIHVybCgpOiBzdHJpbmc7XHJcbiAgZ2V0QmFzZTY0KCk6IHN0cmluZztcclxuICBmaWxlcGF0aCgpOiBzdHJpbmc7XHJcbiAgd2F2RmlsZXBhdGgoKTogc3RyaW5nO1xyXG4gIHNldFdhdkZpbGVwYXRoKCk6IHN0cmluZztcclxuICB2YWxpZGF0ZSgpOiBQcm9taXNlPGJvb2xlYW4+O1xyXG4gIHNpemUoKTogbnVtYmVyO1xyXG4gIGZvcm1EYXRhKCk6IHN0cmluZztcclxuICB0eXBlKCk6IHN0cmluZztcclxuICBmb3JjZVRvQmxvYigpOiBCbG9iO1xyXG4gIGlzQmxvYkVxdWFsKGU6IGFueSk6IHN0cmluZztcclxuXHJcbiAgc3RhdGljIGNyZWF0ZUZyb21CYXNlNjRKcGVnKGJhc2U2NDogc3RyaW5nKTogUHJvbWlzZTxPcGFxdWVEYXRhPjtcclxuICBzdGF0aWMgY3JlYXRlRnJvbURhdGEoYmxvYjogQmxvYlBhcnQsIHR5cGU/OiBzdHJpbmcpOiBQcm9taXNlPE9wYXF1ZURhdGE+O1xyXG59XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBPcGFxdWVEYXRhQmFzZTogJ2RlZmF1bHQnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZGVmYXVsdC5wcm90b3R5cGUudGhyb3dJZlJlbGVhc2VkXHJcbik7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBPcGFxdWVEYXRhOiAnZGVmYXVsdCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5kZWZhdWx0LmNyZWF0ZUZyb21EYXRhXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNDA5MTUzID49IDIuMjIyOC4xNFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgUHJvZHVjdENhdGFsb2dTZXNzaW9uIHtcclxuICBjb25zdHJ1Y3RvcihlOiBhbnkpO1xyXG5cclxuICBhY2NpZGVudGFsPzogYm9vbGVhbjtcclxuICBzZXNzaW9uSWQ/OiBudW1iZXIgfCBzdHJpbmc7XHJcblxyXG4gIGlzQWNjaWRlbnRhbCgpOiBib29sZWFuO1xyXG4gIGluaXRTZXNzaW9uSWQoKTogbnVtYmVyO1xyXG4gIG5ld1Nlc3Npb25JZCgpOiBudW1iZXI7XHJcbiAgdG9TdHJpbmcoKTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBQcm9kdWN0Q2F0YWxvZ1Nlc3Npb246ICdQcm9kdWN0Q2F0YWxvZ1Nlc3Npb24nLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uUHJvZHVjdENhdGFsb2dTZXNzaW9uXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaW5qZWN0RmFsbGJhY2tNb2R1bGUgfSBmcm9tICcuLi8uLi93ZWJwYWNrJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgU2VydmVyUHJvcHNNb2RlbCB9IGZyb20gJy4uL21vZGVscyc7XHJcbmltcG9ydCB7IFNlcnZlclByb3BzQ29uc3RhbnRzIH0gZnJvbSAnLi9TZXJ2ZXJQcm9wc0NvbnN0YW50cyc7XHJcblxyXG4vKiogQHdoYXRzYXBwIDgwODBcclxuICogQHdoYXRzYXBwIDYwODA4MCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY29uc3QgU2VydmVyUHJvcHM6IFNlcnZlclByb3BzTW9kZWw7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBTZXJ2ZXJQcm9wczogJ1NlcnZlclByb3BzJyxcclxuICB9LFxyXG4gIChtKSA9PlxyXG4gICAgKG0uZ2V0TWF4RmlsZXNTaXplU2VydmVyUHJvcCAmJiBtLlNlcnZlclByb3BzKSB8fFxyXG4gICAgKG0uZ2V0TWF4RmlsZXNTaXplICYmIG0uU2VydmVyUHJvcHMpXHJcbik7XHJcblxyXG4vL1RoaXMgZmFsbGJhY2sgaXMgb25seSBpbiBwbGFjZSB0byBwcmV2ZW50IGVycm9ycyBvbiBvbGRlciB2ZXJzaW9ucyBvZiBXaGF0c0FwcCBXZWIgZm9yIG5vdztcclxuLy8gaXQgd2lsbCBiZSByZW1vdmVkIHNvb24sIGFzIGFsbCB0aGVpciBhdHRyaWJ1dGVzIGhhdmUgZWl0aGVyIGJlZW4gcmVtb3ZlZCBvciBtb3ZlZCB0byBkaWZmZXJlbnQgZnVuY3Rpb25zLlxyXG5pbmplY3RGYWxsYmFja01vZHVsZSgnU2VydmVyUHJvcHMnLCB7XHJcbiAgZ2V0TWF4RmlsZXNTaXplU2VydmVyUHJvcDogKCkgPT4ge1xyXG4gICAgcmV0dXJuIFNlcnZlclByb3BzQ29uc3RhbnRzLk1BWF9GSUxFX1NJWkVfQllURVM7XHJcbiAgfSxcclxuICBTZXJ2ZXJQcm9wczoge30sXHJcbn0pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjUgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGluamVjdEZhbGxiYWNrTW9kdWxlIH0gZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFNlcnZlclByb3BzIH0gZnJvbSAnLi9TZXJ2ZXJQcm9wcyc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIFdBV2ViU2VydmVyUHJvcENvbnN0YW50c1xyXG4gKi9cclxuXHJcbmludGVyZmFjZSBTZXJ2ZXJQcm9wc01vZGVsIHtcclxuICBNTVNfVkNBUkRfQVVUT0RPV05MT0FEX1NJWkVfS0I6IG51bWJlcjtcclxuICBWQ0FSRF9BU19ET0NVTUVOVF9TSVpFX0tCOiBudW1iZXI7XHJcbiAgVkNBUkRfTUFYX1NJWkVfS0I6IG51bWJlcjtcclxuICBNVUxUSUNBU1RfTElNSVRfR0xPQkFMOiBudW1iZXI7XHJcbiAgUFRUX1BMQVlCQUNLX1NQRUVEX0hJREVfREVMQVk6IG51bWJlcjtcclxuICBERUZBVUxUX01BWF9GSUxFX1NJWkVfQllURVM6IG51bWJlcjtcclxuICBNQVhfRklMRV9TSVpFX0JZVEVTOiBudW1iZXI7XHJcbiAgVU5JTklUSUFMSVpFRF9WQUxVRV9XRUJfQklaX1BST0ZJTEVfT1BUSU9OUzogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBTZXJ2ZXJQcm9wc0NvbnN0YW50czogU2VydmVyUHJvcHNNb2RlbDtcclxuXHJcbmV4cG9ydE1vZHVsZShleHBvcnRzLCAnU2VydmVyUHJvcHNDb25zdGFudHMnLCAobSkgPT4gbS5NQVhfRklMRV9TSVpFX0JZVEVTKTtcclxuXHJcbmluamVjdEZhbGxiYWNrTW9kdWxlKCdTZXJ2ZXJQcm9wc0NvbnN0YW50cycsIHtcclxuICBNTVNfVkNBUkRfQVVUT0RPV05MT0FEX1NJWkVfS0I6IDY0LFxyXG4gIFZDQVJEX0FTX0RPQ1VNRU5UX1NJWkVfS0I6IDY0LFxyXG4gIFZDQVJEX01BWF9TSVpFX0tCOiA1MDAwLFxyXG4gIE1VTFRJQ0FTVF9MSU1JVF9HTE9CQUw6IFNlcnZlclByb3BzPy5mcmVxdWVudGx5Rm9yd2FyZGVkTWF4IHx8IDUsXHJcbiAgUFRUX1BMQVlCQUNLX1NQRUVEX0hJREVfREVMQVk6IDE1MDAsXHJcbiAgREVGQVVMVF9NQVhfRklMRV9TSVpFX0JZVEVTOiAxMDAgKiAxMDI0ICogMTAyNCxcclxuICBNQVhfRklMRV9TSVpFX0JZVEVTOiBTZXJ2ZXJQcm9wcz8ubWF4RmlsZVNpemUgfHwgMTAwICogMTAyNCAqIDEwMjQsXHJcbiAgVU5JTklUSUFMSVpFRF9WQUxVRV9XRUJfQklaX1BST0ZJTEVfT1BUSU9OUzogMyxcclxufSk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgU29ja2V0TW9kZWwgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA2NTA0NFxyXG4gKiBAd2hhdHNhcHAgNzY1MDQ0ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBTb2NrZXQ6IFNvY2tldE1vZGVsO1xyXG5cclxuZXhwb3J0TW9kdWxlKGV4cG9ydHMsIHsgU29ja2V0OiAnU29ja2V0JyB9LCAobSkgPT4gbS5Tb2NrZXQpO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFN0cmVhbU1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgODA4MFxyXG4gKiBAd2hhdHNhcHAgNjA4MDgwID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBTdHJlYW06IFN0cmVhbU1vZGVsO1xyXG5cclxuZXhwb3J0TW9kdWxlKGV4cG9ydHMsIHsgU3RyZWFtOiAnU3RyZWFtJyB9LCAobSkgPT4gbS5TdHJlYW0pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4vV2lkJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNDU5ODU3XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBVU3luY1F1ZXJ5IHtcclxuICBjb25zdHJ1Y3RvcigpO1xyXG4gICQxKCk6IGFueTtcclxuICBleGVjdXRlKCk6IGFueTtcclxuICB3aXRoQm90UHJvZmlsZVByb3RvY29sKCk6IGFueTtcclxuICB3aXRoQnVzaW5lc3NQcm90b2NvbCgpOiBhbnk7XHJcbiAgd2l0aENvbnRhY3RQcm90b2NvbCgpOiBhbnk7XHJcbiAgd2l0aENvbnRleHQoYTogYW55KTogYW55O1xyXG4gIHdpdGhEZXZpY2VQcm90b2NvbCgpOiBXaWQ7XHJcbiAgd2l0aERpc2FwcGVhcmluZ01vZGVQcm90b2NvbCgpOiBhbnk7XHJcbiAgd2l0aEZlYXR1cmVzUHJvdG9jb2woYTogYW55KTogYW55O1xyXG4gIHdpdGhMaWRQcm90b2NvbCgpOiBXaWQ7XHJcbiAgd2l0aE1vZGUoYTogYW55KTogYW55O1xyXG4gIHdpdGhQaWN0dXJlUHJvdG9jb2woKTogYW55O1xyXG4gIHdpdGhTdGF0dXNQcm90b2NvbCgpOiBhbnk7XHJcbiAgd2l0aFRleHRTdGF0dXNQcm90b2NvbCgpOiBhbnk7XHJcbiAgd2l0aFVzZXIoYTogYW55KTogYW55O1xyXG4gIHdpdGhVc2VybmFtZVByb3RvY29sKCk6IGFueTtcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgVVN5bmNRdWVyeTogJ1VTeW5jUXVlcnknLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uVVN5bmNRdWVyeVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDQ1OTg1N1xyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgVVN5bmNVc2VyIHtcclxuICBjb25zdHJ1Y3RvcigpO1xyXG4gIHdpdGhQaG9uZShhOiBhbnkpOiBhbnk7XHJcbiAgd2l0aElkKGE6IGFueSk6IGFueTtcclxuICB3aXRoTGlkKGE6IGFueSk6IGFueTtcclxuICB3aXRoVHlwZShhOiBhbnkpOiBhbnk7XHJcbiAgd2l0aFVzZXJuYW1lKGE6IGFueSk6IGFueTtcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgVVN5bmNVc2VyOiAnVVN5bmNVc2VyJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLlVTeW5jVXNlclxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjUgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4vV2lkJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNDU5ODU3ID49IDIuMjMxMC41XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgVXNlclByZWZzIHtcclxuICBmdW5jdGlvbiBnZXRNYXliZU1lRGV2aWNlUG4oLi4uYXJnczogYW55W10pOiBhbnk7XHJcbiAgZnVuY3Rpb24gYXNzZXJ0R2V0TWUoKTogV2lkO1xyXG4gIGZ1bmN0aW9uIGFzc2VydEdldE1lVXNlcigpOiBXaWQ7XHJcbiAgZnVuY3Rpb24gY2xlYXJHZXRNYXliZU1lUG5Vc2VyQ2FjaGUoLi4uYXJnczogYW55W10pOiBhbnk7XHJcbiAgZnVuY3Rpb24gZ2V0TWF5YmVNZURpc3BsYXlOYW1lKC4uLmFyZ3M6IGFueVtdKTogYW55O1xyXG4gIGZ1bmN0aW9uIGdldE1heWJlTWVEZXZpY2VMaWQoLi4uYXJnczogYW55W10pOiBhbnk7XHJcbiAgZnVuY3Rpb24gZ2V0TWF5YmVNZUxpZFVzZXIoLi4uYXJnczogYW55W10pOiBhbnk7XHJcbiAgZnVuY3Rpb24gZ2V0TWF5YmVNZVBuVXNlcigpOiBXaWQ7XHJcbiAgZnVuY3Rpb24gZ2V0TWF5YmVNZVVzZXIoKTogV2lkO1xyXG4gIGZ1bmN0aW9uIGdldE1lUE5hbmRMSURXaWRzKC4uLmFyZ3M6IGFueVtdKTogYW55O1xyXG4gIGZ1bmN0aW9uIGdldE1lVXNlcigpOiBXaWQ7XHJcbiAgZnVuY3Rpb24gaXNNZUFjY291bnQoLi4uYXJnczogYW55W10pOiBhbnk7XHJcbiAgZnVuY3Rpb24gaXNNZURldmljZSguLi5hcmdzOiBhbnlbXSk6IGFueTtcclxuICBmdW5jdGlvbiBpc01lUHJpbWFyeSguLi5hcmdzOiBhbnlbXSk6IGFueTtcclxuICBmdW5jdGlvbiBpc01lUHJpbWFyeU5vbkxpZCguLi5hcmdzOiBhbnlbXSk6IGFueTtcclxuICBmdW5jdGlvbiBpc1NlcmlhbGl6ZWRXaWRNZSguLi5hcmdzOiBhbnlbXSk6IGFueTtcclxuICBmdW5jdGlvbiBzZXRNZSguLi5hcmdzOiBhbnlbXSk6IGFueTtcclxuICBmdW5jdGlvbiBzZXRNZURpc3BsYXlOYW1lKC4uLmFyZ3M6IGFueVtdKTogYW55O1xyXG4gIGZ1bmN0aW9uIHNldE1lTGlkKC4uLmFyZ3M6IGFueVtdKTogYW55O1xyXG5cclxuICAvKipcclxuICAgKiBAZGVwcmVjYXRlZFxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGNsZWFyR2V0TWF5YmVNZVVzZXJDYWNoZSguLi5hcmdzOiBhbnlbXSk6IGFueTtcclxuICAvKipcclxuICAgKiBAZGVwcmVjYXRlZFxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGdldE1lRGV2aWNlUG4oLi4uYXJnczogYW55W10pOiBhbnk7XHJcbiAgLyoqXHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICBmdW5jdGlvbiBnZXRNYXliZU1lTGlkKC4uLmFyZ3M6IGFueVtdKTogYW55O1xyXG5cclxuICAvKipcclxuICAgKiBAZGVwcmVjYXRlZFxyXG4gICAqIEB3aGF0c2FwcCA0OTgwNTAgPj0gMi4zMDAwLjEwMjZcclxuICAgKiovXHJcbiAgZnVuY3Rpb24gZ2V0TWUoLi4uYXJnczogYW55W10pOiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydE1vZHVsZShleHBvcnRzLCAnVXNlclByZWZzJywgKG06IGFueSkgPT4ge1xyXG4gIGNvbnN0IGhhc05ldyA9IHR5cGVvZiBtPy5nZXRNYXliZU1lUG5Vc2VyID09PSAnZnVuY3Rpb24nO1xyXG4gIGNvbnN0IGhhc09sZCA9IHR5cGVvZiBtPy5nZXRNYXliZU1lVXNlciA9PT0gJ2Z1bmN0aW9uJztcclxuICBpZiAoIWhhc05ldyAmJiAhaGFzT2xkKSByZXR1cm4gZmFsc2U7IC8vIG7Do28gZXhwb3J0YSBzZSBuZW5odW1hIGV4aXN0aXJcclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIHNlIGhvdXZlciBwcm9wIGNvbSB0aXBvIGVycmFkbywgYXBhZ2EgYW50ZXMgZGUgc2V0YXJcclxuICAgIGlmIChcclxuICAgICAgbSAmJlxyXG4gICAgICB0eXBlb2YgbS5nZXRNYXliZU1lVXNlciAhPT0gJ2Z1bmN0aW9uJyAmJlxyXG4gICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcclxuICAgICAgbS5oYXNPd25Qcm9wZXJ0eT8uKCdnZXRNYXliZU1lVXNlcicpXHJcbiAgICApIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBkZWxldGUgbS5nZXRNYXliZU1lVXNlcjtcclxuICAgICAgfSBjYXRjaCB7fVxyXG4gICAgfVxyXG4gICAgaWYgKFxyXG4gICAgICBtICYmXHJcbiAgICAgIHR5cGVvZiBtLmdldE1heWJlTWVQblVzZXIgIT09ICdmdW5jdGlvbicgJiZcclxuICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXHJcbiAgICAgIG0uaGFzT3duUHJvcGVydHk/LignZ2V0TWF5YmVNZVBuVXNlcicpXHJcbiAgICApIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBkZWxldGUgbS5nZXRNYXliZU1lUG5Vc2VyO1xyXG4gICAgICB9IGNhdGNoIHt9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGhhc05ldyAmJiAhaGFzT2xkKSB7XHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtLCAnZ2V0TWF5YmVNZVVzZXInLCB7XHJcbiAgICAgICAgdmFsdWU6IG0uZ2V0TWF5YmVNZVBuVXNlci5iaW5kKG0pLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2UgaWYgKGhhc09sZCAmJiAhaGFzTmV3KSB7XHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtLCAnZ2V0TWF5YmVNZVBuVXNlcicsIHtcclxuICAgICAgICB2YWx1ZTogbS5nZXRNYXliZU1lVXNlci5iaW5kKG0pLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCB7XHJcbiAgICAvLyBzaWxlbmNpb3NvOiBhbGd1bnMgbcOzZHVsb3MgcG9kZW0gc2VyIHByb3hpZXMvc2VsYWRvc1xyXG4gIH1cclxuXHJcbiAgLy8gQWxndW5zIGxvYWRlcnMgdXNhbSBvIHZhbG9yIGRlIHJldG9ybm8gc8OzIGNvbW8gXCJ0cnV0aHlcIi5cclxuICAvLyBSZXRvcm5lICd0cnVlJyBvdSBvIHByw7NwcmlvICdtJyDigJQgYW1ib3MgZnVuY2lvbmFtLlxyXG4gIHJldHVybiB0cnVlO1xyXG59KTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBDb250YWN0TW9kZWwgfSBmcm9tICcuLic7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFZDYXJkRGF0YSB7XHJcbiAgZGlzcGxheU5hbWU6IHN0cmluZztcclxuICB2Y2FyZDogc3RyaW5nO1xyXG4gIGlzTXVsdGlWY2FyZDogZmFsc2U7XHJcbn1cclxuXHJcbi8qKiBAd2hhdHNhcHAgOTM3NzhcclxuICogQHdoYXRzYXBwIDc4NTIxID49IDIuMjIwNC4xM1xyXG4gKiBAd2hhdHNhcHAgODkzNzc4ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgVkNhcmQge1xyXG4gIGZ1bmN0aW9uIHZjYXJkRnJvbUNvbnRhY3RNb2RlbChjb250YWN0OiBDb250YWN0TW9kZWwpOiBWQ2FyZERhdGE7XHJcbiAgZnVuY3Rpb24gbWVyZ2VWY2FyZHModmNhcmRzOiBWQ2FyZERhdGFbXSk6IFZDYXJkRGF0YTtcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKGV4cG9ydHMsICdWQ2FyZCcsIChtKSA9PiBtLnZjYXJkRnJvbUNvbnRhY3RNb2RlbCk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuLyoqIEB3aGF0c2FwcCA4OTg2N1xyXG4gKiBAd2hhdHNhcHAgMzk1NDYgPj0gMi4yMjA0LjEzXHJcbiAqIEB3aGF0c2FwcCAzODk4NjcgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIFdpZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBpZDogc3RyaW5nLFxyXG4gICAgb3B0aW9ucz86IHsgaW50ZW50aW9uYWxseVVzZVByaXZhdGVDb25zdHJ1Y3RvcjogYm9vbGVhbiB9XHJcbiAgKTtcclxuXHJcbiAgX3NlcmlhbGl6ZWQ6IHN0cmluZztcclxuXHJcbiAgYWdlbnQ/OiBzdHJpbmc7XHJcblxyXG4gIGRldmljZT86IHN0cmluZztcclxuXHJcbiAgZXF1YWxzKHdpZDogdW5rbm93bik6IGJvb2xlYW47XHJcblxyXG4gIGdldERldmljZUlkKCk6IG51bWJlcjtcclxuXHJcbiAgZ2V0U2lnbmFsQWRkcmVzcygpOiBzdHJpbmc7XHJcblxyXG4gIGlzTmV3c2xldHRlcigpOiBib29sZWFuO1xyXG5cclxuICBpc0JvdCgpOiBib29sZWFuO1xyXG5cclxuICBpc0Jyb2FkY2FzdCgpOiBib29sZWFuO1xyXG5cclxuICBpc0NvbXBhbmlvbigpOiBib29sZWFuO1xyXG5cclxuICBpc1NhbWVBY2NvdW50KHdpZDogV2lkKTogYm9vbGVhbjtcclxuXHJcbiAgaXNHcmVhdGVyVGhhbih3aWQ6IHVua25vd24pOiBib29sZWFuO1xyXG5cclxuICBpc0dyb3VwKCk6IGJvb2xlYW47XHJcblxyXG4gIGlzR3JvdXBDYWxsKCk6IGJvb2xlYW47XHJcblxyXG4gIGlzTGVzc1RoYW4od2lkOiB1bmtub3duKTogYm9vbGVhbjtcclxuXHJcbiAgaXNPZmZpY2lhbEJpekFjY291bnQoKTogYm9vbGVhbjtcclxuXHJcbiAgaXNQU0EoKTogYm9vbGVhbjtcclxuXHJcbiAgaXNTZXJ2ZXIoKTogYm9vbGVhbjtcclxuXHJcbiAgaXNTdGF0dXNWMygpOiBib29sZWFuO1xyXG5cclxuICBpc1N0YXR1cygpOiBib29sZWFuO1xyXG5cclxuICBpc1VzZXIoKTogYm9vbGVhbjtcclxuXHJcbiAgaXNMaWQoKTogYm9vbGVhbjtcclxuXHJcbiAgaXNVc2VyTm90UFNBKCk6IGJvb2xlYW47XHJcblxyXG4gIHNlcnZlcjogc3RyaW5nO1xyXG5cclxuICB0b0ppZCgpOiBzdHJpbmc7XHJcblxyXG4gIHRvSlNPTigpOiBzdHJpbmc7XHJcblxyXG4gIHRvU3RyaW5nKG9wdGlvbj86IHsgbGVnYWN5PzogYm9vbGVhbjsgZm9ybWF0RnVsbD86IGJvb2xlYW4gfSk6IHN0cmluZztcclxuXHJcbiAgdXNlcjogc3RyaW5nO1xyXG5cclxuICBjYW5CZVdpZCh3aWQ6IHN0cmluZyk6IGJvb2xlYW47XHJcblxyXG4gIHN0YXRpYyBlcXVhbHMoYTogc3RyaW5nIHwgV2lkLCBiOiBzdHJpbmcgfCBXaWQpOiBib29sZWFuO1xyXG5cclxuICBzdGF0aWMgaXNCcm9hZGNhc3Qod2lkOiBzdHJpbmcgfCBXaWQpOiBib29sZWFuO1xyXG5cclxuICBzdGF0aWMgaXNHcmVhdGVyVGhhbihhOiBzdHJpbmcgfCBXaWQsIGI6IHN0cmluZyB8IFdpZCk6IGJvb2xlYW47XHJcblxyXG4gIHN0YXRpYyBpc0dyb3VwKHdpZDogc3RyaW5nIHwgV2lkKTogYm9vbGVhbjtcclxuXHJcbiAgc3RhdGljIGlzR3JvdXBDYWxsKHdpZDogc3RyaW5nIHwgV2lkKTogYm9vbGVhbjtcclxuXHJcbiAgc3RhdGljIGlzTGVzc1RoYW4oYTogc3RyaW5nIHwgV2lkLCBiOiBzdHJpbmcgfCBXaWQpOiBib29sZWFuO1xyXG5cclxuICBzdGF0aWMgaXNPZmZpY2lhbEJpekFjY291bnQod2lkOiBzdHJpbmcgfCBXaWQpOiBib29sZWFuO1xyXG5cclxuICBzdGF0aWMgaXNQU0Eod2lkOiBzdHJpbmcgfCBXaWQpOiBib29sZWFuO1xyXG5cclxuICBzdGF0aWMgaXNTZXJ2ZXIod2lkOiBzdHJpbmcgfCBXaWQpOiBib29sZWFuO1xyXG5cclxuICBzdGF0aWMgaXNTdGF0dXNWMyh3aWQ6IHN0cmluZyB8IFdpZCk6IGJvb2xlYW47XHJcblxyXG4gIHN0YXRpYyBpc1N0YXR1cyh3aWQ6IHN0cmluZyB8IFdpZCk6IGJvb2xlYW47XHJcblxyXG4gIHN0YXRpYyBpc1VzZXIod2lkOiBzdHJpbmcgfCBXaWQpOiBib29sZWFuO1xyXG5cclxuICBzdGF0aWMgaXNMaWQod2lkOiBzdHJpbmcgfCBXaWQpOiBib29sZWFuO1xyXG5cclxuICBzdGF0aWMgaXNXaWQod2lkOiBzdHJpbmcgfCBXaWQpOiBib29sZWFuO1xyXG5cclxuICBzdGF0aWMgaXNYV2lkKHNlcnZlcjogc3RyaW5nLCB3aWQ6IHN0cmluZyB8IFdpZCk6IGJvb2xlYW47XHJcblxyXG4gIHN0YXRpYyB1c2VyKHdpZDogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG59XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBXaWQ6ICdkZWZhdWx0JyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmRlZmF1bHQuaXNYV2lkXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi9XaWQnO1xyXG5cclxuLyoqIEB3aGF0c2FwcCA0NTQ1NFxyXG4gKiBAd2hhdHNhcHAgNTgwMjEgPj0gMi4yMjA0LjEzXHJcbiAqIEB3aGF0c2FwcCA3NDU0NTQgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBXaWRGYWN0b3J5IHtcclxuICBmdW5jdGlvbiBjcmVhdGVEZXZpY2VXaWQod2lkOiBzdHJpbmcpOiBXaWQ7XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZURldmljZVdpZEZyb21Vc2VyQW5kRGV2aWNlKHVzZXI6IHN0cmluZywgZGV2aWNlOiBzdHJpbmcpOiBXaWQ7XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZVVzZXJXaWQodXNlcjogc3RyaW5nLCBzZXJ2ZXI/OiBzdHJpbmcpOiBXaWQ7XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZVVzZXJXaWRPclRocm93KHVzZXI6IHN0cmluZywgc2VydmVyPzogc3RyaW5nKTogV2lkO1xyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVXaWQod2lkOiBzdHJpbmcpOiBXaWQ7XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZVdpZEZyb21XaWRMaWtlKHdpZDogc3RyaW5nIHwgeyBfc2VyaWFsaXplZDogc3RyaW5nIH0pOiBXaWQ7XHJcblxyXG4gIGZ1bmN0aW9uIGlzV2lkbGlrZSh3aWQ6IGFueSk6IHdpZCBpcyBXaWQ7XHJcblxyXG4gIC8vIEBkZXByZWNhdGVkXHJcbiAgZnVuY3Rpb24gdG9DaGF0V2lkKHdpZDogV2lkKTogV2lkO1xyXG5cclxuICAvLyBAZGVwcmVjYXRlZFxyXG4gIGZ1bmN0aW9uIHRvVXNlcldpZCh3aWQ6IFdpZCk6IFdpZDtcclxuXHJcbiAgZnVuY3Rpb24gdG9Hcm91cFdpZCh3aWQ6IFdpZCk6IFdpZDtcclxuXHJcbiAgZnVuY3Rpb24gdXNlckppZFRvVXNlcldpZCh3aWQ6IHN0cmluZyk6IFdpZDtcclxuXHJcbiAgZnVuY3Rpb24gdG9Vc2VyTGlkT3JUaHJvdyh3aWQ6IFdpZCk6IFdpZDtcclxuXHJcbiAgZnVuY3Rpb24gdG9Vc2VyV2lkT3JUaHJvdyh3aWQ6IFdpZCk6IFdpZDtcclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlV2lkKHdpZDogV2lkKTogV2lkO1xyXG59XHJcblxyXG5leHBvcnRNb2R1bGUoZXhwb3J0cywgJ1dpZEZhY3RvcnknLCAobSkgPT4gbS5jcmVhdGVXaWQpO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjUgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCAqIGZyb20gJy4vQXBpQ29udGFjdCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vQmFzZTY0JztcclxuZXhwb3J0ICogZnJvbSAnLi9Ccm93c2VyJztcclxuZXhwb3J0ICogZnJvbSAnLi9DaGF0UHJlc2VuY2UnO1xyXG5leHBvcnQgKiBmcm9tICcuL0NtZCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vQ29tcG9zZUJveEFjdGlvbnMnO1xyXG5leHBvcnQgKiBmcm9tICcuL0Nvbm4nO1xyXG5leHBvcnQgKiBmcm9tICcuL0NvbnN0YW50cyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vRW52aXJvbWVudCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vRXZlbnRFbWl0dGVyJztcclxuZXhwb3J0ICogZnJvbSAnLi9JbWFnZVV0aWxzJztcclxuZXhwb3J0ICogZnJvbSAnLi9Jc09mZmljaWFsQ2xpZW50JztcclxuZXhwb3J0ICogZnJvbSAnLi9MaWQxWDFNaWdyYXRpb25VdGlscyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vTWVkaWFCbG9iQ2FjaGUnO1xyXG5leHBvcnQgKiBmcm9tICcuL01lZGlhRW50cnknO1xyXG5leHBvcnQgKiBmcm9tICcuL01lZGlhT2JqZWN0JztcclxuZXhwb3J0ICogZnJvbSAnLi9NZWRpYU9iamVjdFV0aWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL01lZGlhUHJlcCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vTWVkaWFVdGlscyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vTXNnS2V5JztcclxuZXhwb3J0ICogZnJvbSAnLi9Nc2dMb2FkJztcclxuZXhwb3J0ICogZnJvbSAnLi9OZXR3b3JrU3RhdHVzJztcclxuZXhwb3J0ICogZnJvbSAnLi9PcGFxdWVEYXRhJztcclxuZXhwb3J0ICogZnJvbSAnLi9Qcm9kdWN0Q2F0YWxvZ1Nlc3Npb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL1NlcnZlclByb3BzJztcclxuZXhwb3J0ICogZnJvbSAnLi9TZXJ2ZXJQcm9wc0NvbnN0YW50cyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vU29ja2V0JztcclxuZXhwb3J0ICogZnJvbSAnLi9TdHJlYW0nO1xyXG5leHBvcnQgKiBmcm9tICcuL1VzZXJQcmVmcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vVVN5bmNRdWVyeSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vVVN5bmNVc2VyJztcclxuZXhwb3J0ICogZnJvbSAnLi9WQ2FyZCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vV2lkJztcclxuZXhwb3J0ICogZnJvbSAnLi9XaWRGYWN0b3J5JztcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBSZWFjdGlvbnNTZW5kZXJzQ29sbGVjdGlvbiB9IGZyb20gJy4uL2NvbGxlY3Rpb25zJztcclxuaW1wb3J0IHsgZXhwb3J0UHJveHlNb2RlbCB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7XHJcbiAgTW9kZWwsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTW9kZWxQcm94eSxcclxufSBmcm9tICcuL01vZGVsJztcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgaWQ/OiBhbnk7XHJcbiAgYWdncmVnYXRlRW1vamk/OiBhbnk7XHJcbiAgaGFzUmVhY3Rpb25CeU1lOiBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7fVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge31cclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgODExMzBcclxuICogQHdoYXRzYXBwIDk4MTEzMCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEFnZ1JlYWN0aW9uc01vZGVsXHJcbiAgZXh0ZW5kcyBNb2RlbFByb3h5PFByb3BzLCBTZXNzaW9uLCBEZXJpdmVkPiB7fVxyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA4MTEzMFxyXG4gKiBAd2hhdHNhcHAgOTgxMTMwID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBBZ2dSZWFjdGlvbnNNb2RlbCBleHRlbmRzIE1vZGVsIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPEFnZ1JlYWN0aW9uc01vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG4gIHNlbmRlcnM6IFJlYWN0aW9uc1NlbmRlcnNDb2xsZWN0aW9uO1xyXG59XHJcblxyXG5leHBvcnRQcm94eU1vZGVsKGV4cG9ydHMsICdBZ2dSZWFjdGlvbnNNb2RlbCcpO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydFByb3h5TW9kZWwgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQge1xyXG4gIE1vZGVsLFxyXG4gIE1vZGVsT3B0aW9ucyxcclxuICBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLFxyXG4gIE1vZGVsUHJveHksXHJcbn0gZnJvbSAnLi9Nb2RlbCc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGlkPzogYW55O1xyXG4gIGZpbGU/OiBhbnk7XHJcbiAgdWlQcm9jZXNzZWQ/OiBhbnk7XHJcbiAgZmlsZU9yaWdpbj86IGFueTtcclxuICBpc1ZjYXJkT3Zlck1tc0RvY3VtZW50OiBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7XHJcbiAgc3RhbGU/OiBhbnk7XHJcbiAgc3RhdGU/OiBhbnk7XHJcbiAgbWVkaWFQcmVwPzogYW55O1xyXG4gIG1pbWV0eXBlPzogYW55O1xyXG4gIG9yaWdpbmFsTWltZXR5cGU/OiBhbnk7XHJcbiAgcHJvY2Vzc1Byb21pc2U/OiBhbnk7XHJcbiAgZXhjZXB0aW9uPzogYW55O1xyXG4gIGNhcHRpb24/OiBhbnk7XHJcbiAgdHlwZT86IGFueTtcclxuICBtZWRpYUVkaXRvckRhdGE/OiBhbnk7XHJcbiAgZWRpdGVkRmlsZT86IGFueTtcclxuICBwcmV2aWV3PzogYW55O1xyXG4gIGZ1bGxQcmV2aWV3PzogYW55O1xyXG4gIGZ1bGxQcmV2aWV3U2l6ZT86IGFueTtcclxuICBmaWxlbmFtZT86IGFueTtcclxuICBkb2N1bWVudFBhZ2VDb3VudD86IGFueTtcclxuICBpc0dpZjogYm9vbGVhbjtcclxuICBnaWZBdHRyaWJ1dGlvbj86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge1xyXG4gIHByZXZpZXdhYmxlPzogYW55O1xyXG4gIGZpbGVzaXplPzogYW55O1xyXG4gIGZpbGVFeHQ/OiBhbnk7XHJcbn1cclxuXHJcbi8qKiBAd2hhdHNhcHAgODA2NjZcclxuICogQHdoYXRzYXBwIDQ4MDY2NiA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEF0dGFjaE1lZGlhTW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDgwNjY2XHJcbiAqIEB3aGF0c2FwcCA0ODA2NjYgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIEF0dGFjaE1lZGlhTW9kZWwgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcm90ZXJ0aWVzPzogTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxBdHRhY2hNZWRpYU1vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG4gIHByb2Nlc3NBdHRhY2htZW50KGU/OiBhbnkpOiBhbnk7XHJcbiAgc2VuZFRvQ2hhdChlPzogYW55LCB0PzogYW55KTogYW55O1xyXG4gIGdldEZpbGVUeXBlKCk6IGFueTtcclxuICBpc1ZpZXdhYmxlT25jZSgpOiBib29sZWFuO1xyXG4gIHVwZGF0ZU1lZGlhRWRpdG9yRGF0YShlPzogYW55LCB0PzogYW55KTogYW55O1xyXG4gIHVuZG9NZWRpYUVkaXRvckRhdGEoKTogYW55O1xyXG4gIHJlZG9NZWRpYUVkaXRvckRhdGEoKTogYW55O1xyXG4gIGNhblVuZG9NZWRpYUVkaXRvckRhdGEoKTogYm9vbGVhbjtcclxuICBjYW5SZWRvTWVkaWFFZGl0b3JEYXRhKCk6IGJvb2xlYW47XHJcbiAgdXBkYXRlRWRpdGVkRmlsZShlPzogYW55KTogYW55O1xyXG4gIHVwZGF0ZVByZXZpZXcoZT86IGFueSk6IGFueTtcclxuICB1cGRhdGVGdWxsUHJldmlldyhlPzogYW55KTogYW55O1xyXG4gIHVwZGF0ZUNhcHRpb24oZT86IGFueSk6IGFueTtcclxufVxyXG5cclxuZXhwb3J0UHJveHlNb2RlbChleHBvcnRzLCAnQXR0YWNoTWVkaWFNb2RlbCcpO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEJsb2NrbGlzdENvbGxlY3Rpb24gfSBmcm9tICcuLi9jb2xsZWN0aW9ucyc7XHJcbmltcG9ydCB7IGV4cG9ydFByb3h5TW9kZWwgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuaW1wb3J0IHtcclxuICBNb2RlbCxcclxuICBNb2RlbE9wdGlvbnMsXHJcbiAgTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcixcclxuICBNb2RlbFByb3h5LFxyXG59IGZyb20gJy4vTW9kZWwnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBpZDogV2lkO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7XHJcbiAgc3RhbGU/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDg5MzEwXHJcbiAqIEB3aGF0c2FwcCA2ODkzMTAgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBCbG9ja2xpc3RNb2RlbFxyXG4gIGV4dGVuZHMgTW9kZWxQcm94eTxQcm9wcywgU2Vzc2lvbiwgRGVyaXZlZD4ge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgODkzMTBcclxuICogQHdoYXRzYXBwIDY4OTMxMCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgQmxvY2tsaXN0TW9kZWwgZXh0ZW5kcyBNb2RlbDxCbG9ja2xpc3RDb2xsZWN0aW9uPiB7XHJcbiAgaWRDbGFzczogdHlwZW9mIFdpZDtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPEJsb2NrbGlzdE1vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG4gIGNvbnRhY3QoKTogYW55O1xyXG4gIGdldENvbGxlY3Rpb24oKTogQmxvY2tsaXN0Q29sbGVjdGlvbjtcclxufVxyXG5cclxuZXhwb3J0UHJveHlNb2RlbChleHBvcnRzLCAnQmxvY2tsaXN0TW9kZWwnKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDI0IFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBCb3RQcm9maWxlQ29sbGVjdGlvbiB9IGZyb20gJy4uL2NvbGxlY3Rpb25zJztcclxuaW1wb3J0IHsgZXhwb3J0UHJveHlNb2RlbCB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5pbXBvcnQgeyBDb250YWN0TW9kZWwgfSBmcm9tICcuL0NvbnRhY3RNb2RlbCc7XHJcbmltcG9ydCB7XHJcbiAgTW9kZWwsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTW9kZWxQcm94eSxcclxufSBmcm9tICcuL01vZGVsJztcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgaWQ6IFdpZDtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgYXR0cnM/OiBhbnk7XHJcbiAgZGVzY3JpcHRpb24/OiBhbnk7XHJcbiAgY2F0ZWdvcnk/OiBhbnk7XHJcbiAgaXNEZWZhdWx0OiBib29sZWFuO1xyXG4gIHByb21wdHM/OiBhbnlbXTtcclxuICBwZXJzb25hSWQ6IHN0cmluZztcclxuICBjb21tYW5kczogYW55W107XHJcbiAgY29tbWFuZHNEZXNjcmlwdGlvbjogYW55O1xyXG4gIGlzTWV0YUNyZWF0ZWQ6IGJvb2xlYW47XHJcbiAgY3JlYXRvck5hbWU/OiBzdHJpbmc7XHJcbiAgY3JlYXRvclByb2ZpbGVVcmw/OiBzdHJpbmc7XHJcbiAgbGFzdFVwZGF0ZVRzOiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBjb250YWN0OiBDb250YWN0TW9kZWw7XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIFdBV2ViQm90UHJvZmlsZU1vZGVsXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQm90UHJvZmlsZU1vZGVsXHJcbiAgZXh0ZW5kcyBNb2RlbFByb3h5PFByb3BzLCBTZXNzaW9uLCBEZXJpdmVkPiB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCBXQVdlYkJvdFByb2ZpbGVNb2RlbFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgQm90UHJvZmlsZU1vZGVsIGV4dGVuZHMgTW9kZWw8Qm90UHJvZmlsZUNvbGxlY3Rpb24+IHtcclxuICBpZENsYXNzOiB0eXBlb2YgV2lkO1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJvdGVydGllcz86IE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3I8Qm90UHJvZmlsZU1vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG59XHJcblxyXG5leHBvcnRQcm94eU1vZGVsKGV4cG9ydHMsICdCb3RQcm9maWxlTW9kZWwnKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBCdXNpbmVzc0NhdGVnb3JpZXNSZXN1bHRDb2xsZWN0aW9uIH0gZnJvbSAnLi4vY29sbGVjdGlvbnMnO1xyXG5pbXBvcnQgeyBleHBvcnRQcm94eU1vZGVsIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcbmltcG9ydCB7XHJcbiAgTW9kZWwsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTW9kZWxQcm94eSxcclxufSBmcm9tICcuL01vZGVsJztcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgaWQ6IFdpZDtcclxuICBjYXRlZ29yaWVzPzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7XHJcbiAgc3RhbGU/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDMyNzQyXHJcbiAqIEB3aGF0c2FwcCAxMzI3NDIgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBCdXNpbmVzc0NhdGVnb3JpZXNSZXN1bHRNb2RlbFxyXG4gIGV4dGVuZHMgTW9kZWxQcm94eTxQcm9wcywgU2Vzc2lvbiwgRGVyaXZlZD4ge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgMzI3NDJcclxuICogQHdoYXRzYXBwIDEzMjc0MiA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgQnVzaW5lc3NDYXRlZ29yaWVzUmVzdWx0TW9kZWwgZXh0ZW5kcyBNb2RlbDxCdXNpbmVzc0NhdGVnb3JpZXNSZXN1bHRDb2xsZWN0aW9uPiB7XHJcbiAgaWRDbGFzczogdHlwZW9mIFdpZDtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPEJ1c2luZXNzQ2F0ZWdvcmllc1Jlc3VsdE1vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG4gIGdldENvbGxlY3Rpb24oKTogQnVzaW5lc3NDYXRlZ29yaWVzUmVzdWx0Q29sbGVjdGlvbjtcclxufVxyXG5cclxuZXhwb3J0UHJveHlNb2RlbChleHBvcnRzLCAnQnVzaW5lc3NDYXRlZ29yaWVzUmVzdWx0TW9kZWwnKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBCdXNpbmVzc1Byb2ZpbGVDb2xsZWN0aW9uIH0gZnJvbSAnLi4vY29sbGVjdGlvbnMnO1xyXG5pbXBvcnQgeyBleHBvcnRQcm94eU1vZGVsIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcbmltcG9ydCB7XHJcbiAgTW9kZWwsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTW9kZWxQcm94eSxcclxufSBmcm9tICcuL01vZGVsJztcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgaWQ6IFdpZDtcclxuICB0YWc/OiBhbnk7XHJcbiAgZGVzY3JpcHRpb24/OiBhbnk7XHJcbiAgY2F0ZWdvcmllcz86IGFueTtcclxuICBwcm9maWxlT3B0aW9ucz86IGFueTtcclxuICBlbWFpbD86IGFueTtcclxuICB3ZWJzaXRlPzogYW55O1xyXG4gIGxhdGl0dWRlPzogYW55O1xyXG4gIGxvbmdpdHVkZT86IGFueTtcclxuICBidXNpbmVzc0hvdXJzPzogYW55O1xyXG4gIGNhdGFsb2dTdGF0dXM/OiBhbnk7XHJcbiAgYWRkcmVzcz86IGFueTtcclxuICBzdHJ1Y3R1cmVkQWRkcmVzcz86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIFNlc3Npb24ge1xyXG4gIHN0YWxlPzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRGVyaXZlZCB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCA0ODAxOFxyXG4gKiBAd2hhdHNhcHAgMzQ4MDE4ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQnVzaW5lc3NQcm9maWxlTW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDQ4MDE4XHJcbiAqIEB3aGF0c2FwcCAzNDgwMTggPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIEJ1c2luZXNzUHJvZmlsZU1vZGVsIGV4dGVuZHMgTW9kZWw8QnVzaW5lc3NQcm9maWxlQ29sbGVjdGlvbj4ge1xyXG4gIGlkQ2xhc3M6IHR5cGVvZiBXaWQ7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcm90ZXJ0aWVzPzogTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxCdXNpbmVzc1Byb2ZpbGVNb2RlbD4sXHJcbiAgICBvcHRpb25zPzogTW9kZWxPcHRpb25zXHJcbiAgKTtcclxuICBtYXJrU3RhbGUoKTogYW55O1xyXG4gIGdldENvbGxlY3Rpb24oKTogQnVzaW5lc3NQcm9maWxlQ29sbGVjdGlvbjtcclxuICBpc1ZhbGlkKCk6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydFByb3h5TW9kZWwoZXhwb3J0cywgJ0J1c2luZXNzUHJvZmlsZU1vZGVsJyk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQ2FsbENvbGxlY3Rpb24gfSBmcm9tICcuLi9jb2xsZWN0aW9ucyc7XHJcbmltcG9ydCB7IENBTExfU1RBVEVTIH0gZnJvbSAnLi4vZW51bXMnO1xyXG5pbXBvcnQgeyBleHBvcnRQcm94eU1vZGVsIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcbmltcG9ydCB7XHJcbiAgTW9kZWwsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTW9kZWxQcm94eSxcclxufSBmcm9tICcuL01vZGVsJztcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBwZWVySmlkOiBXaWQ7XHJcbiAgb2ZmZXJUaW1lOiBudW1iZXI7XHJcbiAgaXNWaWRlbzogYm9vbGVhbjtcclxuICBpc0dyb3VwOiBib29sZWFuO1xyXG4gIGdyb3VwQ2FsbFBhcnRpY2lwYW50cz86IGFueTtcclxuICBjYW5IYW5kbGVMb2NhbGx5OiBib29sZWFuO1xyXG4gIG91dGdvaW5nOiBib29sZWFuO1xyXG4gIHdlYkNsaWVudFNob3VsZEhhbmRsZTogYm9vbGVhbjtcclxuICBjYWxsSW5mbz86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIFNlc3Npb24ge1xyXG4gIHN0YWxlPzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRGVyaXZlZCB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCAzNjQ3M1xyXG4gKiBAd2hhdHNhcHAgNDAxMjIgPj0gMi4yMjA0LjEzXHJcbiAqIEB3aGF0c2FwcCA3MzY0NzMgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDYWxsTW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDM2NDczXHJcbiAqIEB3aGF0c2FwcCA0MDEyMiA+PSAyLjIyMDQuMTNcclxuICogQHdoYXRzYXBwIDczNjQ3MyA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgQ2FsbE1vZGVsIGV4dGVuZHMgTW9kZWw8Q2FsbENvbGxlY3Rpb24+IHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPENhbGxNb2RlbD4sXHJcbiAgICBvcHRpb25zPzogTW9kZWxPcHRpb25zXHJcbiAgKTtcclxuICBnZXRTdGF0ZSgpOiBDQUxMX1NUQVRFUztcclxuICBzZXRTdGF0ZShzdGF0ZTogQ0FMTF9TVEFURVMpOiB2b2lkO1xyXG4gIGdldENvbGxlY3Rpb24oKTogQ2FsbENvbGxlY3Rpb247XHJcbn1cclxuXHJcbmV4cG9ydFByb3h5TW9kZWwoZXhwb3J0cywgJ0NhbGxNb2RlbCcpO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENhcnRDb2xsZWN0aW9uIH0gZnJvbSAnLi4vY29sbGVjdGlvbnMnO1xyXG5pbXBvcnQgeyBleHBvcnRQcm94eU1vZGVsIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHtcclxuICBNb2RlbCxcclxuICBNb2RlbE9wdGlvbnMsXHJcbiAgTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcixcclxuICBNb2RlbFByb3h5LFxyXG59IGZyb20gJy4vTW9kZWwnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBpZD86IGFueTtcclxuICBwcmljZUFtb3VudDEwMDA/OiBhbnk7XHJcbiAgY3VycmVuY3k/OiBhbnk7XHJcbiAgbmFtZT86IHN0cmluZztcclxuICBxdWFudGl0eT86IGFueTtcclxuICBpbWFnZUhhc2g/OiBhbnk7XHJcbiAgaW1hZ2VDZG5Vcmw/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBzdGFsZT86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgOTU4MVxyXG4gKiBAd2hhdHNhcHAgMTA5NTgxID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ2FydEl0ZW1Nb2RlbFxyXG4gIGV4dGVuZHMgTW9kZWxQcm94eTxQcm9wcywgU2Vzc2lvbiwgRGVyaXZlZD4ge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgOTU4MVxyXG4gKiBAd2hhdHNhcHAgMTA5NTgxID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBDYXJ0SXRlbU1vZGVsIGV4dGVuZHMgTW9kZWw8Q2FydENvbGxlY3Rpb24+IHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPENhcnRJdGVtTW9kZWw+LFxyXG4gICAgb3B0aW9ucz86IE1vZGVsT3B0aW9uc1xyXG4gICk7XHJcbiAgZ2V0Q29sbGVjdGlvbigpOiBDYXJ0Q29sbGVjdGlvbjtcclxufVxyXG5cclxuZXhwb3J0UHJveHlNb2RlbChleHBvcnRzLCAnQ2FydEl0ZW1Nb2RlbCcpO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENhcnRDb2xsZWN0aW9uIH0gZnJvbSAnLi4vY29sbGVjdGlvbnMnO1xyXG5pbXBvcnQgeyBleHBvcnRQcm94eU1vZGVsIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHtcclxuICBNb2RlbCxcclxuICBNb2RlbE9wdGlvbnMsXHJcbiAgTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcixcclxuICBNb2RlbFByb3h5LFxyXG59IGZyb20gJy4vTW9kZWwnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBpZD86IGFueTtcclxuICBwcm9kdWN0cz86IGFueTtcclxuICBpdGVtQ291bnQ/OiBhbnk7XHJcbiAgdG90YWw/OiBhbnk7XHJcbiAgY3VycmVuY3k/OiBhbnk7XHJcbiAgbWVzc2FnZT86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIFNlc3Npb24ge1xyXG4gIHN0YWxlPzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRGVyaXZlZCB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCA2NTk5OVxyXG4gKiBAd2hhdHNhcHAgNTY1OTk5ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ2FydE1vZGVsXHJcbiAgZXh0ZW5kcyBNb2RlbFByb3h5PFByb3BzLCBTZXNzaW9uLCBEZXJpdmVkPiB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCA2NTk5OVxyXG4gKiBAd2hhdHNhcHAgNTY1OTk5ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBDYXJ0TW9kZWwgZXh0ZW5kcyBNb2RlbDxDYXJ0Q29sbGVjdGlvbj4ge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJvdGVydGllcz86IE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3I8Q2FydE1vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG4gIGNvdW50VG90YWxzKCk6IGFueTtcclxuICBnZXRDb2xsZWN0aW9uKCk6IENhcnRDb2xsZWN0aW9uO1xyXG59XHJcblxyXG5leHBvcnRQcm94eU1vZGVsKGV4cG9ydHMsICdDYXJ0TW9kZWwnKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBDYXRhbG9nQ29sbGVjdGlvbiB9IGZyb20gJy4uL2NvbGxlY3Rpb25zJztcclxuaW1wb3J0IHsgZXhwb3J0UHJveHlNb2RlbCB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5pbXBvcnQgeyBQcm9kdWN0TW9kZWwgfSBmcm9tICcuJztcclxuaW1wb3J0IHtcclxuICBNb2RlbCxcclxuICBNb2RlbE9wdGlvbnMsXHJcbiAgTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcixcclxuICBNb2RlbFByb3h5LFxyXG59IGZyb20gJy4vTW9kZWwnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBpZDogV2lkO1xyXG4gIGFmdGVyQ3Vyc29yPzogYW55O1xyXG4gIGluZGV4PzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7XHJcbiAgc3RhbGU/OiBhbnk7XHJcbiAgZmV0Y2hlZEZyb21TZXJ2ZXI/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDUyMzg4XHJcbiAqIEB3aGF0c2FwcCA2NTIzODggPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDYXRhbG9nTW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDUyMzg4XHJcbiAqIEB3aGF0c2FwcCA2NTIzODggPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIENhdGFsb2dNb2RlbCBleHRlbmRzIE1vZGVsPENhdGFsb2dDb2xsZWN0aW9uPiB7XHJcbiAgaWRDbGFzczogdHlwZW9mIFdpZDtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPENhdGFsb2dNb2RlbD4sXHJcbiAgICBvcHRpb25zPzogTW9kZWxPcHRpb25zXHJcbiAgKTtcclxuICBwcm9kdWN0Q29sbGVjdGlvbjogUHJvZHVjdE1vZGVsW107XHJcbiAgY29sbGVjdGlvbnM6IGFueTtcclxuICB0cmlnZ2VyUHJvZHVjdFVwZGF0ZSgpOiBhbnk7XHJcbiAgdHJpZ2dlck1zZ1VwZGF0ZSgpOiBhbnk7XHJcbiAgbWFya1Byb2R1Y3RDb2xsZWN0aW9uT2xkKCk6IGFueTtcclxuICBhZGRQcm9kdWN0KGU/OiBhbnkpOiBhbnk7XHJcbiAgZWRpdFByb2R1Y3QoZTogUHJvZHVjdE1vZGVsKTogYW55O1xyXG4gIHB1bGxQcm9kdWN0KGU/OiBhbnkpOiBhbnk7XHJcbiAgdXBkYXRlUHJvZHVjdChlPzogYW55KTogYW55O1xyXG4gIGdldENvbGxlY3Rpb24oKTogQ2F0YWxvZ0NvbGxlY3Rpb247XHJcbn1cclxuXHJcbmV4cG9ydFByb3h5TW9kZWwoZXhwb3J0cywgJ0NhdGFsb2dNb2RlbCcpO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENoYXRDb2xsZWN0aW9uIH0gZnJvbSAnLi4vY29sbGVjdGlvbnMnO1xyXG5pbXBvcnQgeyBTZW5kTXNnUmVzdWx0IH0gZnJvbSAnLi4vZW51bXMnO1xyXG5pbXBvcnQgeyBleHBvcnRQcm94eU1vZGVsIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgTXNnS2V5LCBNc2dMb2FkLCBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuaW1wb3J0IHsgR3JvdXBNZXRhZGF0YU1vZGVsLCBNc2dNb2RlbCwgTXV0ZU1vZGVsIH0gZnJvbSAnLic7XHJcbmltcG9ydCB7IE1vZGVsT3B0aW9ucywgTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvciwgTW9kZWxQcm94eSB9IGZyb20gJy4vTW9kZWwnO1xyXG5pbXBvcnQgeyBNb2RlbENoYXRCYXNlLCBQcm9wc0NoYXRCYXNlLCBTZXNzaW9uQ2hhdEJhc2UgfSBmcm9tICcuL01vZGVsQ2hhdEJhc2UnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgUHJvcHNDaGF0QmFzZSB7XHJcbiAgbGFzdFJlY2VpdmVkS2V5PzogTXNnS2V5O1xyXG4gIHQ/OiBudW1iZXI7XHJcbiAgdW5yZWFkQ291bnQ6IG51bWJlcjtcclxuICBhcmNoaXZlPzogYW55O1xyXG4gIGlzUmVhZE9ubHk6IGJvb2xlYW47XHJcbiAgaXNBbm5vdW5jZUdycFJlc3RyaWN0OiBib29sZWFuO1xyXG4gIG1vZGlmeVRhZz86IGFueTtcclxuICBtdXRlRXhwaXJhdGlvbj86IGFueTtcclxuICBuYW1lPzogc3RyaW5nO1xyXG4gIG5vdFNwYW0/OiBhbnk7XHJcbiAgcGluPzogYW55O1xyXG4gIGNoYW5nZU51bWJlck9sZEppZD86IGFueTtcclxuICBjaGFuZ2VOdW1iZXJOZXdKaWQ/OiBhbnk7XHJcbiAgZXBoZW1lcmFsRHVyYXRpb24/OiBhbnk7XHJcbiAgZXBoZW1lcmFsU2V0dGluZ1RpbWVzdGFtcD86IGFueTtcclxuICBkaXNhcHBlYXJpbmdNb2RlSW5pdGlhdG9yPzogYW55O1xyXG4gIHVucmVhZE1lbnRpb25zT2ZNZT86IGFueTtcclxuICBtc2dVbnN5bmNlZEJ1dHRvblJlcGx5TXNncz86IGFueTtcclxuICBlbmRPZkhpc3RvcnlUcmFuc2ZlclR5cGU/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIGV4dGVuZHMgU2Vzc2lvbkNoYXRCYXNlIHtcclxuICBzdGFsZT86IGFueTtcclxuICBjcmVhdGVkTG9jYWxseT86IGFueTtcclxuICBwZW5kaW5nQWN0aW9uPzogYW55O1xyXG4gIGZvcm1hdHRlZFRpdGxlPzogc3RyaW5nO1xyXG4gIGFjdGl2ZT86IGFueTtcclxuICBwYXVzZWRUaW1lcklkPzogYW55O1xyXG4gIHByZXNlbmNlUmVzZW5kVGltZXJJZD86IGFueTtcclxuICByZWNvcmRpbmc/OiBhbnk7XHJcbiAgdHlwaW5nPzogYW55O1xyXG4gIGNvbG9ycz86IGFueTtcclxuICBjb21wb3NlQ29udGVudHM/OiBhbnk7XHJcbiAgYXR0YWNoTWVkaWFDb250ZW50cz86IGFueTtcclxuICBzcXVlbGNoPzogYW55O1xyXG4gIHBlbmRpbmdTZWVuQ291bnQ/OiBhbnk7XHJcbiAgbWFya2VkVW5yZWFkPzogYW55O1xyXG4gIHRydXN0ZWQ/OiBhbnk7XHJcbiAgY2FuU2VuZDogYm9vbGVhbjtcclxuICBwcm9taXNlczogeyBba2V5OiBzdHJpbmddOiBQcm9taXNlPGFueT4gfCB1bmRlZmluZWQgfCBudWxsIH07XHJcbiAgZnRzQ2FjaGU/OiBhbnk7XHJcbiAgY29tcG9zZVF1b3RlZE1zZz86IGFueTtcclxuICBjb21wb3NlUXVvdGVkTXNnUmVtb3RlSmlkPzogYW55O1xyXG4gIHF1b3RlZE1zZ0FkbWluR3JvdXBKaWQ/OiBhbnk7XHJcbiAgZ3JvdXBNZXRhZGF0YT86IEdyb3VwTWV0YWRhdGFNb2RlbDtcclxuICBwcmVzZW5jZT86IGFueTtcclxuICBtdXRlOiBNdXRlTW9kZWw7XHJcbiAgY29udGFjdD86IGFueTtcclxuICBsaXZlTG9jYXRpb24/OiBhbnk7XHJcbiAgbGl2ZUxvY2F0aW9uUXVlcmllZD86IGFueTtcclxuICBhY2tlZFByb3BzPzogYW55O1xyXG4gIG1lZGlhQ291bnQ/OiBhbnk7XHJcbiAgbGlua0NvdW50PzogYW55O1xyXG4gIGRvY0NvdW50PzogYW55O1xyXG4gIHByb2R1Y3RDb3VudD86IGFueTtcclxuICB2Y2FyZERpc21pc3NlZD86IGFueTtcclxuICBlbmRPZkhpc3RvcnlUcmFuc2Zlcj86IGFueTtcclxuICBoYXNFc3RhYmxpc2hlZEUyRUVTZXNzaW9uOiBib29sZWFuO1xyXG4gIHBlbmRpbmdJbml0aWFsTG9hZGluZz86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge1xyXG4gIGtpbmQ/OiBhbnk7XHJcbiAgaXNVc2VyOiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIERlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgZ2V0SXNVc2VyXHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICBpc1BTQTogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBEZXByZWNhdGVkIGluIGZhdm9yIG9mIGdldElzUFNBXHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICBpc0dyb3VwOiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIERlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgZ2V0SXNHcm91cFxyXG4gICAqIEBkZXByZWNhdGVkXHJcbiAgICovXHJcbiAgaXNQYXJlbnRHcm91cDogYm9vbGVhbjtcclxuICBpc0Jyb2FkY2FzdDogYm9vbGVhbjtcclxuICBpc05ld3NsZXR0ZXI6IGJvb2xlYW47XHJcbiAgY2FuVW5yZWFkOiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIERlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgZ2V0SGFzVW5yZWFkXHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICBoYXNVbnJlYWQ6IGJvb2xlYW47XHJcbiAgb3B0aW1pc3RpY1VucmVhZENvdW50PzogYW55O1xyXG4gIC8qKlxyXG4gICAqIERlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgZ2V0U2hvdWxkU2hvd1VucmVhZERpdmlkZXJcclxuICAgKiBAZGVwcmVjYXRlZFxyXG4gICAqL1xyXG4gIHNob3VsZFNob3dVbnJlYWREaXZpZGVyPzogYW55O1xyXG4gIC8qKlxyXG4gICAqIERlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgZ2V0U2hvdWxkQXBwZWFySW5MaXN0XHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICBzaG91bGRBcHBlYXJJbkxpc3Q/OiBhbnk7XHJcbiAgLyoqXHJcbiAgICogRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBnZXRQcmV2aWV3TWVzc2FnZVxyXG4gICAqIEBkZXByZWNhdGVkXHJcbiAgICovXHJcbiAgcHJldmlld01lc3NhZ2U/OiBhbnk7XHJcbiAgLyoqXHJcbiAgICogRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBnZXRTaG93Q2hhbmdlTnVtYmVyTm90aWZpY2F0aW9uXHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICBzaG93Q2hhbmdlTnVtYmVyTm90aWZpY2F0aW9uPzogYW55O1xyXG4gIHNob3VsZFNob3dVbnJlYWRJblRpdGxlPzogYW55O1xyXG59XHJcblxyXG4vKiogQHdoYXRzYXBwIDYzMTgzICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDaGF0TW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDYzMTgzICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIENoYXRNb2RlbCBleHRlbmRzIE1vZGVsQ2hhdEJhc2Uge1xyXG4gIGlkQ2xhc3M6IHR5cGVvZiBXaWQ7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcm90ZXJ0aWVzPzogTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxDaGF0TW9kZWw+LFxyXG4gICAgb3B0aW9ucz86IE1vZGVsT3B0aW9uc1xyXG4gICk7XHJcbiAgaXNTdXBwb3J0R3JvdXAoKTogYm9vbGVhbjtcclxuICBkZWNQZW5kaW5nKCk6IGFueTtcclxuICBvbkFjdGl2ZVVwZGF0ZSgpOiBhbnk7XHJcbiAgb25QZW5kaW5nQWN0aW9uVXBkYXRlKCk6IGFueTtcclxuICBvbk5vdFNwYW1DaGFuZ2UoKTogYW55O1xyXG4gIGhhc01heWJlU2VudE1zZ1RvQ2hhdCgpOiBib29sZWFuO1xyXG4gIGlzVHJ1c3RlZCgpOiBib29sZWFuO1xyXG4gIHVwZGF0ZU11dGVFeHBpcmF0aW9uKCk6IGFueTtcclxuICB1cGRhdGVUaXRsZSgpOiBhbnk7XHJcbiAgdGl0bGUoKTogYW55O1xyXG4gIHVwZGF0ZUNhblNlbmQoKTogYW55O1xyXG4gIGlzRGlydHkoKTogYm9vbGVhbjtcclxuICByZXNldE1lZGlhTXNncygpOiBhbnk7XHJcbiAgaXNNc2dGb3JNZWRpYUNvbGxlY3Rpb24oZT86IGFueSk6IGJvb2xlYW47XHJcbiAgYWRkTWVkaWFNc2dzKGU/OiBhbnksIHQ/OiBhbnkpOiBhbnk7XHJcbiAgb25OZXdNc2coZT86IGFueSk6IGFueTtcclxuICBjYW5QaW4oKTogYm9vbGVhbjtcclxuICBjYW5BcmNoaXZlKCk6IGJvb2xlYW47XHJcbiAgc2VuZERpc21pc3NDaGFuZ2VOdW1iZXIoKTogYW55O1xyXG4gIHNldENvbXBvc2VDb250ZW50cyhlPzogYW55KTogYW55O1xyXG4gIGdldFNlc3Npb25QZXJzaXN0ZWRDb21wb3NlQ29udGVudHMoKTogYW55O1xyXG4gIGdldENvbXBvc2VDb250ZW50cygpOiBhbnk7XHJcbiAgc2V0QXR0YWNoTWVkaWFDb250ZW50cyhlPzogYW55KTogYW55O1xyXG4gIHByZWxvYWQoKTogYW55O1xyXG4gIG9uRW1wdHlNUk0oKTogYW55O1xyXG4gIGxvYWRFYXJsaWVyTXNncyhlPzogYW55LCB0PzogYW55KTogYW55O1xyXG4gIGlzTW9zdFJlY2VudENNQyhlPzogYW55KTogYm9vbGVhbjtcclxuICBsb2FkUmVjZW50TXNncyhlPzogYW55KTogYW55O1xyXG4gIGdldFNlYXJjaENvbnRleHQ/KFxyXG4gICAgY2hhdDogQ2hhdE1vZGVsIHwgc3RyaW5nLFxyXG4gICAgbXNnOiBNc2dNb2RlbCB8IE1zZ0tleSB8IHN0cmluZyxcclxuICAgIG9wdGlvbnM/OiB7XHJcbiAgICAgIGlzUXVvdGVkTXNnQXZhaWxhYmxlOiBib29sZWFuO1xyXG4gICAgfVxyXG4gICk6IHtcclxuICAgIGNvbGxlY3Rpb246IE1zZ0xvYWQ7XHJcbiAgICBtc2c/OiBNc2dNb2RlbDtcclxuICAgIGtleT86IE1zZ0tleTtcclxuICAgIGhpZ2hsaWdodE1zZzogdHJ1ZTtcclxuICB9O1xyXG4gIHNlbmRSZXZva2VNc2dzKFxyXG4gICAgbWVzc2FnZXM6IE1zZ01vZGVsW10sXHJcbiAgICBkZWxldGVNZWRpYUluRGV2aWNlPzogYm9vbGVhblxyXG4gICk6IFByb21pc2U8U2VuZE1zZ1Jlc3VsdD47XHJcbiAgc2VuZFJldm9rZU1zZ3MoXHJcbiAgICBtZXNzYWdlczogTXNnTW9kZWxbXSxcclxuICAgIHNlbmRlcjogc3RyaW5nLFxyXG4gICAgZGVsZXRlTWVkaWFJbkRldmljZT86IGJvb2xlYW5cclxuICApOiBQcm9taXNlPFNlbmRNc2dSZXN1bHQ+O1xyXG4gIHNlbmREZWxldGVNc2dzKFxyXG4gICAgbWVzc2FnZXM6IE1zZ01vZGVsW10sXHJcbiAgICBkZWxldGVNZWRpYUluRGV2aWNlPzogYm9vbGVhblxyXG4gICk6IFByb21pc2U8U2VuZE1zZ1Jlc3VsdD47XHJcblxyXG4gIGRlbGV0ZU1zZ3MoZT86IGFueSwgdD86IGFueSk6IGFueTtcclxuICBkZWxldGVNc2dzT2xkZXJUaGFuKGU/OiBhbnksIHQ/OiBhbnksIHI/OiBhbnkpOiBhbnk7XHJcbiAgZGVsZXRlTXNnc0JlZm9yZU1zZ0luY2x1c2l2ZShlPzogYW55LCB0PzogYm9vbGVhbiwgcj86IGFueSk6IGFueTtcclxuICBkZWxldGVNc2dzUGFydGlhbChlPzogYW55LCB0PzogYm9vbGVhbik6IGFueTtcclxuICBnZXRGaXJzdE1zZ1dpdGhTdGF0dXMoKTogYW55O1xyXG4gIGdldExhc3RSZWNlaXZlZE1zZygpOiBhbnk7XHJcbiAgZ2V0TGFzdFJlY2VpdmVkTm9uRXhwaXJlZE1zZyhlPzogYW55KTogYW55O1xyXG4gIGdldExhc3RNc2dLZXlGb3JBY3Rpb24oKTogTXNnS2V5O1xyXG4gIGdldExhc3RUaW1lc3RhbXBNc2coKTogYW55O1xyXG4gIGdldFdlYmNDaGF0VHlwZSgpOiBhbnk7XHJcbiAgZGVyZWdpc3RlckV4cGlyZWRWaWV3T25jZUJ1bGtNZXNzYWdlcyhlPzogYW55KTogYW55O1xyXG4gIHNlbmRHcm91cEludml0ZU1lc3NhZ2UoXHJcbiAgICBlPzogYW55LFxyXG4gICAgdD86IGFueSxcclxuICAgIHI/OiBhbnksXHJcbiAgICBhPzogYW55LFxyXG4gICAgaT86IGFueSxcclxuICAgIG4/OiBhbnlcclxuICApOiBhbnk7XHJcbiAgZm9yd2FyZE1lc3NhZ2VzKFxyXG4gICAgbXNnczogTXNnTW9kZWxbXSxcclxuICAgIG11bHRpY2FzdD86IGFueSxcclxuICAgIGRpc3BsYXlDYXB0aW9uVGV4dD86IGJvb2xlYW5cclxuICApOiBhbnk7XHJcbiAgdXBkYXRlUmVhZE9ubHkoKTogYW55O1xyXG4gIHVwZGF0ZUlzQW5ub3VuY2VHcnBSZXN0cmljdCgpOiBhbnk7XHJcbiAgc29ydE1zZ3MoZT86IGFueSk6IGFueTtcclxuICB3YWl0Rm9yQ2hhdExvYWRpbmcoKTogYW55O1xyXG4gIGxvYWRBc3NpZ25lZENvbG9ycygpOiBhbnk7XHJcbiAgc2F2ZUFzc2lnbmVkQ29sb3JzKCk6IGFueTtcclxuICBhc3NpZ25lZENvbG9yKGU/OiBhbnkpOiBhbnk7XHJcbiAgdW5zdGFyQWxsKCk6IGFueTtcclxuICBjb25zdHJ1Y3RNZWRpYU1zZ3MoZT86IGFueSk6IGFueTtcclxuICBmdHMoZT86IGFueSwgdD86IGJvb2xlYW4sIHI/OiBhbnkpOiBhbnk7XHJcbiAgdXBkYXRlU29ydFRpbWUoKTogYW55O1xyXG4gIHJlbW92ZUZyb21Db2xsZWN0aW9uKGU/OiBhbnkpOiBhbnk7XHJcbiAgZ2V0TWVkaWFNc2dzKCk6IGFueTtcclxuICBnZXRMaW5rTXNncygpOiBhbnk7XHJcbiAgZ2V0RG9jTXNncygpOiBhbnk7XHJcbiAgZ2V0UGFydGljaXBhbnRDb3VudCgpOiBhbnk7XHJcbiAgZ2V0UHJvZHVjdE1zZ3MoKTogYW55O1xyXG4gIGdldFJlY2VpdmVkVmNhcmRNc2dzKCk6IGFueTtcclxuICBkaXNtaXNzVmNhcmQoKTogYW55O1xyXG4gIHVwZGF0ZU1lZGlhc0NvdW50T25Nc2coZT86IGFueSwgdD86IGJvb2xlYW4pOiBhbnk7XHJcbiAgcmVzZXRNZWRpYXNDb3VudChlPzogYW55KTogYW55O1xyXG4gIGdldFN0YXJyZWRNc2dzKCk6IGFueTtcclxuICBzZXRBbmRLZWVwUHJldmlvdXMoZT86IGFueSwgdD86IGFueSk6IGFueTtcclxuICBnZXRBY2tlZFBob25lUHJvcHMoKTogYW55O1xyXG4gIHJlZ0NhbmNlbGxhYmxlUHJvbWlzZShlPzogYW55KTogYW55O1xyXG4gIGNhbmNlbFBlbmRpbmdQcm9taXNlcygpOiBib29sZWFuO1xyXG4gIG1hdGNoRmlsdGVyKGU/OiBhbnkpOiBhbnk7XHJcbiAgZ2V0RXBoZW1lcmFsU2V0dGluZygpOiBhbnk7XHJcbiAgZ2V0RXBoZW1lcmFsU2V0dGluZ1RpbWVzdGFtcCgpOiBhbnk7XHJcbiAgaXNFcGhlbWVyYWxTZXR0aW5nT24oKTogYm9vbGVhbjtcclxuICBzaG91bGRTaG93RXBoZW1lcmFsU2V0dGluZygpOiBhbnk7XHJcbiAgZ2V0RGlzYXBwZWFyaW5nTW9kZUluaXRpYXRvcigpOiBhbnk7XHJcbiAgZ2V0Q29sbGVjdGlvbigpOiBDaGF0Q29sbGVjdGlvbjtcclxuICBnZXRHcm91cE1ldGFkYXRhQ29sbGVjdGlvbigpOiBhbnk7XHJcbiAgcmVtb3ZlTXNnKGU/OiBhbnkpOiBhbnk7XHJcbiAgZ2V0QWxsQ01DcygpOiBhbnk7XHJcbiAgZ2V0QWxsTXNncygpOiBhbnk7XHJcbiAgcmVwbGFjZU1zZ3NDb2xsZWN0aW9uKGU/OiBhbnkpOiBhbnk7XHJcbiAgcmVtb3ZlTXNnc0NvbGxlY3Rpb24oZT86IGFueSk6IGFueTtcclxuICBub3RpZnlNc2dDb2xsZWN0aW9uTWVyZ2UoZT86IGFueSwgdD86IGFueSwgcj86IGFueSwgYT86IGFueSk6IGFueTtcclxuICBjYW5TZW5kZXJSZXZva2UoKTogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0UHJveHlNb2RlbChleHBvcnRzLCAnQ2hhdE1vZGVsJyk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0UHJveHlNb2RlbCB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5pbXBvcnQge1xyXG4gIE1vZGVsLFxyXG4gIE1vZGVsT3B0aW9ucyxcclxuICBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLFxyXG4gIE1vZGVsUHJveHksXHJcbn0gZnJvbSAnLi9Nb2RlbCc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGlkOiBXaWQ7XHJcbiAgd2FsbHBhcGVyQ29sb3I/OiBhbnk7XHJcbiAgc2F2ZVRvQ2FtZXJhUm9sbD86IGFueTtcclxuICBzaG93RG9vZGxlPzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7XHJcbiAgc3RhbGU/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDMzOTI5XHJcbiAqIEB3aGF0c2FwcCAxMzM5MjkgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDaGF0UHJlZmVyZW5jZU1vZGVsXHJcbiAgZXh0ZW5kcyBNb2RlbFByb3h5PFByb3BzLCBTZXNzaW9uLCBEZXJpdmVkPiB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCAzMzkyOVxyXG4gKiBAd2hhdHNhcHAgMTMzOTI5ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBDaGF0UHJlZmVyZW5jZU1vZGVsIGV4dGVuZHMgTW9kZWwge1xyXG4gIGlkQ2xhc3M6IHR5cGVvZiBXaWQ7XHJcbiAgYWxsb3dlZElkcz86IGFueTtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPENoYXRQcmVmZXJlbmNlTW9kZWw+LFxyXG4gICAgb3B0aW9ucz86IE1vZGVsT3B0aW9uc1xyXG4gICk7XHJcbiAgZ2V0Q29sbGVjdGlvbigpOiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydFByb3h5TW9kZWwoZXhwb3J0cywgJ0NoYXRQcmVmZXJlbmNlTW9kZWwnKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuaW1wb3J0IHtcclxuICBNb2RlbCxcclxuICBNb2RlbE9wdGlvbnMsXHJcbiAgTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcixcclxuICBNb2RlbFByb3h5LFxyXG59IGZyb20gJy4vTW9kZWwnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBpZDogV2lkO1xyXG4gIHR5cGU/OiBhbnk7XHJcbiAgdD86IGFueTtcclxuICBkZW55PzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7XHJcbiAgdXBkYXRlVGltZT86IGFueTtcclxuICBleHBpcmVUaW1lcklkPzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRGVyaXZlZCB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCAzMDAwMFxyXG4gKiBAd2hhdHNhcHAgMzMwMDAwID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ2hhdHN0YXRlTW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDMwMDAwXHJcbiAqIEB3aGF0c2FwcCAzMzAwMDAgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIENoYXRzdGF0ZU1vZGVsIGV4dGVuZHMgTW9kZWwge1xyXG4gIGlkQ2xhc3M6IHR5cGVvZiBXaWQ7XHJcbiAgYWxsb3dlZElkcz86IGFueTtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPENoYXRzdGF0ZU1vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG4gIGdldENvbGxlY3Rpb24oKTogYW55O1xyXG59XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBDaGF0c3RhdGVNb2RlbDogJ0NoYXRzdGF0ZScsXHJcbiAgfSxcclxuICAobSkgPT4gKG0uQ2hhdHN0YXRlICYmIG0uQ2hhdHN0YXRlQ29sbGVjdGlvbikgfHwgbS5DaGF0c3RhdGVcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuaW1wb3J0IHtcclxuICBNb2RlbCxcclxuICBNb2RlbE9wdGlvbnMsXHJcbiAgTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcixcclxuICBNb2RlbFByb3h5LFxyXG59IGZyb20gJy4vTW9kZWwnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHJlZj86IHN0cmluZztcclxuICByZWZUVEw/OiBudW1iZXI7XHJcbiAgcmVmSWQ/OiBhbnk7XHJcbiAgd2lkPzogV2lkO1xyXG4gIGNvbm5lY3RlZD86IGJvb2xlYW47XHJcbiAgcHJvdG9WZXJzaW9uPzogc3RyaW5nO1xyXG4gIGNsaWVudFRva2VuPzogc3RyaW5nO1xyXG4gIHNlcnZlclRva2VuPzogc3RyaW5nO1xyXG4gIHNlY3JldD86IHN0cmluZztcclxuICBpc1Jlc3BvbnNlPzogYm9vbGVhbjtcclxuICBiYXR0ZXJ5PzogYW55O1xyXG4gIHBsdWdnZWQ/OiBhbnk7XHJcbiAgbGM/OiBhbnk7XHJcbiAgbGc/OiBhbnk7XHJcbiAgbG9jYWxlcz86IGFueTtcclxuICBpczI0aD86IGJvb2xlYW47XHJcbiAgcGxhdGZvcm0/OiBzdHJpbmc7XHJcbiAgcGhvbmU/OiBzdHJpbmc7XHJcbiAgdG9zPzogYW55O1xyXG4gIHNtYlRvcz86IGFueTtcclxuICBwdXNobmFtZT86IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFNlc3Npb24ge1xyXG4gIGJsb2NrU3RvcmVBZGRzPzogYW55O1xyXG4gIGlzVm9pcEluaXRpYWxpemVkPzogYm9vbGVhbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge1xyXG4gIHJlZkV4cGlyeT86IG51bWJlcjtcclxuICBsb2NhbGU/OiBhbnk7XHJcbiAgbG9jYWxlc0xpc3Q/OiBhbnk7XHJcbiAgYWxsTG9jYWxlcz86IGFueTtcclxuICBhbGxMYW5ndWFnZXM/OiBhbnk7XHJcbiAgcGxhdGZvcm1GaWVsZD86IGFueTtcclxuICB0b3NTaG93Q2FsbE5vdGlmaWNhdGlvbj86IGFueTtcclxuICBpc1NNQj86IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKiBAd2hhdHNhcHAgMTcyMzlcclxuICogQHdoYXRzYXBwIDMxNzIzOSA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIENvbm5Nb2RlbFxyXG4gIGV4dGVuZHMgTW9kZWxQcm94eTxQcm9wcywgU2Vzc2lvbiwgRGVyaXZlZD4ge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgMTcyMzlcclxuICogQHdoYXRzYXBwIDMxNzIzOSA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgQ29ubk1vZGVsIGV4dGVuZHMgTW9kZWwge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJvdGVydGllcz86IE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3I8Q29ubk1vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG5cclxuICBjYW5TZXRNeVB1c2huYW1lKCk6IGJvb2xlYW47XHJcbiAgdXBkYXRlVm9pcEF2YWlsYWJpbGl0eSgpOiB2b2lkO1xyXG4gIGhhbmRsZVBsYXRmb3JtQ2hhbmdlKCk6IHZvaWQ7XHJcbiAgZm9ybWF0TG9jYWxlKGU/OiBhbnksIHQ/OiBhbnkpOiBhbnk7XHJcbiAgc2hvdWxkU2F2ZVRvQ2FjaGUoKTogYW55O1xyXG59XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBDb25uTW9kZWw6IFsnQ29ubkltcGwnLCAnQ29ubiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uQ29ubkltcGwgfHwgKG0uQ29ubiAmJiAhbS5Db25uSW1wbClcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBDb250YWN0Q29sbGVjdGlvbiB9IGZyb20gJy4uL2NvbGxlY3Rpb25zJztcclxuaW1wb3J0IHsgZXhwb3J0UHJveHlNb2RlbCB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5pbXBvcnQge1xyXG4gIE1vZGVsLFxyXG4gIE1vZGVsT3B0aW9ucyxcclxuICBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLFxyXG4gIE1vZGVsUHJveHksXHJcbn0gZnJvbSAnLi9Nb2RlbCc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGlkOiBXaWQ7XHJcbiAgbmFtZT86IGFueTtcclxuICBzaG9ydE5hbWU/OiBhbnk7XHJcbiAgcHVzaG5hbWU/OiBhbnk7XHJcbiAgdHlwZT86IGFueTtcclxuICB2ZXJpZmllZE5hbWU/OiBhbnk7XHJcbiAgaXNCdXNpbmVzczogYm9vbGVhbjtcclxuICBpc0VudGVycHJpc2U6IGJvb2xlYW47XHJcbiAgdmVyaWZpZWRMZXZlbD86IGFueTtcclxuICBwcml2YWN5TW9kZT86IGFueTtcclxuICBzdGF0dXNNdXRlPzogYW55O1xyXG4gIHNlY3Rpb25IZWFkZXI/OiBhbnk7XHJcbiAgbGFiZWxzPzogc3RyaW5nW107XHJcbiAgZGlzYXBwZWFyaW5nTW9kZUR1cmF0aW9uPzogYW55O1xyXG4gIGRpc2FwcGVhcmluZ01vZGVTZXR0aW5nVGltZXN0YW1wPzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7XHJcbiAgc3RhbGU/OiBhbnk7XHJcbiAgaXNDb250YWN0QmxvY2tlZDogYm9vbGVhbjtcclxuICB2ZXJpZmljYXRpb25TdHJpbmc/OiBhbnk7XHJcbiAgdmVyaWZpY2F0aW9uQmluYXJ5PzogYW55O1xyXG4gIHBlbmRpbmdBY3Rpb24/OiBhbnk7XHJcbiAgcHJvbWlzZXM/OiBhbnk7XHJcbiAgc3RhdHVzPzogYW55O1xyXG4gIHByb2ZpbGVQaWNUaHVtYj86IGFueTtcclxuICBidXNpbmVzc1Byb2ZpbGU/OiBhbnk7XHJcbiAgY29tbW9uR3JvdXBzPzogYW55O1xyXG4gIGxpdmVMb2NhdGlvbnM/OiBhbnk7XHJcbiAgYnVzaW5lc3NDYXRhbG9nPzogYW55O1xyXG4gIGxvY2FsZT86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge1xyXG4gIC8qKlxyXG4gICAqIERlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgZ2V0Tm90aWZ5TmFtZVxyXG4gICAqIEBkZXByZWNhdGVkXHJcbiAgICovXHJcbiAgbm90aWZ5TmFtZT86IGFueTtcclxuICAvKipcclxuICAgKiBEZXByZWNhdGVkIGluIGZhdm9yIG9mIGdldE1lbnRpb25OYW1lXHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICBtZW50aW9uTmFtZT86IGFueTtcclxuICAvKipcclxuICAgKiBEZXByZWNhdGVkIGluIGZhdm9yIG9mIGdldERpc3BsYXlOYW1lXHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICBkaXNwbGF5TmFtZT86IGFueTtcclxuICAvKipcclxuICAgKiBEZXByZWNhdGVkIGluIGZhdm9yIG9mIGdldFBuRm9yTGlkXHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICBwbkZvckxpZD86IGFueTtcclxuICAvKipcclxuICAgKiBEZXByZWNhdGVkIGluIGZhdm9yIG9mIGdldFByZW1pdW1NZXNzYWdlTmFtZVxyXG4gICAqIEBkZXByZWNhdGVkXHJcbiAgICovXHJcbiAgcHJlbWl1bU1lc3NhZ2VOYW1lPzogYW55O1xyXG4gIC8qKlxyXG4gICAqIERlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgZ2V0RGlzcGxheU5hbWVPclBuRm9yTGlkXHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICBkaXNwbGF5TmFtZU9yUG5Gb3JMaWQ/OiBhbnk7XHJcbiAgLyoqXHJcbiAgICogRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBnZXRGb3JtYXR0ZWRQaG9uZVxyXG4gICAqIEBkZXByZWNhdGVkXHJcbiAgICovXHJcbiAgZm9ybWF0dGVkUGhvbmU/OiBhbnk7XHJcbiAgLyoqXHJcbiAgICogRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBnZXRVc2VyaWRcclxuICAgKiBAZGVwcmVjYXRlZFxyXG4gICAqL1xyXG4gIHVzZXJpZD86IGFueTtcclxuICAvKipcclxuICAgKiBEZXByZWNhdGVkIGluIGZhdm9yIG9mIGdldFVzZXJoYXNoXHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICB1c2VyaGFzaD86IGFueTtcclxuICAvKipcclxuICAgKiBEZXByZWNhdGVkIGluIGZhdm9yIG9mIGdldFNlYXJjaE5hbWVcclxuICAgKiBAZGVwcmVjYXRlZFxyXG4gICAqL1xyXG4gIHNlYXJjaE5hbWU/OiBhbnk7XHJcbiAgLyoqXHJcbiAgICogRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBnZXRTZWFyY2hWZXJpZmllZE5hbWVcclxuICAgKiBAZGVwcmVjYXRlZFxyXG4gICAqL1xyXG4gIHNlYXJjaFZlcmlmaWVkTmFtZT86IGFueTtcclxuICAvKipcclxuICAgKiBEZXByZWNhdGVkIGluIGZhdm9yIG9mIGdldEhlYWRlclxyXG4gICAqIEBkZXByZWNhdGVkXHJcbiAgICovXHJcbiAgaGVhZGVyPzogYW55O1xyXG4gIC8qKlxyXG4gICAqIERlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgZ2V0SXNNZVxyXG4gICAqIEBkZXByZWNhdGVkXHJcbiAgICovXHJcbiAgaXNNZTogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBEZXByZWNhdGVkIGluIGZhdm9yIG9mIGdldElzVXNlclxyXG4gICAqIEBkZXByZWNhdGVkXHJcbiAgICovXHJcbiAgaXNVc2VyOiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIERlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgZ2V0SXNHcm91cFxyXG4gICAqIEBkZXByZWNhdGVkXHJcbiAgICovXHJcbiAgaXNHcm91cDogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBEZXByZWNhdGVkIGluIGZhdm9yIG9mIGdldElzQnJvYWRjYXN0XHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICBpc0Jyb2FkY2FzdDogYm9vbGVhbjtcclxuICAvKipcclxuICAgKiBEZXByZWNhdGVkIGluIGZhdm9yIG9mIGdldElzQnJvYWRjYXN0XHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICBpc05ld3NsZXR0ZXI6IGJvb2xlYW47XHJcbiAgLyoqXHJcbiAgICogRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBnZXRJc1BTQVxyXG4gICAqIEBkZXByZWNhdGVkXHJcbiAgICovXHJcbiAgaXNQU0E6IGJvb2xlYW47XHJcbiAgLyoqXHJcbiAgICogRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBnZXRJc0lBU1xyXG4gICAqIEBkZXByZWNhdGVkXHJcbiAgICovXHJcbiAgaXNJQVM6IGJvb2xlYW47XHJcbiAgLyoqXHJcbiAgICogRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBnZXRJc1N1cHBvcnRBY2NvdW50XHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICBpc1N1cHBvcnRBY2NvdW50OiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIERlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgZ2V0Rm9ybWF0dGVkU2hvcnROYW1lV2l0aE5vbkJyZWFraW5nU3BhY2VzXHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICBmb3JtYXR0ZWRTaG9ydE5hbWVXaXRoTm9uQnJlYWtpbmdTcGFjZXM/OiBhbnk7XHJcbiAgLyoqXHJcbiAgICogRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBnZXRGb3JtYXR0ZWRTaG9ydE5hbWVcclxuICAgKiBAZGVwcmVjYXRlZFxyXG4gICAqL1xyXG4gIGZvcm1hdHRlZFNob3J0TmFtZT86IGFueTtcclxuICAvKipcclxuICAgKiBEZXByZWNhdGVkIGluIGZhdm9yIG9mIGdldEZvcm1hdHRlZE5hbWVcclxuICAgKiBAZGVwcmVjYXRlZFxyXG4gICAqL1xyXG4gIGZvcm1hdHRlZE5hbWU/OiBhbnk7XHJcbiAgLyoqXHJcbiAgICogRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBnZXRGb3JtYXR0ZWRVc2VyXHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICBmb3JtYXR0ZWRVc2VyPzogYW55O1xyXG4gIC8qKlxyXG4gICAqIERlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgZ2V0SXNXQUNvbnRhY3RcclxuICAgKiBAZGVwcmVjYXRlZFxyXG4gICAqL1xyXG4gIGlzV0FDb250YWN0OiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIERlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgZ2V0SXNNeUNvbnRhY3RcclxuICAgKiBAZGVwcmVjYXRlZFxyXG4gICAqL1xyXG4gIGlzTXlDb250YWN0OiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIERlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgZ2V0Q2FuUmVxdWVzdFBob25lTnVtYmVyXHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICBjYW5SZXF1ZXN0UGhvbmVOdW1iZXI6IGJvb2xlYW47XHJcbiAgLyoqXHJcbiAgICogRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBnZXRTaG93QnVzaW5lc3NDaGVja21hcmtBc1ByaW1hcnlcclxuICAgKiBAZGVwcmVjYXRlZFxyXG4gICAqL1xyXG4gIHNob3dCdXNpbmVzc0NoZWNrbWFya0FzUHJpbWFyeT86IGFueTtcclxuICAvKipcclxuICAgKiBEZXByZWNhdGVkIGluIGZhdm9yIG9mIGdldFNob3dCdXNpbmVzc0NoZWNrbWFya0FzU2Vjb25kYXJ5XHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICBzaG93QnVzaW5lc3NDaGVja21hcmtBc1NlY29uZGFyeT86IGFueTtcclxuICAvKipcclxuICAgKiBEZXByZWNhdGVkIGluIGZhdm9yIG9mIGdldFNob3dCdXNpbmVzc0NoZWNrbWFya0luQ2hhdGxpc3RcclxuICAgKiBAZGVwcmVjYXRlZFxyXG4gICAqL1xyXG4gIHNob3dCdXNpbmVzc0NoZWNrbWFya0luQ2hhdGxpc3Q/OiBhbnk7XHJcbiAgLyoqXHJcbiAgICogRGVwcmVjYXRlZCBpbiBmYXZvciBvZiBnZXRJc0Rpc3BsYXlOYW1lQXBwcm92ZWRcclxuICAgKiBAZGVwcmVjYXRlZFxyXG4gICAqL1xyXG4gIGlzRGlzcGxheU5hbWVBcHByb3ZlZD86IGFueTtcclxuICAvKipcclxuICAgKiBEZXByZWNhdGVkIGluIGZhdm9yIG9mIGdldFNob3VsZEZvcmNlQnVzaW5lc3NVcGRhdGVcclxuICAgKiBAZGVwcmVjYXRlZFxyXG4gICAqL1xyXG4gIHNob3VsZEZvcmNlQnVzaW5lc3NVcGRhdGU/OiBhbnk7XHJcbn1cclxuXHJcbi8qKiBAd2hhdHNhcHAgMTIxXHJcbiAqIEB3aGF0c2FwcCA0MDAxMjEgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDb250YWN0TW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDEyMVxyXG4gKiBAd2hhdHNhcHAgNDAwMTIxID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBDb250YWN0TW9kZWwgZXh0ZW5kcyBNb2RlbDxDb250YWN0Q29sbGVjdGlvbj4ge1xyXG4gIGlkQ2xhc3M6IHR5cGVvZiBXaWQ7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcm90ZXJ0aWVzPzogTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxDb250YWN0TW9kZWw+LFxyXG4gICAgb3B0aW9ucz86IE1vZGVsT3B0aW9uc1xyXG4gICk7XHJcbiAgdXBkYXRlU2hvcnROYW1lKCk6IGFueTtcclxuICBnZXRTdGF0dXMoKTogYW55O1xyXG4gIGdldFByb2ZpbGVQaWNUaHVtYigpOiBhbnk7XHJcbiAgYWRkUGVuZGluZ0FjdGlvbihlPzogYW55KTogYW55O1xyXG4gIGRlY1BlbmRpbmcoKTogYW55O1xyXG4gIGlzQmxvY2tlZCgpOiBib29sZWFuO1xyXG4gIHNlYXJjaE1hdGNoKGU/OiBhbnksIHQ/OiBhbnksIHI/OiBhbnkpOiBhbnk7XHJcbiAgZ2V0Rm9ybWF0dGVkVXNlcigpOiBhbnk7XHJcbiAgZ2V0Q29sbGVjdGlvbigpOiBDb250YWN0Q29sbGVjdGlvbjtcclxuICBzZXROb3RNeUNvbnRhY3QoKTogYW55O1xyXG59XHJcblxyXG5leHBvcnRQcm94eU1vZGVsKGV4cG9ydHMsICdDb250YWN0TW9kZWwnKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRQcm94eU1vZGVsIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcbmltcG9ydCB7XHJcbiAgTW9kZWwsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTW9kZWxQcm94eSxcclxufSBmcm9tICcuL01vZGVsJztcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgaWQ6IFdpZDtcclxuICBjb252ZXJzaW9uRGF0YT86IGFueTtcclxuICBjb252ZXJzaW9uU291cmNlPzogYW55O1xyXG4gIHRpbWVzdGFtcD86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIFNlc3Npb24ge1xyXG4gIHN0YWxlPzogYW55O1xyXG4gIGFsYXJtSWQ/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDE4Nzg3XHJcbiAqIEB3aGF0c2FwcCAxMTg3ODcgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBDb252ZXJzaW9uVHVwbGVNb2RlbFxyXG4gIGV4dGVuZHMgTW9kZWxQcm94eTxQcm9wcywgU2Vzc2lvbiwgRGVyaXZlZD4ge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgMTg3ODdcclxuICogQHdoYXRzYXBwIDExODc4NyA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgQ29udmVyc2lvblR1cGxlTW9kZWwgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgaWRDbGFzczogdHlwZW9mIFdpZDtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPENvbnZlcnNpb25UdXBsZU1vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG4gIGVsYXBzZWRTZWNvbmRzKCk6IGFueTtcclxuICBmb3JtYXRUdXBsZSgpOiBhbnk7XHJcbiAgZ2V0Q29sbGVjdGlvbigpOiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydFByb3h5TW9kZWwoZXhwb3J0cywgJ0NvbnZlcnNpb25UdXBsZU1vZGVsJyk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0UHJveHlNb2RlbCB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7XHJcbiAgTW9kZWwsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTW9kZWxQcm94eSxcclxufSBmcm9tICcuL01vZGVsJztcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgaWQ/OiBhbnk7XHJcbiAgdmFyaWFudD86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIFNlc3Npb24ge1xyXG4gIHN0YWxlPzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRGVyaXZlZCB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCAyMDQ3MlxyXG4gKiBAd2hhdHNhcHAgMTIwNDcyID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgRW1vamlWYXJpYW50TW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDIwNDcyXHJcbiAqIEB3aGF0c2FwcCAxMjA0NzIgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIEVtb2ppVmFyaWFudE1vZGVsIGV4dGVuZHMgTW9kZWwge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJvdGVydGllcz86IE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3I8RW1vamlWYXJpYW50TW9kZWw+LFxyXG4gICAgb3B0aW9ucz86IE1vZGVsT3B0aW9uc1xyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydFByb3h5TW9kZWwoZXhwb3J0cywgJ0Vtb2ppVmFyaWFudE1vZGVsJyk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyNCBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgUGFydGljaXBhbnRDb2xsZWN0aW9uIH0gZnJvbSAnLi4nO1xyXG5pbXBvcnQgeyBleHBvcnRQcm94eU1vZGVsIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcbmltcG9ydCB7XHJcbiAgTW9kZWwsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTW9kZWxQcm94eSxcclxufSBmcm9tICcuL01vZGVsJztcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgaWQ6IFdpZDtcclxuICBjcmVhdGlvbj86IGFueTtcclxuICBvd25lcj86IGFueTtcclxuICBtZW1iZXJBZGRNb2RlPzogc3RyaW5nO1xyXG4gIHN1YmplY3Q/OiBzdHJpbmc7XHJcbiAgc3ViamVjdFRpbWU/OiBhbnk7XHJcbiAgZGVzYz86IHN0cmluZztcclxuICBkZXNjSWQ/OiBzdHJpbmc7XHJcbiAgZGVzY1RpbWU/OiBhbnk7XHJcbiAgZGVzY093bmVyPzogYW55O1xyXG4gIHJlc3RyaWN0PzogYW55O1xyXG4gIGFubm91bmNlPzogYW55O1xyXG4gIG5vRnJlcXVlbnRseUZvcndhcmRlZD86IGFueTtcclxuICBlcGhlbWVyYWxEdXJhdGlvbj86IGFueTtcclxuICBtZW1iZXJzaGlwQXBwcm92YWxNb2RlPzogYW55O1xyXG4gIGdyb3d0aExvY2tFeHBpcmF0aW9uPzogYW55O1xyXG4gIGdyb3d0aExvY2tUeXBlPzogYW55O1xyXG4gIHJlcG9ydFRvQWRtaW5Nb2RlPzogYW55O1xyXG4gIHNpemU/OiBhbnk7XHJcbiAgbnVtU3ViZ3JvdXBzPzogYW55O1xyXG4gIHN1cHBvcnQ/OiBhbnk7XHJcbiAgc3VzcGVuZGVkPzogYW55O1xyXG4gIHRlcm1pbmF0ZWQ/OiBhbnk7XHJcbiAgdW5pcXVlU2hvcnROYW1lTWFwPzogYW55O1xyXG4gIGlzTGlkQWRkcmVzc2luZ01vZGU6IGJvb2xlYW47XHJcbiAgaXNQYXJlbnRHcm91cDogYm9vbGVhbjtcclxuICBpc1BhcmVudEdyb3VwQ2xvc2VkOiBib29sZWFuO1xyXG4gIHBhcmVudEdyb3VwPzogYW55O1xyXG4gIGRlZmF1bHRTdWJncm91cD86IGFueTtcclxuICB1bmpvaW5lZFN1Ymdyb3Vwcz86IGFueTtcclxuICBqb2luZWRTdWJncm91cHM/OiBhbnk7XHJcbiAgYWxsb3dOb25BZG1pblN1Ykdyb3VwQ3JlYXRpb24/OiBhbnk7XHJcbiAgbGFzdEFjdGl2aXR5VGltZXN0YW1wPzogYW55O1xyXG4gIGxhc3RTZWVuQWN0aXZpdHlUaW1lc3RhbXA/OiBhbnk7XHJcbiAgbGFzdFJlcG9ydFRvQWRtaW5UaW1lc3RhbXA/OiBhbnk7XHJcbiAgaW5jb2duaXRvPzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7XHJcbiAgc3RhbGU/OiBhbnk7XHJcbiAgZGV2aWNlU3RhbGU/OiBhbnk7XHJcbiAgdHJ1c3RlZD86IGFueTtcclxuICBpbnZpdGVDb2RlPzogYW55O1xyXG4gIGdyb3VwSW52aXRlQ29kZVByb21pc2U/OiBhbnk7XHJcbiAgcmV2b2tlR3JvdXBJbnZpdGVQcm9taXNlPzogYW55O1xyXG4gIHBhcnRpY2lwYW50UXVlcnlQcm9taXNlPzogYW55O1xyXG4gIGRldmljZVF1ZXJ5UHJvbWlzZT86IGFueTtcclxuICB1bmpvaW5lZFN1Ymdyb3Vwc1F1ZXJ5UHJvbWlzZT86IGFueTtcclxuICBkaXNwbGF5ZWREZXNjPzogYW55O1xyXG4gIHJldm9rZUdyb3Vwc1Y0QWRkSW52aXRlUHJvbWlzZT86IGFueTtcclxuICBjYWNoZWREZXZpY2VDb3VudD86IGFueTtcclxuICBjYWNoZWREZXZpY2VTaXplQnVja2V0PzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRGVyaXZlZCB7XHJcbiAgZ3JvdXBJbnZpdGVMaW5rPzogYW55O1xyXG4gIGdyb3VwVHlwZT86IHN0cmluZztcclxuICBpc0luY29nbml0b0NhZz86IGJvb2xlYW47XHJcbiAgaXNVbm5hbWVkPzogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqIEB3aGF0c2FwcCAxNDQyM1xyXG4gKiBAd2hhdHNhcHAgNjE0NDIzID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgR3JvdXBNZXRhZGF0YU1vZGVsXHJcbiAgZXh0ZW5kcyBNb2RlbFByb3h5PFByb3BzLCBTZXNzaW9uLCBEZXJpdmVkPiB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCAxNDQyM1xyXG4gKiBAd2hhdHNhcHAgNjE0NDIzID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBHcm91cE1ldGFkYXRhTW9kZWwgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgaWRDbGFzczogdHlwZW9mIFdpZDtcclxuICBwYXJ0aWNpcGFudHM6IFBhcnRpY2lwYW50Q29sbGVjdGlvbjtcclxuICBwYXN0UGFydGljaXBhbnRzOiBQYXJ0aWNpcGFudENvbGxlY3Rpb247XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcm9wZXJ0aWVzPzogTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxHcm91cE1ldGFkYXRhTW9kZWw+LFxyXG4gICAgb3B0aW9ucz86IE1vZGVsT3B0aW9uc1xyXG4gICk7XHJcbiAgaGFzVW5pcXVlU2hvcnROYW1lTWVudGlvbihlPzogYW55KTogYm9vbGVhbjtcclxuICBjYW5TZXRTdWJqZWN0KCk6IGJvb2xlYW47XHJcbiAgY2FuU2V0RGVzY3JpcHRpb24oKTogYm9vbGVhbjtcclxuICBjYW5TZXRHcm91cFByb3BlcnR5KCk6IGJvb2xlYW47XHJcbiAgY2FuU2V0RXBoZW1lcmFsU2V0dGluZygpOiBib29sZWFuO1xyXG4gIG9uUGFydGljaXBhbnRTaG9ydE5hbWVVcGRhdGVkKCk6IGFueTtcclxuICB0cmlnZ2VyUGFydGljaXBhbnRzQ2hhbmdlKCk6IGFueTtcclxuICBpc1RydXN0ZWQoKTogYm9vbGVhbjtcclxuICByZXZva2VHcm91cFY0QWRkSW52aXRlKGU/OiBhbnkpOiBhbnk7XHJcbiAgcXVlcnlHcm91cFY0UGVuZGluZ0ludml0ZSgpOiBhbnk7XHJcbiAgZ2V0Q29sbGVjdGlvbigpOiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydFByb3h5TW9kZWwoZXhwb3J0cywgJ0dyb3VwTWV0YWRhdGFNb2RlbCcpO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIHdlYnBhY2sgZnJvbSAnLi4vLi4vd2VicGFjayc7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IGdldEhpc3RvcnlTeW5jUHJvZ3Jlc3MgfSBmcm9tICcuLi9mdW5jdGlvbnMnO1xyXG5pbXBvcnQge1xyXG4gIE1vZGVsLFxyXG4gIE1vZGVsT3B0aW9ucyxcclxuICBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLFxyXG4gIE1vZGVsUHJveHksXHJcbn0gZnJvbSAnLi9Nb2RlbCc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgaW5jb21wbGV0ZTogYm9vbGVhbjtcclxuICByZWFsUHJvZ3Jlc3M6IG51bWJlciB8IG51bGw7XHJcbiAgZmFrZVByb2dyZXNzOiBudW1iZXI7XHJcbiAgcmVtYWluaW5nUGF1c2VkU2Vjb25kcz86IG51bWJlcjtcclxuICBfZmFrZVBhdXNlZENvbXBsZXRpb25UaW1lb3V0OiBudW1iZXI7XHJcbiAgX3Byb2dyZXNzSW5jcmVtZW50VGltZW91dDogbnVtYmVyO1xyXG4gIF9sYXN0VXBkYXRlU2Vjb25kczogbnVtYmVyO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7fVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge31cclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNjQ5OTU5ID49IDIuMjI0NC41XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgSGlzdG9yeVN5bmNQcm9ncmVzc01vZGVsXHJcbiAgZXh0ZW5kcyBNb2RlbFByb3h5PFByb3BzLCBTZXNzaW9uLCBEZXJpdmVkPiB7fVxyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA2NDk5NTkgPj0gMi4yMjQ0LjVcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIEhpc3RvcnlTeW5jUHJvZ3Jlc3NNb2RlbCBleHRlbmRzIE1vZGVsIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPEhpc3RvcnlTeW5jUHJvZ3Jlc3NNb2RlbD4sXHJcbiAgICBvcHRpb25zPzogTW9kZWxPcHRpb25zXHJcbiAgKTtcclxuICBzZXRJblByb2dyZXNzKGluUHJvZ3Jlc3M6IGJvb2xlYW4pOiB2b2lkO1xyXG4gIHNldFBhdXNlZChwYXVzZWQ6IGJvb2xlYW4pOiB2b2lkO1xyXG4gIHNldEluY29tcGxldGUodmFsdWU6IGJvb2xlYW4pOiB2b2lkO1xyXG4gIHNldFByb2dyZXNzKHByb2dyZXNzOiBudW1iZXIpOiB2b2lkO1xyXG4gIHBhdXNlZEV4cGlyeUNoZWNrcG9pbnQoYT86IG51bWJlcik6IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIEhpc3RvcnlTeW5jUHJvZ3Jlc3NNb2RlbDogJ0hpc3RvcnlTeW5jUHJvZ3Jlc3NNb2RlbCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5IaXN0b3J5U3luY1Byb2dyZXNzTW9kZWxcclxuKTtcclxuXHJcbmNvbnN0IGZhbGxiYWNrID0ge307XHJcblxyXG4vLyBMYXp5IGxvYWRcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGZhbGxiYWNrLCAnSGlzdG9yeVN5bmNQcm9ncmVzc01vZGVsJywge1xyXG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gIGdldCgpIHtcclxuICAgIGNvbnN0IHN5bmMgPSBnZXRIaXN0b3J5U3luY1Byb2dyZXNzKCk7XHJcbiAgICByZXR1cm4gc3luYy5jb25zdHJ1Y3RvcjtcclxuICB9LFxyXG59KTtcclxuXHJcbndlYnBhY2suaW5qZWN0RmFsbGJhY2tNb2R1bGUoJ0hpc3RvcnlTeW5jUHJvZ3Jlc3NNb2RlbCcsIGZhbGxiYWNrKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRQcm94eU1vZGVsIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHtcclxuICBNb2RlbCxcclxuICBNb2RlbE9wdGlvbnMsXHJcbiAgTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcixcclxuICBNb2RlbFByb3h5LFxyXG59IGZyb20gJy4vTW9kZWwnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBpZD86IGFueTtcclxuICBwYXJlbnRUeXBlPzogYW55O1xyXG4gIHBhcmVudElkPzogYW55O1xyXG4gIGxhYmVsSWQ/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBzdGFsZT86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgMjQxMzdcclxuICogQHdoYXRzYXBwIDcyNDEzNyA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExhYmVsSXRlbU1vZGVsXHJcbiAgZXh0ZW5kcyBNb2RlbFByb3h5PFByb3BzLCBTZXNzaW9uLCBEZXJpdmVkPiB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCAyNDEzN1xyXG4gKiBAd2hhdHNhcHAgNzI0MTM3ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBMYWJlbEl0ZW1Nb2RlbCBleHRlbmRzIE1vZGVsIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPExhYmVsSXRlbU1vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG59XHJcblxyXG5leHBvcnRQcm94eU1vZGVsKGV4cG9ydHMsICdMYWJlbEl0ZW1Nb2RlbCcpO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydFByb3h5TW9kZWwgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQge1xyXG4gIE1vZGVsLFxyXG4gIE1vZGVsT3B0aW9ucyxcclxuICBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLFxyXG4gIE1vZGVsUHJveHksXHJcbn0gZnJvbSAnLi9Nb2RlbCc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGNvbG9ySW5kZXg/OiBudW1iZXI7XHJcbiAgY29sb3I/OiBudW1iZXI7XHJcbiAgY291bnQ/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBzdGFsZT86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge1xyXG4gIGhleENvbG9yOiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKiBAd2hhdHNhcHAgODgwM1xyXG4gKiBAd2hhdHNhcHAgMjA4ODAzID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTGFiZWxNb2RlbFxyXG4gIGV4dGVuZHMgTW9kZWxQcm94eTxQcm9wcywgU2Vzc2lvbiwgRGVyaXZlZD4ge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgODgwM1xyXG4gKiBAd2hhdHNhcHAgMjA4ODAzID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBMYWJlbE1vZGVsIGV4dGVuZHMgTW9kZWwge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJvdGVydGllcz86IE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3I8TGFiZWxNb2RlbD4sXHJcbiAgICBvcHRpb25zPzogTW9kZWxPcHRpb25zXHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0UHJveHlNb2RlbChleHBvcnRzLCAnTGFiZWxNb2RlbCcpO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IE9wYXF1ZURhdGEgfSBmcm9tICcuLic7XHJcbmltcG9ydCB7IGV4cG9ydFByb3h5TW9kZWwgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQge1xyXG4gIE1vZGVsLFxyXG4gIE1vZGVsT3B0aW9ucyxcclxuICBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLFxyXG4gIE1vZGVsUHJveHksXHJcbn0gZnJvbSAnLi9Nb2RlbCc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIHR5cGU/OiBhbnk7XHJcbiAgZGlyZWN0UGF0aD86IGFueTtcclxuICBtZWRpYUtleT86IGFueTtcclxuICBtZWRpYUtleVRpbWVzdGFtcD86IGFueTtcclxuICBlbmNGaWxlaGFzaD86IGFueTtcclxuICBtZWRpYVN0YWdlPzogYW55O1xyXG4gIHNpemU/OiBhbnk7XHJcbiAgZmlsZWhhc2g/OiBhbnk7XHJcbiAgbWltZXR5cGU/OiBhbnk7XHJcbiAgbWVkaWFCbG9iPzogT3BhcXVlRGF0YTtcclxuICByZW5kZXJhYmxlVXJsPzogYW55O1xyXG4gIGZ1bGxIZWlnaHQ/OiBhbnk7XHJcbiAgZnVsbFdpZHRoPzogYW55O1xyXG4gIGFzcGVjdFJhdGlvPzogYW55O1xyXG4gIHJnYmFCdWZmZXI/OiBhbnk7XHJcbiAgcmdiYUhlaWdodD86IGFueTtcclxuICByZ2JhV2lkdGg/OiBhbnk7XHJcbiAgYW5pbWF0aW9uRHVyYXRpb24/OiBhbnk7XHJcbiAgYW5pbWF0ZWRBc05ld01zZz86IGFueTtcclxuICBpc0FuaW1hdGVkOiBib29sZWFuO1xyXG4gIHNpbmdsZUxvb3BEdXJhdGlvbj86IGFueTtcclxuICBmaXJzdEZyYW1lTGVuZ3RoPzogYW55O1xyXG4gIGZpcnN0RnJhbWVTaWRlY2FyPzogYW55O1xyXG4gIGVtb2ppcz86IGFueTtcclxuICBwcm9ncmVzc2l2ZVN0YWdlPzogYW55O1xyXG4gIGlzVmlld09uY2U6IGJvb2xlYW47XHJcbiAgcHJldmlldz86IGFueTtcclxuICBzaWRlY2FyPzogYW55O1xyXG4gIGR1cmF0aW9uPzogYW55O1xyXG4gIGR1cmF0aW9uRmxvYXQ/OiBhbnk7XHJcbiAgaXNHaWY6IGJvb2xlYW47XHJcbiAgZ2lmQXR0cmlidXRpb24/OiBhbnk7XHJcbiAgZmlsZW5hbWU/OiBhbnk7XHJcbiAgcGFnZUNvdW50PzogYW55O1xyXG4gIGRvY3VtZW50UHJldmlldz86IGFueTtcclxuICBpc1ZjYXJkT3Zlck1tc0RvY3VtZW50OiBib29sZWFuO1xyXG4gIHBhcnNlZFZjYXJkcz86IGFueTtcclxuICBmdWxsUHJldmlld1NpemU/OiBhbnk7XHJcbiAgZnVsbFByZXZpZXdEYXRhPzogYW55O1xyXG4gIHN1YnR5cGU/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBzdGFsZT86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge1xyXG4gIHN0cmVhbWFibGU/OiBhbnk7XHJcbn1cclxuXHJcbi8qKiBAd2hhdHNhcHAgMjMyMFxyXG4gKiBAd2hhdHNhcHAgNTAyMzIwID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTWVkaWFEYXRhTW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDIzMjBcclxuICogQHdoYXRzYXBwIDUwMjMyMCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgTWVkaWFEYXRhTW9kZWwgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgc3RhdGljIFRZUEU/OiBhbnk7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcm90ZXJ0aWVzPzogTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxNZWRpYURhdGFNb2RlbD4sXHJcbiAgICBvcHRpb25zPzogTW9kZWxPcHRpb25zXHJcbiAgKTtcclxuICBpc1N0cmVhbWFibGUoKTogYm9vbGVhbjtcclxuICBsaXN0ZW5Ub1NlcnZpY2VXb3JrZXJTdXBwb3J0KCk6IGFueTtcclxuICBpc1N0cmVhbWFibGVUeXBlKCk6IGJvb2xlYW47XHJcbiAgaXNEb3dubG9hZGFibGUoKTogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0UHJveHlNb2RlbChleHBvcnRzLCAnTWVkaWFEYXRhTW9kZWwnKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTdHJpbmdhYmxlIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgeyBXcml0YWJsZVByb3BlcnRpZXMgfSBmcm9tICcuLi8uLi91dGlsJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnLi4vbWlzYyc7XHJcblxyXG5leHBvcnQgdHlwZSBNb2RlbFByb3h5PFAsIFMsIEQ+ID0gUCAmXHJcbiAgUyAmXHJcbiAgUmVhZG9ubHk8RD4gJiB7XHJcbiAgICByZWFkb25seSBhdHRyaWJ1dGVzOiBQICYgUztcclxuXHJcbiAgICByZWFkb25seSBpc1N0YXRlOiB0cnVlO1xyXG5cclxuICAgIHJlYWRvbmx5IG1pcnJvck1hc2s6IHtcclxuICAgICAgW2tleSBpbiBrZXlvZiAoUCAmIFMgJiBEKSBhcyBgY2hhbmdlOiR7c3RyaW5nICYga2V5fWBdOiBudW1iZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIHRvSlNPTigpOiBQO1xyXG5cclxuICAgIHNlcmlhbGl6ZSgpOiBQO1xyXG4gIH07XHJcblxyXG5leHBvcnQgdHlwZSBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPFxyXG4gIE1vZGVsLFxyXG4gIEsgZXh0ZW5kcyBrZXlvZiBNb2RlbCA9IGFueSxcclxuPiA9IFBhcnRpYWw8V3JpdGFibGVQcm9wZXJ0aWVzPE1vZGVsPj4gJlxyXG4gIFJlcXVpcmVkPFdyaXRhYmxlUHJvcGVydGllczxQaWNrPE1vZGVsLCBLPj4+O1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNb2RlbE9wdGlvbnMge1xyXG4gIF9pbnRlcm5hbEluaXRpYWxpemF0aW9uRG9Ob3RVc2U/OiBhbnk7XHJcbiAgY29sbGVjdGlvbj86IGFueTtcclxuICBtZXJnZT86IGFueTtcclxuICBwYXJlbnQ/OiBhbnk7XHJcbiAgc2lsZW50PzogYW55O1xyXG59XHJcblxyXG4vKiogQHdoYXRzYXBwIDExMjkwXHJcbiAqIEB3aGF0c2FwcCA0MTEyOTAgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIE1vZGVsPENvbGxlY3Rpb24gPSB1bmRlZmluZWQ+IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcclxuICBzdGF0aWMgUHJveHk6IHN0cmluZztcclxuXHJcbiAgc3RhdGljIGlkQ2xhc3M/OiBhbnk7XHJcblxyXG4gIHN0YXRpYyBhbGxvd2VkSWRzPzogYW55W107XHJcblxyXG4gIC8vIHN0YWxlOiBib29sZWFuO1xyXG5cclxuICBwYXJlbnQ/OiBhbnk7XHJcblxyXG4gIGNvbGxlY3Rpb24/OiBDb2xsZWN0aW9uO1xyXG5cclxuICBwcm94eU5hbWU6IHN0cmluZztcclxuXHJcbiAgY29uc3RydWN0b3IocHJvdGVydGllcz86IGFueSwgb3B0aW9ucz86IGFueSk7XHJcblxyXG4gIGluaXRpYWxpemUoKTogdm9pZDtcclxuXHJcbiAgaW5jT2JzZXJ2ZXJzKGU/OiBib29sZWFuKTogdm9pZDtcclxuXHJcbiAgZGVjT2JzZXJ2ZXJzKCk6IHZvaWQ7XHJcblxyXG4gIGhhc09ic2VydmVycygpOiBib29sZWFuO1xyXG5cclxuICBhZGRDaGlsZChpZDogU3RyaW5nYWJsZSwgY29udGV4dDogeyBba2V5OiBzdHJpbmddOiBhbnkgfSk6IHZvaWQ7XHJcblxyXG4gIGdldDxUIGV4dGVuZHMga2V5b2YgdGhpcz4oYXR0cjogVCk6IHRoaXNbVF07XHJcblxyXG4gIHNldCguLi5hcmdzOiBhbnkpOiBhbnk7XHJcblxyXG4gIGhhc1VuZmlyZWRDaGFuZ2VzKCk6IGJvb2xlYW47XHJcblxyXG4gIHVuc2V0KGlkczogU3RyaW5nYWJsZSB8IFN0cmluZ2FibGVbXSwgdD86IGFueSk6IHZvaWQ7XHJcblxyXG4gIGNsZWFyKCk6IHZvaWQ7XHJcblxyXG4gIGRlbGV0ZSgpOiB2b2lkO1xyXG5cclxuICByZXNldCgpOiB2b2lkO1xyXG5cclxuICBnZXREZWZhdWx0PFQgZXh0ZW5kcyBrZXlvZiB0aGlzPihhdHRyOiBUKTogYW55O1xyXG5cclxuICAvLyBnZXRDb2xsZWN0aW9uPygpOiBDb2xsZWN0aW9uO1xyXG5cclxuICBzdGF0aWMgaXNJZFR5cGUoZTogYW55KTogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgTW9kZWw6ICdCYXNlTW9kZWwnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZGVmaW5lTW9kZWxcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBDaGF0Q29sbGVjdGlvbiB9IGZyb20gJy4uL2NvbGxlY3Rpb25zJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgTXNnS2V5LCBNc2dMb2FkLCBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuaW1wb3J0IHsgTW9kZWwgfSBmcm9tICcuL01vZGVsJztcclxuaW1wb3J0IHsgTXNnTW9kZWwgfSBmcm9tICcuL01zZ01vZGVsJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUHJvcHNDaGF0QmFzZSB7XHJcbiAgaWQ6IFdpZDtcclxuICBwZW5kaW5nTXNnczogYm9vbGVhbjtcclxuICBsYWJlbHM/OiBzdHJpbmdbXTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTZXNzaW9uQ2hhdEJhc2Uge1xyXG4gIG1zZ0NodW5rczogTXNnTG9hZFtdO1xyXG4gIGxhc3RSZWNlaXZlZEtleT86IE1zZ0tleTtcclxuICB1bnJlYWRNc2dBbmNob3I6IGFueTtcclxuICBkaXNhYmxlVW5yZWFkQW5jaG9yOiBhbnk7XHJcbiAgbXNnc0xlbmd0aDogbnVtYmVyO1xyXG4gIG1zZ3NDaGFuZ2VkOiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKiBAd2hhdHNhcHAgNTg0OTJcclxuICogQHdoYXRzYXBwIDU1ODQ5MiA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgTW9kZWxDaGF0QmFzZSBleHRlbmRzIE1vZGVsPENoYXRDb2xsZWN0aW9uPiB7XHJcbiAgbXNnczogTXNnTG9hZDtcclxuICBvbkVtcHR5TVJNKCk6IHZvaWQ7XHJcbiAgcmVtb3ZlTXNnKG1zZzogTXNnTW9kZWwpOiB2b2lkO1xyXG4gIGdldEFsbENNQ3MoKTogTXNnTG9hZFtdO1xyXG4gIGdldEFsbE1zZ3MoKTogTXNnTW9kZWxbXTtcclxuICByZXBsYWNlTXNnc0NvbGxlY3Rpb24oY29sbGVjdG9uOiBNc2dMb2FkKTogdm9pZDtcclxuICByZW1vdmVNc2dzQ29sbGVjdGlvbihjb2xsZWN0b246IE1zZ0xvYWQpOiB2b2lkO1xyXG4gIG5vdGlmeU1zZ0NvbGxlY3Rpb25NZXJnZSguLi5hcmdzOiBhbnlbXSk6IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHsgTW9kZWxDaGF0QmFzZTogJ2RlZmF1bHQnIH0sXHJcbiAgKG0sIGlkKSA9PlxyXG4gICAgaWQgPT09ICdXQVdlYlN1cGVyQ2hhdE1zZ3MnIHx8XHJcbiAgICBtLmRlZmF1bHQudG9TdHJpbmcoKS5pbmNsdWRlcygnb25FbXB0eU1STSBub3QgaW1wbGVtZW50ZWQnKVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydFByb3h5TW9kZWwgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBNc2dLZXkgfSBmcm9tICcuLi9taXNjJztcclxuaW1wb3J0IHtcclxuICBNb2RlbCxcclxuICBNb2RlbE9wdGlvbnMsXHJcbiAgTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcixcclxuICBNb2RlbFByb3h5LFxyXG59IGZyb20gJy4vTW9kZWwnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBpZDogTXNnS2V5O1xyXG4gIHVuc3luY2VkQnV0dG9uUmVwbGllcz86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIFNlc3Npb24ge1xyXG4gIHN0YWxlPzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRGVyaXZlZCB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCA1Mjg0NlxyXG4gKiBAd2hhdHNhcHAgMjUyODQ2ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTXNnQnV0dG9uUmVwbHlNc2dNb2RlbFxyXG4gIGV4dGVuZHMgTW9kZWxQcm94eTxQcm9wcywgU2Vzc2lvbiwgRGVyaXZlZD4ge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgNTI4NDZcclxuICogQHdoYXRzYXBwIDI1Mjg0NiA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgTXNnQnV0dG9uUmVwbHlNc2dNb2RlbCBleHRlbmRzIE1vZGVsIHtcclxuICBpZENsYXNzOiB0eXBlb2YgTXNnS2V5O1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJvdGVydGllcz86IE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3I8TXNnQnV0dG9uUmVwbHlNc2dNb2RlbD4sXHJcbiAgICBvcHRpb25zPzogTW9kZWxPcHRpb25zXHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0UHJveHlNb2RlbChleHBvcnRzLCAnTXNnQnV0dG9uUmVwbHlNc2dNb2RlbCcpO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7XHJcbiAgTXNnSW5mb0NvbGxlY3Rpb24sXHJcbiAgTXNnSW5mb1BhcnRpY2lwYW50Q29sbGVjdGlvbixcclxufSBmcm9tICcuLi9jb2xsZWN0aW9ucyc7XHJcbmltcG9ydCB7IGV4cG9ydFByb3h5TW9kZWwgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBNc2dLZXkgfSBmcm9tICcuLi9taXNjJztcclxuaW1wb3J0IHtcclxuICBNb2RlbCxcclxuICBNb2RlbE9wdGlvbnMsXHJcbiAgTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcixcclxuICBNb2RlbFByb3h5LFxyXG59IGZyb20gJy4vTW9kZWwnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBpZDogTXNnS2V5O1xyXG4gIHVzZVBsYXlSZWNlaXB0PzogYW55O1xyXG4gIHBsYXllZFJlbWFpbmluZzogbnVtYmVyO1xyXG4gIHJlYWRSZW1haW5pbmc6IG51bWJlcjtcclxuICBkZWxpdmVyeVJlbWFpbmluZzogbnVtYmVyO1xyXG4gIGRlbGl2ZXJ5UHJpdmFjeU1vZGU/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBzdGFsZT86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge1xyXG4gIHNldHRsZWQ/OiBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNTQzMTFcclxuICogQHdoYXRzYXBwIDc1NDMxMSA+PSAyLjIyMjIuOFxyXG4gKiBAd2hhdHNhcHAgNzM4NDgyID49IDIuMjI0Mi42XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgTXNnSW5mb01vZGVsXHJcbiAgZXh0ZW5kcyBNb2RlbFByb3h5PFByb3BzLCBTZXNzaW9uLCBEZXJpdmVkPiB7fVxyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA1NDMxMVxyXG4gKiBAd2hhdHNhcHAgNzM4NDgyID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBNc2dJbmZvTW9kZWwgZXh0ZW5kcyBNb2RlbDxNc2dJbmZvQ29sbGVjdGlvbj4ge1xyXG4gIGlkQ2xhc3M6IHR5cGVvZiBNc2dLZXk7XHJcbiAgcGxheWVkOiBNc2dJbmZvUGFydGljaXBhbnRDb2xsZWN0aW9uO1xyXG4gIHJlYWQ6IE1zZ0luZm9QYXJ0aWNpcGFudENvbGxlY3Rpb247XHJcbiAgZGVsaXZlcnk6IE1zZ0luZm9QYXJ0aWNpcGFudENvbGxlY3Rpb247XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcm90ZXJ0aWVzPzogTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxNc2dJbmZvTW9kZWw+LFxyXG4gICAgb3B0aW9ucz86IE1vZGVsT3B0aW9uc1xyXG4gICk7XHJcbiAgZ2V0Q29sbGVjdGlvbigpOiBNc2dJbmZvQ29sbGVjdGlvbjtcclxufVxyXG5cclxuZXhwb3J0UHJveHlNb2RlbChleHBvcnRzLCAnTXNnSW5mb01vZGVsJyk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgTXNnSW5mb0NvbGxlY3Rpb24gfSBmcm9tICcuLi9jb2xsZWN0aW9ucyc7XHJcbmltcG9ydCB7IGV4cG9ydFByb3h5TW9kZWwgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuaW1wb3J0IHsgQ29udGFjdE1vZGVsIH0gZnJvbSAnLi9Db250YWN0TW9kZWwnO1xyXG5pbXBvcnQge1xyXG4gIE1vZGVsLFxyXG4gIE1vZGVsT3B0aW9ucyxcclxuICBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLFxyXG4gIE1vZGVsUHJveHksXHJcbn0gZnJvbSAnLi9Nb2RlbCc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGlkOiBXaWQ7XHJcbiAgdDogbnVtYmVyO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7XHJcbiAgY29udGFjdDogQ29udGFjdE1vZGVsO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRGVyaXZlZCB7fVxyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA3Mzg0ODIgPj0gMi4yMjQyLjZcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBNc2dJbmZvUGFydGljaXBhbnRNb2RlbFxyXG4gIGV4dGVuZHMgTW9kZWxQcm94eTxQcm9wcywgU2Vzc2lvbiwgRGVyaXZlZD4ge31cclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNzM4NDgyID49IDIuMjI0Mi42XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBNc2dJbmZvUGFydGljaXBhbnRNb2RlbCBleHRlbmRzIE1vZGVsPE1zZ0luZm9Db2xsZWN0aW9uPiB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcm90ZXJ0aWVzPzogTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxNc2dJbmZvUGFydGljaXBhbnRNb2RlbD4sXHJcbiAgICBvcHRpb25zPzogTW9kZWxPcHRpb25zXHJcbiAgKTtcclxuICBnZXRDb2xsZWN0aW9uKCk6IE1zZ0luZm9Db2xsZWN0aW9uO1xyXG59XHJcblxyXG5leHBvcnRQcm94eU1vZGVsKGV4cG9ydHMsICdNc2dJbmZvUGFydGljaXBhbnRNb2RlbCcpO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFRleHRGb250U3R5bGUgfSBmcm9tICcuLi8uLi9lbnVtcyc7XHJcbmltcG9ydCB7XHJcbiAgQnV0dG9uQ29sbGVjdGlvbixcclxuICBNc2dDb2xsZWN0aW9uLFxyXG4gIFRlbXBsYXRlQnV0dG9uQ29sbGVjdGlvbixcclxufSBmcm9tICcuLi9jb2xsZWN0aW9ucyc7XHJcbmltcG9ydCB7IEFDSyB9IGZyb20gJy4uL2VudW1zJztcclxuaW1wb3J0IHsgZXhwb3J0UHJveHlNb2RlbCB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IE1lZGlhT2JqZWN0LCBNc2dLZXksIFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5pbXBvcnQgeyBDaGF0TW9kZWwsIE1lZGlhRGF0YU1vZGVsIH0gZnJvbSAnLic7XHJcbmltcG9ydCB7XHJcbiAgTW9kZWwsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTW9kZWxQcm94eSxcclxufSBmcm9tICcuL01vZGVsJztcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgaWQ6IE1zZ0tleTtcclxuICByb3dJZD86IGFueTtcclxuICBzZXJ2ZXJJZD86IG51bWJlcjtcclxuICBib2R5Pzogc3RyaW5nO1xyXG4gIHR5cGU/OiBzdHJpbmc7XHJcbiAgc3VidHlwZT86IHN0cmluZyB8IG51bGw7XHJcbiAgdD86IG51bWJlcjtcclxuICBub3RpZnlOYW1lPzogYW55O1xyXG4gIGZyb20/OiBXaWQ7XHJcbiAgdG8/OiBXaWQ7XHJcbiAgYXV0aG9yPzogV2lkO1xyXG4gIHNlbGY/OiBzdHJpbmc7XHJcbiAgLyoqXHJcbiAgICogU2VlIHtAbGluayBDb25zdGFudHN9XHJcbiAgICovXHJcbiAgYWNrPzogQUNLO1xyXG4gIGludmlzPzogYW55O1xyXG4gIGlzTmV3TXNnOiBib29sZWFuO1xyXG4gIHN0YXI/OiBhbnk7XHJcbiAgcmVjdkZyZXNoPzogYW55O1xyXG4gIGNhcHRpb24/OiBzdHJpbmc7XHJcbiAgaW50ZXJhY3RpdmVBbm5vdGF0aW9ucz86IGFueTtcclxuICBjbGllbnRVcmw/OiBhbnk7XHJcbiAgbG9jPzogYW55O1xyXG4gIGxhdD86IG51bWJlcjtcclxuICBsbmc/OiBudW1iZXI7XHJcbiAgaXNMaXZlOiBib29sZWFuO1xyXG4gIGFjY3VyYWN5PzogbnVtYmVyO1xyXG4gIHNwZWVkPzogbnVtYmVyO1xyXG4gIGRlZ3JlZXM/OiBudW1iZXI7XHJcbiAgY29tbWVudD86IHN0cmluZztcclxuICBzZXF1ZW5jZT86IG51bWJlcjtcclxuICBzaGFyZUR1cmF0aW9uPzogbnVtYmVyO1xyXG4gIGZpbmFsTGF0PzogYW55O1xyXG4gIGZpbmFsTG5nPzogYW55O1xyXG4gIGZpbmFsQWNjdXJhY3k/OiBhbnk7XHJcbiAgZmluYWxUaHVtYm5haWw/OiBhbnk7XHJcbiAgZmluYWxTcGVlZD86IGFueTtcclxuICBmaW5hbERlZ3JlZXM/OiBhbnk7XHJcbiAgZmluYWxUaW1lT2Zmc2V0PzogYW55O1xyXG4gIGRlcHJlY2F0ZWRNbXMzVXJsPzogYW55O1xyXG4gIGRpcmVjdFBhdGg/OiBhbnk7XHJcbiAgbWltZXR5cGU/OiBhbnk7XHJcbiAgd2F2ZWZvcm0/OiBhbnk7XHJcbiAgZHVyYXRpb24/OiBudW1iZXI7XHJcbiAgZmlsZWhhc2g/OiBhbnk7XHJcbiAgZW5jRmlsZWhhc2g/OiBhbnk7XHJcbiAgc2l6ZT86IGFueTtcclxuICBmaWxlbmFtZT86IGFueTtcclxuICBzdHJlYW1pbmdTaWRlY2FyPzogYW55O1xyXG4gIG1lZGlhS2V5PzogYW55O1xyXG4gIG1lZGlhS2V5VGltZXN0YW1wPzogYW55O1xyXG4gIHBhZ2VDb3VudD86IGFueTtcclxuICBpc0dpZjogYm9vbGVhbjtcclxuICBnaWZBdHRyaWJ1dGlvbj86IGFueTtcclxuICBpc1ZpZXdPbmNlOiBib29sZWFuO1xyXG4gIHN0cmVhbWFibGU/OiBhbnk7XHJcbiAgd2lkdGg/OiBhbnk7XHJcbiAgaGVpZ2h0PzogYW55O1xyXG4gIHRodW1ibmFpbERpcmVjdFBhdGg/OiBhbnk7XHJcbiAgdGh1bWJuYWlsU2hhMjU2PzogYW55O1xyXG4gIHRodW1ibmFpbEVuY1NoYTI1Nj86IGFueTtcclxuICB0aHVtYm5haWxIZWlnaHQ/OiBhbnk7XHJcbiAgdGh1bWJuYWlsV2lkdGg/OiBhbnk7XHJcbiAgc2Nhbkxlbmd0aHM/OiBhbnk7XHJcbiAgc2NhbnNTaWRlY2FyPzogYW55O1xyXG4gIGlzRnJvbVRlbXBsYXRlOiBib29sZWFuO1xyXG4gIGRldmljZXNBZGRlZD86IGFueTtcclxuICBkZXZpY2VzUmVtb3ZlZD86IGFueTtcclxuICBpc1RoaXNEZXZpY2VBZGRlZDogYm9vbGVhbjtcclxuICBmaXJzdEZyYW1lTGVuZ3RoPzogYW55O1xyXG4gIGZpcnN0RnJhbWVTaWRlY2FyPzogYW55O1xyXG4gIGlzQW5pbWF0ZWQ6IGJvb2xlYW47XHJcbiAgY2Fub25pY2FsVXJsOiBib29sZWFuO1xyXG4gIG1hdGNoZWRUZXh0PzogYW55O1xyXG4gIHRodW1ibmFpbD86IGFueTtcclxuICB0aHVtYm5haWxIUT86IGFueTtcclxuICByaWNoUHJldmlld1R5cGU/OiBhbnk7XHJcbiAgZG9Ob3RQbGF5SW5saW5lPzogYW55O1xyXG4gIHRpdGxlPzogc3RyaW5nO1xyXG4gIGRlc2NyaXB0aW9uPzogYW55O1xyXG4gIGJ1c2luZXNzT3duZXJKaWQ/OiBhbnk7XHJcbiAgcHJvZHVjdElkPzogYW55O1xyXG4gIGN1cnJlbmN5Q29kZT86IGFueTtcclxuICBwcmljZUFtb3VudDEwMDA/OiBhbnk7XHJcbiAgc2FsZVByaWNlQW1vdW50MTAwMD86IGFueTtcclxuICByZXRhaWxlcklkPzogYW55O1xyXG4gIHVybD86IGFueTtcclxuICBwcm9kdWN0SW1hZ2VDb3VudD86IGFueTtcclxuICBzZXNzaW9uSWQ/OiBhbnk7XHJcbiAgcmVjaXBpZW50cz86IGFueTtcclxuICBicm9hZGNhc3Q/OiBhbnk7XHJcbiAgLyoqIEBkZXByZWNhdGVkICovXHJcbiAgcXVvdGVkTXNnSWQ/OiBNc2dLZXk7XHJcbiAgcXVvdGVkTXNnPzogTXNnTW9kZWw7XHJcbiAgcXVvdGVkU3RhbnphSUQ/OiBhbnk7XHJcbiAgcXVvdGVkUmVtb3RlSmlkPzogYW55O1xyXG4gIHF1b3RlZFBhcnRpY2lwYW50PzogYW55O1xyXG4gIHF1b3RlZEdyb3VwU3ViamVjdD86IGFueTtcclxuICBxdW90ZWRQYXJlbnRHcm91cEppZD86IGFueTtcclxuICBtZW50aW9uZWRKaWRMaXN0PzogV2lkW107XHJcbiAgZm9vdGVyPzogc3RyaW5nO1xyXG4gIGh5ZHJhdGVkQnV0dG9ucz86IEFycmF5PHtcclxuICAgIGluZGV4PzogbnVtYmVyO1xyXG4gICAgcXVpY2tSZXBseUJ1dHRvbj86IHtcclxuICAgICAgZGlzcGxheVRleHQ6IHN0cmluZztcclxuICAgICAgaWQ6IHN0cmluZztcclxuICAgIH07XHJcbiAgICB1cmxCdXR0b24/OiB7XHJcbiAgICAgIGRpc3BsYXlUZXh0OiBzdHJpbmc7XHJcbiAgICAgIHVybDogc3RyaW5nO1xyXG4gICAgfTtcclxuICAgIGNhbGxCdXR0b24/OiB7XHJcbiAgICAgIGRpc3BsYXlUZXh0OiBzdHJpbmc7XHJcbiAgICAgIHBob25lTnVtYmVyOiBzdHJpbmc7XHJcbiAgICB9O1xyXG4gIH0+O1xyXG4gIGJ1dHRvbnM/OiBUZW1wbGF0ZUJ1dHRvbkNvbGxlY3Rpb247XHJcbiAgc2VsZWN0ZWRJZD86IGFueTtcclxuICBzZWxlY3RlZEluZGV4PzogYW55O1xyXG4gIG11bHRpY2FzdD86IGFueTtcclxuICB1cmxUZXh0Pzogc3RyaW5nIHwgbnVsbDtcclxuICB1cmxOdW1iZXI/OiBzdHJpbmcgfCBudWxsO1xyXG4gIGNsZWFyTWVkaWE/OiBhbnk7XHJcbiAgaXNWY2FyZE92ZXJNbXNEb2N1bWVudDogYm9vbGVhbjtcclxuICB2Y2FyZExpc3Q/OiBhbnk7XHJcbiAgdmNhcmRGb3JtYXR0ZWROYW1lPzogYW55O1xyXG4gIHByb3RvY29sTWVzc2FnZUtleT86IGFueTtcclxuICB0ZW1wbGF0ZVBhcmFtcz86IGFueTtcclxuICB0ZXh0Q29sb3I/OiBudW1iZXI7XHJcbiAgYmFja2dyb3VuZENvbG9yPzogbnVtYmVyO1xyXG4gIGZvbnQ/OiBUZXh0Rm9udFN0eWxlO1xyXG4gIGlzRm9yd2FyZGVkOiBib29sZWFuO1xyXG4gIGZvcndhcmRpbmdTY29yZT86IGFueTtcclxuICBsYWJlbHM/OiBhbnk7XHJcbiAgcGF5bWVudEN1cnJlbmN5PzogYW55O1xyXG4gIHBheW1lbnRBbW91bnQxMDAwPzogYW55O1xyXG4gIHBheW1lbnRNZXNzYWdlUmVjZWl2ZXJKaWQ/OiBhbnk7XHJcbiAgcGF5bWVudFRyYW5zYWN0aW9uVGltZXN0YW1wPzogYW55O1xyXG4gIHBheW1lbnRTdGF0dXM/OiBhbnk7XHJcbiAgcGF5bWVudFR4blN0YXR1cz86IGFueTtcclxuICBwYXltZW50Tm90ZU1zZz86IGFueTtcclxuICBwYXltZW50UmVxdWVzdE1lc3NhZ2VLZXk/OiBhbnk7XHJcbiAgcGF5bWVudEV4cGlyeVRpbWVzdGFtcD86IGFueTtcclxuICBlcGhlbWVyYWxTdGFydFRpbWVzdGFtcD86IGFueTtcclxuICBlcGhlbWVyYWxEdXJhdGlvbj86IG51bWJlcjtcclxuICBlcGhlbWVyYWxTZXR0aW5nVGltZXN0YW1wPzogbnVtYmVyO1xyXG4gIGVwaGVtZXJhbE91dE9mU3luYz86IGFueTtcclxuICBlcGhlbWVyYWxTaGFyZWRTZWNyZXQ/OiBhbnk7XHJcbiAgZGlzYXBwZWFyaW5nTW9kZUluaXRpYXRvcj86IGFueTtcclxuICBiaXpQcml2YWN5U3RhdHVzPzogYW55O1xyXG4gIHByaXZhY3lNb2RlV2hlblNlbnQ/OiBhbnk7XHJcbiAgdmVyaWZpZWRCaXpOYW1lPzogYW55O1xyXG4gIGludml0ZUNvZGU/OiBhbnk7XHJcbiAgaW52aXRlQ29kZUV4cD86IGFueTtcclxuICBpbnZpdGVHcnA/OiBhbnk7XHJcbiAgaW52aXRlR3JwTmFtZT86IGFueTtcclxuICBpbnZpdGVHcnBKcGVnVGh1bT86IGFueTtcclxuICBzZWxsZXJKaWQ/OiBhbnk7XHJcbiAgbWVzc2FnZT86IGFueTtcclxuICBvcmRlclRpdGxlPzogYW55O1xyXG4gIGl0ZW1Db3VudD86IGFueTtcclxuICBvcmRlcklkPzogYW55O1xyXG4gIHN1cmZhY2U/OiBhbnk7XHJcbiAgc3RhdHVzPzogYW55O1xyXG4gIHRva2VuPzogYW55O1xyXG4gIHRvdGFsQW1vdW50MTAwMD86IGFueTtcclxuICB0b3RhbEN1cnJlbmN5Q29kZT86IGFueTtcclxuICBoaXN0b3J5U3luY01ldGFEYXRhPzogYW55O1xyXG4gIG1kRG93bmdyYWRlPzogYW55O1xyXG4gIGlzQ2FwdGlvbkJ5VXNlcjogYm9vbGVhbjtcclxuICBpc1NlbmRGYWlsdXJlOiBib29sZWFuO1xyXG4gIGFwcFN0YXRlU3luY0tleVNoYXJlPzogYW55O1xyXG4gIGFwcFN0YXRlU3luY0tleVJlcXVlc3Q/OiBhbnk7XHJcbiAgYXBwU3RhdGVGYXRhbEV4Y2VwdGlvbk5vdGlmaWNhdGlvbj86IGFueTtcclxuICBicm9hZGNhc3RQYXJ0aWNpcGFudHM/OiBhbnk7XHJcbiAgYnJvYWRjYXN0RXBoU2V0dGluZ3M/OiBhbnk7XHJcbiAgYnJvYWRjYXN0SWQ/OiBhbnk7XHJcbiAgY3R3YUNvbnRleHQ/OiBhbnk7XHJcbiAgbGlzdD86IHtcclxuICAgIGJ1dHRvblRleHQ6IHN0cmluZztcclxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgICBmb290ZXJUZXh0Pzogc3RyaW5nO1xyXG4gICAgdGl0bGU/OiBzdHJpbmc7XHJcbiAgICBzZWN0aW9uczogQXJyYXk8e1xyXG4gICAgICB0aXRsZTogc3RyaW5nO1xyXG4gICAgICByb3dzOiBBcnJheTx7XHJcbiAgICAgICAgdGl0bGU6IHN0cmluZztcclxuICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gICAgICAgIHJvd0lkOiBzdHJpbmc7XHJcbiAgICAgIH0+O1xyXG4gICAgfT47XHJcbiAgICBsaXN0VHlwZTogbnVtYmVyO1xyXG4gIH07XHJcbiAgbGlzdFJlc3BvbnNlPzogYW55O1xyXG4gIHByb2R1Y3RMaXN0SXRlbUNvdW50PzogYW55O1xyXG4gIHByb2R1Y3RIZWFkZXJJbWFnZVJlamVjdGVkPzogYW55O1xyXG4gIGlzRHluYW1pY1JlcGx5QnV0dG9uc01zZzogYm9vbGVhbjtcclxuICBkeW5hbWljUmVwbHlCdXR0b25zPzogQXJyYXk8e1xyXG4gICAgYnV0dG9uSWQ6IHN0cmluZztcclxuICAgIGJ1dHRvblRleHQ6IHtcclxuICAgICAgZGlzcGxheVRleHQ6IHN0cmluZztcclxuICAgIH07XHJcbiAgICB0eXBlOiBudW1iZXI7XHJcbiAgfT47XHJcbiAgcmVwbHlCdXR0b25zPzogQnV0dG9uQ29sbGVjdGlvbjtcclxuICBidXR0b25zUmVzcG9uc2U/OiBhbnk7XHJcbiAgc2VsZWN0ZWRCdXR0b25JZD86IHN0cmluZztcclxuICBpbnRlcmFjdGl2ZU1lc3NhZ2U/OiBhbnk7XHJcbiAgaXNNZEhpc3RvcnlNc2c6IGJvb2xlYW47XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBzdGFsZT86IGFueTtcclxuICBzZW5kRGVmZXJyZWQ/OiBhbnk7XHJcbiAgbG9jYWw/OiB0cnVlO1xyXG4gIHNlYXJjaD86IGFueTtcclxuICBtc2dDaHVuaz86IGFueTtcclxuICBwaG9uZVVwbG9hZGluZz86IGFueTtcclxuICBzdGFydE9mRGF5PzogYW55O1xyXG4gIHN0YXJ0T2ZEYXlTa2V3PzogYW55O1xyXG4gIGlzUXVvdGVkTXNnQXZhaWxhYmxlOiBib29sZWFuO1xyXG4gIHNlbmRlck9iaj86IGFueTtcclxuICBtZWRpYURhdGE/OiBNZWRpYURhdGFNb2RlbDtcclxuICBmb3J3YXJkZWRGcm9tV2ViPzogYW55O1xyXG4gIGxpbmtzSW5kZXhQYXJzZWQ/OiBhbnk7XHJcbiAgcXVvdGVkTXNnS2V5PzogTXNnS2V5O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRGVyaXZlZCB7XHJcbiAgLyoqXHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKi9cclxuICBjaGF0PzogQ2hhdE1vZGVsO1xyXG4gIGhhc1RlbXBsYXRlQnV0dG9uczogYm9vbGVhbjtcclxuICBlcGhlbWVyYWxFeHBpcmF0aW9uVGltZXN0YW1wPzogYW55O1xyXG4gIGlzRXBoZW1lcmFsOiBib29sZWFuO1xyXG4gIGlzUXVpY2tSZXBseTogYm9vbGVhbjtcclxuICBpc0Z1dHVyZXByb29mOiBib29sZWFuO1xyXG4gIC8qKlxyXG4gICAqIEBkZXByZWNhdGVkXHJcbiAgICovXHJcbiAgaXNHcm91cE1zZzogYm9vbGVhbjtcclxuICBpc1N0YXR1c1YzOiBib29sZWFuO1xyXG4gIGlzUFNBOiBib29sZWFuO1xyXG4gIGlzUlRMOiBib29sZWFuO1xyXG4gIGFzUHJvZHVjdElucXVpcnk/OiBhbnk7XHJcbiAgc3RhdHVzVjNUZXh0Qmc/OiBhbnk7XHJcbiAgaXNTZW50QnlNZTogYm9vbGVhbjtcclxuICBpc1NlbnRCeU1lRnJvbVdlYjogYm9vbGVhbjtcclxuICBpc0ludGVybmF0aW9uYWw6IGJvb2xlYW47XHJcbiAgaXNOb3RpZmljYXRpb246IGJvb2xlYW47XHJcbiAgYXNHcm91cE5vdGlmaWNhdGlvbj86IGFueTtcclxuICBhc0Jyb2FkY2FzdE5vdGlmaWNhdGlvbj86IGFueTtcclxuICBpc0Jpek5vdGlmaWNhdGlvbjogYm9vbGVhbjtcclxuICBhc1Byb2R1Y3Q/OiBhbnk7XHJcbiAgYXNBbGJ1bUFzc2V0PzogYW55O1xyXG4gIGFzR3JvdXBlZFN0aWNrZXI/OiBhbnk7XHJcbiAgaXNNZWRpYTogYm9vbGVhbjtcclxuICBhc0RvYz86IGFueTtcclxuICBhc0ltYWdlPzogYW55O1xyXG4gIGFzVmlkZW8/OiBhbnk7XHJcbiAgYXNNbXM/OiBhbnk7XHJcbiAgYXNQb2xsQ3JlYXRpb24/OiBhbnk7XHJcbiAgYXNQb2xsVXBkYXRlPzogYW55O1xyXG4gIGFzVXJsPzogYW55O1xyXG4gIGFzUmV2b2tlZD86IGFueTtcclxuICBhc1ZpZXdPbmNlPzogYW55O1xyXG4gIGFzVmlzdWFsTWVkaWE/OiBhbnk7XHJcbiAgbnVtVGltZXNGb3J3YXJkZWQ/OiBhbnk7XHJcbiAgaXNGcmVxdWVudGx5Rm9yd2FyZGVkOiBib29sZWFuO1xyXG4gIGV2ZW50VHlwZT86IGFueTtcclxuICBzZW5kZXI/OiBXaWQ7XHJcbiAgdGV4dD86IGFueTtcclxuICBjb250YWluc0Vtb2ppPzogYW55O1xyXG4gIGlzRmFpbGVkOiBib29sZWFuO1xyXG4gIHZjYXJkPzogYW55O1xyXG4gIGlzVW5zZW50TWVkaWE6IGJvb2xlYW47XHJcbiAgZGlyPzogYW55O1xyXG4gIHJ0bD86IGFueTtcclxuICBsaW5rUHJldmlldz86IHtcclxuICAgIHRpdGxlPzogc3RyaW5nO1xyXG4gICAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XHJcbiAgICBjYW5vbmljYWxVcmw/OiBzdHJpbmc7XHJcbiAgICBtYXRjaGVkVGV4dDogc3RyaW5nO1xyXG4gICAgcmljaFByZXZpZXdUeXBlOiBudW1iZXI7XHJcbiAgICB0aHVtYm5haWw/OiBzdHJpbmc7XHJcbiAgICBkb05vdFBsYXlJbmxpbmU6IGJvb2xlYW47XHJcbiAgfTtcclxuICBpc0dyb3Vwc1Y0SW52aXRlRXhwaXJlZDogYm9vbGVhbjtcclxuICBpc1BlcnNpc3RlbnQ6IGJvb2xlYW47XHJcbiAgaXNSZXZva2VkQnlNZTogYm9vbGVhbjtcclxuICBpc1VucmVhZFR5cGU6IGJvb2xlYW47XHJcbiAgaXNVc2VyQ3JlYXRlZFR5cGU6IGJvb2xlYW47XHJcbiAgc3VwcG9ydHNNZXNzYWdlRm9vdGVyPzogYW55O1xyXG4gIHN1cHBvcnRzTWVzc2FnZUZvb3RlckxpbmtzPzogYW55O1xyXG4gIGhhc0JvZHlPckZvb3RlcjogYm9vbGVhbjtcclxuICBpbml0aWFsUGFnZVNpemU/OiBhbnk7XHJcbiAgcHJvZHVjdExpc3RIZWFkZXJJbWFnZT86IGFueTtcclxuICBwb2xsSW52YWxpZGF0ZWQ/OiBib29sZWFuO1xyXG4gIHBvbGxOYW1lPzogc3RyaW5nO1xyXG4gIHBvbGxPcHRpb25zPzogYW55O1xyXG4gIHBvbGxTZWxlY3RhYmxlT3B0aW9uc0NvdW50PzogbnVtYmVyO1xyXG4gIHBvbGxVcGRhdGVQYXJlbnRLZXk/OiBhbnk7XHJcbiAgbmF0aXZlRmxvd05hbWU/OiBzdHJpbmc7XHJcbiAgaW50ZXJhY3RpdmVQYXlsb2FkPzogYW55O1xyXG59XHJcblxyXG4vKiogQHdoYXRzYXBwIDE3MzA0ICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBNc2dNb2RlbCBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDE3MzA0ICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIE1zZ01vZGVsIGV4dGVuZHMgTW9kZWwge1xyXG4gIGlkQ2xhc3M6IHR5cGVvZiBNc2dLZXk7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcm90ZXJ0aWVzOiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPE1zZ01vZGVsLCAnaWQnPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG4gIG1lZGlhT2JqZWN0PzogTWVkaWFPYmplY3Q7XHJcbiAgZ2V0TGlua3MoZT86IG51bWJlcik6IGFueTtcclxuICBnZXRIZWFkZXJMaW5rcygpOiBhbnk7XHJcbiAgZ2V0Rm9vdGVyTGlua3MoKTogYW55O1xyXG4gIGdldEdhbGxlcnlMaW5rcygpOiBhbnk7XHJcbiAgZ2V0U3VzcGljaW91c0xpbmtzKCk6IGFueTtcclxuICBoYXNTeW1ib2woKTogYm9vbGVhbjtcclxuICBtYXlGYWlsKCk6IGFueTtcclxuICBpc1Vuc2VudFBob25lTXNnKCk6IGJvb2xlYW47XHJcbiAgY2FuUmVwbHk/KCk6IGJvb2xlYW47XHJcbiAgY2FuUHJpdmF0ZVJlcGx5KCk6IGJvb2xlYW47XHJcbiAgY2FuUHJpdmF0ZVJlcGx5SW5SZXN0cmljdGVkR3JwKCk6IGJvb2xlYW47XHJcbiAgY2FuRm9yd2FyZCgpOiBib29sZWFuO1xyXG4gIGNhblF1aWNrRm9yd2FyZCgpOiBib29sZWFuO1xyXG4gIGNhblN0YXIoKTogYm9vbGVhbjtcclxuICBpbnRlcmFjdGl2ZUJ1dHRvbnNSZWxlYXNlZCgpOiBhbnk7XHJcbiAgaXNHcm91cExlYXZlKCk6IGJvb2xlYW47XHJcbiAgaXNUcnVzdGVkKCk6IGJvb2xlYW47XHJcbiAgZ2V0VmNhcmRXaWRzKCk6IGFueTtcclxuICBnZXRMb2NPYmplY3QoKTogYW55O1xyXG4gIHJlc3VtZVJlbW90ZVVwbG9hZCgpOiBhbnk7XHJcbiAgZm9yY2VSTVIoKTogYW55O1xyXG4gIGlzRm9yY2luZ1JNUigpOiBib29sZWFuO1xyXG4gIGNhbmNlbERvd25sb2FkKCk6IGJvb2xlYW47XHJcbiAgcmVzdW1lVXBsb2FkKCk6IGFueTtcclxuICBjYW5jZWxVcGxvYWQoKTogYm9vbGVhbjtcclxuICB3YWl0Rm9yUGhvbmVVcGxvYWQoKTogYW55O1xyXG4gIGRvd25sb2FkTWVkaWEoZT86IGFueSk6IGFueTtcclxuICBhcHBseVVwZGF0ZShlPzogYW55KTogYW55O1xyXG4gIHdhaXRGb3JQcmVwKCk6IGFueTtcclxuICAvKipcclxuICAgKiBAZGVwcmVjYXRlZFxyXG4gICAqIEB3aGF0c2FwcCA8IDIuMjI0NS44XHJcbiAgICovXHJcbiAgcXVvdGVkTXNnT2JqPygpOiBhbnk7XHJcbiAgZ2V0UXVvdGVkTXNnQWRtaW5Hcm91cEppZCgpOiBhbnk7XHJcbiAgbXNnQ29udGV4dEluZm8oY2hhdElkOiBXaWQpOiBhbnk7XHJcbiAgZGlzcGxheU5hbWUoZT86IGFueSwgdD86IGFueSk6IGFueTtcclxuICBpc1F1b3RlZChlPzogYW55KTogYm9vbGVhbjtcclxuICBpc01lbnRpb25lZChlPzogYW55KTogYm9vbGVhbjtcclxuICBtZW50aW9uTWFwKCk6IGFueTtcclxuICB1cGRhdGVBY2soZT86IGFueSwgdD86IGFueSk6IGFueTtcclxuICBhdlBhcmFtcygpOiBhbnk7XHJcbiAgcmVzZW5kKCk6IGFueTtcclxuICBvbkNpcGhlcnRleHREZWNyeXB0ZWQoKTogYW55O1xyXG4gIG9uVmlld09uY2VNZWRpYVN0YXR1c0NoYW5nZWQoKTogYW55O1xyXG4gIGNhblJldm9rZSgpOiBib29sZWFuO1xyXG4gIGdldFdhbU1lc3NhZ2VUeXBlKCk6IGFueTtcclxuICBnZXRXYW1NZWRpYVR5cGUoKTogYW55O1xyXG4gIGdldEZvcndhcmRpbmdTY29yZVdoZW5Gb3J3YXJkZWQoKTogYW55O1xyXG4gIHVwZGF0ZUVwaGVtZXJhbFN0YXJ0VGltZXN0YW1wKGU/OiBhbnkpOiBhbnk7XHJcbiAgaXNFeHBpcmVkKCk6IGJvb2xlYW47XHJcbiAgZ2V0Q29sbGVjdGlvbigpOiBNc2dDb2xsZWN0aW9uO1xyXG4gIGlzRG93bmxvYWRhYmxlKCk6IGJvb2xlYW47XHJcbiAgc2FmZSgpOiBhbnk7XHJcbiAgdW5zYWZlKCk6IGFueTtcclxufVxyXG5cclxuZXhwb3J0UHJveHlNb2RlbChleHBvcnRzLCAnTXNnTW9kZWwnKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBNdXRlQ29sbGVjdGlvbiB9IGZyb20gJy4uL2NvbGxlY3Rpb25zJztcclxuaW1wb3J0IHsgZXhwb3J0UHJveHlNb2RlbCB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5pbXBvcnQge1xyXG4gIE1vZGVsLFxyXG4gIE1vZGVsT3B0aW9ucyxcclxuICBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLFxyXG4gIE1vZGVsUHJveHksXHJcbn0gZnJvbSAnLi9Nb2RlbCc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGlkOiBXaWQ7XHJcbiAgZXhwaXJhdGlvbjogbnVtYmVyO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7XHJcbiAgc3RhbGU/OiBhbnk7XHJcbiAgcHJvbWlzZXM/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHtcclxuICBpc011dGVkOiBib29sZWFuO1xyXG59XHJcblxyXG4vKiogQHdoYXRzYXBwIDQwMjE0XHJcbiAqIEB3aGF0c2FwcCA0NDAyMTQgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBNdXRlTW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDQwMjE0XHJcbiAqIEB3aGF0c2FwcCA0NDAyMTQgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIE11dGVNb2RlbCBleHRlbmRzIE1vZGVsPE11dGVDb2xsZWN0aW9uPiB7XHJcbiAgaWRDbGFzczogdHlwZW9mIFdpZDtcclxuICBhbGxvd2VkSWRzPzogYW55O1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJvdGVydGllcz86IE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3I8TXV0ZU1vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG4gIHNldE11dGUoXHJcbiAgICBleHBpcmF0aW9uPzogbnVtYmVyLFxyXG4gICAgaXNBdXRvTXV0ZWQ/OiBib29sZWFuLFxyXG4gICAgc2VuZERldmljZT86IGJvb2xlYW5cclxuICApOiBhbnk7XHJcbiAgbXV0ZShhcmdzOiB7XHJcbiAgICBleHBpcmF0aW9uOiBudW1iZXI7XHJcbiAgICBzZW5kRGV2aWNlPzogYm9vbGVhbjtcclxuICAgIGlzQXV0b011dGVkPzogYm9vbGVhbjtcclxuICB9KTogUHJvbWlzZTxudW1iZXI+O1xyXG4gIGNhbk11dGUoKTogYm9vbGVhbjtcclxuICB1bm11dGUoYXJnczogeyBzZW5kRGV2aWNlPzogYm9vbGVhbiB9KTogUHJvbWlzZTx2b2lkPjtcclxuICBnZXRDb2xsZWN0aW9uKCk6IE11dGVDb2xsZWN0aW9uO1xyXG59XHJcblxyXG5leHBvcnRQcm94eU1vZGVsKGV4cG9ydHMsICdNdXRlTW9kZWwnKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBNdXRlQ29sbGVjdGlvbiB9IGZyb20gJy4uL2NvbGxlY3Rpb25zJztcclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHtcclxuICBNb2RlbCxcclxuICBNb2RlbE9wdGlvbnMsXHJcbiAgTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcixcclxuICBNb2RlbFByb3h5LFxyXG59IGZyb20gJy4vTW9kZWwnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHt9XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7XHJcbiAgb25saW5lOiBib29sZWFuO1xyXG4gIHNpbXVsYXRlZE9mZmxpbmVDb25kaXRpb25zOiBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRGVyaXZlZCB7fVxyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA5OTM5OCA+PSAyLjIzMTguMTFcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBOZXR3b3JrU3RhdHVzTW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDk5Mzk4ID49IDIuMjMxOC4xMVxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgTmV0d29ya1N0YXR1c01vZGVsIGV4dGVuZHMgTW9kZWw8TXV0ZUNvbGxlY3Rpb24+IHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPE5ldHdvcmtTdGF0dXNNb2RlbD4sXHJcbiAgICBvcHRpb25zPzogTW9kZWxPcHRpb25zXHJcbiAgKTtcclxuICB3YWl0SWZPZmZsaW5lKG9wdGlvbnM6IHsgc2lnbmFsOiBBYm9ydFNpZ25hbCB9KTogUHJvbWlzZTx2b2lkPjtcclxuICBjaGVja09ubGluZShvcHRpb25zOiB7IHNpZ25hbDogQWJvcnRTaWduYWwgfSk6IFByb21pc2U8dm9pZD47XHJcbn1cclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIE5ldHdvcmtTdGF0dXNNb2RlbDogJ2RlZmF1bHQuY29uc3RydWN0b3InLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZGVmYXVsdC5jaGVja09ubGluZVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjQgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IE5vdGVDb2xsZWN0aW9uIH0gZnJvbSAnLi4vY29sbGVjdGlvbnMnO1xyXG5pbXBvcnQgeyBleHBvcnRQcm94eU1vZGVsIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHtcclxuICBNb2RlbCxcclxuICBNb2RlbE9wdGlvbnMsXHJcbiAgTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcixcclxuICBNb2RlbFByb3h5LFxyXG59IGZyb20gJy4vTW9kZWwnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBpZD86IGFueTtcclxuICB0eXBlPzogc3RyaW5nO1xyXG4gIGNoYXRKaWQ6IHN0cmluZztcclxuICBjb250ZW50OiBzdHJpbmc7XHJcbiAgY3JlYXRlZEF0PzogbnVtYmVyO1xyXG4gIG1vZGlmaWVkQXQ/OiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBzdGFsZT86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge31cclxuXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBOb3RlTW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDg2NzYxXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBOb3RlTW9kZWwgZXh0ZW5kcyBNb2RlbDxOb3RlQ29sbGVjdGlvbj4ge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJvdGVydGllcz86IE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3I8Tm90ZU1vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG4gIHRyaWdnZXJJdGVtQ29sbGVjdGlvblVwZGF0ZSgpOiBhbnk7XHJcbiAgZ2V0Q29sbGVjdGlvbigpOiBOb3RlQ29sbGVjdGlvbjtcclxufVxyXG5cclxuZXhwb3J0UHJveHlNb2RlbChleHBvcnRzLCAnTm90ZU1vZGVsJyk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgT3JkZXJDb2xsZWN0aW9uIH0gZnJvbSAnLi4vY29sbGVjdGlvbnMnO1xyXG5pbXBvcnQgeyBleHBvcnRQcm94eU1vZGVsIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHtcclxuICBNb2RlbCxcclxuICBNb2RlbE9wdGlvbnMsXHJcbiAgTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcixcclxuICBNb2RlbFByb3h5LFxyXG59IGZyb20gJy4vTW9kZWwnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBpZD86IGFueTtcclxuICBwcmljZT86IGFueTtcclxuICBjdXJyZW5jeT86IGFueTtcclxuICBuYW1lPzogc3RyaW5nO1xyXG4gIHF1YW50aXR5PzogYW55O1xyXG4gIHRodW1ibmFpbElkPzogYW55O1xyXG4gIHRodW1ibmFpbFVybD86IGFueTtcclxuICBpc0N1c3RvbUl0ZW0/OiBib29sZWFuO1xyXG4gIGlzUXVhbnRpdHlTZXQ/OiBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7XHJcbiAgc3RhbGU/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHtcclxuICBtZWRpYURhdGE/OiBhbnk7XHJcbn1cclxuXHJcbi8qKiBAd2hhdHNhcHAgNTI4MjJcclxuICogQHdoYXRzYXBwIDg1MjgyMiA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIE9yZGVySXRlbU1vZGVsXHJcbiAgZXh0ZW5kcyBNb2RlbFByb3h5PFByb3BzLCBTZXNzaW9uLCBEZXJpdmVkPiB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCA1MjgyMlxyXG4gKiBAd2hhdHNhcHAgODUyODIyID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBPcmRlckl0ZW1Nb2RlbCBleHRlbmRzIE1vZGVsPE9yZGVyQ29sbGVjdGlvbj4ge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJvdGVydGllcz86IE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3I8T3JkZXJJdGVtTW9kZWw+LFxyXG4gICAgb3B0aW9ucz86IE1vZGVsT3B0aW9uc1xyXG4gICk7XHJcbiAgZ2V0Q29sbGVjdGlvbigpOiBPcmRlckNvbGxlY3Rpb247XHJcbn1cclxuXHJcbmV4cG9ydFByb3h5TW9kZWwoZXhwb3J0cywgJ09yZGVySXRlbU1vZGVsJyk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgT3JkZXJDb2xsZWN0aW9uIH0gZnJvbSAnLi4vY29sbGVjdGlvbnMnO1xyXG5pbXBvcnQgeyBleHBvcnRQcm94eU1vZGVsIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHtcclxuICBNb2RlbCxcclxuICBNb2RlbE9wdGlvbnMsXHJcbiAgTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcixcclxuICBNb2RlbFByb3h5LFxyXG59IGZyb20gJy4vTW9kZWwnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBpZD86IGFueTtcclxuICBwcm9kdWN0cz86IGFueTtcclxuICBpdGVtQ291bnQ/OiBhbnk7XHJcbiAgc3VidG90YWw/OiBhbnk7XHJcbiAgdGF4PzogYW55O1xyXG4gIHRvdGFsPzogYW55O1xyXG4gIGN1cnJlbmN5PzogYW55O1xyXG4gIGNyZWF0ZWRBdD86IGFueTtcclxuICBzZWxsZXJKaWQ/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBzdGFsZT86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge1xyXG4gIHRvdGFsSXRlbUNvdW50PzogYW55O1xyXG59XHJcblxyXG4vKiogQHdoYXRzYXBwIDg2NzYxXHJcbiAqIEB3aGF0c2FwcCAyODY3NjEgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBPcmRlck1vZGVsXHJcbiAgZXh0ZW5kcyBNb2RlbFByb3h5PFByb3BzLCBTZXNzaW9uLCBEZXJpdmVkPiB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCA4Njc2MVxyXG4gKiBAd2hhdHNhcHAgMjg2NzYxID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBPcmRlck1vZGVsIGV4dGVuZHMgTW9kZWw8T3JkZXJDb2xsZWN0aW9uPiB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcm90ZXJ0aWVzPzogTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxPcmRlck1vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG4gIHRyaWdnZXJJdGVtQ29sbGVjdGlvblVwZGF0ZSgpOiBhbnk7XHJcbiAgZ2V0Q29sbGVjdGlvbigpOiBPcmRlckNvbGxlY3Rpb247XHJcbn1cclxuXHJcbmV4cG9ydFByb3h5TW9kZWwoZXhwb3J0cywgJ09yZGVyTW9kZWwnKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRQcm94eU1vZGVsIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHsgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcbmltcG9ydCB7XHJcbiAgTW9kZWwsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTW9kZWxQcm94eSxcclxufSBmcm9tICcuL01vZGVsJztcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgaWQ6IFdpZDtcclxuICBpc0FkbWluOiBib29sZWFuO1xyXG4gIGlzU3VwZXJBZG1pbjogYm9vbGVhbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFNlc3Npb24ge1xyXG4gIHN0YWxlPzogYW55O1xyXG4gIGNvbnRhY3Q/OiBhbnk7XHJcbiAgaGFzU2VuZGVyS2V5OiBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRGVyaXZlZCB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCA0NTA3N1xyXG4gKiBAd2hhdHNhcHAgMjQ1MDc3ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUGFydGljaXBhbnRNb2RlbFxyXG4gIGV4dGVuZHMgTW9kZWxQcm94eTxQcm9wcywgU2Vzc2lvbiwgRGVyaXZlZD4ge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgNDUwNzdcclxuICogQHdoYXRzYXBwIDI0NTA3NyA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgUGFydGljaXBhbnRNb2RlbCBleHRlbmRzIE1vZGVsIHtcclxuICBpZENsYXNzOiB0eXBlb2YgV2lkO1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJvdGVydGllcz86IE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3I8UGFydGljaXBhbnRNb2RlbD4sXHJcbiAgICBvcHRpb25zPzogTW9kZWxPcHRpb25zXHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0UHJveHlNb2RlbChleHBvcnRzLCAnUGFydGljaXBhbnRNb2RlbCcpO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENoYXRzdGF0ZUNvbGxlY3Rpb24gfSBmcm9tICcuLi9jb2xsZWN0aW9ucyc7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5pbXBvcnQgeyBDaGF0c3RhdGVNb2RlbCB9IGZyb20gJy4vQ2hhdHN0YXRlTW9kZWwnO1xyXG5pbXBvcnQge1xyXG4gIE1vZGVsLFxyXG4gIE1vZGVsT3B0aW9ucyxcclxuICBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLFxyXG4gIE1vZGVsUHJveHksXHJcbn0gZnJvbSAnLi9Nb2RlbCc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGlkOiBXaWQ7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBpc09ubGluZTogYm9vbGVhbjtcclxuICBoYXNEYXRhOiBib29sZWFuO1xyXG4gIGlzU3Vic2NyaWJlZDogYm9vbGVhbjtcclxuICB3aXRoaG9sZERpc3BsYXlTdGFnZT86IGFueTtcclxuICBmb3JjZURpc3BsYXk6IGJvb2xlYW47XHJcbiAgY2hhdEFjdGl2ZTogYm9vbGVhbjtcclxuICB3aXRoaG9sZERpc3BsYXlUaW1lcj86IGFueTtcclxuICBmb3JjZURpc3BsYXlUaW1lcj86IGFueTtcclxuICBjaGF0c3RhdGU/OiBDaGF0c3RhdGVNb2RlbDtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge1xyXG4gIGlzR3JvdXA6IGJvb2xlYW47XHJcbiAgaXNVc2VyOiBib29sZWFuO1xyXG59XHJcblxyXG4vKiogQHdoYXRzYXBwIDMwMDAwXHJcbiAqIEB3aGF0c2FwcCAzMzAwMDAgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBQcmVzZW5jZU1vZGVsXHJcbiAgZXh0ZW5kcyBNb2RlbFByb3h5PFByb3BzLCBTZXNzaW9uLCBEZXJpdmVkPiB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCAzMDAwMFxyXG4gKiBAd2hhdHNhcHAgMzMwMDAwID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBQcmVzZW5jZU1vZGVsIGV4dGVuZHMgTW9kZWwge1xyXG4gIGlkQ2xhc3M6IHR5cGVvZiBXaWQ7XHJcbiAgYWxsb3dlZElkcz86IGFueTtcclxuICBjaGF0c3RhdGVzOiBDaGF0c3RhdGVDb2xsZWN0aW9uO1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJvdGVydGllcz86IE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3I8UHJlc2VuY2VNb2RlbD4sXHJcbiAgICBvcHRpb25zPzogTW9kZWxPcHRpb25zXHJcbiAgKTtcclxuICBnZXRDb2xsZWN0aW9uKCk6IGFueTtcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgUHJlc2VuY2VNb2RlbDogJ1ByZXNlbmNlJyxcclxuICB9LFxyXG4gIChtKSA9PiAobS5QcmVzZW5jZSAmJiBtLkNoYXRzdGF0ZUNvbGxlY3Rpb24pIHx8IChtLlByZXNlbmNlICYmIG0uQ2hhdHN0YXRlKVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydFByb3h5TW9kZWwgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQge1xyXG4gIE1vZGVsLFxyXG4gIE1vZGVsT3B0aW9ucyxcclxuICBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLFxyXG4gIE1vZGVsUHJveHksXHJcbn0gZnJvbSAnLi9Nb2RlbCc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGlkPzogYW55O1xyXG4gIG5hbWU/OiBzdHJpbmc7XHJcbiAgaXNIaWRkZW46IGJvb2xlYW47XHJcbiAgcmV2aWV3U3RhdHVzPzogYW55O1xyXG4gIGNvbW1lcmNlVXJsPzogYW55O1xyXG4gIHJlamVjdFJlYXNvbj86IGFueTtcclxuICB0b3RhbEl0ZW1zQ291bnQ/OiBhbnk7XHJcbiAgYWZ0ZXJDdXJzb3I/OiBhbnk7XHJcbiAgY2FuQXBwZWFsPzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7XHJcbiAgc3RhbGU/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDk0NjI5XHJcbiAqIEB3aGF0c2FwcCAzOTQ2MjkgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBQcm9kdWN0Q29sbE1vZGVsXHJcbiAgZXh0ZW5kcyBNb2RlbFByb3h5PFByb3BzLCBTZXNzaW9uLCBEZXJpdmVkPiB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCA5NDYyOVxyXG4gKiBAd2hhdHNhcHAgMzk0NjI5ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBQcm9kdWN0Q29sbE1vZGVsIGV4dGVuZHMgTW9kZWwge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJvdGVydGllcz86IE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3I8UHJvZHVjdENvbGxNb2RlbD4sXHJcbiAgICBvcHRpb25zPzogTW9kZWxPcHRpb25zXHJcbiAgKTtcclxuICBhZGRQcm9kdWN0cyhlPzogYW55KTogYW55O1xyXG59XHJcblxyXG5leHBvcnRQcm94eU1vZGVsKGV4cG9ydHMsICdQcm9kdWN0Q29sbE1vZGVsJyk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0UHJveHlNb2RlbCB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7XHJcbiAgTW9kZWwsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTW9kZWxQcm94eSxcclxufSBmcm9tICcuL01vZGVsJztcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgaWQ/OiBhbnk7XHJcbiAgdHlwZT86IGFueTtcclxuICBtZWRpYVVybD86IGFueTtcclxuICBmZXRjaGVkRnJvbVNlcnZlcj86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIFNlc3Npb24ge1xyXG4gIHN0YWxlPzogYW55O1xyXG4gIGJsb2JVcmw/OiBhbnk7XHJcbiAgbWVkaWFEYXRhPzogYW55O1xyXG4gIG9sZD86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgNTE5NTRcclxuICogQHdoYXRzYXBwIDk1MTk1NCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFByb2R1Y3RJbWFnZU1vZGVsXHJcbiAgZXh0ZW5kcyBNb2RlbFByb3h5PFByb3BzLCBTZXNzaW9uLCBEZXJpdmVkPiB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCA1MTk1NFxyXG4gKiBAd2hhdHNhcHAgOTUxOTU0ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBQcm9kdWN0SW1hZ2VNb2RlbCBleHRlbmRzIE1vZGVsIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPFByb2R1Y3RJbWFnZU1vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG4gIHRyaWdnZXJJbWFnZVVwZGF0ZSgpOiBhbnk7XHJcbiAgbWFya09sZCgpOiBhbnk7XHJcbiAgZXZpY3RGcm9tQ2FjaGUoKTogYW55O1xyXG59XHJcblxyXG5leHBvcnRQcm94eU1vZGVsKGV4cG9ydHMsICdQcm9kdWN0SW1hZ2VNb2RlbCcpO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IE1zZ0tleSB9IGZyb20gJy4uL21pc2MnO1xyXG5pbXBvcnQge1xyXG4gIE1vZGVsLFxyXG4gIE1vZGVsT3B0aW9ucyxcclxuICBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLFxyXG4gIE1vZGVsUHJveHksXHJcbn0gZnJvbSAnLi9Nb2RlbCc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGlkOiBNc2dLZXk7XHJcbiAgY2F0YWxvZ0lkPzogYW55O1xyXG4gIHRpdGxlPzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7XHJcbiAgc3RhbGU/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDg5Mjk1XHJcbiAqIEB3aGF0c2FwcCA5ODkyOTUgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBQcm9kdWN0TWVzc2FnZUxpc3RNb2RlbFxyXG4gIGV4dGVuZHMgTW9kZWxQcm94eTxQcm9wcywgU2Vzc2lvbiwgRGVyaXZlZD4ge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgODkyOTVcclxuICogQHdoYXRzYXBwIDk4OTI5NSA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgUHJvZHVjdE1lc3NhZ2VMaXN0TW9kZWwgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgaWRDbGFzczogdHlwZW9mIE1zZ0tleTtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPFByb2R1Y3RNZXNzYWdlTGlzdE1vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG4gIHRyaWdnZXJQcm9kdWN0UmVtb3ZlZChlPzogYW55KTogYW55O1xyXG4gIHRyaWdnZXJQcm9kdWN0VXBkYXRlKCk6IGFueTtcclxuICBnZXROZXh0UHJvZHVjdEJhdGNoVG9Mb2FkKCk6IGFueTtcclxuICBnZXRQYWdlU2l6ZSgpOiBhbnk7XHJcbiAgZ2V0UHJvZHVjdFNpemUoKTogYW55O1xyXG4gIHNldFByb2R1Y3RMb2FkaW5nU3RhdHVzKGU/OiBhbnksIHQ/OiBhbnkpOiBhbnk7XHJcbiAgZ2V0UHJvZHVjdExvYWRpbmdTdGF0dXMoZT86IGFueSk6IGFueTtcclxuICBnZXRUb3RhbFByb2R1Y3RzRmV0Y2hlZE9yRmFpbGVkKCk6IGFueTtcclxuICBnZXRQcm9kdWN0TGlzdCgpOiBhbnk7XHJcbiAgZ2V0U2VjdGlvbnMoKTogYW55O1xyXG4gIGdldFNlY3Rpb25zQ291bnQoKTogYW55O1xyXG4gIGlzRmV0Y2hpbmcoKTogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgUHJvZHVjdE1lc3NhZ2VMaXN0TW9kZWw6ICdQcm9kdWN0TWVzc2FnZUxpc3QnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uUHJvZHVjdE1lc3NhZ2VMaXN0XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0UHJveHlNb2RlbCB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7XHJcbiAgTW9kZWwsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTW9kZWxQcm94eSxcclxufSBmcm9tICcuL01vZGVsJztcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgaWQ/OiBhbnk7XHJcbiAgaXNIaWRkZW4/OiBib29sZWFuO1xyXG4gIGNhdGFsb2dXaWQ/OiBhbnk7XHJcbiAgdXJsPzogYW55O1xyXG4gIG5hbWU/OiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb24/OiBhbnk7XHJcbiAgYXZhaWxhYmlsaXR5PzogYW55O1xyXG4gIHJldmlld1N0YXR1cz86IGFueTtcclxuICBjYW5BcHBlYWw6IGJvb2xlYW47XHJcbiAgY3VycmVuY3k/OiBhbnk7XHJcbiAgcHJpY2VBbW91bnQxMDAwPzogYW55O1xyXG4gIHNhbGVQcmljZUFtb3VudDEwMDA/OiBhbnk7XHJcbiAgc2FsZVByaWNlU3RhcnREYXRlPzogYW55O1xyXG4gIHNhbGVQcmljZUVuZERhdGU/OiBhbnk7XHJcbiAgcmV0YWlsZXJJZD86IGFueTtcclxuICBpbWFnZUNvdW50PzogYW55O1xyXG4gIGluZGV4PzogYW55O1xyXG4gIGFkZGl0aW9uYWxJbWFnZUNkblVybD86IGFueTtcclxuICBhZGRpdGlvbmFsSW1hZ2VIYXNoZXM/OiBhbnk7XHJcbiAgaW1hZ2VDZG5Vcmw/OiBhbnk7XHJcbiAgaW1hZ2VIYXNoPzogYW55O1xyXG4gIHQ/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBzdGFsZT86IGFueTtcclxuICBvbGQ/OiBhbnk7XHJcbiAgY2hlY2ttYXJrPzogYW55O1xyXG4gIHByb2R1Y3RJbWFnZUNvbGxlY3Rpb24/OiBhbnk7XHJcbiAgcHJvZHVjdE1zZ01lZGlhRGF0YT86IGFueTtcclxuICBmZXRjaGVkRnJvbVNlcnZlcj86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgOTQ2OFxyXG4gKiBAd2hhdHNhcHAgNTA5NDY4ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUHJvZHVjdE1vZGVsXHJcbiAgZXh0ZW5kcyBNb2RlbFByb3h5PFByb3BzLCBTZXNzaW9uLCBEZXJpdmVkPiB7XHJcbiAgaW1hZ2U6IHN0cmluZyB8IHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqIEB3aGF0c2FwcCA5NDY4XHJcbiAqIEB3aGF0c2FwcCA1MDk0NjggPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIFByb2R1Y3RNb2RlbCBleHRlbmRzIE1vZGVsIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPFByb2R1Y3RNb2RlbD4sXHJcbiAgICBvcHRpb25zPzogTW9kZWxPcHRpb25zXHJcbiAgKTtcclxuICB0cmlnZ2VySW1hZ2VVcGRhdGUoKTogYW55O1xyXG4gIG1hcmtPbGQoKTogYW55O1xyXG4gIG1hcmtQcm9kdWN0SW1hZ2VzT2xkKCk6IGFueTtcclxuICBnZXRIZWFkSW1hZ2VGaWxlKCk6IGFueTtcclxuICBldmljdEltYWdlc0Zyb21DYWNoZSgpOiBhbnk7XHJcbiAgZ2V0UHJldmlld0ltYWdlKCk6IGFueTtcclxufVxyXG5cclxuZXhwb3J0UHJveHlNb2RlbChleHBvcnRzLCAnUHJvZHVjdE1vZGVsJyk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgUHJvZmlsZVBpY1RodW1iQ29sbGVjdGlvbiB9IGZyb20gJy4uL2NvbGxlY3Rpb25zJztcclxuaW1wb3J0IHsgZXhwb3J0UHJveHlNb2RlbCB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5pbXBvcnQge1xyXG4gIE1vZGVsLFxyXG4gIE1vZGVsT3B0aW9ucyxcclxuICBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLFxyXG4gIE1vZGVsUHJveHksXHJcbn0gZnJvbSAnLi9Nb2RlbCc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGlkOiBXaWQ7XHJcbiAgdG9rZW4/OiBhbnk7XHJcbiAgdGFnPzogYW55O1xyXG4gIHJhdz86IGFueTtcclxuICBldXJsPzogYW55O1xyXG4gIHByZXZpZXdFdXJsPzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7XHJcbiAgc3RhbGU/OiBhbnk7XHJcbiAgZXVybFN0YWxlPzogYW55O1xyXG4gIHBlbmRpbmdQaWM/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHtcclxuICBpbWc/OiBzdHJpbmcgfCBudWxsO1xyXG4gIGltZ0Z1bGw/OiBzdHJpbmcgfCBudWxsO1xyXG4gIGZhbGxiYWNrVHlwZT86ICdTSU5HTEUnIHwgJ0dST1VQJztcclxufVxyXG5cclxuLyoqIEB3aGF0c2FwcCA5MzgzNlxyXG4gKiBAd2hhdHNhcHAgNzkzODM2ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUHJvZmlsZVBpY1RodW1iTW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDkzODM2XHJcbiAqIEB3aGF0c2FwcCA3OTM4MzYgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIFByb2ZpbGVQaWNUaHVtYk1vZGVsIGV4dGVuZHMgTW9kZWw8UHJvZmlsZVBpY1RodW1iQ29sbGVjdGlvbj4ge1xyXG4gIGlkQ2xhc3M6IHR5cGVvZiBXaWQ7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcm90ZXJ0aWVzPzogTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxQcm9maWxlUGljVGh1bWJNb2RlbD4sXHJcbiAgICBvcHRpb25zPzogTW9kZWxPcHRpb25zXHJcbiAgKTtcclxuICBtYXJrU3RhbGUoZT86IGFueSk6IGFueTtcclxuICB2YWxpZGF0ZSgpOiBhbnk7XHJcbiAgZ2VuZXJhdGVVcmwoZT86IGFueSk6IGFueTtcclxuICBjYW5TZXQoKTogYm9vbGVhbjtcclxuICBjYW5EZWxldGUoKTogYm9vbGVhbjtcclxuICBnZXRDb2xsZWN0aW9uKCk6IFByb2ZpbGVQaWNUaHVtYkNvbGxlY3Rpb247XHJcbn1cclxuXHJcbmV4cG9ydFByb3h5TW9kZWwoZXhwb3J0cywgJ1Byb2ZpbGVQaWNUaHVtYk1vZGVsJyk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgUXVpY2tSZXBseUNvbGxlY3Rpb24gfSBmcm9tICcuLi9jb2xsZWN0aW9ucyc7XHJcbmltcG9ydCB7IGV4cG9ydFByb3h5TW9kZWwgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQge1xyXG4gIE1vZGVsLFxyXG4gIE1vZGVsT3B0aW9ucyxcclxuICBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLFxyXG4gIE1vZGVsUHJveHksXHJcbn0gZnJvbSAnLi9Nb2RlbCc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGlkPzogYW55O1xyXG4gIHNob3J0Y3V0PzogYW55O1xyXG4gIG1lc3NhZ2U/OiBhbnk7XHJcbiAgY291bnQ/OiBhbnk7XHJcbiAga2V5d29yZHM/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBzdGFsZT86IGFueTtcclxuICBwZW5kaW5nQ291bnQ/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHtcclxuICB0b3RhbENvdW50PzogYW55O1xyXG59XHJcblxyXG4vKiogQHdoYXRzYXBwIDQ3MTY5XHJcbiAqIEB3aGF0c2FwcCA5NDcxNjkgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBRdWlja1JlcGx5TW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDQ3MTY5XHJcbiAqIEB3aGF0c2FwcCA5NDcxNjkgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIFF1aWNrUmVwbHlNb2RlbCBleHRlbmRzIE1vZGVsPFF1aWNrUmVwbHlDb2xsZWN0aW9uPiB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcm90ZXJ0aWVzPzogTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxRdWlja1JlcGx5TW9kZWw+LFxyXG4gICAgb3B0aW9ucz86IE1vZGVsT3B0aW9uc1xyXG4gICk7XHJcbiAgdXNlT25jZSgpOiBhbnk7XHJcbiAgZ2V0Q29sbGVjdGlvbigpOiBRdWlja1JlcGx5Q29sbGVjdGlvbjtcclxufVxyXG5cclxuZXhwb3J0UHJveHlNb2RlbChleHBvcnRzLCAnUXVpY2tSZXBseU1vZGVsJyk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQWdnUmVhY3Rpb25zQ29sbGVjdGlvbiwgUmVhY3Rpb25zQ29sbGVjdGlvbiB9IGZyb20gJy4uL2NvbGxlY3Rpb25zJztcclxuaW1wb3J0IHsgZXhwb3J0UHJveHlNb2RlbCB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IE1zZ0tleSwgV2lkIH0gZnJvbSAnLi4vbWlzYyc7XHJcbmltcG9ydCB7XHJcbiAgTW9kZWwsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTW9kZWxQcm94eSxcclxufSBmcm9tICcuL01vZGVsJztcclxuaW1wb3J0IHsgUmVhY3Rpb25zU2VuZGVyc01vZGVsIH0gZnJvbSAnLi9SZWFjdGlvbnNTZW5kZXJzTW9kZWwnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBpZDogV2lkO1xyXG4gIHJlYWN0aW9uQnlNZT86IFJlYWN0aW9uc1NlbmRlcnNNb2RlbDtcclxufVxyXG5cclxuaW50ZXJmYWNlIFNlc3Npb24ge31cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDgwNjY2XHJcbiAqIEB3aGF0c2FwcCA4MTEzMCA+PSAyLjIyMjAuOFxyXG4gKiBAd2hhdHNhcHAgOTgxMTMwID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUmVhY3Rpb25zTW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDgwNjY2XHJcbiAqIEB3aGF0c2FwcCA4MTEzMCA+PSAyLjIyMjAuOFxyXG4gKiBAd2hhdHNhcHAgOTgxMTMwID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBSZWFjdGlvbnNNb2RlbCBleHRlbmRzIE1vZGVsIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPFJlYWN0aW9uc01vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG4gIHJlYWN0aW9uczogQWdnUmVhY3Rpb25zQ29sbGVjdGlvbjtcclxuICB1bnJlYWRTZW5kZXJzKCk6IHtcclxuICAgIG1zZ0tleTogc3RyaW5nO1xyXG4gICAgcGFyZW50TXNnS2V5OiBNc2dLZXk7XHJcbiAgICByZWFjdGlvblRleHQ6IHN0cmluZztcclxuICAgIHNlbmRlclVzZXJKaWQ6IHN0cmluZztcclxuICB9W107XHJcbiAgZ2V0Q29sbGVjdGlvbigpOiBSZWFjdGlvbnNDb2xsZWN0aW9uO1xyXG59XHJcblxyXG5leHBvcnRQcm94eU1vZGVsKGV4cG9ydHMsICdSZWFjdGlvbnNNb2RlbCcpO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydFByb3h5TW9kZWwgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQge1xyXG4gIE1vZGVsLFxyXG4gIE1vZGVsT3B0aW9ucyxcclxuICBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLFxyXG4gIE1vZGVsUHJveHksXHJcbn0gZnJvbSAnLi9Nb2RlbCc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGlkPzogYW55O1xyXG4gIG1zZ0tleT86IHN0cmluZztcclxuICBwYXJlbnRNc2dLZXk/OiBzdHJpbmc7XHJcbiAgcmVhY3Rpb25UZXh0Pzogc3RyaW5nO1xyXG4gIHRpbWVzdGFtcD86IG51bWJlcjtcclxuICBzZW5kZXJVc2VySmlkPzogc3RyaW5nO1xyXG4gIHJlYWQ/OiBib29sZWFuO1xyXG4gIG9ycGhhbj86IG51bWJlcjtcclxuICBhY2s/OiBudW1iZXI7XHJcbiAgaXNTZW5kRmFpbHVyZT86IGJvb2xlYW47XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBzZW5kZXJPYmo/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHtcclxuICBpc0ZhaWxlZDogYm9vbGVhbjtcclxuICBwYXJlbnRNc2c/OiBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgODExMzBcclxuICogQHdoYXRzYXBwIDk4MTEzMCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFJlYWN0aW9uc1NlbmRlcnNNb2RlbFxyXG4gIGV4dGVuZHMgTW9kZWxQcm94eTxQcm9wcywgU2Vzc2lvbiwgRGVyaXZlZD4ge31cclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgODExMzBcclxuICogQHdoYXRzYXBwIDk4MTEzMCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgUmVhY3Rpb25zU2VuZGVyc01vZGVsIGV4dGVuZHMgTW9kZWwge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJvdGVydGllcz86IE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3I8UmVhY3Rpb25zU2VuZGVyc01vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG59XHJcblxyXG5leHBvcnRQcm94eU1vZGVsKGV4cG9ydHMsICdSZWFjdGlvbnNTZW5kZXJzTW9kZWwnKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRQcm94eU1vZGVsIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHtcclxuICBNb2RlbCxcclxuICBNb2RlbE9wdGlvbnMsXHJcbiAgTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcixcclxuICBNb2RlbFByb3h5LFxyXG59IGZyb20gJy4vTW9kZWwnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBpZD86IGFueTtcclxuICB3ZWlnaHQ/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBzdGFsZT86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgOTM4OTQgKi9cclxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFJlY2VudEVtb2ppTW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDkzODk0ICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIFJlY2VudEVtb2ppTW9kZWwgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcm90ZXJ0aWVzPzogTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxSZWNlbnRFbW9qaU1vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG59XHJcblxyXG5leHBvcnRQcm94eU1vZGVsKGV4cG9ydHMsICdSZWNlbnRFbW9qaU1vZGVsJyk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0UHJveHlNb2RlbCB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7XHJcbiAgTW9kZWwsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTW9kZWxQcm94eSxcclxufSBmcm9tICcuL01vZGVsJztcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgaWQ/OiBhbnk7XHJcbiAgc3RpY2tlcj86IGFueTtcclxuICB0aW1lc3RhbXA/OiBhbnk7XHJcbiAgbXNnSWQ/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBzdGFsZT86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgMjAyMzhcclxuICogQHdoYXRzYXBwIDYyMDIzOCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFJlY2VudFN0aWNrZXJNb2RlbFxyXG4gIGV4dGVuZHMgTW9kZWxQcm94eTxQcm9wcywgU2Vzc2lvbiwgRGVyaXZlZD4ge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgMjAyMzhcclxuICogQHdoYXRzYXBwIDYyMDIzOCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgUmVjZW50U3RpY2tlck1vZGVsIGV4dGVuZHMgTW9kZWwge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJvdGVydGllcz86IE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3I8UmVjZW50U3RpY2tlck1vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG59XHJcblxyXG5leHBvcnRQcm94eU1vZGVsKGV4cG9ydHMsICdSZWNlbnRTdGlja2VyTW9kZWwnKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRQcm94eU1vZGVsIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHtcclxuICBNb2RlbCxcclxuICBNb2RlbE9wdGlvbnMsXHJcbiAgTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcixcclxuICBNb2RlbFByb3h5LFxyXG59IGZyb20gJy4vTW9kZWwnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBpZD86IHN0cmluZztcclxuICBkaXNwbGF5VGV4dD86IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFNlc3Npb24ge1xyXG4gIHN0YWxlPzogYW55O1xyXG4gIHNlbGVjdGVkPzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRGVyaXZlZCB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCAxNTg3MVxyXG4gKiBAd2hhdHNhcHAgMzE1ODcxID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUmVwbHlCdXR0b25Nb2RlbFxyXG4gIGV4dGVuZHMgTW9kZWxQcm94eTxQcm9wcywgU2Vzc2lvbiwgRGVyaXZlZD4ge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgMTU4NzFcclxuICogQHdoYXRzYXBwIDMxNTg3MSA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgUmVwbHlCdXR0b25Nb2RlbCBleHRlbmRzIE1vZGVsIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPFJlcGx5QnV0dG9uTW9kZWw+LFxyXG4gICAgb3B0aW9ucz86IE1vZGVsT3B0aW9uc1xyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydFByb3h5TW9kZWwoZXhwb3J0cywgJ1JlcGx5QnV0dG9uTW9kZWwnKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQge1xyXG4gIE1vZGVsLFxyXG4gIE1vZGVsT3B0aW9ucyxcclxuICBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLFxyXG4gIE1vZGVsUHJveHksXHJcbn0gZnJvbSAnLi9Nb2RlbCc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIHN0YXR1c1ZpZGVvTWF4RHVyYXRpb246IG51bWJlcjtcclxuICBtdWx0aWNhc3RMaW1pdEdsb2JhbDogbnVtYmVyO1xyXG4gIGZyZXF1ZW50bHlGb3J3YXJkZWRUaHJlc2hvbGQ6IG51bWJlcjtcclxuICBmcmVxdWVudGx5Rm9yd2FyZGVkTWF4OiBudW1iZXI7XHJcbiAgbWF4RmlsZVNpemU6IG51bWJlcjtcclxuICBtZWRpYTogbnVtYmVyO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7fVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgMTcyMzlcclxuICogQHdoYXRzYXBwIDMxNzIzOSA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFNlcnZlclByb3BzTW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDE3MjM5XHJcbiAqIEB3aGF0c2FwcCAzMTcyMzkgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIFNlcnZlclByb3BzTW9kZWwgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcm90ZXJ0aWVzPzogTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxTZXJ2ZXJQcm9wc01vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG59XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBTZXJ2ZXJQcm9wc01vZGVsOiAnU2VydmVyUHJvcHMnLFxyXG4gIH0sXHJcbiAgKG0pID0+XHJcbiAgICAobS5nZXRNYXhGaWxlc1NpemVTZXJ2ZXJQcm9wICYmIG0uU2VydmVyUHJvcHMpIHx8XHJcbiAgICAobS5nZXRNYXhGaWxlc1NpemUgJiYgbS5TZXJ2ZXJQcm9wcylcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBMb2dvdXRSZWFzb24gfSBmcm9tICcuLi9lbnVtcyc7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7XHJcbiAgTW9kZWwsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTW9kZWxQcm94eSxcclxufSBmcm9tICcuL01vZGVsJztcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7fVxyXG5cclxuaW50ZXJmYWNlIFNlc3Npb24ge1xyXG4gIHNvY2tldFByZWxvYWQ/OiBhbnk7XHJcbiAgc29ja2V0PzogYW55O1xyXG4gIGxhdW5jaEdlbmVyYXRpb246IG51bWJlcjtcclxuICBiYWNrb2ZmR2VuZXJhdGlvbjogbnVtYmVyO1xyXG4gIGhhc1N5bmNlZD86IGFueTtcclxuICBzdGF0ZTogc3RyaW5nO1xyXG4gIHN0cmVhbTogc3RyaW5nO1xyXG4gIGNhblNlbmQ/OiBhbnk7XHJcbiAgc2VuZFF1ZXVlPzogYW55O1xyXG4gIHNlbmRIYXNoPzogYW55O1xyXG4gIGNhbmNlbEhhc2g/OiBhbnk7XHJcbiAgZG91YmxlQWNrSGFzaD86IGFueTtcclxuICBzZXF1ZW5jZTogbnVtYmVyO1xyXG4gIHNob3J0VGFnQmFzZT86IGFueTtcclxuICBzb2NrZXRXYXRjaGVyPzogYW55O1xyXG4gIHJlZldhdGNoZXI/OiBhbnk7XHJcbiAgcGhvbmVXYXRjaGRvZz86IGFueTtcclxuICBwZW5kaW5nUGhvbmVSZXFzOiBudW1iZXI7XHJcbiAgaXNJbmNvZ25pdG8/OiBhbnk7XHJcbiAgcnVuUHJvbWlzZT86IGFueTtcclxuICBzdHJlYW1Qcm9taXNlPzogYW55O1xyXG4gIGNvbmZsaWN0UHJvbWlzZT86IGFueTtcclxuICByZXN1bWVQcm9taXNlPzogYW55O1xyXG4gIGxvZ291dE11dGV4OiBudW1iZXI7XHJcbiAgcmV0cnlUaW1lc3RhbXA/OiBhbnk7XHJcbiAgcG9rZWFibGU/OiBhbnk7XHJcbiAgbGF1bmNoZWQ/OiBhbnk7XHJcbiAgbXVzdEV4aXRMb29wPzogYW55O1xyXG4gIHN5bmNUYWc/OiBhbnk7XHJcbiAgbGFzdFBob25lTWVzc2FnZT86IGFueTtcclxuICBzaG91bGRGb3JjZVJlY29ubmVjdDogYm9vbGVhbjtcclxuICBzaG91bGRVcGdyYWRlVG9NREludGVybjogYm9vbGVhbjtcclxuICBzaG91bGRVcGdyYWRlVG9NRFBvcmQ6IGJvb2xlYW47XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDY1MDQ0ICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTb2NrZXRNb2RlbFxyXG4gIGV4dGVuZHMgTW9kZWxQcm94eTxQcm9wcywgU2Vzc2lvbiwgRGVyaXZlZD4ge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgNjUwNDQgKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgU29ja2V0TW9kZWwgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcm90ZXJ0aWVzPzogTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxTb2NrZXRNb2RlbD4sXHJcbiAgICBvcHRpb25zPzogTW9kZWxPcHRpb25zXHJcbiAgKTtcclxuXHJcbiAgaW5pdGlhbGl6ZSgpOiBhbnk7XHJcbiAgcHJlbG9hZCgpOiBhbnk7XHJcbiAgc2VuZChlPzogYW55KTogYW55O1xyXG4gIHNlbmQyKGU/OiBhbnkpOiBhbnk7XHJcbiAgc2hvcnRUYWcoKTogYW55O1xyXG4gIHRhZyhlPzogYW55KTogYW55O1xyXG4gIGxhdW5jaChlPzogYW55LCB0PzogbnVtYmVyKTogYW55O1xyXG4gIHBva2UoKTogdm9pZDtcclxuICB0YWtlb3ZlcigpOiBhbnk7XHJcbiAgZXhpdExvb3AoZT86IGFueSk6IGFueTtcclxuICBjbGVhckNyZWRlbnRpYWxzQW5kU3RvcmVkRGF0YSgpOiBhbnk7XHJcbiAgZGVzdHJveVN0b3JhZ2UoKTogYW55O1xyXG4gIGxvZ291dChzZW5kTG9nb3V0PzogYm9vbGVhbiwgcmVhc29uPzogTG9nb3V0UmVhc29uKTogdm9pZDtcclxuICBzdW1tYXJ5KCk6IGFueTtcclxuICByZWdpc3RlckhhbmRsZXIoZT86IGFueSk6IGFueTtcclxuICBvblN0YXRlQ2hhbmdlKCk6IGFueTtcclxuICBvblN0cmVhbUNoYW5nZSgpOiBhbnk7XHJcbiAgb25SZWZDeWNsZSgpOiBhbnk7XHJcbiAgb25BY3Rpdml0eShlPzogYW55KTogYW55O1xyXG4gIG9uUGhvbmVXYXRjaGRvZ0FjdGl2YXRlZCgpOiBhbnk7XHJcbiAgb25QaG9uZVdhdGNoZG9nRmVkKCk6IGFueTtcclxuICBvblBob25lV2F0Y2hkb2dEZWFjdGl2YXRlZCgpOiBhbnk7XHJcbiAgZmx1c2hRdWV1ZSgpOiBhbnk7XHJcbiAgcGhvbmVUaW1lZE91dCgpOiBhbnk7XHJcbiAgY2xlYXJTZW5kSGFzaChlPzogYW55KTogYW55O1xyXG4gIHNlbmRCYXNpYyhlPzogYW55KTogYW55O1xyXG4gIHNlbmRFcGhlbWVyYWwoZT86IGFueSk6IGFueTtcclxuICBzZW5kRXBoZW1lcmFsMihlPzogYW55KTogYW55O1xyXG4gIHNlbmRFcGhlbWVyYWxJZ25vcmUoZT86IGFueSk6IGFueTtcclxuICBvbjV4eChlPzogYW55KTogYW55O1xyXG4gIG9uTWVzc2FnZShlPzogYW55KTogYW55O1xyXG4gIHJ1bihlPzogYW55LCB0PzogYW55KTogYW55O1xyXG4gIG9wZW5Tb2NrZXQoKTogYW55O1xyXG4gIGluaXRDb25uKCk6IGFueTtcclxuICBtYW5hZ2VSZWYoKTogYW55O1xyXG4gIHJlcXVlc3RTeW5jKGU/OiBhbnkpOiBhbnk7XHJcbiAgd2FpdEZvclN5bmNJbmZvKCk6IGFueTtcclxuICBsb29rRm9yQW5kSGFuZGxlQ2hhbGxlbmdlKCk6IGFueTtcclxuICB0aHJvd09uQ2xvc2UoKTogYW55O1xyXG4gIG9uQ3JpdGljYWxTeW5jRG9uZSgpOiBhbnk7XHJcbiAgb3BlblN0cmVhbSgpOiBhbnk7XHJcbiAgcXVlcnlSZWNlaXZlZEFjdGlvbnMoKTogYW55O1xyXG4gIHJ1blJlc3VtZShlPzogYW55KTogYW55O1xyXG4gIHNldFBva2VhYmxlKGU/OiBhbnksIHQ/OiBudW1iZXIpOiBhbnk7XHJcbiAgY2xlYXJDcmVkZW50aWFscygpOiBhbnk7XHJcbiAgY2xlYXJTdGF0ZSgpOiBhbnk7XHJcbiAgbWF5YmVSZXNlbmRSZXF1ZXN0RXZlbnR1YWxseShlPzogYW55KTogYW55O1xyXG4gIHNlbmRDdXJyZW50TG9nb3V0KGU/OiBhbnkpOiBhbnk7XHJcbiAgc2VuZFJlbWFpbmluZ0xvZ291dHMoKTogYW55O1xyXG4gIHVwZGF0ZUltbWVkaWF0ZWx5KGU/OiBhbnkpOiBhbnk7XHJcbiAgZGVwcmVjYXRlZFZlcnNpb24oKTogYW55O1xyXG4gIGNhblJlcXVlc3RCZVNlbnQoZT86IGFueSk6IGFueTtcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAgeyBTb2NrZXQ6ICdTb2NrZXQuY29uc3RydWN0b3InIH0sXHJcbiAgKG0pID0+IG0uU29ja2V0Py5pbml0Q29ublxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFN0YXR1c0NvbGxlY3Rpb24gfSBmcm9tICcuLi9jb2xsZWN0aW9ucyc7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5pbXBvcnQge1xyXG4gIE1vZGVsLFxyXG4gIE1vZGVsT3B0aW9ucyxcclxuICBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLFxyXG4gIE1vZGVsUHJveHksXHJcbn0gZnJvbSAnLi9Nb2RlbCc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGlkOiBXaWQ7XHJcbiAgc3RhdHVzPzogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7XHJcbiAgc3RhbGU/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDY3MjM0XHJcbiAqIEB3aGF0c2FwcCAxNjcyMzQgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTdGF0dXNNb2RlbFxyXG4gIGV4dGVuZHMgTW9kZWxQcm94eTxQcm9wcywgU2Vzc2lvbiwgRGVyaXZlZD4ge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgNjcyMzRcclxuICogQHdoYXRzYXBwIDE2NzIzNCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgU3RhdHVzTW9kZWwgZXh0ZW5kcyBNb2RlbDxTdGF0dXNDb2xsZWN0aW9uPiB7XHJcbiAgaWRDbGFzczogdHlwZW9mIFdpZDtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPFN0YXR1c01vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG4gIGdldENvbGxlY3Rpb24oKTogU3RhdHVzQ29sbGVjdGlvbjtcclxufVxyXG5cclxuLy9leHBvcnRQcm94eU1vZGVsKGV4cG9ydHMsICdTdGF0dXNNb2RlbCcpO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgU3RhdHVzTW9kZWw6IFsnZGVmYXVsdCddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZGVmYXVsdD8ucHJvdG90eXBlLl9fcHJvcHMuaW5jbHVkZXMoJ3N0YXR1cycpXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3RhdHVzVjNDb2xsZWN0aW9uIH0gZnJvbSAnLi4vY29sbGVjdGlvbnMnO1xyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXaWQgfSBmcm9tICcuLi9taXNjJztcclxuaW1wb3J0IHsgTW9kZWxPcHRpb25zLCBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLCBNb2RlbFByb3h5IH0gZnJvbSAnLi9Nb2RlbCc7XHJcbmltcG9ydCB7IE1vZGVsQ2hhdEJhc2UsIFByb3BzQ2hhdEJhc2UsIFNlc3Npb25DaGF0QmFzZSB9IGZyb20gJy4vTW9kZWxDaGF0QmFzZSc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBQcm9wc0NoYXRCYXNlIHtcclxuICB0PzogYW55O1xyXG4gIHVucmVhZENvdW50PzogYW55O1xyXG4gIHRvdGFsQ291bnQ/OiBhbnk7XHJcbiAgcGljPzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiBleHRlbmRzIFNlc3Npb25DaGF0QmFzZSB7XHJcbiAgc3RhbGU/OiBhbnk7XHJcbiAgcmVhZEtleXM/OiBhbnk7XHJcbiAgY29udGFjdD86IGFueTtcclxuICBleHBpcmVUaW1lcj86IGFueTtcclxuICBleHBpcmVUcz86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge1xyXG4gIGhhc1VucmVhZDogYm9vbGVhbjtcclxuICByZWFkQ291bnQ/OiBhbnk7XHJcbiAgbGFzdFN0YXR1cz86IGFueTtcclxufVxyXG5cclxuLyoqIEB3aGF0c2FwcCA0Nzg5NlxyXG4gKiBAd2hhdHNhcHAgNTQ3ODk2ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU3RhdHVzVjNNb2RlbFxyXG4gIGV4dGVuZHMgTW9kZWxQcm94eTxQcm9wcywgU2Vzc2lvbiwgRGVyaXZlZD4ge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgNDc4OTZcclxuICogQHdoYXRzYXBwIDU0Nzg5NiA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgU3RhdHVzVjNNb2RlbCBleHRlbmRzIE1vZGVsQ2hhdEJhc2Uge1xyXG4gIGlkQ2xhc3M6IHR5cGVvZiBXaWQ7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcm90ZXJ0aWVzPzogTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxTdGF0dXNWM01vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG4gIHNldHVwU3RhdHVzRXhwaXJhdGlvbigpOiBhbnk7XHJcbiAgZXhwaXJlTXNnKCk6IGFueTtcclxuICBvbkVtcHR5TVJNKCk6IGFueTtcclxuICBsb2FkTW9yZShlPzogbnVtYmVyKTogYW55O1xyXG4gIGhhbmRsZVJlYWRTdGF0dXMoZT86IGFueSk6IGFueTtcclxuICBzZW5kUmVhZFN0YXR1cyhlPzogYW55LCB0PzogYW55KTogYW55O1xyXG4gIGdldENvbGxlY3Rpb24oKTogU3RhdHVzVjNDb2xsZWN0aW9uO1xyXG4gIHJlbW92ZU1zZyhlPzogYW55KTogYW55O1xyXG4gIGdldEFsbENNQ3MoKTogYW55O1xyXG4gIGdldEFsbE1zZ3MoKTogYW55O1xyXG4gIHJlcGxhY2VNc2dzQ29sbGVjdGlvbihlPzogYW55KTogYW55O1xyXG4gIHJlbW92ZU1zZ3NDb2xsZWN0aW9uKGU/OiBhbnkpOiBhbnk7XHJcbiAgbm90aWZ5TXNnQ29sbGVjdGlvbk1lcmdlKGU/OiBhbnksIHQ/OiBhbnksIHI/OiBhbnksIGE/OiBhbnkpOiBhbnk7XHJcbn1cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgU3RhdHVzVjNNb2RlbDogWydkZWZhdWx0J10sXHJcbiAgfSxcclxuICAobSkgPT4gbS5kZWZhdWx0Py5wcm90b3R5cGUuc2VuZFJlYWRTdGF0dXNcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRQcm94eU1vZGVsIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuaW1wb3J0IHtcclxuICBNb2RlbCxcclxuICBNb2RlbE9wdGlvbnMsXHJcbiAgTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcixcclxuICBNb2RlbFByb3h5LFxyXG59IGZyb20gJy4vTW9kZWwnO1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBpZD86IGFueTtcclxuICBtZWRpYU9iamVjdD86IGFueTtcclxuICBkZXByZWNhdGVkTW1zM1VybD86IGFueTtcclxuICBkaXJlY3RQYXRoPzogYW55O1xyXG4gIGZpbGVoYXNoPzogYW55O1xyXG4gIGhlaWdodD86IGFueTtcclxuICBpbmRleD86IGFueTtcclxuICBtZWRpYUtleT86IGFueTtcclxuICBtZWRpYUtleVRpbWVzdGFtcD86IGFueTtcclxuICBtaW1ldHlwZT86IGFueTtcclxuICBzaXplPzogYW55O1xyXG4gIHR5cGU/OiBhbnk7XHJcbiAgZW5jRmlsZWhhc2g/OiBhbnk7XHJcbiAgd2lkdGg/OiBhbnk7XHJcbiAgaXNQbGFjZWhvbGRlcjogYm9vbGVhbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFNlc3Npb24ge1xyXG4gIHN0YWxlPzogYW55O1xyXG4gIG1lZGlhRGF0YT86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgOTk3MThcclxuICogQHdoYXRzYXBwIDg5ODY3ID49IDIuMjIwNC4xM1xyXG4gKiBAd2hhdHNhcHAgNjg5ODY3ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU3RpY2tlck1vZGVsXHJcbiAgZXh0ZW5kcyBNb2RlbFByb3h5PFByb3BzLCBTZXNzaW9uLCBEZXJpdmVkPiB7fVxyXG5cclxuLyoqIEB3aGF0c2FwcCA5OTcxOFxyXG4gKiBAd2hhdHNhcHAgODk4NjcgPj0gMi4yMjA0LjEzXHJcbiAqIEB3aGF0c2FwcCA2ODk4NjcgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIFN0aWNrZXJNb2RlbCBleHRlbmRzIE1vZGVsIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPFN0aWNrZXJNb2RlbD4sXHJcbiAgICBvcHRpb25zPzogTW9kZWxPcHRpb25zXHJcbiAgKTtcclxuICBkb3dubG9hZE1lZGlhKCk6IGFueTtcclxuICBzZW5kVG9DaGF0KGU/OiBhbnksIHQ/OiBhbnkpOiBhbnk7XHJcbiAgc3RhdGljIGdldFBsYWNlaG9sZGVyKCk6IFN0aWNrZXJNb2RlbDtcclxufVxyXG5cclxuZXhwb3J0UHJveHlNb2RlbChleHBvcnRzLCAnU3RpY2tlck1vZGVsJyk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0UHJveHlNb2RlbCB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7XHJcbiAgTW9kZWwsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTW9kZWxQcm94eSxcclxufSBmcm9tICcuL01vZGVsJztcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgaWQ/OiBhbnk7XHJcbiAgaW5kZXg/OiBhbnk7XHJcbiAgcGFnZT86IGFueTtcclxuICB1cmw/OiBhbnk7XHJcbiAgbWltZXR5cGU/OiBhbnk7XHJcbiAgbWVkaWFPYmplY3Q/OiBhbnk7XHJcbiAgZGlyZWN0UGF0aD86IGFueTtcclxuICBmaWxlaGFzaD86IGFueTtcclxuICBtZWRpYUtleT86IGFueTtcclxuICBtZWRpYUtleVRpbWVzdGFtcD86IGFueTtcclxuICBzaXplPzogYW55O1xyXG4gIHR5cGU/OiBhbnk7XHJcbiAgZW5jRmlsZWhhc2g/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBzdGFsZT86IGFueTtcclxuICBtZWRpYURhdGE/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHtcclxuICBkZXByZWNhdGVkTW1zM1VybD86IGFueTtcclxuICBzdGlja2Vycz86IGFueTtcclxuICBpc1BsYWNlaG9sZGVyOiBib29sZWFuO1xyXG4gIGlzRmlyc3RQYXJ0eTogYm9vbGVhbjtcclxufVxyXG5cclxuLyoqIEB3aGF0c2FwcCA3NDQ3MFxyXG4gKiBAd2hhdHNhcHAgNTc0NDcwID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgU3RpY2tlclBhY2tNb2RlbFxyXG4gIGV4dGVuZHMgTW9kZWxQcm94eTxQcm9wcywgU2Vzc2lvbiwgRGVyaXZlZD4ge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgNzQ0NzBcclxuICogQHdoYXRzYXBwIDU3NDQ3MCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgU3RpY2tlclBhY2tNb2RlbCBleHRlbmRzIE1vZGVsIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPFN0aWNrZXJQYWNrTW9kZWw+LFxyXG4gICAgb3B0aW9ucz86IE1vZGVsT3B0aW9uc1xyXG4gICk7XHJcbiAgZG93bmxvYWRNZWRpYSgpOiBhbnk7XHJcbiAgc3RhdGljIGNyZWF0ZVBsYWNlaG9sZGVyKCk6IGFueTtcclxuICBzdGF0aWMgaXNQbGFjZWhvbGRlcklkKCk6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydFByb3h5TW9kZWwoZXhwb3J0cywgJ1N0aWNrZXJQYWNrTW9kZWwnKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQge1xyXG4gIE1vZGVsLFxyXG4gIE1vZGVsT3B0aW9ucyxcclxuICBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yLFxyXG4gIE1vZGVsUHJveHksXHJcbn0gZnJvbSAnLi9Nb2RlbCc7XHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge31cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBpbmZvPzogYW55O1xyXG4gIG1vZGU6IHN0cmluZztcclxuICBvYnNjdXJpdHk/OiBhbnk7XHJcbiAgbmVlZHNVcGRhdGU/OiBhbnk7XHJcbiAgY2xpZW50RXhwaXJlZD86IGFueTtcclxuICBoYXJkRXhwaXJlZD86IGFueTtcclxuICBsYXN0U3luY1N0YXJ0PzogYW55O1xyXG4gIG5lZWRzTWFudWFsRG93bmxvYWQ/OiBhbnk7XHJcbiAgY291bGRGb3JjZT86IGFueTtcclxuICB1aUFjdGl2ZT86IGFueTtcclxuICBhdmFpbGFibGU/OiBhbnk7XHJcbiAgdW5hdmFpbGFibGVTaGlmdFRpbWVyPzogYW55O1xyXG4gIHVuYXZhaWxhYmxlTG9nb3V0VGltZXI/OiBhbnk7XHJcbiAgdW5vYnNjdXJlU2hpZnRUaW1lcj86IGFueTtcclxuICB0aW1lb3V0RXZlbnQ/OiBhbnk7XHJcbiAgcmVzdW1lQ291bnQ/OiBhbnk7XHJcbiAgcGhvbmVBdXRoZWQ/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHtcclxuICBkaXNwbGF5SW5mbz86IGFueTtcclxufVxyXG5cclxuLyoqIEB3aGF0c2FwcCA4MDgwXHJcbiAqIEB3aGF0c2FwcCA2MDgwODAgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBTdHJlYW1Nb2RlbFxyXG4gIGV4dGVuZHMgTW9kZWxQcm94eTxQcm9wcywgU2Vzc2lvbiwgRGVyaXZlZD4ge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgODA4MFxyXG4gKiBAd2hhdHNhcHAgNjA4MDgwID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBTdHJlYW1Nb2RlbCBleHRlbmRzIE1vZGVsIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPFN0cmVhbU1vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG4gIG1hcmtBdmFpbGFibGUoKTogdm9pZDtcclxuICBtYXJrVW5hdmFpbGFibGUoZT86IGFueSk6IHZvaWQ7XHJcbiAgb25TZWxmVXBkYXRlKCk6IHZvaWQ7XHJcbiAgb25Tb2NrZXRVcGRhdGUoKTogdm9pZDtcclxuICB1bm9ic2N1cmUoKTogdm9pZDtcclxuICBvblBob25lQXV0aGVkVXBkYXRlKCk6IHZvaWQ7XHJcbiAgb25BdmFpbGFibGVVcGRhdGUoKTogdm9pZDtcclxuICBzZW5kQXZhaWxhYmlsaXR5KGU/OiBhbnkpOiB2b2lkO1xyXG4gIHVwZGF0ZUNvdWxkRm9yY2UoKTogdm9pZDtcclxuICB1cGRhdGVIYXJkRXhwaXJlKCk6IHZvaWQ7XHJcbiAgbG9nUGFnZVJlc3VtZSgpOiB2b2lkO1xyXG4gIHVwZGF0ZVdhbUxvZygpOiB2b2lkO1xyXG4gIGxvZ01vZGVDaGFuZ2UoKTogdm9pZDtcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgU3RyZWFtTW9kZWw6ICdTdHJlYW0uY29uc3RydWN0b3InLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uU3RyZWFtXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0UHJveHlNb2RlbCB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7XHJcbiAgTW9kZWwsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTW9kZWxQcm94eSxcclxufSBmcm9tICcuL01vZGVsJztcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgaWQ/OiBhbnk7XHJcbiAgZGlzcGxheVRleHQ/OiBhbnk7XHJcbiAgc3VidHlwZT86IGFueTtcclxuICB1cmw/OiBhbnk7XHJcbiAgcGhvbmVOdW1iZXI/OiBhbnk7XHJcbiAgc2VsZWN0aW9uSWQ/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBzdGFsZT86IGFueTtcclxuICBzZWxlY3RlZD86IGFueTtcclxufVxyXG5cclxuaW50ZXJmYWNlIERlcml2ZWQge31cclxuXHJcbi8qKiBAd2hhdHNhcHAgMTE4OTdcclxuICogQHdoYXRzYXBwIDMxMTg5NyA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFRlbXBsYXRlQnV0dG9uTW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDExODk3XHJcbiAqIEB3aGF0c2FwcCAzMTE4OTcgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIFRlbXBsYXRlQnV0dG9uTW9kZWwgZXh0ZW5kcyBNb2RlbCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcm90ZXJ0aWVzPzogTW9kZWxQcm9wZXJ0aWVzQ29udHJ1Y3RvcjxUZW1wbGF0ZUJ1dHRvbk1vZGVsPixcclxuICAgIG9wdGlvbnM/OiBNb2RlbE9wdGlvbnNcclxuICApO1xyXG59XHJcblxyXG5leHBvcnRQcm94eU1vZGVsKGV4cG9ydHMsICdUZW1wbGF0ZUJ1dHRvbk1vZGVsJyk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0UHJveHlNb2RlbCB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7XHJcbiAgTW9kZWwsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsUHJvcGVydGllc0NvbnRydWN0b3IsXHJcbiAgTW9kZWxQcm94eSxcclxufSBmcm9tICcuL01vZGVsJztcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgaWQ/OiBhbnk7XHJcbiAgdGltZXN0YW1wPzogYW55O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7XHJcbiAgc3RhbGU/OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBEZXJpdmVkIHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDQxODA5XHJcbiAqIEB3aGF0c2FwcCA0NDE4MDkgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBVbnJlYWRNZW50aW9uTW9kZWxcclxuICBleHRlbmRzIE1vZGVsUHJveHk8UHJvcHMsIFNlc3Npb24sIERlcml2ZWQ+IHt9XHJcblxyXG4vKiogQHdoYXRzYXBwIDQxODA5XHJcbiAqIEB3aGF0c2FwcCA0NDE4MDkgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIFVucmVhZE1lbnRpb25Nb2RlbCBleHRlbmRzIE1vZGVsIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlcnRpZXM/OiBNb2RlbFByb3BlcnRpZXNDb250cnVjdG9yPFVucmVhZE1lbnRpb25Nb2RlbD4sXHJcbiAgICBvcHRpb25zPzogTW9kZWxPcHRpb25zXHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0UHJveHlNb2RlbChleHBvcnRzLCAnVW5yZWFkTWVudGlvbk1vZGVsJyk7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9BZ2dSZWFjdGlvbnNNb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vQXR0YWNoTWVkaWFNb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vQmxvY2tsaXN0TW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL0JvdFByb2ZpbGVNb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vQnVzaW5lc3NDYXRlZ29yaWVzUmVzdWx0TW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL0J1c2luZXNzUHJvZmlsZU1vZGVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9DYWxsTW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL0NhcnRJdGVtTW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL0NhcnRNb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vQ2F0YWxvZ01vZGVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9DaGF0TW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL0NoYXRQcmVmZXJlbmNlTW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL0NoYXRzdGF0ZU1vZGVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9Db25uTW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL0NvbnRhY3RNb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vQ29udmVyc2lvblR1cGxlTW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL0Vtb2ppVmFyaWFudE1vZGVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9Hcm91cE1ldGFkYXRhTW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL0hpc3RvcnlTeW5jUHJvZ3Jlc3NNb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vTGFiZWxJdGVtTW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL0xhYmVsTW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL01lZGlhRGF0YU1vZGVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9Nb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vTW9kZWxDaGF0QmFzZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vTXNnQnV0dG9uUmVwbHlNc2dNb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vTXNnSW5mb01vZGVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9Nc2dJbmZvUGFydGljaXBhbnRNb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vTXNnTW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL011dGVNb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vTmV0d29ya1N0YXR1c01vZGVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9Ob3RlTW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL09yZGVySXRlbU1vZGVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9PcmRlck1vZGVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9QYXJ0aWNpcGFudE1vZGVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9QYXJ0aWNpcGFudE1vZGVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9QcmVzZW5jZU1vZGVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9Qcm9kdWN0Q29sbE1vZGVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9Qcm9kdWN0SW1hZ2VNb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vUHJvZHVjdE1lc3NhZ2VMaXN0TW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL1Byb2R1Y3RNb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vUHJvZmlsZVBpY1RodW1iTW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL1F1aWNrUmVwbHlNb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vUmVhY3Rpb25zTW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL1JlYWN0aW9uc1NlbmRlcnNNb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vUmVjZW50RW1vamlNb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vUmVjZW50U3RpY2tlck1vZGVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9SZXBseUJ1dHRvbk1vZGVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9TZXJ2ZXJQcm9wc01vZGVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9Tb2NrZXRNb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vU3RhdHVzTW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL1N0YXR1c1YzTW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL1N0aWNrZXJNb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vU3RpY2tlclBhY2tNb2RlbCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vU3RyZWFtTW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL1RlbXBsYXRlQnV0dG9uTW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICcuL1VucmVhZE1lbnRpb25Nb2RlbCc7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgNDYzMDhcclxuICogQHdoYXRzYXBwIDI0ODYzID49IDIuMjIwNC4xM1xyXG4gKiBAd2hhdHNhcHAgOTQ2MzA4ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgYWR2IHtcclxuICBmdW5jdGlvbiBnZW5lcmF0ZUFEVlNlY3JldEtleSgpOiBzdHJpbmc7XHJcbiAgZnVuY3Rpb24gZ2V0QURWU2VjcmV0S2V5KCk6IHN0cmluZyB8IFByb21pc2U8c3RyaW5nPjtcclxuICBmdW5jdGlvbiBzZXRBRFZTaWduZWRJZGVudGl0eShlOiBhbnkpOiBzdHJpbmc7XHJcbiAgZnVuY3Rpb24gZ2V0QURWRW5jb2RlZElkZW50aXR5KCk6IGFueTtcclxuICBmdW5jdGlvbiB2ZXJpZnlEZXZpY2VJZGVudGl0eUFjY291bnRTaWduYXR1cmUoKTogYW55O1xyXG4gIGZ1bmN0aW9uIGdlbmVyYXRlRGV2aWNlU2lnbmF0dXJlKGU/OiBhbnksIHQ/OiBhbnksIHI/OiBhbnkpOiBhbnk7XHJcbiAgZnVuY3Rpb24gdmVyaWZ5RGV2aWNlU2lnbmF0dXJlKCk6IGFueTtcclxuICBmdW5jdGlvbiBjbGVhckFEVlNlY3JldEtleSgpOiB2b2lkO1xyXG4gIGZ1bmN0aW9uIHZhbGlkYXRlQURWd2l0aElkZW50aXR5S2V5KCk6IGFueTtcclxuICBmdW5jdGlvbiB2YWxpZGF0ZUFEVndpdGhFbmNzKGU/OiBhbnksIHQ/OiBhbnksIHI/OiBhbnksIGE/OiBib29sZWFuKTogYW55O1xyXG4gIGZ1bmN0aW9uIHZlcmlmeUtleUluZGV4TGlzdEFjY291bnRTaWduYXR1cmUoZT86IGFueSwgdD86IGFueSk6IGFueTtcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAgJ2FkdicsXHJcbiAgKG0pID0+IG0uZ2V0QURWU2VjcmV0S2V5ICYmIG0uc2V0QURWU2lnbmVkSWRlbnRpdHlcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIxIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2Fkdic7XHJcbmV4cG9ydCAqIGZyb20gJy4vd2FOb2lzZUluZm8nO1xyXG5leHBvcnQgKiBmcm9tICcuL3dhU2lnbmFsU3RvcmUnO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG5pbnRlcmZhY2UgTm9pc2VJbmZvRGF0YSB7XHJcbiAgcmVjb3ZlcnlUb2tlbjogQXJyYXlCdWZmZXI7XHJcbiAgc3RhdGljS2V5UGFpcjoge1xyXG4gICAgcHJpdktleTogQXJyYXlCdWZmZXI7XHJcbiAgICBwdWJLZXk6IEFycmF5QnVmZmVyO1xyXG4gIH07XHJcbn1cclxuXHJcbmRlY2xhcmUgY2xhc3MgTm9pc2VJbmZvIHtcclxuICBnZXQoKTogUHJvbWlzZTxOb2lzZUluZm9EYXRhPjtcclxuICBzZXQoaW5mbzogUHJvbWlzZTxOb2lzZUluZm9EYXRhPik6IGFueTtcclxufVxyXG5cclxuLyoqIEB3aGF0c2FwcCAxNTg3NVxyXG4gKiBAd2hhdHNhcHAgMTQxMTEgPj0gMi4yMjA0LjEzXHJcbiAqIEB3aGF0c2FwcCAzNDg5OCA+PSAyLjIyMTguNFxyXG4gKiBAd2hhdHNhcHAgMTM0ODk4ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCB3YU5vaXNlSW5mbzogTm9pc2VJbmZvO1xyXG5cclxuZXhwb3J0TW9kdWxlKGV4cG9ydHMsIHsgd2FOb2lzZUluZm86ICd3YU5vaXNlSW5mbycgfSwgKG0pID0+IG0ud2FOb2lzZUluZm8pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjEgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG5pbnRlcmZhY2UgUmVnaXN0cmF0aW9uSW5mbyB7XHJcbiAgcmVnaXN0cmF0aW9uSWQ6IG51bWJlcjtcclxuICBpZGVudGl0eUtleVBhaXI6IHtcclxuICAgIHB1YktleTogQXJyYXlCdWZmZXI7XHJcbiAgICBwcml2S2V5OiBBcnJheUJ1ZmZlcjtcclxuICB9O1xyXG59XHJcblxyXG5kZWNsYXJlIGNsYXNzIFNpZ25hbFN0b3JlIHtcclxuICBnZXRNZXRhKGU/OiBhbnkpOiBhbnk7XHJcbiAgcHV0TWV0YShlPzogYW55KTogYW55O1xyXG4gIHNldFNlcnZlckhhc1ByZUtleXMoZT86IGFueSk6IGFueTtcclxuICBnZXRTZXJ2ZXJIYXNQcmVLZXlzKCk6IGFueTtcclxuICBwdXRBRFZTaWduZWRJZGVudGl0eShlPzogYW55KTogYW55O1xyXG4gIGdldEFEVlNpZ25lZElkZW50aXR5KCk6IGFueTtcclxuICBnZXRQcmVLZXlzQnlSYW5nZShlPzogYW55LCB0PzogYW55KTogYW55O1xyXG4gIGdldFByZUtleUJ5SWQoZT86IGFueSk6IGFueTtcclxuICByZW1vdmVQcmVLZXlCeUlkKGU/OiBhbnkpOiBhbnk7XHJcbiAgYnVsa1Jtb3ZlUHJlS2V5KGU/OiBhbnkpOiBhbnk7XHJcbiAgcHV0UHJlS2V5cyhlPzogYW55KTogYW55O1xyXG4gIG1hcmtQcmVLZXlBc0RpcmVjdERpc3RyaWJ1dGlvbihlPzogYW55KTogYW55O1xyXG4gIGdldFNpZ25lZFByZUtleSgpOiBhbnk7XHJcbiAgZ2V0U2lnbmVkUHJlS2V5QnlJZChlPzogYW55KTogYW55O1xyXG4gIHB1dFNpZ25lZFByZUtleXMoZT86IGFueSk6IGFueTtcclxuICBwdXRTZXNzaW9uKGU/OiBhbnksIHQ/OiBhbnkpOiBhbnk7XHJcbiAgYnVsa1B1dFNlc3Npb24oZT86IGFueSk6IGFueTtcclxuICByZW1vdmVTZXNzaW9uKGU/OiBhbnkpOiBhbnk7XHJcbiAgYnVsa1JlbW92ZVNlc3Npb24oZT86IGFueSk6IGFueTtcclxuICBnZXRTZXNzaW9uKGU/OiBhbnkpOiBhbnk7XHJcbiAgYnVsa0dldFNlc3Npb24oZT86IGFueSk6IGFueTtcclxuICBwdXRJZGVudGl0eShlPzogYW55LCB0PzogYW55KTogYW55O1xyXG4gIGJ1bGtQdXRJZGVudGl0eShlPzogYW55KTogYW55O1xyXG4gIGJ1bGtHZXRJZGVudGl0eShlPzogYW55KTogYW55O1xyXG4gIGdldElkZW50aXR5KGU/OiBhbnkpOiBhbnk7XHJcbiAgcmVtb3ZlSWRlbnRpdHkoZT86IGFueSk6IGFueTtcclxuICBidWxrUmVtb3ZlSWRlbnRpdHkoZT86IGFueSk6IGFueTtcclxuICBnZXRJZGVudGl0eUtleVdpdGhSb3dJZChlPzogYW55KTogYW55O1xyXG4gIGJ1bGtHZXRJZGVudGl0eUtleVdpdGhSb3dJZChlPzogYW55KTogYW55O1xyXG4gIGJ1bGtQdXRJZGVudGl0eUtleVdpdGhSb3dJZChlPzogYW55KTogYW55O1xyXG4gIHNhdmVCYXNlS2V5KGU/OiBhbnksIHQ/OiBhbnksIHI/OiBhbnkpOiBhbnk7XHJcbiAgbG9hZEJhc2VLZXkoZT86IGFueSwgdD86IGFueSk6IGFueTtcclxuICBkZWxldGVCYXNlS2V5KGU/OiBhbnksIHQ/OiBhbnkpOiBhbnk7XHJcbiAgcHV0U2VuZGVyS2V5KGU/OiBhbnksIHQ/OiBhbnksIHI/OiBhbnkpOiBhbnk7XHJcbiAgYnVsa1B1dFNlbmRlcktleShlPzogYW55KTogYW55O1xyXG4gIHJlbW92ZVNlbmRlcktleShlPzogYW55KTogYW55O1xyXG4gIGdldFNlbmRlcktleShlPzogYW55KTogYW55O1xyXG4gIHJlbW92ZVNlbmRlcktleUJ5U2VuZGVySWQoZT86IGFueSk6IGFueTtcclxuICBjbGVhckNyZWRlbnRpYWwoKTogYW55O1xyXG4gIGdldFJlZ2lzdHJhdGlvbkluZm8oKTogUHJvbWlzZTxSZWdpc3RyYXRpb25JbmZvPjtcclxuICBzZXRSZWdpc3RyYXRpb25JbmZvKGU6IFJlZ2lzdHJhdGlvbkluZm8pOiBQcm9taXNlPGFueT47XHJcbiAgZ2V0T3JHZW5QcmVLZXlzKGU/OiBhbnksIHQ/OiBhbnkpOiBhbnk7XHJcbiAgZ2V0T3JHZW5TaW5nbGVQcmVLZXkoZT86IGFueSk6IGFueTtcclxuICBzYXZlUHJlS2V5cyhlPzogYW55KTogYW55O1xyXG4gIG1hcmtLZXlBc1VwbG9hZGVkKGU/OiBhbnkpOiBhbnk7XHJcbiAgcm90YXRlU2lnbmVkUHJlS2V5KGU/OiBhbnksIHQ/OiBhbnkpOiBhbnk7XHJcbn1cclxuXHJcbi8qKiBAd2hhdHNhcHAgMTE4NDlcclxuICogQHdoYXRzYXBwIDQwNjIzID49IDIuMjIxOC40XHJcbiAqIEB3aGF0c2FwcCA2NDA2MjMgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNvbnN0IHdhU2lnbmFsU3RvcmU6IFNpZ25hbFN0b3JlO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAgeyB3YVNpZ25hbFN0b3JlOiAnd2FTaWduYWxTdG9yZScgfSxcclxuICAobSkgPT4gbS53YVNpZ25hbFN0b3JlXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgY29sbGVjdGlvbnMgZnJvbSAnLi9jb2xsZWN0aW9ucyc7XHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKiBAd2hhdHNhcHAgMzI4MjZcclxuICogQHdoYXRzYXBwIDEzMjgyNiA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY29uc3QgQmxvY2tsaXN0U3RvcmU6IGNvbGxlY3Rpb25zLkJsb2NrbGlzdENvbGxlY3Rpb247XHJcbi8qKiBAd2hhdHNhcHAgMzc1NFxyXG4gKiBAd2hhdHNhcHAgMjAzNzU0ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBCdXNpbmVzc0NhdGVnb3JpZXNSZXN1bHRTdG9yZTogY29sbGVjdGlvbnMuQnVzaW5lc3NDYXRlZ29yaWVzUmVzdWx0Q29sbGVjdGlvbjtcclxuLyoqIEB3aGF0c2FwcCA5MzU4MVxyXG4gKiBAd2hhdHNhcHAgNDkzNTgxID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBCdXNpbmVzc1Byb2ZpbGVTdG9yZTogY29sbGVjdGlvbnMuQnVzaW5lc3NQcm9maWxlQ29sbGVjdGlvbjtcclxuLyoqIEB3aGF0c2FwcCBXQVdlYkJvdFByb2ZpbGVDb2xsZWN0aW9uXHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBCb3RQcm9maWxlU3RvcmU6IGNvbGxlY3Rpb25zLkJvdFByb2ZpbGVDb2xsZWN0aW9uO1xyXG4vKiogQHdoYXRzYXBwIDYwODY4XHJcbiAqIEB3aGF0c2FwcCAzMTIxOCA+PSAyLjIyMDQuMTNcclxuICogQHdoYXRzYXBwIDE2MDg2OCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY29uc3QgQ2FsbFN0b3JlOiBjb2xsZWN0aW9ucy5DYWxsQ29sbGVjdGlvbjtcclxuLyoqIEB3aGF0c2FwcCAxMjM5MlxyXG4gKiBAd2hhdHNhcHAgNjEyMzkyID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBDYXJ0U3RvcmU6IGNvbGxlY3Rpb25zLkNhcnRDb2xsZWN0aW9uO1xyXG4vKiogQHdoYXRzYXBwIDk5OTg5XHJcbiAqIEB3aGF0c2FwcCA1OTk5ODkgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNvbnN0IENhdGFsb2dTdG9yZTogY29sbGVjdGlvbnMuQ2F0YWxvZ0NvbGxlY3Rpb247XHJcbi8qKiBAd2hhdHNhcHAgNjk5NTFcclxuICogQHdoYXRzYXBwIDY2OTk1MSA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY29uc3QgQ2hhdFN0b3JlOiBjb2xsZWN0aW9ucy5DaGF0Q29sbGVjdGlvbjtcclxuLyoqIEB3aGF0c2FwcCAxOTM4MFxyXG4gKiBAd2hhdHNhcHAgNzE5MzgwID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBOZXdzbGV0dGVyU3RvcmU6IGNvbGxlY3Rpb25zLkNoYXRDb2xsZWN0aW9uO1xyXG4vKiogQHdoYXRzYXBwIDE5MzgwXHJcbiAqIEB3aGF0c2FwcCA3MTkzODAgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNvbnN0IENvbnRhY3RTdG9yZTogY29sbGVjdGlvbnMuQ29udGFjdENvbGxlY3Rpb247XHJcbi8qKiBAd2hhdHNhcHAgMTMxODVcclxuICogQHdoYXRzYXBwIDUxMzE4NSA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY29uc3QgRW1vamlWYXJpYW50U3RvcmU6IGNvbGxlY3Rpb25zLkVtb2ppVmFyaWFudENvbGxlY3Rpb247XHJcbi8qKiBAd2hhdHNhcHAgNjM5MjhcclxuICogQHdoYXRzYXBwIDk2MzkyOCA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY29uc3QgR3JvdXBNZXRhZGF0YVN0b3JlOiBjb2xsZWN0aW9ucy5Hcm91cE1ldGFkYXRhQ29sbGVjdGlvbjtcclxuLyoqIEB3aGF0c2FwcCAxNjc3MFxyXG4gKiBAd2hhdHNhcHAgMzE2NzcwID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBMYWJlbFN0b3JlOiBjb2xsZWN0aW9ucy5MYWJlbENvbGxlY3Rpb247XHJcbi8qKiBAd2hhdHNhcHAgNTk4NzFcclxuICogQHdoYXRzYXBwIDU1OTg3MSA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY29uc3QgTXNnU3RvcmU6IGNvbGxlY3Rpb25zLk1zZ0NvbGxlY3Rpb247XHJcbi8qKiBAd2hhdHNhcHAgMTc5NzJcclxuICogQHdoYXRzYXBwIDYxNzk3MiA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY29uc3QgTXNnSW5mb1N0b3JlOiBjb2xsZWN0aW9ucy5Nc2dJbmZvQ29sbGVjdGlvbjtcclxuLyoqIEB3aGF0c2FwcCA3MjQ3MiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBNdXRlU3RvcmU6IGNvbGxlY3Rpb25zLk11dGVDb2xsZWN0aW9uO1xyXG4vKiogQHdoYXRzYXBwIDg0MzEyXHJcbiAqIEB3aGF0c2FwcCA1ODQzMTIgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNvbnN0IE9yZGVyU3RvcmU6IGNvbGxlY3Rpb25zLk9yZGVyQ29sbGVjdGlvbjtcclxuLyoqIEB3aGF0c2FwcCA2ODMxNVxyXG4gKiBAd2hhdHNhcHAgODY4MzE1ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBQcmVzZW5jZVN0b3JlOiBjb2xsZWN0aW9ucy5QcmVzZW5jZUNvbGxlY3Rpb247XHJcbi8qKiBAd2hhdHNhcHAgMTg5NTIgKi9cclxuZXhwb3J0IGRlY2xhcmUgY29uc3QgUHJvZHVjdE1lc3NhZ2VMaXN0U3RvcmU6IGNvbGxlY3Rpb25zLlByb2R1Y3RNZXNzYWdlTGlzdENvbGxlY3Rpb247XHJcbi8qKiBAd2hhdHNhcHAgODIwMzlcclxuICogQHdoYXRzYXBwIDU4MjAzOSA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY29uc3QgUHJvZmlsZVBpY1RodW1iU3RvcmU6IGNvbGxlY3Rpb25zLlByb2ZpbGVQaWNUaHVtYkNvbGxlY3Rpb247XHJcbi8qKiBAd2hhdHNhcHAgOTk2NjJcclxuICogQHdoYXRzYXBwIDk5OTY2MiA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY29uc3QgUXVpY2tSZXBseVN0b3JlOiBjb2xsZWN0aW9ucy5RdWlja1JlcGx5Q29sbGVjdGlvbjtcclxuLyoqIEB3aGF0c2FwcCA1NzE2MlxyXG4gKiBAd2hhdHNhcHAgMjU3MTYyID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBSZWFjdGlvbnNTdG9yZTogY29sbGVjdGlvbnMuUmVhY3Rpb25zQ29sbGVjdGlvbjtcclxuLyoqIEB3aGF0c2FwcCA5MjY3MVxyXG4gKiBAd2hhdHNhcHAgNDkyNjcxID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBSZWNlbnRFbW9qaVN0b3JlOiBjb2xsZWN0aW9ucy5SZWNlbnRFbW9qaUNvbGxlY3Rpb247XHJcbi8qKiBAd2hhdHNhcHAgNDkyNjRcclxuICogQHdoYXRzYXBwIDE5MTY5MiA+PSAyLjIyMjIuOFxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY29uc3QgUmVjZW50U3RpY2tlclN0b3JlOiBjb2xsZWN0aW9ucy5SZWNlbnRTdGlja2VyQ29sbGVjdGlvbjtcclxuLyoqIEB3aGF0c2FwcCAxOTAxMVxyXG4gKiBAd2hhdHNhcHAgNzE5MDExID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBTdGFycmVkTXNnU3RvcmU6IGNvbGxlY3Rpb25zLlN0YXJyZWRNc2dDb2xsZWN0aW9uO1xyXG4vKiogQHdoYXRzYXBwIDQ2MTMzICovXHJcbmV4cG9ydCBkZWNsYXJlIGNvbnN0IFN0YXR1c1N0b3JlOiBjb2xsZWN0aW9ucy5TdGF0dXNDb2xsZWN0aW9uO1xyXG4vKiogQHdoYXRzYXBwIDU5Mzg3XHJcbiAqIEB3aGF0c2FwcCA0NTkzODcgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNvbnN0IFN0YXR1c1YzU3RvcmU6IGNvbGxlY3Rpb25zLlN0YXR1c1YzQ29sbGVjdGlvbjtcclxuLyoqIEB3aGF0c2FwcCA2Nzk2M1xyXG4gKiBAd2hhdHNhcHAgNzY3OTYzID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBTdGlja2VyU3RvcmU6IGNvbGxlY3Rpb25zLlN0aWNrZXJDb2xsZWN0aW9uO1xyXG4vKiogQHdoYXRzYXBwIDQ0MzMzXHJcbiAqIEB3aGF0c2FwcCAzNDQzMzMgPj0gMi4yMjIyLjhcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGNvbnN0IFN0aWNrZXJQYWNrU3RvcmU6IGNvbGxlY3Rpb25zLlN0aWNrZXJQYWNrQ29sbGVjdGlvbjtcclxuLyoqIEB3aGF0c2FwcCA0NTA2OFxyXG4gKiBAd2hhdHNhcHAgNTQ1MDY4ID49IDIuMjIyMi44XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBTdGlja2VyU2VhcmNoU3RvcmU6IGNvbGxlY3Rpb25zLlN0aWNrZXJTZWFyY2hDb2xsZWN0aW9uO1xyXG5leHBvcnQgZGVjbGFyZSBjb25zdCBQaW5JbkNoYXRTdG9yZTogY29sbGVjdGlvbnMuUGluSW5DaGF0Q29sbGVjdGlvbjtcclxuZXhwb3J0IGRlY2xhcmUgY29uc3QgTm90ZVN0b3JlOiBjb2xsZWN0aW9ucy5Ob3RlQ29sbGVjdGlvbjtcclxuXHJcbmNvbnN0IHN0b3JlTmFtZXMgPSBbXHJcbiAgJ0Jsb2NrbGlzdFN0b3JlJyxcclxuICAnQnVzaW5lc3NDYXRlZ29yaWVzUmVzdWx0U3RvcmUnLFxyXG4gICdCdXNpbmVzc1Byb2ZpbGVTdG9yZScsXHJcbiAgJ0NhbGxTdG9yZScsXHJcbiAgJ0NhcnRTdG9yZScsXHJcbiAgJ0NhdGFsb2dTdG9yZScsXHJcbiAgJ0NoYXRTdG9yZScsXHJcbiAgJ05ld3NsZXR0ZXJTdG9yZScsXHJcbiAgJ0NvbnRhY3RTdG9yZScsXHJcbiAgJ0Vtb2ppVmFyaWFudFN0b3JlJyxcclxuICAnR3JvdXBNZXRhZGF0YVN0b3JlJyxcclxuICAnTGFiZWxTdG9yZScsXHJcbiAgJ01zZ1N0b3JlJyxcclxuICAnTXNnSW5mb1N0b3JlJyxcclxuICAnTXV0ZVN0b3JlJyxcclxuICAnT3JkZXJTdG9yZScsXHJcbiAgJ1BpbkluQ2hhdFN0b3JlJyxcclxuICAnUHJlc2VuY2VTdG9yZScsXHJcbiAgJ1Byb2R1Y3RNZXNzYWdlTGlzdFN0b3JlJyxcclxuICAnUHJvZmlsZVBpY1RodW1iU3RvcmUnLFxyXG4gICdRdWlja1JlcGx5U3RvcmUnLFxyXG4gICdSZWFjdGlvbnNTdG9yZScsXHJcbiAgJ1JlY2VudEVtb2ppU3RvcmUnLFxyXG4gICdTdGF0dXNTdG9yZScsXHJcbiAgJ1N0YXR1c1YzU3RvcmUnLFxyXG4gICdTdGlja2VyU3RvcmUnLFxyXG4gICdTdGlja2VyU2VhcmNoU3RvcmUnLFxyXG5dO1xyXG5cclxuZm9yIChjb25zdCBuYW1lIG9mIHN0b3JlTmFtZXMpIHtcclxuICBjb25zdCBjb2xsZWN0aW9uTmFtZSA9IG5hbWUucmVwbGFjZSgnU3RvcmUnLCAnQ29sbGVjdGlvbicpO1xyXG4gIGV4cG9ydE1vZHVsZShcclxuICAgIGV4cG9ydHMsXHJcbiAgICB7XHJcbiAgICAgIFtuYW1lXTogWydkZWZhdWx0JywgY29sbGVjdGlvbk5hbWVdLFxyXG4gICAgfSxcclxuICAgIChtKSA9PlxyXG4gICAgICAobS5kZWZhdWx0IHx8IG1bY29sbGVjdGlvbk5hbWVdKSBpbnN0YW5jZW9mXHJcbiAgICAgIChjb2xsZWN0aW9ucyBhcyBhbnkpW2NvbGxlY3Rpb25OYW1lXVxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIFJlY2VudFN0aWNrZXJTdG9yZTogW1xyXG4gICAgICAnZGVmYXVsdCcsXHJcbiAgICAgICdSZWNlbnRTdGlja2VyQ29sbGVjdGlvbk1kJyxcclxuICAgICAgJ1JlY2VudFN0aWNrZXJDb2xsZWN0aW9uJywgLy8gQHdoYXRzYXBwID49IDIuMjIyMi44XHJcbiAgICBdLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uUmVjZW50U3RpY2tlckNvbGxlY3Rpb25cclxuKTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIFN0YXJyZWRNc2dTdG9yZTogWydkZWZhdWx0JywgJ0FsbFN0YXJyZWRNc2dzQ29sbGVjdGlvbiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uU3RhcnJlZE1zZ0NvbGxlY3Rpb25cclxuKTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIFN0aWNrZXJQYWNrU3RvcmU6IFtcclxuICAgICAgJ2RlZmF1bHQnLFxyXG4gICAgICAnU3RpY2tlclBhY2tDb2xsZWN0aW9uTWQnLFxyXG4gICAgICAnU3RpY2tlclBhY2tDb2xsZWN0aW9uJyxcclxuICAgIF0sXHJcbiAgfSxcclxuICAobSkgPT4gbS5TdGlja2VyUGFja0NvbGxlY3Rpb25cclxuKTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIE5ld3NsZXR0ZXJTdG9yZTogJ2RlZmF1bHQuTmV3c2xldHRlckNvbGxlY3Rpb24nLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uZGVmYXVsdC5OZXdzbGV0dGVyQ29sbGVjdGlvblxyXG4pO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgU3RhdHVzU3RvcmU6ICdUZXh0U3RhdHVzQ29sbGVjdGlvbicsXHJcbiAgfSxcclxuICAobSkgPT4gbS5UZXh0U3RhdHVzQ29sbGVjdGlvblxyXG4pO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgU3RhdHVzVjNTdG9yZTogWydTdGF0dXNWM0NvbGxlY3Rpb24nLCAnU3RhdHVzQ29sbGVjdGlvbiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uU3RhdHVzVjNDb2xsZWN0aW9uSW1wbCB8fCBtLlN0YXR1c0NvbGxlY3Rpb25cclxuKTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIEJsb2NrbGlzdFN0b3JlOiBbJ2RlZmF1bHQnLCAnQmxvY2tsaXN0Q29sbGVjdGlvbiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uQmxvY2tsaXN0Q29sbGVjdGlvblxyXG4pO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgUHJlc2VuY2VTdG9yZTogWydQcmVzZW5jZUNvbGxlY3Rpb25JbXBsJywgJ1ByZXNlbmNlQ29sbGVjdGlvbiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uUHJlc2VuY2VDb2xsZWN0aW9uSW1wbCB8fCBtLlByZXNlbmNlQ29sbGVjdGlvblxyXG4pO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgQ2FydFN0b3JlOiBbJ0NhcnRDb2xsZWN0aW9uSW1wbCcsICdDYXJ0Q29sbGVjdGlvbiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uQ2FydENvbGxlY3Rpb25JbXBsIHx8IG0uQ2FydENvbGxlY3Rpb25cclxuKTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIENhdGFsb2dTdG9yZTogWydDYXRhbG9nQ29sbGVjdGlvbkltcGwnLCAnQ2F0YWxvZ0NvbGxlY3Rpb24nXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLkNhdGFsb2dDb2xsZWN0aW9uSW1wbCB8fCBtLkNhdGFsb2dDb2xsZWN0aW9uXHJcbik7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBFbW9qaVZhcmlhbnRTdG9yZTogWydFbW9qaVZhcmlhbnRDb2xsZWN0aW9uSW1wbCcsICdFbW9qaVZhcmlhbnRDb2xsZWN0aW9uJ10sXHJcbiAgfSxcclxuICAobSkgPT4gbS5FbW9qaVZhcmlhbnRDb2xsZWN0aW9uSW1wbCB8fCBtLkVtb2ppVmFyaWFudENvbGxlY3Rpb25cclxuKTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIExhYmVsU3RvcmU6IFsnTGFiZWxDb2xsZWN0aW9uSW1wbCcsICdMYWJlbENvbGxlY3Rpb24nXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLkxhYmVsQ29sbGVjdGlvbkltcGwgfHwgbS5MYWJlbENvbGxlY3Rpb25cclxuKTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIE1zZ0luZm9TdG9yZTogWydNc2dJbmZvQ29sbGVjdGlvbkltcGwnLCAnTXNnSW5mb0NvbGxlY3Rpb24nXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLk1zZ0luZm9Db2xsZWN0aW9uSW1wbCB8fCBtLk1zZ0luZm9Db2xsZWN0aW9uXHJcbik7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBNdXRlU3RvcmU6IFsnTXV0ZUNvbGxlY3Rpb25JbXBsJywgJ011dGVDb2xsZWN0aW9uJ10sXHJcbiAgfSxcclxuICAobSkgPT4gbS5NdXRlQ29sbGVjdGlvbkltcGwgfHwgbS5NdXRlQ29sbGVjdGlvblxyXG4pO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgT3JkZXJTdG9yZTogWydPcmRlckNvbGxlY3Rpb25JbXBsJywgJ09yZGVyQ29sbGVjdGlvbiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uT3JkZXJDb2xsZWN0aW9uSW1wbCB8fCBtLk9yZGVyQ29sbGVjdGlvblxyXG4pO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgUGluSW5DaGF0U3RvcmU6IFsnUGluSW5DaGF0Q29sbGVjdGlvbkltcGwnLCAnUGluSW5DaGF0Q29sbGVjdGlvbiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uUGluSW5DaGF0Q29sbGVjdGlvbkltcGwgfHwgbS5QaW5JbkNoYXRDb2xsZWN0aW9uXHJcbik7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBQcm9kdWN0TWVzc2FnZUxpc3RTdG9yZTogW1xyXG4gICAgICAnUHJvZHVjdE1lc3NhZ2VMaXN0Q29sbGVjdGlvbkltcGwnLFxyXG4gICAgICAnUHJvZHVjdE1lc3NhZ2VMaXN0Q29sbGVjdGlvbicsXHJcbiAgICBdLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uUHJvZHVjdE1lc3NhZ2VMaXN0Q29sbGVjdGlvbkltcGwgfHwgbS5Qcm9kdWN0TWVzc2FnZUxpc3RDb2xsZWN0aW9uXHJcbik7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBSZWNlbnRFbW9qaVN0b3JlOiBbJ1JlY2VudEVtb2ppQ29sbGVjdGlvbkltcGwnLCAnUmVjZW50RW1vamlDb2xsZWN0aW9uJ10sXHJcbiAgfSxcclxuICAobSkgPT4gbS5SZWNlbnRFbW9qaUNvbGxlY3Rpb25JbXBsIHx8IG0uUmVjZW50RW1vamlDb2xsZWN0aW9uXHJcbik7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBTdGlja2VyU2VhcmNoU3RvcmU6IFtcclxuICAgICAgJ1N0aWNrZXJTZWFyY2hDb2xsZWN0aW9uSW1wbCcsXHJcbiAgICAgICdTdGlja2VyU2VhcmNoQ29sbGVjdGlvbicsXHJcbiAgICBdLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uU3RpY2tlclNlYXJjaENvbGxlY3Rpb25JbXBsIHx8IG0uU3RpY2tlclNlYXJjaENvbGxlY3Rpb25cclxuKTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIEJ1c2luZXNzUHJvZmlsZVN0b3JlOiBbXHJcbiAgICAgICdCdXNpbmVzc1Byb2ZpbGVDb2xsZWN0aW9uSW1wbCcsXHJcbiAgICAgICdCdXNpbmVzc1Byb2ZpbGVDb2xsZWN0aW9uJyxcclxuICAgIF0sXHJcbiAgfSxcclxuICAobSkgPT4gbS5CdXNpbmVzc1Byb2ZpbGVDb2xsZWN0aW9uSW1wbCB8fCBtLkJ1c2luZXNzUHJvZmlsZUNvbGxlY3Rpb25cclxuKTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIEJvdFByb2ZpbGVTdG9yZTogWydCb3RQcm9maWxlQ29sbGVjdGlvbiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uQm90UHJvZmlsZUNvbGxlY3Rpb25cclxuKTtcclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgUHJvZmlsZVBpY1RodW1iU3RvcmU6IFtcclxuICAgICAgJ1Byb2ZpbGVQaWNUaHVtYkNvbGxlY3Rpb24nLFxyXG4gICAgICAnUHJvZmlsZVBpY1RodW1iQ29sbGVjdGlvbkltcGwnLFxyXG4gICAgXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLlByb2ZpbGVQaWNUaHVtYkNvbGxlY3Rpb24gfHwgbS5Qcm9maWxlUGljVGh1bWJDb2xsZWN0aW9uSW1wbFxyXG4pO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgUXVpY2tSZXBseVN0b3JlOiBbJ1F1aWNrUmVwbHlDb2xsZWN0aW9uSW1wbCcsICdRdWlja1JlcGx5Q29sbGVjdGlvbiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uUXVpY2tSZXBseUNvbGxlY3Rpb25JbXBsIHx8IG0uUXVpY2tSZXBseUNvbGxlY3Rpb25cclxuKTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIE5vdGVTdG9yZTogWydOb3RlQ29sbGVjdGlvbiddLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uTm90ZUNvbGxlY3Rpb25cclxuKTtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIFJlYWN0aW9uc1N0b3JlOiBbJ1JlYWN0aW9uc0NvbGxlY3Rpb25JbXBsJywgJ1JlYWN0aW9uc0NvbGxlY3Rpb24nXSxcclxuICB9LFxyXG4gIChtKSA9PiBtLlJlYWN0aW9uc0NvbGxlY3Rpb25JbXBsIHx8IG0uUmVhY3Rpb25zQ29sbGVjdGlvblxyXG4pO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgQ2hhdFN0b3JlOiBbJ0NoYXRDb2xsZWN0aW9uJ10sXHJcbiAgfSxcclxuICAobSkgPT4gbS5DaGF0Q29sbGVjdGlvblxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDUwNDc4NCA+PSAyLjIzMDEuNlxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgV2FwTm9kZSB7XHJcbiAgcHVibGljIHRhZzogYW55O1xyXG4gIHB1YmxpYyBhdHRyczogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcclxuICBwdWJsaWMgY29udGVudDogdW5kZWZpbmVkIHwgc3RyaW5nIHwgVWludDhBcnJheSB8IFdhcE5vZGVbXTtcclxuXHJcbiAgY29uc3RydWN0b3IodGFnOiBhbnksIGF0dHJzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSwgY29udGVudD86IGFueVtdKTtcclxuXHJcbiAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgV2FwTm9kZTogJ1dhcE5vZGUnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uV2FwTm9kZVxyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdpZCB9IGZyb20gJy4uL21pc2MnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA5MTc1MDQgPj0gMi4yMzAxLjZcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIGVuc3VyZUUyRVNlc3Npb25zKHdpZDogV2lkW10pOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBlbnN1cmVFMkVTZXNzaW9uczogJ2Vuc3VyZUUyRVNlc3Npb25zJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmVuc3VyZUUyRVNlc3Npb25zXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNTA0Nzg0ID49IDIuMjMwMS42XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBnZW5lcmF0ZUlkKCk6IHN0cmluZztcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIGdlbmVyYXRlSWQ6ICdnZW5lcmF0ZUlkJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLmdlbmVyYXRlSWRcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2Vuc3VyZUUyRVNlc3Npb25zJztcclxuZXhwb3J0ICogZnJvbSAnLi9nZW5lcmF0ZUlkJztcclxuZXhwb3J0ICogZnJvbSAnLi9zZW5kU21heFN0YW56YSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc21heCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3RhcnRXZWJDb21tcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3RvcENvbW1zJztcclxuZXhwb3J0ICogZnJvbSAnLi93YXAnO1xyXG5leHBvcnQgKiBmcm9tICcuL1dhcE5vZGUnO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdhcE5vZGUgfSBmcm9tICcuLyc7XHJcblxyXG4vKipcclxuICogQHdoYXRzYXBwIDY3MjAxID49IDIuMjMwMS42XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBzZW5kU21heFN0YW56YShcclxuICBub2RlOiBXYXBOb2RlLFxyXG4gIG9wdGlvbnM/OiBhbnlcclxuKTogUHJvbWlzZTxXYXBOb2RlPjtcclxuXHJcbmV4cG9ydE1vZHVsZShcclxuICBleHBvcnRzLFxyXG4gIHtcclxuICAgIHNlbmRTbWF4U3RhbnphOiAnc2VuZFNtYXhTdGFuemEnLFxyXG4gIH0sXHJcbiAgKG0pID0+IG0uc2VuZFNtYXhTdGFuemFcclxuKTtcclxuIiwiLyohXHJcbiAqIENvcHlyaWdodCAyMDIzIFdQUENvbm5lY3QgVGVhbVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBleHBvcnRNb2R1bGUgfSBmcm9tICcuLi9leHBvcnRNb2R1bGUnO1xyXG5pbXBvcnQgeyBXYXBOb2RlIH0gZnJvbSAnLi9XYXBOb2RlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgODk4MTY1ID49IDIuMjMwMS42XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBzbWF4KFxyXG4gIHRhZzogYW55LFxyXG4gIGF0dHJzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSxcclxuICBjb250ZW50PzogYW55W10gfCBzdHJpbmcgfCBudWxsIHwgQXJyYXlCdWZmZXIgfCBVaW50OEFycmF5XHJcbik6IFdhcE5vZGU7XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBzbWF4OiAnc21heCcsXHJcbiAgfSxcclxuICAobSkgPT4gbS5zbWF4XHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNTA0Nzg0XHJcbiAqL1xyXG5leHBvcnQgZGVjbGFyZSBmdW5jdGlvbiBzdGFydFdlYkNvbW1zKCk6IFByb21pc2U8dm9pZD47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBzdGFydFdlYkNvbW1zOiAnc3RhcnRXZWJDb21tcycsXHJcbiAgfSxcclxuICAobSkgPT4gbS5zdGFydFdlYkNvbW1zXHJcbik7XHJcbiIsIi8qIVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBXUFBDb25uZWN0IFRlYW1cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhwb3J0TW9kdWxlIH0gZnJvbSAnLi4vLi4vd2hhdHNhcHAvZXhwb3J0TW9kdWxlJztcclxuXHJcbi8qKlxyXG4gKiBAd2hhdHNhcHAgNjcyMDFcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHN0b3BDb21tcygpOiBQcm9taXNlPGFueT47XHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHN0YXJ0SGFuZGxpbmdSZXF1ZXN0cygpOiBQcm9taXNlPGFueT47XHJcblxyXG5leHBvcnRNb2R1bGUoXHJcbiAgZXhwb3J0cyxcclxuICB7XHJcbiAgICBzdG9wQ29tbXM6ICdzdG9wQ29tbXMnLFxyXG4gICAgc3RhcnRIYW5kbGluZ1JlcXVlc3RzOiAnc3RhcnRIYW5kbGluZ1JlcXVlc3RzJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLnN0b3BDb21tc1xyXG4pO1xyXG4iLCIvKiFcclxuICogQ29weXJpZ2h0IDIwMjMgV1BQQ29ubmVjdCBUZWFtXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGV4cG9ydE1vZHVsZSB9IGZyb20gJy4uL2V4cG9ydE1vZHVsZSc7XHJcbmltcG9ydCB7IFdhcE5vZGUgfSBmcm9tICcuL1dhcE5vZGUnO1xyXG5cclxuLyoqXHJcbiAqIEB3aGF0c2FwcCA1MDQ3ODQgPj0gMi4yMzAxLjZcclxuICovXHJcbmV4cG9ydCBkZWNsYXJlIGZ1bmN0aW9uIHdhcChcclxuICB0YWc6IGFueSxcclxuICBhdHRycz86IHsgW2tleTogc3RyaW5nXTogYW55IH0sXHJcbiAgY29udGVudD86IGFueVtdIHwgc3RyaW5nIHwgbnVsbCB8IEFycmF5QnVmZmVyIHwgVWludDhBcnJheVxyXG4pOiBXYXBOb2RlO1xyXG5cclxuZXhwb3J0TW9kdWxlKFxyXG4gIGV4cG9ydHMsXHJcbiAge1xyXG4gICAgd2FwOiAnd2FwJyxcclxuICB9LFxyXG4gIChtKSA9PiBtLndhcFxyXG4pO1xyXG4iLCIvKiAoaWdub3JlZCkgKi8iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2luZGV4LnRzXCIpO1xuIiwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9